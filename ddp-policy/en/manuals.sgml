<chapt id="manuals">Manuals
<p>
DDP document in <strong>manuals</strong> section must follow 
the following policies.

<sect>Responsible party
<p>
There must be
a single person listed as the <em>Author</em> and optionally
a single person listed as the <em>Translator</em>.
</p>

<sect>License
<p>
All manuals of the Debian Documentation Project (DDP) must be
released under DFSG-compliant licenses, most likely GPL.
</p>
<p>
GFDL is acceptable if it does not === XXX FIXME XXX ===.
</p>

<sect>Source file format
<p>
SGML is used as the source format.  Currently, SGML format compatible
with the <package>debiandoc-sgml</package> tool chain is chosen to be the
document format. This source file format is expected to move toward
DocBook-XML in the future when infrastructures are ready.
</p>
<p>
The other options for the source file format were: 
LaTeX, HTML, texinfo, groff and several other 
minor formats.  These are not currently used in the DDP manuals.  
(This rule does not apply to other parts of the DDP.)
</p>

<sect>Published file format
<p>
We strive to publish contents in the following all 4 formats:
<list>
 <item>HTML
 <p>This is required.</p>
 <p>This allows browsing through the most popular web browser UI.</p>
 <p>Multi-file format is preferred for the fast loading page.</p>
 <item>plain text
 <p>This is required.</p>
 <p>This allows reading under any environment and easy use of "grep".</p>
 <p>Single-file format.</p>
 <item>Postscript (PS)
 <p>This is optional.</p>
 <p>This allows printing nice document under unix-like environment.</p>
 <p>Single-file format.</p>
 <item>PDF format
 <p>This is optional.</p>
 <p>This allows printing nice document even under non-unix-like environment.</p>
 <p>Single-file format.</p>
</list>

<sect>File names and their locations
<p>
In the following section, the choice of the file names and their 
locations are explained.  Here following conventions are used:

<list>
<item><tt>&manualname;</tt> is the generic name of the manual without 
language specification (it is most likely the source package name).

<item><tt>&langname;</tt>; is the language specification and uses
the same convention as the apache auto-language selection 
(<tt>en, fr, it, de, pt-br, ...</tt>).

<item><tt>&localename;</tt>; is the locale specification and uses
the same convention as the <package>glibc</package> 
(<tt>en, fr, it, de, pt_BR, ...</tt> or should be like full description
such as en_US.UTF8 . I can not find short version of 
locale "en" or "fr" anyway. === XXX FIXME XXX ===).
</list>

<sect1>Upstream SGML source
<p>
DDP run CVS server and keep upstream SGML source (or its copy).
<example>
  CVSROOT=:pserver:anonymous@cvs.debian.org:/cvs/debian-doc 
  Repository: ddp/manuals.sgml/&manualname;/
</example>
<p>
=== XXX FIXME XXX === define process to start directory
</p>

<sect1>Debian package
<p>
<list>
<item>Source package: (contains SGML source only)
<list>
<item>&packagename;_<var>version</var>_all.tar.gz
<item>&packagename;_<var>version</var>_all.dsc
</list>
or,
<list>
<item>&packagename;_<var>version</var>_all.tar.gz
<item>&packagename;_<var>version-buildversion</var>_all.diff.gz
<item>&packagename;_<var>version-buildversion</var>_all.dsc
</list>
<p>The latter format is preferred even if you are the upstream.</p>
<p>
If the source consists of multiple files, it is
encouraged to keep them in a language specific subdirectory.
</p>

<item>Binary package: (contains generated formats)
<p>
Binary package should be split into each language when packaged.

<list>
<item>&packagename;_<var>version</var>_all.deb
<p>This is a virtual package which installs packages of 
all languages.
</p>
<p>
Use of this name for the English package,
&packagename;-en_<var>version</var>_all.deb is discouraged.</p>
<item>&packagename;-&langname;_<var>version</var>_all.deb
<p>This is the actual package which installs each language.</p>
</list>

</list>

<sect1>Files installed by the Debian package (Option1)
<p>
In order to make DDP documents easy to find, use of
<tt>&filehome;/</tt> has been adopted as the central location.
Currently this file location is under discussion.

<list>
<item>Index page (optional, auto generated):
<list>
<item><tt>&filehome;/&manualname;/index.html</tt> or
<item><tt>&filehome;/&manualname;/index.&langname;.html</tt>
</list>

<item>HTML: 
<list>
<item><tt>&filehome;/&manualname;/&manualname;.&langname;.html</tt>
<item><tt>&filehome;/&manualname;/<var>ch-1</var>.&langname;.html</tt>
<item> ... (all other chapters of the document in html forms.)
</list>

<item>plain text: 
<list>
<item><tt>&filehome;/&manualname;/&manualname;.&langname;.txt.gz</tt>
<p>Compressed file to comply with the policy</p>
</list>

<item>Postscript (PS): 
<list>
<item><tt>&filehome;/&manualname;/&manualname;.&langname;.ps.gz</tt>
<p>Compressed file to comply with the policy</p>
</list>

<item>PDF: 
<list>
<item><tt>&filehome;/&manualname;/&manualname;.&langname;.pdf.gz</tt>
<p>Compressed file to comply with the policy</p>
</list>
</list>

<sect1>Files installed by the Debian package (Option2)
<p>
In order to make DDP documents easy to find, use of
<tt>&filehome;/</tt> has been adopted as the central location.
Currently this file location is under discussion.

<list>
<item>Index page (optional, auto generated): ???? === XXX FIXME XXX ===
<list>
<item><tt>&filehome;/&manualname;/index.html</tt> or
<item><tt>&filehome;/&manualname;/index.&langname;.html</tt>
</list>

<item>HTML: 
<list>
<item><tt>&filehome;/&manualname;/&langname;/html/&manualname;.html</tt>
<item><tt>&filehome;/&manualname;/&langname;/html/<var>ch-1</var>.html</tt>
<item> ... (all other chapters of the document in html forms.)
<item><tt>&dochome;/&packagename;-&langname;/html</tt> should point 
to <tt>&filehome;/&manualname;/&langname;/html/</tt> (as a symlink).
This is because we need to have (per policy) the 
<tt>&packagename;-&langname;</tt> directory if we are going to make 
packages per language.
</list>
<p>

<item>plain text: 
<list>
<item><tt>&filehome;/&manualname;/&langname;/&manualname;.txt.gz</tt>
<p>Compressed file to comply with the policy</p>
<item>Any policy required symlink ??? === XXX FIXME XXX ===
</list>

<item>Postscript (PS): 
<list>
<item><tt>&filehome;/&manualname;/&langname;/&manualname;.ps.gz</tt>
<p>Compressed file to comply with the policy</p>
<item>Any policy required symlink ??? === XXX FIXME XXX ===
</list>

<item>PDF: 
<list>
<item><tt>&filehome;/&manualname;/&langname;/&manualname;.pdf.gz</tt>
<p>Compressed file to comply with the policy</p>
<item>Any policy required symlink ??? === XXX FIXME XXX ===
</list>
</list>
<p>
Note: having <tt>&dochome;/&packagename;-&langname;/</tt> also
helps if we want to help people use locale-purge for documentation too.
(javi)
<p>
If so, we need symlink in <tt>&filehome;/</tt> while 
<tt>&dochome;/&packagename;-&langname;/</tt> should contain real files.
(osamu)
</sect1>


<sect1>Files on WWW server (DDP, CVS generated)
<p>
These are created with <tt>publish</tt> target. <tt>PUBLISHDIR</tt>
is used to locate directory to install documentation where
<tt>&httphome;/</tt> is pointing.

<list>
<item>Index page (optional, auto generated):
<list>
<item><tt>&httphome;/&manualname;/index.html</tt> or
<item><tt>&httphome;/&manualname;/index.&langname;.html</tt>
</list>

<item>HTML: 
<list>
<item><tt>&httphome;/&manualname;/&manualname;.&langname;.html</tt>
<item><tt>&httphome;/&manualname;/<var>ch-1</var>.&langname;.html</tt>
<item> ... (all other chapters of the document in html forms.)
</list>

<item>plain text: 
<list>
<item><tt>&httphome;/&manualname;/&manualname;.&langname;.txt</tt>
<p>Not-compressed file for better browser interaction</p>
</list>

<item>Postscript (PS): 
<list>
<item><tt>&httphome;/&manualname;/&manualname;.&langname;.ps</tt>
<p>Not-compressed file for better browser interaction</p>
</list>

<item>PDF: 
<list>
<item><tt>&httphome;/&manualname;/&manualname;.&langname;.pdf</tt>
<p>Not-compressed file for better browser interaction</p>
</list>
</list>

<sect1>Files on WWW server (stable version)
<p>
Stable version of documents are installed from released package 
to DDP web page with a script un-compressing files.  
=== XXX FIXME XXX === How this install be automated?

<list>
<item>Index page (optional, auto generated):
<list>
<item><tt>&httphome2;/&manualname;/index.html</tt> or
<item><tt>&httphome2;/&manualname;/index.&langname;.html</tt>
</list>

<item>HTML: 
<list>
<item><tt>&httphome2;/&manualname;/&manualname;.&langname;.html</tt>
<item><tt>&httphome2;/&manualname;/<var>ch-1</var>.&langname;.html</tt>
<item> ... (all other chapters of the document in html forms.)
</list>

<item>plain text: 
<list>
<item><tt>&httphome2;/&manualname;/&manualname;.&langname;.txt</tt>
<p>Not-compressed file for better browser interaction</p>
</list>

<item>Postscript (PS): 
<list>
<item><tt>&httphome2;/&manualname;/&manualname;.&langname;.ps</tt>
<p>Not-compressed file for better browser interaction</p>
</list>

<item>PDF: 
<list>
<item><tt>&httphome;/&manualname;/&manualname;.&langname;.pdf</tt>
<p>Not-compressed file for better browser interaction</p>
</list>
</list>

<sect1>Files on FTP server
<p>
How DDP documents are published in the FTP area (/doc) affects
Official CD-ROM ISO images.
=== XXX FIXME XXX ===  How this install from DDP be automated?
These are created with <tt>publish-ftp</tt> target in top most
<file>Makefile</file> which uses <tt>publish</tt> target in 
the subdirectories to create file in FTP area by using
proper <tt>PUBLISHDIR</tt>.
=== XXX FIXME XXX ===  this is just an idea.  Permission etc. needs to be fixed.

<list>
<item>Index page (optional, auto generated): ???? === XXX FIXME XXX ===
<list>
<item><tt>&ftphome;/&manualname;/index.html</tt> or
<item><tt>&ftphome;/&manualname;/index.&langname;.html</tt>
</list>

<item>HTML: 
<list>
<item><tt>&ftphome;/&manualname;/&langname;/html/&manualname;.html</tt>
<item><tt>&ftphome;/&manualname;/&langname;/html/<var>ch-1</var>.html</tt>
<item> ... (all other chapters of the document in html forms.)
</list>
<p>

<item>plain text: 
<list>
<item><tt>&ftphome;/&manualname;/&langname;/&manualname;.txt.gz</tt>
<p>Compressed file to comply with the policy</p>
</list>

<item>Postscript (PS): 
<list>
<item><tt>&ftphome;/&manualname;/&langname;/&manualname;.ps.gz</tt>
<p>Compressed file to comply with the policy</p>
</list>

<item>PDF: 
<list>
<item><tt>&ftphome;/&manualname;/&langname;/&manualname;.pdf.gz</tt>
<p>Compressed file to comply with the policy</p>
</list>
</list>

</sect1>
</sect>

<sect>Best practices
<p>
This section describes few recommended practices but these are not an
enforced part of the DDP policy.

<sect1>index.html
<p>
Currently, many generated HTML files still create index.html or 
index.&langname;.html as the starting page but these are discouraged 
practices since they hide other files.
</p>

<sect1>Debian web page entry style
<p>
<file>user-manuals.wml</file> entry shall be:
<example>
&lt;dl&gt;
   &lt;dt&gt;English&lt;/dt&gt;
   &lt;dd&gt;&lt;a href="..."&gt;HTML&lt;/a&gt;, 
       &lt;a href="..."&gt;plain text&lt;/a&gt;,
       &lt;a href="..."&gt;PS&lt;/a&gt;, 
       &lt;a href="..."&gt;PDF&lt;/a&gt;
   ...
&lt;/dl&gt;
</example>
</>

<sect1>TEX
<p>
In order to reliably produce PS and PDF files, texmf/texmf.conf 
must be provided by the SGML package and Makefile has to use it through 
environment variable "export TEXMFCNF=texmf/".
</p>
