# SOME DESCRIPTIVE TITLE
# Copyright (C) YEAR Free Software Foundation, Inc.
# This file is distributed under the same license as the PACKAGE package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: PACKAGE VERSION\n"
"POT-Creation-Date: 2013-02-12 15:38-0400\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: \n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#. type: definition of entity &language;
#, no-wrap
msgid "en"
msgstr ""

#. type: definition of entity &docdate;
#, no-wrap
msgid "Tue, 12 Feb 2013 15:38:12 -0400"
msgstr ""

#. type: definition of entity &docversion;
#, no-wrap
msgid "CVS"
msgstr ""

#. type: definition of entity &bookname;
#, no-wrap
msgid "Anleitung zum Absichern von Debian"
msgstr ""

#. type: definition of entity &version;
#, no-wrap
msgid "Version: 3.11"
msgstr ""

#. type: definition of entity &bookname;
#, no-wrap
msgid "Manual de Seguridad de Debian"
msgstr ""

#. type: definition of entity &version;
#, no-wrap
msgid "Version: 2.4 (revisión de traducción 3)"
msgstr ""

#. type: definition of entity &bookname;
#, no-wrap
msgid "Manuel de sécurisation de Debian"
msgstr ""

#. type: definition of entity &version;
#, no-wrap
msgid "Version: 3.4"
msgstr ""

#. type: definition of entity &bookname;
#:     
#, no-wrap
msgid "Securing Debian Manual"
msgstr ""

#. type: definition of entity &version;
#, no-wrap
msgid "Version: 3.13"
msgstr ""

#. type: definition of entity &version;
#, no-wrap
msgid "v3.1"
msgstr ""

#. type: definition of entity &version;
#, no-wrap
msgid "v1.1"
msgstr ""

#. type: definition of entity &version;
#, no-wrap
msgid "v3.2"
msgstr ""

#. type: definition of entity &bookid;
#, no-wrap
msgid "HOWTO-Secure-Debian"
msgstr ""

#. type: definition of entity &version;
#, no-wrap
msgid "Version: 3.16"
msgstr ""

#. type: definition of entity &gplhome;
#, no-wrap
msgid "http://www.gnu.org/copyleft/gpl.html"
msgstr ""

#. type: definition of entity &gplhomev2;
#, no-wrap
msgid "http://www.gnu.org/licenses/old-licenses/gpl-2.0.html"
msgstr ""

#. type: definition of entity &dochome;
#, no-wrap
msgid "/usr/share/doc"
msgstr ""

#. type: definition of entity &filehome;
#, no-wrap
msgid "&dochome;/Debian"
msgstr ""

#. type: definition of entity &httphome;
#, no-wrap
msgid "http://www.debian.org/doc/manuals"
msgstr ""

#. type: definition of entity &httphome2;
#, no-wrap
msgid "http://www.debian.org/manuals"
msgstr ""

#. type: definition of entity &ftphome;
#, no-wrap
msgid "ftp://www.debian.org/doc"
msgstr ""

#. type: definition of entity &cdromhome;
#, no-wrap
msgid "/doc"
msgstr ""

#. type: definition of entity &manualname;
#, no-wrap
msgid "<var>manualname</var>"
msgstr ""

#. type: definition of entity &packagename;
#, no-wrap
msgid "<var>packagename</var>"
msgstr ""

#. type: definition of entity &langname;
#, no-wrap
msgid "<var>LANG</var>"
msgstr ""

#. type: definition of entity &localename;
#, no-wrap
msgid "<var>LOCALE</var>"
msgstr ""

#. type: definition of entity &debiandoc2xml;
#, no-wrap
msgid "http://lists.debian.org/debian-doc/2002/debian-doc-200209/msg00094.html"
msgstr ""

#. type: definition of entity &authorname;
#, no-wrap
msgid "Javier Fern&aacute;ndez-Sanguino Pe&ntilde;a"
msgstr ""

#. type: definition of entity &authoremail;
#, no-wrap
msgid "jfs@debian.org"
msgstr ""

#. type: <author></author>
#: securing-debian-howto.en.sgml:46 en/titletoc.sgml:7
msgid "<name>&authorname;</name><email>&authoremail;</email>"
msgstr ""

#. type: <version></version>
#: securing-debian-howto.en.sgml:46 en/titletoc.sgml:13
msgid "&version;, built on &docdate;"
msgstr ""

#. type: <abstract></abstract>
#: securing-debian-howto.en.sgml:46 en/titletoc.sgml:25
msgid ""
"This document describes security in the Debian project and in the Debian "
"operating system. Starting with the process of securing and hardening the "
"default Debian GNU/Linux distribution installation, it also covers some of "
"the common tasks to set up a secure network environment using Debian "
"GNU/Linux, gives additional information on the security tools available and "
"talks about how security is enforced in Debian by the security and audit "
"team."
msgstr ""

#. type: <copyrightsummary></copyrightsummary>
#: securing-debian-howto.en.sgml:47 en/copyleft.sgml:4
msgid "Copyright &copy; 2002-2013 Javier Fernández-Sanguino Peña"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:47 en/copyleft.sgml:6
msgid "Copyright &copy; 2001 Alexander Reelsen, Javier Fernández-Sanguino Peña"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:47 en/copyleft.sgml:7
msgid "Copyright &copy; 2000 Alexander Reelsen"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:47 en/copyleft.sgml:10
msgid ""
"Some sections are copyright &copy; their respective authors, for details "
"please refer to <ref id=\"credits\">."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:47 en/copyleft.sgml:16
msgid ""
"Permission is granted to copy, distribute and/or modify this document under "
"the terms of the <url id=\"&gplhomev2;\" name=\"GNU General Public License, "
"Version 2\"> or any <url id=\"&gplhome;\" name=\"later version\"> published "
"by the Free Software Foundation. It is distributed in the hope that it will "
"be useful, but WITHOUT ANY WARRANTY."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:47 en/copyleft.sgml:20
msgid ""
"Permission is granted to make and distribute verbatim copies of this "
"document provided the copyright notice and this permission notice are "
"preserved on all copies."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:47 en/copyleft.sgml:25
msgid ""
"Permission is granted to copy and distribute modified versions of this "
"document under the conditions for verbatim copying, provided that the entire "
"resulting derived work is distributed under the terms of a permission notice "
"identical to this one."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:47 en/copyleft.sgml:31
msgid ""
"Permission is granted to copy and distribute translations of this document "
"into another language, under the above conditions for modified versions, "
"except that this permission notice may be included in translations approved "
"by the Free Software Foundation instead of in the original English."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:4 securing-debian-howto.en.sgml:61 en/appendix.sgml:1812
msgid "Introduction"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:16
msgid ""
"One of the hardest things about writing security documents is that every "
"case is unique. Two things you have to pay attention to are the threat "
"environment and the security needs of the individual site, host, or "
"network. For instance, the security needs of a home user are completely "
"different from a network in a bank. While the primary threat a home user "
"needs to face is the script kiddie type of cracker, a bank network has to "
"worry about directed attacks. Additionally, the bank has to protect their "
"customer's data with arithmetic precision. In short, every user has to "
"consider the trade-off between usability and security/paranoia."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:26
msgid ""
"Note that this manual only covers issues relating to software. The best "
"software in the world can't protect you if someone can physically access the "
"machine. You can place it under your desk, or you can place it in a hardened "
"bunker with an army in front of it. Nevertheless the desktop computer can be "
"much more secure (from a software point of view) than a physically protected "
"one if the desktop is configured properly and the software on the protected "
"machine is full of security holes. Obviously, you must consider both issues."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:43
msgid ""
"This document just gives an overview of what you can do to increase the "
"security of your Debian GNU/Linux system. If you have read other documents "
"regarding Linux security, you will find that there are common issues which "
"might overlap with this document. However, this document does not try to be "
"the ultimate source of information you will be using, it only tries to adapt "
"this same information so that it is meaningful to a Debian GNU/Linux "
"system. Different distributions do some things in different ways (startup of "
"daemons is one example); here, you will find material which is appropriate "
"for Debian's procedures and tools."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:45
msgid "Authors"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:50
msgid ""
"The current maintainer of this document is <url id=\"mailto:jfs@debian.org\" "
"name=\"Javier Fernández-Sanguino Peña\">. Please forward him any comments, "
"additions or suggestions, and they will be considered for inclusion in "
"future releases of this manual."
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:60
msgid ""
"This manual was started as a <em>HOWTO</em> by <url id=\"mailto:ar@rhwd.de\" "
"name=\"Alexander Reelsen\">. After it was published on the Internet, <url "
"id=\"mailto:jfs@debian.org\" name=\"Javier Fernández-Sanguino Peña\"> "
"incorporated it into the <url id=\"http://www.debian.org/doc\" name=\"Debian "
"Documentation Project\">. A number of people have contributed to this manual "
"(all contributions are listed in the changelog) but the following deserve "
"special mention since they have provided significant contributions (full "
"sections, chapters or appendices):"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:62
msgid "Stefano Canepa"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:63
msgid "Era Eriksson"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:64
msgid "Carlo Perassi"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:65
msgid "Alexandre Ratti"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:66
msgid "Jaime Robles"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:67
msgid "Yotam Rubin"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:68
msgid "Frederic Schutz"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:69
msgid "Pedro Zorzenon Neto"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:70
msgid "Oohara Yuuma"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:71
msgid "Davor Ocelic"
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:74
msgid "Where to get the manual (and available formats)"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:87
msgid ""
"You can download or view the latest version of the Securing Debian Manual "
"from the <url "
"id=\"http://www.debian.org/doc/manuals/securing-debian-howto/\" "
"name=\"Debian Documentation Project\">. If you are reading a copy from "
"another site, please check the primary copy in case it provides new "
"information. If you are reading a translation, please review the version the "
"translation refers to to the latest version available. If you find that the "
"version is behind please consider using the original copy or review the <ref "
"id=\"changelog\"> to see what has changed."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:97
msgid ""
"If you want a full copy of the manual you can either download the <url "
"id=\"http://www.debian.org/doc/manuals/securing-debian-howto/securing-debian-howto.en.txt\" "
"name=\"text version\"> or the <url "
"id=\"http://www.debian.org/doc/manuals/securing-debian-howto/securing-debian-howto.en.pdf\" "
"name=\"PDF version\"> from the Debian Documentation Project's site. These "
"versions might be more useful if you intend to copy the document over to a "
"portable device for offline reading or you want to print it out. Be "
"forewarned, the manual is over two hundred pages long and some of the code "
"fragments, due to the formatting tools used, are not wrapped in the PDF "
"version and might be printed incomplete."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:103
msgid ""
"The document is also provided in text, html and PDF formats in the <url "
"id=\"http://packages.debian.org/harden-doc\" name=\"harden-doc\"> "
"package. Notice, however, that the package maybe not be completely up to "
"date with the document provided on the Debian site (but you can always use "
"the source package to build an updated version yourself)."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:113
msgid ""
"This document is part of the documents distributed by the <url "
"id=\"https://alioth.debian.org/projects/ddp/\" name=\"Debian Documentation "
"Project\">. You can review the changes introduced in the document using a "
"web browser and obtaining information from the <url "
"id=\"http://anonscm.debian.org/viewvc/ddp/manuals/trunk/securing-howto\" "
"name=\"version control logs online\">. You can also checkout the code using "
"SVN with the following call in the command line:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:115
#, no-wrap
msgid "svn co svn://svn.debian.org/svn/ddp/manuals/trunk/securing-howto/"
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:118
msgid "Organizational notes/feedback"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:125
msgid ""
"Now to the official part. At the moment I (Alexander Reelsen) wrote most "
"paragraphs of this manual, but in my opinion this should not stay the "
"case. I grew up and live with free software, it is part of my everyday use "
"and I guess yours, too. I encourage everybody to send me feedback, hints, "
"additions or any other suggestions you might have."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:132
msgid ""
"If you think, you can maintain a certain section or paragraph better, then "
"write to the document maintainer and you are welcome to do it. Especially if "
"you find a section marked as FIXME, that means the authors did not have the "
"time yet or the needed knowledge about the topic. Drop them a mail "
"immediately."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:136
msgid ""
"The topic of this manual makes it quite clear that it is important to keep "
"it up to date, and you can do your part. Please contribute."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:137
msgid "Prior knowledge"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:148
msgid ""
"The installation of Debian GNU/Linux is not very difficult and you should "
"have been able to install it. If you already have some knowledge about Linux "
"or other Unices and you are a bit familiar with basic security, it will be "
"easier to understand this manual, as this document cannot explain every "
"little detail of a feature (otherwise this would have been a book instead of "
"a manual). If you are not that familiar, however, you might want to take a "
"look at <ref id=\"references\"> for where to find more in-depth information."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:150
msgid "Things that need to be written (FIXME/TODO)"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:157
msgid ""
"This section describes all the things that need to be fixed in this "
"manual. Some paragraphs include <em>FIXME</em> or <em>TODO</em> tags "
"describing what content is missing (or what kind of work needs to be "
"done). The purpose of this section is to describe all the things that could "
"be included in the future in the manual, or enhancements that need to be "
"done (or would be interesting to add)."
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:162
msgid ""
"If you feel you can provide help in contributing content fixing any element "
"of this list (or the inline annotations), contact the main author (<ref "
"id=\"authors\">)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:168
msgid ""
"This document has yet to be updated based on the latest Debian releases. The "
"default configuration of some packages need to be adapted as they have been "
"modified since this document was written."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:172
msgid ""
"Expand the incident response information, maybe add some ideas derived from "
"Red Hat's Security Guide's <url "
"id=\"http://www.redhat.com/docs/manuals/linux/RHL-9-Manual/security-guide/ch-response.html\" "
"name=\"chapter on incident response\">."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:177
msgid ""
"Write about remote monitoring tools (to check for system availability) such "
"as <package>monit</package>, <package>daemontools</package> and "
"<package>mon</package>. See <url "
"id=\"http://linux.oreillynet.com/pub/a/linux/2002/05/09/sysadminguide.html\">."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:181
msgid ""
"Consider writing a section on how to build Debian-based network appliances "
"(with information such as the base system, <package>equivs</package> and "
"FAI)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:185
msgid ""
"Check if <url "
"id=\"http://www.giac.org/practical/gsec/Chris_Koutras_GSEC.pdf\"> has "
"relevant info not yet covered here."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:188
msgid ""
"Add information on how to set up a laptop with Debian <url "
"id=\"http://www.giac.org/practical/gcux/Stephanie_Thomas_GCUX.pdf\">."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:193
msgid ""
"Add information on how to set up a firewall using Debian GNU/Linux. The "
"section regarding firewalling is oriented currently towards a single system "
"(not protecting others...) also talk on how to test the setup."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:205
msgid ""
"Add information on setting up a proxy firewall with Debian GNU/Linux stating "
"specifically which packages provide proxy services (like "
"<package>xfwp</package>, <package>ftp-proxy</package>, "
"<package>redir</package>, <package>smtpd</package>, <package>dnrd</package>, "
"<package>jftpgw</package>, <package>oops</package>, "
"<package>pdnsd</package>, <package>perdition</package>, "
"<package>transproxy</package>, <package>tsocks</package>). Should point to "
"the manual for any other info. Note that <package>zorp</package> is now "
"available as a Debian package and <em>is</em> a proxy firewall (they also "
"provide Debian packages upstream)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:207
msgid "Information on service configuration with file-rc."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:209
msgid "Check all the reference URLs and remove/fix those no longer available."
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:211
msgid ""
"Add information on available replacements (in Debian) for common servers "
"which are useful for limited functionality. Examples:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:213
msgid "local lpr with cups (package)?"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:214
msgid "remote lrp with lpr"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:215
msgid "bind with dnrd/maradns"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:216
msgid "apache with dhttpd/thttpd/wn (tux?)"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:217
msgid "exim/sendmail with ssmtpd/smtpd/postfix"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:218
msgid "squid with tinyproxy"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:219
msgid "ftpd with oftpd/vsftp"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:220
msgid "..."
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:225
msgid ""
"More information regarding security-related kernel patches in Debian, "
"including the ones shown above and specific information on how to enable "
"these patches in a Debian system."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:227
msgid "Linux Intrusion Detection (<package>kernel-patch-2.4-lids</package>)"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:228
msgid "Linux Trustees (in package <package>trustees</package>)"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:230
msgid "<package>linux-patch-openswan</package>"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:236
msgid ""
"Details of turning off unnecessary network services (besides "
"<prgn>inetd</prgn>), it is partly in the hardening procedure but could be "
"broadened a bit."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:239
msgid "Information regarding password rotation which is closely related to policy."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:241
msgid "Policy, and educating users about policy."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:243
msgid "More about tcpwrappers, and wrappers in general?"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:245
msgid "<file>hosts.equiv</file> and other major security holes."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:247
msgid "Issues with file sharing servers such as Samba and NFS?"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:249
msgid "suidmanager/dpkg-statoverrides."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:251
msgid "lpr and lprng."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:253
msgid "Switching off the GNOME IP things."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:259
msgid ""
"Talk about pam_chroot (see <url "
"id=\"http://lists.debian.org/debian-security/2002/debian-security-200205/msg00011.html\">) "
"and its usefulness to limit users. Introduce information related to <url "
"id=\"http://online.securityfocus.com/infocus/1575\">. "
"<package>pdmenu</package>, for example is available in Debian (whereas flash "
"is not)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:266
msgid ""
"Talk about chrooting services, some more info on <url "
"id=\"http://www.linuxfocus.org/English/January2002/article225.shtml\">."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:282
msgid ""
"Talk about programs to make chroot jails. <package>compartment</package> and "
"<package>chrootuid</package> are waiting in incoming. Some others (makejail, "
"jailer) could also be introduced."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:285
msgid ""
"More information regarding log analysis software (i.e. logcheck and "
"logcolorise)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:287
msgid "'advanced' routing (traffic policing is security related)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:289
msgid "limiting <prgn>ssh</prgn> access to running certain commands."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:291
msgid "using dpkg-statoverride."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:293
msgid "secure ways to share a CD burner among users."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:297
msgid ""
"secure ways of providing networked sound in addition to network display "
"capabilities (so that X clients' sounds are played on the X server's sound "
"hardware)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:299
msgid "securing web browsers."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:301
msgid "setting up ftp over <prgn>ssh</prgn>."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:303
msgid "using crypto loopback file systems."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:305
msgid "encrypting the entire file system."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:307
msgid "steganographic tools."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:309
msgid "setting up a PKA for an organization."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:312
msgid ""
"using LDAP to manage users. There is a HOWTO of ldap+kerberos for Debian at "
"<url id=\"http://www.bayour.com\"> written by Turbo Fredrikson."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:315
msgid ""
"How to remove information of reduced utility in production systems such as "
"<file>/usr/share/doc</file>, <file>/usr/share/man</file> (yes, security by "
"obscurity)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:322
msgid ""
"More information on lcap based on the packages README file (well, not there "
"yet, see <url id=\"http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=169465\" "
"name=\"Bug #169465\">) and from the article from LWN: <url "
"id=\"http://lwn.net/1999/1202/kernel.php3\" name=\"Kernel development\">."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:325
msgid ""
"Add Colin's article on how to setup a chroot environment for a full sid "
"system (<url id=\"http://people.debian.org/~walters/chroot.html\">)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:328
msgid ""
"Add information on running multiple <prgn>snort</prgn> sensors in a given "
"system (check bug reports sent to <package>snort</package>)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:330
msgid "Add information on setting up a honeypot (<package>honeyd</package>)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:333
msgid ""
"Describe situation wrt to FreeSwan (orphaned) and OpenSwan. VPN section "
"needs to be rewritten."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:336
msgid ""
"Add a specific section about databases, current installation defaults and "
"how to secure access."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:338
msgid "Add a section about the usefulness of virtual servers (Xen et al)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:342
msgid ""
"Explain how to use some integrity checkers (AIDE, integrit or samhain). The "
"basics are simple and could even explain some configuration improvements."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:346
msgid "Changelog/History"
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:348
msgid "Version 3.16 (January 2013)"
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:350 securing-debian-howto.en.sgml:49 en/intro.sgml:381 securing-debian-howto.en.sgml:49 en/intro.sgml:391 securing-debian-howto.en.sgml:49 en/intro.sgml:405 securing-debian-howto.en.sgml:49 en/intro.sgml:422 securing-debian-howto.en.sgml:49 en/intro.sgml:486 securing-debian-howto.en.sgml:49 en/intro.sgml:503 securing-debian-howto.en.sgml:49 en/intro.sgml:524 securing-debian-howto.en.sgml:49 en/intro.sgml:541 securing-debian-howto.en.sgml:49 en/intro.sgml:551 securing-debian-howto.en.sgml:49 en/intro.sgml:597 securing-debian-howto.en.sgml:49 en/intro.sgml:619 securing-debian-howto.en.sgml:49 en/intro.sgml:640 securing-debian-howto.en.sgml:49 en/intro.sgml:655 securing-debian-howto.en.sgml:49 en/intro.sgml:684 securing-debian-howto.en.sgml:49 en/intro.sgml:700 securing-debian-howto.en.sgml:49 en/intro.sgml:708 securing-debian-howto.en.sgml:49 en/intro.sgml:735 securing-debian-howto.en.sgml:49 en/intro.sgml:743 securing-debian-howto.en.sgml:49 en/intro.sgml:772 securing-debian-howto.en.sgml:49 en/intro.sgml:779 securing-debian-howto.en.sgml:49 en/intro.sgml:791 securing-debian-howto.en.sgml:49 en/intro.sgml:1095 securing-debian-howto.en.sgml:49 en/intro.sgml:1101 securing-debian-howto.en.sgml:49 en/intro.sgml:1118 securing-debian-howto.en.sgml:49 en/intro.sgml:1128 securing-debian-howto.en.sgml:49 en/intro.sgml:1140 securing-debian-howto.en.sgml:49 en/intro.sgml:1220 securing-debian-howto.en.sgml:49 en/intro.sgml:1232 securing-debian-howto.en.sgml:49 en/intro.sgml:1238 securing-debian-howto.en.sgml:49 en/intro.sgml:1245 securing-debian-howto.en.sgml:49 en/intro.sgml:1258 securing-debian-howto.en.sgml:49 en/intro.sgml:1268 securing-debian-howto.en.sgml:49 en/intro.sgml:1279 securing-debian-howto.en.sgml:49 en/intro.sgml:1288 securing-debian-howto.en.sgml:49 en/intro.sgml:1302 securing-debian-howto.en.sgml:49 en/intro.sgml:1316 securing-debian-howto.en.sgml:49 en/intro.sgml:1336 securing-debian-howto.en.sgml:49 en/intro.sgml:1360 securing-debian-howto.en.sgml:49 en/intro.sgml:1367
msgid "Changes by Javier Fernández-Sanguino Peña."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:354
msgid "Indicate that the document is not updated with latest versions."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:356
msgid "Update pointers to current location of sources."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:358
msgid "Update information on security updates for newer releases."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:361
msgid ""
"Point information for Developers to online sources instead of keeping the "
"information in the document, to prevent duplication."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:364
msgid ""
"Extend the information regarding securing console access, including limiting "
"the Magic SysRq key."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:368
msgid ""
"Update the information related to PAM modules including how to restrict "
"console logins, use cracklib and use the features avialable in "
"/etc/pam.d/login. Remove the references to obsolete variables in "
"/etc/login.defs."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:371
msgid ""
"Reference some of the PAM modules available to use double factor "
"authentication, for administrators that want to stop using passwords "
"altogether."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:373
msgid "Fix shell script example in Appendix."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:375
msgid "Fix reference errors."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:379
msgid "Version 3.15 (December 2010)"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:385
msgid "Change reference to Log Analysis' website as this is no longer available."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:389
msgid "Version 3.14 (March 2009)"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:396
msgid ""
"Change the section related to choosing a filesystem: note that ext3 is now "
"the default."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:399
msgid ""
"Change the name of the packages related to enigmail to reflect naming "
"changes introduced in Debian."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:403
msgid "Version 3.13 (Februrary 2008)"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:410
msgid ""
"Change URLs pointing to Bastille Linux since the domain has been <url "
"id=\"http://www.bastille-unix.org/press-release-newname.html\" "
"name=\"purchased by a cybersquatter\">."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:412
msgid "Fix pointers to Linux Ramen and Lion worms."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:414
msgid "Use linux-image in the examples instead of the (old) kernel-image packages."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:416
msgid "Fix typos spotted by Francesco Poli."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:420
msgid "Version 3.12 (August 2007)"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:428
msgid ""
"Update the information related to security updates. Drop the text talking "
"about Tiger and include information on the update-notifier and adept tools "
"(for Desktops) as well as debsecan. Also include some pointers to other "
"tools available."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:430
msgid ""
"Divide the firewall applications based on target users and add fireflier to "
"the Desktop firewall applications list."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:433
msgid ""
"Remove references to libsafe, it's not in the archive any longer (was "
"removed January 2006)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:435
msgid "Fix the location of syslog's configuration, thanks to John Talbut."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:439
msgid "Version 3.11 (January 2007)"
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:442
msgid ""
"Changes by Javier Fernández-Sanguino Peña. Thanks go to Francesco Poli for "
"his extensive review of the document."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:447
msgid ""
"Remove most references to the woody release as it is no longer available (in "
"the archive) and security support for it is no longer available."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:448
msgid "Describe how to restrict users so that they can only do file transfers."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:449
msgid "Added a note regarding the debian-private declasiffication decision."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:450
msgid "Updated link of incident handling guides."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:452
msgid ""
"Added a note saying that development tools (compilers, etc.) are not "
"installed now in the default 'etch' installation."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:453
msgid "Fix references to the master security server."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:454
msgid "Add pointers to additional APT-secure documentation."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:455
msgid "Improve the description of APT signatures."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:457
msgid ""
"Comment out some things which are not yet final related to the mirror's "
"official public keys."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:458
msgid "Fixed name of the Debian Testing Security Team."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:459
msgid "Remove reference to sarge in an example."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:461
msgid ""
"Update the antivirus section, clamav is now available on the release. Also "
"mention the f-prot installer."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:462
msgid "Removes all references to freeswan as it is obsolete."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:464
msgid ""
"Describe issues related to ruleset changes to the firewall if done remotely "
"and provide some tips (in footnotes)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:466
msgid ""
"Update the information related to the IDS installation, mention BASE and the "
"need to setup a logging database."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:469
msgid ""
"Rewrite the \"running bind as a non-root user\" section as this no longer "
"applies to Bind9. Also remove the reference to the init.d script since the "
"changes need to be done through /etc/default."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:471
msgid ""
"Remove the obsolete way to setup iptables rulesets as woody is no longer "
"supported."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:473
msgid ""
"Revert the advice regarding LOG_UNKFAIL_ENAB it should be set to 'no' (as "
"per default)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:476
msgid ""
"Added more information related to updating the system with desktop tools "
"(including update-notifier) and describe aptitude usage to update the "
"system. Also note that dselect is deprecated."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:477
msgid "Updated the contents of the FAQ and remove redundant paragraphs."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:479
msgid "Review and update the section related to forensic analysis of malware."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:480
msgid "Remove or fix some dead links."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:482
msgid "Fix many typos and gramatical errors reported by Francesco Poli."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:485
msgid "Version 3.10 (November 2006)"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:490
msgid "Provide examples using apt-cache's rdepends as suggested by Ozer Sarilar."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:493
msgid ""
"Fix location of Squid's user's manual because of its relocation as notified "
"by Oskar Pearson (its maintainer)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:498
msgid ""
"Fix information regarding umask, it's logins.defs (and not limits.conf) "
"where this can be configured for all login connections. Also state what is "
"Debian's default and what would be a more restrictive value for both users "
"and root. Thanks to Reinhard Tartler for spotting the bug."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:501
msgid "Version 3.9 (October 2006)"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:508
msgid ""
"Add information on how to track security vulnerabilities and add references "
"to the Debian Testing Security Tracker."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:510
msgid "Add more information on the security support for testing."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:512
msgid "Fix a large number of typos with a patch provided by Simon Brandmair."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:515
msgid ""
"Added section on how to disable root prompt on initramfs provided by Max "
"Attems."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:517
msgid "Remove references to queso."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:519
msgid "Note that testing is now security-supported in the introduction."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:522
msgid "Version 3.8 (July 2006)"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:530
msgid ""
"Rewrote the information on how to setup ssh chroots to clarify the different "
"options available, thank to Bruce Park for bringing up the different "
"mistakes in this appendix."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:532
msgid "Fix lsof call as suggested by Christophe Sahut."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:534
msgid "Include patches for typo fixes from Uwe Hermann."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:536
msgid "Fix typo in reference spotted by Moritz Naumann."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:539
msgid "Version 3.7 (April 2006)"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:544
msgid "Add a section on Debian Developer's best practices for security."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:546
msgid "Ammended firewall script with comments from WhiteGhost."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:549
msgid "Version 3.6 (March 2006)"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:556
msgid ""
"Included a patch from Thomas Sjögren which describes that <tt>noexec</tt> "
"works as expected with \"new\" kernels, adds information regarding tempfile "
"handling, and some new pointers to external documentation."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:560
msgid ""
"Add a pointer to Dan Farmer's and Wietse Venema's forensic discovery web "
"site, as suggested by Freek Dijkstra, and expanded a little bit the forensic "
"analysis section with more pointers."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:562
msgid "Fixed URL of Italy's CERT, thanks to Christoph Auer."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:565
msgid ""
"Reuse Joey Hess' information at the wiki on secure apt and introduce it in "
"the infrastructure section."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:567
msgid "Review sections referring to old versions (woody or potato)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:569
msgid "Fix some cosmetic issues with patch from Simon Brandmair."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:575
msgid ""
"Included patches from Carlo Perassi: acl patches are obsolete, openwall "
"patches are obsolete too, removed fixme notes about 2.2 and 2.4 series "
"kernels, hap is obsolete (and not present in WNPP), remove references to "
"Immunix (StackGuard is now in Novell's hands), and fix a FIXME about the use "
"of bsign or elfsign."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:578
msgid ""
"Updated references to SElinux web pages to point to the Wiki (currently the "
"most up to date source of information)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:581
msgid ""
"Include file tags and make a more consistent use of \"MD5 sum\" with a patch "
"from Jens Seidel."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:584
msgid ""
"Patch from Joost van Baal improving the information on the firewall section "
"(pointing to the wiki instead of listing all firewall packages available) "
"(Closes: #339865)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:587
msgid ""
"Review the FAQ section on vulnerability stats, thanks to Carlos Galisteo de "
"Cabo for pointing out that it was out of date."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:590
msgid ""
"Use the quote from the Social Contract 1.1 instead of 1.0 as suggested by "
"Francesco Poli."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:595
msgid "Version 3.5 (November 2005)"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:602
msgid ""
"Note on the SSH section that the chroot will not work if using the nodev "
"option in the partition and point to the latest ssh packages with the chroot "
"patch, thanks to Lutz Broedel for pointing these issues out."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:604
msgid ""
"Fix typo spotted by Marcos Roberto Greiner (md5sum should be sha1sum in code "
"snippet)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:606
msgid "Included Jens Seidel's patch fixing a number of package names and typos."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:609
msgid ""
"Slightly update of the tools section, removed tools no longer available and "
"added some new ones."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:614
msgid ""
"Rewrite parts of the section related to where to find this document and what "
"formats are available (the website does provide a PDF version). Also note "
"that copies on other sites and translations might be obsolete (many of the "
"Google hits for the manual in other sites are actually out of date)."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:617
msgid "Version 3.4 (August-September 2005)"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:625
msgid ""
"Improved the after installation security enhancements related to kernel "
"configuration for network level protection with a sysctl.conf file provided "
"by Will Moy."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:627
msgid "Improved the gdm section, thanks to Simon Brandmair."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:629
msgid "Typo fixes from Frédéric Bothamy and Simon Brandmair."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:632
msgid ""
"Improvements in the after installation sections related to how to generate "
"the MD5 (or SHA-1) sums of binaries for periodic review."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:635
msgid ""
"Updated the after installation sections regarding checksecurity "
"configuration (was out of date)."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:638
msgid "Version 3.3 (June 2005)"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:645
msgid ""
"Added a code snippet to use grep-available to generate the list of packages "
"depending on Perl. As requested in #302470."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:648
msgid ""
"Rewrite of the section on network services (which ones are installed and how "
"to disable them)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:651
msgid ""
"Added more information to the honeypot deployment section mentioning useful "
"Debian packages."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:654
msgid "Version 3.2 (March 2005)"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:657
msgid "Expanded the PAM configuration limits section."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:659
msgid ""
"Added information on how to use pam_chroot for openssh (based on "
"pam_chroot's README)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:660
msgid "Fixed some minor issues reported by Dan Jacobson."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:663
msgid ""
"Updated the kernel patches information partially based on a patch from Carlo "
"Perassi and also by adding deprecation notes and new kernel patches "
"available (adamantix)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:665
msgid ""
"Included patch from Simon Brandmair that fixes a sentence related to login "
"failures in terminal."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:667
msgid ""
"Added Mozilla/Thunderbird to the valid GPG agents as suggested by Kapolnai "
"Richard."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:669
msgid ""
"Expanded the section on security updates mentioning library and kernel "
"updates and how to detect when services need to be restarted."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:673
msgid ""
"Rewrote the firewall section, moved the information that applies to woody "
"down and expand the other sections including some information on how to "
"manually set the firewall (with a sample script) and how to test the "
"firewall configuration."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:674
msgid "Added some information preparing for the 3.1 release."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:676
msgid ""
"Added more detailed information on kernel upgrades, specifically targeted at "
"those that used the old installation system."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:679
msgid ""
"Added a small section on the experimental apt 0.6 release which provides "
"package signing checks. Moved old content to the section and also added a "
"pointer to changes made in aptitude."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:680
msgid "Typo fixes spotted by Frédéric Bothamy."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:683
msgid "Version 3.1 (January 2005)"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:686
msgid "Added clarification to ro /usr with patch from Joost van Baal."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:687
msgid "Apply patch from Jens Seidel fixing many typos."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:688
msgid "FreeSWAN is dead, long live OpenSWAN."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:690
msgid ""
"Added information on restricting access to RPC services (when they cannot be "
"disabled) also included patch provided by Aarre Laakso."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:691
msgid "Update aj's apt-check-sigs script."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:692
msgid "Apply patch Carlo Perassi fixing URLs."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:694
msgid ""
"Apply patch from Davor Ocelic fixing many errors, typos, urls, grammar and "
"FIXMEs. Also adds some additional information to some sections."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:696
msgid ""
"Rewrote the section on user auditing, highlight the usage of script which "
"does not have some of the issues associated to shell history."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:699
msgid "Version 3.0 (December 2004)"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:703
msgid ""
"Rewrote the user-auditing information and include examples on how to use "
"script."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:707
msgid "Version 2.99 (March 2004)"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:710
msgid "Added information on references in DSAs and CVE-Compatibility."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:711
msgid "Added information on apt 0.6 (apt-secure merge in experimental)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:712
msgid "Fixed location of Chroot daemons HOWTO as suggested by Shuying Wang."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:714
msgid ""
"Changed APACHECTL line in the Apache chroot example (even if its not used at "
"all) as suggested by Leonard Norrgard."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:716
msgid ""
"Added a footnote regarding hardlink attacks if partitions are not setup "
"properly."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:718
msgid ""
"Added some missing steps in order to run bind as named as provided by "
"Jeffrey Prosa."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:720
msgid ""
"Added notes about Nessus and Snort out-of-dateness in woody and availability "
"of backported packages."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:721
msgid "Added a chapter regarding periodic integrity test checks."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:723
msgid ""
"Clarified the status of testing regarding security updates (Debian bug "
"233955)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:725
msgid ""
"Added more information regarding expected contents in securetty (since it's "
"kernel specific)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:726
msgid "Added pointer to snoopylogger (Debian bug 179409)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:727
msgid "Added reference to guarddog (Debian bug 170710)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:729
msgid ""
"<prgn>apt-ftparchive</prgn> is in <package>apt-utils</package>, not in "
"<package>apt</package> (thanks to Emmanuel Chantreau for pointing this out)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:730
msgid "Removed jvirus from AV list."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:734
msgid "Version 2.98 (December 2003)"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:737
msgid "Fixed URL as suggested by Frank Lichtenheld."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:738
msgid "Fixed PermitRootLogin typo as suggested by Stefan Lindenau."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:742
msgid "Version 2.97 (September 2003)"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:749
msgid ""
"Added those that have made the most significant contributions to this manual "
"(please mail me if you think you should be in the list and are not)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:751
msgid "Added some blurb about FIXME/TODOs."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:754
msgid ""
"Moved the information on security updates to the beginning of the section as "
"suggested by Elliott Mitchell."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:758
msgid ""
"Added grsecurity to the list of kernel-patches for security but added a "
"footnote on the current issues with it as suggested by Elliott Mitchell."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:761
msgid ""
"Removed loops (echo to 'all') in the kernel's network security script as "
"suggested by Elliott Mitchell."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:763
msgid "Added more (up-to-date) information in the antivirus section."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:767
msgid ""
"Rewrote the buffer overflow protection section and added more information on "
"patches to the compiler to enable this kind of protection."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:771
msgid "Version 2.96 (August 2003)"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:775
msgid ""
"Removed (and then re-added) appendix on chrooting Apache. The appendix is "
"now dual-licensed."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:778
msgid "Version 2.95 (June 2003)"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:781
msgid "Fixed typos spotted by Leonard Norrgard."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:783
msgid ""
"Added a section on how to contact CERT for incident handling (<url "
"id=\"#after-compromise\">)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:784
msgid "More information on setting up a Squid proxy."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:785
msgid "Added a pointer and removed a FIXME thanks to Helge H. F."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:786
msgid "Fixed a typo (save_inactive) spotted by Philippe Faes."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:787
msgid "Fixed several typos spotted by Jaime Robles."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:790
msgid "Version 2.94 (April 2003)"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:794
msgid ""
"Following Maciej Stachura's suggestions I've expanded the section on "
"limiting users."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:795
msgid "Fixed typo spotted by Wolfgang Nolte."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:796
msgid "Fixed links with patch contributed by Ruben Leote Mendes."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:798
msgid ""
"Added a link to David Wheeler's excellent document on the footnote about "
"counting security vulnerabilities."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:801
msgid "Version 2.93 (March 2003)"
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:802
msgid "Changes made by Frédéric Schütz."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:805
msgid "rewrote entirely the section of ext2 attributes (lsattr/chattr)."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:808
msgid "Version 2.92 (February 2003)"
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:810
msgid "Changes by Javier Fernández-Sanguino Peña and Frédéric Schütz."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:813
msgid ""
"Merge section 9.3 (\"useful kernel patches\") into section 4.13 (\"Adding "
"kernel patches\"), and added some content."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:814
msgid "Added a few more TODOs."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:817
msgid ""
"Added information on how to manually check for updates and also about "
"cron-apt. That way Tiger is not perceived as the only way to do automatic "
"update checks."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:819
msgid ""
"Slightly rewrite of the section on executing a security updates due to "
"Jean-Marc Ranger comments."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:821
msgid ""
"Added a note on Debian's installation (which will suggest the user to "
"execute a security update right after installation)."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:824
msgid "Version 2.91 (January/February 2003)"
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:825 securing-debian-howto.en.sgml:49 en/intro.sgml:840 securing-debian-howto.en.sgml:49 en/intro.sgml:849 securing-debian-howto.en.sgml:49 en/intro.sgml:882
msgid "Changes by Javier Fernández-Sanguino Peña (me)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:827
msgid "Added a patch contributed by Frédéric Schütz."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:828
msgid "Added a few more references on capabilities thanks to Frédéric."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:830
msgid ""
"Slight changes in the bind section adding a reference to BIND's 9 online "
"documentation and proper references in the first area (Hi Pedro!)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:831
msgid "Fixed the changelog date - new year :-)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:832
msgid "Added a reference to Colin's articles for the TODOs."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:833
msgid "Removed reference to old ssh+chroot patches."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:834
msgid "More patches from Carlo Perassi."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:836
msgid "Typo fixes (recursive in Bind is recursion), pointed out by Maik Holtkamp."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:839
msgid "Version 2.9 (December 2002)"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:843
msgid ""
"Reorganized the information on chroot (merged two sections, it didn't make "
"much sense to have them separated)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:844
msgid "Added the notes on chrooting Apache provided by Alexandre Ratti."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:845
msgid "Applied patches contributed by Guillermo Jover."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:848
msgid "Version 2.8 (November 2002)"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:852
msgid ""
"Applied patches from Carlo Perassi, fixes include: re-wrapping the lines, "
"URL fixes, and fixed some FIXMEs."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:853
msgid "Updated the contents of the Debian security team FAQ."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:855
msgid ""
"Added a link to the Debian security team FAQ and the Debian Developer's "
"reference, the duplicated sections might (just might) be removed in the "
"future."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:856
msgid "Fixed the hand-made auditing section with comments from Michal Zielinski."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:857
msgid "Added links to wordlists (contributed by Carlo Perassi)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:858
msgid "Fixed some typos (still many around)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:859
msgid "Fixed TDP links as suggested by John Summerfield."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:862
msgid "Version 2.7 (October 2002)"
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:865
msgid ""
"Changes by Javier Fernández-Sanguino Peña (me). Note: I still have a lot of "
"pending changes in my mailbox (which is currently about 5 Mbs in size)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:868
msgid ""
"Some typo fixes contributed by Tuyen Dinh, Bartek Golenko and Daniel "
"K. Gebhart."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:869
msgid "Note regarding /dev/kmem rootkits contributed by Laurent Bonnaud."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:870
msgid "Fixed typos and FIXMEs contributed by Carlo Perassi."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:873
msgid "Version 2.6 (September 2002)"
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:874
msgid "Changes by Chris Tillman, tillman@voicetrak.com."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:876
msgid "Changed around to improve grammar/spelling."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:877
msgid "s/host.deny/hosts.deny/ (1 place)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:878
msgid "Applied Larry Holish's patch (quite big, fixes a lot of FIXMEs)."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:881
msgid "Version 2.5 (September 2002)"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:884
msgid "Fixed minor typos submitted by Thiemo Nagel."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:885
msgid "Added a footnote suggested by Thiemo Nagel."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:886
msgid "Fixed an URL link."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:890
msgid "Version 2.5 (August 2002)"
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:894
msgid ""
"Changes by Javier Fernández-Sanguino Peña (me). There were many things "
"waiting on my inbox (as far back as February) to be included, so I'm going "
"to tag this the <em>back from honeymoon</em> release :)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:899
msgid ""
"Applied a patch contributed by Philipe Gaspar regarding the Squid which also "
"kills a FIXME."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:903
msgid ""
"Yet another FAQ item regarding service banners taken from the "
"debian-security mailing list (thread \"Telnet information\" started 26th "
"July 2002)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:907
msgid ""
"Added a note regarding use of CVE cross references in the <em>How much time "
"does the Debian security team...</em> FAQ item."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:910
msgid ""
"Added a new section regarding ARP attacks contributed by Arnaud \"Arhuman\" "
"Assad."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:912
msgid "New FAQ item regarding dmesg and console login by the kernel."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:915
msgid ""
"Small tidbits of information to the signature-checking issues in packages "
"(it seems to not have gotten past beta release)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:918
msgid "New FAQ item regarding vulnerability assessment tools false positives."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:922
msgid ""
"Added new sections to the chapter that contains information on package "
"signatures and reorganized it as a new <em>Debian Security "
"Infrastructure</em> chapter."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:924
msgid "New FAQ item regarding Debian vs. other Linux distributions."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:927
msgid ""
"New section on mail user agents with GPG/PGP functionality in the security "
"tools chapter."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:930
msgid ""
"Clarified how to enable MD5 passwords in woody, added a pointer to PAM as "
"well as a note regarding the max definition in PAM."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:934
msgid ""
"Added a new appendix on how to create chroot environments (after fiddling a "
"bit with makejail and fixing, as well, some of its bugs), integrated "
"duplicate information in all the appendix."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:939
msgid ""
"Added some more information regarding <prgn>SSH</prgn> chrooting and its "
"impact on secure file transfers. Some information has been retrieved from "
"the debian-security mailing list (June 2002 thread: <em>secure file "
"transfers</em>)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:942
msgid ""
"New sections on how to do automatic updates on Debian systems as well as the "
"caveats of using testing or unstable regarding security updates."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:946
msgid ""
"New section regarding keeping up to date with security patches in the "
"<em>Before compromise</em> section as well as a new section about the "
"debian-security-announce mailing list."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:948
msgid "Added information on how to automatically generate strong passwords."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:950
msgid "New section regarding login of idle users."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:954
msgid ""
"Reorganized the securing mail server section based on the "
"<em>Secure/hardened/minimal Debian (or \"Why is the base system the way it "
"is?\")</em> thread on the debian-security mailing list (May 2002)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:958
msgid ""
"Reorganized the section on kernel network parameters, with information "
"provided in the debian-security mailing list (May 2002, <em>syn flood "
"attacked?</em> thread) and added a new FAQ item as well."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:961
msgid ""
"New section on how to check users passwords and which packages to install "
"for this."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:964
msgid ""
"New section on PPTP encryption with Microsoft clients discussed in the "
"debian-security mailing list (April 2002)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:970
msgid ""
"Added a new section describing what problems are there when binding any "
"given service to a specific IP address, this information was written based "
"on the Bugtraq mailing list in the thread: <em>Linux kernel 2.4 \"weak end "
"host\" issue (previously discussed on debian-security as \"arp "
"problem\")</em> (started on May 9th 2002 by Felix von Leitner)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:972
msgid "Added information on <prgn>ssh</prgn> protocol version 2."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:975
msgid ""
"Added two subsections related to Apache secure configuration (the things "
"specific to Debian, that is)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:979
msgid ""
"Added a new FAQ related to raw sockets, one related to /root, an item "
"related to users' groups and another one related to log and configuration "
"files permissions."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:982
msgid ""
"Added a pointer to a bug in libpam-cracklib that might still be "
"open... (need to check)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:985
msgid ""
"Added more information regarding forensics analysis (pending more "
"information on packet inspection tools such as <prgn>tcpflow</prgn>)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:988
msgid ""
"Changed the \"what should I do regarding compromise\" into a bullet list and "
"included some more stuff."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:991
msgid ""
"Added some information on how to set up the Xscreensaver to lock the screen "
"automatically after the configured timeout."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:996
msgid ""
"Added a note related to the utilities you should not install in the "
"system. Included a note regarding Perl and why it cannot be easily removed "
"in Debian. The idea came after reading Intersect's documents regarding Linux "
"hardening."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:999
msgid ""
"Added information on lvm and journalling file systems, ext3 recommended. The "
"information there might be too generic, however."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1001
msgid "Added a link to the online text version (check)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1004
msgid ""
"Added some more stuff to the information on firewalling the local system, "
"triggered by a comment made by Hubert Chan in the mailing list."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1009
msgid ""
"Added more information on PAM limits and pointers to Kurt Seifried's "
"documents (related to a post by him to Bugtraq on April 4th 2002 answering a "
"person that had ``discovered'' a vulnerability in Debian GNU/Linux related "
"to resource starvation)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1013
msgid ""
"As suggested by Julián Muñoz, provided more information on the default "
"Debian umask and what a user can access if he has been given a shell in the "
"system (scary, huh?)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1016
msgid ""
"Included a note in the BIOS password section due to a comment from Andreas "
"Wohlfeld."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1019
msgid ""
"Included patches provided by Alfred E. Heggestad fixing many of the typos "
"still present in the document."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1022
msgid ""
"Added a pointer to the changelog in the Credits section since most people "
"who contribute are listed here (and not there)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1026
msgid ""
"Added a few more notes to the chattr section and a new section after "
"installation talking about system snapshots. Both ideas were contributed by "
"Kurt Pomeroy."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1029
msgid ""
"Added a new section after installation just to remind users to change the "
"boot-up sequence."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1031
msgid "Added some more TODO items provided by Korn Andras."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1034
msgid ""
"Added a pointer to the NIST's guidelines on how to secure DNS provided by "
"Daniel Quinlan."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1037
msgid "Added a small paragraph regarding Debian's SSL certificates infrastructure."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1040
msgid ""
"Added Daniel Quinlan's suggestions regarding <prgn>ssh</prgn> authentication "
"and exim's relay configuration."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1044
msgid ""
"Added more information regarding securing bind including changes suggested "
"by Daniel Quinlan and an appendix with a script to make some of the changes "
"commented on in that section."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1047
msgid ""
"Added a pointer to another item regarding Bind chrooting (needs to be "
"merged)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1050
msgid ""
"Added a one liner contributed by Cristian Ionescu-Idbohrn to retrieve "
"packages with tcpwrappers support."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1052
msgid "Added a little bit more info on Debian's default PAM setup."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1055
msgid ""
"Included a FAQ question about using PAM to provide services without shell "
"accounts."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1058
msgid ""
"Moved two FAQ items to another section and added a new FAQ regarding attack "
"detection (and compromised systems)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1062
msgid ""
"Included information on how to set up a bridge firewall (including a sample "
"Appendix). Thanks to Francois Bayart who sent this to me in March."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1066
msgid ""
"Added a FAQ regarding the syslogd's <em>MARK</em> <em>heartbeat</em> from a "
"question answered by Noah Meyerhans and Alain Tesio in December 2001."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1069
msgid ""
"Included information on buffer overflow protection as well as some "
"information on kernel patches."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1073
msgid ""
"Added more information (and reorganized) the firewall section. Updated the "
"information regarding the iptables package and the firewall generators "
"available."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1076
msgid ""
"Reorganized the information regarding log checking, moved logcheck "
"information from host intrusion detection to that section."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1079
msgid ""
"Added some information on how to prepare a static package for bind for "
"chrooting (untested)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1083
msgid ""
"Added a FAQ item regarding some specific servers/services (could be expanded "
"with some of the recommendations from the debian-security list)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1085
msgid "Added some information on RPC services (and when it's necessary)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1089
msgid ""
"Added some more information on capabilities (and what lcap does). Is there "
"any good documentation on this? I haven't found any documentation on my 2.4 "
"kernel."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1091 securing-debian-howto.en.sgml:49 en/intro.sgml:1382
msgid "Fixed some typos."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1094
msgid "Version 2.4"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1097
msgid "Rewritten part of the BIOS section."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1100 securing-debian-howto.en.sgml:49 en/intro.sgml:1117
msgid "Version 2.3"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1103
msgid "Wrapped most file locations with the file tag."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1104
msgid "Fixed typo noticed by Edi Stojicevi."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1105
msgid "Slightly changed the remote audit tools section."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1106
msgid "Added some todo items."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1108
msgid ""
"Added more information regarding printers and cups config file (taken from a "
"thread on debian-security)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1110
msgid ""
"Added a patch submitted by Jesus Climent regarding access of valid system "
"users to Proftpd when configured as anonymous server."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1112
msgid "Small change on partition schemes for the special case of mail servers."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1113
msgid "Added Hacking Linux Exposed to the books section."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1114
msgid "Fixed directory typo noticed by Eduardo Pérez Ureta."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1115
msgid "Fixed /etc/ssh typo in checklist noticed by Edi Stojicevi."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1120
msgid "Fixed location of dpkg conffile."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1121
msgid "Remove Alexander from contact information."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1122
msgid "Added alternate mail address."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1123
msgid "Fixed Alexander mail address (even if commented out)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1125
msgid ""
"Fixed location of release keys (thanks to Pedro Zorzenon for pointing this "
"out)."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1127
msgid "Version 2.2"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1130
msgid "Fixed typos, thanks to Jamin W. Collins."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1132
msgid ""
"Added a reference to apt-extracttemplate manpage (documents the "
"APT::ExtractTemplate config)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1135
msgid ""
"Added section about restricted SSH. Information based on that posted by Mark "
"Janssen, Christian G. Warden and Emmanuel Lacour on the debian-security "
"mailing list."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1136
msgid "Added information on antivirus software."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1137
msgid "Added a FAQ: su logs due to the cron running as root."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1139
msgid "Version 2.1"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1142
msgid "Changed FIXME from lshell thanks to Oohara Yuuma."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1143
msgid "Added package to sXid and removed comment since it *is* available."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1144
msgid "Fixed a number of typos discovered by Oohara Yuuma."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1146
msgid ""
"ACID is now available in Debian (in the acidlab package) thanks to Oohara "
"Yuuma for noticing."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1147
msgid "Fixed LinuxSecurity links (thanks to Dave Wreski for telling)."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1149
msgid "Version 2.0"
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1152
msgid ""
"Changes by Javier Fernández-Sanguino Peña. I wanted to change to 2.0 when "
"all the FIXMEs were fixed but I ran out of 1.9X numbers :(."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1155
msgid "Converted the HOWTO into a Manual (now I can properly say RTFM)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1159
msgid ""
"Added more information regarding tcp wrappers and Debian (now many services "
"are compiled with support for them so it's no longer an <prgn>inetd</prgn> "
"issue)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1162
msgid ""
"Clarified the information on disabling services to make it more consistent "
"(rpc info still referred to update-rc.d)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1164
msgid "Added small note on lprng."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1166
msgid "Added some more info on compromised servers (still very rough)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1168
msgid "Fixed typos reported by Mark Bucciarelli."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1171
msgid ""
"Added some more steps in password recovery to cover the cases when the admin "
"has set paranoid-mode=on."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1174
msgid "Added some information to set paranoid-mode=on when login in console."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1176
msgid "New paragraph to introduce service configuration."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1179
msgid ""
"Reorganized the <em>After installation</em> section so it is more broken up "
"into several issues and it's easier to read."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1182
msgid ""
"Wrote information on how to set up firewalls with the standard Debian 3.0 "
"setup (iptables package)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1185
msgid ""
"Small paragraph explaining why installing connected to the Internet is not a "
"good idea and how to avoid this using Debian tools."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1187
msgid "Small paragraph on timely patching referencing to IEEE paper."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1190
msgid ""
"Appendix on how to set up a Debian snort box, based on what Vladimir sent to "
"the debian-security mailing list (September 3rd 2001)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1193
msgid ""
"Information on how logcheck is set up in Debian and how it can be used to "
"set up HIDS."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1195
msgid "Information on user accounting and profile analysis."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1198
msgid ""
"Included apt.conf configuration for read-only /usr copied from Olaf "
"Meeuwissen's post to the debian-security mailing list."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1203
msgid ""
"New section on VPN with some pointers and the packages available in Debian "
"(needs content on how to set up the VPNs and Debian-specific issues), based "
"on Jaroslaw Tabor's and Samuli Suonpaa's post to debian-security."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1205
msgid "Small note regarding some programs to automatically build chroot jails."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1208
msgid ""
"New FAQ item regarding identd based on a discussion in the debian-security "
"mailing list (February 2002, started by Johannes Weiss)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1211
msgid ""
"New FAQ item regarding <prgn>inetd</prgn> based on a discussion in the "
"debian-security mailing list (February 2002)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1213
msgid "Introduced note on rcconf in the \"disabling services\" section."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1215
msgid "Varied the approach regarding LKM, thanks to Philipe Gaspar."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1216
msgid "Added pointers to CERT documents and Counterpane resources."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1219
msgid "Version 1.99"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1222
msgid "Added a new FAQ item regarding time to fix security vulnerabilities."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1223
msgid "Reorganized FAQ sections."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1225
msgid ""
"Started writing a section regarding firewalling in Debian GNU/Linux (could "
"be broadened a bit)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1226
msgid "Fixed typos sent by Matt Kraai."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1227
msgid "Fixed DNS information."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1228
msgid "Added information on whisker and nbtscan to the auditing section."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1229
msgid "Fixed some wrong URLs."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1231
msgid "Version 1.98"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1234
msgid "Added a new section regarding auditing using Debian GNU/Linux."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1235
msgid "Added info regarding finger daemon taken from the security mailing list."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1237
msgid "Version 1.97"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1240
msgid "Fixed link for Linux Trustees."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1241
msgid "Fixed typos (patches from Oohara Yuuma and Pedro Zorzenon)."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1244
msgid "Version 1.96"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1249
msgid "Reorganized service installation and removal and added some new notes."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1252
msgid ""
"Added some notes regarding using integrity checkers as intrusion detection "
"tools."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1254
msgid "Added a chapter regarding package signatures."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1257
msgid "Version 1.95"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1262
msgid "Added notes regarding Squid security sent by Philipe Gaspar."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1264
msgid "Fixed rootkit links thanks to Philipe Gaspar."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1267
msgid "Version 1.94"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1272
msgid "Added some notes regarding Apache and Lpr/lpng."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1274
msgid "Added some information regarding noexec and read-only partitions."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1275
msgid "Rewrote how users can help in Debian security issues (FAQ item)."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1278
msgid "Version 1.93"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1283
msgid "Fixed location of mail program."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1284 securing-debian-howto.en.sgml:49 en/intro.sgml:1298
msgid "Added some new items to the FAQ."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1287
msgid "Version 1.92"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1292
msgid "Added a small section on how Debian handles security."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1294
msgid "Clarified MD5 passwords (thanks to `rocky')."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1296
msgid "Added some more information regarding harden-X from Stephen van Egmond."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1301
msgid "Version 1.91"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1306
msgid "Added some forensics information sent by Yotam Rubin."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1308
msgid "Added information on how to build a honeynet using Debian GNU/Linux."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1310
msgid "Added some more TODOS."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1312
msgid "Fixed more typos (thanks Yotam!)."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1315
msgid "Version 1.9"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1321
msgid ""
"Added patch to fix misspellings and some new information (contributed by "
"Yotam Rubin)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1324
msgid ""
"Added references to other online (and offline) documentation both in a "
"section (see <ref id=\"references\">) by itself and inline in some sections."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1327
msgid ""
"Added some information on configuring Bind options to restrict access to the "
"DNS server."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1330
msgid ""
"Added information on how to automatically harden a Debian system (regarding "
"the harden package and bastille)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1332
msgid "Removed some done TODOs and added some new ones."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1335
msgid "Version 1.8"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1341
msgid ""
"Added the default user/group list provided by Joey Hess to the "
"debian-security mailing list."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1344
msgid ""
"Added information on LKM root-kits (<ref id=\"LKM\">) contributed by Philipe "
"Gaspar."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1346
msgid "Added information on Proftp contributed by Emmanuel Lacour."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1348
msgid "Recovered the checklist Appendix from Era Eriksson."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1350
msgid "Added some new TODO items and removed other fixed ones."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1353
msgid ""
"Manually included Era's patches since they were not all included in the "
"previous version."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1355
msgid "Version 1.7"
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1356
msgid "Changes by Era Eriksson."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1358
msgid "Typo fixes and wording changes."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1363
msgid ""
"Minor changes to tags in order to keep on removing the tt tags and "
"substitute prgn/package tags for them."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1366
msgid "Version 1.6"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1370
msgid ""
"Added pointer to document as published in the DDP (should supersede the "
"original in the near future)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1372
msgid ""
"Started a mini-FAQ (should be expanded) with some questions recovered from "
"my mailbox."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1373
msgid "Added general information to consider while securing."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1374
msgid "Added a paragraph regarding local (incoming) mail delivery."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1375
msgid "Added some pointers to more information."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1376
msgid "Added information regarding the printing service."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1377
msgid "Added a security hardening checklist."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1378
msgid "Reorganized NIS and RPC information."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1380
msgid "Added some notes taken while reading this document on my new Visor :)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1381
msgid "Fixed some badly formatted lines."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1384
msgid "Added a Genius/Paranoia idea contributed by Gaby Schilders."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1387
msgid "Version 1.5"
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1389
msgid "Changes by Josip Rodin and Javier Fernández-Sanguino Peña."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1393
msgid "Added paragraphs related to BIND and some FIXMEs."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1395
msgid "Version 1.4"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1397
msgid "Small setuid check paragraph"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1398
msgid "Various minor cleanups."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1400
msgid "Found out how to use <tt>sgml2txt -f</tt> for the txt version."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1403
msgid "Version 1.3"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1406
msgid "Added a security update after installation paragraph."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1407
msgid "Added a proftpd paragraph."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1408
msgid "This time really wrote something about XDM, sorry for last time."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1411
msgid "Version 1.2"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1415
msgid "Lots of grammar corrections by James Treacy, new XDM paragraph."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1418
msgid "Version 1.1"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1421
msgid "Typo fixes, miscellaneous additions."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1424
msgid "Version 1.0"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1427
msgid "Initial release."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1430
msgid "Credits and thanks!"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1434
msgid "Alexander Reelsen wrote the original document."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1436
msgid "Javier Fernández-Sanguino added more info to the original doc."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1438
msgid "Robert van der Meulen provided the quota paragraphs and many good ideas."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1440
msgid "Ethan Benson corrected the PAM paragraph and had some good ideas."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1443
msgid "Dariusz Puchalak contributed some information to several chapters."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1445
msgid "Gaby Schilders contributed a nice Genius/Paranoia idea."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1448
msgid ""
"Era Eriksson smoothed out the language in a lot of places and contributed "
"the checklist appendix."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1450
msgid "Philipe Gaspar wrote the LKM information."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1453
msgid ""
"Yotam Rubin contributed fixes for many typos as well as information "
"regarding bind versions and MD5 passwords."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1456
msgid ""
"Francois Bayart provided the appendix describing how to set up a bridge "
"firewall."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1459
msgid ""
"Joey Hess wrote the section describing how Secure Apt works on the <url "
"id=\"http://wiki.debian.org/SecureApt\" name=\"Debian Wiki\">."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1462
msgid ""
"Martin F. Krafft wrote some information on his blog regarding fingerprint "
"verification which was also reused for the Secure Apt section."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1466
msgid ""
"Francesco Poli did an extensive review of the manual and provided quite a "
"lot of bug reports and typo fixes which improved and helped update the "
"document."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1469
msgid ""
"All the people who made suggestions for improvements that (eventually) were "
"included here (see <ref id=\"changelog\">)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1472
msgid ""
"(Alexander) All the folks who encouraged me to write this HOWTO (which was "
"later turned into a manual)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:49 en/intro.sgml:1473
msgid "The whole Debian project."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:50 en/before-begin.sgml:6
msgid "Before you begin"
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:50 en/before-begin.sgml:8
msgid "What do you want this system for?"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:50 en/before-begin.sgml:14
msgid ""
"Securing Debian is not very different from securing any other system; in "
"order to do it properly, you must first decide what you intend to do with "
"it. After this, you will have to consider that the following tasks need to "
"be taken care of if you want a really secure system."
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:50 en/before-begin.sgml:19
msgid ""
"You will find that this manual is written from the bottom up, that is, you "
"will read some information on tasks to do before, during and after you "
"install your Debian system. The tasks can also be thought of as:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:50 en/before-begin.sgml:25
msgid ""
"Decide which services you need and limit your system to those. This includes "
"deactivating/uninstalling unneeded services, and adding firewall-like "
"filters, or tcpwrappers."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:50 en/before-begin.sgml:27
msgid "Limit users and permissions in your system."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:50 en/before-begin.sgml:31
msgid ""
"Harden offered services so that, in the event of a service compromise, the "
"impact to your system is minimized."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:50 en/before-begin.sgml:34
msgid ""
"Use appropriate tools to guarantee that unauthorized use is detected so that "
"you can take appropriate measures."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:50 en/before-begin.sgml:38
msgid "Be aware of general security problems"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:50 en/before-begin.sgml:48
msgid ""
"The following manual does not (usually) go into the details on why some "
"issues are considered security risks. However, you might want to have a "
"better background regarding general UNIX and (specific) Linux security. Take "
"some time to read over security related documents in order to make informed "
"decisions when you are encountered with different choices. Debian GNU/Linux "
"is based on the Linux kernel, so much of the information regarding Linux, as "
"well as from other distributions and general UNIX security also apply to it "
"(even if the tools used, or the programs available, differ)."
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:50 en/before-begin.sgml:50
msgid "Some useful documents include:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:50 en/before-begin.sgml:57
msgid ""
"The <url id=\"http://www.tldp.org/HOWTO/Security-HOWTO/\" name=\"Linux "
"Security HOWTO\"> (also available at <url "
"id=\"http://www.linuxsecurity.com/docs/LDP/Security-HOWTO.html\" "
"name=\"LinuxSecurity\">) is one of the best references regarding general "
"Linux security."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:50 en/before-begin.sgml:62
msgid ""
"The <url id=\"http://www.tldp.org/HOWTO/Security-Quickstart-HOWTO/\" "
"name=\"Security Quick-Start HOWTO for Linux\"> is also a very good starting "
"point for novice users (both to Linux and security)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:50 en/before-begin.sgml:75
msgid ""
"The <url id=\"http://seifried.org/lasg/\" name=\"Linux Security "
"Administrator's Guide\"> is a complete guide that touches all the issues "
"related to security in Linux, from kernel security to VPNs. Note that it has "
"not been updated since 2001, but some information is still "
"relevant. <footnote><p>At a given time it was superseded by the \"Linux "
"Security Knowledge Base\". This documentation is also provided in Debian "
"through the <package>lskb</package> package. Now it's back as the "
"<em>Lasg</em> again.</p></footnote>"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:50 en/before-begin.sgml:79
msgid ""
"Kurt Seifried's <url "
"id=\"http://seifried.org/security/os/linux/20020324-securing-linux-step-by-step.html\" "
"name=\"Securing Linux Step by Step\">."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:50 en/before-begin.sgml:84
msgid ""
"In <url id=\"http://www.tldp.org/links/p_books.html#securing_linux\" "
"name=\"Securing and Optimizing Linux: RedHat Edition\"> you can find a "
"similar document to this manual but related to Red Hat, some of the issues "
"are not distribution-specific and also apply to Debian."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:50 en/before-begin.sgml:88
msgid ""
"Another Red Hat related document is <url "
"id=\"http://ltp.sourceforge.net/docs/RHEL-EAL3-Configuration-Guide.pdf\" "
"name=\"EAL3 Evaluated Configuration Guide for Red Hat Enterprise\">."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:50 en/before-begin.sgml:94
msgid ""
"IntersectAlliance has published some documents that can be used as reference "
"cards on how to harden Linux servers (and their services), the documents are "
"available at <url "
"id=\"http://www.intersectalliance.com/projects/index.html\" name=\"their "
"site\">."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:50 en/before-begin.sgml:98
msgid ""
"For network administrators, a good reference for building a secure network "
"is the <url "
"id=\"http://www.linuxsecurity.com/docs/LDP/Securing-Domain-HOWTO/\" "
"name=\"Securing your Domain HOWTO\">."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:50 en/before-begin.sgml:106
msgid ""
"If you want to evaluate the programs you are going to use (or want to build "
"up some new ones) you should read the <url "
"id=\"http://www.tldp.org/HOWTO/Secure-Programs-HOWTO/\" name=\"Secure "
"Programs HOWTO\"> (master copy is available at <url "
"id=\"http://www.dwheeler.com/secure-programs/\">, it includes slides and "
"talks from the author, David Wheeler)"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:50 en/before-begin.sgml:113
msgid ""
"If you are considering installing firewall capabilities, you should read the "
"<url id=\"http://www.tldp.org/HOWTO/Firewall-HOWTO.html\" name=\"Firewall "
"HOWTO\"> and the <url id=\"http://www.tldp.org/HOWTO/IPCHAINS-HOWTO.html\" "
"name=\"IPCHAINS HOWTO\"> (for kernels previous to 2.4)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:50 en/before-begin.sgml:117
msgid ""
"Finally, a good card to keep handy is the <url "
"id=\"http://www.linuxsecurity.com/docs/QuickRefCard.pdf\" name=\"Linux "
"Security ReferenceCard\">."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:50 en/before-begin.sgml:125
msgid ""
"In any case, there is more information regarding the services explained here "
"(NFS, NIS, SMB...) in many of the HOWTOs of the <url "
"id=\"http://www.tldp.org/\" name=\"The Linux Documentation Project\">. Some "
"of these documents speak on the security side of a given service, so be sure "
"to take a look there too."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:50 en/before-begin.sgml:133
msgid ""
"The HOWTO documents from the Linux Documentation Project are available in "
"Debian GNU/Linux through the installation of the "
"<package>doc-linux-text</package> (text version) or "
"<package>doc-linux-html</package> (HTML version). After installation these "
"documents will be available at the <file>/usr/share/doc/HOWTO/en-txt</file> "
"and <file>/usr/share/doc/HOWTO/en-html</file> directories, respectively."
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:50 en/before-begin.sgml:135
msgid "Other recommended Linux books:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:50 en/before-begin.sgml:141
msgid ""
"Maximum Linux Security : A Hacker's Guide to Protecting Your Linux Server "
"and Network. Anonymous. Paperback - 829 pages. Sams Publishing. ISBN: "
"0672313413. July 1999."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:50 en/before-begin.sgml:144
msgid "Linux Security By John S. Flowers. New Riders; ISBN: 0735700354. March 1999."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:50 en/before-begin.sgml:148
msgid ""
"<url id=\"http://www.linux.org/books/ISBN_0072127732.html\" name=\"Hacking "
"Linux Exposed\"> By Brian Hatch. McGraw-Hill Higher Education. ISBN "
"0072127732. April, 2001"
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:50 en/before-begin.sgml:153
msgid ""
"Other books (which might be related to general issues regarding UNIX and "
"security and not Linux specific):"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:50 en/before-begin.sgml:160
msgid ""
"<url id=\"http://www.ora.com/catalog/puis/noframes.html\" name=\"Practical "
"Unix and Internet Security (2nd Edition)\"> Garfinkel, Simpson, and "
"Spafford, Gene; O'Reilly Associates; ISBN 0-56592-148-8; 1004pp; 1996."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:50 en/before-begin.sgml:163
msgid ""
"Firewalls and Internet Security Cheswick, William R. and Bellovin, Steven "
"M.; Addison-Wesley; 1994; ISBN 0-201-63357-4; 320pp."
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:50 en/before-begin.sgml:167
msgid "Some useful web sites to keep up to date regarding security:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:50 en/before-begin.sgml:172
msgid ""
"<url id=\"http://csrc.nist.gov/fasp/index.html\" name=\"NIST Security "
"Guidelines\">."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:50 en/before-begin.sgml:177
msgid ""
"<url id=\"http://www.securityfocus.com\" name=\"Security Focus\"> the server "
"that hosts the Bugtraq vulnerability database and list, and provides general "
"security information, news and reports."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:50 en/before-begin.sgml:184
msgid ""
"<url id=\"http://www.linuxsecurity.com/\" name=\"Linux Security\">. General "
"information regarding Linux security (tools, news...). Most useful is the "
"<url id=\"http://www.linuxsecurity.com/resources/documentation-1.html\" "
"name=\"main documentation\"> page."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:50 en/before-begin.sgml:189
msgid ""
"<url id=\" http://www.linux-firewall-tools.com/linux/\" name=\"Linux "
"firewall and security site\">. General information regarding Linux firewalls "
"and tools to control and administrate them."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:50 en/before-begin.sgml:192
msgid "How does Debian handle security?"
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:50 en/before-begin.sgml:196
msgid ""
"Just so you have a general overview of security in Debian GNU/Linux you "
"should take note of the different issues that Debian tackles in order to "
"provide an overall secure system:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:50 en/before-begin.sgml:205
msgid ""
"Debian problems are always handled openly, even security related. Security "
"issues are discussed openly on the debian-security mailing list. Debian "
"Security Advisories (DSAs) are sent to public mailing lists (both internal "
"and external) and are published on the public server. As the <url "
"id=\"http://www.debian.org/social_contract\" name=\"Debian Social "
"Contract\"> states:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:50 en/before-begin.sgml:207
msgid "<em>We will not hide problems</em>"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:50 en/before-begin.sgml:211
msgid ""
"<em>We will keep our entire bug report database open for public view at all "
"times. Reports that people file online will promptly become visible to "
"others.</em>"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:50 en/before-begin.sgml:219
msgid ""
"Debian follows security issues closely. The security team checks many "
"security related sources, the most important being <url "
"id=\"http://www.securityfocus.com/cgi-bin/vulns.pl\" name=\"Bugtraq\">, on "
"the lookout for packages with security issues that might be included in "
"Debian."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:50 en/before-begin.sgml:224
msgid ""
"Security updates are the first priority. When a security problem arises in a "
"Debian package, the security update is prepared as fast as possible and "
"distributed for our stable, testing and unstable releases, including all "
"architectures."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:50 en/before-begin.sgml:227
msgid ""
"Information regarding security is centralized in a single point, <url "
"id=\"http://security.debian.org/\">."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:50 en/before-begin.sgml:231
msgid ""
"Debian is always trying to improve the overall security of the distribution "
"by starting new projects, such as automatic package signature verification "
"mechanisms."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:50 en/before-begin.sgml:238
msgid ""
"Debian provides a number of useful security related tools for system "
"administration and monitoring. Developers try to tightly integrate these "
"tools with the distribution in order to make them a better suite to enforce "
"local security policies. Tools include: integrity checkers, auditing tools, "
"hardening tools, firewall tools, intrusion detection tools, etc."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:50 en/before-begin.sgml:247
msgid ""
"Package maintainers are aware of security issues. This leads to many "
"\"secure by default\" service installations which could impose certain "
"restrictions on their normal use. Debian does, however, try to balance "
"security and ease of administration - the programs are not de-activated when "
"you install them (as it is the case with say, the BSD family of operating "
"systems). In any case, prominent security issues (such as <tt>setuid</tt> "
"programs) are part of the <url "
"id=\"http://www.debian.org/doc/debian-policy/\" name=\"Debian Policy\">."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:3
msgid ""
"By publishing security information specific to Debian and complementing "
"other information-security documents related to Debian (see <ref "
"id=\"references\">), this document aims to produce better system "
"installations security-wise."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:6
msgid "Before and during the installation"
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:7
msgid "Choose a BIOS password"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:15
msgid ""
"Before you install any operating system on your computer, set up a BIOS "
"password. After installation (once you have enabled bootup from the hard "
"disk) you should go back to the BIOS and change the boot sequence to disable "
"booting from floppy, CD-ROM and other devices that shouldn't boot. Otherwise "
"a cracker only needs physical access and a boot disk to access your entire "
"system."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:20
msgid ""
"Disabling booting unless a password is supplied is even better. This can be "
"very effective if you run a server, because it is not rebooted very "
"often. The downside to this tactic is that rebooting requires human "
"intervention which can cause problems if the machine is not easily "
"accessible."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:25
msgid ""
"Note: many BIOSes have well known default master passwords, and applications "
"also exist to retrieve the passwords from the BIOS. Corollary: don't depend "
"on this measure to secure console access to system."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:27
msgid "Partitioning the system"
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:28
msgid "Choose an intelligent partition scheme"
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:33
msgid ""
"An intelligent partition scheme depends on how the machine is used. A good "
"rule of thumb is to be fairly liberal with your partitions and to pay "
"attention to the following factors:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:57
msgid ""
"Any directory tree which a user has write permissions to, such as "
"e.g. <file>/home</file>, <file>/tmp</file> and <file>/var/tmp/</file>, "
"should be on a separate partition. This reduces the risk of a user DoS by "
"filling up your \"/\" mount point and rendering the system unusable (Note: "
"this is not strictly true, since there is always some space reserved for "
"root which a normal user cannot fill), and it also prevents hardlink "
"attacks. <footnote><p>A very good example of this kind of attacks using /tmp "
"is detailed in <url "
"id=\"http://www.hackinglinuxexposed.com/articles/20031111.html\" name=\"The "
"mysteriously persistently exploitable program (contest)\"> and <url "
"id=\"http://www.hackinglinuxexposed.com/articles/20031214.html\" name=\"The "
"mysteriously persistently exploitable program explained\"> (notice that the "
"incident is Debian-related). It is basicly an attack in which a local user "
"<em>stashes</em> away a vulnerable setuid application by making a hard link "
"to it, effectively avoiding any updates (or removal) of the binary itself "
"made by the system administrator. Dpkg was recently fixed to prevent this "
"(see <url id=\"http://bugs.debian.org/225692\" name=\"225692\">) but other "
"setuid binaries (not controlled by the package manager) are at risk if "
"partitions are not setup correctly. </p></footnote>"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:65
msgid ""
"Any partition which can fluctuate, e.g. <file>/var</file> (especially "
"<file>/var/log</file>) should also be on a separate partition. On a Debian "
"system, you should create <file>/var</file> a little bit bigger than on "
"other systems, because downloaded packages (the apt cache) are stored in "
"<file>/var/cache/apt/archives</file>."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:71
msgid ""
"Any partition where you want to install non-distribution software should be "
"on a separate partition. According to the File Hierarchy Standard, this is "
"<file>/opt</file> or <file>/usr/local</file>. If these are separate "
"partitions, they will not be erased if you (have to) reinstall Debian "
"itself."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:75
msgid ""
"From a security point of view, it makes sense to try to move static data to "
"its own partition, and then mount that partition read-only. Better yet, put "
"the data on read-only media. See below for more details."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:88
msgid ""
"In the case of a mail server it is important to have a separate partition "
"for the mail spool. Remote users (either knowingly or unknowingly) can fill "
"the mail spool (<file>/var/mail</file> and/or "
"<file>/var/spool/mail</file>). If the spool is on a separate partition, this "
"situation will not render the system unusable. Otherwise (if the spool "
"directory is on the same partition as <file>/var</file>) the system might "
"have important problems: log entries will not be created, packages cannot be "
"installed, and some programs might even have problems starting up (if they "
"use <file>/var/run</file>)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:96
msgid ""
"Also, for partitions in which you cannot be sure of the needed space, "
"installing Logical Volume Manager (<package>lvm-common</package> and the "
"needed binaries for your kernel, this might be either "
"<package>lvm10</package>, <package>lvm6</package>, or "
"<package>lvm5</package>). Using <tt>lvm</tt>, you can create volume groups "
"that expand multiple physical volumes."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:98
msgid "Selecting the appropriate file systems"
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:107
msgid ""
"During the system partitioning you also have to decide which file system you "
"want to use. The default file system<footnote><p>Since Debian GNU/Linux 4.0, "
"codename <tt>etch</tt></p></footnote> selected in the Debian installation "
"for Linux partitions is <tt>ext3</tt>, a journaling file system. It is "
"recommended that you always use a journaling file system, such as "
"<tt>ext3</tt>, <tt>reiserfs</tt>, <tt>jfs</tt> or <tt>xfs</tt>, to minimize "
"the problems derived from a system crash in the following cases:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:114
msgid ""
"for laptops in all the file systems installed. That way if you run out of "
"battery unexpectedly or the system freezes due to a hardware issue (such as "
"X configuration which is somewhat common) you will be less likely to lose "
"data during a hardware reboot."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:120
msgid ""
"for production systems which store large amounts of data (like mail servers, "
"ftp servers, network file systems...) it is recommended on these "
"partitions. That way, in the event of a system crash, the server will take "
"less time to recover and check the file systems, and data loss will be less "
"likely."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:137
msgid ""
"Leaving aside the performance issues regarding journalling file systems "
"(since this can sometimes turn into a religious war), it is usually better "
"to use the <tt>ext3</tt> file system. The reason for this is that it is "
"backwards compatible with <tt>ext2</tt>, so if there are any issues with the "
"journalling you can disable it and still have a working file system. Also, "
"if you need to recover the system with a bootdisk (or CD-ROM) you do not "
"need a custom kernel. If the kernel is 2.4 or 2.6 <tt>ext3</tt> support is "
"already available, if it is a 2.2 kernel you will be able to boot the file "
"system even if you lose journalling capabilities. If you are using other "
"journalling file systems you will find that you might not be able to recover "
"unless you have a 2.4 or 2.6 kernel with the needed modules built-in. If you "
"are stuck with a 2.2 kernel on the rescue disk, it might be even more "
"difficult to have it access <tt>reiserfs</tt> or <tt>xfs</tt>."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:141
msgid ""
"In any case, data integrity might be better under <tt>ext3</tt> since it "
"does file-data journalling while others do only meta-data journalling, see "
"<url id=\"http://lwn.net/2001/0802/a/ext3-modes.php3\">."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:147
msgid ""
"Notice, however, that there are some partitions that might not benefit from "
"using a journaling filesystem. For example, if you are using a separate "
"partition for <file>/tmp/</file> you might be better off using a standard "
"<tt>ext2</tt> filesystem as it will be cleaned up when the system boots."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:149
msgid "Do not plug to the Internet until ready"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:155
msgid ""
"The system should not be immediately connected to the Internet during "
"installation. This could sound stupid but network installation is a common "
"method. Since the system will install and activate services immediately, if "
"the system is connected to the Internet and the services are not properly "
"configured you are opening it to attack."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:161
msgid ""
"Also note that some services might have security vulnerabilities not fixed "
"in the packages you are using for installation. This is usually true if you "
"are installing from old media (like CD-ROMs). In this case, the system could "
"even be compromised before you finish installation!"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:175
msgid ""
"Since Debian installation and upgrades can be done over the Internet you "
"might think it is a good idea to use this feature on installation. If the "
"system is going to be directly connected to the Internet (and not protected "
"by a firewall or NAT), it is best to install without connection to the "
"Internet, using a local packages mirror for both the Debian package sources "
"and the security updates. You can set up package mirrors by using another "
"system connected to the Internet with Debian-specific tools (if it's a "
"Debian system) like <package>apt-move</package> or "
"<package>apt-proxy</package>, or other common mirroring tools, to provide "
"the archive to the installed system. If you cannot do this, you can set up "
"firewall rules to limit access to the system while doing the update (see "
"<ref id=\"fw-security-update\">)."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:176
msgid "Set a root password"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:183
msgid ""
"Setting a good root password is the most basic requirement for having a "
"secure system. See <manref section=\"1\" name=\"passwd\"> for some hints on "
"how to create good passwords. You can also use an automatic password "
"generation program to do this for you (see <ref id=\"user-pwgen\">)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:194
msgid ""
"Plenty of information on choosing good passwords can be found on the "
"Internet; two that provide a decent summary and rationale are Eric Wolfram's "
"<url id=\"http://wolfram.org/writing/howto/password.html\" name=\"How to: "
"Pick a Safe Password\"> and Walter Belgers' <url "
"id=\"http://www.belgers.com/write/pwseceng.txt\" name=\"Unix Password "
"Security\">"
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:195
msgid "Activate shadow passwords and MD5 passwords"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:205
msgid ""
"At the end of the installation, you will be asked if shadow passwords should "
"be enabled. Answer yes to this question, so passwords will be kept in the "
"file <file>/etc/shadow</file>. Only the root user and the group shadow have "
"read access to this file, so no users will be able to grab a copy of this "
"file in order to run a password cracker against it. You can switch between "
"shadow passwords and normal passwords at any time by using "
"<tt>shadowconfig</tt>."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:211
msgid ""
"Read more on shadow passwords in <url "
"id=\"http://www.tldp.org/HOWTO/Shadow-Password-HOWTO.html\" name=\"Shadow "
"Password\"> "
"(<file>/usr/share/doc/HOWTO/en-txt/Shadow-Password.txt.gz</file>)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:221
msgid ""
"Furthermore, the installation uses MD5 hashed passwords per default. This is "
"generally a very good idea since it allows longer passwords and better "
"encryption. MD5 allows for passwords longer than 8 characters. This, if used "
"wisely, can make it more difficult for attackers to brute-force the system's "
"passwords. Regarding MD5 passwords, this is the default option when "
"installing the latest <package>passwd</package> package. You can recognize "
"MD5 passwords in the <file>/etc/shadow</file> file by their $1$ prefix."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:224
msgid ""
"This, as a matter of fact, modifies all files under <file>/etc/pam.d</file> "
"by substituting the password line and include md5 in it:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:226
#, no-wrap
msgid "  password required pam_unix.so md5 nullok obscure min=6 max=16"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:230
msgid ""
"If <tt>max</tt> is not set over 8 the change will not be useful at all. For "
"more information on this read <ref id=\"auth-pam\">."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:233
msgid ""
"Note: the default configuration in Debian, even when activating MD5 "
"passwords, does not modify the previously set <tt>max</tt> value."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:235
msgid "Run the minimum number of services required"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:241
msgid ""
"Services are programs such as ftp servers and web servers. Since they have "
"to be <em>listening</em> for incoming connections that request the service, "
"external computers can connect to yours. Services are sometimes vulnerable "
"(i.e. can be compromised under a given attack) and hence present a security "
"risk."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:245
msgid ""
"You should not install services which are not needed on your machine. Every "
"installed service might introduce new, perhaps not obvious (or known), "
"security holes on your computer."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:262
msgid ""
"As you may already know, when you install a given service the default "
"behavior is to activate it. In a default Debian installation, with no "
"services installed, the number of running services is quite low and the "
"number of network-oriented services is even lower. In a default Debian 3.1 "
"standard installation you will end up with OpenSSH, Exim (depending on how "
"you configured it) and the RPC portmapper available as network "
"services<footnote><p>The footprint in Debian 3.0 and earlier releases wasn't "
"as tight, since some <prgn>inetd</prgn> services were enabled by "
"default. Also standard installations of Debian 2.2 installed the NFS server "
"as well as the telnet server.</p></footnote>. If you did not go through a "
"standard installation but selected an expert installation you can end up "
"with no active network services. The RPC portmapper is installed by default "
"because it is needed for many services, for example NFS, to run on a given "
"system. However, it can be easily removed, see <ref id=\"rpc\"> for more "
"information on how to secure or disable RPC services."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:273
msgid ""
"When you install a new network-related service (daemon) in your Debian "
"GNU/Linux system it can be enabled in two ways: through the "
"<prgn>inetd</prgn> superdaemon (i.e. a line will be added to "
"<file>/etc/inetd.conf</file>) or through a standalone program that binds "
"itself to your network interfaces. Standalone programs are controlled "
"through the <file>/etc/init.d</file> files, which are called at boot time "
"through the SysV mechanism (or an alternative one) by using symlinks in "
"<file>/etc/rc?.d/*</file> (for more information on how this is done read "
"<file>/usr/share/doc/sysvinit/README.runlevels.gz</file>)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:285
msgid ""
"If you want to keep some services but use them rarely, use the "
"<prgn>update-*</prgn> commands, e.g. <prgn>update-inetd</prgn> and "
"<prgn>update-rc.d</prgn> to remove them from the startup process. For more "
"information on how to disable network services read <ref "
"id=\"disableserv\">. If you want to change the default behaviour of starting "
"up services on installation of their associated packages<footnote><p>This is "
"desirable if you are setting up a development chroot, for "
"example.</p></footnote> use <prgn>policy-rc.d</prgn>, please read "
"<file>/usr/share/doc/sysv-rc/README.policy-rc.d.gz</file> for more "
"information."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:291
msgid ""
"<prgn>invoke-rc.d</prgn> support is mandatory in Debian, which means that "
"for Debian 4.0 <em>etch</em> and later releases you can write a policy-rc.d "
"file that forbids starting new daemons before you configure them. Although "
"no such scripts are packaged yet, they are quite simple to write. See "
"<package>policyrcd-script-zg2</package>."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:293
msgid "Disabling daemon services"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:305
msgid ""
"Disabling a daemon service is quite simple. You either remove the package "
"providing the program for that service or you remove or rename the startup "
"links under <file>/etc/rc${runlevel}.d/</file>. If you rename them make sure "
"they do not begin with 'S' so that they don't get started by "
"<prgn>/etc/init.d/rc</prgn>. Do not remove all the available links or the "
"package management system will regenerate them on package upgrades, make "
"sure you leave at least one link (typically a 'K', i.e. kill, link). For "
"more information read <url "
"id=\"http://www.debian.org/doc/manuals/reference/ch-system.en.html#s-custombootscripts\" "
"name=\"Customizing runlevels\"> section of the Debian Reference (Chapter 2 - "
"Debian fundamentals)."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:309
msgid ""
"You can remove these links manually or using <tt>update-rc.d</tt> (see "
"<manref section=\"8\" name=\"update-rc.d\">). For example, you can disable a "
"service from executing in the multi-user runlevels by doing:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:311
#, no-wrap
msgid "  # update-rc.d <var>name</var> stop <var>XX</var> 2 3 4 5 ."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:325
msgid ""
"Where <em>XX</em> is a number that determines when the stop action for that "
"service will be executed. Please note that, if you are <em>not</em> using "
"<package>file-rc</package>, <tt>update-rc.d -f <var>service</var> "
"remove</tt> will not work properly, since <em>all</em> links are removed, "
"upon re-installation or upgrade of the package these links will be "
"re-generated (probably not what you wanted). If you think this is not "
"intuitive you are probably right (see <url "
"id=\"http://bugs.debian.org/67095\" name=\"Bug 67095\">). From the manpage:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:330
#, no-wrap
msgid ""
"  If any files /etc/rc<var>runlevel</var>.d/[SK]??name already exist then\n"
"  update-rc.d does nothing.  This is so that the system administrator \n"
"  can rearrange the  links,  provided that  they  leave  at  least one\n"
"  link remaining, without having their configuration overwritten."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:336
msgid ""
"If you are using <package>file-rc</package> all the information regarding "
"services bootup is handled by a common configuration file and is maintained "
"even if packages are removed from the system."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:343
msgid ""
"You can use the TUI (Text User Interface) provided by "
"<package>sysv-rc-conf</package> to do all these changes easily "
"(<prgn>sysv-rc-conf</prgn> works both for <package>file-rc</package> and "
"normal System V runlevels). You will also find similar GUIs for desktop "
"systems. You can also use the command line interface of "
"<package>sysv-rc-conf</package>:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:345
#, no-wrap
msgid "  # sysv-rc-conf foobar off"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:351
msgid ""
"The advantage of using this utility is that the rc.d links are returned to "
"the status they had before the 'off' call if you re-enable the service with:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:353
#, no-wrap
msgid "  # sysv-rc-conf foobar on"
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:358
msgid "Other (less recommended) methods of disabling services are:"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:363
msgid ""
"Removing the <file>/etc/init.d/<var>service_name</var></file> script and "
"removing the startup links using:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:365
#, no-wrap
msgid "  # update-rc.d <var>name</var> remove"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:374
msgid ""
"Move the script file (<file>/etc/init.d/<var>service_name</var></file>) to "
"another name (for example "
"<file>/etc/init.d/OFF.<var>service_name</var></file>). This will leave "
"dangling symlinks under <file>/etc/rc${runlevel}.d/</file> and will generate "
"error messages when booting up the system."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:378
msgid ""
"Remove the execute permission from the "
"<file>/etc/init.d/<var>service_name</var></file> file. That will also "
"generate error messages when booting."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:384
msgid ""
"Edit the <file>/etc/init.d/<var>service_name</var></file> script to have it "
"stop immediately once it is executed (by adding an <prgn>exit 0</prgn> line "
"at the beginning or commenting out the <tt>start-stop-daemon</tt> part in "
"it). If you do this, you will not be able to use the script to startup the "
"service manually later on."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:390
msgid ""
"Nevertheless, the files under <file>/etc/init.d</file> are configuration "
"files and should not get overwritten due to package upgrades if you have "
"made local changes to them."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:394
msgid ""
"Unlike other (UNIX) operating systems, services in Debian cannot be disabled "
"by modifying files in <file>/etc/default/<var>service_name</var></file>."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:397
msgid ""
"FIXME: Add more information on handling daemons using "
"<package>file-rc</package>."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:398
msgid "Disabling <prgn>inetd</prgn> or its services"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:408
msgid ""
"You should check if you really need the <prgn>inetd</prgn> daemon "
"nowadays. Inetd was always a way to compensate for kernel deficiencies, but "
"those have been taken care of in modern Linux kernels. Denial of Service "
"possibilities exist against <prgn>inetd</prgn> (which can increase the "
"machine's load tremendously), and many people always preferred using "
"stand-alone daemons instead of calling services via <prgn>inetd</prgn>. If "
"you still want to run some kind of <prgn>inetd</prgn> service, then at least "
"switch to a more configurable Inet daemon like <prgn>xinetd</prgn>, "
"<prgn>rlinetd</prgn> or <prgn>openbsd-inetd</prgn>."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:416
msgid ""
"You should stop all unneeded Inetd services on your system, like "
"<prgn>echo</prgn>, <prgn>chargen</prgn>, <prgn>discard</prgn>, "
"<prgn>daytime</prgn>, <prgn>time</prgn>, <prgn>talk</prgn>, "
"<prgn>ntalk</prgn> and r-services (<prgn>rsh</prgn>, <prgn>rlogin</prgn> and "
"<prgn>rcp</prgn>) which are considered HIGHLY insecure (use <prgn>ssh</prgn> "
"instead)."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:423
msgid ""
"You can disable services by editing <file>/etc/inetd.conf</file> directly, "
"but Debian provides a better alternative: <tt>update-inetd</tt> (which "
"comments the services in a way that it can easily be turned on again). You "
"could remove the <prgn>telnet</prgn> daemon by executing this commands to "
"change the config file and to restart the daemon (in this case the "
"<prgn>telnet</prgn> service is disabled):"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:425
#, no-wrap
msgid "  /usr/sbin/update-inetd --disable telnet"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:434
msgid ""
"If you do want services listening, but do not want to have them listen on "
"all IP addresses of your host, you might want to use an undocumented feature "
"on <prgn>inetd</prgn> (replace service name with service@ip syntax) or use "
"an alternative <prgn>inetd</prgn> daemon like <prgn>xinetd</prgn>."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:436
msgid "Install the minimum amount of software required"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:455
msgid ""
"Debian comes with <em>a lot</em> of software, for example the Debian 3.0 "
"<em>woody</em> release includes 6 or 7 (depending on architecture) CD-ROMs "
"of software and thousands of packages, and the Debian 3.1 <em>sarge</em> "
"release ships with around 13 CD-ROMs of software. With so much software, and "
"even if the base system installation is quite reduced <footnote><p>For "
"example, in Debian woody it is around 400-500 Mbs, try this: <example> $ "
"size=0 $ for i in `grep -A 1 -B 1 \"^Section: base\" /var/lib/dpkg/available "
"| grep -A 2 \"^Priority: required\" |grep \"^Installed-Size\" |cut -d : -f 2 "
"`; do size=$(($size+$i)); done $ echo $size 47762</example></p></footnote> "
"you might get carried away and install more than is really needed for your "
"system."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:462
msgid ""
"Since you already know what the system is for (don't you?) you should only "
"install software that is really needed for it to work. Any unnecessary tool "
"that is installed might be used by a user that wants to compromise the "
"system or by an external intruder that has gotten shell access (or remote "
"code execution through an exploitable service)."
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:467
msgid ""
"The presence, for example, of development utilities (a C compiler) or "
"interpreted languages (such as <prgn>perl</prgn> - but see below -, "
"<prgn>python</prgn>, <prgn>tcl</prgn>...) may help an attacker compromise "
"the system even further:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:472
msgid ""
"allowing him to do privilege escalation. It's easier, for example, to run "
"local exploits in the system if there is a debugger and compiler ready to "
"compile and test them!"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:481
msgid ""
"providing tools that could help the attacker to use the compromised system "
"as a <em>base of attack</em> against other systems. <footnote><p>Many "
"intrusions are made just to get access to resources to do illegitimate "
"activity (denial of service attacks, spam, rogue ftp servers, dns "
"pollution...) rather than to obtain confidential data from the compromised "
"system.</p></footnote>"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:493
msgid ""
"Of course, an intruder with local shell access can download his own set of "
"tools and execute them, and even the shell itself can be used to make "
"complex programs. Removing unnecessary software will not help "
"<em>prevent</em> the problem but will make it slightly more difficult for an "
"attacker to proceed (and some might give up in this situation looking for "
"easier targets). So, if you leave tools in a production system that could be "
"used to remotely attack systems (see <ref id=\"vuln-asses\">) you can expect "
"an intruder to use them too if available."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:501
msgid ""
"Please notice that a default installation of Debian <em>sarge</em> (i.e. an "
"installation where no individual packages are selected) will install a "
"number of development packages that are not usually needed. This is because "
"some development packages are of <em>Standard</em> priority. If you are not "
"going to do any development you can safely remove the following packages "
"from your system, which will also help free up some space:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:520
#, no-wrap
msgid ""
"Package                    Size\n"
"------------------------+--------\n"
"gdb                     2,766,822\n"
"gcc-3.3                 1,570,284\n"
"dpkg-dev                  166,800\n"
"libc6-dev               2,531,564\n"
"cpp-3.3                 1,391,346\n"
"manpages-dev            1,081,408\n"
"flex                      257,678\n"
"g++                         1,384 (Note: virtual package)\n"
"linux-kernel-headers    1,377,022\n"
"bin86                      82,090\n"
"cpp                        29,446\n"
"gcc                         4,896 (Note: virtual package)\n"
"g++-3.3                 1,778,880\n"
"bison                     702,830\n"
"make                      366,138\n"
"libstdc++5-3.3-dev        774,982"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:530
msgid ""
"This is something that is fixed in releases post-sarge, see <url "
"id=\"http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=301273\" name=\"Bug "
"#301273\"> and <url "
"id=\"http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=301138\" name=\"Bug "
"#301138\">. Due to a bug in the installation system this did not happen when "
"installing with the installation system of the Debian 3.0 <em>woody</em> "
"release."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:532
msgid "Removing Perl"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:542
msgid ""
"You must take into account that removing <prgn>perl</prgn> might not be too "
"easy (as a matter of fact it can be quite difficult) in a Debian system "
"since it is used by many system utilities. Also, the "
"<package>perl-base</package> is <em>Priority: required</em> (that about says "
"it all). It's still doable, but you will not be able to run any "
"<prgn>perl</prgn> application in the system; you will also have to fool the "
"package management system to think that the <package>perl-base</package> is "
"installed even if it's not. <footnote><p>You can make (on another system) a "
"dummy package with <package>equivs</package>.</p></footnote>"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:544
msgid "Which utilities use <prgn>perl</prgn>? You can see for yourself:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:547
#, no-wrap
msgid ""
"  $ for i in /bin/* /sbin/* /usr/bin/* /usr/sbin/*; do [ -f $i ] && {\n"
"  type=`file $i | grep -il perl`; [ -n \"$type\" ] && echo $i; }; done"
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:552
msgid ""
"These include the following utilities in packages with priority "
"<em>required</em> or <em>important</em>:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:556
msgid "<file>/usr/bin/chkdupexe</file> of package <package>util-linux</package>."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:559
msgid "<file>/usr/bin/replay</file> of package <package>bsdutils</package>."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:562
msgid "<file>/usr/sbin/cleanup-info</file> of package <package>dpkg</package>."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:565
msgid "<file>/usr/sbin/dpkg-divert</file> of package <package>dpkg</package>."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:568
msgid "<file>/usr/sbin/dpkg-statoverride</file> of package <package>dpkg</package>."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:571
msgid "<file>/usr/sbin/install-info</file> of package <package>dpkg</package>."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:574
msgid ""
"<file>/usr/sbin/update-alternatives</file> of package "
"<package>dpkg</package>."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:577
msgid "<file>/usr/sbin/update-rc.d</file> of package <package>sysvinit</package>."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:580
msgid "<file>/usr/bin/grog</file> of package <package>groff-base</package>."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:583
msgid "<file>/usr/sbin/adduser</file> of package <package>adduser</package>."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:586
msgid "<file>/usr/sbin/debconf-show</file> of package <package>debconf</package>."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:589
msgid "<file>/usr/sbin/deluser</file> of package <package>adduser</package>."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:592
msgid ""
"<file>/usr/sbin/dpkg-preconfigure</file> of package "
"<package>debconf</package>."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:595
msgid ""
"<file>/usr/sbin/dpkg-reconfigure</file> of package "
"<package>debconf</package>."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:598
msgid "<file>/usr/sbin/exigrep</file> of package <package>exim</package>."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:601
msgid "<file>/usr/sbin/eximconfig</file> of package <package>exim</package>."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:604
msgid "<file>/usr/sbin/eximstats</file> of package <package>exim</package>."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:607
msgid ""
"<file>/usr/sbin/exim-upgrade-to-r3</file> of package "
"<package>exim</package>."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:610
msgid "<file>/usr/sbin/exiqsumm</file> of package <package>exim</package>."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:613
msgid "<file>/usr/sbin/keytab-lilo</file> of package <package>lilo</package>."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:616
msgid "<file>/usr/sbin/liloconfig</file> of package <package>lilo</package>."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:619
msgid "<file>/usr/sbin/lilo_find_mbr</file> of package <package>lilo</package>."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:622
msgid ""
"<file>/usr/sbin/syslogd-listfiles</file> of package "
"<package>sysklogd</package>."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:625
msgid ""
"<file>/usr/sbin/syslog-facility</file> of package "
"<package>sysklogd</package>."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:628
msgid "<file>/usr/sbin/update-inetd</file> of package <package>netbase</package>."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:635
msgid ""
"So, without Perl and, unless you remake these utilities in shell script, you "
"will probably not be able to manage any packages (so you will not be able to "
"upgrade the system, which is <em>not a Good Thing</em>)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:640
msgid ""
"If you are determined to remove Perl from the Debian base system, and you "
"have spare time, submit bug reports to the previous packages including (as a "
"patch) replacements for the utilities above written in shell script."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:642
msgid "If you wish to check out which Debian packages depend on Perl you can use"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:644
#, no-wrap
msgid "$ grep-available -s Package,Priority -F Depends perl"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:647
msgid "or"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:649
#, no-wrap
msgid "$ apt-cache rdepends perl"
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:653
msgid "Read the Debian security mailing lists"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:659
msgid ""
"It is never wrong to take a look at either the debian-security-announce "
"mailing list, where advisories and fixes to released packages are announced "
"by the Debian security team, or at <url "
"id=\"mailto:debian-security@lists.debian.org\">, where you can participate "
"in discussions about things related to Debian security."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:51 en/before-install.sgml:667
msgid ""
"In order to receive important security update alerts, send an email to <url "
"id=\"mailto:debian-security-announce-request@lists.debian.org\" "
"name=\"debian-security-announce-request@lists.debian.org\"> with the word "
"\"subscribe\" in the subject line. You can also subscribe to this moderated "
"email list via the web page at <url "
"id=\"http://www.debian.org/MailingLists/subscribe\" "
"name=\"http://www.debian.org/MailingLists/subscribe\">."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:3
msgid ""
"This mailing list has very low volume, and by subscribing to it you will be "
"immediately alerted of security updates for the Debian distribution. This "
"allows you to quickly download new packages with security bug fixes, which "
"is very important in maintaining a secure system (see <ref "
"id=\"security-update\"> for details on how to do this)."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:5
msgid "After installation"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:12
msgid ""
"Once the system is installed you can still do more to secure the system; "
"some of the steps described in this chapter can be taken. Of course this "
"really depends on your setup but for physical access prevention you should "
"read <ref id=\"bios-boot\">,<ref id=\"lilo-passwd\">,<ref "
"id=\"kernel-root-prompt\">, <ref id=\"restrict-console-login\">, and <ref "
"id=\"restrict-reboots\">."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:17
msgid ""
"Before connecting to any network, especially if it's a public one you "
"should, at the very least, execute a security update (see <ref "
"id=\"security-update\">). Optionally, you could take a snapshot of your "
"system (see <ref id=\"snapshot\">)."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:19
msgid "Subscribe to the Debian Security Announce mailing list"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:26
msgid ""
"In order to receive information on available security updates you should "
"subscribe yourself to the debian-security-announce mailing list in order to "
"receive the Debian Security Advisories (DSAs). See <ref "
"id=\"debian-sec-team\"> for more information on how the Debian security team "
"works. For information on how to subscribe to the Debian mailing lists read "
"<url id=\"http://lists.debian.org\">."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:29
msgid ""
"DSAs are signed with the Debian Security Team's signature which can be "
"retrieved from <url id=\"http://security.debian.org\">."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:37
msgid ""
"You should consider, also, subscribing to the <url "
"id=\"http://lists.debian.org/debian-security\" name=\"debian-security "
"mailing list\"> for general discussion on security issues in the Debian "
"operating system. You will be able to contact other fellow system "
"administrators in the list as well as Debian developers and upstream "
"developers of security tools who can answer your questions and offer advice."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:39
msgid "FIXME: Add the key here too?"
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:41
msgid "Execute a security update"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:46
msgid ""
"As soon as new security bugs are detected in packages, Debian maintainers "
"and upstream authors generally patch them within days or even hours. After "
"the bug is fixed, a new package is provided on <url "
"id=\"http://security.debian.org\" name=\"http://security.debian.org\">."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:52
msgid ""
"If you are installing a Debian release you must take into account that since "
"the release was made there might have been security updates after it has "
"been determined that a given package is vulnerable. Also, there might have "
"been minor releases (there have been four for the Debian 3.0 <em>sarge</em> "
"release) which include these package updates."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:58
msgid ""
"During installation security updates are configured for your system and "
"pending updates downloaded and applied, unless you specifically opt out of "
"this or the system was not connected to the Internet. The updates are "
"applied even before the first boot, so the new system starts its life as up "
"to date as possible."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:63
msgid ""
"To manually update the system, put the following line in your "
"<file>sources.list</file> and you will get security updates automatically, "
"whenever you update your system. Replace <em>[CODENAME]</em> with the "
"release codename, e.g. <em>squeeze</em>."
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:65
#, no-wrap
msgid "  deb http://security.debian.org/ [CODENAME]/updates main contrib non-free"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:70
msgid ""
"<em>Note</em>: If you are using the <em>testing</em> branch use the security "
"testing mirror sources as described in <ref "
"id=\"security-support-testing\">."
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:83
msgid ""
"Once you've done this you can use multiple tools to upgrade your system. If "
"you are running a desktop system you will have<footnote><p>In <em>Etch</em> "
"and later releases</p></footnote> an application called "
"<prgn>update-notifier</prgn> that will make it easy to check if new updates "
"are available, by selecting it you can make a system upgrade from the "
"desktop (using <prgn>update-manager</prgn>). For more information see <ref "
"id=\"update-desktop\">. In desktop environments you can also use "
"<package>synaptic</package> (GNOME), <package>kpackage</package> or "
"<package>adept</package> (KDE) for more advanced interfaces. If you are "
"running a text-only terminal you can use <package>aptitude</package>, "
"<package>apt</package> or <package>dselect</package> (deprecated) to "
"upgrade:"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:87
msgid ""
"If you want to use <package>aptitude</package>'s text interface you just "
"have to press <em>u</em> (update) followed by <em>g</em> (to upgrade). Or "
"just do the following from the command line (as root):"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:90
#, no-wrap
msgid ""
"# aptitude update\n"
"# aptitude upgrade"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:95
msgid ""
"If you want to use <package>apt</package> do just like with aptitude but "
"substitute the <prgn>aptitude</prgn> lines above with <prgn>apt-get</prgn>."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:97
msgid ""
"If you want to use <package>dselect</package> then first [U]pdate, then "
"[I]nstall and finally, [C]onfigure the installed/upgraded packages."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:103
msgid ""
"If you like, you can add the deb-src lines to "
"<file>/etc/apt/sources.list</file> as well. See <manref section=\"8\" "
"name=\"apt\"> for further details."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:105
msgid "Security update of libraries"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:115
msgid ""
"Once you have executed a security update you might need to restart some of "
"the system services. If you do not do this, some services might still be "
"vulnerable after a security upgrade. The reason for this is that daemons "
"that are running before an upgrade might still be using the old libraries "
"before the upgrade <footnote><p>Even though the libraries have been removed "
"from the filesystem the inodes will not be cleared up until no program has "
"an open file descriptor pointing to them.</p></footnote>. In order to detect "
"which daemons might need to be restarted you can use the "
"<prgn>checkrestart</prgn> program (available in the "
"<package>debian-goodies</package> package) or use this one "
"liner<footnote><p>Depending on your lsof version you might need to use $8 "
"instead of $9</p></footnote> (as root):"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:117
#, no-wrap
msgid ""
"# lsof | grep &lt;the_upgraded_library&gt; | awk '{print $1, $9}' | uniq | "
"sort -k 1"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:125
msgid ""
"Some packages (like <package>libc6</package>) will do this check in the "
"postinst phase for a limited set of services specially since an upgrade of "
"essential libraries might break some applications (until "
"restarted)<footnote><p>This happened, for example, in the upgrade from libc6 "
"2.2.x to 2.3.x due to NSS authentication issues, see <url "
"id=\"http://lists.debian.org/debian-glibc/2003/debian-glibc-200303/msg00276.html\">.</p></footnote>."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:130
msgid ""
"Bringing the system to run level 1 (single user) and then back to run level "
"3 (multi user) should take care of the restart of most (if not all) system "
"services. But this is not an option if you are executing the security "
"upgrade from a remote connection (like ssh) since it will be severed."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:136
msgid ""
"Excercise caution when dealing with security upgrades if you are doing them "
"over a remote connection like ssh. A suggested procedure for a security "
"upgrade that involves a service restart is to restart the SSH daemon and "
"then, inmediately, attempt a new ssh connection without breaking the "
"previous one. If the connection fails, revert the upgrade and investigate "
"the issue."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:139
msgid "Security update of the kernel"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:145
msgid ""
"First, make sure your kernel is being managed through the packaging "
"system. If you have installed using the installation system from Debian 3.0 "
"or previous releases, your kernel is <em>not</em> integrated into the "
"packaging system and might be out of date. You can easily confirm this by "
"running:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:148
#, no-wrap
msgid ""
"$ dpkg -S `readlink -f /vmlinuz`\n"
"linux-image-2.6.18-4-686: /boot/vmlinuz-2.6.18-4-686"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:168
msgid ""
"If your kernel is not being managed you will see a message saying that the "
"package manager did not find the file associated to any package instead of "
"the message above, which says that the file associated to the current "
"running kernel is being provided by the "
"<package>linux-image-2.6.18-4-686</package>. So first, you will need to "
"manually install a kernel image package. The exact kernel image you need to "
"install depends on your architecture and your prefered kernel version. Once "
"this is done, you will be able to manage the security updates of the kernel "
"just like those of any other package. In any case, notice that the kernel "
"updates will <em>only</em> be done for kernel updates of the same kernel "
"version you are using, that is, <prgn>apt</prgn> will not automatically "
"upgrade your kernel from the 2.4 release to the 2.6 release (or from the "
"2.4.26 release to the 2.4.27 release<footnote><p>Unless you have installed a "
"kernel metapackage like <package>linux-image-2.6-686</package> which will "
"always pull in the latest kernel minor revision for a kernel release and a "
"given architecture.</p></footnote>)."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:172
msgid ""
"The installation system of recent Debian releases will handle the selected "
"kernel as part of the package system. You can review which kernels you have "
"installed by running:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:174
#, no-wrap
msgid "$ COLUMNS=150 dpkg -l 'linux-image*' | awk '$1 ~ /ii/ { print $0 }'"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:178
msgid "To see if your kernel needs to be updated run:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:188
#, no-wrap
msgid ""
"$ kernfile=`readlink -f /vmlinuz`\n"
"$ kernel=`dpkg -S $kernfile | awk -F : '{print $1}'`\n"
"$ apt-cache policy $kernel\n"
"linux-image-2.6.18-4-686:\n"
"  Installed: 2.6.18.dfsg.1-12\n"
"  Candidate: 2.6.18.dfsg.1-12\n"
"  Version table:\n"
" *** 2.6.18.dfsg.1-12 0\n"
"        100 /var/lib/dpkg/status"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:198
msgid ""
"If you are doing a security update which includes the kernel image you "
"<em>need</em> to reboot the system in order for the security update to be "
"useful. Otherwise, you will still be running the old (and vulnerable) kernel "
"image."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:222
msgid ""
"If you need to do a system reboot (because of a kernel upgrade) you should "
"make sure that the kernel will boot up correctly and network connectivity "
"will be restored, specially if the security upgrade is done over a remote "
"connection like ssh. For the former you can configure your boot loader to "
"reboot to the original kernel in the event of a failure (for more detailed "
"information read <url "
"id=\"http://www.debian-administration.org/?article=70\" name=\"Remotely "
"rebooting Debian GNU/Linux machines\">). For the latter you have to "
"introduce a network connectivity test script that will check if the kernel "
"has started up the network subsystem properly and reboot the system if it "
"did not<footnote><p>A sample script called <url "
"id=\"http://www.debian-administration.org/articles/70/testnet\" "
"name=\"testnet\"> is available in the <url "
"id=\"http://www.debian-administration.org/?article=70\" name=\"Remotely "
"rebooting Debian GNU/Linux machines\"> article. A more elaborate network "
"connectivity testing script is available in the <url "
"id=\"http://www.debian-administration.org/?article=128\" name=\"Testing "
"network connectivity\"> article.</p></footnote>. This should prevent nasty "
"surprises like updating the kernel and then realizing, after a reboot, that "
"it did not detect or configure the network hardware properly and you need to "
"travel a long distance to bring the system up again. Of course, having the "
"system serial console <footnote><p>Setting up a serial console is beyond the "
"scope of this document, for more information read the <url "
"id=\"http://www.tldp.org/HOWTO/Serial-HOWTO.html\" name=\"Serial HOWTO\"> "
"and the <url "
"id=\"http://www.tldp.org/HOWTO/Remote-Serial-Console-HOWTO/index.html\" "
"name=\"Remote Serial Console HOWTO\">.</p></footnote> in the system "
"connected to a console or terminal server should also help debug reboot "
"issues remotely."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:228
msgid "Change the BIOS (again)"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:235
msgid ""
"Remember <ref id=\"bios-passwd\">? Well, then you should now, once you do "
"not need to boot from removable media, to change the default BIOS setup so "
"that it <em>only</em> boots from the hard drive. Make sure you will not lose "
"the BIOS password, otherwise, in the event of a hard disk failure you will "
"not be able to return to the BIOS and change the setup so you can recover it "
"using, for example, a CD-ROM."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:240
msgid ""
"Another less secure but more convenient way is to change the setup to have "
"the system boot up from the hard disk and, if it fails, try removable "
"media. By the way, this is often done because most people don't use the BIOS "
"password that often; it's easily forgotten."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:241
msgid "Set a LILO or GRUB password"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:248
msgid ""
"Anybody can easily get a root-shell and change your passwords by entering "
"<tt>&lt;name-of-your-bootimage&gt; init=/bin/sh</tt> at the boot "
"prompt. After changing the passwords and rebooting the system, the person "
"has unlimited root-access and can do anything he/she wants to the "
"system. After this procedure you will not have root access to your system, "
"as you do not know the root password."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:252
msgid ""
"To make sure that this cannot happen, you should set a password for the boot "
"loader. You can choose between a global password or a password for a certain "
"image."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:256
msgid ""
"For LILO you need to edit the config file <file>/etc/lilo.conf</file> and "
"add a <tt>password</tt> and <tt>restricted</tt> line as in the example "
"below."
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:262
#, no-wrap
msgid ""
"  image=/boot/2.2.14-vmlinuz\n"
"     label=Linux\n"
"     read-only\n"
"     password=hackme\n"
"     restricted"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:272
msgid ""
"Then, make sure that the configuration file is not world readable to prevent "
"local users from reading the password. When done, rerun lilo. Omitting the "
"<tt>restricted</tt> line causes lilo to always prompt for a password, "
"regardless of whether LILO was passed parameters. The default permissions "
"for <file>/etc/lilo.conf</file> grant read and write permissions to root, "
"and enable read-only access for <file>lilo.conf</file>'s group, root."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:279
msgid ""
"If you use GRUB instead of LILO, edit <file>/boot/grub/menu.lst</file> and "
"add the following two lines at the top (substituting, of course "
"<tt>hackme</tt> with the desired password). This prevents users from editing "
"the boot items. <tt>timeout 3</tt> specifies a 3 second delay before "
"<prgn>grub</prgn> boots the default item."
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:282
#, no-wrap
msgid ""
"  timeout 3\n"
"  password hackme"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:290
msgid ""
"To further harden the integrity of the password, you may store the password "
"in an encrypted form. The utility <prgn>grub-md5-crypt</prgn> generates a "
"hashed password which is compatible with GRUB's encrypted password algorithm "
"(MD5). To specify in <prgn>grub</prgn> that an MD5 format password will be "
"used, use the following directive:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:293
#, no-wrap
msgid ""
"  timeout 3\n"
"  password --md5 $1$bw0ez$tljnxxKLfMzmnDVaQWgjP0"
msgstr ""

#. type: </example></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:301
msgid ""
"The --md5 parameter was added to instruct <prgn>grub</prgn> to perform the "
"MD5 authentication process. The provided password is the MD5 encrypted "
"version of hackme. Using the MD5 password method is preferable to choosing "
"its clear-text counterpart. More information about <prgn>grub</prgn> "
"passwords may be found in the <package>grub-doc</package> package."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:303
msgid "Disable root prompt on the initramfs"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:306
msgid ""
"Note: This applies to the default kernels provided for releases after Debian "
"3.1"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:312
msgid ""
"Linux 2.6 kernels provide a way to access a root shell while booting which "
"will be presented during loading the initramfs on error. This is helpful to "
"permit the administrator to enter a rescue shell with root permissions. This "
"shell can be used to manually load modules when autodetection fails. This "
"behavior is the default for <prgn>initramfs-tools</prgn> generated "
"initramfs. The following message will appear:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:314
#, no-wrap
msgid "  \"ALERT!  /dev/sda1 does not exist.  Dropping to a shell!"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:321
msgid ""
"In order to remove this behavior you need to set the following boot "
"argument:<em>panic=0</em>. Either add it to the kopt section of "
"<file>/boot/grub/menu.lst</file> and issue <prgn>update-grub</prgn> or to "
"the append section of <file>/etc/lilo.conf</file>."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:323
msgid "Remove root prompt on the kernel"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:326
msgid ""
"Note: This does not apply to the kernels provided for Debian 3.1 as the "
"timeout for the kernel delay has been changed to 0."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:332
msgid ""
"Linux 2.4 kernels provide a way to access a root shell while booting which "
"will be presented just after loading the cramfs file system. A message will "
"appear to permit the administrator to enter an executable shell with root "
"permissions, this shell can be used to manually load modules when "
"autodetection fails. This behavior is the default for <prgn>initrd</prgn>'s "
"<file>linuxrc</file>. The following message will appear:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:334
#, no-wrap
msgid "  Press ENTER to obtain a shell (waits 5 seconds)"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:338
msgid ""
"In order to remove this behavior you need to change "
"<file>/etc/mkinitrd/mkinitrd.conf</file> and set:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:342
#, no-wrap
msgid ""
"  # DELAY  The  number  of seconds the linuxrc script should wait to\n"
"  # allow the user to interrupt it before the system is brought up\n"
"  DELAY=0"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:344
msgid "Then regenerate your ramdisk image. You can do this for example with:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:347
#, no-wrap
msgid ""
"  # cd /boot\n"
"  # mkinitrd -o initrd.img-2.4.18-k7 /lib/modules/2.4.18-k7"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:349
msgid "or (preferred):"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:351
#, no-wrap
msgid "  # dpkg-reconfigure -plow kernel-image-2.4.x-yz"
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:356
msgid "Restricting console login access"
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:363
msgid ""
"Some security policies might force administrators to log in to the system "
"through the console with their user/password and then become superuser (with "
"<prgn>su</prgn> or <prgn>sudo</prgn>). This policy is implemented in Debian "
"by editing the <file>/etc/pam.d/login</file> and the "
"<file>/etc/securetty</file> when using PAM:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:373
msgid ""
"<file>/etc/pam.d/login</file> <footnote><p>In older Debian releases you "
"would need to edit <file>login.defs</file>, and use the CONSOLE variable "
"which defines a file or list of terminals on which root logins are "
"allowed.</p></footnote> enables the pam_securetty.so module. This module, "
"when properly configured will not ask for a password when the root user "
"tries to login on an insecure console, rejecting access as this user."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:405
msgid ""
"<file>securetty</file> <footnote><p>The <file>/etc/securetty</file> is a "
"configuration file that belongs to the <package>login</package> "
"package.</p></footnote> by adding/removing the terminals to which root "
"access will be allowed. If you wish to allow only local console access then "
"you need <em>console</em>, <em>ttyX</em><footnote><p>Or <em>ttyvX</em> in "
"GNU/FreeBSD, and <em>ttyE0</em> in GNU/KNetBSD.</p></footnote> and "
"<em>vc/X</em> (if using <em>devfs</em> devices), you might want to add also "
"<em>ttySX</em><footnote><p>Or <em>comX</em> in GNU/Hurd, <em>cuaaX</em> in "
"GNU/FreeBSD, and <em>ttyXX</em> in GNU/KNetBSD.</p></footnote> if you are "
"using a serial console for local access (where X is an integer, you might "
"want to have multiple instances. The default configuration for "
"<em>Wheezy</em> <footnote><p>The default configuration in <em>woody</em> "
"includes 12 local tty and vc consoles, as well as the <em>console</em> "
"device but does not allow remote logins. In <em>sarge</em> the default "
"configuration provides 64 consoles for tty and vc consoles.</p></footnote> "
"includes many tty devices, serial ports, vc consoles as well as the X server "
"and the <em>console</em> device. You can safely adjust this if you are not "
"using that many consoles. You can confirm the virtual consoles and the tty "
"devices you have by reviewing <file>/etc/inittab</file> <footnote><p>Look "
"for the <em>getty</em> calls.</p></footnote> . For more information on "
"terminal devices read the <url "
"id=\"http://tldp.org/HOWTO/Text-Terminal-HOWTO-6.html\" "
"name=\"Text-Terminal-HOWTO\">."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:414
msgid ""
"When using PAM, other changes to the login process, which might include "
"restrictions to users and groups at given times, can be configured in "
"<file>/etc/pam.d/login</file>. An interesting feature that can be disabled "
"is the possibility to login with null (blank) passwords. This feature can be "
"limited by removing <em>nullok</em> from the line:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:416
#, no-wrap
msgid "  auth       required   pam_unix.so nullok"
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:420
msgid "Restricting system reboots through the console"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:426
msgid ""
"If your system has a keyboard attached to it anyone (yes <em>anyone</em>) "
"with physical access to the system can reboot the system through it without "
"login in just pressing the <em>Ctrl+Alt+Delete</em> keyboard combination, "
"also known as the <em>three finger salute</em>. This might, or might not, "
"adhere to your security policy."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:433
msgid ""
"This is aggravated in environments in which the operating system is running "
"virtualised. In these environments, the possibility extends to users that "
"have access to the virtual console (which might be accessed over the "
"network). Also note that, in these environments, this keyboard combination "
"is used constantly (to open a login shell in some GUI operating systems) and "
"an administrator might <em>virtually</em> send it and force a system reboot."
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:435
msgid "There are two ways to restrict this:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:438
msgid "configure it so that only <em>allowed</em> users can reboot the system,"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:439
msgid "disable this feature completely."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:445
msgid ""
"If you want to restrict this, you must check the <file>/etc/inittab</file> "
"so that the line that includes <tt>ctrlaltdel</tt> calls "
"<prgn>shutdown</prgn> with the <tt>-a</tt> switch."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:447
msgid "The default in Debian includes this switch:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:449
#, no-wrap
msgid "  ca:12345:ctrlaltdel:/sbin/shutdown -t1 -a -r now"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:460
msgid ""
"The <tt>-a</tt> switch, as the <manref section=\"8\" name=\"shutdown\"> "
"manpage describes,makes it possible to allow <em>some</em> users to shutdown "
"the system. For this the file <file>/etc/shutdown.allow</file> must be "
"created and the administrator has to include there the name of users which "
"can boot the system. When the <em>three finger salute</em> combination is "
"pressed in a console the program will check if any of the users listed in "
"the file are logged in. If none of them is, <prgn>shutdown</prgn> will "
"<em>not</em> reboot the system."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:464
msgid ""
"If you want to disable the Ctrl+Alt+Del combination you just need to comment "
"the line with the <em>ctrlaltdel</em> definition in the "
"<file>/etc/inittab</file>."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:465
msgid ""
"Remember to run <tt>init q</tt> after making any changes to the "
"<file>/etc/inittab</file> file for the changes to take effect."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:471
msgid "Restricting the use of the Magic SysRq key"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:477
msgid ""
"The <em>Magic SysRq key</em> is a key combination that allows users "
"connected to the system console of a Linux kernel to perform some low-level "
"commands. These low-level commands are sent by pressing simultaneously "
"<em>Alt+SysRq</em> and a command key. The SysRq key in many keyboards is "
"labeled as the <em>Print Screen</em> key."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:482
msgid ""
"Since the Etch release, the Magic SysRq key feature is enabled in the Linux "
"kernel to allow console users certain privileges. You can confirm this by "
"checking if the <file>/proc/sys/kernel/sysrq</file> exists and reviewing its "
"value:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:485
#, no-wrap
msgid ""
"$ cat /proc/sys/kernel/sysrq \n"
"438"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:493
msgid ""
"The default value shown above allows all of the SysRq functions except for "
"the possibility of sending signals to processes. For example, it allow users "
"connected to the console to remount all systems read-only, reboot the system "
"or cause a kernel panic. In all the features are enabled, or in older "
"kernels (earlier than 2.6.12) the value will be just 1."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:499
msgid ""
"You should disable this functionality ifaccess to the console is not "
"restricted to authorised users: the console is connected to a modem line, "
"there is easy physical access to the system or it is running in a "
"virtualised environment and other users access the console. To do this edit "
"the <file>/etc/sysctl.conf</file> and add the following lines:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:502
#, no-wrap
msgid ""
"# Disables the magic SysRq key\n"
"kernel.sysrq = 0"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:510
msgid ""
"For more information, read <url "
"id=\"http://tldp.org/HOWTO/Remote-Serial-Console-HOWTO/security-sysrq.html\" "
"name=\"security chapter in the Remote Serial Console HOWTO\">, <url "
"id=\"http://kernel.org/doc/Documentation/sysrq.txt\" name=\"Kernel SysRQ "
"documentation\">. and the <url "
"id=\"http://en.wikipedia.org/wiki/Magic_SysRq_key\" name=\"Magic_SysRq_key "
"wikipedia entry\">."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:511
msgid "Mounting partitions the right way"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:518
msgid ""
"When mounting an <tt>Ext</tt> file system (<tt>ext2</tt>, <tt>ext3</tt> or "
"<tt>ext4</tt>), there are several additional options you can apply to the "
"mount call or to <file>/etc/fstab</file>. For instance, this is my fstab "
"entry for the <file>/tmp</file> partition:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:520
#, no-wrap
msgid "  /dev/hda7    /tmp    ext2    defaults,nosuid,noexec,nodev    0    2"
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:528
msgid ""
"You see the difference in the options sections. The option <tt>nosuid</tt> "
"ignores the setuid and setgid bits completely, while <tt>noexec</tt> forbids "
"execution of any program on that mount point, and <tt>nodev</tt> ignores "
"device files. This sounds great, but it:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:530
msgid "only applies to <tt>ext2</tt> or <tt>ext3</tt> file systems"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:531
msgid "can be circumvented easily"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:536
msgid ""
"The <tt>noexec</tt> option prevents binaries from being executed directly, "
"but was easily circumvented in earlier versions of the kernel:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:543
#, no-wrap
msgid ""
"  alex@joker:/tmp# mount | grep tmp\n"
"  /dev/hda7 on /tmp type ext2 (rw,noexec,nosuid,nodev)\n"
"  alex@joker:/tmp# ./date\n"
"  bash: ./date: Permission denied\n"
"  alex@joker:/tmp# /lib/ld-linux.so.2 ./date\n"
"  Sun Dec  3 17:49:23 CET 2000"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:548
msgid ""
"Newer versions of the kernel do however handle the <tt>noexec</tt> flag "
"properly:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:556
#, no-wrap
msgid ""
"  angrist:/tmp# mount | grep /tmp\n"
"  /dev/hda3 on /tmp type ext3 (rw,noexec,nosuid,nodev)\n"
"  angrist:/tmp# ./date\n"
"  bash: ./tmp: Permission denied \n"
"  angrist:/tmp# /lib/ld-linux.so.2 ./date \n"
"  ./date: error while loading shared libraries: ./date: failed to map "
"segment \n"
"  from shared object: Operation not permitted"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:564
msgid ""
"However, many script kiddies have exploits which try to create and execute "
"files in <file>/tmp</file>. If they do not have a clue, they will fall into "
"this pit. In other words, a user cannot be tricked into executing a "
"trojanized binary in <file>/tmp</file> e.g. when he incidentally adds "
"<file>/tmp</file> into his PATH."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:569
msgid ""
"Also be forewarned, some script might depend on <file>/tmp</file> being "
"executable. Most notably, Debconf has (had?) some issues regarding this, for "
"more information see Bug <url id=\"http://bugs.debian.org/116448\" "
"name=\"116448\">."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:578
msgid ""
"The following is a more thorough example. A note, though: <file>/var</file> "
"could be set noexec, but some software <footnote><p>Some of this includes "
"the package manager <package>dpkg</package> since the installation "
"(post,pre) and removal (post,pre) scripts are at <file>/var/lib/dpkg/</file> "
"and Smartlist</p></footnote> keeps its programs under in "
"<file>/var</file>. The same applies to the nosuid option."
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:590
#, no-wrap
msgid ""
"/dev/sda6   /usr          ext3    defaults,ro,nodev       0       2\n"
"/dev/sda12  /usr/share    ext3    defaults,ro,nodev,nosuid        0       "
"2\n"
"/dev/sda7   /var          ext3    defaults,nodev,usrquota,grpquota 0      "
"2\n"
"/dev/sda8   /tmp          ext3    "
"defaults,nodev,nosuid,noexec,usrquota,grpquota    0       2\n"
"/dev/sda9   /var/tmp      ext3    "
"defaults,nodev,nosuid,noexec,usrquota,grpquota    0       2\n"
"/dev/sda10  /var/log      ext3    defaults,nodev,nosuid,noexec    0       "
"2\n"
"/dev/sda11  /var/account  ext3    defaults,nodev,nosuid,noexec    0       "
"2\n"
"/dev/sda13  /home         ext3    "
"rw,nosuid,nodev,exec,auto,nouser,async,usrquota,grpquota                0       "
"2\n"
"/dev/fd0    /mnt/fd0      ext3    defaults,users,nodev,nosuid,noexec      0       "
"0\n"
"/dev/fd0    /mnt/floppy   vfat    defaults,users,nodev,nosuid,noexec      0       "
"0\n"
"/dev/hda    /mnt/cdrom    iso9660 ro,users,nodev,nosuid,noexec            0       "
"0"
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:593
msgid "Setting <file>/tmp</file> noexec"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:616
msgid ""
"Be careful if setting <file>/tmp</file> noexec when you want to install new "
"software, since some programs might use it for "
"installation. <package>apt</package> is one such program (see <url "
"id=\"http://bugs.debian.org/116448\">) if not configured properly "
"<tt>APT::ExtractTemplates::TempDir</tt> (see <manref section=\"1\" "
"name=\"apt-extracttemplates\">). You can set this variable in "
"<file>/etc/apt/apt.conf</file> to another directory with exec privileges "
"other than <file>/tmp</file>."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:617
msgid "Setting /usr read-only"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:624
msgid ""
"If you set <file>/usr</file> read-only you will not be able to install new "
"packages on your Debian GNU/Linux system. You will have to first remount it "
"read-write, install the packages and then remount it "
"read-only. <package>apt</package> can be configured to run commands before "
"and after installing packages, so you might want to configure it properly."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:625
msgid "To do this modify <file>/etc/apt/apt.conf</file> and add:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:631
#, no-wrap
msgid ""
"  DPkg\n"
"  {\n"
"      Pre-Invoke  { \"mount /usr -o remount,rw\" };\n"
"      Post-Invoke { \"mount /usr -o remount,ro\" };\n"
"  };"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:636
msgid ""
"Note that the Post-Invoke may fail with a \"/usr busy\" error message. This "
"happens mainly when you are using files during the update that got "
"updated. You can find these programs by running"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:638
#, no-wrap
msgid "# lsof +L1"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:648
msgid ""
"Stop or restart these programs and run the Post-Invoke "
"manually. <em>Beware!</em> This means you'll likely need to restart your X "
"session (if you're running one) every time you do a major upgrade of your "
"system. You might want to reconsider whether a read-only <file>/usr</file> "
"is suitable for your system. See also this <url "
"id=\"http://lists.debian.org/debian-devel/2001/11/threads.html#00212\" "
"name=\"discussion on debian-devel about read-only /usr\">."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:650
msgid "Providing secure user access"
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:652
msgid "User authentication: PAM"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:662
msgid ""
"PAM (Pluggable Authentication Modules) allows system administrators to "
"choose how applications authenticate users. Note that PAM can do nothing "
"unless an application is compiled with support for PAM. Most of the "
"applications that are shipped with Debian have this support built in (Debian "
"did not have PAM support before 2.2). The current default configuration for "
"any PAM-enabled service is to emulate UNIX authentication (read "
"<file>/usr/share/doc/libpam0g/Debian-PAM-MiniPolicy.gz</file> for more "
"information on how PAM services <em>should</em> work in Debian)."
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:665
msgid ""
"Each application with PAM support provides a configuration file in "
"<file>/etc/pam.d/</file> which can be used to modify its behavior:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:667
msgid "what backend is used for authentication."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:668
msgid "what backend is used for sessions."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:669
msgid "how do password checks behave."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:677
msgid ""
"The following description is far from complete, for more information you "
"might want to read the <url id=\"http://www.linux-pam.org/Linux-PAM-html/\" "
"name=\"Linux-PAM Guides\"> as a reference. This documentation is available "
"in the system if you install the <package>libpam-doc</package> at "
"<file>/usr/share/doc/libpam-doc/html/</file>."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:688
msgid ""
"PAM offers you the possibility to go through several authentication steps at "
"once, without the user's knowledge. You could authenticate against a "
"Berkeley database and against the normal <file>passwd</file> file, and the "
"user only logs in if he authenticates correct in both. You can restrict a "
"lot with PAM, just as you can open your system doors very wide. So be "
"careful. A typical configuration line has a control field as its second "
"element. Generally it should be set to <tt>requisite</tt>, which returns a "
"login failure if one module fails."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:690
msgid "Password security in PAM"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:700
msgid ""
"Review the <file>/etc/pam.d/common-password</file>, included by "
"<file>/etc/pam.d/passwd</file> <footnote><p>In old Debian releases the "
"configuration of the modules was defined directly in "
"<file>/etc/pam.d/passwd</file>.</p></footnote> . This file is included by "
"other files in <file>/etc/pam.d/</file> to define the behaviour of password "
"use in subsystems that grant access to services in the machine, like the "
"console login (<tt>login</tt>), graphical login managers (such as "
"<tt>gdm</tt> or <tt>lightdm</tt>), and remote login (such as "
"<tt>sshd</tt>). This definition is"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:703
msgid ""
"You have to make sure that the pam_unix.so module uses the \"sha512\" option "
"to use encrypted passwords. This is the default in Debian Squeeze."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:705
msgid ""
"The line with the definition of the pam_unix module will look something "
"like:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:707
#, no-wrap
msgid ""
"  password   [success=1 default=ignore]      pam_unix.so nullok obscure "
"minlen=8 sha512"
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:711
msgid "This definition:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:716
msgid ""
"Enforces password encryption when storing passwords, using the SHA-512 hash "
"function (option <em>sha512</em>),"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:719
msgid ""
"Enables password complexity checks (option <em>obscure</em>) as defined in "
"the <manref section=\"8\" name=\"pam_unix\"> manpage,"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:721
msgid "Imposes a minimum password length (option <em>min</em>) of 8."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:727
msgid ""
"You have to ensure that encrypted passwords are used in PAM applications, "
"since this helps protect against dictionary cracks. Using encryption also "
"makes it possible to use passwords longer than 8 characters."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:733
msgid ""
"Since this module is also used to define how passwords are changed (it is "
"included by <tt>chpasswd</tt>) you can strengthen the password security in "
"the system by installing <package>libpam-cracklib</package> and introducing "
"this definition in the <file>/etc/pam.d/common-password</file> configuration "
"file:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:737
#, no-wrap
msgid ""
"  # Be sure to install libpam-cracklib first or you will not be able to log "
"in\n"
"  password   required     pam_cracklib.so retry=3 minlen=12 difok=3\n"
"  password   [success=1 default=ignore]      pam_unix.so obscure minlen=8 "
"sha512 use_authok"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:754
msgid ""
"So, what does this incantation do? The first line loads the cracklib PAM "
"module, which provides password strength-checking, prompts for a new "
"password with a minimum size <footnote><p>The <em>minlen</em> option is not "
"entirely straightforward and is not exactly the number of characters in the "
"password. A tradeoff can be defined between complexity and length by "
"adjusting the \"credit\" parameters of different character classes. For more "
"information read the <manref section=\"8\" name=\"pam_cracklib\"> "
"manpage.</p></footnote> of 12 characters, and difference of at least 3 "
"characters from the old password, and allows 3 retries. Cracklib depends on "
"a wordlist package (such as <package>wenglish</package>, "
"<package>wspanish</package>, <package>wbritish</package>, ...), so make sure "
"you install one that is appropriate for your language or cracklib might not "
"be useful to you at all."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:760
msgid ""
"The second line (using the pam_unix.so module) is the default configuration "
"in Debian, as described above, save for the <em>use_authok</em> option. The "
"<em>use_authok</em> option is required if pam_unix.so is stacked after "
"pam_cracklib.so, and is used to hand over the password from the previous "
"module. Otherwise, the user would be prompted for the password twice."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:765
msgid ""
"For more information about setting up Cracklib, read the <manref "
"section=\"8\" name=\"pam_cracklib\"> manpage and the article <url "
"id=\"http://www.deer-run.com/~hal/sysadmin/pam_cracklib.html\" name=\"Linux "
"Password Security with pam_cracklib\"> by Hal Pomeranz."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:768
msgid ""
"By enabling the cracklib PAM module you setup a policy that forces uses to "
"use strong passwords."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:780
msgid ""
"Alternatively, you can setup and configure PAM modules to use double factor "
"authentication such as: <package>libpam-barada</package>, "
"<package>libpam-google-authenticator</package>, "
"<package>libpam-oath</package>, <package>libpam-otpw</package>, "
"<package>libpam-poldi</package>, <package>libpam-usb</package> or "
"<package>libpam-yubico</package>. The configuration of these modules would "
"make it possible to access the system using external authentication "
"mechanisms such as smartcards, external USB keys, or One-Time-Passwords "
"generated by external applications running, for example, in the user's "
"mobile phone."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:785
msgid ""
"Please note that these restrictions apply to all users but <em>not</em> to "
"the password changes done by the root user. The root user will be able to "
"set up any password (any length or complexity) for himself or others "
"regardless of the restrictions defined here."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:787
msgid "User access control in PAM"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:791
msgid ""
"To make sure that the user root can only log into the system from local "
"terminals, the following line should be enabled in "
"<file>/etc/pam.d/login</file>:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:793
#, no-wrap
msgid "  auth     requisite  pam_securetty.so"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:805
msgid ""
"Then you should modify the list of terminals on which direct root login is "
"allowed in <file>/etc/securetty</file> (as described in <ref "
"id=\"restrict-console-login\">). Alternatively, you could enable the "
"<tt>pam_access</tt> module and modify <file>/etc/security/access.conf</file> "
"which allows for a more general and fine-tuned access control, but "
"(unfortunately) lacks decent log messages (logging within PAM is not "
"standardized and is particularly unrewarding problem to deal with). We'll "
"return to <file>access.conf</file> a little later."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:807
msgid "User limits in PAM"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:810
msgid ""
"he following line should be enabled in <file>/etc/pam.d/login</file> to set "
"up user resource limits."
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:812
#, no-wrap
msgid "  session  required   pam_limits.so"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:820
msgid ""
"This restricts the system resources that users are allowed (see below in "
"<ref id=\"user-limits\">). For example, you could restrict the number of "
"concurrent logins (of a given group of users, or system-wide), number of "
"processes, memory size etc."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:822
msgid "Control of su in PAM"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:829
msgid ""
"If you want to protect <prgn>su</prgn>, so that only some people can use it "
"to become root on your system, you need to add a new group \"wheel\" to your "
"system (that is the cleanest way, since no file has such a group permission "
"yet). Add root and the other users that should be able to <prgn>su</prgn> to "
"the root user to this group. Then add the following line to "
"<file>/etc/pam.d/su</file>:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:831
#, no-wrap
msgid "  auth        requisite   pam_wheel.so group=wheel debug"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:838
msgid ""
"This makes sure that only people from the group \"wheel\" can use "
"<prgn>su</prgn> to become root. Other users will not be able to become "
"root. In fact they will get a denied message if they try to become root."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:845
msgid ""
"If you want only certain users to authenticate at a PAM service, this is "
"quite easy to achieve by using files where the users who are allowed to "
"login (or not) are stored. Imagine you only want to allow user 'ref' to log "
"in via <prgn>ssh</prgn>. So you put him into "
"<file>/etc/sshusers-allowed</file> and write the following into "
"<file>/etc/pam.d/ssh</file>:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:847
#, no-wrap
msgid ""
"  auth        required    pam_listfile.so item=user sense=allow "
"file=/etc/sshusers-allowed onerr=fail"
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:851
msgid "Temporary directories in PAM"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:858
msgid ""
"Since there have been a number of so called insecure tempfile "
"vulnerabilities, thttpd is one example (see <url "
"id=\"http://www.debian.org/security/2005/dsa-883\" name=\"DSA-883-1\">), the "
"<package>libpam-tmpdir</package> is a good package to install. All you have "
"to do is add the following to <file>/etc/pam.d/common-session</file>:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:860
#, no-wrap
msgid " session    optional     pam_tmpdir.so"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:867
msgid ""
"There has also been a discussion about adding this by default in Debian "
"configuration, but it s. See <url "
"id=\"http://lists.debian.org/debian-devel/2005/11/msg00297.html\"> for more "
"information."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:869
msgid "Configuration for undefined PAM applications"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:872
msgid ""
"Finally, but not least, create <file>/etc/pam.d/other</file> and enter the "
"following lines:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:886
#, no-wrap
msgid ""
"  auth     required       pam_securetty.so\n"
"  auth     required       pam_unix_auth.so\n"
"  auth     required       pam_warn.so\n"
"  auth     required       pam_deny.so\n"
"  account  required       pam_unix_acct.so\n"
"  account  required       pam_warn.so\n"
"  account  required       pam_deny.so\n"
"  password required       pam_unix_passwd.so\n"
"  password required       pam_warn.so\n"
"  password required       pam_deny.so\n"
"  session  required       pam_unix_session.so\n"
"  session  required       pam_warn.so\n"
"  session  required       pam_deny.so"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:892
msgid ""
"These lines will provide a good default configuration for all applications "
"that support PAM (access is denied by default)."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:894
msgid "Limiting resource usage: the <file>limits.conf</file> file"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:900
msgid ""
"You should really take a serious look into this file. Here you can define "
"user resource limits. In old releases this configuration file was "
"<file>/etc/limits.conf</file>, but in newer releases (with PAM) the "
"<file>/etc/security/limits.conf</file> configuration file should be used "
"instead."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:906
msgid ""
"If you do not restrict resource usage, <em>any</em> user with a valid shell "
"in your system (or even an intruder who compromised the system through a "
"service or a daemon going awry) can use up as much CPU, memory, stack, "
"etc. as the system can provide. This <em>resource exhaustion</em> problem "
"can be fixed by the use of PAM."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:914
msgid ""
"There is a way to add resource limits to some shells (for example, "
"<prgn>bash</prgn> has <prgn>ulimit</prgn>, see <manref section=\"1\" "
"name=\"bash\">), but since not all of them provide the same limits and since "
"the user can change shells (see <manref section=\"1\" name=\"chsh\">) it is "
"better to place the limits on the PAM modules as they will apply regardless "
"of the shell used and will also apply to PAM modules that are not "
"shell-oriented."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:919
msgid ""
"Resource limits are imposed by the kernel, but they need to be configured "
"through the <file>limits.conf</file> and the PAM configuration of the "
"different services need to load the appropriate PAM. You can check which "
"services are enforcing limits by running:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:921
#, no-wrap
msgid ""
"$ find /etc/pam.d/ \\! -name \"*.dpkg*\" | xargs -- grep limits |grep -v "
"\":#\""
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:929
msgid ""
"Commonly, <file>login</file>, <file>ssh</file> and the graphic session "
"managers (<file>gdm</file>, <file>kdm</file> or <file>xdm</file>) should "
"enforce user limits but you might want to do this in other PAM configuration "
"files, such as <file>cron</file>, to prevent system daemons from taking over "
"all system resources."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:931
msgid ""
"The specific limits settings you might want to enforce depend on your "
"system's resources, that's one of the main reasons why no limits are "
"enforced in the default installation."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:940
msgid ""
"For example, the configuration example below enforces a 100 process limit "
"for all users (to prevent <em>fork bombs</em>) as well as a limit of 10MB of "
"memory per process and a limit of 10 simultaneous logins. Users in the "
"<tt>adm</tt> group have higher limits and can produce core files if they "
"want to (there is only a <em>soft</em> limit)."
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:956
#, no-wrap
msgid ""
"*              soft    core            0\n"
"*              hard    core            0\n"
"*              hard    rss             1000\n"
"*              hard    memlock         1000\n"
"*              hard    nproc           100\n"
"*              -       maxlogins       1\n"
"*              hard    data            102400\n"
"*              hard    fsize           2048\n"
"@adm           hard    core            100000\n"
"@adm           hard    rss             100000\n"
"@adm           soft    nproc           2000\n"
"@adm           hard    nproc           3000\n"
"@adm           hard    fsize           100000\n"
"@adm           -       maxlogins       10"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:961
msgid ""
"These would be the limits a default user (including system daemons) would "
"have:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:974
#, no-wrap
msgid ""
"$ ulimit -a\n"
"core file size        (blocks, -c) 0\n"
"data seg size         (kbytes, -d) 102400\n"
"file size             (blocks, -f) 2048\n"
"max locked memory     (kbytes, -l) 10000\n"
"max memory size       (kbytes, -m) 10000\n"
"open files                    (-n) 1024\n"
"pipe size          (512 bytes, -p) 8\n"
"stack size            (kbytes, -s) 8192\n"
"cpu time             (seconds, -t) unlimited\n"
"max user processes            (-u) 100\n"
"virtual memory        (kbytes, -v) unlimited"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:978
msgid "And these are the limits for an administrative user:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:991
#, no-wrap
msgid ""
"$ ulimit -a\n"
"core file size        (blocks, -c) 0\n"
"data seg size         (kbytes, -d) 102400\n"
"file size             (blocks, -f) 100000\n"
"max locked memory     (kbytes, -l) 100000\n"
"max memory size       (kbytes, -m) 100000\n"
"open files                    (-n) 1024\n"
"pipe size          (512 bytes, -p) 8\n"
"stack size            (kbytes, -s) 8192\n"
"cpu time             (seconds, -t) unlimited\n"
"max user processes            (-u) 2000\n"
"virtual memory        (kbytes, -v) unlimited"
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:995
msgid "For more information read:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1005
msgid ""
"<url id=\"http://www.samag.com/documents/s=1161/sam0009a/0009a.htm\" "
"name=\"PAM configuration article\">."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1010
msgid ""
"<url "
"id=\"http://seifried.org/security/os/linux/20020324-securing-linux-step-by-step.html\" "
"name=\"Seifried's Securing Linux Step by Step\"> on the <em>Limiting users "
"overview</em> section."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1013
msgid ""
"<url id=\"http://seifried.org/lasg/users/\" name=\"LASG\"> in the "
"<em>Limiting and monitoring users</em> section."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1016
msgid "User login actions: edit <file>/etc/login.defs</file>"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1025
msgid ""
"The next step is to edit the basic configuration and action upon user "
"login. Note that this file is not part of the PAM configuration, it's a "
"configuration file honored by <tt>login</tt> and <tt>su</tt> programs, so it "
"doesn't make sense tuning it for cases where neither of the two programs are "
"at least indirectly called (the <prgn>getty</prgn> program which sits on the "
"consoles and offers the initial login prompt <em>does</em> invoke "
"<prgn>login</prgn>)."
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1027
#, no-wrap
msgid "  FAILLOG_ENAB        yes"
msgstr ""

#. type: </example><example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1032
msgid ""
"If you enable this variable, failed logins will be logged. It is important "
"to keep track of them to catch someone who tries a brute force attack."
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1034
#, no-wrap
msgid "  LOG_UNKFAIL_ENAB    no"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1044
msgid ""
"If you set this variable to 'yes' it will record unknown usernames if the "
"login failed. It is best if you use 'no' (the default) since, otherwise, "
"user passwords might be inadvertenly logged here (if a user mistypes and "
"they enter their password as the username). If you set it to 'yes', make "
"sure the logs have the proper permissions (640 for example, with an "
"appropriate group setting such as adm)."
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1046
#, no-wrap
msgid "  SYSLOG_SU_ENAB      yes"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1052
msgid ""
"This one enables logging of <prgn>su</prgn> attempts to "
"<file>syslog</file>. Quite important on serious machines but note that this "
"can create privacy issues as well."
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1054
#, no-wrap
msgid "  SYSLOG_SG_ENAB      yes"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1059
msgid ""
"The same as <var>SYSLOG_SU_ENAB</var> but applies to the <prgn>sg</prgn> "
"program."
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1061
#, no-wrap
msgid "  ENCRYPT_METHOD  SHA512"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1068
msgid ""
"As stated above, encrypted passwords greatly reduce the problem of "
"dictionary attacks, since you can use longer passwords. This definition has "
"to be consistent with the value defined in "
"<file>/etc/pam.d/common-password</file>."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1070
msgid "User login actions: edit <file>/etc/pam.d/login</file>"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1074
msgid ""
"You can adjust the login configuration file to implement an stricter "
"policy. For example, you can change the default configuration and increase "
"the delay time between login prompts. The default configuration sets a 3 "
"seconds delay:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1076
#, no-wrap
msgid "auth       optional   pam_faildelay.so  delay=3000000"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1085
msgid ""
"Increasing the <em>delay</em> value to a higher value to make it harder to "
"use the terminal to log in using brute force. If a wrong password is typed "
"in, the possible attacker (or normal user!) has to wait longer seconds to "
"get a new login prompt, which is quite time consuming when you test "
"passwords. For example, if you set <em>delay=10000000</em>, users will have "
"to wait 10 seconds if they type a wrong password."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1088
msgid ""
"In this file you can also set the system to present a message to users "
"before a user logs in. The default is disabled, as shown below:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1090
#, no-wrap
msgid "# auth       required   pam_issue.so issue=/etc/issue"
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1106
msgid ""
"If required by your security policy, this file can be used to show a "
"standard message indicating that access to the system is restricted and user "
"acess is logged. This kind of disclaimer might be required in some "
"environments and jurisdictions. To enable it, just include the relevant "
"information in the <file>/etc/issue</file> <footnote><p>The default content "
"of this file provides information about the operating system and version run "
"by the system, which you might not want to provide to anonymous "
"users.</p></footnote> file and uncomment the line enabling the pam_issue.so "
"module in <file>/etc/pam.d/login</file>. In this file you can also enable "
"additional features which might be relevant to apply local security policies "
"such as:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1112
msgid ""
"setting rules for which users can access at which times, by enabling the "
"<em>pam_time.so</em> module and configuring "
"<file>/etc/security/time.conf</file> accordingly (disabled by default),"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1115
msgid ""
"setup login sessions to use user limits as defined in "
"<file>/etc/security/limits.conf</file> (enabled by default),"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1118
msgid ""
"present the user with the information of previous login information (enabled "
"by default),"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1121
msgid ""
"print a message (<file>/etc/motd</file> and <file>/run/motd.dynamic</file>) "
"to users after login in (enabled by default),"
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1124
msgid "Restricting ftp: editing <file>/etc/ftpusers</file>"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1131
msgid ""
"The <file>/etc/ftpusers</file> file contains a list of users who are not "
"allowed to log into the host using ftp. Only use this file if you really "
"want to allow ftp (which is not recommended in general, because it uses "
"clear-text passwords). If your daemon supports PAM, you can also use that to "
"allow and deny users for certain services."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1135
msgid ""
"FIXME (BUG): Is it a bug that the default <file>ftpusers</file> in Debian "
"does <em>not</em> include all the administrative users (in "
"<package>base-passwd</package>)."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1139
msgid ""
"A convenient way to add all system accounts to the "
"<file>/etc/ftpusers</file> is to run"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1141
#, no-wrap
msgid "$ awk -F : '{if ($3<1000) print $1}' /etc/passwd > /etc/ftpusers"
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1145
msgid "Using su"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1156
msgid ""
"If you really need users to become the super user on your system, e.g. for "
"installing packages or adding users, you can use the command <prgn>su</prgn> "
"to change your identity. You should try to avoid any login as user root and "
"instead use <prgn>su</prgn>. Actually, the best solution is to remove "
"<prgn>su</prgn> and switch to the <prgn>sudo</prgn> mechanism which has a "
"broader logic and more features than <prgn>su</prgn>. However, "
"<prgn>su</prgn> is more common as it is used on many other Unices."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1158
msgid "Using sudo"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1167
msgid ""
"<prgn>sudo</prgn> allows the user to execute defined commands under another "
"user's identity, even as root. If the user is added to "
"<file>/etc/sudoers</file> and authenticates himself correctly, he is able to "
"run commands which have been defined in "
"<file>/etc/sudoers</file>. Violations, such as incorrect passwords or trying "
"to run a program you don't have permission for, are logged and mailed to "
"root."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1168
msgid "Disallow remote administrative access"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1174
msgid ""
"You should also modify <file>/etc/security/access.conf</file> to disallow "
"remote logins to administrative accounts. This way users need to invoke "
"<prgn>su</prgn> (or <prgn>sudo</prgn>) to use any administrative powers and "
"the appropriate audit trace will always be generated."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1177
msgid ""
"You need to add the following line to "
"<file>/etc/security/access.conf</file>, the default Debian configuration "
"file has a sample line commented out:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1179
#, no-wrap
msgid "   -:wheel:ALL EXCEPT LOCAL"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1186
msgid ""
"Remember to enable the <tt>pam_access</tt> module for every service (or "
"default configuration) in <file>/etc/pam.d/</file> if you want your changes "
"to <file>/etc/security/access.conf</file> honored."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1188
msgid "Restricting users's access"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1195
msgid ""
"Sometimes you might think you need to have users created in your local "
"system in order to provide a given service (pop3 mail service or "
"ftp). Before doing so, first remember that the PAM implementation in Debian "
"GNU/Linux allows you to validate users with a wide variety of external "
"directory services (radius, ldap, etc.) provided by the libpam packages."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1206
msgid ""
"If users need to be created and the system can be accessed remotely take "
"into account that users will be able to log in to the system. You can fix "
"this by giving users a null (<file>/dev/null</file>) shell (it would need to "
"be listed in <file>/etc/shells</file>). If you want to allow users to access "
"the system but limit their movements, you can use the "
"<file>/bin/rbash</file>, equivalent to adding the <tt>-r</tt> option in "
"<prgn>bash</prgn> (<em>RESTRICTED SHELL</em> see <manref section=\"1\" "
"name=\"bash\">). Please note that even with restricted shell, a user that "
"access an interactive program (that might allow execution of a subshell) "
"could be able to bypass the limits of the shell."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1214
msgid ""
"Debian currently provides in the unstable release (and might be included in "
"the next stable releases) the <file>pam_chroot</file> module (in the "
"<package>libpam-chroot</package>). An alternative to it is to "
"<prgn>chroot</prgn> the service that provides remote logging "
"(<prgn>ssh</prgn>, "
"<prgn>telnet</prgn>). <footnote><p><package>libpam-chroot</package> has not "
"been yet thoroughly tested, it does work for <prgn>login</prgn> but it might "
"not be easy to set up the environment for other programs</p></footnote>"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1218
msgid ""
"If you wish to restrict <em>when</em> users can access the system you will "
"have to customize <file>/etc/security/access.conf</file> for your needs."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1222
msgid ""
"Information on how to <prgn>chroot</prgn> users accessing the system through "
"the <prgn>ssh</prgn> service is described in <ref id=\"chroot-ssh-env\">."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1224
msgid "User auditing"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1228
msgid ""
"If you are really paranoid you might want to add a system-wide configuration "
"to audit what the users are doing in your system. This sections presents "
"some tips using diverse utilities you can use."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1230
msgid "Input and output audit with script"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1236
msgid ""
"You can use the <prgn>script</prgn> command to audit both what the users run "
"and what are the results of those commands. You cannot setup "
"<prgn>script</prgn> as a shell (even if you add it to "
"<file>/etc/shells</file>). But you can have the shell initialization file "
"run the following:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1239
#, no-wrap
msgid ""
"umask 077\n"
"exec script -q -a \"/var/log/sessions/$USER\""
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1246
msgid ""
"Of course, if you do this system wide it means that the shell would not "
"continue reading personal initialization files (since the shell gets "
"overwritten by <prgn>script</prgn>). An alternative is to do this in the "
"user's initialization files (but then the user could remove this, see the "
"comments about this below)"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1253
msgid ""
"You also need to setup the files in the audit directory (in the example "
"<file>/var/log/sessions/</file>) so that users can write to it but cannot "
"remove the file. This could be done, for example, by creating the user "
"session files in advance and setting them with the <em>append-only</em> flag "
"using <prgn>chattr</prgn>."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1258
msgid ""
"A useful alternative for sysadmins, which includes date information would "
"be:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1261
#, no-wrap
msgid ""
"umask 077\n"
"exec script -q -a \"/var/log/sessions/$USER-`date +%Y%m%d`\""
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1265
msgid "Using the shell history file"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1272
msgid ""
"If you want to review what does the user type in the shell (but not what the "
"result of that is) you can setup a system-wide <file>/etc/profile</file> "
"that configures the environment so that all commands are saved into a "
"history file. The system-wide configuration needs to be setup in such a way "
"that users cannot remove audit capabilities from their shell. This is "
"somewhat shell specific so make sure that all users are using a shell that "
"supports this."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1285
msgid ""
"For example, for bash, the <file>/etc/profile</file> could be set as follows "
"<footnote><p>Setting HISTSIZE to a very large number can cause issues under "
"some shells since the history is kept in memory for every user session. You "
"might be safer if you set this to a high-enough value and backup user's "
"history files (if you need all of the user's history for some "
"reason)</p></footnote> :"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1299
#, no-wrap
msgid ""
"  HISTFILE=~/.bash_history\n"
"  HISTSIZE=10000\n"
"  HISTFILESIZE=999999\n"
"  # Don't let the users enter commands that are ignored\n"
"  # in the history file\n"
"  HISTIGNORE=\"\"\n"
"  HISTCONTROL=\"\"\n"
"  readonly HISTFILE\n"
"  readonly HISTSIZE\n"
"  readonly HISTFILESIZE\n"
"  readonly HISTIGNORE\n"
"  readonly HISTCONTROL\n"
"  export HISTFILE HISTSIZE HISTFILESIZE HISTIGNORE HISTCONTROL"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1310
msgid ""
"For this to work, the user can only append information to "
"<file>.bash_history</file> file. You need <em>also</em> to set the "
"<em>append-only</em> option using <prgn>chattr</prgn> program for "
"<file>.bash_history</file> for all users. <footnote><p>Without the "
"append-only flag users would be able to empty the contents of the history "
"file running <tt> > .bash_history</tt></p></footnote>."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1321
msgid ""
"Note that you could introduce the configuration above in the user's "
"<file>.profile</file>. But then you would need to setup permissions properly "
"in such a way that prevents the user from modifying this file. This "
"includes: having the user's home directories <em>not</em> belong to the user "
"(since he would be able to remove the file otherwise) but at the same time "
"enable them to read the <file>.profile</file> configuration file and write "
"on the <file>.bash_history</file>. It would be good to set the "
"<em>immutable</em> flag (also using <prgn>chattr</prgn>) for "
"<file>.profile</file> too if you do it this way."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1323
msgid "Complete user audit with accounting utilities"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1330
msgid ""
"The previous example is a simple way to configure user auditing but might be "
"not useful for complex systems or for those in which users do not run shells "
"at all (or exclusively). If this is your case, you need to look at "
"<package>acct</package>, the accounting utilities. These utilities will log "
"all the commands run by users or processes in the system, at the expense of "
"disk space."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1336
msgid ""
"When activating accounting, all the information on processes and users is "
"kept under <file>/var/account/</file>, more specifically in the "
"<file>pacct</file>. The accounting package includes some tools "
"(<prgn>sa</prgn>, <prgn>ac</prgn> and <prgn>lastcomm</prgn>) to analyse this "
"data."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1337
msgid "Other user auditing methods"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1350
msgid ""
"If you are completely paranoid and want to audit every user's command, you "
"could take <prgn>bash</prgn> source code, edit it and have it send all that "
"the user typed into another file. Or have <package>ttysnoop</package> "
"constantly monitor any new ttys <footnote><p>Ttys are spawned for local "
"logins and remote logins through ssh and telnet</p></footnote> and dump the "
"output into a file. Other useful program is <package>snoopy</package> (see "
"also <url id=\"http://sourceforge.net/projects/snoopylogger/\" name=\"the "
"project page\">) which is a user-transparent program that hooks in as a "
"library providing a wrapper around <var>execve()</var> calls, any command "
"executed is logged to <prgn>syslogd</prgn> using the <tt>authpriv</tt> "
"facility (usually stored at <file>/var/log/auth.log</file>)."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1352
msgid "Reviewing user profiles"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1359
msgid ""
"If you want to <em>see</em> what users are actually doing when they logon to "
"the system you can use the <file>wtmp</file> database that includes all "
"login information. This file can be processed with several utilities, "
"amongst them <prgn>sac</prgn> which can output a profile on each user "
"showing in which timeframe they usually log on to the system."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1363
msgid ""
"In case you have accounting activated, you can also use the tools provided "
"by it in order to determine when the users access the system and what do "
"they execute."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1365
msgid "Setting users umasks"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1369
msgid ""
"Depending on your user policy you might want to change how information is "
"shared between users, that is, what the default permissions of new files "
"created by users are."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1375
msgid ""
"Debian's default <tt>umask</tt> setting is <em>022</em> this means that "
"files (and directories) can be read and accessed by the user's group and by "
"any other users in the system. This definition is set in the standard "
"configuration file <file>/etc/profile</file> which is used by all shells."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1386
msgid ""
"If Debian's default value is too permissive for your system you will have to "
"change the umask setting for all the shells. More restrictive umask settings "
"include 027 (no access is allowed to new files for the <em>other</em> group, "
"i.e. to other users in the system) or 077 (no access is allowed to new files "
"to the members the user's group). Debian (by default<footnote><p>As defined "
"in <file>/etc/adduser.conf</file> (USERGROUPS=yes). You can change this "
"behaviour if you set this value to no, although it is not "
"recommended</p></footnote>) creates one group per user so that only the user "
"is included in its group. Consequently 027 and 077 are equivalent as the "
"user's group contains only the user himself."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1401
msgid ""
"This change is set by defining a proper <tt>umask</tt> setting for all "
"users. You can change this by introducing an <prgn>umask</prgn> call in the "
"shell configuration files: <file>/etc/profile</file> (source by all "
"Bourne-compatible shells), <file>/etc/csh.cshrc</file>, "
"<file>/etc/csh.login</file>, <file>/etc/zshrc</file> and probably some "
"others (depending on the shells you have installed on your system). You can "
"also change the <var>UMASK</var> setting in <file>/etc/login.defs</file>, Of "
"all of these the last one that gets loaded by the shell takes "
"precedence. The order is: the default system configuration for the user's "
"shell (i.e. <file>/etc/profile</file> and other system-wide configuration "
"files) and then the user's shell (his <file>~/.profile</file>, "
"<file>~/.bash_profile</file>, etc...). Some shells, however, can be executed "
"with a <em>nologin</em> value which might skip sourcing some of those "
"files. See your shell's manpage for additional information."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1407
msgid ""
"For connections that make use of <prgn>login</prgn> the UMASK definition in "
"<file>/etc/login.defs</file> is used before any of the others. However, that "
"value does not apply to user executed programs that do not use "
"<prgn>login</prgn> such as those run through <prgn>su</prgn>, "
"<prgn>cron</prgn> or <prgn>ssh</prgn>."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1413
msgid ""
"Don't forget to review and maybe modify the dotfiles under "
"<file>/etc/skel/</file> since these will be new user's defaults when created "
"with the <prgn>adduser</prgn> command. Debian default dotfiles do not "
"include any <prgn>umask</prgn> call but if there is any in the dotfiles "
"newly created users might a different value."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1417
msgid ""
"Note, however that users can modify their own <tt>umask</tt> setting if they "
"want to, making it more permissive or more restricted, by changing their own "
"dotfiles."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1421
msgid ""
"The <package>libpam-umask</package> package adjusts the users' default "
"<tt>umask</tt> using PAM. Add the following, after installing the package, "
"to <file>/etc/pam.d/common-session</file>:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1423
#, no-wrap
msgid "session    optional     pam_umask.so umask=077"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1431
msgid ""
"Finally, you should consider changing root's default 022 umask (as defined "
"in <file>/root/.bashrc</file>) to a more strict umask. That will prevent the "
"system administrator from inadvertenly dropping sensitive files when working "
"as root to world-readable directories (such as <file>/tmp</file>) and having "
"them available for your average user."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1433
msgid "Limiting what users can see/access"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1437
msgid ""
"FIXME: Content needed. Describe the consequences of changing packages "
"permissions when upgrading (an admin this paranoid should "
"<prgn>chroot</prgn> his users BTW) if not using "
"<prgn>dpkg-statoverride</prgn>."
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1442
msgid ""
"If you need to grant users access to the system with a shell think about it "
"very carefully. A user can, by default unless in a severely restricted "
"environment (like a <tt>chroot</tt> jail), retrieve quite a lot of "
"information from your system including:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1451
msgid ""
"some configuration files in <file>/etc</file>. However, Debian's default "
"permissions for some sensitive files (which might, for example, contain "
"passwords), will prevent access to critical information. To see which files "
"are only accessible by the root user for example <tt>find /etc -type f -a "
"-perm 600 -a -uid 0</tt> as superuser."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1455
msgid ""
"your installed packages, either by looking at the package database, at the "
"<file>/usr/share/doc</file> directory or by guessing by looking at the "
"binaries and libraries installed in your system."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1461
msgid ""
"some log files at <file>/var/log</file>. Note also that some log files are "
"only accessible to root and the <tt>adm</tt> group (try <tt>find /var/log "
"-type f -a -perm 640</tt>) and some are even only available to the root user "
"(try <tt>find /var/log -type f -a -perm 600 -a -uid 0</tt>)."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1466
msgid ""
"What can a user see in your system? Probably quite a lot of things, try this "
"(take a deep breath):"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1469
#, no-wrap
msgid ""
"  find / -type f -a -perm +006 2>/dev/null  \n"
"  find / -type d -a -perm +007 2>/dev/null"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1474
msgid ""
"The output is the list of files that a user can <em>see</em> and the "
"directories to which he has access."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1476
msgid "Limiting access to other user's information"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1482
msgid ""
"If you still grant shell access to users you might want to limit what "
"information they can view from other users. Users with shell access have a "
"tendency to create quite a number of files under their $HOMEs: mailboxes, "
"personal documents, configuration of X/GNOME/KDE applications..."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1490
msgid ""
"In Debian each user is created with one associated group, and no two users "
"belong to the same group. This is the default behavior: when an user account "
"is created, a group of the same name is created too, and the user is "
"assigned to it. This avoids the concept of a common <em>users</em> group "
"which might make it more difficult for users to hide information from other "
"users."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1495
msgid ""
"However, users' <var>$HOME</var> directories are created with 0755 "
"permissions (group-readable and world-readable). The group permissions is "
"not an issue since only the user belongs to the group, however the world "
"permissions might (or might not) be an issue depending on your local policy."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1500
msgid ""
"You can change this behavior so that user creation provides different "
"<var>$HOME</var> permissions. To change the behavior for <em>new</em> users "
"when they get created, change <em>DIR_MODE</em> in the configuration file "
"<file>/etc/adduser.conf</file> to 0750 (no world-readable access)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1503
msgid ""
"Users can still share information, but not directly in their "
"<var>$HOME</var> directories unless they change its permissions."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1517
msgid ""
"Note that disabling world-readable home directories will prevent users from "
"creating their personal web pages in the <file>~/public_html</file> "
"directory, since the web server will not be able to read one component in "
"the path - namely their <var>$HOME</var> directory. If you want to permit "
"users to publish HTML pages in their <file>~/public_html</file>, then change "
"<em>DIR_MODE</em> to 0751. This will allow the web server to access the "
"final <file>public_html</file> directory (which itself should have a mode of "
"0755) and provide the content published by users. Of course, we are only "
"talking about a default configuration here; users can generally tune modes "
"of their own files completely to their liking, or you could keep content "
"intended for the web in a separate location which is not a subdirectory of "
"user's <var>$HOME</var> directory."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1519
msgid "Generating user passwords"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1535
msgid ""
"There are many cases when an administrator needs to create many user "
"accounts and provide passwords for all of them. Of course, the administrator "
"could easily just set the password to be the same as the user's account "
"name, but that would not be very sensitive security-wise. A better approach "
"is to use a password generating program. Debian provides "
"<package>makepasswd</package>, <package>apg</package> and "
"<package>pwgen</package> packages which provide programs (the name is the "
"same as the package) that can be used for this "
"purpose. <prgn>Makepasswd</prgn> will generate true random passwords with an "
"emphasis on security over pronounceability while <prgn>pwgen</prgn> will try "
"to make meaningless but pronounceable passwords (of course this might depend "
"on your mother language). <prgn>Apg</prgn> has algorithms to provide for "
"both (there is a client/server version for this program but it is not "
"included in the Debian package)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1550
msgid ""
"<prgn>Passwd</prgn> does not allow non-interactive assignation of passwords "
"(since it uses direct tty access). If you want to change passwords when "
"creating a large number of users you can create them using "
"<prgn>adduser</prgn> with the <tt>--disabled-login</tt> option and then use "
"<prgn>usermod</prgn> or <prgn>chpasswd</prgn> "
"<footnote><p><prgn>Chpasswd</prgn> cannot handle MD5 password generation so "
"it needs to be given the password in encrypted form before using it, with "
"the <tt>-e</tt> option.</p></footnote> (both from the "
"<package>passwd</package> package so you already have them installed). If "
"you want to use a file with all the information to make users as a batch "
"process you might be better off using <prgn>newusers</prgn>."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1552
msgid "Checking user passwords"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1564
msgid ""
"User passwords can sometimes become the <em>weakest link</em> in the "
"security of a given system. This is due to some users choosing weak "
"passwords for their accounts (and the more of them that have access to it "
"the greater the chances of this happening). Even if you established checks "
"with the cracklib PAM module and password limits as described in <ref "
"id=\"auth-pam\"> users will still be able to use weak passwords. Since user "
"access might include remote shell access (over <prgn>ssh</prgn>, hopefully) "
"it's important to make password guessing as hard as possible for the remote "
"attackers, especially if they were somehow able to collect important "
"information such as usernames or even the <file>passwd</file> and "
"<file>shadow</file> files themselves."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1569
msgid ""
"A system administrator must, given a big number of users, check if the "
"passwords they have are consistent with the local security policy. How to "
"check? Try to crack them as an attacker would if he had access to the hashed "
"passwords (the <file>/etc/shadow</file> file)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1579
msgid ""
"An administrator can use <package>john</package> or <package>crack</package> "
"(both are brute force password crackers) together with an appropriate "
"wordlist to check users' passwords and take appropriate action when a weak "
"password is detected. You can search for Debian GNU packages that contain "
"word lists using <prgn>apt-cache search wordlist</prgn>, or visit the "
"classic Internet wordlist sites such as <url "
"id=\"ftp://ftp.ox.ac.uk/pub/wordlists\"> or <url "
"id=\"ftp://ftp.cerias.purdue.edu/pub/dict\">."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1581
msgid "Logging off idle users"
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1586
msgid ""
"Idle users are usually a security problem, a user might be idle maybe "
"because he's out to lunch or because a remote connection hung and was not "
"re-established. For whatever the reason, idle users might lead to a "
"compromise:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1590
msgid ""
"because the user's console might be unlocked and can be accessed by an "
"intruder."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1594
msgid ""
"because an attacker might be able to re-attach himself to a closed network "
"connection and send commands to the remote shell (this is fairly easy if the "
"remote shell is not encrypted as in the case of <prgn>telnet</prgn>)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1599
msgid ""
"Some remote systems have even been compromised through an idle (and "
"detached) <prgn>screen</prgn>."
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1602
msgid ""
"Automatic disconnection of idle users is usually a part of the local "
"security policy that must be enforced. There are several ways to do this:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1609
msgid ""
"If <prgn>bash</prgn> is the user shell, a system administrator can set a "
"default <tt>TMOUT</tt> value (see <manref section=\"1\" name=\"bash\">) "
"which will make the shell automatically log off remote idle users. Note that "
"it must be set with the <tt>-o</tt> option or users will be able to change "
"(or unset) it."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1616
msgid ""
"Install <package>timeoutd</package> and configure <file>/etc/timeouts</file> "
"according to your local security policy. The daemon will watch for idle "
"users and time out their shells accordingly."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1618
msgid "Install <package>autolog</package> and configure it to remove idle users."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1626
msgid ""
"The <prgn>timeoutd</prgn> or <prgn>autolog</prgn> daemons are the preferred "
"method since, after all, users can change their default shell or can, after "
"running their default shell, switch to another (uncontrolled) shell."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1628
msgid "Using tcpwrappers"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1637
msgid ""
"TCP wrappers were developed when there were no real packet filters available "
"and access control was needed. Nevertheless, they're still very interesting "
"and useful. The TCP wrappers allow you to allow or deny a service for a host "
"or a domain and define a default allow or deny rule (all performed on the "
"application level). If you want more information take a look at <manref "
"section=\"5\" name=\"hosts_access\">."
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1639
msgid "Many services installed in Debian are either:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1641
msgid "launched through the tcpwrapper service (<file>tcpd</file>)"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1642
msgid "compiled with libwrapper support built-in."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1657
msgid ""
"On the one hand, for services configured in <file>/etc/inetd.conf</file> "
"(this includes <prgn>telnet</prgn>, <prgn>ftp</prgn>, <prgn>netbios</prgn>, "
"<prgn>swat</prgn> and <prgn>finger</prgn>) you will see that the "
"configuration file executes <prgn>/usr/sbin/tcpd</prgn> first. On the other "
"hand, even if a service is not launched by the <prgn>inetd</prgn> "
"superdaemon, support for the tcp wrappers rules can be compiled into "
"it. Services compiled with tcp wrappers in Debian include <prgn>ssh</prgn>, "
"<prgn>portmap</prgn>, <prgn>in.talk</prgn>, <prgn>rpc.statd</prgn>, "
"<prgn>rpc.mountd</prgn>, <prgn>gdm</prgn>, <prgn>oaf</prgn> (the GNOME "
"activator daemon), <prgn>nessus</prgn> and many others."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1667
msgid ""
"To see which packages use tcpwrappers <footnote><p>On older Debian releases "
"you might need to do this: <example> $ apt-cache showpkg libwrap0 | egrep "
"'^[[:space:]]' | sort -u | \\ sed "
"'s/,libwrap0$//;s/^[[:space:]]\\+//'</example></p></footnote> try:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1669
#, no-wrap
msgid "  $ apt-cache rdepends libwrap0"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1680
msgid ""
"Take this into account when running <prgn>tcpdchk</prgn> (a very useful TCP "
"wrappers config file rule and syntax checker). When you add stand-alone "
"services (that are directly linked with the wrapper library) into the "
"<file>hosts.deny</file> and <file>hosts.allow</file> files, "
"<prgn>tcpdchk</prgn> will warn you that it is not able to find the mentioned "
"services since it only looks for them in <file>/etc/inetd.conf</file> (the "
"manpage is not totally accurate here)."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1688
msgid ""
"Now, here comes a small trick, and probably the smallest intrusion detection "
"system available. In general, you should have a decent firewall policy as a "
"first line, and tcp wrappers as the second line of defense. One little trick "
"is to set up a <var>SPAWN</var> <footnote><p>be sure to use uppercase here "
"since <em>spawn</em> will not work</p></footnote> command in "
"<file>/etc/hosts.deny</file> that sends mail to root whenever a denied "
"service triggers wrappers:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1698
#, no-wrap
msgid ""
"  ALL: ALL: SPAWN ( \\\n"
"    echo -e \"\\n\\\n"
"    TCP Wrappers\\: Connection refused\\n\\\n"
"    By\\: $(uname -n)\\n\\\n"
"    Process\\: %d (pid %p)\\n\\\n"
"    User\\: %u\\n\\\n"
"    Host\\: %c\\n\\\n"
"    Date\\: $(date)\\n\\\n"
"  \" | /usr/bin/mail -s \"Connection to %d blocked\" root) &"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1732
msgid ""
"<em>Beware</em>: The above printed example is open to a DoS attack by making "
"many connections in a short period of time. Many emails mean a lot of file "
"I/O by sending only a few packets."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1734
msgid "The importance of logs and alerts"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1740
msgid ""
"It is easy to see that the treatment of logs and alerts is an important "
"issue in a secure system. Suppose a system is perfectly configured and 99% "
"secure. If the 1% attack occurs, and there are no security measures in place "
"to, first, detect this and, second, raise alarms, the system is not secure "
"at all."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1752
msgid ""
"Debian GNU/Linux provides some tools to perform log analysis, most notably "
"<package>swatch</package>, <footnote><p>there's a very good article on it "
"written by <url id=\"http://www.spitzner.net/swatch.html\" name=\"Lance "
"Spitzner\"></p></footnote> <package>logcheck</package> or "
"<package>log-analysis</package> (all will need some customisation to remove "
"unnecessary things from the report). It might also be useful, if the system "
"is nearby, to have the system logs printed on a virtual console. This is "
"useful since you can (from a distance) see if the system is behaving "
"properly. Debian's <file>/etc/syslog.conf</file> comes with a commented "
"default configuration; to enable it uncomment the lines and restart "
"<prgn>syslogd</prgn> (<tt>/etc/init.d/syslogd restart</tt>):"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1757
#, no-wrap
msgid ""
"  daemon,mail.*;\\\n"
"        news.=crit;news.=err;news.=notice;\\\n"
"        *.=debug;*.=info;\\\n"
"        *.=notice;*.=warn       /dev/tty8"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1795
msgid ""
"To colorize the logs, you could take a look at <package>colorize</package>, "
"<package>ccze</package> or <package>glark</package>. There is a lot to log "
"analysis that cannot be fully covered here, so a good information resource "
"would be books should as <url "
"id=\"http://books.google.com/books?id=UyktqN6GnWEC\" name=\"Security log "
"management: identifying patterns in the chaos\">. In any case, even "
"automated tools are no match for the best analysis tool: your brain."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1797
msgid "Using and customizing <prgn>logcheck</prgn>"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1805
msgid ""
"The <prgn>logcheck</prgn> package in Debian is divided into the three "
"packages <package>logcheck</package> (the main program), "
"<package>logcheck-database</package> (a database of regular expressions for "
"the program) and <package>logtail</package> (prints loglines that have not "
"yet been read). The Debian default (in <file>/etc/cron.d/logcheck</file>) is "
"that <prgn>logcheck</prgn> is run every hour and after reboots."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1826
msgid ""
"This tool can be quite useful if properly customized to alert the "
"administrator of unusual system events. <prgn>Logcheck</prgn> can be fully "
"customized so that it sends mails based on events found in the logs and "
"worthy of attention. The default installation includes profiles for ignored "
"events and policy violations for three different setups (workstation, server "
"and paranoid). The Debian package includes a configuration file "
"<file>/etc/logcheck/logcheck.conf</file>, sourced by the program, that "
"defines which user the checks are sent to. It also provides a way for "
"packages that provide services to implement new policies in the directories: "
"<file>/etc/logcheck/cracking.d/_packagename_</file>, "
"<file>/etc/logcheck/violations.d/_packagename_</file>, "
"<file>/etc/logcheck/violations.ignore.d/_packagename_</file>, "
"<file>/etc/logcheck/ignore.d.paranoid/_packagename_</file>, "
"<file>/etc/logcheck/ignore.d.server/_packagename_</file>, and "
"<file>/etc/logcheck/ignore.d.workstation/_packagename_</file>. However, not "
"many packages currently do so. If you have a policy that can be useful for "
"other users, please send it as a bug report for the appropriate package (as "
"a <em>wishlist</em> bug). For more information read "
"<file>/usr/share/doc/logcheck/README.Debian</file>."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1839
msgid ""
"The best way to configure <prgn>logcheck</prgn> is to edit its main "
"configuration file <file>/etc/logcheck/logcheck.conf</file> after "
"installation. Change the default user (root) to whom reports should be "
"mailed. You should set the reportlevel in there, "
"too. <package>logcheck-database</package> has three report levels of "
"increasing verbosity: workstation, server, paranoid. \"server\" being the "
"default level, paranoid is only recommended for high-security machines "
"running as few services as possible and workstation for relatively "
"sheltered, non-critical machines. If you wish to add new log files just add "
"them to <file>/etc/logcheck/logcheck.logfiles</file>. It is tuned for "
"default syslog install."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1854
msgid ""
"Once this is done you might want to check the mails that are sent, for the "
"first few days/weeks/months. If you find you are sent messages you do not "
"wish to receive, just add the regular expressions (see <manref section=\"7\" "
"name=\"regex\"> and <manref section=\"1\" name=\"egrep\">) that correspond "
"to these messages to the "
"<file>/etc/logcheck/ignore.d.<var>reportlevel</var>/local</file>. Try to "
"match the whole logline. Details on howto write rules are explained in "
"<file>/usr/share/doc/logcheck-database/README.logcheck-database.gz</file>. "
"It's an ongoing tuning process; once the messages that are sent are always "
"relevant you can consider the tuning finished. Note that if "
"<prgn>logcheck</prgn> does not find anything relevant in your system it will "
"not mail you even if it does run (so you might get a mail only once a week, "
"if you are lucky)."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1856
msgid "Configuring where alerts are sent"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1863
msgid ""
"Debian comes with a standard <tt>syslog</tt> configuration (in "
"<file>/etc/syslog.conf</file>) that logs messages to the appropriate files "
"depending on the system facility. You should be familiar with this; have a "
"look at the <file>syslog.conf</file> file and the documentation if not. If "
"you intend to maintain a secure system you should be aware of where log "
"messages are sent so they do not go unnoticed."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1868
msgid ""
"For example, sending messages to the console also is an interesting setup "
"useful for many production-level systems. But for many such systems it is "
"also important to add a new machine that will serve as loghost (i.e. it "
"receives logs from all other systems)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1875
msgid ""
"Root's mail should be considered also, many security controls (like "
"<package>snort</package>) send alerts to root's mailbox. This mailbox "
"usually points to the first user created in the system (check "
"<file>/etc/aliases</file>). Take care to send root's mail to some place "
"where it will be read (either locally or remotely)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1880
msgid ""
"There are other role accounts and aliases on your system. On a small system, "
"it's probably simplest to make sure that all such aliases point to the root "
"account, and that mail to root is forwarded to the system administrator's "
"personal mailbox."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1886
msgid ""
"FIXME: It would be interesting to tell how a Debian system can send/receive "
"SNMP traps related to security problems (jfs). Check: "
"<package>snmptrapfmt</package>, <package>snmp</package> and "
"<package>snmpd</package>."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1888
msgid "Using a loghost"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1903
msgid ""
"A loghost is a host which collects syslog data remotely over the network. If "
"one of your machines is cracked, the intruder is not able to cover his "
"tracks, unless he hacks the loghost as well. So, the loghost should be "
"especially secure. Making a machine a loghost is simple. Just start the "
"<prgn>syslogd</prgn> with <tt>syslogd -r</tt> and a new loghost is born. In "
"order to do this permanently in Debian, edit "
"<file>/etc/default/syslogd</file> and change the line"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1905
#, no-wrap
msgid "SYSLOGD=\"\""
msgstr ""

#. type: </example><example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1907
msgid "to"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1909
#, no-wrap
msgid "SYSLOGD=\"-r\""
msgstr ""

#. type: </example><example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1914
msgid ""
"Next, configure the other machines to send data to the loghost. Add an entry "
"like the following to <file>/etc/syslog.conf</file>:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1916
#, no-wrap
msgid "  facility.level            @your_loghost"
msgstr ""

#. type: </example><example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1922
msgid ""
"See the documentation for what to use in place of <em>facility</em> and "
"<em>level</em> (they should not be entered verbatim like this). If you want "
"to log everything remotely, just write:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1924
#, no-wrap
msgid "  *.*                       @your_loghost"
msgstr ""

#. type: </example></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1933
msgid ""
"into your <file>syslog.conf</file>. Logging remotely as well as locally is "
"the best solution (the attacker might presume to have covered his tracks "
"after deleting the local log files). See the <manref section=\"3\" "
"name=\"syslog\">, <manref section=\"8\" name=\"syslogd\"> and <manref "
"section=\"5\" name=\"syslog.conf\"> manpages for additional information."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1935
msgid "Log file permissions"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1946
msgid ""
"It is not only important to decide how alerts are used, but also who has "
"read/modify access to the log files (if not using a remote "
"loghost). Security alerts which the attacker can change or disable are not "
"worth much in the event of an intrusion. Also, you have to take into account "
"that log files might reveal quite a lot of information about your system to "
"an intruder if he has access to them."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1956
msgid ""
"Some log file permissions are not perfect after the installation (but of "
"course this really depends on your local security policy). First "
"<file>/var/log/lastlog</file> and <file>/var/log/faillog</file> do not need "
"to be readable by normal users. In the <file>lastlog</file> file you can see "
"who logged in recently, and in the <file>faillog</file> you see a summary of "
"failed logins. The author recommends <prgn>chmod 660</prgn> for both. Take a "
"brief look at your log files and decide very carefully which log files to "
"make readable/writable for a user with a UID other than 0 and a group other "
"than 'adm' or 'root'. You can easily check this in your system with:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1965
#, no-wrap
msgid ""
"  #  find /var/log -type f -exec ls -l {} \\; | cut -c 17-35 |sort -u\n"
"  (see to what users do files in /var/log belong)\n"
"  #  find /var/log -type f -exec ls -l {} \\; | cut -c 26-34 |sort -u\n"
"  (see to what groups do files in /var/log belong)\n"
"  # find /var/log -perm +004\n"
"  (files which are readable by any user)\n"
"  #  find /var/log \\! -group root \\! -group adm -exec ls -ld {} \\;\n"
"  (files which belong to groups not root or adm)"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1979
msgid ""
"To customize how log files are created you will probably have to customize "
"the program that generates them. If the log file gets rotated, however, you "
"can customize the behavior of creation and rotation."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1981
msgid "Adding kernel patches"
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1984
msgid ""
"Debian GNU/Linux provides some of the patches for the Linux kernel that "
"enhance its security. These include:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:1995
msgid ""
"<url id=\"http://www.lids.org\" name=\"Linux Intrusion Detection\"> provided "
"in the <package>kernel-patch-2.4-lids</package> package. This kernel patch "
"makes the process of hardening your Linux system easier by allowing you to "
"restrict, hide and protect processes, even from root. It implements "
"mandatory access control capabilities."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2001
msgid ""
"<url id=\"http://trustees.sourceforge.net/\" name=\"Linux Trustees\">, "
"provided in package <package>trustees</package>. This patch adds a decent "
"advanced permissions management system to your Linux kernel. Special objects "
"(called trustees) are bound to every file or directory, and are stored in "
"kernel memory, which allows fast lookup of all permissions."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2013
msgid ""
"NSA Enhanced Linux (in package <package>selinux</package>). Backports of the "
"SElinux-enabled packages are available at <url "
"id=\"http://selinux.alioth.debian.org/\">. More information available at "
"<url id=\"http://wiki.debian.org/SELinux\" name=\"SElinux in Debian Wiki "
"page\">, at <url "
"id=\"http://www.golden-gryphon.com/software/security/selinux.xhtml\" "
"name=\"Manoj Srivastava's\"> and <url "
"id=\"http://www.coker.com.au/selinux/\" name=\"Russell Cookers's\"> SElinux "
"websites."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2018
msgid ""
"The <url id=\"http://people.redhat.com/mingo/exec-shield/\" "
"name=\"exec-shield patch\"> provided in the "
"<package>kernel-patch-exec-shield</package> package. This patch provides "
"protection against some buffer overflows (stack smashing attacks)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2049
msgid ""
"The <url id=\"http://www.grsecurity.net/\" name=\"Grsecurity patch\">, "
"provided by the <package>kernel-patch-2.4-grsecurity</package> and "
"<package>kernel-patch-grsecurity2</package> packages <footnote><p>Notice "
"that this patch conflicts with patches already included in Debian's 2.4 "
"kernel source package. You will need to use the stock vanilla kernel. You "
"can do this with the following steps: <example># apt-get install "
"kernel-source-2.4.22 kernel-patch-debian-2.4.22 # tar xjf "
"/usr/src/kernel-source-2.4.22.tar.bz2 # cd kernel-source-2.4.22 # "
"/usr/src/kernel-patches/all/2.4.22/unpatch/debian</example></p><p>For more "
"information see <url id=\"http://bugs.debian.org/194225\" name=\"#194225\">, "
"<url id=\"http://bugs.debian.org/199519\" name=\"#199519\">, <url "
"id=\"http://bugs.debian.org/206458\" name=\"#206458\">, <url "
"id=\"http://bugs.debian.org/203759\" name=\"#203759\">, <url "
"id=\"http://bugs.debian.org/204424\" name=\"#204424\">, <url "
"id=\"http://bugs.debian.org/210762\" name=\"#210762\">, <url "
"id=\"http://bugs.debian.org/211213\" name=\"#211213\">, and the <url "
"id=\"http://lists.debian.org/debian-devel/2003/debian-devel-200309/msg01133.html\" "
"name=\"discussion at debian-devel\"></p></footnote> implements Mandatory "
"Access Control through RBAC, provides buffer overflow protection through "
"PaX, ACLs, network randomness (to make OS fingerprinting more difficult) and "
"<url id=\"http://www.grsecurity.net/features.php\" name=\"many more "
"features\">."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2061
msgid ""
"The <package>kernel-patch-adamantix</package> provides the patches developed "
"for <url id=\"http://www.adamantix.org/\" name=\"Adamantix\">, a "
"Debian-based distribution. This kernel patch for the 2.4.x kernel releases "
"introduces some security features such as a non-executable stack through the "
"use of <url id=\"http://pageexec.virtualave.net/\" name=\"PaX\"> and "
"mandatory access control based on <url id=\"http://www.rsbac.org/\" "
"name=\"RSBAC\">. Other features include: <url "
"id=\"http://www.vanheusden.com/Linux/sp/\" name=\"the Random PID patch\">, "
"AES encrypted loop device, MPPE support and an IPSEC v2.6 backport."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2065
msgid ""
"<package>cryptoloop-source</package>. This patches allows you to use the "
"functions of the kernel crypto API to create encrypted filesystems using the "
"loopback device."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2076
msgid ""
"IPSEC kernel support (in package "
"<package>linux-patch-openswan</package>). If you want to use the IPsec "
"protocol with Linux, you need this patch. You can create VPNs with this "
"quite easily, even to Windows machines, as IPsec is a common standard. IPsec "
"capabilities have been added to the 2.5 development kernel, so this feature "
"will be present by default in the future Linux Kernel 2.6. Homepage: <url "
"id=\"http://www.openswan.org\">. <em>FIXME</em>: The latest 2.4 kernels "
"provided in Debian include a backport of the IPSEC code from 2.5. Comment on "
"this."
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2081
msgid ""
"The following security kernel patches are only available for old kernel "
"versions in woody and are deprecated:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2088
msgid ""
"<url id=\"http://acl.bestbits.at/\" name=\"POSIX Access Control Lists\"> "
"(ACLs) for Linux provided in the package "
"<package>kernel-patch-acl</package>. This kernel patch adds access control "
"lists, an advanced method for restricting access to files. It allows you to "
"control fine-grain access to files and directory."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2098
msgid ""
"The <url id=\"http://www.openwall.com/linux/\" name=\"Openwall\"> linux "
"kernel patch by Solar Designer, provided in the "
"<package>kernel-patch-2.2.18-openwall</package> package. This is a useful "
"set of kernel restrictions, like restricted links, FIFOs in "
"<file>/tmp</file>, a restricted <file>/proc</file> file system, special file "
"descriptor handling, non-executable user stack area and other "
"features. Note: This package applies to the 2.2 release, no packages are "
"available for the 2.4 release patches provided by Solar."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2104
msgid ""
"<package>kernel-patch-int</package>. This patch also adds cryptographic "
"capabilities to the Linux kernel, and was useful with Debian releases up to "
"Potato. It doesn't work with Woody, and if you are using Sarge or a newer "
"version, you should use a more recent kernel which includes these features "
"already."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2114
msgid ""
"However, some patches have not been provided in Debian yet. If you feel that "
"some of these should be included please ask for it at the <url "
"id=\"http://www.debian.org/devel/wnpp/\" name=\"Work Needing and Prospective "
"Packages\">."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2116
msgid "Protecting against buffer overflows"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2129
msgid ""
"<em>Buffer overflow</em> is the name of a common attack to software "
"<footnote><p>So common, in fact, that they have been the basis of 20% of the "
"reported security vulnerabilities every year, as determined by <url "
"id=\"http://icat.nist.gov/icat.cfm?function=statistics\" name=\"statistics "
"from ICAT's vulnerability database\"></p></footnote> which makes use of "
"insufficient boundary checking (a programming error, most commonly in the C "
"language) in order to execute machine code through program inputs. These "
"attacks, against server software which listen to connections remotely and "
"against local software which grant higher privileges to users "
"(<tt>setuid</tt> or <tt>setgid</tt>) can result in the compromise of any "
"given system."
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2131
msgid "There are mainly four methods to protect against buffer overflows:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2137
msgid ""
"patch the kernel to prevent stack execution. You can use either: "
"Exec-shield, OpenWall or PaX (included in the Grsecurity and Adamantix "
"patches)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2140
msgid ""
"fix the source code by using tools to find fragments of it that might "
"introduce this vulnerability."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2146
msgid ""
"recompile the source code to introduce proper checks that prevent overflows, "
"using the <url id=\"http://www.research.ibm.com/trl/projects/security/ssp/\" "
"name=\"Stack Smashing Protector (SSP)\"> patch for GCC (which is used by "
"<url id=\"http://www.adamantix.org\" name=\"Adamantix\">)"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2153
msgid ""
"Debian GNU/Linux, as of the 3.0 release, provides software to introduce all "
"of these methods except for the protection on source code compilation (but "
"this has been requested in <url id=\"http://bugs.debian.org/213994\" "
"name=\"Bug #213994\">)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2160
msgid ""
"Notice that even if Debian provided a compiler which featured stack/buffer "
"overflow protection all packages would need to be recompiled in order to "
"introduce this feature. This is, in fact, what the Adamantix distribution "
"does (among other features). The effect of this new feature on the stability "
"of software is yet to be determined (some programs or some processor "
"architectures might break due to it)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2168
msgid ""
"In any case, be aware that even these workarounds might not prevent buffer "
"overflows since there are ways to circumvent these, as described in phrack's "
"magazine <url "
"id=\"http://packetstorm.linuxsecurity.com/mag/phrack/phrack58.tar.gz\" "
"name=\"issue 58\"> or in CORE's Advisory <url "
"id=\"http://online.securityfocus.com/archive/1/269246\" name=\"Multiple "
"vulnerabilities in stack smashing protection technologies\">."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2172
msgid ""
"If you want to test out your buffer overflow protection once you have "
"implemented it (regardless of the method) you might want to install the "
"<package>paxtest</package> and run the tests it provides."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2174
msgid "Kernel patch protection for buffer overflows"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2183
msgid ""
"Kernel patches related to buffer overflows include the Openwall patch "
"provides protection against buffer overflows in 2.2 linux kernels. For 2.4 "
"or newer kernels, you need to use the Exec-shield implementation, or the PaX "
"implementation (provided in the grsecurity patch, "
"<package>kernel-patch-2.4-grsecurity</package>, and in the Adamantix patch, "
"<package>kernel-patch-adamantix</package>). For more information on using "
"these patches read the the section <ref id=\"kernel-patches\">."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2185
msgid "Testing programs for overflows"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2194
msgid ""
"The use of tools to detect buffer overflows requires, in any case, of "
"programming experience in order to fix (and recompile) the code. Debian "
"provides, for example: <package>bfbtester</package> (a buffer overflow "
"tester that brute-forces binaries through command line and environment "
"overflows). Other packages of interest would also be "
"<package>rats</package>, <package>pscan</package>, "
"<package>flawfinder</package> and <package>splint</package>."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2196
msgid "Secure file transfers"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2203
msgid ""
"During normal system administration one usually needs to transfer files in "
"and out from the installed system. Copying files in a secure manner from a "
"host to another can be achieved by using the <package>ssh</package> server "
"package. Another possibility is the use of <package>ftpd-ssl</package>, a "
"ftp server which uses the <em>Secure Socket Layer</em> to encrypt the "
"transmissions."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2213
msgid ""
"Any of these methods need special clients. Debian does provide client "
"software, such as <prgn>scp</prgn> from the <package>ssh</package> package, "
"which works like <prgn>rcp</prgn> but is encrypted completely, so the "
"<em>bad guys</em> cannot even find out WHAT you copy. There is also a "
"<package>ftp-ssl</package> package for the equivalent server. You can find "
"clients for these software even for other operating systems (non-UNIX), "
"<prgn>putty</prgn> and <prgn>winscp</prgn> provide secure copy "
"implementations for any version of Microsoft's operating system."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2222
msgid ""
"Note that using <prgn>scp</prgn> provides access to the users to all the "
"file system unless <prgn>chroot</prgn>'ed as described in <ref "
"id=\"ssh-chroot\">. FTP access can be <prgn>chroot</prgn>'ed, probably "
"easier depending on you chosen daemon, as described in <ref "
"id=\"ftp-secure\">. If you are worried about users browsing your local files "
"and want to have encrypted communication you can either use an ftp daemon "
"with SSL support or combine clear-text ftp and a VPN setup (see <ref "
"id=\"vpn\">)."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2224
msgid "File system limits and control"
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2226
msgid "Using quotas"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2229
msgid ""
"Having a good quota policy is important, as it keeps users from filling up "
"the hard disk(s)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2235
msgid ""
"You can use two different quota systems: user quota and group quota. As you "
"probably figured out, user quota limits the amount of space a user can take "
"up, group quota does the equivalent for groups. Keep this in mind when "
"you're working out quota sizes."
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2238
msgid ""
"There are a few important points to think about in setting up a quota "
"system:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2242
msgid "Keep the quotas small enough, so users do not eat up your disk space."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2245
msgid ""
"Keep the quotas big enough, so users do not complain or their mail quota "
"keeps them from accepting mail over a longer period."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2247
msgid ""
"Use quotas on all user-writable areas, on <file>/home</file> as well as on "
"<file>/tmp</file>."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2253
msgid ""
"Every partition or directory to which users have full write access should be "
"quota enabled. Calculate and assign a workable quota size for those "
"partitions and directories which combines usability and security."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2260
msgid ""
"So, now you want to use quotas. First of all you need to check whether you "
"enabled quota support in your kernel. If not, you will need to recompile "
"it. After this, control whether the package <package>quota</package> is "
"installed. If not you will need this one as well."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2269
msgid ""
"Enabling quota for the respective file systems is as easy as modifying the "
"<tt>defaults</tt> setting to <tt>defaults,usrquota</tt> in your "
"<file>/etc/fstab</file> file. If you need group quota, substitute "
"<tt>usrquota</tt> to <tt>grpquota</tt>. You can also use them both. Then "
"create empty quota.user and quota.group files in the roots of the file "
"systems you want to use quotas on (e.g. <tt>touch /home/quota.user "
"/home/quota.group</tt> for a <file>/home</file> file system)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2273
msgid ""
"Restart <prgn>quota</prgn> by doing <tt>/etc/init.d/quota "
"stop;/etc/init.d/quota start</tt>. Now quota should be running, and quota "
"sizes can be set."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2280
msgid ""
"Editing quotas for a specific user can be done by <tt>edquota -u "
"&lt;user&gt;</tt>. Group quotas can be modified with <tt>edquota -g "
"&lt;group&gt;</tt>. Then set the soft and hard quota and/or inode quotas as "
"needed."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2285
msgid ""
"For more information about quotas, read the quota man page, and the quota "
"mini-howto (<file>/usr/share/doc/HOWTO/en-html/mini/Quota.html</file>). You "
"may also want to look at <file>pam_limits.so</file>."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2288
msgid "The ext2 filesystem specific attributes (chattr/lsattr)"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2301
msgid ""
"In addition to the usual Unix permissions, the ext2 and ext3 filesystems "
"offer a set of specific attributes that give you more control over the files "
"on your system. Unlike the basic permissions, these attributes are not "
"displayed by the usual <prgn>ls -l</prgn> command or changed using "
"<prgn>chmod</prgn>, and you need two other utilities, <prgn>lsattr</prgn> "
"and <prgn>chattr</prgn> (in package <package>e2fsprogs</package>) to manage "
"them. Note that this means that these attributes will usually not be saved "
"when you backup your system, so if you change any of them, it may be worth "
"saving the successive <prgn>chattr</prgn> commands in a script so that you "
"can set them again later if you have to restore a backup."
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2306
msgid ""
"Among all available attributes, the two that are most important for "
"increasing security are referenced by the letters 'i' and 'a', and they can "
"only be set (or removed) by the superuser:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2311
msgid ""
"The 'i' attribute ('immutable'): a file with this attribute can neither be "
"modified nor deleted or renamed and no link can be created to it, even by "
"the superuser."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2318
msgid ""
"The 'a' attribute ('append'): this attribute has the same effect that the "
"immutable attribute, except that you can still open the file in append "
"mode. This means that you can still add more content to it but it is "
"impossible to modify previous content. This attribute is especially useful "
"for the log files stored in <file>/var/log/</file>, though you should "
"consider that they get moved sometimes due to the log rotation scripts."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2326
msgid ""
"These attributes can also be set for directories, in which case everyone is "
"denied the right to modify the contents of a directory list (e.g. rename or "
"remove a file, ...). When applied to a directory, the append attribute only "
"allows file creation."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2343
msgid ""
"It is easy to see how the 'a' attribute improves security, by giving to "
"programs that are not running as the superuser the ability to add data to a "
"file without modifying its previous content. On the other hand, the 'i' "
"attribute seems less interesting: after all, the superuser can already use "
"the basic Unix permissions to restrict access to a file, and an intruder "
"that would get access to the superuser account could always use the "
"<prgn>chattr</prgn> program to remove the attribute. Such an intruder may "
"first be confused when he sees that he is not able to remove a file, but you "
"should not assume that he is blind - after all, he got into your system! "
"Some manuals (including a previous version of this document) suggest to "
"simply remove the <prgn>chattr</prgn> and <prgn>lsattr</prgn> programs from "
"the system to increase security, but this kind of strategy, also known as "
"\"security by obscurity\", is to be absolutely avoided, since it provides a "
"false sense of security."
msgstr ""

#. type: <p><enumlist numeration="arabic">
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2352
msgid ""
"A secure way to solve this problem is to use the capabilities of the Linux "
"kernel, as described in <ref id=\"proactive\">. The capability of interest "
"here is called <tt>CAP_LINUX_IMMUTABLE</tt>: if you remove it from the "
"capabilities bounding set (using for example the command <tt>lcap "
"CAP_LINUX_IMMUTABLE</tt>) it won't be possible to change any 'a' or 'i' "
"attribute on your system anymore, even by the superuser ! A complete "
"strategy could be as follows:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2353
msgid "Set the attributes 'a' and 'i' on any file you want;"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2358
msgid ""
"Add the command <tt>lcap CAP_LINUX_IMMUTABLE</tt> (as well as <tt>lcap "
"CAP_SYS_MODULE</tt>, as suggested in <ref id=\"proactive\">) to one of the "
"startup scripts;"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2360
msgid ""
"Set the 'i' attribute on this script and other startup files, as well as on "
"the <prgn>lcap</prgn> binary itself;"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2363
msgid ""
"Execute the above command manually (or reboot your system to make sure "
"everything works as planned)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2377
msgid ""
"Now that the capability has been removed from the system, an intruder cannot "
"change any attribute on the protected files, and thus cannot change or "
"remove the files. If he forces the machine to reboot (which is the only way "
"to restore the capabilities bounding set), it will easily be detected, and "
"the capability will be removed again as soon as the system restarts "
"anyway. The only way to change a protected file would be to boot the system "
"in single-user mode or using another bootdisk, two operations that require "
"physical access to the machine !"
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2379
msgid "Checking file system integrity"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2384
msgid ""
"Are you sure <file>/bin/login</file> on your hard drive is still the binary "
"you installed there some months ago? What if it is a hacked version, which "
"stores the entered password in a hidden file or mails it in clear-text "
"version all over the Internet?"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2396
msgid ""
"The only method to have some kind of protection is to check your files every "
"hour/day/month (I prefer daily) by comparing the actual and the old md5sum "
"of this file. Two files cannot have the same md5sum (the MD5 digest is 128 "
"bits, so the chance that two different files will have the same md5sum is "
"roughly one in 3.4e3803), so you're on the safe site here, unless someone "
"has also hacked the algorithm that creates md5sums on that machine. This is, "
"well, extremely difficult and very unlikely. You really should consider this "
"auditing of your binaries as very important, since it is an easy way to "
"recognize changes at your binaries."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2407
msgid ""
"Common tools used for this are <package>sxid</package>, "
"<package>aide</package> (Advanced Intrusion Detection Environment), "
"<package>tripwire</package>, <package>integrit</package> and "
"<package>samhain</package>. Installing <prgn>debsums</prgn> will also help "
"you to check the file system integrity, by comparing the md5sums of every "
"file against the md5sums used in the Debian package archive. But beware: "
"those files can easily be changed by an attacker and not all packages "
"provide md5sums listings for the binaries they provided. For more "
"information please read <ref id=\"periodic-integrity\"> and <ref "
"id=\"snapshot\">."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2426
msgid ""
"You might want to use <prgn>locate</prgn> to index the whole filesystem, if "
"so, consider the implications of that. The Debian "
"<package>findutils</package> package contains <prgn>locate</prgn> which runs "
"as user nobody, and so it only indexes files which are visible to "
"everybody. However, if you change it's behaviour you will make all file "
"locations visible to all users. If you want to index all the filesystem (not "
"the bits that the user nobody can see) you can replace <prgn>locate</prgn> "
"with the package <package>slocate</package>. slocate is labeled as a "
"security enhanced version of GNU locate, but it actually provides additional "
"file-locating functionality. When using <prgn>slocate</prgn>, the user only "
"sees the files he really has access to and you can exclude any files or "
"directories on the system. The <package>slocate</package> package runs its "
"update process with higher privledges than locate, and indexes every "
"file. Users are then able to quickly search for every file which they are "
"able to see. <prgn>slocate</prgn> doesn't let them see new files; it filters "
"the output based on your UID."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2434
msgid ""
"You might want to use <package>bsign</package> or "
"<package>elfsign</package>. <package>elfsign</package> provides an utility "
"to add a digital signature to an ELF binary and a second utility to verify "
"that signature. The current implementation uses PKI to sign the checksum of "
"the binary. The benefits of doing this are that it enables one to determine "
"if a binary has been modified and who created it. <package>bsign</package> "
"uses GPG, <package>elfsign</package> uses PKI (X.509) certificates "
"(OpenSSL)."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2436
msgid "Setting up setuid check"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2446
msgid ""
"The Debian <package>checksecurity</package> package provides a "
"<prgn>cron</prgn> job that runs daily in "
"<file>/etc/cron.daily/checksecurity</file> <footnote><p>In previous "
"releases, checksecurity was integrated into cron and the file was "
"<file>/etc/cron.daily/standard</file></p></footnote>. This <prgn>cron</prgn> "
"job will run the <prgn>/usr/sbin/checksecurity</prgn> script that will store "
"information of this changes."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2453
msgid ""
"The default behavior does not send this information to the superuser but, "
"instead keeps daily copies of the changes in "
"<file>/var/log/setuid.changes</file>. You should set the MAILTO variable (in "
"<file>/etc/checksecurity.conf</file>) to 'root' to have this information "
"mailed to him. See <manref section=\"8\" name=\"checksecurity\"> for more "
"configuration info."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2455
msgid "Securing network access"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2457
msgid "FIXME: More (Debian-specific) content needed."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2459
msgid "Configuring kernel network features"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2470
msgid ""
"Many features of the kernel can be modified while running by echoing "
"something into the <file>/proc</file> file system or by using "
"<prgn>sysctl</prgn>. By entering <tt>/sbin/sysctl -A</tt> you can see what "
"you can configure and what the options are, and it can be modified running "
"<tt>/sbin/sysctl -w variable=value</tt> (see <manref section=\"8\" "
"name=\"sysctl\">). Only in rare cases do you need to edit something here, "
"but you can increase security that way as well. For example:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2472
#, no-wrap
msgid "net/ipv4/icmp_echo_ignore_broadcasts = 1"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2479
msgid ""
"This is a <em>Windows emulator</em> because it acts like Windows on "
"broadcast ping if this option is set to 1. That is, ICMP echo requests sent "
"to the broadcast address will be ignored. Otherwise, it does nothing."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2482
msgid ""
"If you want to prevent you system from answering ICMP echo requests, just "
"enable this configuration option:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2484
#, no-wrap
msgid "net/ipv4/icmp_echo_ignore_all = 1"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2489
msgid ""
"To log packets with impossible addresses (due to wrong routes) on your "
"network use:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2491
#, no-wrap
msgid "/proc/sys/net/ipv4/conf/all/log_martians = 1"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2503
msgid ""
"For more information on what things can be done with "
"<file>/proc/sys/net/ipv4/*</file> read "
"<file>/usr/src/linux/Documentation/filesystems/proc.txt</file>. All the "
"options are described thoroughly under "
"<file>/usr/src/linux/Documentation/networking/ip-sysctl.txt</file> "
"<footnote><p>In Debian the "
"<package>kernel-source-<var>version</var></package> packages copy the "
"sources to <file>/usr/src/kernel-source-<var>version</var>.tar.bz2</file>, "
"just substitute <var>version</var> to whatever kernel version sources you "
"have installed</p></footnote>."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2506
msgid "Configuring syncookies"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2515
msgid ""
"This option is a double-edged sword. On the one hand it protects your system "
"against syn packet flooding; on the other hand it violates defined standards "
"(RFCs)."
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2517
#, no-wrap
msgid "net/ipv4/tcp_syncookies = 1"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2525
msgid ""
"If you want to change this option each time the kernel is working you need "
"to change it in <tt>/etc/network/options</tt> by setting "
"<tt>syncookies=yes</tt>. This will take effect when ever "
"<tt>/etc/init.d/networking</tt> is run (which is typically done at boot "
"time) while the following will have a one-time effect until the reboot:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2527
#, no-wrap
msgid "echo 1 > /proc/sys/net/ipv4/tcp_syncookies"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2533
msgid ""
"This option will only be available if the kernel is compiled with the "
"<tt>CONFIG_SYNCOOKIES</tt>. All Debian kernels are compiled with this option "
"builtin but you can verify it running:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2536
#, no-wrap
msgid ""
"$ sysctl -A |grep syncookies\n"
"net/ipv4/tcp_syncookies = 1"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2541
msgid ""
"For more information on TCP syncookies read <url "
"id=\"http://cr.yp.to/syncookies.html\">."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2543
msgid "Securing the network on boot-time"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2548
msgid ""
"When setting configuration options for the kernel networking you need "
"configure it so that it's loaded every time the system is restarted. The "
"following example enables many of the previous options as well as other "
"useful options."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2555
msgid ""
"There are actually two ways to configure your network at boot time. You can "
"configure <file>/etc/sysctl.conf</file> (see: <manref section=\"5\" "
"name=\"sysctl.conf\">) or introduce a script that is called when the "
"interface is enabled. The first option will be applied to all interfaces, "
"whileas the second option allows you to configure this on a per-interface "
"basis."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2558
msgid ""
"An example of a <file>/etc/sysctl.conf</file> configuration that will secure "
"some network options at the kernel level is shown below. Notice the comment "
"in it, <file>/etc/network/options</file> might override some values if they "
"contradict those in this file when the <file>/etc/init.d/networking</file> "
"is run (which is later than <file>procps</file> on the startup sequence)."
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2611
#, no-wrap
msgid ""
"#\n"
"# /etc/sysctl.conf - Configuration file for setting system variables\n"
"# See sysctl.conf (5) for information. Also see the files under\n"
"# Documentation/sysctl/, Documentation/filesystems/proc.txt, and\n"
"# Documentation/networking/ip-sysctl.txt in the kernel sources \n"
"# (/usr/src/kernel-$version if you have a kernel-package installed)\n"
"# for more information of the values that can be defined here.\n"
"\n"
"#\n"
"# Be warned that /etc/init.d/procps is executed to set the following\n"
"# variables.  However, after that, /etc/init.d/networking sets some\n"
"# network options with builtin values.  These values may be overridden\n"
"# using /etc/network/options.\n"
"#\n"
"#kernel.domainname = example.com\n"
"\n"
"# Additional settings - adapted from the script contributed\n"
"# by Dariusz Puchala (see below)\n"
"# Ignore ICMP broadcasts\n"
"net/ipv4/icmp_echo_ignore_broadcasts = 1\n"
"#\n"
"# Ignore bogus ICMP errors\n"
"net/ipv4/icmp_ignore_bogus_error_responses = 1\n"
"# \n"
"# Do not accept ICMP redirects (prevent MITM attacks)\n"
"net/ipv4/conf/all/accept_redirects = 0\n"
"# _or_\n"
"# Accept ICMP redirects only for gateways listed in our default\n"
"# gateway list (enabled by default)\n"
"# net/ipv4/conf/all/secure_redirects = 1\n"
"#\n"
"# Do not send ICMP redirects (we are not a router)\n"
"net/ipv4/conf/all/send_redirects = 0\n"
"#\n"
"# Do not forward IP packets (we are not a router)\n"
"# Note: Make sure that /etc/network/options has 'ip_forward=no'\n"
"net/ipv4/conf/all/forwarding = 0\n"
"#\n"
"# Enable TCP Syn Cookies\n"
"# Note: Make sure that /etc/network/options has 'syncookies=yes'\n"
"net/ipv4/tcp_syncookies = 1\n"
"#\n"
"# Log Martian Packets\n"
"net/ipv4/conf/all/log_martians = 1\n"
"#\n"
"# Turn on Source Address Verification in all interfaces to\n"
"# prevent some spoofing attacks\n"
"# Note: Make sure that /etc/network/options has 'spoofprotect=yes'\n"
"net/ipv4/conf/all/rp_filter = 1\n"
"#\n"
"# Do not accept IP source route packets (we are not a router)\n"
"net/ipv4/conf/all/accept_source_route = 0"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2618
msgid ""
"To use the script you need to first create the script, for example, in "
"<file>/etc/network/interface-secure</file> (the name is given as an example) "
"and call it from <file>/etc/network/interfaces</file> like this:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2626
#, no-wrap
msgid ""
"auto eth0\n"
"iface eth0 inet static\n"
"        address xxx.xxx.xxx.xxx\n"
"        netmask 255.255.255.xxx\n"
"        broadcast xxx.xxx.xxx.xxx\n"
"        gateway xxx.xxx.xxx.xxx\n"
"        pre-up /etc/network/interface-secure"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2631
msgid ""
"In this example, before the interface eth0 is enabled the script will be "
"called to secure all network interfaces as shown below."
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2662
#, no-wrap
msgid ""
"#!/bin/sh -e\n"
"# Script-name: /etc/network/interface-secure\n"
"#\n"
"# Modifies some default behavior in order to secure against \n"
"# some TCP/IP spoofing & attacks for all interfaces.\n"
"#\n"
"# Contributed by Dariusz Puchalak.\n"
"#\n"
"echo 1 > /proc/sys/net/ipv4/icmp_echo_ignore_broadcasts \n"
"                                           # Broadcast echo protection "
"enabled.\n"
"echo 0 > /proc/sys/net/ipv4/conf/all/forwarding\n"
"                                           # IP forwarding disabled.\n"
"echo 1 > /proc/sys/net/ipv4/tcp_syncookies # TCP syn cookies protection "
"enabled.\n"
"echo 1 >/proc/sys/net/ipv4/conf/all/log_martians # Log strange packets.\n"
"# (this includes spoofed packets, source routed packets, redirect packets)\n"
"# but be careful with this on heavy loaded web servers.\n"
"echo 1 > /proc/sys/net/ipv4/icmp_ignore_bogus_error_responses \n"
"                                           # Bad error message protection "
"enabled.\n"
"\n"
"# IP spoofing protection.\n"
"echo 1 > /proc/sys/net/ipv4/conf/all/rp_filter\n"
"\n"
"# Disable ICMP redirect acceptance.\n"
"echo 0 > /proc/sys/net/ipv4/conf/all/accept_redirects\n"
"echo 0 > /proc/sys/net/ipv4/conf/all/send_redirects\n"
"\n"
"# Disable source routed packets.\n"
"echo 0 > /proc/sys/net/ipv4/conf/all/accept_source_route\n"
"\n"
"exit 0"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2668
msgid ""
"Notice that you can actually have per-interface scripts that will enable "
"different network options for different interfaces (if you have more than "
"one), just change the pre-up line to:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2670
#, no-wrap
msgid "pre-up /etc/network/interface-secure $IFACE"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2677
msgid ""
"And use a script which will only apply changes to a specific interface, not "
"to all of the interfaces available. Notice that some networking options can "
"only be enabled globally, however. A sample script is this one:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2715
#, no-wrap
msgid ""
"#!/bin/sh -e\n"
"# Script-name: /etc/network/interface-secure\n"
"#\n"
"# Modifies some default behavior in order to secure against \n"
"# some TCP/IP spoofing & attacks for a given interface.\n"
"#\n"
"# Contributed by Dariusz Puchalak.\n"
"#\n"
"\n"
"IFACE=$1\n"
"if [ -z \"$IFACE\" ] ; then\n"
"   echo \"$0: Must give an interface name as argument!\"\n"
"   echo \"Usage: $0 &lt;interface&gt;\"\n"
"   exit 1\n"
"fi\n"
"\n"
"if [ ! -e /proc/sys/net/ipv4/conf/$IFACE/ ]; then\n"
"   echo \"$0: Interface $IFACE does not exit (cannot find "
"/proc/sys/net/ipv4/conf/)\"\n"
"   exit 1\n"
"fi\n"
"\n"
"echo 0 > /proc/sys/net/ipv4/conf/$IFACE/forwarding  # IP forwarding "
"disabled.\n"
"echo 1 >/proc/sys/net/ipv4/conf/$IFACE/log_martians # Log strange packets.\n"
"# (this includes spoofed packets, source routed packets, redirect packets)\n"
"# but be careful with this on heavy loaded web servers.\n"
"\n"
"# IP spoofing protection.\n"
"echo 1 > /proc/sys/net/ipv4/conf/$IFACE/rp_filter\n"
"\n"
"# Disable ICMP redirect acceptance.\n"
"echo 0 > /proc/sys/net/ipv4/conf/$IFACE/accept_redirects\n"
"echo 0 > /proc/sys/net/ipv4/conf/$IFACE/send_redirects\n"
"\n"
"# Disable source routed packets.\n"
"echo 0 > /proc/sys/net/ipv4/conf/$IFACE/accept_source_route\n"
"\n"
"exit 0"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2722
msgid ""
"An alternative solution is to create an <tt>init.d</tt> script and have it "
"run on bootup (using <prgn>update-rc.d</prgn> to create the appropriate "
"<tt>rc.d</tt> links)."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2724
msgid "Configuring firewall features"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2731
msgid ""
"In order to have firewall capabilities, either to protect the local system "
"or others <em>behind</em> it, the kernel needs to be compiled with firewall "
"capabilities. The standard Debian 2.2 kernel (Linux 2.2) provides the packet "
"filter <prgn>ipchains</prgn> firewall, Debian 3.0 standard kernel (Linux "
"2.4) provides the <em>stateful</em> packet filter <prgn>iptables</prgn> "
"(netfilter) firewall."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2738
msgid ""
"In any case, it is pretty easy to use a kernel different from the one "
"provided by Debian. You can find pre-compiled kernels as packages you can "
"easily install in the Debian system. You can also download the kernel "
"sources using the <package>kernel-source-<var>X</var></package> and build "
"custom kernel packages using <prgn>make-kpkg</prgn> from the "
"<package>kernel-package</package> package."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2742
msgid ""
"Setting up firewalls in Debian is discussed more thoroughly in <ref "
"id=\"firewall-setup\">."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2746
msgid "Disabling weak-end hosts issues"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2770
msgid ""
"Systems with more than one interface on different networks can have services "
"configured so that they will bind only to a given IP address. This usually "
"prevents access to services when requested through any other "
"address. However, this does not mean (although it is a common misconception) "
"that the service is bound to a given <em>hardware</em> address (interface "
"card). <footnote><p>To reproduce this (example provided by Felix von Leitner "
"on the Bugtraq mailing list): <example> host a (eth0 connected to eth0 of "
"host b): ifconfig eth0 10.0.0.1 ifconfig eth1 23.0.0.1 tcpserver -RHl "
"localhost 23.0.0.1 8000 echo fnord host b: ifconfig eth0 10.0.0.2 route add "
"23.0.0.1 gw 10.0.0.1 telnet 23.0.0.1 8000</example></p><p>It seems, however, "
"not to work with services bound to 127.0.0.1, you might need to write the "
"tests using raw sockets.</p></footnote>"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2776
msgid ""
"This is not an ARP issue and it's not an RFC violation (it's called <em>weak "
"end host</em> in <url id=\"ftp://ftp.isi.edu/in-notes/rfc1122.txt\" "
"name=\"RFC1122\">, section 3.3.4.2). Remember, IP addresses have nothing to "
"do with physical interfaces."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2777
msgid "On 2.2 (and previous) kernels this can be fixed with:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2782
#, no-wrap
msgid ""
"# echo 1 > /proc/sys/net/ipv4/conf/all/hidden\n"
"# echo 1 > /proc/sys/net/ipv4/conf/eth0/hidden\n"
"# echo 1 > /proc/sys/net/ipv4/conf/eth1/hidden\n"
"....."
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2784
msgid "On later kernels this can be fixed either with:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2786
msgid "iptables rules."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2801
msgid ""
"properly configured routing. <footnote><p>The fact that this behavior can be "
"changed through routing was described by Matthew G. Marsh in the Bugtraq "
"thread: <example>eth0 = 1.1.1.1/24 eth1 = 2.2.2.2/24 ip rule add from "
"1.1.1.1/32 dev lo table 1 prio 15000 ip rule add from 2.2.2.2/32 dev lo "
"table 2 prio 16000 ip route add default dev eth0 table 1 ip route add "
"default dev eth1 table 2</example></p></footnote>"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2808
msgid ""
"kernel patching. <footnote><p>There are some patches available for this "
"behavior as described in Bugtraq's thread at <url "
"id=\"http://www.linuxvirtualserver.org/~julian/#hidden\"> and <url "
"id=\"http://www.fefe.de/linux-eth-forwarding.diff\">.</p></footnote>"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2823
msgid ""
"Along this text there will be many occasions in which it is shown how to "
"configure some services (sshd server, apache, printer service...) in order "
"to have them listening on any given address, the reader should take into "
"account that, without the fixes given here, the fix would not prevent "
"accesses from within the same (local) network. <footnote><p>An attacker "
"might have many problems pulling the access through after configuring the "
"IP-address binding if he is not on the same broadcast domain (same network) "
"as the attacked host. If the attack goes through a router it might be quite "
"difficult for the answers to return somewhere.</p></footnote>"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2826
msgid ""
"FIXME: Comments on Bugtraq indicate there is a Linux specific method to bind "
"to a given interface."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2829
msgid ""
"FIXME: Submit a bug against netbase so that the routing fix is standard "
"behavior in Debian?"
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2831
msgid "Protecting against ARP attacks"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2835
msgid ""
"When you don't trust the other boxes on your LAN (which should always be the "
"case, because it's the safest attitude) you should protect yourself from the "
"various existing ARP attacks."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2846
msgid ""
"As you know the ARP protocol is used to link IP addresses to MAC addresses "
"(see <url id=\"ftp://ftp.isi.edu/in-notes/rfc826.txt\" name=\"RFC826\"> for "
"all the details). Every time you send a packet to an IP address an ARP "
"resolution is done (first by looking into the local ARP cache then if the IP "
"isn't present in the cache by broadcasting an ARP query) to find the "
"target's hardware address. All the ARP attacks aim to fool your box into "
"thinking that box B's IP address is associated to the intruder's box's MAC "
"address; Then every packet that you want to send to the IP associated to box "
"B will be send to the intruder's box..."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2854
msgid ""
"Those attacks (ARP cache poisoning, ARP spoofing...) allow the attacker to "
"sniff the traffic even on switched networks, to easily hijack connections, "
"to disconnect any host from the network... ARP attacks are powerful and "
"simple to implement, and several tools exists, such as <prgn>arpspoof</prgn> "
"from the <package>dsniff</package> package or <url "
"id=\"http://arpoison.sourceforge.net/\" name=\"arpoison\">."
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2856
msgid "However, there is always a solution:"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2861
msgid ""
"Use a static ARP cache. You can set up \"static\" entries in your ARP cache "
"with:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2863
#, no-wrap
msgid "  arp -s host_name hdwr_addr"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2871
msgid ""
"By setting static entries for each important host in your network you ensure "
"that nobody will create/modify a (fake) entry for these hosts (static "
"entries don't expire and can't be modified) and spoofed ARP replies will be "
"ignored."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2877
msgid ""
"Detect suspicious ARP traffic. You can use <package>arpwatch</package>, "
"<package>karpski</package> or more general IDS that can also detect "
"suspicious ARP traffic (<package>snort</package>, <url "
"id=\"http://www.prelude-ids.org\" name=\"prelude\">...)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2878
msgid "Implement IP traffic filtering validating the MAC address."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2883
msgid "Taking a snapshot of the system"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2889
msgid ""
"Before putting the system into production system you could take a snapshot "
"of the whole system. This snapshot could be used in the event of a "
"compromise (see <ref id=\"after-compromise\">). You should remake this "
"upgrade whenever the system is upgraded, especially if you upgrade to a new "
"Debian release."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2895
msgid ""
"For this you can use a writable removable-media that can be set up "
"read-only, this could be a floppy disk (read protected after use), a CD on a "
"CD-ROM unit (you could use a rewritable CD-ROM so you could even keep "
"backups of md5sums in different dates), or a USB disk or MMC card (if your "
"system can access those and they can be write protected)."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2897
msgid "The following script creates such a snapshot:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2927
#, no-wrap
msgid ""
"#!/bin/bash\n"
"/bin/mount /dev/fd0 /mnt/floppy\n"
"trap \"/bin/umount /dev/fd0\" 0 1 2 3 9 13 15\n"
"if [ ! -f /usr/bin/md5sum ] ; then\n"
"\techo \"Cannot find md5sum. Aborting.\"\n"
"\texit 1\n"
"fi\n"
"/bin/cp /usr/bin/md5sum /mnt/floppy\n"
"echo \"Calculating md5 database\"\n"
">/mnt/floppy/md5checksums.txt\n"
"for dir in /bin/ /sbin/ /usr/bin/ /usr/sbin/ /lib/ /usr/lib/\n"
"do\n"
"   find $dir -type f | xargs /usr/bin/md5sum "
">>/mnt/floppy/md5checksums-lib.txt\n"
"done\n"
"echo \"post installation md5 database calculated\"\n"
"if [ ! -f /usr/bin/sha1sum ] ; then\n"
"\techo \"Cannot find sha1sum\"\n"
"        echo \"WARNING: Only md5 database will be stored\"\n"
"else\n"
"\t/bin/cp /usr/bin/sha1sum /mnt/floppy\n"
"\techo \"Calculating SHA-1 database\"\n"
"\t>/mnt/floppy/sha1checksums.txt\n"
"\tfor dir in /bin/ /sbin/ /usr/bin/ /usr/sbin/ /lib/ /usr/lib/\n"
"\tdo\n"
"\t   find $dir -type f | xargs /usr/bin/sha1sum "
">>/mnt/floppy/sha1checksums-lib.txt\n"
"\tdone\n"
"\techo \"post installation sha1 database calculated\"\n"
"fi\n"
"exit 0"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2941
msgid ""
"Note that the md5sum binary (and sha1sum, if available) is placed on the "
"floppy drive so it can be used later on to check the binaries of the system "
"(just in case it gets trojaned). However, if you want to make sure that you "
"are running a legitimate binary, you might want to either compile a static "
"copy of the md5sum binary and use that one (to prevent a trojaned libc "
"library from interfering with the binary) or to use the snapshot of md5sums "
"only from a clean environment such as a rescue CD-ROM or a Live-CD (to "
"prevent a trojaned kernel from interfering). I cannot stress this enough: if "
"you are on a compromised system you cannot trust its output, see <ref "
"id=\"after-compromise\">."
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2946
msgid ""
"The snapshot does not include the files under "
"<file>/var/lib/dpkg/info</file> which includes the MD5 hashes of installed "
"packages (in files ending with <file>.md5sums</file>). You could copy this "
"information along too, however you should notice:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2955
msgid ""
"the md5sums files include the md5sum of all files provided by the Debian "
"packages, not just system binaries. As a consequence, that database is "
"bigger (5 Mb versus 600 Kb in a Debian GNU/Linux system with a graphical "
"system and around 2.5 Gb of software installed) and will not fit in small "
"removable media (like a single floppy disk, but would probably fit in a "
"removable USB memory)."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2959
msgid ""
"not all Debian packages provide md5sums for the files installed since it is "
"not (currently) mandated policy. Notice, however, that you can generate the "
"md5sums for all packages using <package>debsums</package> after you've "
"finished the system installation:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2961
#, no-wrap
msgid "# debsums --generate=missing,keep"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2970
msgid ""
"Once the snapshot is done you should make sure to set the medium "
"read-only. You can then store it for backup or place it in the drive and use "
"it to drive a <prgn>cron</prgn> check nightly comparing the original md5sums "
"against those on the snapshot."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2974
msgid ""
"If you do not want to setup a manual check you can always use any of the "
"integrity systems available that will do this and more, for more information "
"please read <ref id=\"periodic-integrity\">."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2978
msgid "Other recommendations"
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:52 en/after-install.sgml:2980
msgid "Do not use software depending on svgalib"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:3
msgid ""
"SVGAlib is very nice for console lovers like me, but in the past it has been "
"proven several times that it is very insecure. Exploits against "
"<prgn>zgv</prgn> were released, and it was simple to become root. Try to "
"prevent using SVGAlib programs wherever possible."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:53 en/services.sgml:5
msgid "Securing services running on your system"
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:53 en/services.sgml:7
msgid "Services can be secured in a running system in two ways:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:12
msgid ""
"Making them only accessible at the access points (interfaces) they need to "
"be in."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:15
msgid ""
"Configuring them properly so that they can only be used by legitimate users "
"in an authorized manner."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:24
msgid ""
"Restricting services so that they can only be accessed from a given place "
"can be done by restricting access to them at the kernel (i.e. firewall) "
"level, configure them to listen only on a given interface (some services "
"might not provide this feature) or using some other methods, for example the "
"Linux vserver patch (for 2.4.16) can be used to force processes to use only "
"one interface."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:35
msgid ""
"Regarding the services running from <prgn>inetd</prgn> (<prgn>telnet</prgn>, "
"<prgn>ftp</prgn>, <prgn>finger</prgn>, <prgn>pop3</prgn>...) it is worth "
"noting that <prgn>inetd</prgn> can be configured so that services only "
"listen on a given interface (using <tt>service@ip</tt> syntax) but that's an "
"undocumented feature. One of its substitutes, the <prgn>xinetd</prgn> "
"meta-daemon includes a <tt>bind</tt> option just for this matter. See "
"<manref section=\"5\" name=\"xinetd.conf\">."
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:48
#, no-wrap
msgid ""
"service nntp\n"
"{\n"
"        socket_type     = stream\n"
"        protocol        = tcp\n"
"        wait            = no\n"
"        user            = news\n"
"        group           = news\n"
"        server          = /usr/bin/env\n"
"        server_args     = POSTING_OK=1 "
"PATH=/usr/sbin/:/usr/bin:/sbin/:/bin\n"
"+/usr/sbin/snntpd logger -p news.info\n"
"        bind            = 127.0.0.1\n"
"}"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:54
msgid ""
"The following sections detail how specific individual services can be "
"configured properly depending on their intended use."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:53 en/services.sgml:55
msgid "Securing ssh"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:63
msgid ""
"If you are still running telnet instead of ssh, you should take a break from "
"this manual and change this. Ssh should be used for all remote logins "
"instead of telnet. In an age where it is easy to sniff Internet traffic and "
"get clear-text passwords, you should use only protocols which use "
"cryptography. So, perform an <tt>apt-get install ssh</tt> on your system "
"now."
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:53 en/services.sgml:71
msgid ""
"Encourage all the users on your system to use ssh instead of telnet, or even "
"better, uninstall telnet/telnetd. In addition you should avoid logging into "
"the system using ssh as root and use alternative methods to become root "
"instead, like <prgn>su</prgn> or <prgn>sudo</prgn>. Finally, the "
"<file>sshd_config</file> file, in <file>/etc/ssh</file>, should be modified "
"to increase security as well:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:71
msgid "<tt>ListenAddress 192.168.0.1</tt>"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:77
msgid ""
"Have ssh listen only on a given interface, just in case you have more than "
"one (and do not want ssh available on it) or in the future add a new network "
"card (and don't want ssh connections from it)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:79
msgid "<tt>PermitRootLogin no</tt>"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:83
msgid ""
"Try not to permit Root Login wherever possible. If anyone wants to become "
"root via ssh, now two logins are needed and the root password cannot be "
"brute forced via SSH."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:85
msgid "<tt>Port 666</tt> or <tt>ListenAddress 192.168.0.1:666</tt>"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:89
msgid ""
"Change the listen port, so the intruder cannot be completely sure whether a "
"sshd daemon runs (be forewarned, this is security by obscurity)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:90
msgid "<tt>PermitEmptyPasswords no</tt>"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:92
msgid "Empty passwords make a mockery of system security."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:93
msgid "<tt>AllowUsers alex ref me@somewhere</tt>"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:97
msgid ""
"Allow only certain users to have access via ssh to this "
"machine. <tt>user@host</tt> can also be used to restrict a given user from "
"accessing only at a given host."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:98
msgid "<tt>AllowGroups wheel admin</tt>"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:103
msgid ""
"Allow only certain group members to have access via ssh to this "
"machine. AllowGroups and AllowUsers have equivalent directives for denying "
"access to a machine. Not surprisingly they are called \"DenyUsers\" and "
"\"DenyGroups\"."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:105
msgid "<tt>PasswordAuthentication yes</tt>"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:117
msgid ""
"It is completely your choice what you want to do. It is more secure to only "
"allow access to the machine from users with ssh-keys placed in the "
"<file>~/.ssh/authorized_keys</file> file. If you want so, set this one to "
"\"no\"."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:124
msgid ""
"Disable any form of authentication you do not really need, if you do not "
"use, for example <tt>RhostsRSAAuthentication</tt>, "
"<tt>HostbasedAuthentication</tt>, <tt>KerberosAuthentication</tt> or "
"<tt>RhostsAuthentication</tt> you should disable them, even if they are "
"already by default (see the manpage <manref section=\"5\" "
"name=\"sshd_config\">)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:125
msgid "<tt>Protocol 2</tt>"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:131
msgid ""
"Disable the protocol version 1, since it has some design flaws that make it "
"easier to crack passwords. For more information read <url "
"id=\"http://earthops.net/ssh-timing.pdf\" name=\"a paper regarding ssh "
"protocol problems\"> or the <url "
"id=\"http://xforce.iss.net/static/6449.php\" name=\"Xforce advisory\">."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:132
msgid "<tt>Banner <file>/etc/<var>some_file</var></file></tt>"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:137
msgid ""
"Add a banner (it will be retrieved from the file) to users connecting to the "
"ssh server. In some countries sending a warning before access to a given "
"system about unauthorized access or user monitoring should be added to have "
"legal protection."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:145
msgid ""
"You can also restrict access to the ssh server using <tt>pam_listfile</tt> "
"or <tt>pam_wheel</tt> in the PAM control file. For example, you could keep "
"anyone not listed in <file>/etc/loginusers</file> away by adding this line "
"to <file>/etc/pam.d/ssh</file>:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:147
#, no-wrap
msgid ""
"auth       required     pam_listfile.so sense=allow onerr=fail item=user "
"file=/etc/loginusers"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:159
msgid ""
"As a final note, be aware that these directives are from a OpenSSH "
"configuration file. Right now, there are three commonly used SSH daemons, "
"ssh1, ssh2, and OpenSSH by the OpenBSD people. Ssh1 was the first ssh daemon "
"available and it is still the most commonly used (there are rumors that "
"there is even a Windows port). Ssh2 has many advantages over ssh1 except it "
"is released under a closed-source license. OpenSSH is completely free ssh "
"daemon, which supports both ssh1 and ssh2. OpenSSH is the version installed "
"on Debian when the package <package>ssh</package> is chosen."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:164
msgid ""
"You can read more information on how to set up SSH with PAM support in the "
"<url "
"id=\"http://lists.debian.org/debian-security/2001/debian-security-200111/msg00395.html\" "
"name=\"security mailing list archives\">."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:53 en/services.sgml:165
msgid "Chrooting ssh"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:176
msgid ""
"Currently OpenSSH does not provide a way to chroot automatically users upon "
"connection (the commercial version does provide this functionality). However "
"there is a project to provide this functionality for OpenSSH too, see <url "
"id=\"http://chrootssh.sourceforge.net\">, it is not currently packaged for "
"Debian, though. You could use, however, the <file>pam_chroot</file> module "
"as described in <ref id=\"user-restrict\">."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:179
msgid ""
"In <ref id=\"chroot-ssh-env\"> you can find several options to make a chroot "
"environment for SSH."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:53 en/services.sgml:181
msgid "Ssh clients"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:187
msgid ""
"If you are using an SSH client against the SSH server you must make sure "
"that it supports the same protocols that are enforced on the server. For "
"example, if you use the <package>mindterm</package> package, it only "
"supports protocol version 1. However, the sshd server is, by default, "
"configured to only accept version 2 (for security reasons)."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:53 en/services.sgml:189
msgid "Disallowing file transfers"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:195
msgid ""
"If you do <em>not</em> want users to transfer files to and from the ssh "
"server you need to restrict access to the <prgn>sftp-server</prgn> "
"<em>and</em> the <prgn>scp</prgn> access. You can restrict "
"<prgn>sftp-server</prgn> by configuring the proper <tt>Subsystem</tt> in the "
"<file>/etc/ssh/sshd_config</file>."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:199
msgid ""
"You can also chroot users (using <package>libpam-chroot</package> so that, "
"even if file transfer is allowed, they are limited to an environment which "
"does not include any system files."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:53 en/services.sgml:201
msgid "Restricing access to file transfer only"
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:53 en/services.sgml:205
msgid ""
"You might want to restrict access to users so that they can only do file "
"transfers and cannot have interactive shells. In order to do this you can "
"either:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:210
msgid ""
"disallow users from login to the ssh server (as described above either "
"through the configuration file or PAM configuration)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:215
msgid ""
"give users a restricted shell such as <package>scponly</package> or "
"<package>rssh</package>. These shells restrict the commands available to the "
"users so that they are not provided any remote execution priviledges."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:53 en/services.sgml:219
msgid "Securing Squid"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:242
msgid ""
"Squid is one of the most popular proxy/cache server, and there are some "
"security issues that should be taken into account. Squid's default "
"configuration file denies all users requests. However the Debian package "
"allows access from 'localhost', you just need to configure your browser "
"properly. You should configure Squid to allow access to trusted users, hosts "
"or networks defining an Access Control List on "
"<file>/etc/squid/squid.conf</file>, see the <url "
"id=\"http://www.deckle.co.za/squid-users-guide/Main_Page\" name=\"Squid "
"User's Guide\"> for more information about defining ACLs rules. Notice that "
"Debian provides a minimum configuration for Squid that will prevent "
"anything, except from <em>localhost</em> to connect to your proxy server "
"(which will run in the default port 3128). You will need to customize your "
"<file>/etc/squid/squid.conf</file> as needed. The recommended minimum "
"configuration (provided with the package) is shown below:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:282
#, no-wrap
msgid ""
"acl all src 0.0.0.0/0.0.0.0\n"
"acl manager proto cache_object\n"
"acl localhost src 127.0.0.1/255.255.255.255\n"
"acl SSL_ports port 443 563\n"
"acl Safe_ports port 80          # http\n"
"acl Safe_ports port 21          # ftp\n"
"acl Safe_ports port 443 563     # https, snews\n"
"acl Safe_ports port 70          # gopher\n"
"acl Safe_ports port 210         # wais\n"
"acl Safe_ports port 1025-65535  # unregistered ports\n"
"acl Safe_ports port 280         # http-mgmt\n"
"acl Safe_ports port 488         # gss-http\n"
"acl Safe_ports port 591         # filemaker\n"
"acl Safe_ports port 777         # multiling http\n"
"acl Safe_ports port 901         # SWAT\n"
"acl purge method PURGE\n"
"acl CONNECT method CONNECT\n"
"(...)\n"
"# Only allow cachemgr access from localhost\n"
"http_access allow manager localhost\n"
"http_access deny manager\n"
"# Only allow purge requests from localhost\n"
"http_access allow purge localhost\n"
"http_access deny purge\n"
"# Deny requests to unknown ports\n"
"http_access deny !Safe_ports\n"
"# Deny CONNECT to other than SSL ports\n"
"http_access deny CONNECT !SSL_ports\n"
"#\n"
"# INSERT YOUR OWN RULE(S) HERE TO ALLOW ACCESS FROM YOUR CLIENTS\n"
"#\n"
"http_access allow localhost\n"
"# And finally deny all other access to this proxy\n"
"http_access deny all\n"
"#Default:\n"
"# icp_access deny all\n"
"#\n"
"#Allow ICP queries from everyone\n"
"icp_access allow all"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:288
msgid ""
"You should also configure Squid based on your system resources, including "
"cache memory (option <tt>cache_mem</tt>), location of the cached files and "
"the amount of space they will take up on disk (option <tt>cache_dir</tt>)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:294
msgid ""
"Notice that, if not properly configured, someone may relay a mail message "
"through Squid, since the HTTP and SMTP protocols are designed "
"similarly. Squid's default configuration file denies access to port 25. If "
"you wish to allow connections to port 25 just add it to Safe_ports "
"lists. However, this is <em>NOT</em> recommended."
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:53 en/services.sgml:301
msgid ""
"Setting and configuring the proxy/cache server properly is only part of "
"keeping your site secure. Another necessary task is to analyze Squid's logs "
"to assure that all things are working as they should be working. There are "
"some packages in Debian GNU/Linux that can help an administrator to do "
"this. The following packages are available in Debian 3.0 and Debian 3.1 "
"(sarge):"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:304
msgid ""
"<package>calamaris</package> - Log analyzer for Squid or Oops proxy log "
"files."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:305
msgid "<package>modlogan</package> - A modular logfile analyzer."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:306
msgid "<package>sarg</package> - Squid Analysis Report Generator."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:307
msgid "<package>squidtaild</package> - Squid log monitoring program."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:318
msgid ""
"When using Squid in Accelerator Mode it acts as a web server too. Turning on "
"this option increases code complexity, making it less reliable. By default "
"Squid is not configured to act as a web server, so you don't need to worry "
"about this. Note that if you want to use this feature be sure that it is "
"really necessary. To find more information about Accelerator Mode on Squid "
"see the <url "
"id=\"http://www.deckle.co.za/squid-users-guide/Accelerator_Mode\" "
"name=\"Squid User's Guide - Accelerator Mode\">"
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:53 en/services.sgml:320
msgid "Securing FTP"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:329
msgid ""
"If you really have to use FTP (without wrapping it with sslwrap or inside a "
"SSL or SSH tunnel), you should chroot ftp into the ftp users' home "
"directory, so that the user is unable to see anything else than their own "
"directory. Otherwise they could traverse your root file system just like if "
"they had a shell in it. You can add the following line in your "
"<file>proftpd.conf</file> in your global section to enable this chroot "
"feature:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:331
#, no-wrap
msgid "DefaultRoot ~"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:336
msgid ""
"Restart ProFTPd by <tt>/etc/init.d/proftpd restart</tt> and check whether "
"you can escape from your homedir now."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:341
msgid ""
"To prevent ProFTPd DoS attacks using ../../.., add the following line in "
"<file>/etc/proftpd.conf</file>: <tt>DenyFilter \\*.*/</tt>"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:351
msgid ""
"Always remember that FTP sends login and authentication passwords in clear "
"text (this is not an issue if you are providing an anonymous public service) "
"and there are better alternatives in Debian for this. For example, "
"<prgn>sftp</prgn> (provided by <package>ssh</package>). There are also free "
"implementations of SSH for other operating systems: <url "
"id=\"http://www.chiark.greenend.org.uk/~sgtatham/putty/\" name=\"putty\"> "
"and <url id=\"http://www.cygwin.com\" name=\"cygwin\"> for example."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:363
msgid ""
"However, if you still maintain the FTP server while making users access "
"through SSH you might encounter a typical problem. Users accessing anonymous "
"FTP servers inside SSH-secured systems might try to log in the <em>FTP "
"server</em>. While the access will be refused, the password will "
"nevertheless be sent through the net in clear form. To avoid that, ProFTPd "
"developer TJ Saunders has created a patch that prevents users feeding the "
"anonymous FTP server with valid SSH accounts. More information and patch "
"available at: <url id=\"http://www.castaglia.org/proftpd/#Patches\" "
"name=\"ProFTPD Patches\">. This patch has been reported to Debian too, see "
"<url id=\"http://bugs.debian.org/145669\" name=\"Bug #145669\">."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:53 en/services.sgml:364
msgid "Securing access to the X Window System"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:375
msgid ""
"Today, X terminals are used by more and more companies where one server is "
"needed for a lot of workstations. This can be dangerous, because you need to "
"allow the file server to connect to the clients (X server from the X point "
"of view. X switches the definition of client and server). If you follow the "
"(very bad) suggestion of many docs, you type <tt>xhost +</tt> on your "
"machine. This allows any X client to connect to your system. For slightly "
"better security, you can use the command <tt>xhost +hostname</tt> instead to "
"only allow access from specific hosts."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:398
msgid ""
"A much more secure solution, though, is to use ssh to tunnel X and encrypt "
"the whole session. This is done automatically when you ssh to another "
"machine. For this to work, you have to configure both the ssh client and the "
"ssh server. On the ssh client, <tt>ForwardX11</tt> should be set to "
"<tt>yes</tt> in <file>/etc/ssh/ssh_config</file>. On the ssh server, "
"<tt>X11Forwarding</tt> should be set to <tt>yes</tt> in "
"<file>/etc/ssh/sshd_config</file> and the package "
"<package>xbase-clients</package> should be installed because the ssh server "
"uses <file>/usr/X11R6/bin/xauth</file> (<file>/usr/bin/xauth</file> on "
"Debian unstable) when setting up the pseudo X display. In times of SSH, you "
"should drop the xhost based access control completely."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:402
msgid ""
"For best security, if you do not need X access from other machines, switch "
"off the binding on TCP port 6000 simply by typing:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:404
#, no-wrap
msgid "$ startx -- -nolisten tcp"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:411
msgid ""
"This is the default behavior in Xfree 4.1.0 (the Xserver provided in Debian "
"3.0 and 3.1). If you are running Xfree 3.3.6 (i.e. you have Debian 2.2 "
"installed) you can edit <file>/etc/X11/xinit/xserverrc</file> to have it "
"something along the lines of:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:414
#, no-wrap
msgid ""
"#!/bin/sh\n"
"exec /usr/bin/X11/X -dpi 100 -nolisten tcp"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:427
msgid ""
"If you are using XDM set <file>/etc/X11/xdm/Xservers</file> to: <tt>:0 local "
"/usr/bin/X11/X vt7 -dpi 100 -nolisten tcp</tt>. If you are using Gdm make "
"sure that the <tt>DisallowTCP=true</tt> option is set in the "
"<file>/etc/gdm/gdm.conf</file> (which is the default in Debian). This will "
"basically append <tt>-nolisten tcp</tt> to every X command line "
"<footnote><p>Gdm will <em>not</em> append <tt>-nolisten tcp</tt> if it finds "
"a <tt>-query</tt> or <tt>-indirect</tt> on the command line since the query "
"wouldn't work.</p></footnote>."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:431
msgid ""
"You can also set the default's system timeout for <prgn>xscreensaver</prgn> "
"locks. Even if the user can override it, you should edit the "
"<file>/etc/X11/app-defaults/XScreenSaver</file> configuration file and "
"change the lock line:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:433
#, no-wrap
msgid "*lock:                  False"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:435
msgid "(which is the default in Debian) to:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:437
#, no-wrap
msgid "*lock:                  True"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:442
msgid ""
"FIXME: Add information on how to disable the screensavers which show the "
"user desktop (which might have sensitive information)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:448
msgid ""
"Read more on X Window security in <url "
"id=\"http://www.tldp.org/HOWTO/XWindow-User-HOWTO.html\" "
"name=\"XWindow-User-HOWTO\"> "
"(<file>/usr/share/doc/HOWTO/en-txt/XWindow-User-HOWTO.txt.gz</file>)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:451
msgid ""
"FIXME: Add info on thread of debian-security on how to change config files "
"of XFree 3.3.6 to do this."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:53 en/services.sgml:452
msgid "Check your display manager"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:458
msgid ""
"If you only want to have a display manager installed for local usage (having "
"a nice graphical login, that is), make sure the XDMCP (X Display Manager "
"Control Protocol) stuff is disabled. In XDM you can do this with this line "
"in <tt>/etc/X11/xdm/xdm-config</tt>:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:460
#, no-wrap
msgid "DisplayManager.requestPort:     0"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:464
msgid "For GDM there should be in your gdm.conf:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:467
#, no-wrap
msgid ""
"[xdmcp]\n"
"Enable=false"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:473
msgid ""
"Normally, all display managers are configured not to start XDMCP services "
"per default in Debian."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:53 en/services.sgml:475
msgid "Securing printing access (the lpd and lprng issue)"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:480
msgid ""
"Imagine, you arrive at work, and the printer is spitting out endless amounts "
"of paper because someone is DoSing your line printer daemon. Nasty, isn't "
"it?"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:485
msgid ""
"In any UNIX printing architecture, there has to be a way to get the client's "
"data to the host's print server. In traditional <prgn>lpr</prgn> and "
"<prgn>lp</prgn>, the client command copies or symlinks the data into the "
"spool directory (which is why these programs are usually SUID or SGID)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:491
msgid ""
"In order to avoid any issues you should keep your printer servers especially "
"secure. This means you need to configure your printer service so it will "
"only allow connections from a set of trusted servers. In order to do this, "
"add the servers you want to allow printing to your "
"<file>/etc/hosts.lpd</file>."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:504
msgid ""
"However, even if you do this, the <prgn>lpr</prgn> daemon accepts incoming "
"connections on port 515 of any interface. You should consider firewalling "
"connections from networks/hosts which are not allowed printing (the "
"<prgn>lpr</prgn> daemon cannot be limited to listen only on a given IP "
"address)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:511
msgid ""
"<prgn>Lprng</prgn> should be preferred over <prgn>lpr</prgn> since it can be "
"configured to do IP access control. And you can specify which interface to "
"bind to (although somewhat weirdly)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:518
msgid ""
"If you are using a printer in your system, but only locally, you will not "
"want to share this service over a network. You can consider using other "
"printing systems, like the one provided by <package>cups</package> or <url "
"id=\"http://pdq.sourceforge.net/\" name=\"PDQ\"> which is based on user "
"permissions of the <file>/dev/lp0</file> device."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:523
msgid ""
"In <package>cups</package>, the print data is transferred to the server via "
"the HTTP protocol. This means the client program doesn't need any special "
"privileges, but does require that the server is listening on a port "
"somewhere."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:527
msgid ""
"However, if you want to use <prgn>cups</prgn>, but only locally, you can "
"configure it to bind to the loopback interface by changing "
"<file>/etc/cups/cupsd.conf</file>:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:529
#, no-wrap
msgid "Listen 127.0.0.1:631"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:538
msgid ""
"There are many other security options like allowing or denying networks and "
"hosts in this config file. However, if you do not need them you might be "
"better off just limiting the listening port. <prgn>Cups</prgn> also serves "
"documentation through the HTTP port, if you do not want to disclose "
"potential useful information to outside attackers (and the port is open) add "
"also:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:544
#, no-wrap
msgid ""
"&lt;Location /&gt;\n"
" Order Deny,Allow\n"
" Deny From All\n"
" Allow From 127.0.0.1\n"
"&lt;/Location&gt;"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:550
msgid ""
"This configuration file can be modified to add some more features including "
"SSL/TLS certificates and crypto. The manuals are available at "
"http://localhost:631/ or at <url id=\"cups.org\">."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:554
msgid ""
"FIXME: Add more content (the article on <url "
"id=\"http://www.rootprompt.org\" name=\"Amateur Fortress Building\"> "
"provides some very interesting views)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:557
msgid ""
"FIXME: Check if PDG is available in Debian, and if so, suggest this as the "
"preferred printing system."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:560
msgid ""
"FIXME: Check if Farmer/Wietse has a replacement for printer daemon and if "
"it's available in Debian."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:53 en/services.sgml:562
msgid "Securing the mail service"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:567
msgid ""
"If your server is not a mailing system, you do not really need to have a "
"mail daemon listening for incoming connections, but you might want local "
"mail delivered in order, for example, to receive mail for the root user from "
"any alert systems you have in place."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:571
msgid ""
"If you have <prgn>exim</prgn> you do not need the daemon to be working in "
"order to do this since the standard <prgn>cron</prgn> job flushes the mail "
"queue. See <ref id=\"disableserv\"> on how to do this."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:53 en/services.sgml:573
msgid "Configuring a Nullmailer"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:580
msgid ""
"You might want to have a local mailer daemon so that it can relay the mails "
"sent locally to another system. This is common when you have to administer a "
"number of systems and do not want to connect to each of them to read the "
"mail sent locally. Just as all logging of each individual system can be "
"centralized by using a central syslog server, mail can be sent to a central "
"mailserver."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:584
msgid ""
"Such a <em>relay-only</em> system should be configured properly for "
"this. The daemon could, as well, be configured to only listen on the "
"loopback address."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:592
msgid ""
"The following configuration steps only need to be taken to configure the "
"<package>exim</package> package in the Debian 3.0 release. If you are using "
"a later release (such as 3.1 which uses <package>exim4</package>) the "
"installation system has been improved so that if the mail transport agent is "
"configured to only deliver local mail it will automatically only allow "
"connections from the local host and will not permit remote connections."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:594
msgid ""
"In a Debian 3.0 system using <package>exim</package>, you will have to "
"remove the SMTP daemon from <prgn>inetd</prgn>:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:596
#, no-wrap
msgid "$ update-inetd --disable smtp"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:603
msgid ""
"and configure the mailer daemon to only listen on the loopback interface. In "
"<prgn>exim</prgn> (the default MTA) you can do this by editing the file "
"<file>/etc/exim.conf</file> and adding the following line:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:605
#, no-wrap
msgid "local_interfaces = \"127.0.0.1\""
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:612
msgid ""
"Restart both daemons (inetd and exim) and you will have exim listening on "
"the 127.0.0.1:25 socket only. Be careful, and first disable inetd, "
"otherwise, exim will not start since the inetd daemon is already handling "
"incoming connections."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:614
msgid "For <prgn>postfix</prgn> edit <file>/etc/postfix/main.conf</file>:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:616
#, no-wrap
msgid "inet_interfaces = localhost"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:628
msgid ""
"If you only want local mail, this approach is better than tcp-wrapping the "
"mailer daemon or adding firewalling rules to limit anybody accessing "
"it. However, if you do need it to listen on other interfaces, you might "
"consider launching it from inetd and adding a tcp wrapper so incoming "
"connections are checked against <file>/etc/hosts.allow</file> and "
"<file>/etc/hosts.deny</file>. Also, you will be aware of when an "
"unauthorized access is attempted against your mailer daemon, if you set up "
"proper logging for any of the methods above."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:631
msgid ""
"In any case, to reject mail relay attempts at the SMTP level, you can change "
"<file>/etc/exim/exim.conf</file> to include:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:633
#, no-wrap
msgid "receiver_verify = true"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:640
msgid ""
"Even if your mail server will not relay the message, this kind of "
"configuration is needed for the relay tester at <url "
"id=\"http://www.abuse.net/relay.html\"> to determine that your server is "
"<em>not</em> relay capable."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:657
msgid ""
"If you want a relay-only setup, however, you can consider changing the "
"mailer daemon to programs that can <em>only</em> be configured to forward "
"the mail to a remote mail server. Debian provides currently both "
"<package>ssmtp</package> and <package>nullmailer</package> for this "
"purpose. In any case, you can evaluate for yourself any of the mail "
"transport agents <footnote><p>To retrieve the list of mailer daemons "
"available in Debian try: <example>$ apt-cache search "
"mail-transport-agent</example></p><p>The list will not include "
"<prgn>qmail</prgn>, which is distributed only as source code in the "
"<package>qmail-src</package> package.</p></footnote> provided by Debian and "
"see which one suits best to the system's purposes."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:53 en/services.sgml:659
msgid "Providing secure access to mailboxes"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:673
msgid ""
"If you want to give remote access to mailboxes there are a number of POP3 "
"and IMAP daemons available.<footnote><p>A list of servers/daemons which "
"support these protocols in Debian can be retrieved with: <example>$ "
"apt-cache search pop3-server $ apt-cache search "
"imap-server</example></p></footnote> However, if you provide IMAP access "
"note that it is a general file access protocol, it can become the equivalent "
"of a shell access because users might be able to retrieve any file that they "
"can through it."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:677
msgid ""
"Try, for example, to configure as your inbox path "
"<tt>{server.com}/etc/passwd</tt> if it succeeds your IMAP daemon is not "
"properly configured to prevent this kind of access."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:686
msgid ""
"Of the IMAP servers in Debian the <prgn>cyrus</prgn> server (in the "
"<package>cyrus-imapd</package> package) gets around this by having all "
"access to a database in a restricted part of the file system. Also, "
"<prgn>uw-imapd</prgn> (either install the <package>uw-imapd</package> or "
"better, if your IMAP clients support it, <package>uw-imapd-ssl</package>) "
"can be configured to chroot the users mail directory but this is not enabled "
"by default. The documentation provided gives more information on how to "
"configure it."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:697
msgid ""
"Also, you might want to run an IMAP server that does not need valid users to "
"be created on the local system (which would grant shell access too), "
"<package>courier-imap</package> (for IMAP) and "
"<package>courier-pop</package>, <package>teapop</package> (for POP3) and "
"<package>cyrus-imapd</package> (for both POP3 and IMAP) provide servers with "
"authentication methods beside the local user accounts. <prgn>cyrus</prgn> "
"can use any authentication method that can be configured through PAM while "
"<prgn>teapop</prgn> might use databases (such as "
"<package>postgresql</package> and <package>mysql</package>) for user "
"authentication."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:700
msgid ""
"FIXME: Check: <package>uw-imapd</package> might be configured with user "
"authentication through PAM too."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:53 en/services.sgml:701
msgid "Receiving mail securely"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:710
msgid ""
"Reading/receiving mail is the most common clear-text protocol. If you use "
"either POP3 or IMAP to get your mail, you send your clear-text password "
"across the net, so almost anyone can read your mail from now on. Instead, "
"use SSL (Secure Sockets Layer) to receive your mail. The other alternative "
"is SSH, if you have a shell account on the box which acts as your POP or "
"IMAP server. Here is a basic <file>fetchmailrc</file> to demonstrate this:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:718
#, no-wrap
msgid ""
"poll my-imap-mailserver.org via \"localhost\"\n"
"  with proto IMAP port 1236\n"
"      user \"ref\" there with password \"hackme\" is alex here warnings "
"3600\n"
"    folders\n"
"      .Mail/debian\n"
"    preconnect 'ssh -f -P -C -L 1236:my-imap-mailserver.org:143 -l ref\n"
"     my-imap-mailserver.org sleep 15 &lt;/dev/null &gt; /dev/null'"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:725
msgid ""
"The preconnect is the important line. It fires up an ssh session and creates "
"the necessary tunnel, which automatically forwards connections to localhost "
"port 1236 to the IMAP mail server, but encrypted. Another possibility would "
"be to use <prgn>fetchmail</prgn> with the SSL feature."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:728
msgid ""
"If you want to provide encrypted mail services like POP and IMAP, "
"<tt>apt-get install stunnel</tt> and start your daemons this way:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:730
#, no-wrap
msgid "stunnel -p /etc/ssl/certs/stunnel.pem -d pop3s -l /usr/sbin/popd"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:736
msgid ""
"This command wraps the provided daemon (-l) to the port (-d) and uses the "
"specified SSL certificate (-p)."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:53 en/services.sgml:738
msgid "Securing BIND"
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:53 en/services.sgml:742
msgid ""
"There are different issues that can be tackled in order to secure the Domain "
"server daemon, which are similar to the ones considered when securing any "
"given service:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:749
msgid ""
"configuring the daemon itself properly so it cannot be misused from the "
"outside (see <ref id=\"configure-bind\">). This includes limiting possible "
"queries from clients: zone transfers and recursive queries."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:754
msgid ""
"limit the access of the daemon to the server itself so if it is used to "
"break in, the damage to the system is limited. This includes running the "
"daemon as a non-privileged user (see <ref id=\"user-bind\">) and chrooting "
"it (see <ref id=\"chroot-bind\">)."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:53 en/services.sgml:758
msgid "Bind configuration to avoid misuse"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:770
msgid ""
"You should restrict some of the information that is served from the DNS "
"server to outside clients so that it cannot be used to retrieve valuable "
"information from your organization that you do not want to give away. This "
"includes adding the following options: <em>allow-transfer</em>, "
"<em>allow-query</em>, <em>allow-recursion</em> and <em>version</em>. You can "
"either limit this on the global section (so it applies to all the zones "
"served) or on a per-zone basis. This information is documented in the "
"<package>bind-doc</package> package, read more on this on "
"<file>/usr/share/doc/bind/html/index.html</file> once the package is "
"installed."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:777
msgid ""
"Imagine that your server is connected to the Internet and to your internal "
"(your internal IP is 192.168.1.2) network (a basic multi-homed server), you "
"do not want to give any service to the Internet and you just want to enable "
"DNS lookups from your internal hosts. You could restrict it by including in "
"<file>/etc/bind/named.conf</file>:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:786
#, no-wrap
msgid ""
"options {\n"
"            allow-query { 192.168.1/24; } ;\n"
"            allow-transfer { none; } ; \n"
"            allow-recursion { 192.168.1/24; } ;\n"
"            listen-on { 192.168.1.2; } ;\n"
"            forward { only; } ;\n"
"            forwarders { A.B.C.D; } ;\n"
"};"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:798
msgid ""
"The <em>listen-on</em> option makes the DNS bind to only the interface that "
"has the internal address, but, even if this interface is the same as the "
"interface that connects to the Internet (if you are using NAT, for example), "
"queries will only be accepted if coming from your internal hosts. If the "
"system has multiple interfaces and the <em>listen-on</em> is not present, "
"only internal users could query, but, since the port would be accessible to "
"outside attackers, they could try to crash (or exploit buffer overflow "
"attacks) on the DNS server. You could even make it listen only on 127.0.0.1 "
"if you are not giving DNS service for any other systems than yourself."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:808
msgid ""
"The version.bind record in the chaos class contains the version of the "
"currently running bind process. This information is often used by automated "
"scanners and malicious individuals who wish to determine if one's "
"<prgn>bind</prgn> is vulnerable to a specific attack. By providing false or "
"no information in the version.bind record, one limits the probability that "
"one's server will be attacked based on its published version. To provide "
"your own version, use the <em>version</em> directive in the following "
"manner:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:801
#, no-wrap
msgid ""
" options { ... various options here ...\n"
"version \"Not available.\"; };"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:813
msgid ""
"Changing the version.bind record does not provide actual protection against "
"attacks, but it might be considered a useful safeguard."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:818
msgid "A sample <file>named.conf</file> configuration file might be the following:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:877
#, no-wrap
msgid ""
"acl internal {\n"
"        127.0.0.1/32;           // localhost\n"
"        10.0.0.0/8;             // internal\n"
"        aa.bb.cc.dd;            // eth0 IP\n"
"};\n"
"\n"
"acl friendly {\n"
"        ee.ff.gg.hh;            // slave DNS\n"
"        aa.bb.cc.dd;            // eth0 IP\n"
"        127.0.0.1/32;           // localhost\n"
"        10.0.0.0/8;             // internal\n"
"};\n"
"\n"
"options {\n"
"        directory \"/var/cache/bind\";\n"
"        allow-query { internal; };\n"
"        allow-recursion { internal; };\n"
"        allow-transfer { none; };\n"
"};\n"
"// From here to the mysite.bogus zone \n"
"// is basically unmodified from the debian default\n"
"logging {\n"
"        category lame-servers { null; };\n"
"        category cname { null; };   \n"
"};\n"
"\n"
"zone \".\" {\n"
"        type hint;\n"
"        file \"/etc/bind/db.root\";\n"
"};\n"
"\n"
"zone \"localhost\" {\n"
"        type master;\n"
"        file \"/etc/bind/db.local\";\n"
"};\n"
"\n"
"zone \"127.in-addr.arpa\" {\n"
"        type master;\n"
"        file \"/etc/bind/db.127\";\n"
"};\n"
"\n"
"zone \"0.in-addr.arpa\" {\n"
"        type master;\n"
"        file \"/etc/bind/db.0\";\n"
"};\n"
"\n"
"zone \"255.in-addr.arpa\" {\n"
"        type master;\n"
"        file \"/etc/bind/db.255\";\n"
"};\n"
"\n"
"// zones I added myself\n"
"zone \"mysite.bogus\" {\n"
"        type master;\n"
"        file \"/etc/bind/named.mysite\";\n"
"        allow-query { any; };\n"
"        allow-transfer { friendly; };\n"
"};"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:884
msgid ""
"Please (again) check the Bug Tracking System regarding Bind, specifically "
"<url id=\"http://bugs.debian.org/94760\" name=\"Bug #94760 (regarding ACLs "
"on zone transfers)\">. Feel free to contribute to the bug report if you "
"think you can add useful information."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:53 en/services.sgml:886
msgid "Changing BIND's user"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:897
msgid ""
"Regarding limiting BIND's privileges you must be aware that if a non-root "
"user runs BIND, then BIND cannot detect new interfaces automatically, for "
"example when you put a PCMCIA card into your laptop. Check the "
"<file>README.Debian</file> file in your named documentation "
"(<file>/usr/share/doc/bind/README.Debian</file>) directory for more "
"information about this issue. There have been many recent security problems "
"concerning BIND, so switching the user is useful when possible. We will "
"detail here the steps needed in order to do this, however, if you want to do "
"this in an automatic way you might try the script provided in <ref "
"id=\"bind-chuser\">."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:904
msgid ""
"Notice, in any case, that this only applies to BIND version 8. In the Debian "
"packages for BIND version 9 (since the 9.2.1-5 version, available since "
"<em>sarge</em>) the <em>bind</em> user is created and used by setting the "
"OPTIONS variable in <file>/etc/default/bind9</file>. If you are using BIND "
"version 9 and your name server daemon is not running as the <em>bind</em> "
"user verify the settings on that file."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:908
msgid ""
"To run BIND under a different user, first create a separate user and group "
"for it (it is <em>not</em> a good idea to use nobody or nogroup for every "
"service not running as root). In this example, the user and group "
"<tt>named</tt> will be used. You can do this by entering:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:912
#, no-wrap
msgid ""
"addgroup named\n"
"adduser --system --home /home/named --no-create-home --ingroup named \\\n"
"      --disabled-password --disabled-login named"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:916
msgid ""
"Notice that the user <tt>named</tt> will be quite restricted. If you want, "
"for whatever reason, to have a less restrictive setup use:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:918
#, no-wrap
msgid "adduser --system --ingroup named named"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:923
msgid ""
"Now you can either edit <file>/etc/init.d/bind</file> with your favorite "
"editor and change the line beginning with"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:925
#, no-wrap
msgid "start-stop-daemon --start"
msgstr ""

#. type: </example><example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:931
msgid ""
"to<footnote><p>Note that depending on your bind version you might not have "
"the <tt>-g</tt> option, most notably if you are using bind9 in sarge (9.2.4 "
"version).</p></footnote>"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:933
#, no-wrap
msgid ""
"start-stop-daemon --start --quiet --exec /usr/sbin/named -- -g named -u "
"named"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:939
msgid ""
"Or you can change (create it if it does not exit) the default configuration "
"file (<file>/etc/default/bind</file> for BIND version 8) and introduce the "
"following:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:941
#, no-wrap
msgid "OPTIONS=\"-u named -g named\""
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:946
msgid ""
"Change the permissions of files that are used by Bind, including "
"<file>/etc/bind/rndc.key</file>:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:948
#, no-wrap
msgid "-rw-r-----    1 root     named          77 Jan  4 01:02 rndc.key"
msgstr ""

#. type: </example><example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:953
msgid ""
"and where bind creates its pidfile, using, for example, "
"<file>/var/run/named</file> instead of <file>/var/run</file>:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:962
#, no-wrap
msgid ""
"$ mkdir /var/run/named\n"
"$ chown named.named /var/run/named\n"
"$ vi /etc/named.conf\n"
"[ ... update the configuration file to use this new location ...]\n"
"options { ...\n"
"        pid-file \"/var/run/named/named.pid\";\n"
"};\n"
"[ ... ]"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:967
msgid ""
"Also, in order to avoid running anything as root, change the <tt>reload</tt> "
"line in the init.d script by substituting:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:970
#, no-wrap
msgid ""
"reload)\n"
"       /usr/sbin/ndc reload"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:973 securing-debian-howto.en.sgml:60 en/faq.sgml:299 securing-debian-howto.en.sgml:60 en/faq.sgml:686
msgid "to:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:978
#, no-wrap
msgid ""
"reload)\n"
"        $0 stop\n"
"        sleep 1\n"
"        $0 start"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:984
msgid ""
"Note: Depending on your Debian version you might have to change the "
"<tt>restart</tt> line too. This was fixed in Debian's bind version "
"<tt>1:8.3.1-2</tt>."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:988
msgid ""
"All you need to do now is to restart bind via <tt>/etc/init.d/bind "
"restart</tt>, and then check your syslog for two entries like this:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:992
#, no-wrap
msgid ""
"Sep  4 15:11:08 nexus named[13439]: group = named\n"
"Sep  4 15:11:08 nexus named[13439]: user = named"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1007
msgid ""
"Voilà! Your named now <em>does not</em> run as root. If you want to read "
"more information on why BIND does not run as non-root user on Debian "
"systems, please check the Bug Tracking System regarding Bind, specifically "
"<url id=\"http://bugs.debian.org/50013\" name=\"Bug #50013: bind should not "
"run as root\"> and <url id=\"http://bugs.debian.org/132582\" name=\"Bug "
"#132582: Default install is potentially insecure\">, <url "
"id=\"http://bugs.debian.org/53550\" name=\"Bug #53550\">, <url "
"id=\"http://bugs.debian.org/52745\" name=\"Bug #52745\">, and <url "
"id=\"http://bugs.debian.org/128129\" name=\"Bug #128129\">. Feel free to "
"contribute to the bug reports if you think you can add useful information."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1009
msgid "Chrooting the name server"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1019
msgid ""
"To achieve maximum BIND security, now build a chroot jail (see <ref "
"id=\"chroot\">) around your daemon. There is an easy way to do this: the "
"<tt>-t</tt> option (see the <manref section=\"8\" name=\"named\"> manpage or "
"page 100 of <url "
"id=\"http://www.nominum.com/content/documents/bind9arm.pdf\" name=\"Bind's 9 "
"documentation (PDF)\">). This will make Bind chroot itself into the given "
"directory without you needing to set up a chroot jail and worry about "
"dynamic libraries. The only files that need to be in the chroot jail are:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1029
#, no-wrap
msgid ""
"dev/null\n"
"etc/bind/       - should hold named.conf and all the server zones\n"
"sbin/named-xfer - if you do name transfers\n"
"var/run/named/  - should hold the PID and the name server cache (if\n"
"                  any) this directory needs to be writable by named user\n"
"var/log/named   - if you set up logging to a file, needs to be writable\n"
"                  for the named user\n"
"dev/log         - syslogd should be listening here if named is configured "
"to\n"
"                  log through it"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1039
msgid ""
"In order for your Bind daemon to work properly it needs permission in the "
"named files. This is an easy task since the configuration files are always "
"at <tt>/etc/named/</tt>. Take into account that it only needs read-only "
"access to the zone files, unless it is a secondary or cache name server. If "
"this is your case you will have to give read-write permissions to the "
"necessary zones (so that zone transfers from the primary server work)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1049
msgid ""
"Also, you can find more information regarding Bind chrooting in the <url "
"id=\"http://www.tldp.org/HOWTO/Chroot-BIND-HOWTO.html\" "
"name=\"Chroot-BIND-HOWTO\"> (regarding Bind 9) and <url "
"id=\"http://www.tldp.org/HOWTO/Chroot-BIND8-HOWTO.html\" "
"name=\"Chroot-BIND8-HOWTO\"> (regarding Bind 8). This same documents should "
"be available through the installation of the "
"<package>doc-linux-text</package> (text version) or "
"<package>doc-linux-html</package> (HTML version). Another useful document is "
"<url "
"id=\"http://web.archive.org/web/20011024064030/http://www.psionic.com/papers/dns/dns-linux\">."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1056
msgid ""
"If you are setting up a full chroot jail (i.e. not just <tt>-t</tt>) for "
"Bind in Debian, make sure you have the following files in "
"it<footnote><p>This setup has not been tested for new release of Bind "
"yet.</p></footnote>:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1070
#, no-wrap
msgid ""
"dev/log - syslogd should be listening here\n"
"dev/null\n"
"etc/bind/named.conf \n"
"etc/localtime\n"
"etc/group - with only a single line: \"named:x:GID:\"\n"
"etc/ld.so.cache - generated with ldconfig \n"
"lib/ld-2.3.6.so\n"
"lib/libc-2.3.6.so\n"
"lib/ld-linux.so.2 - symlinked to ld-2.3.6.so\n"
"lib/libc.so.6 - symlinked to libc-2.3.6.so\n"
"sbin/ldconfig - may be deleted after setting up the chroot\n"
"sbin/named-xfer - if you do name transfers\n"
"var/run/"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1075
msgid ""
"And modify also <prgn>syslogd</prgn> listen on <tt>$CHROOT/dev/log</tt> so "
"the named server can write syslog entries into the local system log."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1080
msgid ""
"If you want to avoid problems with dynamic libraries, you can compile bind "
"statically. You can use <prgn>apt-get</prgn> for this, with the "
"<tt>source</tt> option. It can even download the packages you need to "
"properly compile it. You would need to do something similar to:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1089
#, no-wrap
msgid ""
"$ apt-get source bind\n"
"# apt-get build-dep bind\n"
"$ cd bind-8.2.5-2\n"
"  (edit src/port/linux/Makefile so CFLAGS includes the '-static'\n"
"   option)\n"
"$ dpkg-buildpackage -rfakeroot -uc -us\n"
"$ cd ..\n"
"# dpkg -i bind-8.2.5-2*deb"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1103
msgid ""
"After installation, you will need to move around the files to the chroot "
"jail<footnote><p>Unless you use the <tt>instdir</tt> option when calling "
"<prgn>dpkg</prgn> but then the chroot jail might be a little more "
"complex.</p></footnote> you can keep the <tt>init.d</tt> scripts in "
"<file>/etc/init.d</file> so that the system will automatically start the "
"name server, but edit them to add <tt>--chroot /location_of_chroot</tt> in "
"the calls to <prgn>start-stop-daemon</prgn> in those scripts or use the "
"<em>-t</em> option for BIND by setting it in the OPTIONS argument at the "
"<file>/etc/default/bind</file> (for version 8) or "
"<file>/etc/default/bind9</file> (for version 9) configuration file."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1105
msgid "For more information on how to set up chroots see <ref id=\"chroot\">."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1115
msgid ""
"FIXME: Merge info from <url "
"id=\"http://people.debian.org/~pzn/howto/chroot-bind.sh.txt\">, <url "
"id=\"http://www.cryptio.net/~ferlatte/config/\"> (Debian-specific), <url "
"id=\"http://web.archive.org/web/20021216104548/http://www.psionic.com/papers/whitep01.html\"> "
"and <url id=\"http://csrc.nist.gov/fasp/FASPDocs/NISTSecuringDNS.htm\">."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1117
msgid "Securing Apache"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1121
msgid ""
"FIXME: Add content: modules provided with the normal Apache installation "
"(under /usr/lib/apache/X.X/mod_*) and modules that can be installed "
"separately in libapache-mod-XXX packages."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1128
msgid ""
"You can limit access to the Apache server if you only want to use it "
"internally (for testing purposes, to access the "
"<package>doc-central</package> archive, etc.) and do not want outsiders to "
"access it. To do this use the <tt>Listen</tt> or <tt>BindAddress</tt> "
"directives in <file>/etc/apache/http.conf</file>."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1129
msgid "Using Listen:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1131
#, no-wrap
msgid "Listen 127.0.0.1:80"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1133
msgid "Using BindAddress:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1135
#, no-wrap
msgid "BindAddress 127.0.0.1"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1140
msgid ""
"Then restart apache with <tt>/etc/init.d/apache restart</tt> and you will "
"see that it is only listening on the loopback interface."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1144
msgid ""
"In any case, if you are not using all the functionality provided by Apache, "
"you might want to take a look at other web servers provided in Debian like "
"<package>dhttpd</package>."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1156
msgid ""
"The <url id=\"http://httpd.apache.org/docs/misc/security_tips.html\" "
"name=\"Apache Documentation\"> provides information regarding security "
"measures to be taken on Apache web server (this same information is provided "
"in Debian by the <package>apache-doc</package> package)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1159
msgid ""
"More information on further restricting Apache by setting up a chroot jail "
"is provided in <ref id=\"chroot-apache-env\">."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1161
msgid "Disabling users from publishing web contents"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1166
msgid ""
"The default Apache installation in Debian permits users to publish content "
"under the <file>$HOME/public_html</file>. This content can be retrieved "
"remotely using an URL such as: http://your_apache_server/~user."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1170
msgid ""
"If you do not want to permit this you must change the "
"<file>/etc/apache/http.conf</file> configuration file commenting out (in "
"Apache 1.3) the following module:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1172
#, no-wrap
msgid "LoadModule userdir_module /usr/lib/apache/1.3/mod_userdir.so"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1178
msgid ""
"If you are using Apache 2.0 you must remove the file "
"<file>/etc/apache2/mods-enabled/userdir.load</file> or restrict the default "
"configuration by modifying "
"<file>/etc/apache2/mods-enabled/userdir.conf</file>."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1182
msgid ""
"However, if the module was linked statically (you can list the modules that "
"are compiled in running <tt>apache -l</tt>) you must add the following to "
"the Apache configuration file:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1184
#, no-wrap
msgid "Userdir disabled"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1191
msgid ""
"An attacker might still do user enumeration, since the answer of the web "
"server will be a <em>403 Permission Denied</em> and not a <em>404 Not "
"available</em>. You can avoid this if you use the Rewrite module."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1193
msgid "Logfiles permissions"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1202
msgid ""
"Apache logfiles, since 1.3.22-1, are owned by user 'root' and group 'adm' "
"with permissions 640. These permissions are changed after rotation. An "
"intruder that accessed the system through the web server would not be able "
"(without privilege escalation) to remove old log file entries."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1204
msgid "Published web files"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1214
msgid ""
"Apache files are located under <file>/var/www</file>. Just after "
"installation the default file provides some information on the system "
"(mainly that it's a Debian system running Apache). The default webpages are "
"owned by user root and group root by default, while the Apache process runs "
"as user www-data and group www-data. This should make attackers that "
"compromise the system through the web server harder to deface the site. You "
"should, of course, substitute the default web pages (which might provide "
"information you do not want to show to outsiders) with your own."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1217
msgid "Securing finger"
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1221
msgid ""
"If you want to run the finger service first ask yourself if you need to do "
"so. If you do, you will find out that Debian provides many finger daemons "
"(output from <prgn>apt-cache search fingerd</prgn>):"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1223
msgid "cfingerd - Configurable finger daemon"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1225
msgid ""
"efingerd - Another finger daemon for unix, capable of fine-tuning your "
"output."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1226
msgid "ffingerd - a secure finger daemon"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1227
msgid "fingerd - Remote user information server."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1228
msgid "xfingerd - BSD-like finger daemon with qmail support."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1244
msgid ""
"<package>ffingerd</package> is the recommended finger daemon if you are "
"going to use it for a public service. In any case, you are encouraged to, "
"when setting it up through inetd, xinetd or tcpserver to: limit the number "
"of processes that will be running at the same time, limit access to the "
"finger daemon from a given number of hosts (using tcp wrappers) and having "
"it only listening to the interface you need it to be in."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1246
msgid "General chroot and suid paranoia"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1265
msgid ""
"<prgn>chroot</prgn> is one of the most powerful possibilities to restrict a "
"daemon or a user or another service. Just imagine a jail around your target, "
"which the target cannot escape from (normally, but there are still a lot of "
"conditions that allow one to escape out of such a jail). If you do not trust "
"a user or a service, you can create a modified root environment for "
"him. This can use quite a bit of disk space as you need to copy all needed "
"executables, as well as libraries, into the jail. But then, even if the user "
"does something malicious, the scope of the damage is limited to the jail."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1270
msgid ""
"Many services running as daemons could benefit from this sort of "
"arrangement. The daemons that you install with your Debian distribution will "
"not come, however, chrooted<footnote><p>It does try to run them under "
"<em>minimum priviledge</em> which includes running daemons with their own "
"users instead of having them run as root.</p></footnote> per default."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1279
msgid ""
"This includes: name servers (such as <prgn>bind</prgn>), web servers (such "
"as <prgn>apache</prgn>), mail servers (such as <prgn>sendmail</prgn>) and "
"ftp servers (such as <prgn>wu-ftpd</prgn>). It is probably fair to say that "
"the complexity of BIND is the reason why it has been exposed to a lot of "
"attacks in recent years (see <ref id=\"sec-bind\">)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1282
msgid ""
"However, Debian does provide some software that can help set up "
"<prgn>chroot</prgn> environments. See <ref id=\"auto-chroot\">."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1285
msgid ""
"Anyway, if you run any service on your system, you should consider running "
"them as secure as possible. This includes: revoking root privileges, running "
"in a restricted environment (such as a chroot jail) or replacing them with a "
"more secure equivalent."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1299
msgid ""
"However, be forewarned that a <prgn>chroot</prgn> jail can be broken if the "
"user running in it is the superuser. So, you need to make the service run as "
"a non-privileged user. By limiting its environment you are limiting the "
"world readable/executable files the service can access, thus, you limit the "
"possibilities of a privilege escalation by use of local system security "
"vulnerabilities. Even in this situation you cannot be completely sure that "
"there is no way for a clever attacker to somehow break out of the "
"jail. Using only server programs which have a reputation for being secure is "
"a good additional safety measure. Even minuscule holes like open file "
"handles can be used by a skilled attacker for breaking into the "
"system. After all, <prgn>chroot</prgn> was not designed as a security tool "
"but as a testing tool."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1303
msgid "Making chrooted environments automatically"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1312
msgid ""
"There are several programs to chroot automatically servers and "
"services. Debian currently (accepted in May 2002) provides Wietse Venema's "
"<prgn>chrootuid</prgn> in the <package>chrootuid</package> package, as well "
"as <package>compartment</package> and <package>makejail</package>. These "
"programs can be used to set up a restricted environment for executing any "
"program (<prgn>chrootuid</prgn> enables you to even run it as a restricted "
"user)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1331
msgid ""
"Some of these tools can be used to set up the chroot environment easily. The "
"<prgn>makejail</prgn> program for example, can create and update a chroot "
"jail with short configuration files (it provides sample configuration files "
"for <prgn>bind</prgn>, <prgn>apache</prgn>, <prgn>postgresql</prgn> and "
"<prgn>mysql</prgn>). It attempts to guess and install into the jail all "
"files required by the daemon using <prgn>strace</prgn>, <prgn>stat</prgn> "
"and Debian's package dependencies. More information at <url "
"id=\"http://www.floc.net/makejail/\">. <prgn>Jailer</prgn> is a similar tool "
"which can be retrieved from <url "
"id=\"http://www.balabit.hu/downloads/jailer/\"> and is also available as a "
"Debian package."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1332
msgid "General cleartext password paranoia"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1337
msgid ""
"You should try to avoid any network service which sends and receives "
"passwords in cleartext over a net like FTP/Telnet/NIS/RPC. The author "
"recommends the use of ssh instead of telnet and ftp to everybody."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1344
msgid ""
"Keep in mind that migrating from telnet to ssh, but using other cleartext "
"protocols does not increase your security in ANY way! Best would be to "
"remove ftp, telnet, pop, imap, http and to supersede them with their "
"respective encrypted services. You should consider moving from these "
"services to their SSL versions, ftp-ssl, telnet-ssl, pop-ssl, https ..."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1348
msgid ""
"Most of these above listed hints apply to every Unix system (you will find "
"them if reading any other hardening-related document related to Linux and "
"other Unices)."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1350
msgid "Disabling NIS"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1354
msgid ""
"You should not use NIS, the Network Information Service, if possible, "
"because it allows password sharing. This can be highly insecure if your "
"setup is broken."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1362
msgid ""
"If you need password sharing between machines, you might want to consider "
"using other alternatives. For example, you can setup an LDAP server and "
"configure PAM on your system in order to contact the LDAP server for user "
"authentication. You can find a detailed setup in the <url "
"id=\"http://www.tldp.org/HOWTO/LDAP-HOWTO.html\" name=\"LDAP-HOWTO\"> "
"(<file>/usr/share/doc/HOWTO/en-txt/LDAP-HOWTO.txt.gz</file>)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1367
msgid ""
"You can read more about NIS security in the <url "
"id=\"http://www.tldp.org/HOWTO/NIS-HOWTO.html\" name=\"NIS-HOWTO\"> "
"(<file>/usr/share/doc/HOWTO/en-txt/NIS-HOWTO.txt.gz</file>)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1370
msgid "FIXME (jfs): Add info on how to set this up in Debian."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1372
msgid "Securing RPC services"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1374
msgid "You should disable RPC if you do not need it."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1380
msgid ""
"Remote Procedure Call (RPC) is a protocol that programs can use to request "
"services from other programs located on different computers. The "
"<prgn>portmap</prgn> service controls RPC services by mapping RPC program "
"numbers into DARPA protocol port numbers; it must be running in order to "
"make RPC calls."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1386
msgid ""
"RPC-based services have had a bad record of security holes, although the "
"portmapper itself hasn't (but still provides information to a remote "
"attacker). Notice that some of the DDoS (distributed denial of service) "
"attacks use RPC exploits to get into the system and act as a so called "
"agent/handler."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1393
msgid ""
"You only need RPC if you are using an RPC-based service. The most common "
"RPC-based services are NFS (Network File System) and NIS (Network "
"Information System). See the previous section for more information about "
"NIS. The File Alteration Monitor (FAM) provided by the package "
"<package>fam</package> is also an RPC service, and thus depends on "
"<package>portmap</package>."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1400
msgid ""
"NFS services are quite important in some networks. If that is the case for "
"you, then you will need to find a balance of security and usability for your "
"network (you can read more about NFS security in the <url "
"id=\"http://www.tldp.org/HOWTO/NFS-HOWTO.html\" name=\"NFS-HOWTO\"> "
"(<file>/usr/share/doc/HOWTO/en-txt/NFS-HOWTO.txt.gz</file>))."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1402
msgid "Disabling RPC services completely"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1410
msgid ""
"Disabling portmap is quite simple. There are several different methods. The "
"simplest one in a Debian 3.0 system and later releases is to uninstall the "
"<package>portmap</package> package. If you are running an older Debian "
"version you will have to disable the service as seen in <ref "
"id=\"disableserv\">, because the program is part of the "
"<package>netbase</package> package (which cannot be de-installed without "
"breaking the system)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1415
msgid ""
"Notice that some desktop environments (notably, GNOME) use RPC services and "
"need the portmapper for some of the file management features. If this is "
"your case, you can limit the access to RPC services as described below."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1417
msgid "Limiting access to RPC services"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1423
msgid ""
"Unfortunately, in some cases removing RPC services from the system is not an "
"option. Some local desktop services (notably SGI's <package>fam</package>) "
"are RPC based and thus need a local portmapper. This means that under some "
"situations, users installing a desktop environment (like GNOME) will install "
"the portmapper too."
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1426
msgid ""
"There are several ways to limit access to the portmapper and to RPC "
"services:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1429
msgid ""
"Block access to the ports used by these services with a local firewall (see "
"<ref id=\"firewall-setup\">)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1434
msgid ""
"Block access to these services using tcp wrappers, since the portmapper (and "
"some RPC services) are compiled with <file>libwrap</file> (see <ref "
"id=\"tcpwrappers\">). This means that you can block access to them through "
"the <file>hosts.allow</file> and <file>hosts.deny</file> tcp wrappers "
"configuration."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1441
msgid ""
"Since version 5-5, the <package>portmap</package> package can be configured "
"to listen only on the loopback interface. To do this, modify "
"<file>/etc/default/portmap</file>, uncomment the following line: "
"<tt>#OPTIONS=\"-i 127.0.0.1\"</tt> and restart the portmapper. This is "
"sufficient to allow local RPC services to work while at the same time "
"prevents remote systems from accessing them (see, however, <ref "
"id=\"limit-bindaddr\">)."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1445
msgid "Adding firewall capabilities"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1460
msgid ""
"The Debian GNU/Linux operating system has the built-in capabilities provided "
"by the Linux kernel <footnote><p></p></footnote>. If you install a recent "
"Debian release (default kernel installed is 2.6) you will have "
"<prgn>iptables</prgn> (netfilter) firewalling "
"available<footnote><p>Available since the kernel version 2.4 (which was the "
"default kernel in Debian 3.0). Previous kernel versions (2.2, available in "
"even older Debian releases) used <prgn>ipchains</prgn>. The main difference "
"between <prgn>ipchains</prgn> and <prgn>iptables</prgn> is that the latter "
"is based on <em>stateful packet inspection</em> which provides for more "
"secure (and easier to build) filtering configurations. Older (and now "
"unsupported) Debian distributions using the 2.0 kernel series needed the "
"appropriate kernel patch.</p></footnote>."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1462
msgid "Firewalling the local system"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1468
msgid ""
"You can use firewall rules as a way to secure the access to your local "
"system and, even, to limit the outbound communications made by it. Firewall "
"rules can also be used to protect processes that cannot be properly "
"configured <em>not</em> to provide services to some networks, IP addresses, "
"etc."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1479
msgid ""
"However, this step is presented last in this manual basically because it is "
"<em>much</em> better not to depend solely on firewalling capabilities in "
"order to protect a given system. Security in a system is made up of layers, "
"firewalling should be the last to include, once all services have been "
"hardened. You can easily imagine a setup in which the system is solely "
"protected by a built-in firewall and an administrator blissfully removes the "
"firewall rules for whatever reason (problems with the setup, annoyance, "
"human error...), this system would be wide open to an attack if there were "
"no other hardening in the system to protect from it."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1490
msgid ""
"On the other hand, having firewall rules on the local system also prevents "
"some bad things from happening. Even if the services provided are configured "
"securely, a firewall can protect from misconfigurations or from fresh "
"installed services that have not yet been properly configured. Also, a tight "
"configuration will prevent trojans <em>calling home</em> from working unless "
"the firewalling code is removed. Note that an intruder does <em>not</em> "
"need superuser access to install a trojan locally that could be remotely "
"controlled (since binding on ports is allowed if they are not priviledged "
"ports and capabilities have not been removed)."
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1493
msgid ""
"Thus, a proper firewall setup would be one with a default deny policy, that "
"is:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1498
msgid "incoming connections are allowed only to local services by allowed machines."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1506
msgid ""
"outgoing connections are only allowed to services used by your system (DNS, "
"web browsing, POP, email...).<footnote><p>Unlike personal firewalls in other "
"operating systems, Debian GNU/Linux does not (yet) provide firewall "
"generation interfaces that can make rules limiting them per process or "
"user. However, the iptables code can be configured to do this (see the owner "
"module in the <manref section=\"8\" name=\"iptables\"> "
"manpage).</p></footnote>"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1509
msgid ""
"the forward rule denies everything (unless you are protecting other systems, "
"see below)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1511
msgid "all other incoming or outgoing connections are denied."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1515
msgid "Using a firewall to protect other systems"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1526
msgid ""
"A Debian firewall can also be installed in order to protect, with filtering "
"rules, access to systems <em>behind</em> it, limiting their exposure to the "
"Internet. A firewall can be configured to prevent access from systems "
"outside of the local network to internal services (ports) that are not "
"public. For example, on a mail server, only port 25 (where the mail service "
"is being given) needs to be accessible from the outside. A firewall can be "
"configured to, even if there are other network services besides the public "
"ones running in the mail server, throw away packets (this is known as "
"<em>filtering</em>) directed towards them."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1535
msgid ""
"You can even set up a Debian GNU/Linux box as a bridge firewall, i.e. a "
"filtering firewall completely transparent to the network that lacks an IP "
"address and thus cannot be attacked directly. Depending on the kernel you "
"have installed, you might need to install the bridge firewall patch and then "
"go to <em>802.1d Ethernet Bridging</em> when configuring the kernel and a "
"new option <em>netfilter ( firewalling ) support</em>. See the <ref "
"id=\"bridge-fw\"> for more information on how to set this up in a Debian "
"GNU/Linux system."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1537
msgid "Setting up a firewall"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1543
msgid ""
"The default Debian installation, unlike other Linux distributions, does not "
"yet provide a way for the administrator to setup a firewall configuration "
"throughout the default installation but you can install a number of firewall "
"configuration packages (see <ref id=\"firewall-pack\">)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1551
msgid ""
"Of course, the configuration of the firewall is always system and network "
"dependant. An administrator must know beforehand what is the network layout "
"and the systems he wants to protect, the services that need to be accessed, "
"and whether or not other network considerations (like NAT or routing) need "
"to be taken into account. Be careful when configuring your firewall, as "
"Laurence J. Lane says in the <package>iptables</package> package:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1558
msgid ""
"<em>The tools can easily be misused, causing enormous amounts of grief by "
"completely crippling network access to a system. It is not terribly uncommon "
"for a remote system administrator to accidentally lock himself out of a "
"system hundreds or thousands of miles away. One can even manage to lock "
"himself out of a computer who's keyboard is under his fingers. Please, use "
"due caution.</em>"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1563
msgid ""
"Remember this: just installing the <package>iptables</package> (or the older "
"firewalling code) does not give you any protection, just provides the "
"software. In order to have a firewall you need to <em>configure</em> it!"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1568
msgid ""
"If you do not have a clue on how to set up your firewall rules manually "
"consult the <em>Packet Filtering HOWTO</em> and <em>NAT HOWTO</em> provided "
"by <package>iptables</package> for offline reading at "
"<file>/usr/share/doc/iptables/html/</file>."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1579
msgid ""
"If you do not know much about firewalling you should start by reading the "
"<url id=\"http://www.tldp.org/HOWTO/Firewall-HOWTO.html\" name=\"Firewalling "
"and Proxy Server HOWTO\">, install the <package>doc-linux-text</package> "
"package if you want to read it offline. If you want to ask questions or need "
"help setting up a firewall you can use the debian-firewall mailing list, see "
"<url id=\"http://lists.debian.org/debian-firewall\">. Also see <ref "
"id=\"references\"> for more (general) pointers on firewalls. Another good "
"iptables tutorial is <url "
"id=\"http://iptables-tutorial.frozentux.net/iptables-tutorial.html\">."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1581
msgid "Using firewall packages"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1589
msgid ""
"Setting up manually a firewall can be complicated for novice (and sometimes "
"even expert) administrators. However, the free software community has "
"created a number of tools that can be used to easily configure a local "
"firewall. Be forewarned that some of these tools are oriented more towards "
"local-only protection (also known as <em>personal firewall</em>) and some "
"are more versatile and can be used to configure complex rules to protect "
"whole networks."
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1592
msgid ""
"Some software that can be used to set up firewall rules in a Debian system "
"is:"
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1595
msgid "For desktop systems:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1600
msgid ""
"<package>firestarter</package>, a GNOME application oriented towards "
"end-users that includes a wizard useful to quickly setup firewall rules. The "
"application includes a GUI to be able to monitor when a firewall rule blocks "
"traffic."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1602
msgid ""
"<package>guarddog</package>, a KDE based firewall configuration package "
"oriented both to novice and advanced users."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1605
msgid ""
"<package>knetfilter</package>, a KDE GUI to manage firewall and NAT rules "
"for iptables (alternative/competitor to the guarddog tool although slightly "
"oriented towards advanced users)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1612
msgid ""
"fireflier, an interactive tool to create iptables rules based on traffic "
"seen on the system and applications. It has a server-client model so you "
"have to install both the server (<package>fireflier-server</package>) and "
"one of the available clients, with one client available for different "
"desktop environments: <package>fireflier-client-gtk</package> (Gtk+ client), "
"<package>fireflier-client-kde</package> (KDE client) and "
"<package>fireflier-client-qt</package> (QT client)."
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1616
msgid "For servers (headless) systems:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1623
msgid ""
"<package>fwbuilder</package>, an object oriented GUI which includes policy "
"compilers for various firewall platforms including Linux' netfilter, BSD's "
"pf (used in OpenBSD, NetBSD, FreeBSD and MacOS X) as well as router's "
"access-lists. It is similar to enterprise firewall management "
"software. Complete fwbuilder's functionality is also available from the "
"command line."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1628
msgid ""
"<package>shorewall</package>, a firewall configuration tool which provides "
"support for IPsec as well as limited support for traffic shaping as well as "
"the definition of the firewall rules. Configuration is done through a simple "
"set of files that are used to generate the iptables rules."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1633
msgid ""
"<package>bastille</package>, this hardening application is described in <ref "
"id=\"automatic-harden\">. One of the hardening steps that the administrator "
"can configure is a definition of the allowed and disallowed network traffic "
"that is used to generate a set of firewall rules that the system will "
"execute on startup."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1641
msgid ""
"Lots of other iptables frontends come with Debian; an extensive list "
"comparing the different packages in Debian is maintained at the <url "
"id=\"http://wiki.debian.org/Firewalls\" name=\"Firewalls page on the Debian "
"wiki\">."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1650
msgid ""
"Notice that some of the packages outlined previously will introduce "
"firewalling scripts to be run when the system boots. Test them extensively "
"before rebooting or you might find yourself locked from the box. If you mix "
"different firewalling packages you can have undesired effects, usually, the "
"firewalling script that runs last will be the one that configures the system "
"(which might not be what you intend). Consult the package documentation and "
"use either one of these setups."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1660
msgid ""
"As mentioned before, some programs, like <package>firestarter</package>, "
"<package>guarddog</package> and <package>knetfilter</package>, are "
"administration GUIs using either GNOME or KDE (last two). These applications "
"are much more user-oriented (i.e. for home users) than some of the other "
"packages in the list which might be more administrator-oriented. Some of the "
"programs mentioned before (like <prgn>bastille</prgn>) are focused at "
"setting up firewall rules to protect the host they run in but are not "
"necessarily designed to setup firewall rules for firewall hosts that protect "
"a network (like <prgn>shorewall</prgn> or <prgn>fwbuilder</prgn>)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1682
msgid ""
"There is yet another type of firewall application: application proxies. If "
"you are looking into setting up an enterprise-level firewall that does "
"packet filtering and provides a number of transparent proxies that can do "
"fine-grain traffic analysis you should consider using "
"<package>zorp</package>, which provides this in a single program. You can "
"also manually setup this type of firewall host using the proxies available "
"in Debian for different services like for DNS using <package>bind</package> "
"(properly configured), <package>dnsmasq</package>, <package>pdnsd</package> "
"or <package>totd</package> for FTP using <package>frox</package> or "
"<package>ftp-proxy</package>, for X11 using <package>xfwp</package>, for "
"IMAP using <package>imapproxy</package>, for mail using "
"<package>smtpd</package>, or for POP3 using <package>p3scan</package>. For "
"other protocols you can either use a generic TCP proxy like "
"<package>simpleproxy</package> or a generic SOCKS proxy like "
"<package>dante-server</package>, <package>tsocks</package> or "
"<package>socks4-server</package>. Typically, you will also use a web caching "
"system (like <package>squid</package>) and a web filtering system (like "
"<package>squidguard</package> or <package>dansguardian</package>)."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1683
msgid "Manual init.d configuration"
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1687
msgid ""
"Another possibility is to manually configure your firewall rules through an "
"init.d script that will run all the <prgn>iptables</prgn> commands. Take the "
"following steps:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1690
msgid "Review the script below and adapt it to your needs."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1698
msgid ""
"Test the script and review the syslog messages to see which traffic is being "
"dropped. If you are testing from the network you will want to either run the "
"sample shell snippet to remove the firewall (if you don't type anything in "
"20 seconds) or you might want to comment out the <em>default deny</em> "
"policy definitions (<em>-P INPUT DROP</em> and <em>-P OUTPUT DROP</em>) and "
"check that the system will not drop any legitimate traffic."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1700
msgid "Move the script to <file>/etc/init.d/myfirewall</file>"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1702
msgid "Configure the system to run the script before any network is configured:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1704
#, no-wrap
msgid "#update-rc.d myfirewall start 40 S . stop 89 0 6 ."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1710
msgid "This is the sample firewall script:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1859
#, no-wrap
msgid ""
"#!/bin/sh\n"
"# Simple example firewall configuration.\n"
"#\n"
"# Caveats:\n"
"# - This configuration applies to all network interfaces\n"
"#   if you want to restrict this to only a given interface use\n"
"#   '-i INTERFACE' in the iptables calls.\n"
"# - Remote access for TCP/UDP services is granted to any host, \n"
"#   you probably will want to restrict this using '--source'.\n"
"#\n"
"# chkconfig: 2345 9 91\n"
"# description: Activates/Deactivates the firewall at boot time\n"
"#\n"
"# You can test this script before applying with the following shell\n"
"# snippet, if you do not type anything in 10 seconds the firewall\n"
"# rules will be cleared.\n"
"#---------------------------------------------------------------\n"
"#  while true; do test=\"\"; read  -t 20 -p \"OK? \" test ; \\\n"
"#  [ -z \"$test\" ] && /etc/init.d/myfirewall clear ; done\n"
"#---------------------------------------------------------------\n"
"\n"
"PATH=/bin:/sbin:/usr/bin:/usr/sbin\n"
"\n"
"# Services that the system will offer to the network\n"
"TCP_SERVICES=\"22\" # SSH only\n"
"UDP_SERVICES=\"\"\n"
"# Services the system will use from the network\n"
"REMOTE_TCP_SERVICES=\"80\" # web browsing\n"
"REMOTE_UDP_SERVICES=\"53\" # DNS\n"
"# Network that will be used for remote mgmt\n"
"# (if undefined, no rules will be setup)\n"
"# NETWORK_MGMT=192.168.0.0/24\n"
"# Port used for the SSH service, define this is you have setup a\n"
"# management network but remove it from TCP_SERVICES\n"
"# SSH_PORT=\"22\"\n"
"\n"
"if ! [ -x /sbin/iptables ]; then  \n"
"    exit 0\n"
"fi\n"
"\n"
"fw_start () {\n"
"\n"
"  # Input traffic:\n"
"  /sbin/iptables -A INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT\n"
"  # Services\n"
"  if [ -n \"$TCP_SERVICES\" ] ; then\n"
"  for PORT in $TCP_SERVICES; do\n"
"    /sbin/iptables -A INPUT -p tcp --dport ${PORT} -j ACCEPT\n"
"  done\n"
"  fi\n"
"  if [ -n \"$UDP_SERVICES\" ] ; then\n"
"  for PORT in $UDP_SERVICES; do\n"
"    /sbin/iptables -A INPUT -p udp --dport ${PORT} -j ACCEPT\n"
"  done\n"
"  fi\n"
"  # Remote management\n"
"  if [ -n \"$NETWORK_MGMT\" ] ; then\n"
"    /sbin/iptables -A INPUT -p tcp --src ${NETWORK_MGMT} --dport ${SSH_PORT} "
"-j ACCEPT\n"
"  else \n"
"    /sbin/iptables -A INPUT -p tcp --dport ${SSH_PORT}  -j ACCEPT\n"
"  fi\n"
"  # Remote testing\n"
"  /sbin/iptables -A INPUT -p icmp -j ACCEPT\n"
"  /sbin/iptables -A INPUT -i lo -j ACCEPT\n"
"  /sbin/iptables -P INPUT DROP\n"
"  /sbin/iptables -A INPUT -j LOG\n"
"\n"
"  # Output:\n"
"  /sbin/iptables -A OUTPUT -j ACCEPT -o lo \n"
"  /sbin/iptables -A OUTPUT -m state --state ESTABLISHED,RELATED -j ACCEPT\n"
"  # ICMP is permitted:\n"
"  /sbin/iptables -A OUTPUT -p icmp -j ACCEPT\n"
"  # So are security package updates:\n"
"  # Note: You can hardcode the IP address here to prevent DNS spoofing\n"
"  # and to setup the rules even if DNS does not work but then you \n"
"  # will not \"see\" IP changes for this service:\n"
"  /sbin/iptables -A OUTPUT -p tcp -d security.debian.org --dport 80 -j "
"ACCEPT \n"
"  # As well as the services we have defined:\n"
"  if [ -n \"$REMOTE_TCP_SERVICES\" ] ; then\n"
"  for PORT in $REMOTE_TCP_SERVICES; do\n"
"    /sbin/iptables -A OUTPUT -p tcp --dport ${PORT} -j ACCEPT\n"
"  done\n"
"  fi\n"
"  if [ -n \"$REMOTE_UDP_SERVICES\" ] ; then\n"
"  for PORT in $REMOTE_UDP_SERVICES; do\n"
"    /sbin/iptables -A OUTPUT -p udp --dport ${PORT} -j ACCEPT\n"
"  done\n"
"  fi\n"
"  # All other connections are registered in syslog\n"
"  /sbin/iptables -A OUTPUT -j LOG\n"
"  /sbin/iptables -A OUTPUT -j REJECT \n"
"  /sbin/iptables -P OUTPUT DROP\n"
"  # Other network protections\n"
"  # (some will only work with some kernel versions)\n"
"  echo 1 > /proc/sys/net/ipv4/tcp_syncookies\n"
"  echo 0 > /proc/sys/net/ipv4/ip_forward \n"
"  echo 1 > /proc/sys/net/ipv4/icmp_echo_ignore_broadcasts \n"
"  echo 1 > /proc/sys/net/ipv4/conf/all/log_martians \n"
"  echo 1 > /proc/sys/net/ipv4/ip_always_defrag\n"
"  echo 1 > /proc/sys/net/ipv4/icmp_ignore_bogus_error_responses\n"
"  echo 1 > /proc/sys/net/ipv4/conf/all/rp_filter\n"
"  echo 0 > /proc/sys/net/ipv4/conf/all/send_redirects\n"
"  echo 0 > /proc/sys/net/ipv4/conf/all/accept_source_route\n"
"\n"
"}\n"
"\n"
"fw_stop () {\n"
"  /sbin/iptables -F\n"
"  /sbin/iptables -t nat -F\n"
"  /sbin/iptables -t mangle -F\n"
"  /sbin/iptables -P INPUT DROP\n"
"  /sbin/iptables -P FORWARD DROP\n"
"  /sbin/iptables -P OUTPUT ACCEPT\n"
"}\n"
"\n"
"fw_clear () {\n"
"  /sbin/iptables -F\n"
"  /sbin/iptables -t nat -F\n"
"  /sbin/iptables -t mangle -F\n"
"  /sbin/iptables -P INPUT ACCEPT\n"
"  /sbin/iptables -P FORWARD ACCEPT\n"
"  /sbin/iptables -P OUTPUT ACCEPT\n"
"}\n"
"\n"
"\n"
"case \"$1\" in\n"
"  start|restart)\n"
"    echo -n \"Starting firewall..\"\n"
"    fw_stop \n"
"    fw_start\n"
"    echo \"done.\"\n"
"    ;;\n"
"  stop)\n"
"    echo -n \"Stopping firewall..\"\n"
"    fw_stop\n"
"    echo \"done.\"\n"
"    ;;\n"
"  clear)\n"
"    echo -n \"Clearing firewall rules..\"\n"
"    fw_clear\n"
"    echo \"done.\"\n"
"    ;;\n"
"  *)\n"
"    echo \"Usage: $0 {start|stop|restart|clear}\"\n"
"    exit 1\n"
"    ;;\n"
"  esac\n"
"exit 0"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1867
msgid ""
"Instead of including all of the iptables rules in the init.d script you can "
"use the <prgn>iptables-restore</prgn> program to restore the rules saved "
"using <prgn>iptables-save</prgn>. In order to do this you need to setup your "
"rules, save the ruleset under a static location (such as "
"<file>/etc/default/firewall</file>)"
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1869
msgid "Configuring firewall rules through <prgn>ifup</prgn>"
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1873
msgid ""
"You can use also the network configuration in "
"<file>/etc/network/interfaces</file> to setup your firewall rules. For this "
"you will need to:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1876
msgid "Create your firewalling ruleset for when the interface is active."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1879
msgid ""
"Save your ruleset with <prgn>iptables-save</prgn> to a file in "
"<file>/etc</file>, for example <file>/etc/iptables.up.rules</file>"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1882
msgid ""
"Configure <file>/etc/network/interfaces</file> to use the configured "
"ruleset:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1887
#, no-wrap
msgid ""
"iface eth0 inet static\n"
"        address x.x.x.x\n"
"        [.. interface configuration ..]\n"
"        pre-up iptables-restore < /etc/iptables.up.rules"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1896
msgid ""
"You can optionally also setup a set of rules to be applied when the network "
"interface is <em>down</em> creating a set of rules, saving it in "
"<file>/etc/iptables.down.rules</file> and adding this directive to the "
"interface configuration:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1898
#, no-wrap
msgid "    post-down iptables-restore < /etc/iptables.down.rules"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1906
msgid ""
"For more advanced firewall configuration scripts through "
"<package>ifupdown</package> you can use the hooks available to each "
"interface as in the <file>*.d/</file> directories called with "
"<prgn>run-parts</prgn> (see <manref section=\"8\" name=\"run-parts\">)."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1908
msgid "Testing your firewall configuration"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1914
msgid ""
"Testing your firewall configuration is as easy, and as dangerous, as just "
"running your firewall script (or enabling the configuration you defined in "
"your firewall configuration application). However, if you are not careful "
"enough and you are configuring your firewall remotely (like through an SSH "
"connection) you could lock yourself out."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1918
msgid ""
"There are several ways to prevent this. One is running a script in a "
"separate terminal that will remove the firewall configuration if you don't "
"feed it input. An example of this is:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1921
#, no-wrap
msgid ""
"$  while true; do test=\"\"; read  -t 20 -p \"OK? \" test ; \\\n"
"  [ -z \"$test\" ] && /etc/init.d/firewall clear ; done"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:53 en/services.sgml:1932
msgid ""
"Another one is to introduce a backdoor in your system through an alternate "
"mechanism that allows you to either clear the firewall system or punch a "
"hole in it if something goes awry. For this you can use "
"<package>knockd</package> and configure it so that a certain port connection "
"attempt sequence will clear the firewall (or add a temporary rule). Even "
"though the packets will be dropped by the firewall, since "
"<prgn>knockd</prgn> binds to the interface and <em>sees</em> you will be "
"able to work around the problem."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:54 en/automatic.sgml:3
msgid ""
"Testing a firewall that is protecting an internal network is a different "
"issue, you will want to look at some of the tools used for remote "
"vulnerability assessment (see <ref id=\"vuln-asses\">) to probe the network "
"from the outside in (or from any other direction) to test the effectiveness "
"of the firewall configuation."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:54 en/automatic.sgml:5
msgid "Automatic hardening of Debian systems"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:54 en/automatic.sgml:17
msgid ""
"After reading through all the information in the previous chapters you might "
"be wondering \"I have to do quite a lot of things in order to harden my "
"system, couldn't these things be automated?\". The answer is yes, but be "
"careful with automated tools. Some people believe, that a hardening tool "
"does not eliminate the need for good administration. So do not be fooled to "
"think that you can automate the whole process and will fix all the related "
"issues. Security is an ever-ongoing process in which the administrator must "
"participate and cannot just stand away and let the tools do all the work "
"since no single tool can cope with all the possible security policy "
"implementations, all the attacks and all the environments."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:54 en/automatic.sgml:27
msgid ""
"Since woody (Debian 3.0) there are two specific packages that are useful for "
"security hardening. The <package>harden</package> package which takes an "
"approach based on the package dependencies to quickly install valuable "
"security packages and remove those with flaws, configuration of the packages "
"must be done by the administrator. The <package>bastille</package> package "
"that implements a given security policy on the local system based on "
"previous configuration by the administrator (the building of the "
"configuration can be a guided process done with simple yes/no questions)."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:54 en/automatic.sgml:29
msgid "Harden"
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:54 en/automatic.sgml:40
msgid ""
"The <package>harden</package> package tries to make it more easy to install "
"and administer hosts that need good security. This package should be used by "
"people that want some quick help to enhance the security of the system. It "
"automatically installs some tools that should enhance security in some way: "
"intrusion detection tools, security analysis tools, etc. Harden installs the "
"following <em>virtual</em> packages (i.e. no contents, just dependencies or "
"recommendations on others):"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:54 en/automatic.sgml:45
msgid ""
"<package>harden-tools</package>: tools to enhance system security (integrity "
"checkers, intrusion detection, kernel patches...)"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:54 en/automatic.sgml:48
msgid ""
"<package>harden-environment</package>: helps configure a hardened "
"environment (currently empty)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:54 en/automatic.sgml:51
msgid ""
"<package>harden-servers</package>: removes servers considered insecure for "
"some reason."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:54 en/automatic.sgml:54
msgid ""
"<package>harden-clients</package>: removes clients considered insecure for "
"some reason."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:54 en/automatic.sgml:57
msgid "<package>harden-remoteaudit</package>: tools to remotely audit a system."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:54 en/automatic.sgml:60
msgid ""
"<package>harden-nids</package>: helps to install a network intrusion "
"detection system."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:54 en/automatic.sgml:63
msgid ""
"<package>harden-surveillance</package>: helps to install tools for "
"monitoring of networks and services."
msgstr ""

#. type: </list><list>
#: securing-debian-howto.en.sgml:54 en/automatic.sgml:67
msgid "Useful packages which are not a dependence:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:54 en/automatic.sgml:70
msgid ""
"<package>harden-doc</package>: provides this same manual and other "
"security-related documentation packages."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:54 en/automatic.sgml:72
msgid ""
"<package>harden-development</package>: development tools for creating more "
"secure programs."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:54 en/automatic.sgml:86
msgid ""
"Be careful because if you have software you need (and which you do not wish "
"to uninstall for some reason) and it conflicts with some of the packages "
"above you might not be able to fully use <package>harden</package>. The "
"harden packages do not (directly) do a thing. They do have, however, "
"intentional package conflicts with known non-secure packages. This way, the "
"Debian packaging system will not approve the installation of these "
"packages. For example, when you try to install a telnet daemon with "
"<package>harden-servers</package>, <package>apt</package> will say:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:54 en/automatic.sgml:93
#, no-wrap
msgid ""
"# apt-get install telnetd \n"
"The following packages will be REMOVED:\n"
"  harden-servers\n"
"The following NEW packages will be installed:\n"
"  telnetd \n"
"Do you want to continue? [Y/n]"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:54 en/automatic.sgml:99
msgid ""
"This should set off some warnings in the administrator head, who should "
"reconsider his actions."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:54 en/automatic.sgml:101
msgid "Bastille Linux"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:54 en/automatic.sgml:107
msgid ""
"<url id=\"http://www.bastille-unix.org\" name=\"Bastille Linux\"> is an "
"automatic hardening tool originally oriented towards the RedHat and Mandrake "
"Linux distributions. However, the <package>bastille</package> package "
"provided in Debian (since woody) is patched in order to provide the same "
"functionality for the Debian GNU/Linux system."
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:54 en/automatic.sgml:111
msgid ""
"Bastille can be used with different frontends (all are documented in their "
"own manpage in the Debian package) which enables the administrator to:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:54 en/automatic.sgml:116
msgid ""
"Answer questions step by step regarding the desired security of your system "
"(using <manref section=\"8\" name=\"InteractiveBastille\">)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:54 en/automatic.sgml:121
msgid ""
"Use a default setting for security (amongst three: Lax, Moderate or "
"Paranoia) in a given setup (server or workstation) and let Bastille decide "
"which security policy to implement (using <manref section=\"8\" "
"name=\"BastilleChooser\">)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:54 en/automatic.sgml:125
msgid ""
"Take a predefined configuration file (could be provided by Bastille or made "
"by the administrator) and implement a given security policy (using <manref "
"section=\"8\" name=\"AutomatedBastille\">)."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:5
msgid "Debian Security Infrastructure"
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:7
msgid "The Debian Security Team"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:13
msgid ""
"Debian has a Security Team, that handles security in the <em>stable</em> "
"distribution. Handling security means they keep track of vulnerabilities "
"that arise in software (watching forums such as Bugtraq, or vuln-dev) and "
"determine if the <em>stable</em> distribution is affected by it."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:21
msgid ""
"Also, the Debian Security Team is the contact point for problems that are "
"coordinated by upstream developers or organizations such as <url "
"id=\"http://www.cert.org\" name=\"CERT\"> which might affect multiple "
"vendors. That is, when problems are not Debian-specific. The contact point "
"of the Security Team is <url id=\"mailto:team@security.debian.org\" "
"name=\"team@security.debian.org\"> which only the members of the security "
"team read."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:25
msgid ""
"Sensitive information should be sent to the first address and, in some "
"cases, should be encrypted with the Debian Security Contact key (as found in "
"the Debian keyring)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:38
msgid ""
"Once a probable problem is received by the Security Team it will investigate "
"if the <em>stable</em> distribution is affected and if it is, a fix is made "
"for the source code base. This fix will sometimes include backporting the "
"patch made upstream (which usually is some versions ahead of the one "
"distributed by Debian). After testing of the fix is done, new packages are "
"prepared and published in the <url id=\"http://security.debian.org\"> site "
"so they can be retrieved through <prgn>apt</prgn> (see <ref "
"id=\"security-update\">). At the same time a <em>Debian Security "
"Advisory</em> (DSA) is published on the web site and sent to public mailing "
"lists including <url id=\"http://lists.debian.org/debian-security-announce\" "
"name=\"debian-security-announce\"> and Bugtraq."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:42
msgid ""
"Some other frequently asked questions on the Debian Security Team can be "
"found at <ref id=\"debian-sec-team-faq\">."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:44
msgid "Debian Security Advisories"
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:50
msgid ""
"Debian Security Advisories (DSAs) are made whenever a security vulnerability "
"is discovered that affects a Debian package. These advisories, signed by one "
"of the Security Team members, include information of the versions affected "
"as well as the location of the updates. This information is:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:52
msgid "version number for the fix."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:53
msgid "problem type."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:54
msgid "whether it is remote or locally exploitable."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:55
msgid "short description of the package."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:56
msgid "description of the problem."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:57
msgid "description of the exploit."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:58
msgid "description of the fix."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:68
msgid ""
"DSAs are published both on <url id=\"http://www.debian.org/\" "
"name=\"Debian's frontpage\"> and in the <url "
"id=\"http://www.debian.org/security/\" name=\"Debian security "
"pages\">. Usually this does not happen until the website is rebuilt (every "
"four hours) so they might not be present immediately. The preferred channel "
"is the debian-security-announce mailing list."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:76
msgid ""
"Interested users can, however (and this is done in some Debian-related "
"portals) use the RDF channel to download automatically the DSAs to their "
"desktop. Some applications, such as <prgn>Evolution</prgn> (an email client "
"and personal information assistant) and <prgn>Multiticker</prgn> (a GNOME "
"applet), can be used to retrieve the advisories automatically. The RDF "
"channel is available at <url id=\"http://www.debian.org/security/dsa.rdf\">."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:83
msgid ""
"DSAs published on the website might be updated after being sent to the "
"public-mailing lists. A common update is adding cross references to security "
"vulnerability databases. Also, translations<footnote><p>Translations are "
"available in up to ten different languages.</p></footnote> of DSAs are not "
"sent to the security mailing lists but are directly included in the website."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:85
msgid "Vulnerability cross references"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:93
msgid ""
"Debian provides a fully <url "
"id=\"http://www.debian.org/security/crossreferences\" name=\"crossreferenced "
"table\"> including all the references available for all the advisories "
"published since 1998. This table is provided to complement the <url "
"id=\"http://cve.mitre.org/cve/refs/refmap/source-DEBIAN.html\" "
"name=\"reference map available at CVE\">."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:102
msgid ""
"You will notice that this table provides references to security databases "
"such as <url id=\"http://www.securityfocus.com/bid\" name=\"Bugtraq\">, <url "
"id=\"http://www.cert.org/advisories/\" name=\"CERT/CC Advisories\"> and <url "
"id=\"http://www.kb.cert.org/vuls\" name=\"US-CERT Vulnerability Notes "
"Database\"> as well as CVE names (see below). These references are provided "
"for convenience use, but only CVE references are periodically reviewed and "
"included."
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:105
msgid "Advantages of adding cross references to these vulnerability databases are:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:109
msgid ""
"it makes it easier for Debian users to see and track which general "
"(published) advisories have already been covered by Debian."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:112
msgid ""
"system administrators can learn more about the vulnerability and its impact "
"by following the cross references."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:116
msgid ""
"this information can be used to cross-check output from vulnerability "
"scanners that include references to CVE to remove false positives (see <ref "
"id=\"vulnasses-false-positive\">)."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:121
msgid "CVE compatibility"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:128
msgid ""
"Debian Security Advisories were <url "
"id=\"http://www.debian.org/security/CVE-certificate.jpg\" name=\"declared "
"CVE-Compatible\"><footnote><p>The full <url "
"id=\"http://cve.mitre.org/compatible/phase2/SPI_Debian.html\" "
"name=\"capability questionnaire\"> is available at CVE</p></footnote> in "
"February 24, 2004."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:136
msgid ""
"Debian developers understand the need to provide accurate and up to date "
"information of the security status of the Debian distribution, allowing "
"users to manage the risk associated with new security vulnerabilities. CVE "
"enables us to provide standardized references that allow users to develop a "
"<url id=\"http://www.cve.mitre.org/compatible/enterprise.html\" "
"name=\"CVE-enabled security management process\">."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:141
msgid ""
"The <url id=\"http://cve.mitre.org\" name=\"Common Vulnerabilities and "
"Exposures (CVE)\"> project is maintained by the MITRE Corporation and "
"provides a list of standardized names for vulnerabilities and security "
"exposures."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:152
msgid ""
"Debian believes that providing users with additional information related to "
"security issues that affect the Debian distribution is extremely "
"important. The inclusion of CVE names in advisories help users associate "
"generic vulnerabilities with specific Debian updates, which reduces the time "
"spent handling vulnerabilities that affect our users. Also, it eases the "
"management of security in an environment where CVE-enabled security tools "
"-such as network or host intrusion detection systems, or vulnerability "
"assessment tools- are already deployed regardless of whether or not they are "
"based on the Debian distribution."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:160
msgid ""
"Debian provides CVE names for all DSAs released since September 1998. All of "
"the advisories can be retrieved on the Debian web site, and announcements "
"related to new vulnerabilities include CVE names if available at the time of "
"their release. Advisories associated with a given CVE name can be searched "
"directly through the Debian Security Tracker (see below)."
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:163
msgid ""
"In some cases you might not find a given CVE name in published advisories, "
"for example because:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:164
msgid "No Debian products are affected by that vulnerability."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:168
msgid ""
"There is not yet an advisory covering that vulnerability (the security issue "
"might have been reported as a <url "
"id=\"http://bugs.debian.org/cgi-bin/pkgreport.cgi?tag=security\" "
"name=\"security bug\"> but a fix has not been tested and uploaded)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:171
msgid ""
"An advisory was published before a CVE name was assigned to a given "
"vulnerability (look for an update at the web site)."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:178
msgid "Security Tracker"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:189
msgid ""
"The central database of what the Debian security teams know about "
"vulnerabilities is the <url id=\"http://security-tracker.debian.net\" "
"name=\"Debian Security Tracker\">. It cross references packages, vulnerable "
"and fixed versions for different suites, CVE names, Debian bug numbers, "
"DSA's and miscellaneous notes. It can be searched, e.g. by CVE name to see "
"which Debian packages are affected or fixed, or by package to show "
"unresolved security issues. The only information missing from the tracker is "
"confidential information that the security team received under embargo."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:194
msgid ""
"The package <prgn>debsecan</prgn> uses the information in the tracker to "
"report to the administrator of a system which of the installed packages are "
"vulnerable, and for which updates are available to fix security issues."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:196
msgid "Debian Security Build Infrastructure"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:202
msgid ""
"Since Debian is currently supported in a large number of architectures, "
"administrators sometimes wonder if a given architecture might take more time "
"to receive security updates than another. As a matter of fact, except for "
"rare circumstances, updates are available to all architectures at the same "
"time."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:211
msgid ""
"Packages in the security archive are autobuilt, just like the regular "
"archive. However, security updates are a little more different than normal "
"uploads sent by package maintainers since, in some cases, before being "
"published they need to wait until they can be tested further, an advisory "
"written, or need to wait for a week or more to avoid publicizing the flaw "
"until all vendors have had a reasonable chance to fix it."
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:214
msgid "Thus, the security upload archive works with the following procedure:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:218
msgid "Someone finds a security problem."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:225
msgid ""
"Someone fixes the problem, and makes an upload to "
"security-master.debian.org's incoming (this <em>someone</em> is usually a "
"Security Team member but can be also a package maintainer with an "
"appropriate fix that has contacted the Security Team previously). The "
"Changelog includes a <em>testing-security</em> or <em>stable-security</em> "
"as target distribution."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:230
msgid ""
"The upload gets checked and processed by a Debian system and moved into "
"queue/accepted, and the buildds are notified. Files in here can be accessed "
"by the security team and (somewhat indirectly) by the buildds."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:234
msgid ""
"Security-enabled buildds pick up the source package (prioritized over normal "
"builds), build it, and send the logs to the security team."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:238
msgid ""
"The security team reply to the logs, and the newly built packages are "
"uploaded to queue/unchecked, where they're processed by a Debian system, and "
"moved into queue/accepted."
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:243
msgid ""
"When the security team find the source package acceptable (i.e., that it's "
"been correctly built for all applicable architectures and that it fixes the "
"security hole and doesn't introduce new problems of its own) they run a "
"script which:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:246
msgid "installs the package into the security archive."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:250
msgid ""
"updates the <file>Packages</file>, <file>Sources</file> and "
"<file>Release</file> files of security.debian.org in the usual way "
"(<prgn>dpkg-scanpackages</prgn>, <prgn>dpkg-scansources</prgn>, ...)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:253
msgid "sets up a template advisory that the security team can finish off."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:257
msgid ""
"forwards the packages to the appropriate proposed-updates so that it can be "
"included in the real archive as soon as possible."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:268
msgid ""
"This procedure, previously done by hand, was tested and put through during "
"the freezing stage of Debian 3.0 woody (July 2002). Thanks to this "
"infrastructure the Security Team was able to have updated packages ready for "
"the apache and OpenSSH issues for all the supported (almost twenty) "
"architectures in less than a day."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:270
msgid "Developer's guide to security updates"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:277
msgid ""
"Debian developers that need to coordinate with the security team on fixing "
"in issue in their packages, can refer to the Developer's Reference section "
"<url "
"id=\"http://www.debian.org/doc/manuals/developers-reference/pkgs.html#bug-security\" "
"name=\"Handling security-related bugs\">."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:279
msgid "Package signing in Debian"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:296
msgid ""
"This section could also be titled \"how to upgrade/update safely your Debian "
"GNU/Linux system\" and it deserves its own section basically because it is "
"an important part of the Security Infrastructure. Package signing is an "
"important issue since it avoids tampering of packages distributed in mirrors "
"and of downloads with man-in-the-middle attacks. Automatic software update "
"is an important feature but it's also important to remove security threats "
"that could help the distribution of trojans and the compromise of systems "
"during updates<footnote><p>Some operating systems have already been plagued "
"with automatic-updates problems such as the <url "
"id=\"http://www.cunap.com/~hardingr/projects/osx/exploit.html\" name=\"Mac "
"OS X Software Update vulnerabity\">.</p><p>FIXME: probably the Internet "
"Explorer vulnerability handling certificate chains has an impact on security "
"updates on Microsoft Windows.</p></footnote>."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:303
msgid ""
"Debian does not provide signed packages but provides a mechanism available "
"since Debian 4.0 (codename <em>etch</em>) to check for downloaded package's "
"integrity<footnote><p>Older releases, such as Debian 3.1 <em>sarge</em> can "
"use this feature by using backported versions of this package management "
"tool</p></footnote>. For more information, see <ref id=\"apt-0.6\">."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:307
msgid ""
"This issue is better described in the <url "
"id=\"http://www.cryptnet.net/fdp/crypto/strong_distro.html\" name=\"Strong "
"Distribution HOWTO\"> by V. Alex Brennen."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:309
msgid "The current scheme for package signature checks"
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:312
msgid "The current scheme for package signature checking using <prgn>apt</prgn> is:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:317
msgid ""
"the <file>Release</file> file includes the MD5 sum of "
"<file>Packages.gz</file> (which contains the MD5 sums of packages) and will "
"be signed. The signature is one of a trusted source."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:320
msgid ""
"This signed <file>Release</file> file is downloaded by 'apt-get update' and "
"stored along with <file>Packages.gz</file>."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:323
msgid ""
"When a package is going to be installed, it is first downloaded, then the "
"MD5 sum is generated."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:327
msgid ""
"The signed <file>Release</file> file is checked (signature ok) and it "
"extracts from it the MD5 sum for the <file>Packages.gz</file> file, the "
"<file>Packages.gz</file> checksum is generated and (if ok) the MD5 sum of "
"the downloaded package is extracted from it."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:334
msgid ""
"If the MD5 sum from the downloaded package is the same as the one in the "
"<file>Packages.gz</file> file the package will be installed, otherwise the "
"administrator will be alerted and the package will be left in the cache (so "
"the administrator can decide whether to install it or not). If the package "
"is not in the <file>Packages.gz</file> and the administrator has configured "
"the system to only install checked packages it will not be installed either."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:341
msgid ""
"By following the chain of MD5 sums <prgn>apt</prgn> is capable of verifying "
"that a package originates from a a specific release. This is less flexible "
"than signing each package one by one, but can be combined with that scheme "
"too (see below)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:353
msgid ""
"This scheme is <url "
"id=\"http://lists.debian.org/debian-devel/2003/debian-devel-200312/msg01986.html "
"\" name=\"fully implemented\"> in apt 0.6 and is available since the Debian "
"4.0 release. For more information see <ref id=\"apt-0.6\">. Packages that "
"provide a front-end to apt need to be modified to adapt to this new feature; "
"this is the case of <prgn>aptitude</prgn> which was <url "
"id=\"http://lists.debian.org/debian-devel/2005/03/msg02641.html\" "
"name=\"modified\"> to adapt to this scheme. Front-ends currently known to "
"work properly with this feature include <prgn>aptitude</prgn> and "
"<prgn>synaptic</prgn>."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:358
msgid ""
"Package signing has been discussed in Debian for quite some time, for more "
"information you can read: <url "
"id=\"http://www.debian.org/News/weekly/2001/8/\"> and <url "
"id=\"http://www.debian.org/News/weekly/2000/11/\">."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:360
msgid "Secure apt"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:369
msgid ""
"The apt 0.6 release, available since Debian 4.0 <em>etch</em> and later "
"releases, includes <em>apt-secure</em> (also known as <em>secure apt</em>) "
"which is a tool that will allow a system administrator to test the integrity "
"of the packages downloaded through the above scheme. This release includes "
"the tool <prgn>apt-key</prgn> for adding new keys to apt's keyring, which by "
"default includes only the current Debian archive signing key."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:374
msgid ""
"These changes are based on the patch for <prgn>apt</prgn> (available in <url "
"id=\"http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=203741\" name=\"Bug "
"#203741\">) which provides this implementation."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:381
msgid ""
"Secure apt works by checking the distribution through the "
"<file>Release</file> file, as discussed in <ref "
"id=\"check-releases\">. Typically, this process will be transparent to the "
"administrator although you will need to intervene every "
"year<footnote><p>Until an automatic mechanism is developed.</p></footnote> "
"to add the new archive key when it is rotated, for more information on the "
"steps an administrator needs to take a look at <ref "
"id=\"secure-apt-add-key\">."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:386
msgid ""
"This feature is still under development, if you believe you find bugs in it, "
"please, make first sure you are using the latest version (as this package "
"might change quite a bit before it is finally released) and, if running the "
"latest version, submit a bug against the <package>apt</package> package."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:392
msgid ""
"You can find more information at <url "
"id=\"http://wiki.debian.org/SecureApt\" name=\"the wiki pages\"> and the "
"official documentation: <url "
"id=\"http://www.enyo.de/fw/software/apt-secure/\" name=\"Migration to APT "
"0.6\"> and <url id=\"http://www.syntaxpolice.org/apt-secure/\" name=\"APT "
"Signature Checking\">."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:394
msgid "Per distribution release check"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:398
msgid ""
"This section describes how the distribution release check mechanism works, "
"it was written by Joey Hess and is also available at the <url "
"id=\"http://wiki.debian.org/SecureApt\" name=\"Debian Wiki\">."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:400
msgid "Basic concepts"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:403
msgid ""
"Here are a few basic concepts that you'll need to understand for the rest of "
"this section."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:408
msgid ""
"A checksum is a method of taking a file and boiling it down to a reasonably "
"short number that uniquely identifies the content of the file. This is a lot "
"harder to do well than it might seem, and the most commonly used type of "
"checksum, the MD5 sum, is in the process of being broken."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:416
msgid ""
"Public key cryptography is based on pairs of keys, a public key and a "
"private key. The public key is given out to the world; the private key must "
"be kept a secret. Anyone possessing the public key can encrypt a message so "
"that it can only be read by someone possessing the private key. It's also "
"possible to use a private key to sign a file, not encrypt it. If a private "
"key is used to sign a file, then anyone who has the public key can check "
"that the file was signed by that key. No one who doesn't have the private "
"key can forge such a signature."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:420
msgid ""
"These keys are quite long numbers (1024 to 2048 digits or longer), and to "
"make them easier to work with they have a key id, which is a shorter, 8 or "
"16 digit number that can be used to refer to them."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:423
msgid ""
"<prgn>gpg</prgn> is the tool used in secure apt to sign files and check "
"their signatures."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:429
msgid ""
"<prgn>apt-key</prgn> is a program that is used to manage a keyring of gpg "
"keys for secure apt. The keyring is kept in the file "
"<file>/etc/apt/trusted.gpg</file> (not to be confused with the related but "
"not very interesting "
"<file>/etc/apt/trustdb.gpg</file>). <prgn>apt-key</prgn> can be used to show "
"the keys in the keyring, and to add or remove a key."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:431
msgid "<file>Release</file> checksums"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:436
msgid ""
"A Debian archive contains a <file>Release</file> file, which is updated each "
"time any of the packages in the archive change. Among other things, the "
"<file>Release</file> file contains some MD5 sums of other files in the "
"archive. An excerpt of an example <file>Release</file> file:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:442
#, no-wrap
msgid ""
"MD5Sum:\n"
" 6b05b392f792ba5a436d590c129de21f            3453 Packages\n"
" 1356479a23edda7a69f24eb8d6f4a14b            1131 Packages.gz\n"
" 2a5167881adc9ad1a8864f281b1eb959            1715 Sources\n"
" 88de3533bf6e054d1799f8e49b6aed8b             658 Sources.gz"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:447
msgid ""
"The <file>Release</file> files also include SHA-1 checksums, which will be "
"useful once MD5 sums become fully broken, however apt doesn't use them yet."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:450
msgid ""
"Now if we look inside a <file>Packages</file> file, we'll find more MD5 "
"sums, one for each package listed in it. For example:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:457
#, no-wrap
msgid ""
"    Package: uqm\n"
"    Priority: optional\n"
"    ...\n"
"    Filename: unstable/uqm_0.4.0-1_i386.deb\n"
"    Size: 580558\n"
"    MD5sum: 864ec6157c1eea88acfef44d0f34d219"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:465
msgid ""
"These two checksums can be used to verify that you have downloaded a correct "
"copy of the <file>Packages</file> file, with a md5sum that matches the one "
"in the <file>Release</file> file. And when it downloads an individual "
"package, it can also check its md5sum against the content of the "
"<file>Packages</file> file. If apt fails at either of these steps, it will "
"abort."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:472
msgid ""
"None of this is new in secure apt, but it does provide the "
"foundation. Notice that so far there is one file that apt doesn't have a way "
"to check: The Release file. Secure apt is all about making apt verify the "
"<file>Release</file> file before it does anything else with it, and plugging "
"this hole, so that there is a chain of verification from the package that "
"you are going to install all the way back to the provider of the package."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:474
msgid "Verification of the <file>Release</file> file"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:480
msgid ""
"To verify the <file>Release</file> file, a gpg signature is added for the "
"<file>Release</file> file. This is put in a file named "
"<file>Release.gpg</file> that is shipped alongside the <file>Release</file> "
"file. It looks something like this <footnote><p>Technically speaking, this "
"is an ASCII-armored detached gpg signature.</p></footnote> , although only "
"gpg actually looks at its contents normally:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:488
#, no-wrap
msgid ""
"-----BEGIN PGP SIGNATURE-----\n"
"Version: GnuPG v1.4.1 (GNU/Linux)\n"
"\n"
"iD8DBQBCqKO1nukh8wJbxY8RAsfHAJ9hu8oGNRAl2MSmP5+z2RZb6FJ8kACfWvEx\n"
"UBGPVc7jbHHsg78EhMBlV/U=\n"
"=x6og\n"
"-----END PGP SIGNATURE-----"
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:492
msgid "Check of <file>Release.gpg</file> by <prgn>apt</prgn>"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:498
msgid ""
"Secure apt always downloads <file>Release.gpg</file> files when it's "
"downloading <file>Release</file> files, and if it cannot download the "
"<file>Release.gpg</file>, or if the signature is bad, it will complain, and "
"will make note that the <file>Packages</file> files that the "
"<file>Release</file> file points to, and all the packages listed therein, "
"are from an untrusted source. Here's how it looks during an <prgn>apt-get "
"update</prgn>:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:501
#, no-wrap
msgid ""
"W: GPG error: http://ftp.us.debian.org testing Release: The following "
"signatures\n"
" couldn't be verified because the public key is not available: NO_PUBKEY "
"010908312D230C5F"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:506
msgid ""
"Note that the second half of the long number is the key id of the key that "
"apt doesn't know about, in this case that's 2D230C5F."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:508
msgid ""
"If you ignore that warning and try to install a package later, apt will warn "
"again:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:512
#, no-wrap
msgid ""
"WARNING: The following packages cannot be authenticated!\n"
"  libglib-perl libgtk2-perl\n"
"Install these packages without verification [y/N]?"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:521
msgid ""
"If you say Y here you have no way to know if the file you're getting is the "
"package you're supposed to install, or if it's something else entirely that "
"somebody that can intercept the communication against the "
"server<footnote><p>Or has poisoned your DNS, or is spoofing the server, or "
"has replaced the file in the mirror you are using, etc.</p></footnote> has "
"arranged for you, containing a nasty suprise."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:523
msgid ""
"Note that you can disable these checks by running apt with "
"--allow-unauthenticated."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:530
msgid ""
"It's also worth noting that newer versions of the Debian installer use the "
"same signed <file>Release</file> file mechanism during their debootstrap of "
"the Debian base system, before apt is available, and that the installer even "
"uses this system to verify pieces of itself that it downloads from the "
"net. Also, Debian does not currently sign the <file>Release</file> files on "
"its CDs; apt can be configured to always trust packages from CDs so this is "
"not a large problem."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:532
msgid "How to tell apt what to trust"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:539
msgid ""
"So the security of the whole system depends on there being a "
"<file>Release.gpg</file> file, which signs a <file>Release</file> file, and "
"of <prgn>apt</prgn> checking that signature using gpg. To check the "
"signature, it has to know the public key of the person who signed the "
"file. These keys are kept in apt's own keyring "
"(<file>/etc/apt/trusted.gpg</file>), and managing the keys is where secure "
"apt comes in."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:541
msgid ""
"By default, Debian systems come preconfigured with the Debian archive key in "
"the keyring."
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:547
#, no-wrap
msgid ""
"# apt-key list\n"
"/etc/apt/trusted.gpg\n"
"--------------------\n"
"pub   1024D/4F368D5D 2005-01-31 [expires: 2006-01-31]\n"
"uid                  Debian Archive Automatic Signing Key (2005) "
"&lt;ftpmaster@debian.org&gt;"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:553
msgid ""
"Here 4F368D5D is the key id, and notice that this key was only valid for a "
"one year period. Debian rotates these keys as a last line of defense against "
"some sort of security breach breaking a key."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:559
msgid ""
"That will make <prgn>apt</prgn> trust the official Debian archive, but if "
"you add some other apt repository to <file>/etc/apt/sources.list</file>, "
"you'll also have to give <prgn>apt</prgn> its key if you want apt to trust "
"it. Once you have the key and have verified it, it's a simple matter of "
"running <prgn>apt-key add file</prgn> to add it. Getting the key and "
"verifying it are the trickier parts."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:561
msgid "Finding the key for a repository"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:565
msgid ""
"The debian-archive-keyring package is used to distribute keys to "
"<prgn>apt</prgn>. Upgrades to this package can add (or remove) gpg keys for "
"the main Debian archive."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:570
msgid ""
"For other archives, there is not yet a standard location where you can find "
"the key for a given apt repository. There's a rough standard of putting the "
"key up on the web page for the repository or as a file in the repository "
"itself, but no real standard, so you might have to hunt for it."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:577
msgid ""
"The Debian archive signing key is available at <url "
"id=\"http://ftp-master.debian.org/ziyi_key_2006.asc\"> (replace 2006 with "
"current year).<footnote><p>\"ziyi\" is the name of the tool used for signing "
"on the Debian servers, the name is based on the name of a <url "
"id=\"http://en.wikipedia.org/wiki/Zhang_Ziyi\" name=\"Chinese "
"actress\">.</p></footnote>"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:581
msgid ""
"<prgn>gpg</prgn> itself has a standard way to distribute keys, using a "
"keyserver that gpg can download a key from and add it to its keyring. For "
"example:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:588
#, no-wrap
msgid ""
"$ gpg --keyserver pgpkeys.mit.edu --recv-key 2D230C5F\n"
"gpg: requesting key 2D230C5F from hkp server pgpkeys.mit.edu\n"
"gpg: key 2D230C5F: public key \"Debian Archive Automatic Signing Key (2006) "
"&lt;ftpm\n"
"aster@debian.org&gt;\" imported\n"
"gpg: Total number processed: 1\n"
"gpg:               imported: 1"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:592
msgid ""
"You can then export that key from your own keyring and feed it to "
"<prgn>apt-key</prgn>:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:596
#, no-wrap
msgid ""
"$ gpg -a --export 2D230C5F | sudo apt-key add -\n"
"gpg: no ultimately trusted keys found\n"
"OK"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:603
msgid ""
"The \"gpg: no ultimately trusted keys found\" warning means that gpg was not "
"configured to ultimately trust a specific key. Trust settings are part of "
"OpenPGPs Web-of-Trust which does not apply here. So there is no problem with "
"this warning. In typical setups the user's own key is ultimately trusted."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:605
msgid "Safely adding a key"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:614
msgid ""
"By adding a key to apt's keyring, you're telling apt to trust everything "
"signed by the key, and this lets you know for sure that apt won't install "
"anything not signed by the person who possesses the private key. But if "
"you're sufficiently paranoid, you can see that this just pushes things up a "
"level, now instead of having to worry if a package, or a "
"<file>Release</file> file is valid, you can worry about whether you've "
"actually gotten the right key. Is the <url "
"id=\"http://ftp-master.debian.org/ziyi_key_2006.asc\"> file mentioned above "
"really Debian's archive signing key, or has it been modified (or this "
"document lies)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:627
msgid ""
"It's good to be paranoid in security, but verifying things from here is "
"harder. <prgn>gpg</prgn> has the concept of a chain of trust, which can "
"start at someone you're sure of, who signs someone's key, who signs some "
"other key, etc., until you get to the archive key. If you're sufficiently "
"paranoid you'll want to check that your archive key is signed by a key that "
"you can trust, with a trust chain that goes back to someone you know "
"personally. If you want to do this, visit a Debian conference or perhaps a "
"local LUG for a key signing <footnote><p>Not all apt repository keys are "
"signed at all by another key. Maybe the person setting up the repository "
"doesn't have another key, or maybe they don't feel comfortable signing such "
"a role key with their main key. For information on setting up a key for a "
"repository see <ref id=\"check-non-debian-releases\">.</p></footnote>."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:634
msgid ""
"If you can't afford this level of paranoia, do whatever feels appropriate to "
"you when adding a new apt source and a new key. Maybe you'll want to mail "
"the person providing the key and verify it, or maybe you're willing to take "
"your chances with downloading it and assuming you got the real thing. The "
"important thing is that by reducing the problem to what archive keys to "
"trust, secure apt lets you be as careful and secure as it suits you to be."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:636
msgid "Verifying key integrity"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:643
msgid ""
"You can verify the fingerprint as well as the signatures on the "
"key. Retrieving the fingerprint can be done for multiple sources, you can "
"check <url id=\"http://debiansystem.info/readers/changes/547-ziyi-key-2006\" "
"name=\"The Debian System Book\">, talk to Debian Developers on IRC, read the "
"mailing list where the key change will be announced or any other additional "
"means to verify the fingerprint. For example you can do this:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:661
#, no-wrap
msgid ""
"$ GET http://ftp-master.debian.org/ziyi_key_2006.asc | gpg --import\n"
"gpg: key 2D230C5F: public key \"Debian Archive Automatic Signing Key "
"(2006)\n"
"  &lt;ftpmaster&amp;debian.org&gt;\" imported\n"
"gpg: Total number processed: 1\n"
"gpg:               imported: 1\n"
"$ gpg --check-sigs --fingerprint 2D230C5F\n"
"pub   1024D/2D230C5F 2006-01-03 [expires: 2007-02-07]\n"
"      Key fingerprint = 0847 50FC 01A6 D388 A643  D869 0109 0831 2D23 0C5F\n"
"uid   Debian Archive Automatic Signing Key (2006) "
"&lt;ftpmaster@debian.org&gt;\n"
"sig!3        2D230C5F 2006-01-03  Debian Archive Automatic Signing Key\n"
"                                  (2006) &lt;ftpmaster@debian.org&gt;\n"
"sig!         2A4E3EAA 2006-01-03  Anthony Towns "
"&lt;aj@azure.humbug.org.au&gt;\n"
"sig!         4F368D5D 2006-01-03  Debian Archive Automatic Signing Key\n"
"                                  (2005) &lt;ftpmaster@debian.org&gt;\n"
"sig!         29982E5A 2006-01-04  Steve Langasek &lt;vorlon@dodds.net&gt;\n"
"sig!         FD6645AB 2006-01-04  Ryan Murray &lt;rmurray@cyberhqz.com&gt;\n"
"sig!         AB2A91F5 2006-01-04  James Troup &lt;james@nocrew.org&gt;"
msgstr ""

#. type: </example><example>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:667
msgid ""
"and then <url "
"id=\"http://www.debian.org/doc/manuals/securing-debian-howto/ch7.en.html#s-deb-pack-sign\" "
"name=\"check the trust path\"> from your key (or a key you trust) to at "
"least one of the keys used to sign the archive key. If you are sufficiently "
"paranoid you will tell apt to trust the key only if you find an acceptable "
"path:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:670
#, no-wrap
msgid ""
"$ gpg --export -a 2D230C5F | sudo apt-key add -\n"
"Ok"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:675
msgid ""
"Note that the key is signed with the previous archive key, so theoretically "
"you can just build on your previous trust."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:677
msgid "Debian archive key yearly rotation"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:681
msgid ""
"As mentioned above, the Debian archive signing key is changed each year, in "
"January. Since secure apt is young, we don't have a great deal of experience "
"with changing the key and there are still rough spots."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:692
msgid ""
"In January 2006, a new key for 2006 was made and the <file>Release</file> "
"file began to be signed by it, but to try to avoid breaking systems that had "
"the old 2005 key, the <file>Release</file> file was signed by that as "
"well. The intent was that apt would accept one signature or the other "
"depending on the key it had, but apt turned out to be buggy and refused to "
"trust the file unless it had both keys and was able to check both "
"signatures. This was fixed in apt version 0.6.43.1. There was also confusion "
"about how the key was distributed to users who already had systems using "
"secure apt; initially it was uploaded to the web site with no announcement "
"and no real way to verify it and users were forced to download it by hand."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:724
msgid ""
"In January 2006, a new key for 2006 was made and the Release file began to "
"be signed by it, but to try to avoid breaking systems that had the old 2005 "
"key, the <file>Release</file> file was signed by that as well. In order to "
"prevent confusion on the best distribution mechanism for users who already "
"have systems using secure apt, the debian-archive-keyring package was "
"introduced, which manages apt keyring updates."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:726
msgid "Known release checking problems"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:730
msgid ""
"One not so obvious problem is that if your clock is very far off, secure apt "
"will not work. If it's set to a date in the past, such as 1999, apt will "
"fail with an unhelpful message such as this:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:732
#, no-wrap
msgid ""
"W: GPG error: http://archive.progeny.com sid Release: Unknown error "
"executing gpg"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:736
msgid "Although <prgn>apt-key</prgn> list will make the problem plain:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:741
#, no-wrap
msgid ""
"gpg: key 2D230C5F was created 192324901 seconds in the future (time warp or "
"clock problem)\n"
"gpg: key 2D230C5F was created 192324901 seconds in the future (time warp or "
"clock problem)\n"
"pub   1024D/2D230C5F 2006-01-03\n"
"uid                  Debian Archive Automatic Signing Key (2006) "
"&lt;ftpmaster@debian.org&gt;"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:745
msgid ""
"If it's set to a date too far in the future, apt will treat the keys as "
"expired."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:750
msgid ""
"Another problem you may encouter if using testing or unstable is that if you "
"have not run <prgn>apt-get update</prgn> lately and <prgn>apt-get "
"install</prgn> a package, apt might complain that it cannot be authenticated "
"(why does it do this?). <prgn>apt-get update</prgn> will fix this."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:752
msgid "Manual per distribution release check"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:765
msgid ""
"In case you want to add now the additional security checks and don't want or "
"cannot run the latest apt version<footnote><p>Either because you are using "
"the stable, <em>sarge</em>, release or an older release or because you don't "
"want to use the latest apt version, although we would really appreciate "
"testing of it.</p></footnote> you can use the script below, provided by "
"Anthony Towns. This script can automatically do some new security checks to "
"allow the user to be sure that the software s/he's downloading matches the "
"software Debian's distributing. This stops Debian developers from hacking "
"into someone's system without the accountability provided by uploading to "
"the main archive, or mirrors mirroring something almost, but not quite like "
"Debian, or mirrors providing out of date copies of unstable with known "
"security problems."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:767
msgid ""
"This sample code, renamed as <prgn>apt-check-sigs</prgn>, should be used in "
"the following way:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:772
#, no-wrap
msgid ""
"# apt-get update\n"
"# apt-check-sigs\n"
"(...results...)\n"
"# apt-get dist-upgrade"
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:776
msgid "First you need to:"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:782
msgid ""
"get the keys the archive software uses to sign <file>Release</file> files, "
"<url id=\"http://ftp-master.debian.org/ziyi_key_2006.asc\"> and add them to "
"<file>~/.gnupg/trustedkeys.gpg</file> (which is what <prgn>gpgv</prgn> uses "
"by default)."
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:784
#, no-wrap
msgid ""
"  gpg --no-default-keyring --keyring trustedkeys.gpg --import "
"ziyi_key_2006.asc"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:790
msgid ""
"remove any <file>/etc/apt/sources.list</file> lines that don't use the "
"normal \"dists\" structure, or change the script so that it works with them."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:794
msgid ""
"be prepared to ignore the fact that Debian security updates don't have "
"signed <file>Release</file> files, and that <file>Sources</file> files don't "
"have appropriate checksums in the <file>Release</file> file (yet)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:797
msgid ""
"be prepared to check that the appropriate sources are signed by the "
"appropriate keys."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:805
msgid ""
"This is the example code for <prgn>apt-check-sigs</prgn>, the latest version "
"can be retrieved from <url "
"id=\"http://people.debian.org/~ajt/apt-check-sigs\">. This code is currently "
"in beta, for more information read <url "
"id=\"http://lists.debian.org/debian-devel/2002/debian-devel-200207/msg00421.html\">."
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:1050
#, no-wrap
msgid ""
"#!/bin/bash\n"
"\n"
"# Copyright (c) 2001 Anthony Towns &lt;ajt@debian.org&gt;\n"
"#\n"
"# This program is free software; you can redistribute it and/or modify\n"
"# it under the terms of the GNU General Public License as published by\n"
"# the Free Software Foundation; either version 2 of the License, or\n"
"# (at your option) any later version.\n"
"#\n"
"# This program is distributed in the hope that it will be useful,\n"
"# but WITHOUT ANY WARRANTY; without even the implied warranty of\n"
"# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n"
"# GNU General Public License for more details.\n"
"\n"
"rm -rf /tmp/apt-release-check\n"
"mkdir /tmp/apt-release-check || exit 1\n"
"cd /tmp/apt-release-check\n"
"\n"
">OK\n"
">MISSING\n"
">NOCHECK\n"
">BAD\n"
"\n"
"arch=`dpkg --print-installation-architecture`\n"
"\n"
"am_root () {\n"
"        [ `id -u` -eq 0 ]\n"
"}\n"
"\n"
"get_md5sumsize () {\n"
"        cat \"$1\" | awk '/^MD5Sum:/,/^SHA1:/' | \n"
"          MYARG=\"$2\" perl -ne '@f = split /\\s+/; if ($f[3] eq "
"$ENV{\"MYARG\"}) {\n"
"print \"$f[1] $f[2]\\n\"; exit(0); }'\n"
"}\n"
"\n"
"checkit () {\n"
"        local FILE=\"$1\"\n"
"        local LOOKUP=\"$2\"\n"
"\n"
"        Y=\"`get_md5sumsize Release \"$LOOKUP\"`\"\n"
"        Y=\"`echo \"$Y\" | sed 's/^ *//;s/  */ /g'`\"\n"
"\n"
"        if [ ! -e \"/var/lib/apt/lists/$FILE\" ]; then\n"
"                if [ \"$Y\" = \"\" ]; then\n"
"                        # No file, but not needed anyway\n"
"                        echo \"OK\"\n"
"                        return\n"
"                fi\n"
"                echo \"$FILE\" >>MISSING\n"
"                echo \"MISSING $Y\"\n"
"                return\n"
"        fi\n"
"        if [ \"$Y\" = \"\" ]; then\n"
"                echo \"$FILE\" >>NOCHECK\n"
"                echo \"NOCHECK\"\n"
"                return\n"
"        fi\n"
"        X=\"`md5sum < /var/lib/apt/lists/$FILE | cut -d\\  -f1` `wc -c < "
"/var/lib\n"
"/apt/lists/$FILE`\"\n"
"        X=\"`echo \"$X\" | sed 's/^ *//;s/  */ /g'`\"\n"
"        if [ \"$X\" != \"$Y\" ]; then\n"
"                echo \"$FILE\" >>BAD\n"
"                echo \"BAD\"\n"
"                return\n"
"        fi\n"
"        echo \"$FILE\" >>OK\n"
"        echo \"OK\"\n"
"}\n"
"\n"
"echo\n"
"echo \"Checking sources in /etc/apt/sources.list:\"\n"
"echo \"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\"\n"
"echo\n"
"(echo \"You should take care to ensure that the distributions you're "
"downloading\n"
"\"\n"
"echo \"are the ones you think you are downloading, and that they are as up "
"to\"\n"
"echo \"date as you would expect (testing and unstable should be no more "
"than\"\n"
"echo \"two or three days out of date, stable-updates no more than a few "
"weeks\"\n"
"echo \"or a month).\"\n"
") | fmt\n"
"echo\n"
"\n"
"cat /etc/apt/sources.list | \n"
"  sed 's/^ *//' | grep '^[^#]' |\n"
"  while read ty url dist comps; do\n"
"        if [ \"${url%%:*}\" = \"http\" -o \"${url%%:*}\" = \"ftp\" ]; then\n"
"                baseurl=\"${url#*://}\"\n"
"        else\n"
"                continue\n"
"        fi\n"
"\n"
"        echo \"Source: ${ty} ${url} ${dist} ${comps}\"\n"
"\n"
"        rm -f Release Release.gpg\n"
"        lynx -reload -dump \"${url}/dists/${dist}/Release\" >/dev/null "
"2>&1\n"
"        wget -q -O Release \"${url}/dists/${dist}/Release\"\n"
"\n"
"        if ! grep -q '^' Release; then\n"
"                echo \"  * NO TOP-LEVEL Release FILE\"\n"
"                >Release\n"
"        else\n"
"                origline=`sed -n 's/^Origin: *//p' Release | head -1`\n"
"                lablline=`sed -n 's/^Label: *//p' Release | head -1`\n"
"                suitline=`sed -n 's/^Suite: *//p' Release | head -1`\n"
"                codeline=`sed -n 's/^Codename: *//p' Release | head -1`\n"
"                dateline=`grep \"^Date:\" Release | head -1`\n"
"                dscrline=`grep \"^Description:\" Release | head -1`\n"
"                echo \"  o Origin: $origline/$lablline\"\n"
"                echo \"  o Suite: $suitline/$codeline\"\n"
"                echo \"  o $dateline\"\n"
"                echo \"  o $dscrline\"\n"
"\n"
"                if [ \"${dist%%/*}\" != \"$suitline\" -a \"${dist%%/*}\" != "
"\"$codeline\" ]; then\n"
"                        echo \"  * WARNING: asked for $dist, got "
"$suitline/$codeline\"\n"
"                fi\n"
"\n"
"                lynx -reload -dump \"${url}/dists/${dist}/Release.gpg\" "
">/dev/null 2>&1\n"
"                wget -q -O Release.gpg "
"\"${url}/dists/${dist}/Release.gpg\"\n"
"\n"
"                gpgv --status-fd 3 Release.gpg Release 3>&1 >/dev/null 2>&1 "
"| sed -n \"s/^\\[GNUPG:\\] //p\" | (okay=0; err=\"\"; while read gpgcode "
"rest; do\n"
"                        if [ \"$gpgcode\" = \"GOODSIG\" ]; then\n"
"                            if [ \"$err\" != \"\" ]; then\n"
"                                echo \"  * Signed by ${err# } key: ${rest#* "
"}\"\n"
"                            else\n"
"                                echo \"  o Signed by: ${rest#* }\"\n"
"                                okay=1\n"
"                            fi\n"
"                            err=\"\"\n"
"                        elif [ \"$gpgcode\" = \"BADSIG\" ]; then\n"
"                            echo \"  * BAD SIGNATURE BY: ${rest#* }\"\n"
"                            err=\"\"\n"
"                        elif [ \"$gpgcode\" = \"ERRSIG\" ]; then\n"
"                            echo \"  * COULDN'T CHECK SIGNATURE BY KEYID: "
"${rest %% *}\"\n"
"                            err=\"\"\n"
"                        elif [ \"$gpgcode\" = \"SIGREVOKED\" ]; then\n"
"                            err=\"$err REVOKED\"\n"
"                        elif [ \"$gpgcode\" = \"SIGEXPIRED\" ]; then\n"
"                            err=\"$err EXPIRED\"\n"
"                        fi\n"
"                    done\n"
"                    if [ \"$okay\" != 1 ]; then\n"
"                        echo \"  * NO VALID SIGNATURE\"\n"
"                        >Release\n"
"                    fi)\n"
"        fi\n"
"        okaycomps=\"\"\n"
"        for comp in $comps; do\n"
"                if [ \"$ty\" = \"deb\" ]; then\n"
"                        X=$(checkit \"`echo "
"\"${baseurl}/dists/${dist}/${comp}/binary-${arch}/Release\" | sed "
"'s,//*,_,g'`\" \"${comp}/binary-${arch}/Release\")\n"
"                        Y=$(checkit \"`echo "
"\"${baseurl}/dists/${dist}/${comp}/binary-${arch}/Packages\" | sed "
"'s,//*,_,g'`\" \"${comp}/binary-${arch}/Packages\")\n"
"                        if [ \"$X $Y\" = \"OK OK\" ]; then\n"
"                                okaycomps=\"$okaycomps $comp\"\n"
"                        else\n"
"                                echo \"  * PROBLEMS WITH $comp ($X, $Y)\"\n"
"                        fi\n"
"                elif [ \"$ty\" = \"deb-src\" ]; then\n"
"                        X=$(checkit \"`echo "
"\"${baseurl}/dists/${dist}/${comp}/source/Release\" | sed 's,//*,_,g'`\" "
"\"${comp}/source/Release\")\n"
"                        Y=$(checkit \"`echo "
"\"${baseurl}/dists/${dist}/${comp}/source/Sources\" | sed 's,//*,_,g'`\" "
"\"${comp}/source/Sources\")\n"
"                        if [ \"$X $Y\" = \"OK OK\" ]; then\n"
"                                okaycomps=\"$okaycomps $comp\"\n"
"                        else\n"
"                                echo \"  * PROBLEMS WITH component $comp "
"($X, $Y)\"\n"
"                        fi\n"
"                fi\n"
"        done\n"
"        [ \"$okaycomps\" = \"\" ] || echo \"  o Okay:$okaycomps\"\n"
"        echo\n"
"  done\n"
"\n"
"echo \"Results\"\n"
"echo \"~~~~~~~\"\n"
"echo\n"
"\n"
"allokay=true\n"
"\n"
"cd /tmp/apt-release-check\n"
"diff <(cat BAD MISSING NOCHECK OK | sort) <(cd /var/lib/apt/lists && find "
". -type f -maxdepth 1 | sed 's,^\\./,,g' | grep '_' | sort) | sed -n 's/^> "
"//p' >UNVALIDATED\n"
"\n"
"cd /tmp/apt-release-check\n"
"if grep -q ^ UNVALIDATED; then\n"
"    allokay=false\n"
"    (echo \"The following files in /var/lib/apt/lists have not been "
"validated.\"\n"
"    echo \"This could turn out to be a harmless indication that this "
"script\"\n"
"    echo \"is buggy or out of date, or it could let trojaned packages get "
"onto\"\n"
"    echo \"your system.\"\n"
"    ) | fmt\n"
"    echo\n"
"    sed 's/^/    /' < UNVALIDATED\n"
"    echo\n"
"fi\n"
"\n"
"if grep -q ^ BAD; then\n"
"    allokay=false\n"
"    (echo \"The contents of the following files in /var/lib/apt/lists does "
"not\"\n"
"    echo \"match what was expected. This may mean these sources are out of "
"date,\"\n"
"    echo \"that the archive is having problems, or that someone is "
"actively\"\n"
"    echo \"using your mirror to distribute trojans.\"\n"
"    if am_root; then \n"
"        echo \"The files have been renamed to have the extension .FAILED "
"and\"\n"
"        echo \"will be ignored by apt.\"\n"
"        cat BAD | while read a; do\n"
"            mv /var/lib/apt/lists/$a /var/lib/apt/lists/${a}.FAILED\n"
"        done\n"
"    fi) | fmt\n"
"    echo\n"
"    sed 's/^/    /' < BAD\n"
"    echo\n"
"fi\n"
"\n"
"if grep -q ^ MISSING; then\n"
"    allokay=false\n"
"    (echo \"The following files from /var/lib/apt/lists were "
"missing. This\"\n"
"    echo \"may cause you to miss out on updates to some vulnerable "
"packages.\"\n"
"    ) | fmt\n"
"    echo\n"
"    sed 's/^/    /' < MISSING\n"
"    echo\n"
"fi\n"
"\n"
"if grep -q ^ NOCHECK; then\n"
"    allokay=false\n"
"    (echo \"The contents of the following files in /var/lib/apt/lists could "
"not\"\n"
"    echo \"be validated due to the lack of a signed Release file, or the "
"lack\"\n"
"    echo \"of an appropriate entry in a signed Release file. This "
"probably\"\n"
"    echo \"means that the maintainers of these sources are slack, but may "
"mean\"\n"
"    echo \"these sources are being actively used to distribute trojans.\"\n"
"    if am_root; then \n"
"        echo \"The files have been renamed to have the extension .FAILED "
"and\"\n"
"        echo \"will be ignored by apt.\"\n"
"        cat NOCHECK | while read a; do\n"
"            mv /var/lib/apt/lists/$a /var/lib/apt/lists/${a}.FAILED\n"
"        done\n"
"    fi) | fmt\n"
"    echo\n"
"    sed 's/^/    /' < NOCHECK\n"
"    echo\n"
"fi\n"
"\n"
"if $allokay; then\n"
"    echo 'Everything seems okay!'\n"
"    echo\n"
"fi\n"
"\n"
"rm -rf /tmp/apt-release-check"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:1055
msgid ""
"You might need to apply the following patch for <em>sid</em> since "
"<prgn>md5sum</prgn> adds an '-' after the sum when the input is stdin:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:1074
#, no-wrap
msgid ""
"@@ -37,7 +37,7 @@\n"
"        local LOOKUP=\"$2\"\n"
"\n"
"        Y=\"`get_md5sumsize Release \"$LOOKUP\"`\"\n"
"-       Y=\"`echo \"$Y\" | sed 's/^ *//;s/  */ /g'`\"\n"
"+       Y=\"`echo \"$Y\" | sed 's/-//;s/^ *//;s/  */ /g'`\"\n"
"\n"
"        if [ ! -e \"/var/lib/apt/lists/$FILE\" ]; then\n"
"                if [ \"$Y\" = \"\" ]; then\n"
"@@ -55,7 +55,7 @@\n"
"                return\n"
"        fi\n"
"        X=\"`md5sum < /var/lib/apt/lists/$FILE` `wc -c < "
"/var/lib/apt/lists/$FILE`\"\n"
"-       X=\"`echo \"$X\" | sed 's/^ *//;s/  */ /g'`\"\n"
"+       X=\"`echo \"$X\" | sed 's/-//;s/^ *//;s/  */ /g'`\"\n"
"        if [ \"$X\" != \"$Y\" ]; then\n"
"                echo \"$FILE\" >>BAD\n"
"                echo \"BAD\""
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:1078
msgid "Release check of non Debian sources"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:1087
msgid ""
"Notice that, when using the latest apt version (with <em>secure apt</em>) no "
"extra effort should be required on your part unless you use non-Debian "
"sources, in which case an extra confirmation step will be required by "
"apt-get. This is avoided by providing <file>Release</file> and "
"<file>Release.gpg</file> files in the non-Debian sources. The "
"<file>Release</file> file can be generated with <prgn>apt-ftparchive</prgn> "
"(available in <package>apt-utils</package> 0.5.0 and later), the "
"<file>Release.gpg</file> is just a detached signature. To generate both "
"follow this simple procedure:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:1091
#, no-wrap
msgid ""
"$ rm -f dists/unstable/Release\n"
"$ apt-ftparchive release dists/unstable > dists/unstable/Release\n"
"$ gpg --sign -ba -o dists/unstable/Release.gpg dists/unstable/Release"
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:1095
msgid "Alternative per-package signing scheme"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:1101
msgid ""
"The additional scheme of signing each and every packages allows packages to "
"be checked when they are no longer referenced by an existing "
"<file>Packages</file> file, and also third-party packages where no "
"<file>Packages</file> ever existed for them can be also used in Debian but "
"will not be default scheme."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:1110
msgid ""
"This package signing scheme can be implemented using "
"<package>debsig-verify</package> and <package>debsigs</package>. These two "
"packages can sign and verify embedded signatures in the .deb itself. Debian "
"already has the capability to do this now, but there is no feature plan to "
"implement the policy or other tools since the archive signing scheme is "
"prefered. These tools are available for users and archive administrators "
"that would rather use this scheme instead."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:1116
msgid ""
"Latest <prgn>dpkg</prgn> versions (since 1.9.21) incorporate a <url "
"id=\"http://lists.debian.org/debian-dpkg/2001/debian-dpkg-200103/msg00024.html\" "
"name=\"patch\"> that provides this functionality as soon as "
"<package>debsig-verify</package> is installed."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:55 en/infrastructure.sgml:1119
msgid ""
"NOTE: Currently <file>/etc/dpkg/dpkg.cfg</file> ships with \"no-debsig\" as "
"per default."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:3
msgid ""
"NOTE2: Signatures from developers are currently stripped when they enter off "
"the package archive since the currently preferred method is release checks "
"as described previously."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:5
msgid "Security tools in Debian"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:7
msgid "FIXME: More content needed."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:13
msgid ""
"Debian provides also a number of security tools that can make a Debian box "
"suited for security purposes. These purposes include protection of "
"information systems through firewalls (either packet or application-level), "
"intrusion detection (both network and host based), vulnerability assessment, "
"antivirus, private networks, etc."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:22
msgid ""
"Since Debian 3.0 (<em>woody</em>), the distribution features cryptographic "
"software integrated into the main distribution. OpenSSH and GNU Privacy "
"Guard are included in the default install, and strong encryption is now "
"present in web browsers and web servers, databases, and so forth. Further "
"integration of cryptography is planned for future releases. This software, "
"due to export restrictions in the US, was not distributed along with the "
"main distribution but included only in non-US sites."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:24
msgid "Remote vulnerability assessment tools"
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:30
msgid ""
"The tools provided by Debian to perform remote vulnerability assessment are: "
"<footnote><p>Some of them are provided when installing the "
"<package>harden-remoteaudit</package> package.</p></footnote>"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:32
msgid "<package>nessus</package>"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:33
msgid "<package>raccess</package>"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:34
msgid "<package>nikto</package> (<prgn>whisker</prgn>'s replacement)"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:47
msgid ""
"By far, the most complete and up-to-date tools is <package>nessus</package> "
"which is composed of a client (<package>nessus</package>) used as a GUI and "
"a server (<package>nessusd</package>) which launches the programmed "
"attacks. Nessus includes remote vulnerabilities for quite a number of "
"systems including network appliances, ftp servers, www servers, etc. The "
"latest security plugins are able even to parse a web site and try to "
"discover which interactive pages are available which could be "
"attacked. There are also Java and Win32 clients (not included in Debian) "
"which can be used to contact the management server."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:53
msgid ""
"<package>nikto</package> is a web-only vulnerability assessment scanner "
"including anti-IDS tactics (most of which are not <em>anti-IDS</em> "
"anymore). It is one of the best cgi-scanners available, being able to detect "
"a WWW server and launch only a given set of attacks against it. The database "
"used for scanning can be easily modified to provide for new information."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:54
msgid "Network scanner tools"
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:59
msgid ""
"Debian does provide some tools used for remote scanning of hosts (but not "
"vulnerability assessment). These tools are, in some cases, used by "
"vulnerability assessment scanners as the first type of \"attack\" run "
"against remote hosts in an attempt to determine remote services "
"available. Currently Debian provides:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:61
msgid "<package>nmap</package>"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:62
msgid "<package>xprobe</package>"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:63
msgid "<package>p0f</package>"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:64
msgid "<package>knocker</package>"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:65
msgid "<package>isic</package>"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:66
msgid "<package>hping2</package>"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:67
msgid "<package>icmpush</package>"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:68
msgid "<package>nbtscan</package> (for SMB /NetBIOS audits)"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:69
msgid "<package>fragrouter</package>"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:70
msgid "<prgn>strobe</prgn> (in the <package>netdiag</package> package)"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:71
msgid "<package>irpas</package>"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:84
msgid ""
"While <package>xprobe</package> provide only remote operating system "
"detection (using TCP/IP fingerprinting, <package>nmap</package> and "
"<package>knocker</package> do both operating system detection and port "
"scanning of the remote hosts. On the other hand, <package>hping2</package> "
"and <package>icmpush</package> can be used for remote ICMP attack "
"techniques."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:89
msgid ""
"Designed specifically for SMB networks, <package>nbtscan</package> can be "
"used to scan IP networks and retrieve name information from SMB-enabled "
"servers, including: usernames, network names, MAC addresses..."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:93
msgid ""
"On the other hand, <package>fragrouter</package> can be used to test network "
"intrusion detection systems and see if the NIDS can be eluded by "
"fragmentation attacks."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:96
msgid ""
"FIXME: Check <url id=\"http://bugs.debian.org/153117\" name=\"Bug #153117\"> "
"(ITP fragrouter) to see if it's included."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:102
msgid ""
"FIXME add information based on <url "
"id=\"http://www.giac.org/practical/gcux/Stephanie_Thomas_GCUX.pdf\" "
"name=\"Debian Linux Laptop for Road Warriors\"> which describes how to use "
"Debian and a laptop to scan for wireless (803.1) networks (link not there "
"any more)."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:103
msgid "Internal audits"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:108
msgid ""
"Currently, only the <package>tiger</package> tool used in Debian can be used "
"to perform internal (also called white box) audit of hosts in order to "
"determine if the file system is properly set up, which processes are "
"listening on the host, etc."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:109
msgid "Auditing source code"
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:112
msgid ""
"Debian provides several packages that can be used to audit C/C++ source code "
"programs and find programming errors that might lead to potential security "
"flaws:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:114
msgid "<package>flawfinder</package>"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:115
msgid "<package>rats</package>"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:116
msgid "<package>splint</package>"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:117
msgid "<package>pscan</package>"
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:121
msgid "Virtual Private Networks"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:129
msgid ""
"A virtual private network (VPN) is a group of two or more computer systems, "
"typically connected to a private network with limited public network access, "
"that communicate securely over a public network. VPNs may connect a single "
"computer to a private network (client-server), or a remote LAN to a private "
"network (server-server). VPNs often include the use of encryption, strong "
"authentication of remote users or hosts, and methods for hiding the private "
"network's topology."
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:132
msgid ""
"Debian provides quite a few packages to set up encrypted virtual private "
"networks:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:135
msgid "<package>vtun</package>"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:136
msgid "<package>tunnelv</package> (non-US section)"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:137
msgid "<package>cipe-source</package>, <package>cipe-common</package>"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:138
msgid "<package>tinc</package>"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:139
msgid "<package>secvpn</package>"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:140
msgid "<package>pptpd</package>"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:141
msgid "<package>openvpn</package>"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:143
msgid "<package>openswan</package> (<url id=\"http://www.openswan.org/\">)"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:150
msgid ""
"FIXME: Update the information here since it was written with FreeSWAN in "
"mind. Check Bug #237764 and Message-Id: "
"&lt;200412101215.04040.rmayr@debian.org&gt;."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:158
msgid ""
"The OpenSWAN package is probably the best choice overall, since it promises "
"to interoperate with almost anything that uses the IP security protocol, "
"IPsec (RFC 2411). However, the other packages listed above can also help you "
"get a secure tunnel up in a hurry. The point to point tunneling protocol "
"(PPTP) is a proprietary Microsoft protocol for VPN. It is supported under "
"Linux, but is known to have serious security issues."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:168
msgid ""
"For more information see the <url "
"id=\"http://www.tldp.org/HOWTO/VPN-Masquerade-HOWTO.html\" "
"name=\"VPN-Masquerade HOWTO\"> (covers IPsec and PPTP), <url "
"id=\"http://www.tldp.org/HOWTO/VPN-HOWTO.html\" name=\"VPN HOWTO\"> (covers "
"PPP over SSH), <url id=\"http://www.tldp.org/HOWTO/mini/Cipe+Masq.html\" "
"name=\"Cipe mini-HOWTO\">, and <url "
"id=\"http://www.tldp.org/HOWTO/mini/ppp-ssh/index.html\" name=\"PPP and SSH "
"mini-HOWTO\">."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:172
msgid ""
"Also worth checking out is <url id=\"http://yavipin.sourceforge.net/\" "
"name=\"Yavipin\">, but no Debian packages seem to be available yet."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:174
msgid "Point to Point tunneling"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:180
msgid ""
"If you want to provide a tunneling server for a mixed environment (both "
"Microsoft operating systems and Linux clients) and IPsec is not an option "
"(since it's only provided for Windows 2000 and Windows XP), you can use "
"<em>PoPToP</em> (Point to Point Tunneling Server), provided in the "
"<package>pptpd</package> package."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:184
msgid ""
"If you want to use Microsoft's authentication and encryption with the server "
"provided in the <package>ppp</package> package, note the following from the "
"FAQ:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:190
#, no-wrap
msgid ""
"It is only necessary to use PPP 2.3.8 if you want Microsoft compatible\n"
"MSCHAPv2/MPPE authentication and encryption. The reason for this is that\n"
"the MSCHAPv2/MPPE patch currently supplied (19990813) is against PPP\n"
"2.3.8. If you don't need Microsoft compatible authentication/encryption\n"
"any 2.3.x PPP source will be fine."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:196
msgid ""
"However, you also have to apply the kernel patch provided by the "
"<package>kernel-patch-mppe</package> package, which provides the pp_mppe "
"module for pppd."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:201
msgid ""
"Take into account that the encryption in ppptp forces you to store user "
"passwords in clear text, and that the MS-CHAPv2 protocol contains <url "
"id=\"http://mopo.informatik.uni-freiburg.de/pptp_mschapv2/\" name=\"known "
"security holes\">."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:203
msgid "Public Key Infrastructure (PKI)"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:209
msgid ""
"Public Key Infrastructure (PKI) is a security architecture introduced to "
"provide an increased level of confidence for exchanging information over "
"insecure networks. It makes use of the concept of public and private "
"cryptographic keys to verify the identity of the sender (signing) and to "
"ensure privacy (encryption)."
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:212
msgid "When considering a PKI, you are confronted with a wide variety of issues:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:217
msgid ""
"a Certificate Authority (CA) that can issue and verify certificates, and "
"that can work under a given hierarchy."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:219
msgid "a Directory to hold user's public certificates."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:221
msgid "a Database (?) to maintain Certificate Revocation Lists (CRL)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:224
msgid ""
"devices that interoperate with the CA in order to print out smart cards/USB "
"tokens/whatever to securely store certificates."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:229
msgid ""
"certificate-aware applications that can use certificates issued by a CA to "
"enroll in encrypted communication and check given certificates against CRL "
"(for authentication and full Single Sign On solutions)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:231
msgid "a Time stamping authority to digitally sign documents."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:234
msgid ""
"a management console from which all of this can be properly used "
"(certificate generation, revocation list control, etc...)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:247
msgid ""
"Debian GNU/Linux has software packages to help you with some of these PKI "
"issues. They include <prgn>OpenSSL</prgn> (for certificate generation), "
"<prgn>OpenLDAP</prgn> (as a directory to hold the certificates), "
"<prgn>gnupg</prgn> and <prgn>openswan</prgn> (with X.509 standard "
"support). However, as of the Woody release (Debian 3.0), Debian does not "
"have any of the freely available Certificate Authorities such as pyCA, <url "
"id=\"http://www.openca.org\" name=\"OpenCA\"> or the CA samples from "
"OpenSSL. For more information read the <url "
"id=\"http://ospkibook.sourceforge.net/\" name=\"Open PKI book\">."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:249
msgid "SSL Infrastructure"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:256
msgid ""
"Debian does provide some SSL certificates with the distribution so that they "
"can be installed locally. They are found in the "
"<package>ca-certificates</package> package. This package provides a central "
"repository of certificates that have been submitted to Debian and approved "
"(that is, verified) by the package maintainer, useful for any OpenSSL "
"applications which verify SSL connections."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:258
msgid "FIXME: read debian-devel to see if there was something added to this."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:260
msgid "Antivirus tools"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:272
msgid ""
"There are not many anti-virus tools included with Debian GNU/Linux, probably "
"because GNU/Linux users are not plagued by viruses. The Unix security model "
"makes a distinction between privileged (root) processes and user-owned "
"processes, therefore a \"hostile\" executable that a non-root user receives "
"or creates and then executes cannot \"infect\" or otherwise manipulate the "
"whole system. However, GNU/Linux worms and viruses do exist, although there "
"has not (yet, hopefully) been any that has spread in the wild over any "
"Debian distribution. In any case, administrators might want to build up "
"anti-virus gateways that protect against viruses arising on other, more "
"vulnerable systems in their network."
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:275
msgid ""
"Debian GNU/Linux currently provides the following tools for building "
"antivirus environments:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:298
msgid ""
"<url id=\"http://www.clamav.net\" name=\"Clam Antivirus\">, provided since "
"Debian <em>sarge</em> (3.1 release). Packages are provided both for the "
"virus scanner (<package>clamav</package>) for the scanner daemon "
"(<package>clamav-daemon</package>) and for the data files needed for the "
"scanner. Since keeping an antivirus up-to-date is critical for it to work "
"properly there are two different ways to get this data: "
"<package>clamav-freshclam</package> provides a way to update the database "
"through the Internet automatically and <package>clamav-data</package> which "
"provides the data files directly. <footnote><p>If you use this last package "
"and are running an official Debian, the database will not be updated with "
"security updates. You should either use <package>clamav-freshclam</package>, "
"<prgn>clamav-getfiles</prgn> to generate new <package>clamav-data</package> "
"packages or update from the maintainers location: <example> deb "
"http://people.debian.org/~zugschlus/clamav-data/ / deb-src "
"http://people.debian.org/~zugschlus/clamav-data/ /</example></p></footnote>"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:303
msgid ""
"<package>mailscanner</package> an e-mail gateway virus scanner and spam "
"detector. Using <package>sendmail</package> or <package>exim</package> as "
"its basis, it can use more than 17 different virus scanning engines "
"(including <package>clamav</package>)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:307
msgid ""
"<package>libfile-scan-perl</package> which provides File::Scan, a Perl "
"extension for scanning files for viruses. This modules can be used to make "
"platform independent virus scanners."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:314
msgid ""
"<url id=\"http://www.sourceforge.net/projects/amavis\" name=\"Amavis Next "
"Generation\">, provided in the package <package>amavis-ng</package> and "
"available in <em>sarge</em>, which is a mail virus scanner which integrates "
"with different MTA (Exim, Sendmail, Postfix, or Qmail) and supports over 15 "
"virus scanning engines (including clamav, File::Scan and openantivirus)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:319
msgid ""
"<url id=\"http://packages.debian.org/sanitizer\" name=\"sanitizer\">, a tool "
"that uses the <package>procmail</package> package, which can scan email "
"attachments for viruses, block attachments based on their filenames, and "
"more."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:324
msgid ""
"<url id=\"http://packages.debian.org/amavis-postfix\" "
"name=\"amavis-postfix\">, a script that provides an interface from a mail "
"transport agent to one or more commercial virus scanners (this package is "
"built with support for the <prgn>postfix</prgn> MTA only)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:327
msgid ""
"<package>exiscan</package>, an e-mail virus scanner written in Perl that "
"works with Exim."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:329
msgid ""
"<package>blackhole-qmail</package> a spam filter for Qmail with built-in "
"support for Clamav."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:338
msgid ""
"Some gateway daemons support already tools extensions to build antivirus "
"environments including <package>exim4-daemon-heavy</package> (the "
"<em>heavy</em> version of the Exim MTA), <package>frox</package> (a "
"transparent caching ftp proxy server), <package>messagewall</package> (an "
"SMTP proxy daemon) and <package>pop3vscan</package> (a transparent POP3 "
"proxy)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:343
msgid ""
"Debian currently provide <prgn>clamav</prgn> as the only antivirus scanning "
"software in the main official distribution and it also provides multiple "
"interfaces to build gateways with antivirus capabilities for different "
"protocols."
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:346
msgid ""
"Some other free software antivirus projects which might be included in "
"future Debian GNU/Linux releases:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:355
msgid ""
"<url id=\"http://sourceforge.net/projects/openantivirus/\" name=\"Open "
"Antivirus\"> (see <url id=\"http://bugs.debian.org/150698\" name=\"Bug "
"#150698 (ITP oav-scannerdaemon)\"> and <url "
"id=\"http://bugs.debian.org/150695\" name=\"Bug #150695 (ITP oav-update)\"> "
")."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:360
msgid ""
"FIXME: Is there a package that provides a script to download the latest "
"virus signatures from <url id=\"http://www.openantivirus.org/latest.php\">?"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:363
msgid ""
"FIXME: Check if scannerdaemon is the same as the open antivirus scanner "
"daemon (read ITPs)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:387
msgid ""
"However, Debian will <em>never</em> provide propietary (non-free and "
"undistributable) antivirus software such as: Panda Antivirus, NAI Netshield, "
"<url id=\"http://www.sophos.com/\" name=\"Sophos Sweep\">, <url "
"id=\"http://www.antivirus.com\" name=\"TrendMicro Interscan\">, or <url "
"id=\"http://www.ravantivirus.com\" name=\"RAV\">. For more pointers see the "
"<url id=\"http://www.computer-networking.de/~link/security/av-linux_e.txt\" "
"name=\"Linux antivirus software mini-FAQ\">. This does not mean that this "
"software cannot be installed properly in a Debian "
"system<footnote><p>Actually, there is an installer package for the "
"<em>F-prot</em> antivirus, which is non-free but <em>gratis</em> for home "
"users, called <prgn>f-prot-installer</prgn>. This installer, however, just "
"downloads <url id=\"http://www.f-prot.com/products/home_use/linux/\" "
"name=\"F-prot's software\"> and installs it in the system.</p></footnote>."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:392
msgid ""
"For more information on how to set up a virus detection system read Dave "
"Jones' article <url id=\"http://www.linuxjournal.com/article.php?sid=4882\" "
"name=\"Building an E-mail Virus Detection System for Your Network\">."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:394
msgid "GPG agent"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:400
msgid ""
"It is very common nowadays to digitally sign (and sometimes encrypt) "
"e-mail. You might, for example, find that many people participating on "
"mailing lists sign their list e-mail. Public key signatures are currently "
"the only means to verify that an e-mail was sent by the sender and not by "
"some other person."
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:404
msgid ""
"Debian GNU/Linux provides a number of e-mail clients with built-in e-mail "
"signing capabilities that interoperate either with <package>gnupg</package> "
"or <package>pgp</package>:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:406
msgid "<package>evolution</package>."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:407
msgid "<package>mutt</package>."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:408
msgid "<package>kmail</package>."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:413
msgid ""
"<package>icedove</package> (rebranded version of Mozilla's Thunderbird) "
"through the <url id=\"http://enigmail.mozdev.org/\" name=\"Enigmail\"> "
"plugin. This plugin is provided by the <package>enigmail</package> package."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:417
msgid ""
"<package>sylpheed</package>. Depending on how the stable version of this "
"package evolves, you may need to use the <em>bleeding edge version</em>, "
"<package>sylpheed-claws</package>."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:421
msgid ""
"<package>gnus</package>, which when installed with the "
"<package>mailcrypt</package> package, is an <prgn>emacs</prgn> interface to "
"<prgn>gnupg</prgn>."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:425
msgid ""
"<package>kuvert</package>, which provides this functionality independently "
"of your chosen mail user agent (MUA) by interacting with the mail transport "
"agent (MTA)."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:439
msgid ""
"Key servers allow you to download published public keys so that you may "
"verify signatures. One such key server is <url "
"id=\"http://wwwkeys.pgp.net\">. <package>gnupg</package> can automatically "
"fetch public keys that are not already in your public keyring. For example, "
"to configure <prgn>gnupg</prgn> to use the above key server, edit the file "
"<file>~/.gnupg/options</file> and add the following line: <footnote><p>For "
"more examples of how to configure <prgn>gnupg</prgn> check "
"<file>/usr/share/doc/mutt/examples/gpg.rc</file>.</p></footnote>"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:441
#, no-wrap
msgid "keyserver wwwkeys.pgp.net"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:450
msgid ""
"Most key servers are linked, so that when your public key is added to one "
"server, the addition is propagated to all the other public key "
"servers. There is also a Debian GNU/Linux package "
"<package>debian-keyring</package>, that provides all the public keys of the "
"Debian developers. The <prgn>gnupg</prgn> keyrings are installed in "
"<file>/usr/share/keyrings/</file>."
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:452
msgid "For more information:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:456
msgid "<url id=\"http://www.gnupg.org/faq.html\" name=\"GnuPG FAQ\">."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:459
msgid ""
"<url id=\"http://www.gnupg.org/gph/en/manual.html\" name=\"GnuPG "
"Handbook\">."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:463
msgid ""
"<url id=\"http://www.dewinter.com/gnupg_howto/english/GPGMiniHowto.html\" "
"name=\"GnuPG Mini Howto (English)\">."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:466
msgid ""
"<url id=\"http://www.uk.pgp.net/pgpnet/pgp-faq/\" name=\"comp.security.pgp "
"FAQ\">."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:56 en/sec-tools.sgml:469
msgid ""
"<url id=\"http://www.cryptnet.net/fdp/crypto/gpg-party.html\" "
"name=\"Keysigning Party HOWTO\">."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:57 en/developer.sgml:8
msgid "Developer's Best Practices for OS Security"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:57 en/developer.sgml:15
msgid ""
"This chapter introduces some best secure coding practices for developers "
"writing Debian packages. If you are really interested in secure coding I "
"recommend you read David Wheeler's <url "
"id=\"http://www.dwheeler.com/secure-programs/\" name=\"Secure Programming "
"for Linux and Unix HOWTO\"> and <url id=\"http://www.securecoding.org\" "
"name=\"Secure Coding: Principles and Practices\"> by Mark G. Graff and "
"Kenneth R. van Wyk (O'Reilly, 2003)."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:57 en/developer.sgml:16
msgid "Best practices for security review and design"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:57 en/developer.sgml:20
msgid ""
"Developers that are packaging software should make a best effort to ensure "
"that the installation of the software, or its use, does not introduce "
"security risks to either the system it is installed on or its users."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:57 en/developer.sgml:34
msgid ""
"In order to do so, they should make their best to review the source code of "
"the package and detect any flaws that might introduce security bugs before "
"releasing the software or distributing a new version. It is acknowledged "
"that the cost of fixing bugs grows for different stages of its development, "
"so it is easier (and cheaper) to fix bugs when designing than when the "
"software has been deployed and is in maintenance mode (some studies say that "
"the cost in this later phase is <strong>sixty</strong> times "
"higher). Although there are some tools that try to automatically detect "
"these flaws, developers should strive to learn about the different kind of "
"security flaws in order to understand them and be able to spot them in the "
"code they (or others) have written."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:57 en/developer.sgml:52
msgid ""
"The programming bugs which lead to security bugs typically include: <url "
"id=\"http://en.wikipedia.org/wiki/Buffer_overflow\" name=\"buffer "
"overflows\">, format string overflows, heap overflows and integer overflows "
"(in C/C++ programs), temporary <url "
"id=\"http://en.wikipedia.org/wiki/Symlink_race\" name=\"symlink race "
"conditions\"> (in scripts), <url "
"id=\"http://en.wikipedia.org/wiki/Directory_traversal\" name=\"directory "
"traversal\"> and command injection (in servers) and <url "
"id=\"http://en.wikipedia.org/wiki/Cross_site_scripting\" name=\"cross-site "
"scripting\">, and <url id=\"http://en.wikipedia.org/wiki/SQL_injection\" "
"name=\"SQL injection bugs\"> (in the case of web-oriented applications). For "
"a more complete information on security bugs review Fortify's <url "
"id=\"http://vulncat.fortifysoftware.com/\" name=\"Taxonomy of Software "
"Security Errors\">."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:57 en/developer.sgml:62
msgid ""
"Some of these issues might not be easy to spot unless you are an expert in "
"the programming language the software uses, but some security problems are "
"easy to detect and fix. For example, finding temporary race conditions due "
"to misuse of temporary directories can easily be done just by running "
"<tt>grep -r \"/tmp/\" .</tt>. Those calls can be reviewed and replace the "
"hardcoded filenames using temporary directories to calls to either "
"<prgn>mktemp</prgn> or <prgn>tempfile</prgn> in shell scripts, <manref "
"section=\"3perl\" name=\"File::Temp\"> in Perl scripts, or <manref "
"section=\"3\" name=\"tmpfile\"> in C/C++."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:57 en/developer.sgml:70
msgid ""
"There are a set of tools available to assist to the security code review "
"phase. These include <package>rats</package>, <package>flawfinder</package> "
"and <package>pscan</package>. For more information, read the <url "
"id=\"http://www.debian.org/security/audit/tools\" name=\"list of tools used "
"by the Debian Security Audit Team\">."
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:57 en/developer.sgml:73
msgid ""
"When packaging software developers have to make sure that they follow common "
"security principles, including:"
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:57 en/developer.sgml:77
msgid "The software runs with the minimum privileges it needs:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:57 en/developer.sgml:86
msgid ""
"The package does install binaries setuid or setgid. <prgn>Lintian</prgn> "
"will warn of <url id=\" "
"http://lintian.debian.org/reports/Tsetuid-binary.html\" name=\"setuid\">, "
"<url id=\"http://lintian.debian.org/reports/Tsetgid-binary.html\" "
"name=\"setgid\"> and <url "
"id=\"http://lintian.debian.org/reports/Tsetuid-gid-binary.html\" "
"name=\"setuid and setgid\"> binaries."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:57 en/developer.sgml:89
msgid ""
"The daemons the package provide run with a low privilege user (see <ref "
"id=\"bpp-lower-privs\">)"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:57 en/developer.sgml:95
msgid ""
"Programmed (i.e., <prgn>cron</prgn>) tasks running in the system do NOT run "
"as root or, if they do, do not implement complex tasks."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:57 en/developer.sgml:105
msgid ""
"If you have to do any of the above make sure the programs that might run "
"with higher privileges have been audited for security bugs. If you are "
"unsure, or need help, contact the <url "
"id=\"http://www.debian.org/security/audit/\" name=\"Debian Security Audit "
"team\">. In the case of setuid/setgid binaries, follow the Debian policy "
"section regarding <url "
"id=\"http://www.debian.org/doc/debian-policy/ch-files.html#s10.9\" "
"name=\"permissions and owners\">"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:57 en/developer.sgml:113
msgid ""
"For more information, specific to secure programming, make sure you read (or "
"point your upstream to) <url id=\"http://www.dwheeler.com/secure-programs/\" "
"name=\"Secure Programming for Linux and Unix HOWTO\"> and the <url "
"id=\"https://buildsecurityin.us-cert.gov/portal/\" name=\"Build Security "
"In\"> portal."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:57 en/developer.sgml:121
msgid "Creating users and groups for software daemons"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:57 en/developer.sgml:128
msgid ""
"If your software runs a daemon that does not need root privileges, you need "
"to create a user for it. There are two kind of Debian users that can be used "
"by packages: static uids (assigned by <package>base-passwd</package>, for a "
"list of static users in Debian see <ref id=\"faq-os-users\">) and dynamic "
"uids in the range assigned to system users."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:57 en/developer.sgml:133
msgid ""
"In the first case, you need to ask for a user or group id to the "
"<package>base-passwd</package>. Once the user is available there the package "
"needs to be distributed including a proper versioned depends to the "
"<package>base-passwd</package> package."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:57 en/developer.sgml:137
msgid ""
"In the second case, you need to create the system user either in the "
"<em>preinst</em> or in the <em>postinst</em> and make the package depend on "
"<tt>adduser (>= 3.11)</tt>."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:57 en/developer.sgml:140
msgid ""
"The following example code creates the user and group the daemon will run as "
"when the package is installed or upgraded:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:57 en/developer.sgml:203
#, no-wrap
msgid ""
"[...]\n"
"case \"$1\" in\n"
"  install|upgrade)\n"
"\n"
"  # If the package has default file it could be sourced, so that\n"
"  # the local admin can overwrite the defaults\n"
"\n"
"  [ -f \"/etc/default/<var>packagename</var>\" ] && "
". /etc/default/<var>packagename</var>\n"
"\n"
"  # Sane defaults:\n"
"\n"
"  [ -z \"$SERVER_HOME\" ] && SERVER_HOME=<var>server_dir</var>\n"
"  [ -z \"$SERVER_USER\" ] && SERVER_USER=<var>server_user</var>\n"
"  [ -z \"$SERVER_NAME\" ] && SERVER_NAME=\"<var>Server description</var>\"\n"
"  [ -z \"$SERVER_GROUP\" ] && SERVER_GROUP=<var>server_group</var>\n"
"\n"
"  # Groups that the user will be added to, if undefined, then none.\n"
"  ADDGROUP=\"\"\n"
"\n"
"  # create user to avoid running server as root\n"
"  # 1. create group if not existing\n"
"  if ! getent group | grep -q \"^$SERVER_GROUP:\" ; then\n"
"     echo -n \"Adding group $SERVER_GROUP..\"\n"
"     addgroup --quiet --system $SERVER_GROUP 2>/dev/null ||true\n"
"     echo \"..done\"\n"
"  fi\n"
"  # 2. create homedir if not existing\n"
"  test -d $SERVER_HOME || mkdir $SERVER_HOME\n"
"  # 3. create user if not existing\n"
"  if ! getent passwd | grep -q \"^$SERVER_USER:\"; then\n"
"    echo -n \"Adding system user $SERVER_USER..\"\n"
"    adduser --quiet \\\n"
"            --system \\\n"
"            --ingroup $SERVER_GROUP \\\n"
"            --no-create-home \\\n"
"            --disabled-password \\\n"
"            $SERVER_USER 2>/dev/null || true\n"
"    echo \"..done\"\n"
"  fi\n"
"  # 4. adjust passwd entry\n"
"  usermod -c \"$SERVER_NAME\" \\\n"
"          -d $SERVER_HOME   \\\n"
"          -g $SERVER_GROUP  \\\n"
"             $SERVER_USER\n"
"  # 5. adjust file and directory permissions\n"
"  if ! dpkg-statoverride --list $SERVER_HOME >/dev/null\n"
"  then\n"
"      chown -R $SERVER_USER:adm $SERVER_HOME\n"
"      chmod u=rwx,g=rxs,o= $SERVER_HOME\n"
"  fi\n"
"  # 6. Add the user to the ADDGROUP group\n"
"  if test -n $ADDGROUP\n"
"  then\n"
"      if ! groups $SERVER_USER | cut -d: -f2 | \\\n"
"         grep -qw $ADDGROUP; then\n"
"           adduser $SERVER_USER $ADDGROUP\n"
"      fi\n"
"  fi\n"
"  ;;\n"
"  configure)\n"
"\n"
"[...]"
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:57 en/developer.sgml:207
msgid "You have to make sure that the init.d script file:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:57 en/developer.sgml:213
msgid ""
"Starts the daemon dropping privileges: if the software does not do the "
"<manref section=\"2\" name=\"setuid\"> or <manref section=\"2\" "
"name=\"seteuid\"> call itself, you can use the <tt>--chuid</tt> call of "
"<prgn>start-stop-daemon</prgn>."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:57 en/developer.sgml:217
msgid ""
"Stops the daemon only if the user id matches, you can use the "
"<prgn>start-stop-daemon</prgn> <tt>--user</tt> option for this."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:57 en/developer.sgml:218
msgid "Does not run if either the user or the group do not exist:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:57 en/developer.sgml:227
#, no-wrap
msgid ""
"  if ! getent passwd | grep -q \"^<var>server_user</var>:\"; then\n"
"     echo \"Server user does not exist. Aborting\" >&2\n"
"     exit 1\n"
"  fi\n"
"  if ! getent group | grep -q \"^<var>server_group</var>:\" ; then\n"
"     echo \"Server group does not exist. Aborting\" >&2\n"
"     exit 1\n"
"  fi"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:57 en/developer.sgml:243
msgid ""
"If the package creates the system user it can remove it when it is purged in "
"its <em>postrm</em>. This has some drawbacks, however. For example, files "
"created by it will be orphaned and might be taken over by a new system user "
"in the future if it is assigned the same uid<footnote><p>Some relevant "
"threads discussing these drawbacks include <url "
"id=\"http://lists.debian.org/debian-mentors/2004/10/msg00338.html\"> and "
"<url "
"id=\"http://lists.debian.org/debian-devel/2004/05/msg01156.html\"></p></footnote>. "
"Consequently, removing system users on purge is not yet mandatory and "
"depends on the package needs. If unsure, this action could be handled by "
"asking the administrator for the prefered action when the package is "
"installed (i.e. through <prgn>debconf</prgn>)."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:57 en/developer.sgml:251
msgid ""
"The following example code<footnote><p>This might eventually be introduced "
"as a <prgn>dh_adduser</prgn> in debhelper. See <url "
"id=\"http://bugs.debian.org/81697\" name=\"#81967\">, <url "
"id=\"http://bugs.debian.org/291177\" name=\"#291177\"> and <url "
"id=\"http://bugs.debian.org/118787\" name=\"#118787\">.</p></footnote> "
"removes the user and groups created before only, and only if, the uid is in "
"the range of dynamic assigned system uids and the gid is belongs to a system "
"group:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:57 en/developer.sgml:297
#, no-wrap
msgid ""
"case \"$1\" in\n"
" purge)\n"
"[...]\n"
"   # find first and last SYSTEM_UID numbers\n"
"   for LINE in `grep SYSTEM_UID /etc/adduser.conf | grep -v \"^#\"`; do\n"
"      case $LINE in\n"
"         FIRST_SYSTEM_UID*)\n"
"           FIST_SYSTEM_UID=`echo $LINE | cut -f2 -d '='`\n"
"           ;;\n"
"         LAST_SYSTEM_UID*)\n"
"           LAST_SYSTEM_UID=`echo $LINE | cut -f2 -d '='`\n"
"           ;;\n"
"         *)\n"
"           ;;\n"
"         esac\n"
"   done\n"
"   # Remove system account if necessary\n"
"   CREATEDUSER=\"<var>server_user</var>\"\n"
"   if [ -n \"$FIST_SYSTEM_UID\" ] && [ -n \"$LAST_SYSTEM_UID\" ]; then\n"
"    if USERID=`getent passwd $CREATEDUSER | cut -f 3 -d ':'`; then\n"
"      if [ -n \"$USERID\" ]; then\n"
"        if [ \"$FIST_SYSTEM_UID\" -le \"$USERID\" ] && \\\n"
"           [ \"$USERID\" -le \"$LAST_SYSTEM_UID\" ]; then\n"
"              echo -n \"Removing $CREATEDUSER system user..\"\n"
"              deluser --quiet $CREATEDUSER || true\n"
"              echo \"..done\"\n"
"        fi\n"
"      fi\n"
"    fi\n"
"  fi\n"
"  # Remove system group if necessary\n"
"  CREATEDGROUP=<var>server_group</var>\n"
"  FIRST_USER_GID=`grep ^USERS_GID /etc/adduser.conf | cut -f2 -d '='`\n"
"  if [ -n \"$FIST_USER_GID\" ] then\n"
"    if GROUPGID=`getent group $CREATEDGROUP | cut -f 3 -d ':'`; then\n"
"      if [ -n \"$GROUPGID\" ]; then\n"
"        if [ \"$FIST_USER_GID\" -gt \"$GROUPGID\" ]; then\n"
"          echo -n \"Removing $CREATEDGROUP group..\"\n"
"          delgroup --only-if-empty $CREATEDGROUP || true\n"
"          echo \"..done\"\n"
"        fi\n"
"      fi\n"
"    fi\n"
"  fi\n"
"[...]"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:57 en/developer.sgml:309
msgid ""
"Running programs with a user with limited privileges makes sure that any "
"security issue will not be able to damage the full system. It also follows "
"the principle of <em>least privilege</em>. Also consider you can limit "
"privileges in programs through other mechanisms besides running as "
"non-root<footnote><p>You can even provide a SELinux policy for "
"it</p></footnote>. For more information, read the <url "
"id=\"http://www.dwheeler.com/secure-programs/Secure-Programs-HOWTO/minimize-privileges.html\" "
"name=\"Minimize Privileges\"> chapter of the <em>Secure Programming for "
"Linux and Unix HOWTO</em> book."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:5
msgid "Before the compromise"
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:7
msgid "Keep your system secure"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:18
msgid ""
"You should strive to keep your system secure by monitoring its usage and "
"also the vulnerabilities that might affect it, patching them as soon as "
"patches are available. Even though you might have installed a really secure "
"system initially you have to remember that security in a system degrades "
"with time, security vulnerabilities might be found for exposed system "
"services and users might expose the system security either because of lack "
"of understanding (e.g. accessing a system remotely with a clear-text "
"protocol or using easy to guess passwords) or because they are actively "
"trying to subvert the system's security (e.g. install additional services "
"locally on their accounts)."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:20
msgid "Tracking security vulnerabilities"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:30
msgid ""
"Although most administrators are aware of security vulnerabilities affecting "
"their systems when they see a patch that is made available you can strive to "
"keep ahead of attacks and introduce temporary countermeasures for security "
"vulnerabilities by detecting when your system is vulnerable. This is "
"specially true when running an exposed system (i.e. connected to the "
"Internet) and providing a service. In such case the system's administrators "
"should take care to monitor known information sources to be the first to "
"know when a vulnerability is detected that might affect a critical service."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:38
msgid ""
"This typically includes subscribing to the announcement mailing lists, "
"project websites or bug tracking systems provided by the software developers "
"for a specific piece of code. For example, Apache users should regularly "
"review Apache's <url id=\"http://httpd.apache.org/security_report.html\" "
"name=\"lists of security vulnerabilities\"> and subscribe to the <url "
"id=\"http://httpd.apache.org/lists.html#http-announce\" name=\"Apache Server "
"Announcements\"> mailing list."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:54
msgid ""
"In order to track known vulnerabilities affecting the Debian distribution, "
"the Debian Testing Security Team provides a <url "
"id=\"http://security-tracker.debian.net/\" name=\"security tracker\"> that "
"lists all the known vulnerabilities which have not been yet fixed in Debian "
"packages. The information in that tracker is obtained through different "
"public channels and includes known vulnerabilities which are available "
"either through security vulnerability databases or <url "
"id=\"http://www.debian.org/Bugs/\" name=\"Debian's Bug Tracking "
"system\">. Administrators can search for the known security issues being "
"tracked for <url "
"id=\"http://security-tracker.debian.net/tracker/status/release/stable\" "
"name=\"stable\">, <url "
"id=\"http://security-tracker.debian.net/tracker/status/release/oldstable\" "
"name=\"oldstable\">, <url "
"id=\"http://security-tracker.debian.net/tracker/status/release/testing\" "
"name=\"testing\">, or <url "
"id=\"http://security-tracker.debian.net/tracker/status/release/unstable\" "
"name=\"unstable\">."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:59
msgid ""
"The tracker has searchable interfaces (by <url id=\"http://cve.mitre.org/\" "
"name=\"CVE\"> name and package name) and some tools (such as "
"<package>debsecan</package>, see <ref id=\"debsecan\">) use that database to "
"provide information of vulnerabilities affecting a given system which have "
"not yet been addressed (i.e. those who are pending a fix)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:64
msgid ""
"Concious administrators can use that information to determine which security "
"bugs might affect the system they are managing, determine the severity of "
"the bug and apply (if available) temporary countermeasures before a patch is "
"available fixing this issue."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:72
msgid ""
"Security issues tracked for releases supported by the Debian Security Team "
"should eventually be handled through Debian Security Advisories (DSA) and "
"will be available for all users (see <ref id=\"keep-up-to-date\">). Once "
"security issues are fixed through an advisory they will not be available in "
"the tracker, but you will be able to search security vulnerabilities (by CVE "
"name) using the <url id=\"http://www.debian.org/security/crossreferences\" "
"name=\"security cross references table\"> available for published DSAs."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:80
msgid ""
"Notice, however, that the information tracked by the Debian Testing Security "
"Team only involves disclosed vulnerabilities (i.e. those already public). In "
"some occasions the Debian Security Team might be handling and preparing DSAs "
"for packages based on undisclosed information provided to them (for example, "
"through closed vendor mailing lists or by upstream maintainers of "
"software). So do not be surprised to find security issues that only show up "
"as an advisory but never get to show up in the security tracker."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:82
msgid "Continuously update the system"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:90
msgid ""
"You should conduct security updates frequently. The vast majority of "
"exploits result from known vulnerabilities that have not been patched in "
"time, as this <url id=\"http://www.cs.umd.edu/~waa/vulnerability.html\" "
"name=\"paper by Bill Arbaugh\"> (presented at the 2001 IEEE Symposium on "
"Security and Privacy) explains. Updates are described under <ref "
"id=\"security-update\">."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:92
msgid "Manually checking which security updates are available"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:96
msgid ""
"Debian does have a specific tool to check if a system needs to be updated "
"but many users will just want to manually check if any security updates are "
"available for their system."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:99
msgid ""
"If you have configured your system as described in <ref "
"id=\"security-update\"> you just need to do:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:106
#, no-wrap
msgid ""
"# apt-get update\n"
"# apt-get upgrade -s\n"
"[ ... review packages to be upgraded ... ]\n"
"# apt-get upgrade \n"
"# checkrestart\n"
"[ ... restart services that need to be restarted ... ]"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:112
msgid ""
"And restart those services whose libraries have been updated if any. Note: "
"Read <ref id=\"security-update\"> for more information on library (and "
"kernel) upgrades."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:118
msgid ""
"The first line will download the list of packages available from your "
"configured package sources. The <tt>-s</tt> will do a simulation run, that "
"is, it will <em>not</em> download or install the packages but rather tell "
"you which ones should be downloaded/installed. From the output you can "
"derive which packages have been fixed by Debian and are available as a "
"security update. Sample:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:127
#, no-wrap
msgid ""
"# apt-get upgrade -s\n"
"Reading Package Lists... Done\n"
"Building Dependency Tree... Done\n"
"2 packages upgraded, 0 newly installed, 0 to remove and 0  not upgraded.\n"
"Inst cvs (1.11.1p1debian-8.1 Debian-Security:3.0/stable)\n"
"Inst libcupsys2 (1.1.14-4.4 Debian-Security:3.0/stable)\n"
"Conf cvs (1.11.1p1debian-8.1 Debian-Security:3.0/stable)\n"
"Conf libcupsys2 (1.1.14-4.4 Debian-Security:3.0/stable)"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:140
msgid ""
"In this example, you can see that the system needs to be updated with new "
"<package>cvs</package> and <package>cupsys</package> packages which are "
"being retrieved from <em>woody's</em> security update archive. If you want "
"to understand why these packages are needed, you should go to <url "
"id=\"http://security.debian.org\"> and check which recent Debian Security "
"Advisories have been published related to these packages. In this case, the "
"related DSAs are <url id=\"http://www.debian.org/security/2003/dsa-233\" "
"name=\"DSA-233\"> (for <package>cvs</package>) and <url "
"id=\"http://www.debian.org/security/2003/dsa-232\" name=\"DSA-232\"> (for "
"<package>cupsys</package>)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:143
msgid ""
"Notice that you will need to reboot your system if there has been a kernel "
"upgrade."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:145
msgid "Checking for updates at the Desktop"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:151
msgid ""
"Since Debian 4.0 <em>lenny</em> Debian provides and installs in a default "
"installation <package>update-notifier</package>. This is a GNOME application "
"that will startup when you enter your Desktop and can be used to keep track "
"of updates available for your system and install them. It uses "
"<package>update-manager</package> for this."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:158
msgid ""
"In a stable system updates are only available when a security patch is "
"available or at point releases. Consequently, if the system is properly "
"configured to receive security updates as described in <ref "
"id=\"security-update\"> and you have a cron task running to update the "
"package information you will be notified through an icon in the desktop "
"notifcation area."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:163
msgid ""
"The notification is not intrusive and users are not forced to install "
"updates. From the notification icon a desktop user (with the administrator's "
"password) can access a simple GUI to show available updates and install "
"them."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:169
msgid ""
"This application works by checking the package database and comparing the "
"system with its contents. If the package database is updated periodically "
"through a <prgn>cron</prgn> task then the contents of the database will be "
"newer than the packages installed in the system and the application will "
"notify you."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:175
msgid ""
"<prgn>Apt</prgn> installs such a task (<file>/etc/cron.d/apt</file>) which "
"will run based on Apt's configuration (more specifically "
"<em>APT::Periodic</em>). In the GNOME environment this configuration value "
"can be adjusted by going to System &gt; Admin &gt; Software origins &gt; "
"Updates, or running <prgn>/usr/bin/software-properties</prgn>."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:179
msgid ""
"If the system is set to download the packages list daily but not download "
"the packages themselves your <file>/etc/apt/apt.conf.d/10periodic</file> "
"should look like this:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:182
#, no-wrap
msgid ""
"APT::Periodic::Update-Package-Lists \"1\";\n"
"APT::Periodic::Download-Upgradeable-Packages \"0\";"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:188
msgid ""
"You can use a different cron task, such as the one installed by "
"<package>cron-apt</package> (see <ref id=\"cron-apt\">). You can also just "
"manually check for upgrades using this application."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:193
msgid ""
"Users of the KDE desktop environment will probably prefer to install "
"<package>adept</package> and <package>adept-notifier</package> instead which "
"offers a similar functionality but is not part of the standard installation."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:195
msgid "Automatically checking for updates with cron-apt"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:202
msgid ""
"Another method for automatic security updates is the use of "
"<package>cron-apt</package>. This package provides a tool to update the "
"system at regular intervals (using a cron job), and can also be configured "
"to send mails to the system administrator using the local mail transport "
"agent. It will just update the package list and download new packages by "
"default but it can be configured to automatically install new updates."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:208
msgid ""
"Notice that you might want to check the distribution release, as described "
"in <ref id=\"check-releases\">, if you intend to automatically updated your "
"system (even if only downloading the packages). Otherwise, you cannot be "
"sure that the downloaded packages really come from a trusted source."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:212
msgid ""
"More information is available at the <url "
"id=\"http://www.debian-administration.org/articles/162\" name=\"Debian "
"Administration site\">."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:214
msgid "Automatically checking for security issues with debsecan"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:223
msgid ""
"The <prgn>debsecan</prgn> program evaluates the security status of by "
"reporting both missing security updates and security vulnerabilities. Unlike "
"<package>cron-apt</package>, which only provides information related to "
"security updates available, but this tool obtains information from the "
"security vulnerability database maintained by the Debian Security Team which "
"includes also information on vulnerabilities which are not yet fixed through "
"a security update. Consequently, it is more efficient at helping "
"administrators track security vulnerabilities (as described in <ref "
"id=\"track-vulns\">)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:233
msgid ""
"Upon installing the Debian package <package>debsecan</package>, and if the "
"administrator consents to it, it will generate a cron task that will make it "
"run and send the output to a specific user whenever it finds a vulnerable "
"package. It will also download the information from the Internet. The "
"location of the security database is also part of the questions ask on "
"installation and are later defined <file>/etc/default/debsecan</file>, it "
"can be easily adjusted for systems that do not have Internet access so that "
"they all pull from a local mirror so that there is a single point that "
"access the vulnerability database."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:240
msgid ""
"Notice, however, that the Security Team tracks many vulnerabilities "
"including low-risk issues which might not be fixed through a security update "
"and some vulnerabilities initially reported as affecting Debian might, later "
"on, upon investigation, be dismissed. <prgn>Debsecan</prgn> will report on "
"all the vulnerabilities, which makes it a quite more verbose than the other "
"tools described above."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:245
msgid ""
"More information is available at the <url "
"id=\"http://www.enyo.de/fw/software/debsecan/\" name=\"author's siste\">."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:247
msgid "Other methods for security updates"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:254
msgid ""
"There is also the <package>apticron</package>, which, similarly to "
"<package>cron-apt</package> will check for updates and send mails to the "
"administrator. More information on apticron is available at the <url "
"id=\"http://www.debian-administration.org/articles/491\" name=\"Debian "
"Administration site\">."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:263
msgid ""
"You might also want to take a look at <url "
"id=\"http://clemens.endorphin.org/secpack/\" name=\"secpack\"> which is an "
"unofficial program to do security updates from security.debian.org with "
"signature checking written by Fruhwirth Clemens. Or to the Nagios Plugin "
"<url "
"id=\"http://www.unixdaemon.net/nagios_plugins.html#check_debian_packages\" "
"name=\"check_debian_updates.sh\"> written by Dean Wilson."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:265
msgid "Avoid using the unstable branch"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:271
msgid ""
"Unless you want to dedicate time to patch packages yourself when a "
"vulnerability arises, you should <em>not</em> use Debian's unstable branch "
"for production-level systems. The main reason for this is that there are no "
"security updates for <em>unstable</em> (see <ref id=\"sec-unstable\">)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:277
msgid ""
"The fact is that some security issues might appear in unstable and "
"<em>not</em> in the <em>stable</em> distribution. This is due to new "
"functionality constantly being added to the applications provided there, as "
"well as new applications being included which might not yet have been "
"thoroughly tested."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:284
msgid ""
"In order to do security upgrades in the <em>unstable</em> branch, you might "
"have to do full upgrades to new versions (which might update much more than "
"just the affected package). Although there have been some exceptions, "
"security patches are usually only back ported into the <em>stable</em> "
"branch. The main idea being that between updates, <em>no new code</em> "
"should be added, just fixes for important issues."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:288
msgid ""
"Notice, however, that you can use the security tracker (as described in <ref "
"id=\"track-vulns\">) to track known security vulnerabilities affecting this "
"branch."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:290
msgid "Security support for the testing branch"
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:294
msgid ""
"If you are using the <em>testing</em> branch, there are some issues that you "
"must take into account regarding the availability of security updates:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:307
msgid ""
"When a security fix is prepared, the Security Team backports the patch to "
"<em>stable</em> (since stable is usually some minor or major versions "
"behind). Package maintainers are responsible for preparing packages for the "
"<em>unstable</em> branch, usually based on a new upstream release. Sometimes "
"the changes happen at nearly the same time and sometimes one of the releases "
"gets the security fix before. Packages for the <em>stable</em> distribution "
"are more thoroughly tested than <em>unstable</em>, since the latter will in "
"most cases provide the latest upstream release (which might include new, "
"unknown bugs)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:312
msgid ""
"Security updates are available for the <em>unstable</em> branch usually when "
"the package maintainer makes a new package and for the <em>stable</em> "
"branch when the Security Team make a new upload and publish a DSA. Notice "
"that neither of these change the <em>testing</em> branch."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:320
msgid ""
"If no (new) bugs are detected in the <em>unstable</em> version of the "
"package, it moves to <em>testing</em> after several days. The time this "
"takes is usually ten days, although that depends on the upload priority of "
"the change and whether the package is blocked from entering <em>testing</em> "
"by its dependency relationships. Note that if the package is blocked from "
"entering testing the upload priority will not change the time it takes to "
"enter."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:326
msgid ""
"This behavior might change based on the release state of the "
"distribution. When a release is almost imminent, the Security Team or "
"package maintainers might provide updates directly to testing."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:332
msgid ""
"Additionally, the <url id=\"http://secure-testing-master.debian.net\" "
"name=\"Debian Testing Security Team\"> can issue Debian Testing Security "
"Advisories (DTSAs) for packages in the <em>testing</em> branch if there is "
"an inmediate need to fix a security issue in that branch and cannot wait for "
"the normal procedure (or the normal procedure is being blocked by some other "
"packages)."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:336
msgid ""
"Users willing to take advantage of this support should add the following "
"lines to their <file>/etc/apt/sources.list</file> (instead of the lines "
"described in <ref id=\"security-update\">):"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:340
#, no-wrap
msgid ""
"    deb http://security.debian.org testing/updates main contrib non-free\n"
"# This line makes it possible to donwload source packages too\n"
"    deb-src  http://security.debian.org testing/updates main contrib "
"non-free"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:345
msgid ""
"For additional information on this support please read the <url "
"id=\"http://lists.debian.org/debian-devel-announce/2006/05/msg00006.html\" "
"name=\"announcement\">. This support officially started in <url "
"id=\"http://lists.debian.org/debian-devel-announce/2005/09/msg00006.html\" "
"name=\"September 2005\"> in a separate repository and was later integrated "
"into the main security archive."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:349
msgid "Automatic updates in a Debian GNU/Linux system"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:353
msgid ""
"First of all, automatic updates are not fully recommended, since "
"administrators should review the DSAs and understand the impact of any given "
"security update."
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:355
msgid "If you want to update your system automatically you should:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:362
msgid ""
"Configure <prgn>apt</prgn> so that those packages that you do not want to "
"update stay at their current version, either with <prgn>apt</prgn>'s "
"<em>pinning</em> feature or marking them as <em>hold</em> with "
"<prgn>dpkg</prgn> or <prgn>dselect</prgn>."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:366
msgid ""
"To pin the packages under a given release, you must edit "
"<file>/etc/apt/preferences</file> (see <manref section=\"5\" "
"name=\"apt_preferences\">) and add:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:370
#, no-wrap
msgid ""
"  Package: *\n"
"  Pin: release a=stable\n"
"  Pin-Priority: 100"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:373
msgid "FIXME: verify if this configuration is OK."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:377
msgid ""
"Either use <package>cron-apt</package> as described in <ref id=\"cron-apt\"> "
"and enable it to install downloaded packages or add a <prgn>cron</prgn> "
"entry yourself so that the update is run daily, for example:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:379
#, no-wrap
msgid "  apt-get update && apt-get -y upgrade"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:390
msgid ""
"The <tt>-y</tt> option will have <prgn>apt</prgn> assume 'yes' for all the "
"prompts that might arise during the update. In some cases, you might want to "
"use the <tt>--trivial-only</tt> option instead of the <tt>--assume-yes</tt> "
"(equivalent to <tt>-y</tt>).<footnote><p>You may also want to use the "
"<tt>--quiet</tt> (<tt>-q</tt>) option to reduce the output of "
"<prgn>apt-get</prgn>, which will stop the generation of any output if no "
"packages are installed.</p></footnote>"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:395
msgid ""
"Configure <prgn>debconf</prgn> so no questions will be asked during "
"upgrades, so that they can be done non-interactively. <footnote><p>Note that "
"some packages might <em>not</em> use <prgn>debconf</prgn> and updates will "
"stall due to packages asking for user input during "
"configuration.</p></footnote>"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:399
msgid ""
"Check the results of the <prgn>cron</prgn> execution, which will be mailed "
"to the superuser (unless changed with <tt>MAILTO</tt> environment variable "
"in the script)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:406
msgid ""
"A safer alternative might be to use the <tt>-d</tt> (or "
"<tt>--download-only</tt>) option, which will download but not install the "
"necessary packages. Then if the <prgn>cron</prgn> execution shows that the "
"system needs to be updated, it can be done manually."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:410
msgid ""
"In order to accomplish any of these tasks, the system must be properly "
"configured to download security updates as discussed in <ref "
"id=\"security-update\">."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:419
msgid ""
"However, this is not recommended for <em>unstable</em> without careful "
"analysis, since you might bring your system into an unusable state if some "
"serious bug creeps into an important package and gets installed in your "
"system. <em>Testing</em> is slightly more <em>secure</em> with regard to "
"this issue, since serious bugs have a better chance of being detected before "
"the package is moved into the testing branch (although, you may have "
"<em>no</em> security updates available whatsoever)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:430
msgid ""
"If you have a mixed distribution, that is, a <em>stable</em> installation "
"with some packages updated to <em>testing</em> or <em>unstable</em>, you can "
"fiddle with the pinning preferences as well as the <tt>--target-release</tt> "
"option in <prgn>apt-get</prgn> to update <em>only</em> those packages that "
"you have updated.<footnote><p>This is a common issue since many users want "
"to maintain a stable system while updating some packages to "
"<em>unstable</em> to gain the latest functionality. This need arises due to "
"some projects evolving faster than the time between Debian's <em>stable</em> "
"releases.</p></footnote>"
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:432
msgid "Do periodic integrity checks"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:438
msgid ""
"Based on the baseline information you generated after installation (i.e. the "
"snapshot described in <ref id=\"snapshot\">), you should be able to do an "
"integrity check from time to time. An integrity check will be able to detect "
"filesystem modifications made by an intruder or due to a system "
"administrators mistake."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:450
msgid ""
"Integrity checks should be, if possible, done offline.<footnote><p>An easy "
"way to do this is using a Live CD, such as <url "
"id=\"http://www.knoppix-std.org/\" name=\"Knoppix Std\"> which includes both "
"the file integrity tools and the integrity database for your "
"system.</p></footnote> That is, without using the operating system of the "
"system to review, in order to avoid a false sense of security (i.e. false "
"negatives) produced by, for example, installed rootkits. The integrity "
"database that the system is checked against should also be used from "
"read-only media."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:457
msgid ""
"You can consider doing integrity checks online using any of the filesystem "
"integrity tools available (described in <ref id=\"check-integ\">) if taking "
"offline the system is not an option. However, precaution should be taken to "
"use a read-only integrity database and also assure that the integrity "
"checking tool (and the operating system kernel) has not been tampered with."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:465
msgid ""
"Some of the tools mentioned in the integrity tools section, such as "
"<prgn>aide</prgn>, <prgn>integrit</prgn> or <prgn>samhain</prgn> are already "
"prepared to do periodic reviews (through the crontab in the first two cases "
"and through a standalone daemon in <prgn>samhain</prgn>) and can warn the "
"administrator through different channels (usually e-mail, but "
"<prgn>samhain</prgn> can also send pages, SNMP traps or syslog alerts) when "
"the filesystem changes."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:469
msgid ""
"Of course, if you execute a security update of the system, the snapshot "
"taken for the system should be re-taken to accommodate the changes done by "
"the security update."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:472
msgid "Set up Intrusion Detection"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:479
msgid ""
"Debian GNU/Linux includes tools for intrusion detection, which is the "
"practice of detecting inappropriate or malicious activity on your local "
"system, or other systems in your private network. This kind of defense is "
"important if the system is very critical or you are truly paranoid. The most "
"common approaches to intrusion detection are statistical anomaly detection "
"and pattern-matching detection."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:484
msgid ""
"Always be aware that in order to really improve the system's security with "
"the introduction of any of these tools, you need to have an alert+response "
"mechanism in place. Intrusion detection is a waste of time if you are not "
"going to alert anyone."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:494
msgid ""
"When a particular attack has been detected, most intrusion detection tools "
"will either log the event with <prgn>syslogd</prgn> or send e-mail to the "
"root user (the mail recipient is usually configurable). An administrator has "
"to properly configure the tools so that false positives do not trigger "
"alerts. Alerts may also indicate an ongoing attack and might not be useful, "
"say, one day later, since the attack might have already succeeded. So be "
"sure that there is a proper policy on handling alerts and that the technical "
"mechanisms to implement this policy are in place."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:498
msgid ""
"An interesting source of information is <url "
"id=\"http://www.cert.org/tech_tips/intruder_detection_checklist.html\" "
"name=\"CERT's Intrusion Detection Checklist\">"
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:500
msgid "Network based intrusion detection"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:505
msgid ""
"Network based intrusion detection tools monitor the traffic on a network "
"segment and use this information as a data source. Specifically, the packets "
"on the network are examined, and they are checked to see if they match a "
"certain signature."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:516
msgid ""
"<package>snort</package> is a flexible packet sniffer or logger that detects "
"attacks using an attack signature dictionary. It detects a variety of "
"attacks and probes, such as buffer overflows, stealth port scans, CGI "
"attacks, SMB probes, and much more. <prgn>snort</prgn> also has real-time "
"alerting capability. You can use <prgn>snort</prgn> for a range of hosts on "
"your network as well as for your own host. This is a tool which should be "
"installed on every router to keep an eye on your network. Just install it "
"with <tt>apt-get install snort</tt>, follow the questions, and watch it "
"log. For a little broader security framework, see <url "
"id=\"http://www.prelude-ids.org\" name=\"Prelude\">."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:521
msgid ""
"Debian's <package>snort</package> package has many security checks enabled "
"by default. However, you should customize the setup to take into account the "
"particular services you run on your system. You may also want to seek "
"additional checks specific to these services."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:528
msgid ""
"There are other, simpler tools that can be used to detect network "
"attacks. <package>portsentry</package> is an interesting package that can "
"tip you off to port scans against your hosts. Other tools like "
"<package>ippl</package> or <package>iplogger</package> will also detect some "
"IP (TCP and ICMP) attacks, even if they do not provide the kind of advanced "
"techniques <prgn>snort</prgn> does."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:532
msgid ""
"You can test any of these tools with the Debian package "
"<package>idswakeup</package>, a shell script which generates false alarms, "
"and includes many common attack signatures."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:534
msgid "Host based intrusion detection"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:540
msgid ""
"Host based intrusion detection involves loading software on the system to be "
"monitored which uses log files and/or the systems auditing programs as a "
"data source. It looks for suspicious processes, monitors host access, and "
"may even monitor changes to critical system files."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:551
msgid ""
"<package>tiger</package> is an older intrusion detection tool which has been "
"ported to Debian since the Woody branch. <prgn>tiger</prgn> provides checks "
"of common issues related to security break-ins, like password strength, file "
"system problems, communicating processes, and other ways root might be "
"compromised. This package includes new Debian-specific security checks "
"including: MD5sums checks of installed files, locations of files not "
"belonging to packages, and analysis of local listening processes. The "
"default installation sets up <prgn>tiger</prgn> to run each day, generating "
"a report that is sent to the superuser about possible compromises of the "
"system."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:554
msgid ""
"Log analysis tools, such as <package>logcheck</package> can also be used to "
"detect intrusion attempts. See <ref id=\"custom-logcheck\">."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:561
msgid ""
"In addition, packages which monitor file system integrity (see <ref "
"id=\"check-integ\">) can be quite useful in detecting anomalies in a secured "
"environment. It is most likely that an effective intrusion will modify some "
"files in the local file system in order to circumvent local security policy, "
"install Trojans, or create users. Such events can be detected with file "
"system integrity checkers."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:563
msgid "Avoiding root-kits"
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:565
msgid "Loadable Kernel Modules (LKM)"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:573
msgid ""
"Loadable kernel modules are files containing dynamically loadable kernel "
"components used to expand the functionality of the kernel. The main benefit "
"of using modules is the ability to add additional devices, like an Ethernet "
"or sound card, without patching the kernel source and recompiling the entire "
"kernel. However, crackers are now using LKMs for root-kits (knark and "
"adore), opening up back doors in GNU/Linux systems."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:581
msgid ""
"LKM back doors are more sophisticated and less detectable than traditional "
"root-kits. They can hide processes, files, directories and even connections "
"without modifying the source code of binaries. For example, a malicious LKM "
"can force the kernel into hiding specific processes from "
"<file>procfs</file>, so that even a known good copy of the binary "
"<prgn>ps</prgn> would not list accurate information about the current "
"processes on the system."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:583
msgid "Detecting root-kits"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:588
msgid ""
"There are two approaches to defending your system against LKM root-kits, a "
"proactive defense and a reactive defense. The detection work can be simple "
"and painless, or difficult and tiring, depending on the approach taken."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:590
msgid "Proactive defense"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:600
msgid ""
"The advantage of this kind of defense is that it prevents damage to the "
"system in the first place. One such strategy is <em>getting there "
"first</em>, that is, loading an LKM designed to protect the system from "
"other malicious LKMs. A second strategy is to remove capabilities from the "
"kernel itself. For example, you can remove the capability of loadable kernel "
"modules entirely. Note, however, that there are rootkits which might work "
"even in this case, there are some that tamper with <file>/dev/kmem</file> "
"(kernel memory) directly to make themselves undetectable."
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:603
msgid ""
"Debian GNU/Linux has a few packages that can be used to mount a proactive "
"defense:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:653
msgid ""
"<package>lcap</package> - A user friendly interface to remove "
"<em>capabilities</em> (kernel-based access control) in the kernel, making "
"the system more secure. For example, executing <tt>lcap CAP_SYS_MODULE</tt> "
"<footnote><p>There are over 28 capabilities including: <tt>CAP_BSET</tt>, "
"<tt>CAP_CHOWN</tt>, <tt>CAP_FOWNER</tt>, <tt>CAP_FSETID</tt>, "
"<tt>CAP_FS_MASK</tt>, <tt>CAP_FULL_SET</tt>, <tt>CAP_INIT_EFF_SET</tt>, "
"<tt>CAP_INIT_INH_SET</tt>, <tt>CAP_IPC_LOCK</tt>, <tt>CAP_IPC_OWNER</tt>, "
"<tt>CAP_KILL</tt>, <tt>CAP_LEASE</tt>, <tt>CAP_LINUX_IMMUTABLE</tt>, "
"<tt>CAP_MKNOD</tt>, <tt>CAP_NET_ADMIN</tt>, <tt>CAP_NET_BIND_SERVICE</tt>, "
"<tt>CAP_NET_RAW</tt>, <tt>CAP_SETGID</tt>, <tt>CAP_SETPCAP</tt>, "
"<tt>CAP_SETUID</tt>, <tt>CAP_SYS_ADMIN</tt>, <tt>CAP_SYS_BOOT</tt>, "
"<tt>CAP_SYS_CHROOT</tt>, <tt>CAP_SYS_MODULE</tt>, <tt>CAP_SYS_NICE</tt>, "
"<tt>CAP_SYS_PACCT</tt>, <tt>CAP_SYS_PTRACE</tt>, <tt>CAP_SYS_RAWIO</tt>, "
"<tt>CAP_SYS_RESOURCE</tt>, <tt>CAP_SYS_TIME</tt>, and "
"<tt>CAP_SYS_TTY_CONFIG</tt>. All of them can be de-activated to harden your "
"kernel.</p></footnote> will remove module loading capabilities (even for the "
"root user).<footnote><p>You don't need to install <package>lcap</package> to "
"do this, but it's easier than setting "
"<file>/proc/sys/kernel/cap-bound</file> by hand.</p></footnote> There is "
"some (old) information on capabilities at Jon Corbet's <url "
"id=\"http://lwn.net/1999/1202/kernel.php3\" name=\"Kernel development\"> "
"section on LWN (dated December 1999)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:664
msgid ""
"If you don't really need many kernel features on your GNU/Linux system, you "
"may want to disable loadable modules support during kernel configuration. To "
"disable loadable module support, just set CONFIG_MODULES=n during the "
"configuration stage of building your kernel, or in the <file>.config</file> "
"file. This will prevent LKM root-kits, but you lose this powerful feature of "
"the Linux kernel. Also, disabling loadable modules can sometimes overload "
"the kernel, making loadable support necessary."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:666
msgid "Reactive defense"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:672
msgid ""
"The advantage of a reactive defense is that it does not overload system "
"resources. It works by comparing the system call table with a known clean "
"copy in a disk file, <file>System.map</file>. Of course, a reactive defense "
"will only notify the system administrator after the system has already been "
"compromised."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:677
msgid ""
"Detection of some root-kits in Debian can be accomplished with the "
"<package>chkrootkit</package> package. The <url "
"id=\"http://www.chkrootkit.org\" name=\"Chkrootkit\"> program checks for "
"signs of several known root-kits on the target system, but is not a "
"definitive test."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:679
msgid "Genius/Paranoia Ideas &mdash; what you could do"
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:684
msgid ""
"This is probably the most unstable and funny section, since I hope that some "
"of the \"duh, that sounds crazy\" ideas might be realized. The following are "
"just some ideas for increasing security &mdash; maybe genius, paranoid, "
"crazy or inspired depending on your point of view."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:692
msgid ""
"Playing around with Pluggable Authentication Modules (PAM). As quoted in the "
"Phrack 56 PAM article, the nice thing about PAM is that \"You are limited "
"only by what you can think of.\" It is true. Imagine root login only being "
"possible with fingerprint or eye scan or cryptocard (why did I use an OR "
"conjunction instead of AND?)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:698
msgid ""
"Fascist Logging. I would refer to all the previous logging discussion above "
"as \"soft logging\". If you want to perform real logging, get a printer with "
"fanfold paper, and send all logs to it. Sounds funny, but it's reliable and "
"it cannot be tampered with or removed."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:707
msgid ""
"CD distribution. This idea is very easy to realize and offers pretty good "
"security. Create a hardened Debian distribution, with proper firewall "
"rules. Turn it into a boot-able ISO image, and burn it on a CDROM. Now you "
"have a read-only distribution, with about 600 MB space for services. Just "
"make sure all data that should get written is done over the network. It is "
"impossible for intruders to get read/write access on this system, and any "
"changes an intruder does make can be disabled with a reboot of the system."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:712
msgid ""
"Switch module capability off. As discussed earlier, when you disable the "
"usage of kernel modules at kernel compile time, many kernel based back doors "
"are impossible to implement because most are based on installing modified "
"kernel modules."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:725
msgid ""
"Logging through serial cable (contributed by Gaby Schilders). As long as "
"servers still have serial ports, imagine having one dedicated logging system "
"for a number of servers. The logging system is disconnected from the "
"network, and connected to the servers via a serial-port multiplexer "
"(Cyclades or the like). Now have all your servers log to their serial ports, "
"write only. The log-machine only accepts plain text as input on its serial "
"ports and only writes to a log file. Connect a CD/DVD-writer, and transfer "
"the log file to it when the log file reaches the capacity of the media. Now "
"if only they would make CD writers with auto-changers... Not as hard copy as "
"direct logging to a printer, but this method can handle larger volumes and "
"CD-ROMs use less storage space."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:736
msgid ""
"Change file attributes using <prgn>chattr</prgn> (taken from the Tips-HOWTO, "
"written by Jim Dennis). After a clean install and initial configuration, use "
"the <prgn>chattr</prgn> program with the <tt>+i</tt> attribute to make files "
"unmodifiable (the file cannot be deleted, renamed, linked or written "
"to). Consider setting this attribute on all the files in <file>/bin</file>, "
"<file>/sbin/</file>, <file>/usr/bin</file>, <file>/usr/sbin</file>, "
"<file>/usr/lib</file> and the kernel files in root. You can also make a copy "
"of all files in <file>/etc/</file>, using <prgn>tar</prgn> or the like, and "
"mark the archive as immutable."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:742
msgid ""
"This strategy will help limit the damage that you can do when logged in as "
"root. You won't overwrite files with a stray redirection operator, and you "
"won't make the system unusable with a stray space in a <prgn>rm -fr</prgn> "
"command (you might still do plenty of damage to your data &mdash; but your "
"libraries and binaries will be safer)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:747
msgid ""
"This strategy also makes a variety of security and denial of service (DoS) "
"exploits either impossible or more difficult (since many of them rely on "
"overwriting a file through the actions of some SETUID program that <em>isn't "
"providing an arbitrary shell command</em>)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:757
msgid ""
"One inconvenience of this strategy arises during building and installing "
"various system binaries. On the other hand, it prevents the <prgn>make "
"install</prgn> from over-writing the files. When you forget to read the "
"Makefile and <prgn>chattr -i</prgn> the files that are to be overwritten, "
"(and the directories to which you want to add files) &dash; the make command "
"fails, and you just use the <prgn>chattr</prgn> command and rerun it. You "
"can also take that opportunity to move your old bin's and libs out of the "
"way, into a .old/ directory or tar archive for example."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:763
msgid ""
"Note that this strategy also prevents you from upgrading your system's "
"packages, since the files updated packages provide cannot be "
"overwritten. You might want to have a script or other mechanism to disable "
"the immutable flag on all binaries right before doing an <prgn>apt-get "
"update</prgn>."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:768
msgid ""
"Play with UTP cabling in a way that you cut 2 or 4 wires and make the cable "
"one-way traffic only. Then use UDP packets to send information to the "
"destination machine which can act as a secure log server or a credit card "
"storage system."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:772
msgid "Building a honeypot"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:779
msgid ""
"A honeypot is a system designed to teach system administrators how crackers "
"probe for and exploit a system. It is a system setup with the expectation "
"and goal that the system will be probed, attacked and potentially "
"exploited. By learning the tools and methods employed by the cracker, a "
"system administrator can learn to better protect their own systems and "
"network."
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:791
msgid ""
"Debian GNU/Linux systems can easily be used to setup a honeynet, if you "
"dedicate the time to implement and monitor it. You can easily setup the fake "
"honeypot server as well as the firewall<footnote><p>You will typically use a "
"bridge firewall so that the firewall itself is not detectable, see <ref "
"id=\"bridge-fw\">.</p></footnote> that controls the honeynet and some sort "
"of network intrusion detector, put it on the Internet, and wait. Do take "
"care that if the system is exploited, you are alerted in time (see <ref "
"id=\"log-alerts\">) so that you can take appropriate measures and terminate "
"the compromise when you've seen enough. Here are some of the packages and "
"issues to consider when setting up your honeypot:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:796
msgid "The firewall technology you will use (provided by the Linux kernel)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:799
msgid ""
"<package>syslog-ng</package>, useful for sending logs from the honeypot to a "
"remote syslog server."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:802
msgid ""
"<package>snort</package>, to set up capture of all the incoming network "
"traffic to the honeypot and detect the attacks."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:805
msgid ""
"<package>osh</package>, a SETUID root, security enhanced, restricted shell "
"with logging (see Lance Spitzner's article below)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:810
msgid ""
"Of course, all the daemons you will be using for your fake server "
"honeypot. Depending on what type of attacker you want to analyse you will or "
"will <em>not</em> harden the honeypot and keep it up to date with security "
"patches."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:813
msgid ""
"Integrity checkers (see <ref id=\"check-integ\">) and The Coroner's Toolkit "
"(<package>tct</package>) to do post-attack audits."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:818
msgid ""
"<package>honeyd</package> and <package>farpd</package> to setup a honeypot "
"that will listen to connections to unused IP addresses and forward them to "
"scripts simulating live services. Also check out "
"<package>iisemulator</package>."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:821
msgid ""
"<package>tinyhoneypot</package> to setup a simple honeypot server with fake "
"services."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:58 en/before-compromise.sgml:831
msgid ""
"If you cannot use spare systems to build up the honeypots and the network "
"systems to protect and control it you can use the virtualisation technology "
"available in <prgn>xen</prgn> or <prgn>uml</prgn> (User-Mode-Linux). If you "
"take this route you will need to patch your kernel with either "
"<package>kernel-patch-xen</package> or <package>kernel-patch-uml</package>."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:59 en/after-compromise.sgml:3
msgid ""
"You can read more about building honeypots in Lanze Spitzner's excellent "
"article <url "
"id=\"http://www.net-security.org/text/articles/spitzner/honeypot.shtml\" "
"name=\"To Build a Honeypot\"> (from the Know your Enemy series). Also, the "
"<url id=\"http://project.honeynet.org/\" name=\"Honeynet Project\"> provides "
"valuable information about building honeypots and auditing the attacks made "
"on them."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:59 en/after-compromise.sgml:5
msgid "After the compromise (incident response)"
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:59 en/after-compromise.sgml:7
msgid "General behavior"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:59 en/after-compromise.sgml:14
msgid ""
"If you are physically present when an attack is happening, your first "
"response should be to remove the machine from the network by unplugging the "
"network card (if this will not adversely affect any business "
"transactions). Disabling the network at layer 1 is the only true way to keep "
"the attacker out of the compromised box (Phillip Hofmeister's wise advice)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:59 en/after-compromise.sgml:35
msgid ""
"However, some tools installed by rootkits, trojans and, even, a rogue user "
"connected through a back door, might be capable of detecting this event and "
"react to it. Seeing a <tt>rm -rf /</tt> executed when you unplug the network "
"from the system is not really much fun. If you are unwilling to take the "
"risk, and you are sure that the system is compromised, you should <em>unplug "
"the power cable</em> (all of them if more than one) and cross your "
"fingers. This may be extreme but, in fact, will avoid any logic-bomb that "
"the intruder might have programmed. In this case, the compromised system "
"<em>should not be re-booted</em>. Either the hard disks should be moved to "
"another system for analysis, or you should use other media (a CD-ROM) to "
"boot the system and analyze it. You should <em>not</em> use Debian's rescue "
"disks to boot the system, but you <em>can</em> use the shell provided by the "
"installation disks (remember, Alt+F2 will take you to it) to analyze "
"<footnote><p>If you are adventurous, you can login to the system and save "
"information on all running processes (you'll get a lot from /proc/nnn/). It "
"is possible to get the whole executable code from memory, even if the "
"attacker has deleted the executable files from disk. Then pull the power "
"cord.</p></footnote> the system."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:59 en/after-compromise.sgml:51
msgid ""
"The most recommended method for recovering a compromised system is to use a "
"live-filesystem on CD-ROM with all the tools (and kernel modules) you might "
"need to access the compromised system. You can use the "
"<package>mkinitrd-cd</package> package to build such a CD-ROM<footnote><p>In "
"fact, this is the tool used to build the CD-ROMs for the <url "
"id=\"http://www.gibraltar.at/\" name=\"Gibraltar\"> project (a firewall on a "
"live CD-ROM based on the Debian distribution).</p></footnote>. You might "
"find the <url id=\"http://www.caine-live.net/\" name=\"Caine\"> (Computer "
"Aided Investigative Environment) CD-ROM useful here too, since it's also a "
"live CD-ROM under active development with forensic tools useful in these "
"situations. There is not (yet) a Debian-based tool such as this, nor an easy "
"way to build the CD-ROM using your own selection of Debian packages and "
"<package>mkinitrd-cd</package> (so you'll have to read the documentation "
"provided with it to make your own CD-ROMs)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:59 en/after-compromise.sgml:65
msgid ""
"If you really want to fix the compromise quickly, you should remove the "
"compromised host from your network and re-install the operating system from "
"scratch. Of course, this may not be effective because you will not learn how "
"the intruder got root in the first place. For that case, you must check "
"everything: firewall, file integrity, log host, log files and so on. For "
"more information on what to do following a break-in, see <url "
"id=\"http://www.cert.org/tech_tips/root_compromise.html\" name=\"CERT's "
"Steps for Recovering from a UNIX or NT System Compromise\"> or SANS's <url "
"id=\"http://www.sans.org/reading_room/whitepapers/incident/\" "
"name=\"Incident Handling whitepapers\">."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:59 en/after-compromise.sgml:68
msgid ""
"Some common questions on how to handle a compromised Debian GNU/Linux system "
"are also available in <ref id=\"vulnerable-system\">."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:59 en/after-compromise.sgml:70
msgid "Backing up the system"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:59 en/after-compromise.sgml:75
msgid ""
"Remember that if you are sure the system has been compromised you cannot "
"trust the installed software or any information that it gives back to "
"you. Applications might have been trojanized, kernel modules might be "
"installed, etc."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:59 en/after-compromise.sgml:84
msgid ""
"The best thing to do is a complete file system backup copy (using "
"<prgn>dd</prgn>) after booting from a safe medium. Debian GNU/Linux CD-ROMs "
"can be handy for this since they provide a shell in console 2 when the "
"installation is started (jump to it using Alt+2 and pressing Enter). From "
"this shell, backup the information to another host if possible (maybe a "
"network file server through NFS/FTP). Then any analysis of the compromise or "
"re-installation can be performed while the affected system is offline."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:59 en/after-compromise.sgml:89
msgid ""
"If you are sure that the only compromise is a Trojan kernel module, you can "
"try to run the kernel image from the Debian CD-ROM in <em>rescue</em> "
"mode. Make sure to startup in <em>single user</em> mode, so no other Trojan "
"processes run after the kernel."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:59 en/after-compromise.sgml:90
msgid "Contact your local CERT"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:59 en/after-compromise.sgml:121
msgid ""
"The CERT (Computer and Emergency Response Team) is an organization that can "
"help you recover from a system compromise. There are CERTs worldwide "
"<footnote><p>This is a list of some CERTs, for a full list look at the <url "
"id=\"http://www.first.org/about/organization/teams/index.html\" name=\"FIRST "
"Member Team information\"> (FIRST is the Forum of Incident Response and "
"Security Teams): <url id=\"http://www.auscert.org.au\" name=\"AusCERT\"> "
"(Australia), <url id=\"http://www.unam-cert.unam.mx/\" name=\"UNAM-CERT\"> "
"(Mexico) <url id=\"http://www.cert.funet.fi\" name=\"CERT-Funet\"> "
"(Finland), <url id=\"http://www.dfn-cert.de\" name=\"DFN-CERT\"> (Germany), "
"<url id=\"http://cert.uni-stuttgart.de/\" name=\"RUS-CERT\"> (Germany), <url "
"id=\"http://security.dico.unimi.it/\" name=\"CERT-IT\"> (Italy), <url "
"id=\"http://www.jpcert.or.jp/\" name=\"JPCERT/CC\"> (Japan), <url "
"id=\"http://cert.uninett.no\" name=\"UNINETT CERT\"> (Norway), <url "
"id=\"http://www.cert.hr\" name=\"HR-CERT\"> (Croatia) <url "
"id=\"http://www.cert.pl\" name=\"CERT Polskay\"> (Poland), <url "
"id=\"http://www.cert.ru\" name=\"RU-CERT\"> (Russia), <url "
"id=\"http://www.arnes.si/si-cert/\" name=\"SI-CERT\"> (Slovenia) <url "
"id=\"http://www.rediris.es/cert/\" name=\"IRIS-CERT\"> (Spain), <url "
"id=\"http://www.switch.ch/cert/\" name=\"SWITCH-CERT\"> (Switzerland), <url "
"id=\"http://www.cert.org.tw\" name=\"TWCERT/CC\"> (Taiwan), and <url "
"id=\"http://www.cert.org\" name=\"CERT/CC\"> (US).</p></footnote> and you "
"should contact your local CERT in the event of a security incident which has "
"lead to a system compromise. The people at your local CERT can help you "
"recover from it."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:59 en/after-compromise.sgml:135
msgid ""
"Providing your local CERT (or the CERT coordination center) with information "
"on the compromise even if you do not seek assistance can also help others "
"since the aggregate information of reported incidents is used in order to "
"determine if a given vulnerability is in wide spread use, if there is a new "
"worm aloft, which new attack tools are being used. This information is used "
"in order to provide the Internet community with information on the <url "
"id=\"http://www.cert.org/current/\" name=\"current security incidents "
"activity\">, and to publish <url id=\"http://www.cert.org/incident_notes/\" "
"name=\"incident notes\"> and even <url "
"id=\"http://www.cert.org/advisories/\" name=\"advisories\">. For more "
"detailed information read on how (and why) to report an incident read <url "
"id=\"http://www.cert.org/tech_tips/incident_reporting.html\" name=\"CERT's "
"Incident Reporting Guidelines\">."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:59 en/after-compromise.sgml:144
msgid ""
"You can also use less formal mechanisms if you need help for recovering from "
"a compromise or want to discuss incident information. This includes the <url "
"id=\"http://marc.theaimsgroup.com/?l=incidents\" name=\"incidents mailing "
"list\"> and the <url id=\"http://marc.theaimsgroup.com/?l=intrusions\" "
"name=\"Intrusions mailing list\">."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:59 en/after-compromise.sgml:146
msgid "Forensic analysis"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:59 en/after-compromise.sgml:157
msgid ""
"If you wish to gather more information, the <package>tct</package> (The "
"Coroner's Toolkit from Dan Farmer and Wietse Venema) package contains "
"utilities which perform a <em>post mortem</em> analysis of a "
"system. <package>tct</package> allows the user to collect information about "
"deleted files, running processes and more. See the included documentation "
"for more information. These same utilities and some others can be found in "
"<url id=\"http://www.sleuthkit.org/\" name=\"Sleuthkit and Autopsy\"> by "
"Brian Carrier, which provides a web front-end for forensic analysis of disk "
"images. In Debian you can find both <package>sleuthkit</package> (the tools) "
"and <package>autopsy</package> (the graphical front-end)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:59 en/after-compromise.sgml:161
msgid ""
"Remember that forensics analysis should be done always on the backup copy of "
"the data, <em>never</em> on the data itself, in case the data is altered "
"during analysis and the evidence is lost."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:59 en/after-compromise.sgml:179
msgid ""
"You will find more information on forensic analysis in Dan Farmer's and "
"Wietse Venema's <url "
"id=\"http://www.porcupine.org/forensics/forensic-discovery/\" "
"name=\"Forensic Discovery\"> book (available online), as well as in their "
"<url id=\"http://www.porcupine.org/forensics/column.html\" name=\"Computer "
"Forensics Column\"> and their <url "
"id=\"http://www.porcupine.org/forensics/handouts.html\" name=\"Computer "
"Forensic Analysis Class handouts\">. Brian Carrier's newsletter <url "
"id=\"http://www.sleuthkit.org/informer/index.php\" name=\"The Sleuth Kit "
"Informer\"> is also a very good resource on forensic analysis tips. Finally, "
"the <url id=\"http://www.honeynet.org/misc/chall.html\" name=\"Honeynet "
"Challenges\"> are an excellent way to hone your forensic analysis skills as "
"they include real attacks against honeypot systems and provide challenges "
"that vary from forensic analysis of disks to firewall logs and packet "
"captures. For information about available forensics packages in Debian visit "
"<url id=\"http://forensics.alioth.debian.org/\" name=\"Debian Forensics\">"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:59 en/after-compromise.sgml:182
msgid ""
"FIXME: This paragraph will hopefully provide more information about "
"forensics in a Debian system in the coming future."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:59 en/after-compromise.sgml:186
msgid ""
"FIXME: Talk on how to do a debsums on a stable system with the MD5sums on CD "
"and with the recovered file system restored on a separate partition."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:59 en/after-compromise.sgml:190
msgid ""
"FIXME: Add pointers to forensic analysis papers (like the Honeynet's reverse "
"challenge or <url id=\"http://staff.washington.edu/dittrich/\" name=\"David "
"Dittrich's papers\">)."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:59 en/after-compromise.sgml:191
msgid "Analysis of malware"
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:59 en/after-compromise.sgml:194
msgid ""
"Some other tools that can be used for forensic analysis provided in the "
"Debian distribution are:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:59 en/after-compromise.sgml:196
msgid "<package>strace</package>."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:59 en/after-compromise.sgml:197
msgid "<package>ltrace</package>."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:59 en/after-compromise.sgml:205
msgid ""
"Any of these packages can be used to analyze rogue binaries (such as back "
"doors), in order to determine how they work and what they do to the "
"system. Some other common tools include <prgn>ldd</prgn> (in "
"<package>libc6</package>), <prgn>strings</prgn> and <prgn>objdump</prgn> "
"(both in <package>binutils</package>)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:59 en/after-compromise.sgml:214
msgid ""
"If you try to do forensic analysis with back doors or suspected binaries "
"retrieved from compromised systems, you should do so in a secure environment "
"(for example in a <package>bochs</package> or <package>xen</package> image "
"or a <prgn>chroot</prgn>'ed environment using a user with low "
"privileges<footnote><p>Be <em>very</em> careful if using chroots, since if "
"the binary uses a kernel-level exploit to increase its privileges it might "
"still be able to infect your system</p></footnote>). Otherwise your own "
"system can be back doored/r00ted too!"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:3
msgid ""
"If you are interested in malware analysis then you should read the <url "
"id=\"http://www.porcupine.org/forensics/forensic-discovery/chapter6.html\" "
"name=\"Malware Analysis Basics\"> chapter of Dan Farmer's and Wietse "
"Venema's forensics book."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:5
msgid "Frequently asked Questions (FAQ)"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:9
msgid ""
"This chapter introduces some of the most common questions from the Debian "
"security mailing list. You should read them before posting there or else "
"people might tell you to RTFM."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:11
msgid "Security in the Debian operating system"
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:13
msgid "Is Debian more secure than X?"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:20
msgid ""
"A system is only as secure as its administrator is capable of making "
"it. Debian's default installation of services aims to be <em>secure</em>, "
"but may not be as paranoid as some other operating systems which install all "
"services <em>disabled by default</em>. In any case, the system administrator "
"needs to adapt the security of the system to his local security policy."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:41
msgid ""
"For a collection of data regarding security vulnerabilities for many "
"operating systems, see the <url "
"id=\"http://www.cert.org/stats/cert_stats.html\" name=\"US-CERT stats\"> or "
"generate stats using the <url id=\"http://nvd.nist.gov/statistics.cfm\" "
"name=\"National Vulnerability Database\"> (formerly ICAT) Is this data "
"useful? There are several factors to consider when interpreting the data, "
"and it is worth noticing that the data cannot be used to compare the "
"vulnerabilities of one operating system versus another.<footnote><p>For "
"example, based on some data, it might seem that Windows NT is more secure "
"than Linux, which is a questionable assertion. After all, Linux "
"distributions usually provide many more applications compared to Microsoft's "
"Windows NT. This <em>counting vulnerabilities</em> issues are better "
"described in <url id=\"http://www.dwheeler.com/oss_fs_why.html#security\" "
"name=\"Why Open Source Software / Free Software (OSS/FS)? Look at the "
"Numbers!\"> by David A. Wheeler</p></footnote> Also, keep in mind that some "
"reported vulnerabilities regarding Debian apply only to the "
"<em>unstable</em> (i.e. unreleased) branch."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:44
msgid ""
"Is Debian more secure than other Linux distributions (such as Red Hat, "
"SuSE...)?"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:52
msgid ""
"There are not really many differences between Linux distributions, with "
"exceptions to the base installation and package management system. Most "
"distributions share many of the same applications, with differences mainly "
"in the versions of these applications that are shipped with the "
"distribution's stable release. For example, the kernel, Bind, Apache, "
"OpenSSH, Xorg, gcc, zlib, etc. are all common across Linux distributions."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:59
msgid ""
"For example, Red Hat was unlucky and shipped when foo 1.2.3 was current, "
"which was then later found to have a security hole. Debian, on the other "
"hand, was lucky enough to ship foo 1.2.4, which incorporated the bug "
"fix. That was the case in the big <url "
"id=\"http://www.cert.org/advisories/CA-2000-17.html\" name=\"rpc.statd\"> "
"problem from a couple years ago."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:68
msgid ""
"There is a lot of collaboration between the respective security teams for "
"the major Linux distributions. Known security updates are rarely, if ever, "
"left unfixed by a distribution vendor. Knowledge of a security vulnerability "
"is never kept from another distribution vendor, as fixes are usually "
"coordinated upstream, or by <url id=\"http://www.cert.org\" "
"name=\"CERT\">. As a result, necessary security updates are usually released "
"at the same time, and the relative security of the different distributions "
"is very similar."
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:72
msgid ""
"One of Debian's main advantages with regards to security is the ease of "
"system updates through the use of <prgn>apt</prgn>. Here are some other "
"aspects of security in Debian to consider:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:77
msgid ""
"Debian provides more security tools than other distributions, see <ref "
"id=\"sec-tools\">."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:92
msgid ""
"Debian's standard installation is smaller (less functionality), and thus "
"more secure. Other distributions, in the name of usability, tend to install "
"many services by default, and sometimes they are not properly configured "
"(remember the <url "
"id=\"http://www.sophos.com/virusinfo/analyses/linuxlion.html\" "
"name=\"Lion\"> <url "
"id=\"http://www.sophos.com/virusinfo/analyses/linuxramen.html\" "
"name=\"Ramen\">). Debian's installation is not as limited as OpenBSD (no "
"daemons are active per default), but it's a good "
"compromise. <footnote><p>Without diminishing the fact that some "
"distributions, such as Red Hat or Mandrake, are also taking into account "
"security in their standard installations by having the user select "
"<em>security profiles</em>, or using wizards to help with configuration of "
"<em>personal firewalls</em>.</p></footnote>"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:95
msgid "Debian documents best security practices in documents like this one."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:100
msgid ""
"There are many Debian bugs in Bugtraq. Does this mean that it is very "
"vulnerable?"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:105
msgid ""
"The Debian distribution boasts a large and growing number of software "
"packages, probably more than provided by many proprietary operating "
"systems. The more packages installed, the greater the potential for security "
"issues in any given system."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:111
msgid ""
"More and more people are examining source code for flaws. There are many "
"advisories related to source code audits of the major software components "
"included in Debian. Whenever such source code audits turn up security flaws, "
"they are fixed and an advisory is sent to lists such as Bugtraq."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:115
msgid ""
"Bugs that are present in the Debian distribution usually affect other "
"vendors and distributions as well. Check the \"Debian specific: yes/no\" "
"section at the top of each advisory (DSA)."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:117
msgid "Does Debian have any certification related to security?"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:119
msgid "Short answer: no."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:129
msgid ""
"Long answer: certification costs money (specially a <em>serious</em> "
"security certification), nobody has dedicated the resources in order to "
"certify Debian GNU/Linux to any level of, for example, the <url "
"id=\"http://niap.nist.gov/cc-scheme/st/\" name=\"Common Criteria\">. If you "
"are interested in having a security-certified GNU/Linux distribution, try to "
"provide the resources needed to make it possible."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:136
msgid ""
"There are currently at least two linux distributions certified at different "
"<url id=\"http://en.wikipedia.org/wiki/Evaluation_Assurance_Level\" "
"name=\"EAL\"> levels. Notice that some of the CC tests are being integrated "
"into the <url id=\"http://ltp.sourceforge.net\" name=\"Linux Testing "
"Project\"> which is available in Debian in the <package>ltp</package>."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:138
msgid "Are there any hardening programs for Debian?"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:145
msgid ""
"Yes. <url id=\"http://www.bastille-unix.org\" name=\"Bastille Linux\">, "
"originally oriented toward other Linux distributions (Red Hat and Mandrake), "
"currently works for Debian. Steps are being taken to integrate the changes "
"made to the upstream version into the Debian package, named "
"<package>bastille</package>."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:148
msgid ""
"Some people believe, however, that a hardening tool does not eliminate the "
"need for good administration."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:150
msgid "I want to run XYZ service, which one should I choose?"
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:158
msgid ""
"One of Debian's great strengths is the wide variety of choice available "
"between packages that provide the same functionality (DNS servers, mail "
"servers, ftp servers, web servers, etc.). This can be confusing to the "
"novice administrator when trying to determine which package is right for "
"you. The best match for a given situation depends on a balance between your "
"feature and security needs. Here are some questions to ask yourself when "
"deciding between similar packages:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:162
msgid "Is the software maintained upstream? When was the last release?"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:166
msgid ""
"Is the package mature? The version number really does <em>not</em> tell you "
"about its maturity. Try to trace the software's history."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:169
msgid ""
"Is the software bug-ridden? Have there been security advisories related to "
"it?"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:172
msgid ""
"Does the software provide all the functionality you need? Does it provide "
"more than you really need?"
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:177
msgid "How can I make service XYZ more secure in Debian?"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:185
msgid ""
"You will find information in this document to make some services (FTP, Bind) "
"more secure in Debian GNU/Linux. For services not covered here, check the "
"program's documentation, or general Linux information. Most of the security "
"guidelines for Unix systems also apply to Debian. In most cases, securing "
"service X in Debian is like securing that service in any other Linux "
"distribution (or Un*x, for that matter)."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:187
msgid "How can I remove all the banners for services?"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:195
msgid ""
"If you do not like users connecting to your POP3 daemon, for example, and "
"retrieving information about your system, you might want to remove (or "
"change) the banner the service shows to users. <footnote><p>Note that this "
"is 'security by obscurity', and will probably not be worth the effort in the "
"long term.</p></footnote> Doing so depends on the software you are running "
"for a given service. For example, in <prgn>postfix</prgn>, you can set your "
"SMTP banner in <file>/etc/postfix/main.cf</file>:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:197
#, no-wrap
msgid "  smtpd_banner = $myhostname ESMTP $mail_name (Debian/GNU)"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:205
msgid ""
"Other software is not as easy to change. <package>ssh</package> will need to "
"be recompiled in order to change the version that it prints. Take care not "
"to remove the first part (<tt>SSH-2.0</tt>) of the banner, which clients use "
"to identify which protocol(s) is supported by your package."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:207
msgid "Are all Debian packages safe?"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:219
msgid ""
"The Debian security team cannot possibly analyze all the packages included "
"in Debian for potential security vulnerabilities, since there are just not "
"enough resources to source code audit the whole project. However, Debian "
"does benefit from the source code audits made by upstream developers."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:225
msgid ""
"As a matter of fact, a Debian developer could distribute a Trojan in a "
"package, and there is no possible way to check it out. Even if introduced "
"into a Debian branch, it would be impossible to cover all the possible "
"situations in which the Trojan would execute. This is why Debian has a "
"<em>\"no guarantees\"</em> license clause."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:234
msgid ""
"However, Debian users can take confidence in the fact that the stable code "
"has a wide audience and most problems would be uncovered through "
"use. Installing untested software is not recommended in a critical system "
"(if you cannot provide the necessary code audit). In any case, if there were "
"a security vulnerability introduced into the distribution, the process used "
"to include packages (using digital signatures) ensures that the problem can "
"be ultimately traced back to the developer. The Debian project has not taken "
"this issue lightly."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:237
msgid ""
"Why are some log files/configuration files world-readable, isn't this "
"insecure?"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:242
msgid ""
"Of course, you can change the default Debian permissions on your system. The "
"current policy regarding log files and configuration files is that they are "
"world readable <em>unless</em> they provide sensitive information."
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:244
msgid "Be careful if you do make changes since:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:249
msgid ""
"Processes might not be able to write to log files if you restrict their "
"permissions."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:255
msgid ""
"Some applications may not work if the configuration file they depend on "
"cannot be read. For example, if you remove the world-readable permission "
"from <file>/etc/samba/smb.conf</file>, the <prgn>smbclient</prgn> program "
"will not work when run by a normal user."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:260
msgid ""
"FIXME: Check if this is written in the Policy. Some packages (i.e. ftp "
"daemons) seem to enforce different permissions."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:262
msgid "Why does /root/ (or UserX) have 755 permissions?"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:269
msgid ""
"As a matter of fact, the same questions stand for any other user. Since "
"Debian's installation does not place <em>any</em> file under that directory, "
"there's no sensitive information to protect there. If you feel these "
"permissions are too broad for your system, consider tightening them to "
"750. For users, read <ref id=\"limit-user-perm\">."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:273
msgid ""
"This Debian security mailing list <url "
"id=\"http://lists.debian.org/debian-devel/2000/debian-devel-200011/msg00783.html\" "
"name=\"thread\"> has more on this issue."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:276
msgid ""
"After installing a grsec/firewall, I started receiving many console "
"messages! How do I remove them?"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:281
msgid ""
"If you are receiving console messages, and have configured "
"<file>/etc/syslog.conf</file> to redirect them to either files or a special "
"TTY, you might be seeing messages sent directly to the console."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:287
msgid ""
"The default console log level for any given kernel is 7, which means that "
"any message with lower priority will appear in the console. Usually, "
"firewalls (the LOG rule) and some other security tools log lower that this "
"priority, and thus, are sent directly to the console."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:293
msgid ""
"To reduce messages sent to the console, you can use <prgn>dmesg</prgn> "
"(<tt>-n</tt> option, see <manref section=\"8\" name=\"dmesg\">), which "
"examines and <em>controls</em> the kernel ring buffer. To fix this after the "
"next reboot, change <file>/etc/init.d/klogd</file> from:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:295
#, no-wrap
msgid "  KLOGD=\"\""
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:301
#, no-wrap
msgid "  KLOGD=\"-c 4\""
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:307
msgid ""
"Use a lower number for <tt>-c</tt> if you are still seeing them. A "
"description of the different log levels can be found in "
"<file>/usr/include/sys/syslog.h</file>:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:316
#, no-wrap
msgid ""
"  #define LOG_EMERG       0       /* system is unusable */\n"
"  #define LOG_ALERT       1       /* action must be taken immediately */\n"
"  #define LOG_CRIT        2       /* critical conditions */\n"
"  #define LOG_ERR         3       /* error conditions */\n"
"  #define LOG_WARNING     4       /* warning conditions */\n"
"  #define LOG_NOTICE      5       /* normal but significant condition */\n"
"  #define LOG_INFO        6       /* informational */\n"
"  #define LOG_DEBUG       7       /* debug-level messages */"
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:320
msgid "Operating system users and groups"
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:322
msgid "Are all system users necessary?"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:334
msgid ""
"Yes and no. Debian comes with some predefined users (user id (UID) &lt; 99 "
"as described in <url id=\"http://www.debian.org/doc/debian-policy/\" "
"name=\"Debian Policy\"> or <file>/usr/share/doc/base-passwd/README</file>) "
"to ease the installation of some services that require that they run under "
"an appropriate user/UID. If you do not intend to install new services, you "
"can safely remove those users who do not own any files in your system and do "
"not run any services. In any case, the default behavior is that UID's from 0 "
"to 99 are reserved in Debian, and UID's from 100 to 999 are created by "
"packages on install (and deleted when the package is purged)."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:341
msgid ""
"To easily find users who don't own any files, execute the following "
"command<footnote><p>Be careful, as this will traverse your whole system. If "
"you have a lot of disk and partitions you might want to reduce it in "
"scope.</p></footnote> (run it as root, since a common user might not have "
"enough permissions to go through some sensitive directories):"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:344
#, no-wrap
msgid ""
"  cut -f 1 -d : /etc/passwd | \\\n"
"  while read i; do find / -user \"$i\" | grep -q . || echo \"$i\"; done"
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:351
msgid ""
"These users are provided by <package>base-passwd</package>. Look in its "
"documentation for more information on how these users are handled in "
"Debian. The list of default users (with a corresponding group) follows:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:355
msgid "root: Root is (typically) the superuser."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:362
msgid ""
"daemon: Some unprivileged daemons that need to write to files on disk run as "
"daemon.daemon (e.g., <prgn>portmap</prgn>, <prgn>atd</prgn>, probably "
"others). Daemons that don't need to own any files can run as nobody.nogroup "
"instead, and more complex or security conscious daemons run as dedicated "
"users. The daemon user is also handy for locally installed daemons."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:364
msgid "bin: maintained for historic reasons."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:367
msgid ""
"sys: same as with bin. However, /dev/vcs* and <file>/var/spool/cups</file> "
"are owned by group sys."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:372
msgid ""
"sync: The shell of user sync is <file>/bin/sync</file>. Thus, if its "
"password is set to something easy to guess (such as \"\"), anyone can sync "
"the system at the console even if they have don't have an account."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:375
msgid ""
"games: Many games are SETGID to games so they can write their high score "
"files. This is explained in policy."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:378
msgid ""
"man: The man program (sometimes) runs as user man, so it can write cat pages "
"to <file>/var/cache/man</file>"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:380
msgid "lp: Used by printer daemons."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:384
msgid ""
"mail: Mailboxes in <file>/var/mail</file> are owned by group mail, as "
"explained in policy. The user and group are used for other purposes by "
"various MTA's as well."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:390
msgid ""
"news: Various news servers and other associated programs (such as "
"<prgn>suck</prgn>) use user and group news in various ways. Files in the "
"news spool are often owned by user and group news. Programs such as "
"<prgn>inews</prgn> that can be used to post news are typically SETGID news."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:394
msgid ""
"uucp: The uucp user and group is used by the UUCP subsystem. It owns spool "
"and configuration files. Users in the uucp group may run uucico."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:399
msgid ""
"proxy: Like daemon, this user and group is used by some daemons "
"(specifically, proxy daemons) that don't have dedicated user id's and that "
"need to own files. For example, group proxy is used by <prgn>pdnsd</prgn>, "
"and <prgn>squid</prgn> runs as user proxy."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:403
msgid ""
"majordom: <prgn>Majordomo</prgn> has a statically allocated UID on Debian "
"systems for historical reasons. It is not installed on new systems."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:407
msgid ""
"postgres: <prgn>Postgresql</prgn> databases are owned by this user and "
"group. All files in <file>/var/lib/postgresql</file> are owned by this user "
"to enforce proper security."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:412
msgid ""
"www-data: Some web servers run as www-data. Web content should <em>not</em> "
"be owned by this user, or a compromised web server would be able to rewrite "
"a web site. Data written out by web servers, including log files, will be "
"owned by www-data."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:415
msgid ""
"backup: So backup/restore responsibilities can be locally delegated to "
"someone without full root permissions."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:418
msgid ""
"operator: Operator is historically (and practically) the only 'user' account "
"that can login remotely, and doesn't depend on NIS/NFS."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:421
msgid ""
"list: Mailing list archives and data are owned by this user and group. Some "
"mailing list programs may run as this user as well."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:425
msgid ""
"irc: Used by irc daemons. A statically allocated user is needed only because "
"of a bug in <prgn>ircd</prgn>, which SETUID()s itself to a given UID on "
"startup."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:427
msgid "gnats."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:431
msgid ""
"nobody, nogroup: Daemons that need not own any files run as user nobody and "
"group nogroup. Thus, no files on a system should be owned by this user or "
"group."
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:435
msgid "Other groups which have no associated user:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:443
msgid ""
"adm: Group adm is used for system monitoring tasks. Members of this group "
"can read many log files in <file>/var/log</file>, and can use "
"xconsole. Historically, <file>/var/log</file> was <file>/usr/adm</file> (and "
"later <file>/var/adm</file>), thus the name of the group."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:446
msgid ""
"tty: TTY devices are owned by this group. This is used by write and wall to "
"enable them to write to other people's TTYs."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:448
msgid "disk: Raw access to disks. Mostly equivalent to root access."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:452
msgid ""
"kmem: /dev/kmem and similar files are readable by this group. This is mostly "
"a BSD relic, but any programs that need direct read access to the system's "
"memory can thus be made SETGID kmem."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:455
msgid ""
"dialout: Full and direct access to serial ports. Members of this group can "
"reconfigure the modem, dial anywhere, etc."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:461
msgid ""
"dip: The group's name stands for \"Dial-up IP\", and membership in dip "
"allows you to use tools like <prgn>ppp</prgn>, <prgn>dip</prgn>, "
"<prgn>wvdial</prgn>, etc. to dial up a connection. The users in this group "
"cannot configure the modem, but may run the programs that make use of it."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:463
msgid "fax: Allows members to use fax software to send / receive faxes."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:466
msgid "voice: Voicemail, useful for systems that use modems as answering machines."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:469
msgid ""
"cdrom: This group can be used locally to give a set of users access to a "
"CDROM drive."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:472
msgid ""
"floppy: This group can be used locally to give a set of users access to a "
"floppy drive."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:475
msgid ""
"tape: This group can be used locally to give a set of users access to a tape "
"drive."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:479
msgid ""
"sudo: Members of this group don't need to type their password when using "
"<prgn>sudo</prgn>. See <file>/usr/share/doc/sudo/OPTIONS</file>."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:482
msgid ""
"audio: This group can be used locally to give a set of users access to an "
"audio device."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:486
msgid ""
"src: This group owns source code, including files in "
"<file>/usr/src</file>. It can be used locally to give a user the ability to "
"manage system source code."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:489
msgid ""
"shadow: <file>/etc/shadow</file> is readable by this group. Some programs "
"that need to be able to access the file are SETGID shadow."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:493
msgid ""
"utmp: This group can write to <file>/var/run/utmp</file> and similar "
"files. Programs that need to be able to write to it are SETGID utmp."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:496
msgid ""
"video: This group can be used locally to give a set of users access to a "
"video device."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:501
msgid ""
"staff: Allows users to add local modifications to the system "
"(<file>/usr/local</file>, <file>/home</file>) without needing root "
"privileges. Compare with group \"adm\", which is more related to "
"monitoring/security."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:506
msgid ""
"users: While Debian systems use the private user group system by default "
"(each user has their own group), some prefer to use a more traditional group "
"system, in which each user is a member of this group."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:510
msgid "I removed a system user! How can I recover?"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:516
msgid ""
"If you have removed a system user and have not made a backup of your "
"<file>password</file> and <file>group</file> files you can try recovering "
"from this issue using <prgn>update-passwd</prgn> (see <manref section=\"8\" "
"name=\"update-passwd\">)."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:518
msgid "What is the difference between the adm and the staff group?"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:524
msgid ""
"The 'adm' group are usually administrators, and this group permission allows "
"them to read log files without having to <prgn>su</prgn>. The 'staff' group "
"are usually help-desk/junior sysadmins, allowing them to work in "
"<file>/usr/local</file> and create directories in <file>/home</file>."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:527
msgid ""
"Why is there a new group when I add a new user? (or Why does Debian give "
"each user one group?)"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:535
msgid ""
"The default behavior in Debian is that each user has its own, private "
"group. The traditional UN*X scheme assigned all users to the <em>users</em> "
"group. Additional groups were created and used to restrict access to shared "
"files associated with different project directories. Managing files became "
"difficult when a single user worked on multiple projects because when "
"someone created a file, it was associated with the primary group to which "
"they belong (e.g. 'users')."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:542
msgid ""
"Debian's scheme solves this problem by assigning each user to their own "
"group; so that with a proper umask (0002) and the SETGID bit set on a given "
"project directory, the correct group is automatically assigned to files "
"created in that directory. This makes it easier for people who work on "
"multiple projects, because they will not have to change groups or umasks "
"when working on shared files."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:548
msgid ""
"You can, however, change this behavior by modifying "
"<file>/etc/adduser.conf</file>. Change the <em>USERGROUPS</em> variable to "
"'no', so that a new group is not created when a new user is created. Also, "
"set <em>USERS_GID</em> to the GID of the users group which all users will "
"belong to."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:550
msgid "Questions regarding services and open ports"
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:552
msgid "Why are all services activated upon installation?"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:559
msgid ""
"That's just an approach to the problem of being, on one side, security "
"conscious and on the other side user friendly. Unlike OpenBSD, which "
"disables all services unless activated by the administrator, Debian "
"GNU/Linux will activate all installed services unless deactivated (see <ref "
"id=\"disableserv\"> for more information). After all you installed the "
"service, didn't you?"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:564
msgid ""
"There has been much discussion on Debian mailing lists (both at debian-devel "
"and at debian-security) regarding which is the better approach for a "
"standard installation. However, as of this writing (March 2002), there still "
"isn't a consensus."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:566
msgid "Can I remove <prgn>inetd</prgn>?"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:572
msgid ""
"<prgn>Inetd</prgn> is not easy to remove since <package>netbase</package> "
"depends on the package that provides it "
"(<package>netkit-inetd</package>). If you want to remove it, you can either "
"disable it (see <ref id=\"disableserv\">) or remove the package by using the "
"<package>equivs</package> package."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:574
msgid "Why do I have port 111 open?"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:580
msgid ""
"Port 111 is sunrpc's portmapper, and it is installed by default as part of "
"Debian's base installation since there is no need to know when a user's "
"program might need RPC to work correctly. In any case, it is used mostly for "
"NFS. If you do not need it, remove it as explained in <ref id=\"rpc\">."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:585
msgid ""
"In versions of the <package>portmap</package> package later than 5-5 you can "
"actually have the portmapper installed but listening only on localhost (by "
"modifying <file>/etc/default/portmap</file>)"
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:587
msgid "What use is <prgn>identd</prgn> (port 113) for?"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:595
msgid ""
"Identd service is an authentication service that identifies the owner of a "
"specific TCP/IP connection to the remote server accepting the "
"connection. Typically, when a user connects to a remote host, "
"<prgn>inetd</prgn> on the remote host sends back a query to port 113 to find "
"the owner information. It is often used by mail, FTP and IRC servers, and "
"can also be used to track down which user in your local system is attacking "
"a remote system."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:608
msgid ""
"There has been extensive discussion on the security of <prgn>identd</prgn> "
"(See <url "
"id=\"http://lists.debian.org/debian-security/2001/debian-security-200108/msg00297.html\" "
"name=\"mailing list archives\">). In general, <prgn>identd</prgn> is more "
"helpful on a multi-user system than on a single user workstation. If you "
"don't have a use for it, disable it, so that you are not leaving a service "
"open to the outside world. If you decide to firewall the identd port, "
"<em>please</em> use a reject policy and not a deny policy, otherwise a "
"connection to a server utilizing <prgn>identd</prgn> will hang until a "
"timeout expires (see <url id=\"http://logi.cc/linux/reject_or_deny.php3\" "
"name=\"reject or deny issues\">)."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:611
msgid "I have services using port 1 and 6, what are they and how can I remove them?"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:613
msgid "If you have run the command <tt>netstat -an</tt> and receive:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:621
#, no-wrap
msgid ""
"  Active Internet connections (servers and established)\n"
"  Proto Recv-Q Send-Q Local Address           Foreign Address         "
"State\n"
"  PID/Program name\n"
"  raw        0      0 0.0.0.0:1               0.0.0.0:*               7\n"
"  -\n"
"  raw        0      0 0.0.0.0:6               0.0.0.0:*               7\n"
"  -"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:632
msgid ""
"You are <em>not</em> seeing processes listening on TCP/UDP port 1 and 6. In "
"fact, you are seeing a process listening on a <em>raw</em> socket for "
"protocols 1 (ICMP) and 6 (TCP). Such behavior is common to both Trojans and "
"some intrusion detection systems such as <package>iplogger</package> and "
"<package>portsentry</package>. If you have these packages simply remove "
"them. If you do not, try netstat's <tt>-p</tt> (process) option to see which "
"process is running these listeners."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:634
msgid "I found the port XYZ open, can I close it?"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:641
msgid ""
"Yes, of course. The ports you are leaving open should adhere to your "
"individual site's policy regarding public services available to other "
"networks. Check if they are being opened by <prgn>inetd</prgn> (see <ref "
"id=\"inetd\">), or by other installed packages and take the appropriate "
"measures (i.e, configure inetd, remove the package, avoid it running on "
"boot-up)."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:644
msgid "Will removing services from <file>/etc/services</file> help secure my box?"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:651
msgid ""
"<em>No</em>, <file>/etc/services</file> only provides a mapping between a "
"virtual name and a given port number. Removing names from this file will not "
"(usually) prevent services from being started. Some daemons may not run if "
"<file>/etc/services</file> is modified, but that's not the norm. To properly "
"disable the service, see <ref id=\"disableserv\">."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:653
msgid "Common security issues"
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:655
msgid "I have lost my password and cannot access the system!"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:659
msgid ""
"The steps you need to take in order to recover from this depend on whether "
"or not you have applied the suggested procedure for limiting access to "
"<prgn>lilo</prgn> and your system's BIOS."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:664
msgid ""
"If you have limited both, you need to disable the BIOS setting that only "
"allows booting from the hard disk before proceeding. If you have also "
"forgotten your BIOS password, you will have to reset your BIOS by opening "
"the system and manually removing the BIOS battery."
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:667
msgid ""
"Once you have enabled booting from a CD-ROM or diskette enable, try the "
"following:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:671
msgid "Boot-up from a rescue disk and start the kernel"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:673
msgid "Go to the virtual console (Alt+F2)"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:675
msgid "Mount the hard disk where your /root is"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:680
msgid ""
"Edit (Debian 2.2 rescue disk comes with the editor <prgn>ae</prgn>, and "
"Debian 3.0 comes with <prgn>nano-tiny</prgn> which is similar to "
"<prgn>vi</prgn>) <file>/etc/shadow</file> and change the line:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:682
#, no-wrap
msgid "  root:asdfjl290341274075:XXXX:X:XXXX:X::: (X=any number)"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:688
#, no-wrap
msgid "  root::XXXX:X:XXXX:X:::"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:699
msgid ""
"This will remove the forgotten root password, contained in the first colon "
"separated field after the user name. Save the file, reboot the system and "
"login with root using an empty password. Remember to reset the "
"password. This will work unless you have configured the system more tightly, "
"i.e. if you have not allowed users to have null passwords or not allowed "
"root to login from the console."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:706
msgid ""
"If you have introduced these features, you will need to enter into single "
"user mode. If LILO has been restricted, you will need to rerun "
"<prgn>lilo</prgn> just after the root reset above. This is quite tricky "
"since your <file>/etc/lilo.conf</file> will need to be tweaked due to the "
"root (/) file system being a ramdisk and not the real hard disk."
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:708
msgid "Once LILO is unrestricted, try the following:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:713
msgid ""
"Press the Alt, shift or Control key just before the system BIOS finishes, "
"and you should get the LILO prompt."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:716
msgid ""
"Type <tt>linux single</tt>, <tt>linux init=/bin/sh</tt> or <tt>linux 1</tt> "
"at the prompt."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:719
msgid ""
"This will give you a shell prompt in single-user mode (it will ask for a "
"password, but you already know it)"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:721
msgid "Re-mount read/write the root (/) partition, using the mount command."
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:723
#, no-wrap
msgid "  # mount -o remount,rw /"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:728
msgid ""
"Change the superuser password with <prgn>passwd</prgn> (since you are "
"superuser it will not ask for the previous password)."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:733
msgid ""
"How do I accomplish setting up a service for my users without giving out "
"shell accounts?"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:744
msgid ""
"For example, if you want to set up a POP service, you don't need to set up a "
"user account for each user accessing it. It's best to set up directory-based "
"authentication through an external service (like Radius, LDAP or an SQL "
"database). Just install the appropriate PAM library "
"(<package>libpam-radius-auth</package>, <package>libpam-ldap</package>, "
"<package>libpam-pgsql</package> or <package>libpam-mysql</package>), read "
"the documentation (for starters, see <ref id=\"auth-pam\">) and configure "
"the PAM-enabled service to use the back end you have chosen. This is done by "
"editing the files under <file>/etc/pam.d/</file> for your service and "
"modifying the"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:746
#, no-wrap
msgid "  auth   required    pam_unix_auth.so shadow nullok use_first_pass"
msgstr ""

#. type: </example><example>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:748
msgid "to, for example, ldap:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:750
#, no-wrap
msgid "  auth   required    pam_ldap.so"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:761
msgid ""
"In the case of LDAP directories, some services provide LDAP schemas to be "
"included in your directory that are required in order to use LDAP "
"authentication. If you are using a relational database, a useful trick is to "
"use the <em>where</em> clause when configuring the PAM modules. For example, "
"if you have a database with the following table attributes:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:763
#, no-wrap
msgid ""
"  (user_id, user_name, realname, shell, password, UID, GID, homedir, sys, "
"pop, imap, ftp)"
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:769
msgid ""
"By making the services attributes boolean fields, you can use them to enable "
"or disable access to the different services just by inserting the "
"appropriate lines in the following files:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:773
msgid "<file>/etc/pam.d/imap</file>:<tt>where=imap=1</tt>."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:775
msgid "<file>/etc/pam.d/qpopper</file>:<tt>where=pop=1</tt>."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:778
msgid ""
"<file>/etc/nss-mysql*.conf</file>:<tt>users.where_clause = user.sys = "
"1;</tt>."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:780
msgid "<file>/etc/proftpd.conf</file>:<tt> SQLWhereClause \"ftp=1\"</tt>."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:784
msgid "My system is vulnerable! (Are you sure?)"
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:787
msgid "Vulnerability assessment scanner X says my Debian system is vulnerable!"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:795
msgid ""
"Many vulnerability assessment scanners give false positives when used on "
"Debian systems, since they only use version checks to determine if a given "
"software package is vulnerable, but do not really test the security "
"vulnerability itself. Since Debian does not change software versions when "
"fixing a package (many times the fix made for newer releases is back "
"ported), some tools tend to think that an updated Debian system is "
"vulnerable when it is not."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:800
msgid ""
"If you think your system is up to date with security patches, you might want "
"to use the cross references to security vulnerability databases published "
"with the DSAs (see <ref id=\"dsa\">) to weed out false positives, if the "
"tool you are using includes CVE references."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:803
msgid "I've seen an attack in my system's logs. Is my system compromised?"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:810
msgid ""
"A trace of an attack does not always mean that your system has been "
"compromised, and you should take the usual steps to determine if the system "
"is indeed compromised (see <ref id=\"after-compromise\">). Even if your "
"system was not vulnerable to the attack that was logged, a determined "
"attacker might have used some other vulnerability besides the ones you have "
"detected."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:812
msgid "I have found strange 'MARK' lines in my logs: Am I compromised?"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:814
msgid "You might find the following lines in your system logs:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:818
#, no-wrap
msgid ""
"  Dec 30 07:33:36 debian -- MARK --\n"
"  Dec 30 07:53:36 debian -- MARK --\n"
"  Dec 30 08:13:36 debian -- MARK --"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:827
msgid ""
"This does not indicate any kind of compromise, and users changing between "
"Debian releases might find it strange. If your system does not have high "
"loads (or many active services), these lines might appear throughout your "
"logs. This is an indication that your <prgn>syslogd</prgn> daemon is running "
"properly. From <manref section=\"8\" name=\"syslogd\">:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:833
#, no-wrap
msgid ""
"       -m interval\n"
"              The syslogd logs a mark timestamp  regularly.   The\n"
"              default interval between two -- MARK -- lines is 20\n"
"              minutes.  This can be  changed  with  this  option.\n"
"              Setting the interval to zero turns it off entirely."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:837
msgid "I found users using 'su' in my logs: Am I compromised?"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:838
msgid "You might find lines in your logs like:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:841
#, no-wrap
msgid ""
"  Apr  1 09:25:01 server su[30315]: + ??? root-nobody\n"
"  Apr  1 09:25:01 server PAM_unix[30315]: (su) session opened for user "
"nobody by (UID=0)"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:847
msgid ""
"Don't worry too much. Check to see if these entries are due to "
"<prgn>cron</prgn> jobs (usually <file>/etc/cron.daily/find</file> or "
"<prgn>logrotate</prgn>):"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:853
#, no-wrap
msgid ""
"  $ grep 25 /etc/crontab\n"
"  25 9    * * *   root    test -e /usr/sbin/anacron || run-parts --report\n"
"  /etc/cron.daily\n"
"  $ grep nobody /etc/cron.daily/*\n"
"  find:cd / && updatedb --localuser=nobody 2>/dev/null"
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:858
msgid "I have found 'possible SYN flooding' in my logs: Am I under attack?"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:860
msgid "If you see entries like these in your logs:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:865
#, no-wrap
msgid ""
"  May 1 12:35:25 linux kernel: possible SYN flooding on port X. Sending "
"cookies.\n"
"  May 1 12:36:25 linux kernel: possible SYN flooding on port X. Sending "
"cookies.\n"
"  May 1 12:37:25 linux kernel: possible SYN flooding on port X. Sending "
"cookies.\n"
"  May 1 13:43:11 linux kernel: possible SYN flooding on port X. Sending "
"cookies."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:870
msgid ""
"Check if there is a high number of connections to the server using "
"<prgn>netstat</prgn>, for example:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:873
#, no-wrap
msgid ""
"  linux:~# netstat -ant | grep SYN_RECV | wc -l\n"
"     9000"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:884
msgid ""
"This is an indication of a denial of service (DoS) attack against your "
"system's X port (most likely against a public service such as a web server "
"or mail server). You should activate TCP syncookies in your kernel, see <ref "
"id=\"tcp-syncookies\">. Note, however, that a DoS attack might flood your "
"network even if you can stop it from crashing your systems (due to file "
"descriptors being depleted, the system might become unresponsive until the "
"TCP connections timeout). The only effective way to stop this attack is to "
"contact your network provider."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:887
msgid "I have found strange root sessions in my logs: Am I compromised?"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:890
msgid ""
"You might see these kind of entries in your <file>/var/log/auth.log</file> "
"file:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:896
#, no-wrap
msgid ""
"  May 2 11:55:02 linux PAM_unix[1477]: (cron) session closed for user root\n"
"  May 2 11:55:02 linux PAM_unix[1476]: (cron) session closed for user root\n"
"  May 2 12:00:01 linux PAM_unix[1536]: (cron) session opened for user root "
"by\n"
"  (UID=0)\n"
"  May 2 12:00:02 linux PAM_unix[1536]: (cron) session closed for user root"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:905
msgid ""
"These are due to a <prgn>cron</prgn> job being executed (in this example, "
"every five minutes). To determine which program is responsible for these "
"jobs, check entries under: <file>/etc/crontab</file>, "
"<file>/etc/cron.d</file>, <file>/etc/crond.daily</file> and root's "
"<file>crontab</file> under <file>/var/spool/cron/crontabs</file>."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:907
msgid "I have suffered a break-in, what do I do?"
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:910
msgid "There are several steps you might want to take in case of a break-in:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:921
msgid ""
"Check if your system is up to date with security patches for published "
"vulnerabilities. If your system is vulnerable, the chances that the system "
"is in fact compromised are increased. The chances increase further if the "
"vulnerability has been known for a while, since there is usually more "
"activity related to older vulnerabilities. Here is a link to <url "
"id=\"http://www.sans.org/top20/\" name=\"SANS Top 20 Security "
"Vulnerabilities\">."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:924
msgid "Read this document, especially the <ref id=\"after-compromise\"> section."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:927
msgid ""
"Ask for assistance. You might use the debian-security mailing list and ask "
"for advice on how to recover/patch your system."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:934
msgid ""
"Notify your local <url id=\"http://www.cert.org\" name=\"CERT\"> (if it "
"exists, otherwise you may want to consider contacting CERT directly). This "
"might or might not help you, but, at the very least, it will inform CERT of "
"ongoing attacks. This information is very valuable in determining which "
"tools and attacks are being used by the <em>blackhat</em> community."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:938
msgid "How can I trace an attack?"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:947
msgid ""
"By watching the logs (if they have not been tampered with), using intrusion "
"detection systems (see <ref id=\"intrusion-detect\">), "
"<prgn>traceroute</prgn>, <prgn>whois</prgn> and similar tools (including "
"forensic analysis), you may be able to trace an attack to the source. The "
"way you should react to this information depends solely on your security "
"policy, and what <em>you</em> consider is an attack. Is a remote scan an "
"attack? Is a vulnerability probe an attack?"
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:949
msgid "Program X in Debian is vulnerable, what do I do?"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:955
msgid ""
"First, take a moment to see if the vulnerability has been announced in "
"public security mailing lists (like Bugtraq) or other forums. The Debian "
"Security Team keeps up to date with these lists, so they may also be aware "
"of the problem. Do not take any further actions if you see an announcement "
"at <url id=\"http://security.debian.org\">."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:961
msgid ""
"If no information seems to be published, please send e-mail about the "
"affected package(s), as well as a detailed description of the vulnerability "
"(proof of concept code is also OK), to <url "
"id=\"mailto:team@security.debian.org\" "
"name=\"team@security.debian.org\">. This will get you in touch with Debian's "
"security team."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:964 securing-debian-howto.en.sgml:60 en/faq.sgml:1089
msgid ""
"The version number for a package indicates that I am still running a "
"vulnerable version!"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:974
msgid ""
"Instead of upgrading to a new release, Debian backports security fixes to "
"the version that was shipped in the stable release. The reason for this is "
"to make sure that the stable release changes as little as possible, so that "
"things will not change or break unexpectedly as a result of a security "
"fix. You can check if you are running a secure version of a package by "
"looking at the package changelog, or comparing its exact (upstream version "
"-slash- debian release) version number with the version indicated in the "
"Debian Security Advisory."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:976
msgid "Specific software"
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:979
msgid "<package>proftpd</package> is vulnerable to a Denial of Service attack."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:982
msgid ""
"Add <tt>DenyFilter \\*.*/</tt> to your configuration file, and for more "
"information see <url id=\"http://www.proftpd.org/bugs.html\">."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:985
msgid ""
"After installing <package>portsentry</package>, there are a lot of ports "
"open."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:988
msgid ""
"That's just the way <prgn>portsentry</prgn> works. It opens about twenty "
"unused ports to try to detect port scans."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:990
msgid "Questions regarding the Debian security team"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:998
msgid ""
"This information is derived from the <url "
"id=\"http://www.debian.org/security/faq\" name=\"Debian Security FAQ\">. It "
"includes the information as of January, 2006, and provides answers for some "
"other common questions asked in the debian-security mailing list."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:1000
msgid "What is a Debian Security Advisory (DSA)?"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:1007
msgid ""
"It is information sent by the Debian Security Team (see below) regarding the "
"discovery and fix for a security related vulnerability in a package "
"available in Debian GNU/Linux. Signed DSAs are sent to public mailing lists "
"(debian-security-announce) and posted on Debian's web site (both in the "
"front page and in the <url id=\"http://www.debian.org/security/\" "
"name=\"security area\">)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:1013
msgid ""
"DSAs include information on the affected package(s), the security flaw that "
"was discovered and where to retrieve the updated packages (and their MD5 "
"sums)."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:1015
msgid "The signature on Debian advisories does not verify correctly!"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:1021
msgid ""
"This is most likely a problem on your end. The <url "
"id=\"http://www.debian.org/security/faq\" name=\"debian-security-announce\"> "
"list has a filter that only allows messages with a correct signature from "
"one of the security team members to be posted."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:1026
msgid ""
"Most likely some piece of mail software on your end slightly changes the "
"message, thus breaking the signature. Make sure your software does not do "
"any MIME encoding or decoding, or tab/space conversions."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:1029
msgid ""
"Known culprits fetchmail (with the mimedecode option enabled), formail (from "
"procmail 3.14 only) and evolution."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:1031
msgid "How is security handled in Debian?"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:1040
msgid ""
"Once the Security Team receives a notification of an incident, one or more "
"members review it and consider its impact on the stable release of Debian "
"(i.e. if it's vulnerable or not). If our system is vulnerable, we work on a "
"fix for the problem. The package maintainer is contacted as well, if he "
"didn't contact the Security Team already. Finally, the fix is tested and new "
"packages are prepared, which then are compiled on all stable architectures "
"and uploaded afterwards. After all of that is done, an advisory is "
"published."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:1042
msgid "Why are you fiddling with an old version of that package?"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:1050
msgid ""
"The most important guideline when making a new package that fixes a security "
"problem is to make as few changes as possible. Our users and developers are "
"relying on the exact behavior of a release once it is made, so any change we "
"make can possibly break someone's system. This is especially true in case of "
"libraries: make sure you never change the Application Program Interface "
"(API) or Application Binary Interface (ABI), no matter how small the change "
"is."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:1055
msgid ""
"This means that moving to a new upstream version is not a good solution, "
"instead the relevant changes should be backported. Generally upstream "
"maintainers are willing to help if needed, if not the Debian security team "
"might be able to help."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:1060
msgid ""
"In some cases it is not possible to backport a security fix, for example "
"when large amounts of source code need to be modified or rewritten. If that "
"happens it might be necessary to move to a new upstream version, but this "
"has to be coordinated with the security team beforehand."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:1062
msgid "What is the policy for a fixed package to appear in security.debian.org?"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:1070
msgid ""
"Security breakage in the stable distribution warrants a package on "
"security.debian.org. Anything else does not. The size of a breakage is not "
"the real problem here. Usually the security team will prepare packages "
"together with the package maintainer. Provided someone (trusted) tracks the "
"problem and gets all the needed packages compiled and submit them to the "
"security team, even very trivial security problem fixes will make it to "
"security.debian.org. Please see below."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:1074
msgid ""
"Security updates serve one purpose: to supply a fix for a security "
"vulnerability. They are not a method for sneaking additional changes into "
"the stable release without going through normal point release procedure."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:1076
msgid "What does \"local (remote)\" mean?"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:1083
msgid ""
"Some advisories cover vulnerabilities that cannot be identified with the "
"classic scheme of local and remote exploitability. Some vulnerabilities "
"cannot be exploited from remote, i.e. don't correspond to a daemon listening "
"to a network port. If they can be exploited by special files that could be "
"provided via the network while the vulnerable service is not permanently "
"connected with the network, we write \"local (remote)\" in such cases."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:1087
msgid ""
"Such vulnerabilities are somewhat between local and remote vulnerabilities "
"and often cover archives that could be provided through the network, e.g. as "
"mail attachment or from a download page."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:1091
msgid "See <ref id=\"version-backport\">."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:1093
msgid "How is security handled for <tt>testing</tt> and <tt>unstable</tt>?"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:1103
msgid ""
"The short answer is: it's not. Testing and unstable are rapidly moving "
"targets and the security team does not have the resources needed to properly "
"support those. If you want to have a secure (and stable) server you are "
"strongly encouraged to stay with stable. However, work is in progress to "
"change this, with the formation of a <url "
"id=\"http://secure-testing-master.debian.net/\" name=\"testing security "
"team\"> which has begun work to offer security support for testing, and to "
"some extent, for unstable. For more information see <ref "
"id=\"security-support-testing\">"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:1108
msgid ""
"In some cases, however, the unstable branch usually gets security fixes "
"quite quickly, because those fixes are usually available upstream faster "
"(other versions, like those in the stable branch, usually need to be back "
"ported)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:1114
msgid ""
"You can review public vulnerabilities affecting the <tt>testing</tt> and "
"<tt>unstable</tt> release at the <url "
"id=\"http://security-tracker.debian.net/tracker/\" name=\"Security Bug "
"Tracker\">."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:1116
msgid ""
"I use an older version of Debian, is it supported by the Debian Security "
"Team?"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:1122
msgid ""
"No. Unfortunately, the Debian Security Team cannot handle both the stable "
"release (unofficially, also the unstable) and other older releases. However, "
"you can expect security updates for a limited period of time (usually "
"several months) immediately following the release of a new Debian "
"distribution."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:1124
msgid "How does <em>testing</em> get security updates?"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:1130
msgid ""
"Security updates will migrate into the testing distribution via "
"unstable. They are usually uploaded with their priority set to high, which "
"will reduce the quarantine time to two days. After this period, the packages "
"will migrate into testing automatically, given that they are built for all "
"architectures and their dependencies are fulfilled in testing."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:1134
msgid ""
"The <url id=\"http://secure-testing-master.debian.net/\" name=\"testing "
"security team\"> also makes security fixes available in their repository "
"when the normal migration process is not fast enough."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:1136
msgid "How is security handled for contrib and non-free?"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:1144
msgid ""
"The short answer is: it's not. Contrib and non-free aren't official parts of "
"the Debian Distribution and are not released, and thus not supported by the "
"security team. Some non-free packages are distributed without source or "
"without a license allowing the distribution of modified versions. In those "
"cases no security fixes can be made at all. If it is possible to fix the "
"problem, and the package maintainer or someone else provides correct updated "
"packages, then the security team will generally process them and release an "
"advisory."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:1146
msgid "Why are there no official mirrors for security.debian.org?"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:1150
msgid ""
"Actually, there are. There are several official mirrors, implemented through "
"DNS aliases. The purpose of security.debian.org is to make security updates "
"available as quickly and easily as possible."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:1154
msgid ""
"Encouraging the use of unofficial mirrors would add extra complexity that is "
"usually not needed and that can cause frustration if these mirrors are not "
"kept up to date."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:1156
msgid "I've seen DSA 100 and DSA 102, now where is DSA 101?"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:1173
msgid ""
"Several vendors (mostly of GNU/Linux, but also of BSD derivatives) "
"coordinate security advisories for some incidents and agree to a particular "
"timeline so that all vendors are able to release an advisory at the same "
"time. This was decided in order to not discriminate against some vendors "
"that need more time (e.g. when the vendor has to pass packages through "
"lengthy QA tests or has to support several architectures or binary "
"distributions). Our own security team also prepares advisories in "
"advance. Every now and then, other security issues have to be dealt with "
"before the parked advisory could be released, and hence temporarily leaving "
"out one or more advisories by number."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:1175
msgid ""
"I tried to download a package listed in one of the security advisories, but "
"I got a `file not found' error."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:1180
msgid ""
"Whenever a newer bugfix supersedes an older package on security.debian.org, "
"chances are high that the old package will be removed by the time the new "
"one gets installed. Hence, you'll get this `file not found' error. We don't "
"want to distribute packages with known security bugs longer than absolutely "
"necessary."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:1186
msgid ""
"Please use the packages from the latest security advisories, which are "
"distributed through the <url "
"id=\"http://lists.debian.org/debian-security-announce\" "
"name=\"debian-security-announce mailing list\">. It's best to simply run "
"<em>apt-get update</em> before upgrading the package."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:1188
msgid "How can I reach the security team?"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:1204
msgid ""
"Security information can be sent to <url id=\"mailto:security@debian.org\" "
"name=\"security@debian.org\">, which is read by all Debian developers. If "
"you have sensitive information please use <url "
"id=\"mailto:team@security.debian.org\" name=\"team@security.debian.org\"> "
"which only the members of the team can read. If desired, email can be "
"encrypted with the Debian Security Contact key (key ID <url "
"id=\"http://pgpkeys.pca.dfn.de:11371/pks/lookup?search=0x363CCD95&amp;op=vindex\" "
"name=\"0x363CCD95\">). See also the <url "
"id=\"http://www.debian.org/security/keys.txt\" name=\"PGP/GPG keys for the "
"security team\">."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:1207
msgid ""
"What difference is there between security@debian.org and "
"debian-security@lists.debian.org?"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:1220
msgid ""
"When you send messages to security@debian.org, they are sent to the "
"developers' mailing list (debian-private). All Debian developers are "
"subscribed to this list and posts are kept private <footnote><p>There has "
"been a declassification decision, voted in <url "
"id=\"http://www.debian.org/vote/2005/vote_002\" name=\"GR-2005-002\">, that "
"might make some posts available in the future, however.</p></footnote> "
"(i.e. are not archived at the public website). The public mailing list, "
"debian-security@lists.debian.org, is open to anyone that wants to <url "
"id=\"http://www.debian.org/MailingLists/\" name=\"subscribe\">, and there "
"are searchable archives available <url "
"id=\"http://lists.debian.org/search.html\" name=\"here\">."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:1222
msgid "I guess I found a security problem, what should I do?"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:1229
msgid ""
"If you learn about a security problem, either in one of your own packages or "
"in someone else's please always contact the security team. If the Debian "
"security team confirms the vulnerability and other vendors are likely to be "
"vulnerable as well, they usually contact other vendors as well. If the "
"vulnerability is not yet public they will try to coordinate security "
"advisories with the other vendors, so all major distributions are in sync."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:1232
msgid ""
"If the vulnerability is already publicly known, be sure to file a bug report "
"in the Debian BTS, and tag it <em>security</em>."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:1233
msgid "How can I contribute to the Debian security team?"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:1241
msgid ""
"By contributing to this document, fixing FIXMEs or providing new "
"content. Documentation is important and reduces the overhead of answering "
"common issues. Translation of this documentation into other languages is "
"also of great help."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:1247
msgid ""
"By packaging applications that are useful for checking or enhancing security "
"in a Debian GNU/Linux system. If you are not a developer, file a <url "
"id=\"http://www.debian.org/devel/wnpp/\" name=\"WNPP bug\"> and ask for "
"software you think would be useful, but is not currently provided."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:1250
msgid ""
"Audit applications in Debian or help solve security bugs and report issues "
"to security@debian.org."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:1258
msgid ""
"In all cases, please review each problem before reporting it to "
"security@debian.org. If you are able to provide patches, that would speed up "
"the process. Do not simply forward Bugtraq mails, since they are already "
"received. Providing additional information, however, is always a good idea."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:1260
msgid "Who is the Security Team composed of?"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:1264
msgid ""
"The Debian security team consists of <url "
"id=\"http://www.debian.org/intro/organization\" name=\"several officers and "
"secretaries\">. The security team itself appoints people to join the team."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:1267
msgid "Does the Debian Security team check every new package in Debian?"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:1275
msgid ""
"No, the Debian security team does not check every new package and there is "
"no automatic (lintian) check to detect new packages including malicious "
"codes, since those checks are rather impossible to perform "
"automatically. Maintainers, however, are fully responsible for the packages "
"they introduce into Debian, and all packages are first signed by an "
"authorized developer(s). The developer is in charge of analyzing the "
"security of all packages that they maintain."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:1277
msgid "How much time will it take Debian to fix vulnerability XXXX?"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:1287
msgid ""
"The Debian security team works quickly to send advisories and produce fixed "
"packages for the stable branch once a vulnerability is discovered. A report "
"<url "
"id=\"http://lists.debian.org/debian-security/2001/debian-security-200112/msg00257.html\" "
"name=\"published in the debian-security mailing list\"> showed that in the "
"year 2001, it took the Debian Security Team an average of 35 days to fix "
"security-related vulnerabilities. However, over 50% of the vulnerabilities "
"where fixed in a 10-day time frame, and over 15% of them where fixed the "
"<em>same day</em> the advisory was released."
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:1289
msgid "However, when asking this question people tend to forget that:"
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:1293
msgid "DSAs are not sent until:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:1300
msgid ""
"packages are available for <em>all</em> architectures supported by Debian "
"(which takes some time for packages that are part of the system core, "
"especially considering the number of architectures supported in the stable "
"release)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:1303
msgid ""
"new packages are thoroughly tested in order to ensure that no new bugs are "
"introduced"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:1308
msgid ""
"Packages might be available before the DSA is sent (in the incoming queue or "
"on the mirrors)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:1310
msgid "Debian is a volunteer-based project."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:1312
msgid "Debian is licensed with a \"no guarantees\" clause."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:1325
msgid ""
"If you want more in-depth analysis on the time it takes for the Security "
"Team to work on vulnerabilities, you should consider that new DSAs (see <ref "
"id=\"dsa\">) published on the <url id=\"http://security.debian.org\" "
"name=\"security website\">, and the metadata used to generate them, include "
"links to vulnerability databases. You could download the sources from the "
"web server (from the <url id=\"http://cvs.debian.org\" name=\"CVS\">) or use "
"the HTML pages to determine the time that it takes for Debian to fix "
"vulnerabilities and correlate this data with public databases."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:1327
msgid "How long will security updates be provided?"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:1332
msgid ""
"The security team tries to support a stable distribution for about one year "
"after the next stable distribution has been released, except when another "
"stable distribution is released within this year. It is not possible to "
"support three distributions; supporting two simultaneously is already "
"difficult enough."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:1336
msgid "How can I check the integrity of packages?"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:1345
msgid ""
"This process involve checking the Release file signature against the public "
"key (available at <url "
"id=\"http://ftp-master.debian.org/ziyi_key_2006.asc\">, substitute 2006 for "
"the current year) for the archive. The Release file contains the MD5 "
"checksums of Packages and Sources files, which contain MD5 checksums of "
"binary and source packages. Detailed instruction on how to check packages "
"integrity can be found <ref id=\"deb-pack-sign\">."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:60 en/faq.sgml:1347
msgid "What to do if a random package breaks after a security update?"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:3
msgid ""
"First of all, you should figure out why the package breaks and how it is "
"connected to the security update, then contact the security team if it is "
"serious or the stable release manager if it is less serious. We're talking "
"about random packages that break after a security update of a different "
"package. If you can't figure out what's going wrong but have a correction, "
"talk to the security team as well. You may be redirected to the stable "
"release manager though."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:13
msgid "The hardening process step by step"
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:19
msgid ""
"Below is a post-installation, step-by-step procedure for hardening a Debian "
"2.2 GNU/Linux system. This is one possible approach to such a procedure and "
"is oriented toward the hardening of network services. It is included to show "
"the entire process you might use during configuration. Also, see <ref "
"id=\"checklist\">."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:26
msgid ""
"Install the system, taking into account the information regarding "
"partitioning included earlier in this document. After base installation, go "
"into custom install. Do not select task packages. Select shadow passwords."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:30
msgid ""
"Using <prgn>dselect</prgn>, remove all unneeded but selected packages before "
"doing [I]nstall. Keep the bare minimum of packages for the system."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:34
msgid ""
"Update all software from the latest packages available at "
"security.debian.org as explained previously in <ref id=\"security-update\">."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:37
msgid ""
"Implement the suggestions presented in this manual regarding user quotas, "
"login definitions and <prgn>lilo</prgn>"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:39
msgid "Make a list of services currently running on your system. Try:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:43
#, no-wrap
msgid ""
"  $ ps aux\n"
"  $ netstat -pn -l -A inet \n"
"  # /usr/sbin/lsof -i | grep LISTEN"
msgstr ""

#. type: </example></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:50
msgid ""
"You will need to install <package>lsof-2.2</package> for the third command "
"to work (run it as root). You should be aware that <prgn>lsof</prgn> can "
"translate the word LISTEN to your locale settings."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:56
msgid ""
"In order to remove unnecessary services, first determine what package "
"provides the service and how it is started. This can be accomplished by "
"checking the program that listens in the socket. The following shell script, "
"which uses the programs <prgn>lsof</prgn> and <prgn>dpkg</prgn>, does just "
"that:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:67
#, no-wrap
msgid ""
"#!/bin/sh\n"
"# FIXME: this is quick and dirty; replace with a more robust script "
"snippet\n"
"for i in `sudo lsof -i | grep LISTEN | cut -d \" \" -f 1 |sort -u` ; do\n"
"  pack=`dpkg -S $i |grep bin |cut -f 1 -d : | uniq`\n"
"  echo \"Service $i is installed by $pack\";\n"
"  init=`dpkg -L $pack |grep init.d/ `\n"
"  if [ ! -z \"$init\" ]; then\n"
"    echo \"and is run by $init\"\n"
"  fi\n"
"done"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:74
msgid ""
"Once you find any unwanted services, remove the associated package (with "
"<prgn>dpkg --purge</prgn>), or disable the service from starting "
"automatically at boot time using <prgn>update-rc.d</prgn> (see <ref "
"id=\"disableserv\">)."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:77
msgid ""
"For inetd services (launched by the superdaemon), check which services are "
"enabled in <file>/etc/inetd.conf</file> using:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:79
#, no-wrap
msgid "  $ grep -v \"^#\" /etc/inetd.conf | sort -u"
msgstr ""

#. type: </example></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:85
msgid ""
"Then disable those services that are not needed by commenting out the line "
"that includes them in <file>/etc/inetd.conf</file>, removing the package, or "
"using <prgn>update-inetd</prgn>."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:90
msgid ""
"If you have wrapped services (those using <prgn>/usr/sbin/tcpd</prgn>), "
"check that the files <file>/etc/hosts.allow</file> and "
"<file>/etc/hosts.deny</file> are configured according to your service "
"policy."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:96
msgid ""
"If the server uses more than one external interface, depending on the "
"service, you may want to limit the service to listen on a specific "
"interface. For example, if you want internal FTP access only, make the FTP "
"daemon listen only on your management interface, not on all interfaces (i.e, "
"0.0.0.0:21)."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:99
msgid ""
"Re-boot the machine, or switch to single user mode and then back to "
"multiuser using the commands:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:103
#, no-wrap
msgid ""
"  # init 1\n"
"  (....)\n"
"  # init 2"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:108
msgid "Check the services now available, and, if necessary, repeat the steps above."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:111
msgid ""
"Now install the needed services, if you have not done so already, and "
"configure them properly."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:114
msgid ""
"Use the following shell command to determine what user each available "
"service is running as:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:118
#, no-wrap
msgid ""
"  # for i in `/usr/sbin/lsof -i |grep LISTEN |cut -d \" \" -f 1 |sort -u`; "
"\\\n"
"  > do user=`ps ef |grep $i |grep -v grep |cut -f 1 -d \" \"` ; \\\n"
"  > echo \"Service $i is running as user $user\"; done"
msgstr ""

#. type: </example></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:131
msgid ""
"Consider changing these services to a specific user/group and maybe "
"<prgn>chroot</prgn>'ing them for increased security. You can do this by "
"changing the <file>/etc/init.d</file> scripts which start the service. Most "
"services in Debian use <prgn>start-stop-daemon</prgn>, which has options "
"(<tt>--change-uid</tt> and <tt>--chroot</tt>) for accomplishing this. A word "
"of warning regarding the <prgn>chroot</prgn>'ing of services: you may need "
"to put all the files installed by the package (use dpkg -L) providing the "
"service, as well as any packages it depends on, in the "
"<prgn>chroot</prgn>'ed environment. Information about setting up a "
"<prgn>chroot</prgn> environment for the <prgn>ssh</prgn> program can be "
"found in <ref id=\"chroot-ssh-env\">."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:135
msgid ""
"Repeat the steps above in order to check that only desired services are "
"running and that they are running as the desired user/group combination."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:138
msgid "Test the installed services in order to see if they work as expected."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:143
msgid ""
"Check the system using a vulnerability assessment scanner (like "
"<package>nessus</package>), in order to determine vulnerabilities in the "
"system (i.e., misconfiguration, old services or unneeded services)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:146
msgid ""
"Install network and host intrusion measures like <package>snort</package> "
"and <package>logcheck</package>."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:149
msgid ""
"Repeat the network scanner step and verify that the intrusion detection "
"systems are working correctly."
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:153
msgid "For the truly paranoid, also consider the following:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:159
msgid ""
"Add firewalling capabilities to the system, accepting incoming connections "
"only to offered services and limiting outgoing connections only to those "
"that are authorized."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:162
msgid ""
"Re-check the installation with a new vulnerability assessment using a "
"network scanner."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:166
msgid ""
"Using a network scanner, check outbound connections from the system to an "
"outside host and verify that unwanted connections do not find their way out."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:173
msgid ""
"FIXME: this procedure considers service hardening but not system hardening "
"at the user level, include information regarding checking user permissions, "
"SETUID files and freezing changes in the system using the ext2 file system."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:175
msgid "Configuration checklist"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:187
msgid ""
"This appendix briefly reiterates points from other sections in this manual "
"in a condensed checklist format. This is intended as a quick summary for "
"someone who has already read the manual. There are other good checklists "
"available, including Kurt Seifried's <url "
"id=\"http://seifried.org/security/os/linux/20020324-securing-linux-step-by-step.html\" "
"name=\"Securing Linux Step by Step\"> and <url "
"id=\"http://www.cert.org/tech_tips/usc20_full.html\" name=\"CERT's Unix "
"Security Checklist\">."
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:189
msgid "FIXME: This is based on v1.4 of the manual and might need to be updated."
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:190
msgid "Limit physical access and booting capabilities"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:192
msgid "Enable a password in the BIOS."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:193
msgid "Disable floppy/cdrom/... booting in the system's BIOS."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:197
msgid ""
"Set a LILO or GRUB password (<file>/etc/lilo.conf</file> or "
"<file>/boot/grub/menu.lst</file>, respectively); check that the LILO or GRUB "
"configuration file is read-protected."
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:200
msgid "Partitioning"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:205
msgid ""
"Separate user-writable data, non-system data, and rapidly changing run-time "
"data to their own partitions"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:210
msgid ""
"Set <tt>nosuid,noexec,nodev</tt> mount options in <file>/etc/fstab</file> on "
"ext2/3 partitions that should not hold binaries such as <file>/home</file> "
"or <file>/tmp</file>."
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:214
msgid "Password hygiene and login security"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:216
msgid "Set a good root password"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:217
msgid "Enable password shadowing and MD5"
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:219
msgid "Install and use PAM"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:229
msgid ""
"Add MD5 support to PAM and make sure that (generally speaking) entries in "
"<file>/etc/pam.d/</file> files which grant access to the machine have the "
"second field in the pam.d file set to <tt>requisite</tt> or "
"<tt>required</tt>."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:232
msgid "Tweak <file>/etc/pam.d/login</file> so as to only permit local root logins."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:237
msgid ""
"Also mark authorized tty:s in <file>/etc/security/access.conf</file> and "
"generally set up this file to limit root logins as much as possible."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:240
msgid "Add pam_limits.so if you want to set per-user limits"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:244
msgid ""
"Tweak <file>/etc/pam.d/passwd</file>: set minimum length of passwords higher "
"(6 characters maybe) and enable MD5"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:248
msgid ""
"Add group wheel to <file>/etc/group</file> if desired; add pam_wheel.so "
"group=wheel entry to <file>/etc/pam.d/su</file>"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:251
msgid "For custom per-user controls, use pam_listfile.so entries where appropriate"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:254
msgid "Have an <file>/etc/pam.d/other</file> file and set it up with tight security"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:260
msgid ""
"Set up limits in <file>/etc/security/limits.conf</file> (note that "
"<file>/etc/limits</file> is not used if you are using PAM)"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:264
msgid ""
"Tighten up <file>/etc/login.defs</file>; also, if you enabled MD5 and/or "
"PAM, make sure you make the corresponding changes here, too"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:266
msgid "Tighten up <file>/etc/pam.d/login</file>"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:268
msgid "Disable root ftp access in <file>/etc/ftpusers</file>"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:273
msgid ""
"Disable network root login; use <manref section=\"1\" name=\"su\"> or "
"<manref section=\"1\" name=\"sudo\">. (consider installing "
"<package>sudo</package>)"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:275
msgid "Use PAM to enforce additional constraints on logins?"
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:278
msgid "Other local security issues"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:282
msgid "Kernel tweaks (see <ref id=\"kernel-conf\">)"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:285
msgid "Kernel patches (see <ref id=\"kernel-patches\">)"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:288
msgid ""
"Tighten up log file permissions (<file>/var/log/{last,fail}log</file>, "
"Apache logs)"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:291
msgid ""
"Verify that SETUID checking is enabled in "
"<file>/etc/checksecurity.conf</file>"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:295
msgid ""
"Consider making some log files append-only and configuration files immutable "
"using chattr (ext2/3 file systems only)"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:299
msgid ""
"Set up file integrity (see <ref id=\"check-integ\">). Install "
"<package>debsums</package>"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:301
msgid "Log everything to a local printer?"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:304
msgid "Burn your configuration on a boot-able CD and boot off that?"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:306
msgid "Disable kernel modules?"
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:309
msgid "Limit network access"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:316
msgid ""
"Install and configure <prgn>ssh</prgn> (suggest PermitRootLogin No in "
"<file>/etc/ssh/sshd_config</file>, PermitEmptyPasswords No; note other "
"suggestions in text also)"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:318
msgid "Disable or remove <prgn>in.telnetd</prgn>, if installed"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:323
msgid ""
"Generally, disable gratuitous services in <file>/etc/inetd.conf</file> using "
"<prgn>update-inetd --disable</prgn> (or disable <prgn>inetd</prgn> "
"altogether, or use a replacement such as <prgn>xinetd</prgn> or "
"<prgn>rlinetd</prgn>)"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:329
msgid ""
"Disable other gratuitous network services; ftp, DNS, WWW etc should not be "
"running if you do not need them and monitor them regularly. In most cases "
"mail should be running but configured for local delivery only."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:335
msgid ""
"For those services which you do need, do not just use the most common "
"programs, look for more secure versions shipped with Debian (or from other "
"sources). Whatever you end up running, make sure you understand the risks."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:338
msgid "Set up <prgn>chroot</prgn> jails for outside users and daemons."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:342
msgid ""
"Configure firewall and tcpwrappers (i.e. <manref section=\"5\" "
"name=\"hosts_access\">); note trick for <file>/etc/hosts.deny</file> in "
"text."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:345
msgid ""
"If you run ftp, set up your ftpd server to always run <prgn>chroot</prgn>'ed "
"to the user's home directory"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:352
msgid ""
"If you run X, disable xhost authentication and go with <prgn>ssh</prgn> "
"instead; better yet, disable remote X if you can (add -nolisten tcp to the X "
"command line and turn off XDMCP in <file>/etc/X11/xdm/xdm-config</file> by "
"setting the requestPort to 0)"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:354
msgid "Disable remote access to printers"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:358
msgid ""
"Tunnel any IMAP or POP sessions through SSL or <prgn>ssh</prgn>; install "
"stunnel if you want to provide this service to remote mail users"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:361
msgid ""
"Set up a log host and configure other machines to send logs to this host "
"(<file>/etc/syslog.conf</file>)"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:364
msgid ""
"Secure BIND, Sendmail, and other complex daemons (run in a "
"<prgn>chroot</prgn> jail; run as a non-root pseudo-user)"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:365
msgid "Install tiger or a similar network intrusion detection tool."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:366
msgid "Install snort or a similar network intrusion detection tool."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:368
msgid "Do without NIS and RPC if you can (disable portmap)."
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:371
msgid "Policy issues"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:379
msgid ""
"Educate users about the whys and hows of your policies. When you have "
"prohibited something which is regularly available on other systems, provide "
"documentation which explains how to accomplish similar results using other, "
"more secure means."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:383
msgid ""
"Prohibit use of protocols which use clear-text passwords "
"(<prgn>telnet</prgn>, <prgn>rsh</prgn> and friends; ftp, imap, http, ...)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:385
msgid "Prohibit programs which use SVGAlib."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:387
msgid "Use disk quotas."
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:390
msgid "Keep informed about security issues"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:394
msgid "Subscribe to security mailing lists"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:399
msgid ""
"Configure <package>apt</package> for security updates -- add to "
"<file>/etc/apt/sources.list</file> an entry (or entries) for "
"http://security.debian.org/"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:404
msgid ""
"Also remember to periodically run <prgn>apt-get update ; apt-get "
"upgrade</prgn> (perhaps install as a <prgn>cron</prgn> job?) as explained in "
"<ref id=\"security-update\">."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:411
msgid "Setting up a stand-alone IDS"
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:415
msgid ""
"You can easily set up a dedicated Debian system as a stand-alone Intrusion "
"Detection System using <package>snort</package> and a web-based interface to "
"analyse the intrusion detection alerts:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:419
msgid "Install a base Debian system and select no additional packages."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:422
msgid ""
"Install one of the Snort versions with database support and configure the "
"IDS to log alerts into the database."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:426
msgid ""
"Download and install BASE (Basic Analysis and Security Engine), or ACID "
"(Analysis Console for Intrusion Databases). Configure it to use the same "
"database than Snort."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:429
msgid ""
"Download and install the necessary packages<footnote><p>Typically the needed "
"packages will be installed through the dependencies</p></footnote>."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:441
msgid ""
"BASE is currently packaged for Debian in <package>acidbase</package> and "
"ACID is packaged as <package>acidlab</package><footnote><p>It can also be "
"downloaded from <url id=\"http://www.cert.org/kb/acid/\">, <url "
"id=\"http://acidlab.sourceforge.net\"> or <url "
"id=\"http://www.andrew.cmu.edu/~rdanyliw/snort/\">.</p></footnote>. Both "
"provide a graphical WWW interface to Snort's output."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:447
msgid ""
"Besides the base installation you will also need a web server (such as "
"<package>apache</package>), a <prgn>PHP</prgn> interpreter and a relational "
"database (such <package>postgresql</package> or <package>mysql</package>) "
"where Snort will store its alerts."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:453
msgid ""
"This system should be set up with at least two interfaces: one interface "
"connected to a management LAN (for accessing the results and maintaining the "
"system), and one interface with no IP address attached to the network "
"segment being analyzed. You should configure the web server to listen only "
"on the interface connected to the management LAN."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:459
msgid ""
"You should configure both interfaces in the standard Debian "
"<file>/etc/network/interfaces</file> configuration file. One (the management "
"LAN) address can be configured as you would normally do. The other interface "
"needs to be configured so that it is started up when the system boots, but "
"with no interface address. You can use the following interface definition:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:466
#, no-wrap
msgid ""
"auto eth0\n"
"iface eth0 inet manual\n"
"      up ifconfig $IFACE 0.0.0.0 up\n"
"      up ip link set $IFACE promisc on\n"
"      down ip link set $IFACE promisc off\n"
"      down ifconfig $IFACE down"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:477
msgid ""
"The above configures an interface to read all the traffic on the network in "
"a <em>stealth</em>-type configuration. This prevents the NIDS system to be a "
"direct target in a hostile network since the sensors have no IP address on "
"the network. Notice, however, that there have been known bugs over time in "
"sensors part of NIDS (for example see <url "
"id=\"http://www.debian.org/security/2003/dsa-297\" name=\"DSA-297\"> related "
"to Snort) and remote buffer overflows might even be triggered by network "
"packet processing."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:482
msgid ""
"You might also want to read the <url "
"id=\"http://www.faqs.org/docs/Linux-HOWTO/Snort-Statistics-HOWTO.html\" "
"name=\"Snort Statistics HOWTO\"> and the documentation available at the <url "
"id=\"http://www.snort.org/docs/\" name=\"Snort official site\">."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:484
msgid "Setting up a bridge firewall"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:520
msgid ""
"This information was contributed by Francois Bayart in order to help users "
"set up a Linux bridge/firewall with the 2.4.x kernel and "
"<package>iptables</package>. Kernel patches are no more needed as the code "
"was made standard part of the Linux kernel distribution."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:524
msgid ""
"To configure the kernel with necessary support, run <tt>make menuconfig</tt> "
"or <tt>make xconfig</tt>. In the section <em>Networking options</em>, enable "
"the following options:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:529
#, no-wrap
msgid ""
"[*] Network packet filtering (replaces ipchains)\n"
"[ ]   Network packet filtering debugging (NEW)\n"
"<*> 802.1d Ethernet Bridging\n"
"[*]   netfilter (firewalling) support (NEW)"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:534
msgid ""
"Caution: you must disable this if you want to apply some firewalling rules "
"or else <prgn>iptables</prgn> will not work:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:536
#, no-wrap
msgid "[ ]   Network packet filtering debugging (NEW)"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:546
msgid ""
"Next, add the correct options in the section <em>IP: Netfilter "
"Configuration</em>. Then, compile and install the kernel. If you want to do "
"it the <em>Debian way</em>, install <package>kernel-package</package> and "
"run <prgn>make-kpkg</prgn> to create a custom Debian kernel package you can "
"install on your server using dpkg. Once the new kernel is compiled and "
"installed, install the <package>bridge-utils</package> package."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:551
msgid ""
"Once these steps are complete, you can complete the configuration of your "
"bridge. The next section presents two different possible configurations for "
"the bridge, each with a hypothetical network map and the necessary commands."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:553
msgid "A bridge providing NAT and firewall capabilities"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:557
msgid ""
"The first configuration uses the bridge as a firewall with network address "
"translation (NAT) that protects a server and internal LAN clients. A diagram "
"of the network configuration is shown below:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:565
#, no-wrap
msgid ""
"Internet ---- router ( 62.3.3.25 ) ---- bridge (62.3.3.26 gw 62.3.3.25 / "
"192.168.0.1)\n"
"                                          |\n"
"                                          |\n"
"                                          |---- WWW Server (62.3.3.27 gw "
"62.3.3.25)\n"
"                                          |\n"
"                                          |\n"
"                                         LAN --- Zipowz (192.168.0.2 gw "
"192.168.0.1)"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:569 securing-debian-howto.en.sgml:61 en/appendix.sgml:611
msgid "The following commands show how this bridge can be configured."
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:592
#, no-wrap
msgid ""
"# Create the interface br0\n"
"/usr/sbin/brctl addbr br0\n"
"\n"
"# Add the Ethernet interface to use with the bridge\n"
"/usr/sbin/brctl addif br0 eth0\n"
"/usr/sbin/brctl addif br0 eth1\n"
"\n"
"# Start up the Ethernet interface\n"
"/sbin/ifconfig eth0 0.0.0.0\n"
"/sbin/ifconfig eth1 0.0.0.0\n"
"\n"
"# Configure the bridge ethernet\n"
"# The bridge will be correct and invisible ( transparent firewall ).\n"
"# It's hidden in a traceroute and you keep your real gateway on the \n"
"# other computers. Now if you want you can config a gateway on your \n"
"# bridge and choose it as your new gateway for the other computers.\n"
"\n"
"/sbin/ifconfig br0 62.3.3.26 netmask 255.255.255.248 broadcast 62.3.3.31\n"
"\n"
"# I have added this internal IP to create my NAT \n"
"ip addr add 192.168.0.1/24 dev br0\n"
"/sbin/route add default gw 62.3.3.25"
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:596
msgid "A bridge providing firewall capabilities"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:599
msgid ""
"A second possible configuration is a system that is set up as a transparent "
"firewall for a LAN with a public IP address space."
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:607
#, no-wrap
msgid ""
"Internet ---- router (62.3.3.25) ---- bridge (62.3.3.26)\n"
"                                        |\n"
"                                        |\n"
"                                        |---- WWW Server (62.3.3.28 gw "
"62.3.3.25)\n"
"                                        |\n"
"                                        |\n"
"                                        |---- Mail Server (62.3.3.27 gw "
"62.3.3.25)"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:630
#, no-wrap
msgid ""
"# Create the interface br0\n"
"/usr/sbin/brctl addbr br0\n"
"\n"
"# Add the Ethernet interface to use with the bridge\n"
"/usr/sbin/brctl addif br0 eth0\n"
"/usr/sbin/brctl addif br0 eth1\n"
"\n"
"# Start up the Ethernet interface\n"
"/sbin/ifconfig eth0 0.0.0.0\n"
"/sbin/ifconfig eth1 0.0.0.0\n"
"\n"
"# Configure the bridge Ethernet\n"
"# The bridge will be correct and invisible ( transparent firewall ).\n"
"# It's hidden in a traceroute and you keep your real gateway on the \n"
"# other computers. Now if you want you can config a gateway on your\n"
"# bridge and choose it as your new gateway for the other computers.\n"
"\n"
"/sbin/ifconfig br0 62.3.3.26 netmask 255.255.255.248 broadcast 62.3.3.31"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:636
msgid ""
"If you traceroute the Linux Mail Server, you won't see the bridge. If you "
"want access to the bridge with <prgn>ssh</prgn>, you must have a gateway or "
"you must first connect to another server, such as the \"Mail Server\", and "
"then connect to the bridge through the internal network card."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:640
msgid "Basic IPtables rules"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:643
msgid ""
"This is an example of the basic rules that could be used for either of these "
"setups."
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:680
#, no-wrap
msgid ""
"iptables -F FORWARD\n"
"iptables -P FORWARD DROP\n"
"iptables -A FORWARD -s 0.0.0.0/0.0.0.0 -d 0.0.0.0/0.0.0.0 -m state --state "
"INVALID -j DROP\n"
"iptables -A FORWARD -m state --state ESTABLISHED,RELATED -j ACCEPT\n"
"\n"
"# Some funny rules but not in a classic Iptables sorry ...\n"
"# Limit ICMP \n"
"# iptables -A FORWARD -p icmp -m limit --limit 4/s -j ACCEPT\n"
"# Match string, a good simple method to block some VIRUS very quickly\n"
"# iptables -I FORWARD -j DROP -p tcp -s 0.0.0.0/0 -m string --string "
"\"cmd.exe\"\n"
"\n"
"# Block all MySQL connection just to be sure\n"
"iptables -A FORWARD -p tcp -s 0/0 -d 62.3.3.0/24 --dport 3306 -j DROP\n"
"\n"
"# Linux Mail Server Rules\n"
"\n"
"# Allow FTP-DATA (20), FTP (21), SSH (22) \n"
"iptables -A FORWARD -p tcp -s 0.0.0.0/0 -d 62.3.3.27/32 --dport 20:22 -j "
"ACCEPT\n"
"\n"
"# Allow the Mail Server to connect to the outside\n"
"# Note: This is *not* needed for the previous connections \n"
"# (remember: stateful filtering) and could be removed.\n"
"iptables -A FORWARD -p tcp -s 62.3.3.27/32 -d 0/0 -j ACCEPT\n"
"\n"
"# WWW Server Rules\n"
"\n"
"# Allow HTTP ( 80 ) connections with the WWW server\n"
"iptables -A FORWARD -p tcp -s 0.0.0.0/0 -d 62.3.3.28/32 --dport 80 -j "
"ACCEPT\n"
"\n"
"# Allow HTTPS ( 443 ) connections with the WWW server\n"
"iptables -A FORWARD -p tcp -s 0.0.0.0/0 -d 62.3.3.28/32 --dport 443 -j "
"ACCEPT\n"
"\n"
"# Allow the WWW server to go out\n"
"# Note: This is *not* needed for the previous connections \n"
"# (remember: stateful filtering) and could be removed.\n"
"iptables -A FORWARD -p tcp -s 62.3.3.28/32 -d 0/0 -j ACCEPT"
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:684
msgid "Sample script to change the default Bind installation."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:693
msgid ""
"This script automates the procedure for changing the <prgn>bind</prgn> "
"version 8 name server's default installation so that it does <em>not</em> "
"run as the superuser. Notice that <prgn>bind</prgn> version 9 in Debian "
"already does this by default <footnote><p>Since version 9.2.1-5. That is, "
"since Debian release <em>sarge</em>.</p></footnote> , and you are much "
"better using that version than <prgn>bind</prgn> version 8."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:700
msgid ""
"This script is here for historical purposes and to show how you can automate "
"this kind of changes system-wide. The script will create the user and groups "
"defined for the name server and will modify both "
"<file>/etc/default/bind</file> and <file>/etc/init.d/bind</file> so that the "
"program will run with that user. Use with extreme care since it has not been "
"tested thoroughly."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:705
msgid ""
"You can also create the users manually and use the patch available for the "
"default init.d script attached to <url "
"id=\"http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=157245\" name=\"bug "
"report #157245\">."
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:850
#, no-wrap
msgid ""
"  #!/bin/sh\n"
"  # Change the default Debian bind v8 configuration to have it run\n"
"  # with a non-root user and group.\n"
"  # \n"
"  # DO NOT USER this with version 9, use debconf for configure this "
"instead\n"
"  #\n"
"  # WARN: This script has not been tested thoroughly, please\n"
"  # verify the changes made to the INITD script\n"
"\n"
"  # (c) 2002 Javier Fernández-Sanguino Peña\n"
"  #\n"
"  #    This program is free software; you can redistribute it and/or "
"modify\n"
"  #    it under the terms of the GNU General Public License as published "
"by\n"
"  #    the Free Software Foundation; either version 1, or (at your option)\n"
"  #    any later version.\n"
"  #\n"
"  #    This program is distributed in the hope that it will be useful,\n"
"  #    but WITHOUT ANY WARRANTY; without even the implied warranty of\n"
"  #    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n"
"  #    GNU General Public License for more details.\n"
"  #\n"
"  #     Please see the file `COPYING' for the complete copyright notice.\n"
"  #\n"
"\n"
"  restore() {\n"
"  # Just in case, restore the system if the changes fail\n"
"    echo \"WARN: Restoring to the previous setup since I'm unable to "
"properly change it.\"\n"
"    echo \"WARN: Please check the $INITDERR script.\"\n"
"    mv $INITD $INITDERR\n"
"    cp $INITDBAK $INITD\n"
"  }\n"
"\n"
"\n"
"  USER=named\n"
"  GROUP=named\n"
"  INITD=/etc/init.d/bind\n"
"  DEFAULT=/etc/default/bind\n"
"  INITDBAK=$INITD.preuserchange\n"
"  INITDERR=$INITD.changeerror\n"
"  AWKS=\"awk ' /\\/usr\\/sbin\\/ndc reload/ { print \\\"stop; sleep 2; "
"start;\\\"; noprint = 1; } /\\\\\\\\$/ { if ( noprint != 0 ) { noprint = "
"noprint + 1;} } /^.*$/ { if ( noprint != 0 ) { noprint = noprint - 1; } else "
"{ print \\$0; } } '\"\n"
"\n"
"  [ `id -u` -ne 0 ] && {\n"
"    echo \"This program must be run by the root user\"\n"
"    exit 1\n"
"  }\n"
"\n"
"  RUNUSER=`ps eo user,fname |grep named |cut -f 1 -d \" \"`\n"
"\n"
"  if [ \"$RUNUSER\" = \"$USER\" ] \n"
"  then\n"
"    echo \"WARN: The name server running daemon is already running as "
"$USER\"\n"
"    echo \"ERR:  This script will not do any changes to your setup.\"\n"
"    exit 1\n"
"  fi\n"
"  if [ ! -f \"$INITD\" ]\n"
"  then\n"
"    echo \"ERR:  This system does not have $INITD (which this script tries "
"to change)\"\n"
"    RUNNING=`ps eo fname |grep named`\n"
"    [ -z \"$RUNNING\" ] && \\\n"
"      echo \"ERR:  In fact the name server daemon is not even running (is it "
"installed?)\"\n"
"    echo \"ERR:  No changes will be made to your system\"\n"
"    exit 1\n"
"  fi\n"
"\n"
"  # Check if there are options already setup \n"
"  if [ -e \"$DEFAULT\" ]\n"
"  then\n"
"    if grep -q ^OPTIONS $DEFAULT; then\n"
"      echo \"ERR: The $DEFAULT file already has options set.\"\n"
"      echo \"ERR:  No changes will be made to your system\"\n"
"    fi\n"
"  fi\n"
"\n"
"  # Check if named group exists\n"
"  if [ -z \"`grep $GROUP /etc/group`\" ] \n"
"  then\n"
"    echo \"Creating group $GROUP:\"\n"
"    addgroup $GROUP\n"
"  else\n"
"    echo \"WARN: Group $GROUP already exists. Will not create it\"\n"
"  fi\n"
"  # Same for the user\n"
"  if [ -z \"`grep $USER /etc/passwd`\" ] \n"
"  then\n"
"    echo \"Creating user $USER:\"\n"
"    adduser --system --home /home/$USER \\\n"
"      --no-create-home --ingroup $GROUP \\\n"
"      --disabled-password --disabled-login $USER\n"
"  else\n"
"    echo \"WARN: The user $USER already exists. Will not create it\"\n"
"  fi\n"
"\n"
"  # Change the init.d script\n"
"\n"
"  # First make a backup (check that there is not already\n"
"  # one there first)\n"
"  if [ ! -f $INITDBAK ] \n"
"  then\n"
"    cp $INITD $INITDBAK\n"
"  fi\n"
"\n"
"  # Then use it to change it\n"
"  cat $INITDBAK |\n"
"  eval $AWKS &gt; $INITD\n"
"\n"
"  # Now put the options in the /etc/default/bind file:\n"
"  cat &gt;&gt;$DEFAULT &lt;&lt;EOF\n"
"# Make bind run with the user we defined\n"
"OPTIONS=\"-u $USER -g $GROUP\"\n"
"EOF\n"
"\n"
"  echo \"WARN: The script $INITD has been changed, trying to test the "
"changes.\"\n"
"  echo \"Restarting the named daemon (check for errors here).\"\n"
"\n"
"  $INITD restart\n"
"  if [ $? -ne 0 ] \n"
"  then\n"
"    echo \"ERR:  Failed to restart the daemon.\"\n"
"    restore\n"
"    exit 1\n"
"  fi\n"
"\n"
"  RUNNING=`ps eo fname |grep named`\n"
"  if [ -z \"$RUNNING\" ] \n"
"  then\n"
"    echo \"ERR:  Named is not running, probably due to a problem with the "
"changes.\"\n"
"    restore\n"
"    exit 1\n"
"  fi\n"
"\n"
"  # Check if it's running as expected\n"
"  RUNUSER=`ps eo user,fname |grep named |cut -f 1 -d \" \"`\n"
"\n"
"  if [ \"$RUNUSER\" = \"$USER\" ] \n"
"  then\n"
"    echo \"All has gone well, named seems to be running now as $USER.\"\n"
"  else\n"
"    echo \"ERR:  The script failed to automatically change the system.\"\n"
"    echo \"ERR:  Named is currently running as $RUNUSER.\"\n"
"    restore\n"
"    exit 1\n"
"  fi\n"
"\n"
"  exit 0"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:856
msgid ""
"The previous script, run on Woody's (Debian 3.0) custom <prgn>bind</prgn> "
"(version 8), will modify the initd file after creating the 'named' user and "
"group and will"
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:858
msgid "Security update protected by a firewall"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:864
msgid ""
"After a standard installation, a system may still have some security "
"vulnerabilities. Unless you can download updates for the vulnerable packages "
"on another system (or you have mirrored security.debian.org for local use), "
"the system will have to be connected to the Internet for the downloads."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:872
msgid ""
"However, as soon as you connect to the Internet you are exposing this "
"system. If one of your local services is vulnerable, you might be "
"compromised even before the update is finished! This may seem paranoid but, "
"in fact, analysis from the <url id=\"http://www.honeynet.org\" "
"name=\"Honeynet Project\"> has shown that systems can be compromised in less "
"than three days, even if the system is not publicly known (i.e., not "
"published in DNS records)."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:880
msgid ""
"When doing an update on a system not protected by an external system like a "
"firewall, it is possible to properly configure your local firewall to "
"restrict connections involving only the security update itself. The example "
"below shows how to set up such local firewall capabilities, which allow "
"connections from security.debian.org only, logging all others."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:884
msgid ""
"The following example can be use to setup a restricted firewall ruleset. Run "
"this commands from a local console (not a remote one) to reduce the chances "
"of locking yourself out of the system."
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:917
#, no-wrap
msgid ""
"  # iptables -F\n"
"  # iptables -L\n"
"  Chain INPUT (policy ACCEPT)\n"
"  target     prot opt source               destination\n"
"\n"
"  Chain FORWARD (policy ACCEPT)\n"
"  target     prot opt source               destination\n"
"\n"
"  Chain OUTPUT (policy ACCEPT)\n"
"  target     prot opt source               destination\n"
"  # iptables -A OUTPUT -d security.debian.org --dport 80 -j ACCEPT\n"
"  # iptables -A INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT\n"
"  # iptables -A INPUT -p icmp -j ACCEPT\n"
"  # iptables -A INPUT -j LOG\n"
"  # iptables -A OUTPUT -j LOG\n"
"  # iptables -P INPUT DROP\n"
"  # iptables -P FORWARD DROP\n"
"  # iptables -P OUTPUT DROP\n"
"  # iptables -L\n"
"  Chain INPUT (policy DROP)\n"
"  target     prot opt source               destination\n"
"  ACCEPT     all  --  0.0.0.0/0            0.0.0.0/0          state "
"RELATED,ESTABLISHED\n"
"  ACCEPT     icmp --  0.0.0.0/0            0.0.0.0/0\n"
"  LOG        all  --  anywhere             anywhere           LOG level "
"warning\n"
"\n"
"  Chain FORWARD (policy DROP)\n"
"  target     prot opt source               destination\n"
"\n"
"  Chain OUTPUT (policy DROP)\n"
"  target     prot opt source               destination\n"
"  ACCEPT     80   --  anywhere             security.debian.org\n"
"  LOG        all  --  anywhere             anywhere           LOG level "
"warning"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:955
msgid ""
"Note: Using a <em>DROP</em> policy in the INPUT chain is the most correct "
"thing to do, but be <em>very</em> careful when doing this after flushing the "
"chain from a remote connection. When testing firewall rulesets from a remote "
"location it is best if you run a script with the firewall ruleset (instead "
"of introducing the ruleset line by line through the command line) and, as a "
"precaution, keep a backdoor<footnote><p>Such as "
"<em>knockd</em>. Alternatively, you can open a different console and have "
"the system ask for confirmation that there is somebody on the other side, "
"and reset the firewall chain if no confirmation is given. The following test "
"script could be of use: <example>#!/bin/bash while true; do read -n 1 -p "
"\"Are you there? \" -t 30 ayt if [ -z \"$ayt\" ] ; then break fi done # "
"Reset the firewall chain, user is not available echo echo \"Resetting "
"firewall chain!\" iptables -F iptables -P INPUT ACCEPT iptables -P FORWARD "
"ACCEPT iptables -P OUTPUT ACCEPT exit 1</example></p><p>Of course, you "
"should disable any backdoors before getting the system into "
"production.</p></footnote> configured so that you can re-enable access to "
"the system if you make a mistake. That way there would be no need to go to a "
"remote location to fix a firewall ruleset that blocks you."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:960
msgid ""
"FIXME: This needs DNS to be working properly since it is required for "
"security.debian.org to work. You can add security.debian.org to /etc/hosts "
"but now it is a CNAME to several hosts (there is more than one security "
"mirror)"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:963
msgid ""
"FIXME: this will only work with HTTP URLs since ftp might need the "
"ip_conntrack_ftp module, or use passive mode."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:965
msgid "<prgn>Chroot</prgn> environment for <prgn>SSH</prgn>"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:968
msgid ""
"Creating a restricted environment for <prgn>SSH</prgn> is a tough job due to "
"its dependencies and the fact that, unlike other servers, <prgn>SSH</prgn> "
"provides a remote shell to users. Thus, you will also have to consider the "
"applications users will be allowed to use in the environment."
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:972
msgid "You have two options to setup a restricted remote shell:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:977
msgid ""
"Chrooting the ssh users, by properly configuring the ssh daemon you can ask "
"it to chroot a user after authentication just before it is provided a "
"shell. Each user can have their own environment."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:980
msgid ""
"Chrooting the ssh server, since you chroot the ssh application itself all "
"users are chrooted to the defined environment."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:992
msgid ""
"The first option has the advantage of making it possible to have both "
"non-chrooted and chrooted users, if you don't introduce any setuid "
"application in the user's chroots it is more difficult to break out of "
"it. However, you might need to setup individual chroots for each user and it "
"is more difficult to setup (as it requires cooperation from the SSH "
"server). The second option is more easy to setup, and protects from an "
"exploitation of the ssh server itself (since it's also in the chroot) but it "
"will have the limitation that all users will share the same chroot "
"environment (you cannot setup a per-user chroot environment)."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:994
msgid "Chrooting the ssh users"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:997
msgid ""
"You can setup the ssh server so that it will chroot a set of defined users "
"into a shell with a limited set of applications available."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:999
msgid "Using <package>libpam-chroot</package>"
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1002
msgid ""
"Probably the easiest way is to use the <package>libpam-chroot</package> "
"package provided in Debian. Once you install it you need to:"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1007
msgid ""
"Modify <file>/etc/pam.d/ssh</file> to use this PAM module, add as its last "
"line<footnote><p>You can use the <em>debug</em> option to have it send the "
"progress of the module to the <em>authpriv.notice</em> "
"facility</p></footnote>:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1009
#, no-wrap
msgid "session    required   pam_chroot.so"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1043
msgid ""
"set a proper chroot environment for the user. You can try using the scripts "
"available at <file>/usr/share/doc/libpam-chroot/examples/</file>, use the "
"<package>makejail</package> <footnote><p>You can create a very limited bash "
"environment with the following python definition for makejail, just create "
"the directory <file>/var/chroots/users/foo</file> and a file with the "
"following contents and call it <file>bash.py</file>: "
"<example>chroot=\"/var/chroots/users/foo\" cleanJailFirst=1 "
"testCommandsInsideJail=[\"bash ls\"]</example></p><p>And then run "
"<em>makejail bash.py</em> to create the user environment at "
"<file>/var/chroots/users/foo</file>. To test the environment run: <example># "
"chroot /var/chroots/users/foo/ ls bin dev etc lib proc sbin "
"usr</example></p></footnote> program or setup a minimum Debian environment "
"with <package>debootstrap</package>. Make sure the environment includes the "
"needed devices <footnote><p>In some occasions you might need the "
"<file>/dev/ptmx</file> and <file>/dev/pty*</file> devices and the "
"<file>/dev/pts/</file> subdirectory. Running MAKEDEV in the "
"<file>/dev</file> directory of the chrooted environment should be sufficient "
"to create them if they do not exist. If you are using kernels (version 2.6) "
"which dynamically create device files you will need to create the /dev/pts/ "
"files yourself and grant them the proper privileges.</p></footnote>."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1049
msgid ""
"Configure <file>/etc/security/chroot.conf</file> so that the users you "
"determine are chrooted to the directory you setup previously. You might want "
"to have independent directories for different users so that they will not be "
"able to see neither the whole system nor each other's."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1057
msgid ""
"Configure SSH: Depending on your OpenSSH version the chroot environment "
"might work straight of the box or not. Since 3.6.1p2 the "
"<em>do_pam_session()</em> function is called after sshd has dropped "
"privileges, since chroot() needs root priviledges it will not work with "
"Privilege separation on. In newer OpenSSH versions, however, the PAM code "
"has been modified and do_pam_session is called before dropping priviledges "
"so it will work even with Privilege separation is on. If you have to disable "
"it modify <file>/etc/ssh/sshd_config</file> like this:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1059
#, no-wrap
msgid "UsePrivilegeSeparation no"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1071
msgid ""
"Notice that this will lower the security of your system since the OpenSSH "
"server will then run as <em>root</em> user. This means that if a remote "
"attack is found against OpenSSH an attacker will get <em>root</em> "
"privileges instead of <em>sshd</em>, thus compromising the whole "
"system. <footnote><p>If you are using a kernel that implements Mandatory "
"Access Control (RSBAC/SElinux) you can avoid changing this configuration "
"just by granting the <em>sshd</em> user privileges to make the chroot() "
"system call.</p></footnote>"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1077
msgid ""
"If you don't disable <em>Privilege Separation</em> you will need an "
"<file>/etc/passwd</file> which includes the user's UID inside the chroot for "
"<em>Privilege Separation</em> to work properly."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1082
msgid ""
"If you have <em>Privilege Separation</em> set to <strong>yes</strong> and "
"your OpenSSH version does not behave properly you will need to disable "
"it. If you don't, users that try to connect to your server and would be "
"chrooted by this module will see this:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1087
#, no-wrap
msgid ""
"$ ssh -l user server\n"
"user@server's password:\n"
"Connection to server closed by remote host.\n"
"Connection to server closed."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1094
msgid ""
"This is because the ssh daemon, which is running as 'sshd', is not be able "
"to make the chroot() system call. To disable Privilege separation you have "
"to modify the <file>/etc/ssh/sshd_config</file> configuration file as "
"described above."
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1097
msgid ""
"Notice that if any of the following is missing the users will not be able to "
"logon to the chroot:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1102
msgid "The <file>/proc</file> filesystem needs to be mounted in the users' chroot."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1106
msgid ""
"The necessary <file>/dev/pts/</file> devices need to exist. If the files are "
"generated by your running kernel automatically then you have to manually "
"create them on the chroot's <file>/dev/</file>."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1109
msgid ""
"The user's home directory has to exist in the chroot, otherwise the ssh "
"daemon will not continue."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1115
msgid ""
"You can debug all these issues if you use the <em>debug</em> keyword in the "
"<file>/etc/pam.d/ssh</file> PAM definition. If you encounter issues you "
"might find it useful to enable the debugging mode on the ssh client too."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1119
msgid ""
"Note: This information is also available (and maybe more up to date) in "
"<file>/usr/share/doc/libpam-chroot/README.Debian.gz</file>, please review it "
"for updated information before taking the above steps."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1123
msgid "Patching the <prgn>ssh</prgn> server"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1144
msgid ""
"Debian's <prgn>sshd</prgn> does not allow restriction of a user's movement "
"through the server, since it lacks the <prgn>chroot</prgn> function that the "
"commercial program <prgn>sshd2</prgn> includes (using 'ChrootGroups' or "
"'ChrootUsers', see <manref section=\"5\" name=\"sshd2_config\">). However, "
"there is a patch available to add this functionality available from <url "
"id=\"http://chrootssh.sourceforge.net\" name=\"ChrootSSH project\"> "
"(requested and available in <url id=\"http://bugs.debian.org/139047\" "
"name=\"Bug #139047\"> in Debian). The patch may be included in future "
"releases of the OpenSSH package. Emmanuel Lacour has <prgn>ssh</prgn> deb "
"packages for <em>sarge</em> with this feature. They are available at <url "
"id=\"http://debian.home-dn.net/sarge/ssh/\">. Notice that those might not be "
"up to date so completing the compilation step is recommended."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1148
msgid ""
"After applying the patch, modify <file>/etc/passwd</file> by changing the "
"home path of the users (with the special <tt>/./</tt> token):"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1150
#, no-wrap
msgid "  joeuser:x:1099:1099:Joe Random User:/home/joe/./:/bin/bash"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1155
msgid ""
"This will restrict <em>both</em> remote shell access, as well as remote copy "
"through the <prgn>ssh</prgn> channel."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1160
msgid ""
"Make sure to have all the needed binaries and libraries in the "
"<prgn>chroot</prgn>'ed path for users. These files should be owned by root "
"to avoid tampering by the user (so as to exit the <prgn>chroot</prgn>'ed "
"jailed). A sample might include:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1172
#, no-wrap
msgid ""
"./bin:\n"
"total 660\n"
"drwxr-xr-x    2 root     root         4096 Mar 18 13:36 .\n"
"drwxr-xr-x    8 guest    guest        4096 Mar 15 16:53 ..\n"
"-r-xr-xr-x    1 root     root       531160 Feb  6 22:36 bash\n"
"-r-xr-xr-x    1 root     root        43916 Nov 29 13:19 ls\n"
"-r-xr-xr-x    1 root     root        16684 Nov 29 13:19 mkdir\n"
"-rwxr-xr-x    1 root     root        23960 Mar 18 13:36 more\n"
"-r-xr-xr-x    1 root     root         9916 Jul 26  2001 pwd\n"
"-r-xr-xr-x    1 root     root        24780 Nov 29 13:19 rm\n"
"lrwxrwxrwx    1 root     root            4 Mar 30 16:29 sh -> bash"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1182
#, no-wrap
msgid ""
"./etc:\n"
"total 24\n"
"drwxr-xr-x    2 root     root         4096 Mar 15 16:13 .\n"
"drwxr-xr-x    8 guest    guest        4096 Mar 15 16:53 ..\n"
"-rw-r--r--    1 root     root           54 Mar 15 13:23 group\n"
"-rw-r--r--    1 root     root          428 Mar 15 15:56 hosts\n"
"-rw-r--r--    1 root     root           44 Mar 15 15:53 passwd\n"
"-rw-r--r--    1 root     root           52 Mar 15 13:23 shells"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1201
#, no-wrap
msgid ""
"./lib:\n"
"total 1848\n"
"drwxr-xr-x    2 root     root         4096 Mar 18 13:37 .\n"
"drwxr-xr-x    8 guest    guest        4096 Mar 15 16:53 ..\n"
"-rwxr-xr-x    1 root     root        92511 Mar 15 12:49 ld-linux.so.2\n"
"-rwxr-xr-x    1 root     root      1170812 Mar 15 12:49 libc.so.6\n"
"-rw-r--r--    1 root     root        20900 Mar 15 13:01 libcrypt.so.1\n"
"-rw-r--r--    1 root     root         9436 Mar 15 12:49 libdl.so.2\n"
"-rw-r--r--    1 root     root       248132 Mar 15 12:48 libncurses.so.5\n"
"-rw-r--r--    1 root     root        71332 Mar 15 13:00 libnsl.so.1\n"
"-rw-r--r--    1 root     root        34144 Mar 15 16:10\n"
"libnss_files.so.2\n"
"-rw-r--r--    1 root     root        29420 Mar 15 12:57 libpam.so.0\n"
"-rw-r--r--    1 root     root       105498 Mar 15 12:51 libpthread.so.0\n"
"-rw-r--r--    1 root     root        25596 Mar 15 12:51 librt.so.1\n"
"-rw-r--r--    1 root     root         7760 Mar 15 12:59 libutil.so.1\n"
"-rw-r--r--    1 root     root        24328 Mar 15 12:57 libwrap.so.0"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1209
#, no-wrap
msgid ""
"./usr:\n"
"total 16\n"
"drwxr-xr-x    4 root     root         4096 Mar 15 13:00 .\n"
"drwxr-xr-x    8 guest    guest        4096 Mar 15 16:53 ..\n"
"drwxr-xr-x    2 root     root         4096 Mar 15 15:55 bin\n"
"drwxr-xr-x    2 root     root         4096 Mar 15 15:37 lib"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1221
#, no-wrap
msgid ""
"./usr/bin:\n"
"total 340\n"
"drwxr-xr-x    2 root     root         4096 Mar 15 15:55 .\n"
"drwxr-xr-x    4 root     root         4096 Mar 15 13:00 ..\n"
"-rwxr-xr-x    1 root     root        10332 Mar 15 15:55 env\n"
"-rwxr-xr-x    1 root     root        13052 Mar 15 13:13 id\n"
"-r-xr-xr-x    1 root     root        25432 Mar 15 12:40 scp\n"
"-rwxr-xr-x    1 root     root        43768 Mar 15 15:15 sftp\n"
"-r-sr-xr-x    1 root     root       218456 Mar 15 12:40 ssh\n"
"-rwxr-xr-x    1 root     root         9692 Mar 15 13:17 tty"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1231
#, no-wrap
msgid ""
"./usr/lib:\n"
"total 852\n"
"drwxr-xr-x    2 root     root         4096 Mar 15 15:37 .\n"
"drwxr-xr-x    4 root     root         4096 Mar 15 13:00 ..\n"
"-rw-r--r--    1 root     root       771088 Mar 15 13:01\n"
"libcrypto.so.0.9.6\n"
"-rw-r--r--    1 root     root        54548 Mar 15 13:00 libz.so.1\n"
"-rwxr-xr-x    1 root     root        23096 Mar 15 15:37 sftp-server"
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1238
msgid "Chrooting the ssh server"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1242
msgid ""
"If you create a chroot which includes the SSH server files in, for example "
"<file>/var/chroot/ssh</file>, you would start the <prgn>ssh</prgn> server "
"<prgn>chroot</prgn>'ed with this command:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1244
#, no-wrap
msgid "  # chroot /var/chroot/ssh /sbin/sshd -f /etc/sshd_config"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1255
msgid ""
"That would make startup the <prgn>sshd</prgn> daemon inside the chroot. In "
"order to do that you have to first prepare the contents of the "
"<file>/var/chroot/ssh</file> directory so that it includes both the SSH "
"server and all the utilities that the users connecting to that server might "
"need. If you are doing this you should make certain that OpenSSH uses "
"<em>Privilege Separation</em> (which is the default) having the following "
"line in the configuration file <file>/etc/ssh/sshd_config</file>:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1257
#, no-wrap
msgid "UsePrivilegeSeparation yes"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1265
msgid ""
"That way the remote daemon will do as few things as possible as the root "
"user so even if there is a bug in it it will not compromise the "
"chroot. Notice that, unlike the case in which you setup a per-user chroot, "
"the ssh daemon is running in the same chroot as the users so there is at "
"least one potential process running as root which could break out of the "
"chroot."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1271
msgid ""
"Notice, also, that in order for SSH to work in that location, the partition "
"where the chroot directory resides cannot be mounted with the <em>nodev</em> "
"option. If you use that option, then you will get the following error: "
"<em>PRNG is not seeded</em>, because <file>/dev/urandom</file> does not work "
"in the chroot."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1273
msgid "Setup a minimal system (the really easy way)"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1284
msgid ""
"You can use <package>debootstrap</package> to setup a minimal environment "
"that just includes the ssh server. In order to do this you just have to "
"create a chroot as described in the <url "
"id=\"http://www.debian.org/doc/manuals/reference/ch09#_chroot_system\" "
"name=\"chroot section of the Debian Reference\"> document. This method is "
"bound to work (you will get all the necessary componentes for the chroot) "
"but at the cost of disk space (a minimal installation of Debian will amount "
"to several hundred megabytes). This minimal system might also include setuid "
"files that a user in the chroot could use to break out of the chroot if any "
"of those could be use for a privilege escalation."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1288
msgid "Automatically making the environment (the easy way)"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1293
msgid ""
"You can easily create a restricted environment with the "
"<package>makejail</package> package, since it automatically takes care of "
"tracing the server daemon (with <prgn>strace</prgn>), and makes it run under "
"the restricted environment."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1298
msgid ""
"The advantage of programs that automatically generate <prgn>chroot</prgn> "
"environments is that they are capable of copying any package to the "
"<prgn>chroot</prgn> environment (even following the package's dependencies "
"and making sure it's complete). Thus, providing user applications is easier."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1301
msgid ""
"To set up the environment using <prgn>makejail</prgn>'s provided examples, "
"just create <file>/var/chroot/sshd</file> and use the command:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1303
#, no-wrap
msgid "  # makejail /usr/share/doc/makejail/examples/sshd.py"
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1308
msgid ""
"This will setup the chroot in the <file>/var/chroot/sshd</file> "
"directory. Notice that this chroot will not fully work unless you:"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1312
msgid ""
"Mount the <em>procfs</em> filesystem in "
"<file>/var/chroot/sshd/proc</file>. <prgn>Makejail</prgn> will mount it for "
"you but if the system reboots you need to remount it running:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1314
#, no-wrap
msgid "# mount -t proc proc /var/chroot/sshd/proc"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1319
msgid ""
"You can also have it be mounted automatically by editing "
"<file>/etc/fstab</file> and including this line:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1321
#, no-wrap
msgid "proc-ssh /var/chroot/sshd/proc  proc none 0 0"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1328
msgid ""
"Have syslog listen to the device <file>/dev/log</file> inside the chroot. In "
"order to do this you have modify <file>/etc/default/syslogd</file> and add "
"<em>-a /var/chroot/sshd/dev/log</em> to the <strong>SYSLOGD</strong> "
"variable definition."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1338
msgid ""
"Read the sample file to see what other changes need to be made to the "
"environment. Some of these changes, such as copying user's home directories, "
"cannot be done automatically. Also, limit the exposure of sensitive "
"information by only copying the data from a given number of users from the "
"files <file>/etc/shadow</file> or <file>/etc/group</file>. Notice that if "
"you are using Privilege Separation the <em>sshd</em> user needs to exist in "
"those files."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1342
msgid ""
"The following sample environment has been (slightly) tested in Debian 3.0 "
"and is built with the configuration file provided in the package and "
"includes the <package>fileutils</package> package:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1530
#, no-wrap
msgid ""
".\n"
"|-- bin\n"
"|   |-- ash\n"
"|   |-- bash\n"
"|   |-- chgrp\n"
"|   |-- chmod\n"
"|   |-- chown\n"
"|   |-- cp\n"
"|   |-- csh -> /etc/alternatives/csh\n"
"|   |-- dd\n"
"|   |-- df\n"
"|   |-- dir\n"
"|   |-- fdflush\n"
"|   |-- ksh\n"
"|   |-- ln\n"
"|   |-- ls\n"
"|   |-- mkdir\n"
"|   |-- mknod\n"
"|   |-- mv\n"
"|   |-- rbash -> bash\n"
"|   |-- rm\n"
"|   |-- rmdir\n"
"|   |-- sh -> bash\n"
"|   |-- sync\n"
"|   |-- tcsh\n"
"|   |-- touch\n"
"|   |-- vdir\n"
"|   |-- zsh -> /etc/alternatives/zsh\n"
"|   `-- zsh4\n"
"|-- dev\n"
"|   |-- null\n"
"|   |-- ptmx\n"
"|   |-- pts\n"
"|   |-- ptya0\n"
"(...)\n"
"|   |-- tty\n"
"|   |-- tty0\n"
"(...)\n"
"|   `-- urandom\n"
"|-- etc\n"
"|   |-- alternatives\n"
"|   |   |-- csh -> /bin/tcsh\n"
"|   |   `-- zsh -> /bin/zsh4\n"
"|   |-- environment\n"
"|   |-- hosts\n"
"|   |-- hosts.allow\n"
"|   |-- hosts.deny\n"
"|   |-- ld.so.conf\n"
"|   |-- localtime -> /usr/share/zoneinfo/Europe/Madrid\n"
"|   |-- motd\n"
"|   |-- nsswitch.conf\n"
"|   |-- pam.conf\n"
"|   |-- pam.d\n"
"|   |   |-- other\n"
"|   |   `-- ssh\n"
"|   |-- passwd\n"
"|   |-- resolv.conf\n"
"|   |-- security\n"
"|   |   |-- access.conf\n"
"|   |   |-- chroot.conf\n"
"|   |   |-- group.conf\n"
"|   |   |-- limits.conf\n"
"|   |   |-- pam_env.conf\n"
"|   |   `-- time.conf\n"
"|   |-- shadow\n"
"|   |-- shells\n"
"|   `-- ssh\n"
"|       |-- moduli\n"
"|       |-- ssh_host_dsa_key\n"
"|       |-- ssh_host_dsa_key.pub\n"
"|       |-- ssh_host_rsa_key\n"
"|       |-- ssh_host_rsa_key.pub\n"
"|       `-- sshd_config\n"
"|-- home\n"
"|   `-- userX\n"
"|-- lib\n"
"|   |-- ld-2.2.5.so\n"
"|   |-- ld-linux.so.2 -> ld-2.2.5.so\n"
"|   |-- libc-2.2.5.so\n"
"|   |-- libc.so.6 -> libc-2.2.5.so\n"
"|   |-- libcap.so.1 -> libcap.so.1.10\n"
"|   |-- libcap.so.1.10\n"
"|   |-- libcrypt-2.2.5.so\n"
"|   |-- libcrypt.so.1 -> libcrypt-2.2.5.so\n"
"|   |-- libdl-2.2.5.so\n"
"|   |-- libdl.so.2 -> libdl-2.2.5.so\n"
"|   |-- libm-2.2.5.so\n"
"|   |-- libm.so.6 -> libm-2.2.5.so\n"
"|   |-- libncurses.so.5 -> libncurses.so.5.2\n"
"|   |-- libncurses.so.5.2\n"
"|   |-- libnsl-2.2.5.so\n"
"|   |-- libnsl.so.1 -> libnsl-2.2.5.so\n"
"|   |-- libnss_compat-2.2.5.so\n"
"|   |-- libnss_compat.so.2 -> libnss_compat-2.2.5.so\n"
"|   |-- libnss_db-2.2.so\n"
"|   |-- libnss_db.so.2 -> libnss_db-2.2.so\n"
"|   |-- libnss_dns-2.2.5.so\n"
"|   |-- libnss_dns.so.2 -> libnss_dns-2.2.5.so\n"
"|   |-- libnss_files-2.2.5.so\n"
"|   |-- libnss_files.so.2 -> libnss_files-2.2.5.so\n"
"|   |-- libnss_hesiod-2.2.5.so\n"
"|   |-- libnss_hesiod.so.2 -> libnss_hesiod-2.2.5.so\n"
"|   |-- libnss_nis-2.2.5.so\n"
"|   |-- libnss_nis.so.2 -> libnss_nis-2.2.5.so\n"
"|   |-- libnss_nisplus-2.2.5.so\n"
"|   |-- libnss_nisplus.so.2 -> libnss_nisplus-2.2.5.so\n"
"|   |-- libpam.so.0 -> libpam.so.0.72\n"
"|   |-- libpam.so.0.72\n"
"|   |-- libpthread-0.9.so\n"
"|   |-- libpthread.so.0 -> libpthread-0.9.so\n"
"|   |-- libresolv-2.2.5.so\n"
"|   |-- libresolv.so.2 -> libresolv-2.2.5.so\n"
"|   |-- librt-2.2.5.so\n"
"|   |-- librt.so.1 -> librt-2.2.5.so\n"
"|   |-- libutil-2.2.5.so\n"
"|   |-- libutil.so.1 -> libutil-2.2.5.so\n"
"|   |-- libwrap.so.0 -> libwrap.so.0.7.6\n"
"|   |-- libwrap.so.0.7.6\n"
"|   `-- security\n"
"|       |-- pam_access.so\n"
"|       |-- pam_chroot.so\n"
"|       |-- pam_deny.so\n"
"|       |-- pam_env.so\n"
"|       |-- pam_filter.so\n"
"|       |-- pam_ftp.so\n"
"|       |-- pam_group.so\n"
"|       |-- pam_issue.so\n"
"|       |-- pam_lastlog.so\n"
"|       |-- pam_limits.so\n"
"|       |-- pam_listfile.so\n"
"|       |-- pam_mail.so\n"
"|       |-- pam_mkhomedir.so\n"
"|       |-- pam_motd.so\n"
"|       |-- pam_nologin.so\n"
"|       |-- pam_permit.so\n"
"|       |-- pam_rhosts_auth.so\n"
"|       |-- pam_rootok.so\n"
"|       |-- pam_securetty.so\n"
"|       |-- pam_shells.so\n"
"|       |-- pam_stress.so\n"
"|       |-- pam_tally.so\n"
"|       |-- pam_time.so\n"
"|       |-- pam_unix.so\n"
"|       |-- pam_unix_acct.so -> pam_unix.so\n"
"|       |-- pam_unix_auth.so -> pam_unix.so\n"
"|       |-- pam_unix_passwd.so -> pam_unix.so\n"
"|       |-- pam_unix_session.so -> pam_unix.so\n"
"|       |-- pam_userdb.so\n"
"|       |-- pam_warn.so\n"
"|       `-- pam_wheel.so\n"
"|-- sbin\n"
"|   `-- start-stop-daemon\n"
"|-- usr\n"
"|   |-- bin\n"
"|   |   |-- dircolors\n"
"|   |   |-- du\n"
"|   |   |-- install\n"
"|   |   |-- link\n"
"|   |   |-- mkfifo\n"
"|   |   |-- shred\n"
"|   |   |-- touch -> /bin/touch\n"
"|   |   `-- unlink\n"
"|   |-- lib\n"
"|   |   |-- libcrypto.so.0.9.6\n"
"|   |   |-- libdb3.so.3 -> libdb3.so.3.0.2\n"
"|   |   |-- libdb3.so.3.0.2\n"
"|   |   |-- libz.so.1 -> libz.so.1.1.4\n"
"|   |   `-- libz.so.1.1.4\n"
"|   |-- sbin\n"
"|   |   `-- sshd\n"
"|   `-- share\n"
"|       |-- locale\n"
"|       |   `-- es\n"
"|       |       |-- LC_MESSAGES\n"
"|       |       |   |-- fileutils.mo\n"
"|       |       |   |-- libc.mo\n"
"|       |       |   `-- sh-utils.mo\n"
"|       |       `-- LC_TIME -> LC_MESSAGES\n"
"|       `-- zoneinfo\n"
"|           `-- Europe\n"
"|               `-- Madrid\n"
"`-- var\n"
"    `-- run\n"
"        |-- sshd\n"
"        `-- sshd.pid\n"
"\n"
"27 directories, 733 files"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1536
msgid ""
"For Debian release 3.1 you have to make sure that the environment includes "
"also the common files for PAM. The following files need to be copied over to "
"the chroot if <prgn>makejail</prgn> did not do it for you:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1540
#, no-wrap
msgid ""
"$ ls /etc/pam.d/common-*\n"
"/etc/pam.d/common-account  /etc/pam.d/common-password\n"
"/etc/pam.d/common-auth     /etc/pam.d/common-session"
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1549
msgid "Manually creating the environment (the hard way)"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1565
msgid ""
"It is possible to create an environment, using a trial-and-error method, by "
"monitoring the <prgn>sshd</prgn> server traces and log files in order to "
"determine the necessary files. The following environment, contributed by "
"José Luis Ledesma, is a sample listing of files in a <prgn>chroot</prgn> "
"environment for <prgn>ssh</prgn> in Debian woody (3.0): <footnote><p>Notice "
"that there are no SETUID files. This makes it more difficult for remote "
"users to escape the <prgn>chroot</prgn> environment. However, it also "
"prevents users from changing their passwords, since the <prgn>passwd</prgn> "
"program cannot modify the files <file>/etc/passwd</file> or "
"<file>/etc/shadow</file>.</p></footnote>"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1806
#, no-wrap
msgid ""
".:\n"
"total 36\n"
"drwxr-xr-x 9 root root 4096 Jun 5 10:05 ./\n"
"drwxr-xr-x 11 root root 4096 Jun 3 13:43 ../\n"
"drwxr-xr-x 2 root root 4096 Jun 4 12:13 bin/\n"
"drwxr-xr-x 2 root root 4096 Jun 4 12:16 dev/\n"
"drwxr-xr-x 4 root root 4096 Jun 4 12:35 etc/\n"
"drwxr-xr-x 3 root root 4096 Jun 4 12:13 lib/\n"
"drwxr-xr-x 2 root root 4096 Jun 4 12:35 sbin/\n"
"drwxr-xr-x 2 root root 4096 Jun 4 12:32 tmp/\n"
"drwxr-xr-x 2 root root 4096 Jun 4 12:16 usr/\n"
"./bin:\n"
"total 8368\n"
"drwxr-xr-x 2 root root 4096 Jun 4 12:13 ./\n"
"drwxr-xr-x 9 root root 4096 Jun 5 10:05 ../\n"
"-rwxr-xr-x 1 root root 109855 Jun 3 13:45 a2p*\n"
"-rwxr-xr-x 1 root root 387764 Jun 3 13:45 bash*\n"
"-rwxr-xr-x 1 root root 36365 Jun 3 13:45 c2ph*\n"
"-rwxr-xr-x 1 root root 20629 Jun 3 13:45 dprofpp*\n"
"-rwxr-xr-x 1 root root 6956 Jun 3 13:46 env*\n"
"-rwxr-xr-x 1 root root 158116 Jun 3 13:45 fax2ps*\n"
"-rwxr-xr-x 1 root root 104008 Jun 3 13:45 faxalter*\n"
"-rwxr-xr-x 1 root root 89340 Jun 3 13:45 faxcover*\n"
"-rwxr-xr-x 1 root root 441584 Jun 3 13:45 faxmail*\n"
"-rwxr-xr-x 1 root root 96036 Jun 3 13:45 faxrm*\n"
"-rwxr-xr-x 1 root root 107000 Jun 3 13:45 faxstat*\n"
"-rwxr-xr-x 1 root root 77832 Jun 4 11:46 grep*\n"
"-rwxr-xr-x 1 root root 19597 Jun 3 13:45 h2ph*\n"
"-rwxr-xr-x 1 root root 46979 Jun 3 13:45 h2xs*\n"
"-rwxr-xr-x 1 root root 10420 Jun 3 13:46 id*\n"
"-rwxr-xr-x 1 root root 4528 Jun 3 13:46 ldd*\n"
"-rwxr-xr-x 1 root root 111386 Jun 4 11:46 less*\n"
"-r-xr-xr-x 1 root root 26168 Jun 3 13:45 login*\n"
"-rwxr-xr-x 1 root root 49164 Jun 3 13:45 ls*\n"
"-rwxr-xr-x 1 root root 11600 Jun 3 13:45 mkdir*\n"
"-rwxr-xr-x 1 root root 24780 Jun 3 13:45 more*\n"
"-rwxr-xr-x 1 root root 154980 Jun 3 13:45 pal2rgb*\n"
"-rwxr-xr-x 1 root root 27920 Jun 3 13:46 passwd*\n"
"-rwxr-xr-x 1 root root 4241 Jun 3 13:45 pl2pm*\n"
"-rwxr-xr-x 1 root root 2350 Jun 3 13:45 pod2html*\n"
"-rwxr-xr-x 1 root root 7875 Jun 3 13:45 pod2latex*\n"
"-rwxr-xr-x 1 root root 17587 Jun 3 13:45 pod2man*\n"
"-rwxr-xr-x 1 root root 6877 Jun 3 13:45 pod2text*\n"
"-rwxr-xr-x 1 root root 3300 Jun 3 13:45 pod2usage*\n"
"-rwxr-xr-x 1 root root 3341 Jun 3 13:45 podchecker*\n"
"-rwxr-xr-x 1 root root 2483 Jun 3 13:45 podselect*\n"
"-r-xr-xr-x 1 root root 82412 Jun 4 11:46 ps*\n"
"-rwxr-xr-x 1 root root 36365 Jun 3 13:45 pstruct*\n"
"-rwxr-xr-x 1 root root 7120 Jun 3 13:45 pwd*\n"
"-rwxr-xr-x 1 root root 179884 Jun 3 13:45 rgb2ycbcr*\n"
"-rwxr-xr-x 1 root root 20532 Jun 3 13:45 rm*\n"
"-rwxr-xr-x 1 root root 6720 Jun 4 10:15 rmdir*\n"
"-rwxr-xr-x 1 root root 14705 Jun 3 13:45 s2p*\n"
"-rwxr-xr-x 1 root root 28764 Jun 3 13:46 scp*\n"
"-rwxr-xr-x 1 root root 385000 Jun 3 13:45 sendfax*\n"
"-rwxr-xr-x 1 root root 67548 Jun 3 13:45 sendpage*\n"
"-rwxr-xr-x 1 root root 88632 Jun 3 13:46 sftp*\n"
"-rwxr-xr-x 1 root root 387764 Jun 3 13:45 sh*\n"
"-rws--x--x 1 root root 744500 Jun 3 13:46 slogin*\n"
"-rwxr-xr-x 1 root root 14523 Jun 3 13:46 splain*\n"
"-rws--x--x 1 root root 744500 Jun 3 13:46 ssh*\n"
"-rwxr-xr-x 1 root root 570960 Jun 3 13:46 ssh-add*\n"
"-rwxr-xr-x 1 root root 502952 Jun 3 13:46 ssh-agent*\n"
"-rwxr-xr-x 1 root root 575740 Jun 3 13:46 ssh-keygen*\n"
"-rwxr-xr-x 1 root root 383480 Jun 3 13:46 ssh-keyscan*\n"
"-rwxr-xr-x 1 root root 39 Jun 3 13:46 ssh_europa*\n"
"-rwxr-xr-x 1 root root 107252 Jun 4 10:14 strace*\n"
"-rwxr-xr-x 1 root root 8323 Jun 4 10:14 strace-graph*\n"
"-rwxr-xr-x 1 root root 158088 Jun 3 13:46 thumbnail*\n"
"-rwxr-xr-x 1 root root 6312 Jun 3 13:46 tty*\n"
"-rwxr-xr-x 1 root root 55904 Jun 4 11:46 useradd*\n"
"-rwxr-xr-x 1 root root 585656 Jun 4 11:47 vi*\n"
"-rwxr-xr-x 1 root root 6444 Jun 4 11:45 whoami*\n"
"./dev:\n"
"total 8\n"
"drwxr-xr-x 2 root root 4096 Jun 4 12:16 ./\n"
"drwxr-xr-x 9 root root 4096 Jun 5 10:05 ../\n"
"crw-r--r-- 1 root root 1, 9 Jun 3 13:43 urandom\n"
"./etc:\n"
"total 208\n"
"drwxr-xr-x 4 root root 4096 Jun 4 12:35 ./\n"
"drwxr-xr-x 9 root root 4096 Jun 5 10:05 ../\n"
"-rw------- 1 root root 0 Jun 4 11:46 .pwd.lock\n"
"-rw-r--r-- 1 root root 653 Jun 3 13:46 group\n"
"-rw-r--r-- 1 root root 242 Jun 4 11:33 host.conf\n"
"-rw-r--r-- 1 root root 857 Jun 4 12:04 hosts\n"
"-rw-r--r-- 1 root root 1050 Jun 4 11:29 ld.so.cache\n"
"-rw-r--r-- 1 root root 304 Jun 4 11:28 ld.so.conf\n"
"-rw-r--r-- 1 root root 235 Jun 4 11:27 ld.so.conf~\n"
"-rw-r--r-- 1 root root 88039 Jun 3 13:46 moduli\n"
"-rw-r--r-- 1 root root 1342 Jun 4 11:34 nsswitch.conf\n"
"drwxr-xr-x 2 root root 4096 Jun 4 12:02 pam.d/\n"
"-rw-r--r-- 1 root root 28 Jun 4 12:00 pam_smb.conf\n"
"-rw-r--r-- 1 root root 2520 Jun 4 11:57 passwd\n"
"-rw-r--r-- 1 root root 7228 Jun 3 13:48 profile\n"
"-rw-r--r-- 1 root root 1339 Jun 4 11:33 protocols\n"
"-rw-r--r-- 1 root root 274 Jun 4 11:44 resolv.conf\n"
"drwxr-xr-x 2 root root 4096 Jun 3 13:43 security/\n"
"-rw-r----- 1 root root 1178 Jun 4 11:51 shadow\n"
"-rw------- 1 root root 80 Jun 4 11:45 shadow-\n"
"-rw-r----- 1 root root 1178 Jun 4 11:48 shadow.old\n"
"-rw-r--r-- 1 root root 161 Jun 3 13:46 shells\n"
"-rw-r--r-- 1 root root 1144 Jun 3 13:46 ssh_config\n"
"-rw------- 1 root root 668 Jun 3 13:46 ssh_host_dsa_key\n"
"-rw-r--r-- 1 root root 602 Jun 3 13:46 ssh_host_dsa_key.pub\n"
"-rw------- 1 root root 527 Jun 3 13:46 ssh_host_key\n"
"-rw-r--r-- 1 root root 331 Jun 3 13:46 ssh_host_key.pub\n"
"-rw------- 1 root root 883 Jun 3 13:46 ssh_host_rsa_key\n"
"-rw-r--r-- 1 root root 222 Jun 3 13:46 ssh_host_rsa_key.pub\n"
"-rw-r--r-- 1 root root 2471 Jun 4 12:15 sshd_config\n"
"./etc/pam.d:\n"
"total 24\n"
"drwxr-xr-x 2 root root 4096 Jun 4 12:02 ./\n"
"drwxr-xr-x 4 root root 4096 Jun 4 12:35 ../\n"
"lrwxrwxrwx 1 root root 4 Jun 4 12:02 other -> sshd\n"
"-rw-r--r-- 1 root root 318 Jun 3 13:46 passwd\n"
"-rw-r--r-- 1 root root 546 Jun 4 11:36 ssh\n"
"-rw-r--r-- 1 root root 479 Jun 4 12:02 sshd\n"
"-rw-r--r-- 1 root root 370 Jun 3 13:46 su\n"
"./etc/security:\n"
"total 32\n"
"drwxr-xr-x 2 root root 4096 Jun 3 13:43 ./\n"
"drwxr-xr-x 4 root root 4096 Jun 4 12:35 ../\n"
"-rw-r--r-- 1 root root 1971 Jun 3 13:46 access.conf\n"
"-rw-r--r-- 1 root root 184 Jun 3 13:46 chroot.conf\n"
"-rw-r--r-- 1 root root 2145 Jun 3 13:46 group.conf\n"
"-rw-r--r-- 1 root root 1356 Jun 3 13:46 limits.conf\n"
"-rw-r--r-- 1 root root 2858 Jun 3 13:46 pam_env.conf\n"
"-rw-r--r-- 1 root root 2154 Jun 3 13:46 time.conf\n"
"./lib:\n"
"total 8316\n"
"drwxr-xr-x 3 root root 4096 Jun 4 12:13 ./\n"
"drwxr-xr-x 9 root root 4096 Jun 5 10:05 ../\n"
"-rw-r--r-- 1 root root 1024 Jun 4 11:51 cracklib_dict.hwm\n"
"-rw-r--r-- 1 root root 214324 Jun 4 11:51 cracklib_dict.pwd\n"
"-rw-r--r-- 1 root root 11360 Jun 4 11:51 cracklib_dict.pwi\n"
"-rwxr-xr-x 1 root root 342427 Jun 3 13:46 ld-linux.so.2*\n"
"-rwxr-xr-x 1 root root 4061504 Jun 3 13:46 libc.so.6*\n"
"lrwxrwxrwx 1 root root 15 Jun 4 12:11 libcrack.so -> libcrack.so.2.7*\n"
"lrwxrwxrwx 1 root root 15 Jun 4 12:11 libcrack.so.2 -> libcrack.so.2.7*\n"
"-rwxr-xr-x 1 root root 33291 Jun 4 11:39 libcrack.so.2.7*\n"
"-rwxr-xr-x 1 root root 60988 Jun 3 13:46 libcrypt.so.1*\n"
"-rwxr-xr-x 1 root root 71846 Jun 3 13:46 libdl.so.2*\n"
"-rwxr-xr-x 1 root root 27762 Jun 3 13:46 libhistory.so.4.0*\n"
"lrwxrwxrwx 1 root root 17 Jun 4 12:12 libncurses.so.4 -> "
"libncurses.so.4.2*\n"
"-rwxr-xr-x 1 root root 503903 Jun 3 13:46 libncurses.so.4.2*\n"
"lrwxrwxrwx 1 root root 17 Jun 4 12:12 libncurses.so.5 -> "
"libncurses.so.5.0*\n"
"-rwxr-xr-x 1 root root 549429 Jun 3 13:46 libncurses.so.5.0*\n"
"-rwxr-xr-x 1 root root 369801 Jun 3 13:46 libnsl.so.1*\n"
"-rwxr-xr-x 1 root root 142563 Jun 4 11:49 libnss_compat.so.1*\n"
"-rwxr-xr-x 1 root root 215569 Jun 4 11:49 libnss_compat.so.2*\n"
"-rwxr-xr-x 1 root root 61648 Jun 4 11:34 libnss_dns.so.1*\n"
"-rwxr-xr-x 1 root root 63453 Jun 4 11:34 libnss_dns.so.2*\n"
"-rwxr-xr-x 1 root root 63782 Jun 4 11:34 libnss_dns6.so.2*\n"
"-rwxr-xr-x 1 root root 205715 Jun 3 13:46 libnss_files.so.1*\n"
"-rwxr-xr-x 1 root root 235932 Jun 3 13:49 libnss_files.so.2*\n"
"-rwxr-xr-x 1 root root 204383 Jun 4 11:33 libnss_nis.so.1*\n"
"-rwxr-xr-x 1 root root 254023 Jun 4 11:33 libnss_nis.so.2*\n"
"-rwxr-xr-x 1 root root 256465 Jun 4 11:33 libnss_nisplus.so.2*\n"
"lrwxrwxrwx 1 root root 14 Jun 4 12:12 libpam.so.0 -> libpam.so.0.72*\n"
"-rwxr-xr-x 1 root root 31449 Jun 3 13:46 libpam.so.0.72*\n"
"lrwxrwxrwx 1 root root 19 Jun 4 12:12 libpam_misc.so.0 ->\n"
"libpam_misc.so.0.72*\n"
"-rwxr-xr-x 1 root root 8125 Jun 3 13:46 libpam_misc.so.0.72*\n"
"lrwxrwxrwx 1 root root 15 Jun 4 12:12 libpamc.so.0 -> libpamc.so.0.72*\n"
"-rwxr-xr-x 1 root root 10499 Jun 3 13:46 libpamc.so.0.72*\n"
"-rwxr-xr-x 1 root root 176427 Jun 3 13:46 libreadline.so.4.0*\n"
"-rwxr-xr-x 1 root root 44729 Jun 3 13:46 libutil.so.1*\n"
"-rwxr-xr-x 1 root root 70254 Jun 3 13:46 libz.a*\n"
"lrwxrwxrwx 1 root root 13 Jun 4 12:13 libz.so -> libz.so.1.1.3*\n"
"lrwxrwxrwx 1 root root 13 Jun 4 12:13 libz.so.1 -> libz.so.1.1.3*\n"
"-rwxr-xr-x 1 root root 63312 Jun 3 13:46 libz.so.1.1.3*\n"
"drwxr-xr-x 2 root root 4096 Jun 4 12:00 security/\n"
"./lib/security:\n"
"total 668\n"
"drwxr-xr-x 2 root root 4096 Jun 4 12:00 ./\n"
"drwxr-xr-x 3 root root 4096 Jun 4 12:13 ../\n"
"-rwxr-xr-x 1 root root 10067 Jun 3 13:46 pam_access.so*\n"
"-rwxr-xr-x 1 root root 8300 Jun 3 13:46 pam_chroot.so*\n"
"-rwxr-xr-x 1 root root 14397 Jun 3 13:46 pam_cracklib.so*\n"
"-rwxr-xr-x 1 root root 5082 Jun 3 13:46 pam_deny.so*\n"
"-rwxr-xr-x 1 root root 13153 Jun 3 13:46 pam_env.so*\n"
"-rwxr-xr-x 1 root root 13371 Jun 3 13:46 pam_filter.so*\n"
"-rwxr-xr-x 1 root root 7957 Jun 3 13:46 pam_ftp.so*\n"
"-rwxr-xr-x 1 root root 12771 Jun 3 13:46 pam_group.so*\n"
"-rwxr-xr-x 1 root root 10174 Jun 3 13:46 pam_issue.so*\n"
"-rwxr-xr-x 1 root root 9774 Jun 3 13:46 pam_lastlog.so*\n"
"-rwxr-xr-x 1 root root 13591 Jun 3 13:46 pam_limits.so*\n"
"-rwxr-xr-x 1 root root 11268 Jun 3 13:46 pam_listfile.so*\n"
"-rwxr-xr-x 1 root root 11182 Jun 3 13:46 pam_mail.so*\n"
"-rwxr-xr-x 1 root root 5923 Jun 3 13:46 pam_nologin.so*\n"
"-rwxr-xr-x 1 root root 5460 Jun 3 13:46 pam_permit.so*\n"
"-rwxr-xr-x 1 root root 18226 Jun 3 13:46 pam_pwcheck.so*\n"
"-rwxr-xr-x 1 root root 12590 Jun 3 13:46 pam_rhosts_auth.so*\n"
"-rwxr-xr-x 1 root root 5551 Jun 3 13:46 pam_rootok.so*\n"
"-rwxr-xr-x 1 root root 7239 Jun 3 13:46 pam_securetty.so*\n"
"-rwxr-xr-x 1 root root 6551 Jun 3 13:46 pam_shells.so*\n"
"-rwxr-xr-x 1 root root 55925 Jun 4 12:00 pam_smb_auth.so*\n"
"-rwxr-xr-x 1 root root 12678 Jun 3 13:46 pam_stress.so*\n"
"-rwxr-xr-x 1 root root 11170 Jun 3 13:46 pam_tally.so*\n"
"-rwxr-xr-x 1 root root 11124 Jun 3 13:46 pam_time.so*\n"
"-rwxr-xr-x 1 root root 45703 Jun 3 13:46 pam_unix.so*\n"
"-rwxr-xr-x 1 root root 45703 Jun 3 13:46 pam_unix2.so*\n"
"-rwxr-xr-x 1 root root 45386 Jun 3 13:46 pam_unix_acct.so*\n"
"-rwxr-xr-x 1 root root 45386 Jun 3 13:46 pam_unix_auth.so*\n"
"-rwxr-xr-x 1 root root 45386 Jun 3 13:46 pam_unix_passwd.so*\n"
"-rwxr-xr-x 1 root root 45386 Jun 3 13:46 pam_unix_session.so*\n"
"-rwxr-xr-x 1 root root 9726 Jun 3 13:46 pam_userdb.so*\n"
"-rwxr-xr-x 1 root root 6424 Jun 3 13:46 pam_warn.so*\n"
"-rwxr-xr-x 1 root root 7460 Jun 3 13:46 pam_wheel.so*\n"
"./sbin:\n"
"total 3132\n"
"drwxr-xr-x 2 root root 4096 Jun 4 12:35 ./\n"
"drwxr-xr-x 9 root root 4096 Jun 5 10:05 ../\n"
"-rwxr-xr-x 1 root root 178256 Jun 3 13:46 choptest*\n"
"-rwxr-xr-x 1 root root 184032 Jun 3 13:46 cqtest*\n"
"-rwxr-xr-x 1 root root 81096 Jun 3 13:46 dialtest*\n"
"-rwxr-xr-x 1 root root 1142128 Jun 4 11:28 ldconfig*\n"
"-rwxr-xr-x 1 root root 2868 Jun 3 13:46 lockname*\n"
"-rwxr-xr-x 1 root root 3340 Jun 3 13:46 ondelay*\n"
"-rwxr-xr-x 1 root root 376796 Jun 3 13:46 pagesend*\n"
"-rwxr-xr-x 1 root root 13950 Jun 3 13:46 probemodem*\n"
"-rwxr-xr-x 1 root root 9234 Jun 3 13:46 recvstats*\n"
"-rwxr-xr-x 1 root root 64480 Jun 3 13:46 sftp-server*\n"
"-rwxr-xr-x 1 root root 744412 Jun 3 13:46 sshd*\n"
"-rwxr-xr-x 1 root root 30750 Jun 4 11:46 su*\n"
"-rwxr-xr-x 1 root root 194632 Jun 3 13:46 tagtest*\n"
"-rwxr-xr-x 1 root root 69892 Jun 3 13:46 tsitest*\n"
"-rwxr-xr-x 1 root root 43792 Jun 3 13:46 typetest*\n"
"./tmp:\n"
"total 8\n"
"drwxr-xr-x 2 root root 4096 Jun 4 12:32 ./\n"
"drwxr-xr-x 9 root root 4096 Jun 5 10:05 ../\n"
"./usr:\n"
"total 8\n"
"drwxr-xr-x 2 root root 4096 Jun 4 12:16 ./\n"
"drwxr-xr-x 9 root root 4096 Jun 5 10:05 ../\n"
"lrwxrwxrwx 1 root root 7 Jun 4 12:14 bin -> ../bin//\n"
"lrwxrwxrwx 1 root root 7 Jun 4 11:33 lib -> ../lib//\n"
"lrwxrwxrwx 1 root root 8 Jun 4 12:13 sbin -> ../sbin//"
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1810
msgid "<prgn>Chroot</prgn> environment for <prgn>Apache</prgn>"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1816
msgid ""
"The <prgn>chroot</prgn> utility is often used to jail a daemon in a "
"restricted tree. You can use it to insulate services from one another, so "
"that security issues in a software package do not jeopardize the whole "
"server. When using the <prgn>makejail</prgn> script, setting up and updating "
"the chrooted tree is much easier."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1823
msgid ""
"FIXME: Apache can also be chrooted using <url "
"id=\"http://www.modsecurity.org\"> which is available in "
"<package>libapache-mod-security</package> (for Apache 1.x) and "
"<package>libapache2-mod-security</package> (for Apache 2.x)."
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1825
msgid "Licensing"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1832
msgid ""
"This document is copyright 2002 Alexandre Ratti. It has been dual-licensed "
"and released under the GPL version 2 (GNU General Public License) the "
"GNU-FDL 1.2 (GNU Free Documentation Licence) and is included in this manual "
"with his explicit permission. (from the <url "
"id=\"http://www.gabuzomeu.net/alex/doc/apache/index-en.html\" "
"name=\"original document\">)"
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1837
msgid "Installing the server"
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1840
msgid ""
"This procedure was tested on Debian GNU/Linux&nbsp;3.0 (Woody) with "
"<prgn>makejail</prgn> 0.0.4-1 (in Debian/testing)."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1845
msgid "Log in as <prgn>root</prgn> and create a new jail directory:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1847
#, no-wrap
msgid "$ mkdir -p /var/chroot/apache"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1855
msgid ""
"Create a new user and a new group. The chrooted Apache server will run as "
"this user/group, which isn't used for anything else on the system. In this "
"example, both user and group are called <prgn>chrapach</prgn>."
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1851
#, no-wrap
msgid ""
" $ adduser --home /var/chroot/apache --shell /bin/false \\\n"
" --no-create-home --system --group chrapach"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1861
msgid "FIXME: is a new user needed? (Apache already runs as the apache user)"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1866
msgid "Install Apache as usual on Debian: <tt>apt-get install apache</tt>"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1872
msgid ""
"Set up Apache (e.g. define your subdomains, etc.). In the "
"<file>/etc/apache/httpd.conf</file> configuration file, set the "
"<em>Group</em> and <em>User</em> options to <tt>chrapach</tt>. Restart "
"Apache and make sure the server is working correctly. Now, stop the Apache "
"daemon."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1877
msgid ""
"Install <prgn>makejail</prgn> (available in Debian/testing for now). You "
"should also install <prgn>wget</prgn> and <prgn>lynx</prgn> as they will be "
"used by <prgn>makejail</prgn> to test the chrooted server: <tt>apt-get "
"install makejail wget lynx</tt>"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1880
msgid ""
"Copy the sample configuration file for Apache to the "
"<file>/etc/makejail</file> directory:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1879
#, no-wrap
msgid " # cp /usr/share/doc/makejail/examples/apache.py /etc/makejail/"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1894
msgid ""
"Edit <file>/etc/makejail/apache.py</file>. You need to change the "
"<em>chroot</em>, <em>users</em> and <em>groups</em> options. To run this "
"version of <prgn>makejail</prgn>, you can also add a <prgn>packages</prgn> "
"option. See the <url id=\"http://www.floc.net/makejail/current/doc/\" "
"name=\"makejail documentation\">. A sample is shown here:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1912
#, no-wrap
msgid ""
"chroot=&quot;/var/chroot/apache&quot;\n"
"testCommandsInsideJail=[&quot;/usr/sbin/apachectl start&quot;]\n"
"processNames=[&quot;apache&quot;]\n"
"testCommandsOutsideJail=[&quot;wget -r --spider http://localhost/&quot;,\n"
"                         &quot;lynx --source https://localhost/&quot;]\n"
"preserve=[&quot;/var/www&quot;,\n"
"          &quot;/var/log/apache&quot;,\n"
"          &quot;/dev/log&quot;]\n"
"users=[&quot;chrapach&quot;]\n"
"groups=[&quot;chrapach&quot;]\n"
"packages=[&quot;apache&quot;, &quot;apache-common&quot;]\n"
"userFiles=[&quot;/etc/password&quot;,\n"
"           &quot;/etc/shadow&quot;]\n"
"groupFiles=[&quot;/etc/group&quot;,\n"
"            &quot;/etc/gshadow&quot;]\n"
"forceCopy=[&quot;/etc/hosts&quot;,\n"
"           &quot;/etc/mime.types&quot;]"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1918
msgid ""
"<em>FIXME:</em> some options do not seem to work properly. For instance, "
"<file>/etc/shadow</file> and <file>/etc/gshadow</file> are not copied, "
"whereas <file>/etc/password</file> and <file>/etc/group</file> are fully "
"copied instead of being filtered."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1921
msgid "Create the chroot tree: <tt>makejail /etc/makejail/apache.py</tt>"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1925
msgid ""
"If <file>/etc/password</file> and <file>/etc/group</file> were fully copied, "
"type:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1927
#, no-wrap
msgid ""
"      $ grep chrapach /etc/passwd &gt; /var/chroot/apache/etc/passwd\n"
"      $ grep chrapach /etc/group &gt; /var/chroot/apache/etc/group"
msgstr ""

#. type: </example></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1930
msgid "to replace them with filtered copies."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1934
msgid ""
"Copy the Web site pages and the logs into the jail. These files are not "
"copied automatically (see the <em>preserve</em> option in "
"<prgn>makejail</prgn>'s configuration file)."
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1936
#, no-wrap
msgid ""
"      # cp -Rp /var/www /var/chroot/apache/var\n"
"      # cp -Rp /var/log/apache/*.log /var/chroot/apache/var/log/apache"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1946
msgid ""
"Edit the startup script for the system logging daemon so that it also listen "
"to the <file>/var/chroot/apache/dev/log</file> socket. In "
"<file>/etc/default/syslogd</file>, replace: <tt>SYSLOGD=&quot;&quot;</tt> "
"with <tt>SYSLOGD=&quot; -a /var/chroot/apache/dev/log&quot;</tt> and restart "
"the daemon (<tt>/etc/init.d/sysklogd restart</tt>)."
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1950
msgid ""
"Edit the Apache startup script (<file>/etc/init.d/apache</file>). You might "
"need to make some changes to the default startup script for it to run "
"properly with a chrooted tree. Such as:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1952
msgid "set a new <em>CHRDIR</em> variable at the top of the file;"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1954
msgid "edit the <em>start</em>, <em>stop</em>, <em>reload</em>, etc. sections;"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:1956
msgid ""
"add a line to mount and unmount the <file>/proc</file> filesystem within the "
"jail."
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:2040
#, no-wrap
msgid ""
"#! /bin/bash\n"
"#\n"
"# apache        Start the apache HTTP server.\n"
"#\n"
"\n"
"CHRDIR=/var/chroot/apache\n"
"\n"
"NAME=apache\n"
"PATH=/bin:/usr/bin:/sbin:/usr/sbin\n"
"DAEMON=/usr/sbin/apache\n"
"SUEXEC=/usr/lib/apache/suexec\n"
"PIDFILE=/var/run/$NAME.pid\n"
"CONF=/etc/apache/httpd.conf\n"
"APACHECTL=/usr/sbin/apachectl \n"
"\n"
"trap \"\" 1\n"
"export LANG=C\n"
"export PATH\n"
"\n"
"test -f $DAEMON || exit 0\n"
"test -f $APACHECTL || exit 0\n"
"\n"
"# ensure we don't leak environment vars into apachectl\n"
"APACHECTL=\"env -i LANG=${LANG} PATH=${PATH} chroot $CHRDIR $APACHECTL\"\n"
"\n"
"if egrep -q -i \"^[[:space:]]*ServerType[[:space:]]+inet\" $CONF\n"
"then\n"
"    exit 0\n"
"fi\n"
"\n"
"case \"$1\" in\n"
"  start)\n"
"    echo -n \"Starting web server: $NAME\"\n"
"    mount -t proc proc /var/chroot/apache/proc\n"
"    start-stop-daemon --start --pidfile $PIDFILE --exec $DAEMON \\\n"
"      --chroot $CHRDIR\n"
"    ;;\n"
"\n"
"  stop)\n"
"    echo -n \"Stopping web server: $NAME\"\n"
"    start-stop-daemon --stop --pidfile \"$CHRDIR/$PIDFILE\" --oknodo\n"
"    umount /var/chroot/apache/proc\n"
"    ;;\n"
"\n"
"  reload)\n"
"    echo -n \"Reloading $NAME configuration\"\n"
"    start-stop-daemon --stop --pidfile \"$CHRDIR/$PIDFILE\" \\\n"
"      --signal USR1 --startas $DAEMON --chroot $CHRDIR\n"
"    ;;\n"
"\n"
"  reload-modules)\n"
"    echo -n \"Reloading $NAME modules\"\n"
"    start-stop-daemon --stop --pidfile \"$CHRDIR/$PIDFILE\" --oknodo \\\n"
"      --retry 30\n"
"    start-stop-daemon --start --pidfile $PIDFILE \\\n"
"      --exec $DAEMON --chroot $CHRDIR\n"
"    ;;\n"
"\n"
"  restart)\n"
"    $0 reload-modules\n"
"    exit $?\n"
"    ;;\n"
"\n"
"  force-reload)\n"
"    $0 reload-modules\n"
"    exit $?\n"
"    ;;\n"
"\n"
"  *)\n"
"    echo \"Usage: /etc/init.d/$NAME "
"{start|stop|reload|reload-modules|force-reload|restart}\"\n"
"    exit 1\n"
"    ;;\n"
"esac\n"
"\n"
"if [ $? == 0 ]; then\n"
"  echo .\n"
"  exit 0\n"
"else\n"
"  echo failed\n"
"  exit 1\n"
"fi"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:2044
msgid ""
"<em>FIXME</em>: should the first Apache process be run as another user than "
"root (i.e. add --chuid chrapach:chrapach)? Cons: chrapach will need write "
"access to the logs, which is awkward."
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:2048
msgid ""
"Replace in <file>/etc/logrotate.d/apache</file> "
"<tt>/var/log/apache/*.log</tt> with "
"<tt>/var/chroot/apache/var/log/apache/*.log</tt>"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:2059
msgid ""
"Start Apache (<prgn>/etc/init.d/apache start</prgn>) and check what is it "
"reported in the jail log "
"(<file>/var/chroot/apache/var/log/apache/error.log</file>). If your setup is "
"more complex, (e.g. if you also use PHP and MySQL), files will probably be "
"missing. if some files are not copied automatically by "
"<prgn>makejail</prgn>, you can list them in the <em>forceCopy</em> (to copy "
"files directly) or <em>packages</em> (to copy full packages and their "
"dependencies) option the <file>/etc/makejail/apache.py</file> configuration "
"file."
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:2063
msgid ""
"Type <tt>ps aux | grep apache</tt> to make sure Apache is running. You "
"should see something like:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:2065
#, no-wrap
msgid ""
"      root 180 0.0 1.1 2936 1436 ? S 04:03 0:00 /usr/sbin/apache\n"
"      chrapach 189 0.0 1.1 2960 1456 ? S 04:03 0:00 /usr/sbin/apache\n"
"      chrapach 190 0.0 1.1 2960 1456 ? S 04:03 0:00 /usr/sbin/apache\n"
"      chrapach 191 0.0 1.1 2960 1456 ? S 04:03 0:00 /usr/sbin/apache\n"
"      chrapach 192 0.0 1.1 2960 1456 ? S 04:03 0:00 /usr/sbin/apache\n"
"      chrapach 193 0.0 1.1 2960 1456 ? S 04:03 0:00 /usr/sbin/apache"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:2078
msgid ""
"Make sure the Apache processes are running chrooted by looking in the "
"<file>/proc</file> filesystem: <tt>ls -la "
"/proc/<var>process_number</var>/root/.</tt> where <var>process_number</var> "
"is one of the PID numbers listed above (2nd column; 189 for instance). The "
"entries for a restricted tree should be listed:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:2080
#, no-wrap
msgid ""
"    drwxr-sr-x 10 root staff 240 Dec 2 16:06 .\n"
"    drwxrwsr-x 4 root staff 72 Dec 2 08:07 ..\n"
"    drwxr-xr-x 2 root root 144 Dec 2 16:05 bin\n"
"    drwxr-xr-x 2 root root 120 Dec 3 04:03 dev\n"
"    drwxr-xr-x 5 root root 408 Dec 3 04:03 etc\n"
"    drwxr-xr-x 2 root root 800 Dec 2 16:06 lib\n"
"    dr-xr-xr-x 43 root root 0 Dec 3 05:03 proc\n"
"    drwxr-xr-x 2 root root 48 Dec 2 16:06 sbin\n"
"    drwxr-xr-x 6 root root 144 Dec 2 16:04 usr\n"
"    drwxr-xr-x 7 root root 168 Dec 2 16:06 var"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:2092
msgid ""
"To automate this test, you can type:<tt>ls -la /proc/`cat "
"/var/chroot/apache/var/run/apache.pid`/root/.</tt>"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:2095
msgid ""
"<em>FIXME</em>: Add other tests that can be run to make sure the jail is "
"closed?"
msgstr ""

#. type: <p><example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:2102
msgid ""
"The reason I like this is because setting up the jail is not very difficult "
"and the server can be updated in just two lines:"
msgstr ""

#. type: <example></example>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:2105
#, no-wrap
msgid ""
"apt-get update &amp;&amp; apt-get install apache\n"
"makejail /etc/makejail/apache.py"
msgstr ""

#. type: <heading></heading>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:2110
msgid "See also"
msgstr ""

#. type: <p><list>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:2112
msgid ""
"If you are looking for more information you can consider these sources of "
"information in which the information presented is based:"
msgstr ""

#. type: <p></p>
#: securing-debian-howto.en.sgml:61 en/appendix.sgml:2115
msgid ""
"<url id=\"http://www.floc.net/makejail/\" name=\"makejail homepage\">, this "
"program was written by Alain Tesio"
msgstr ""
