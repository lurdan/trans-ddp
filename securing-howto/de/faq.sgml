
<chapt>Häufig gestellte Fragen / Frequently asked Questions (FAQ)

<p>Dieses Kapitel führt Sie in ein paar der am häufigsten
gestellten Fragen in der Security-Mailing-Liste ein. Sie sollten sie
lesen, bevor Sie dort etwas posten, oder die Leute werden Ihnen lediglich
"RTFM!" sagen.

<sect>Sicherheit im Debian Betriebssystem

<sect1>Ist Debian sicherer als X?
<p>Ein System ist so sicher, wie der Administrator fähig ist, es
sicher zu machen. Debian versucht, Dienste auf eine
<em>standardmäßig sichere</em> Art zu installieren, und wird nicht
versuchen, so paranoid wie andere Betriebssysteme zu sein, die Dienste
<em>standardmäßig abgeschaltet</em>-Art installieren. In
jedem Fall muss der System-Administrator die Sicherheit des System den
lokalen Sicherheits-Regeln anpassen.

<sect1>In bugtraq gibt es viele Debian-Fehler. Heißt das, es ist sehr
gefährdet?

<p>Debian enthält wirklich viele Pakete und unterschiedliche
Software, wahrscheinlich sogar mehr, als mit manch einem proprietären
Betriebssystem geliefert wird. Die heißt, dass es mehr potenzielle
Sicherheits-Angelegenheiten geben kann, als bei einem System mit weniger
Software.

<p>Wie auch immer: Es gibt viele Sicherheits-Gutachten in Zusammenhang
mit Quell-Code Überprüfungen von größeren
Software-Komponenten, die Debian enthält. Wann immer eine solche
Überprüfung eine größere Lücke findet, wird er
repariert und ein Sicherheits-Gutachten wird an Listen wie bugtraq
geschickt.

<p>Fehler, die in der Debian Distribution vorhanden sind, betreffen
normalerweise auch andere Lieferanten und andere Distributionen.
Prüfen Sie einfach einfach den "Debian specific: yes/no" Eintrag am
Anfang jedes Sicherheits-Gutachten (DSA, Debian Security Advisory). Wenn
dort "yes" steht, betrifft es nur Debian, wenn dort "no" steht, betrifft
es wahrscheinlich auch andere Distributionen.

<p>Debian enthält wirklich viele Pakete, und heutzutage gibt es
viele Gruppen die nach Sicherheits-Problemen in Software suchen (warum
auch immer).

<sect1>Hat Debian irgendein Zertifikat für Sicherheit?

<p>Kurze Antwort: Nein. 

<p>Lange Antwort: Zertifikate kosten Geld und niemand hat Ressourcen dazu
bestimmt, die Debian GNU/Linux Distributionen auf irgendeiner Stufe,
beispielsweise der Common Criteria, zu zertifizieren. Wenn Sie daran
interessiert sind, eine zertifizierte GNU/Linux Distribution zu haben,
stellen Sie uns die Ressourcen zur Verfügung, um dies Möglich zu
machen.

<sect1>Gibt es irgendein Absicherungs-Programm für Debian?

<p>Ja. <url name="Bastille Linux" id="http://www.bastille-linux.org">,
ursprünglich an anderen Linux Distributionen (RedHat und Mandrake)
orientiert, funktioniert derzeit auch mit Debian. Es sind Maßnahmen
eingeleitet, um die entsprechenden Änderungen auch der
ursprünglichen Version zugute kommen zu lassen. In jedem Fall heißt
das Debian-Paket natürlich <package>bastille</package>.

<p>Manche Leute glauben jedoch, dass ein Absicherungs-Programm nicht die
Notwendigkeit einer guten Administration eliminiert.

<sect1>Ich möchte eine XYZ-Dienst laufen lassen. Welchen sollte ich
benutzen?

<p>Einer der Vorteile von Debian, der die meisten neuen Administratoren
verwirren könnte, ist, dass es eine große Zahl von Software, die
den gleichen Dienst anbietet (DNS-Server, Mail-Server, FTP-Server,
Web-Server...) enthält. Wenn Sie wissen wollen, welchen Server Sie
installieren sollten, gibt es keine allgemein gültige Antwort. Es
hängt wirklich von den benötigten Fähigkeiten und der
benötigten Sicherheit (was eventuell ausbalanciert werden muss) ab.

<p>Dinge, die Sie prüfen sollten:

<list>
<item>Wird es noch vom ursprünglichen Autor gepflegt? (Wann war die
letzte Release?)
<item>Ist er ausgereift? (Die Versions-Nummer sagt <em>nichts</em> aus,
versuchen Sie seine Geschichte nachzuvollziehen)
<item>Ist er von Fehler durchsetzt? Gab es Sicherheits-Gutachten über
ihn?
<item>Stellt er die ganze Funktionalität, die Sie benötigen,
zur Verfügung? Stellt er mehr zur Verfügung, als Sie wirklich
brauchen?
</list>


<sect1>Wie mach ich den Diemst XYZ unter Debian sicherer?
<!-- Changed to XYZ in order to avoid confusion :) jfs -->

<p>Sie werden in diesem Dokument Informationen über das Absichern
von einigen Diensten (FTP, Bind) unter Debian GNU/Linux finden. Für
Dienste die hier nicht abgedeckt werden, prüfen Sie die Programm
Dokumentation, oder allgemeine Linux Informationen. Die meisten
Sicherheits-Hinweise für Unix-Systeme sind auch auf Debian
anwendbar. So ist das Absichern vom Dienst X unter Debian meistens wie
das absichern dieses Dienstes unter einer anderen Linux-Distribution (oder
Unix, was das betrifft).

<sect1>Sind alle Debian Pakete sicher?

<p>Das Sicherheits-Team von Debian kann nicht alle Pakete aus Debian auf
potenzielle Sicherheits-Lücken hin analysieren, da es einfach nicht
genug Ressourcen gibt, um allen Quellcode zu prüfen. Dennoch
profitiert Debian von den Quellcode-Prüfungen durch den
ursprünglichen Entwickler oder durch andere Projekte, wie das <url
name="Linux Kernel Security Audit Project"
id="http://kernel-audit.sourceforge.net/"> oder das <url name="Linux
Security-Audit Project" id="http://www.lsap.org/">.

<p>Tatsächlich könnte ein Debian Developer in einem Paket einen
Trojaner verbreiten, und es gibt keine Möglichkeit das
nachzuprüfen. Sogar wenn diese in Debian eingeführt würden,
wäre es unmöglich alle möglichen Situationen, in der der
Trojaner ausgeführt werden würde, abzudecken.

<p>Dies fällt unter die <em>no guarantees</em>
Lizenz-Klausel. Allerdings können Debian-Benutzer insofern
Vertrauen fassen, dass der stabile Quellcode eine breite Prüfung
hinter sich hat. Die meisten Probleme würden dabei durch
Benutzung entdeckt. Keinesfalls ist es zu empfehlen, ungetestete
Software auf wichtigen Systemen zu installieren, wenn Sie nicht die
notwendige Code-Prüfung vornehmen können. In jedem Fall
gewährleistet der Aufnahmeprozess in die Distribution (mit
digitalen Signaturen), dass im Falle von in die Distribution
eingeschleusten Sicherheits-Problemen das Problem letztendlich zum
Entwickler zurückgeführt werden kann. Das Debian Project hat
diese Angelegenheiten nie auf die leichte Schulter genommen.

<sect1>Betriebssystem Benutzer und Gruppen

<sect2>Sind alle System User notwendig?

<p>Ja und nein. Debian kommt mit einigen für bestimmte Dienste
vordefinierten Usern (ids &lt; 99, beschrieben in der <url name="Debian
Policy" id="http://www.debian.org/doc/debian-policy/">). So ist das
Installation eines neuen Dienstes einfach (da dieser dann bereits als ein
passender User läuft). Wenn Sie nicht vorhaben, neue Dienste zu
installieren, können Sie die User, denen keine Dateien gehören
und die keine Dienste auf Ihrem System laufen lassen, entfernen.

<p>User, denen keine Dateien gehören, finden Sie mit
dem folgenden Kommando (stellen Sie sicher, dass
Sie es als root ausführen, da ein normaler User nicht genug
Zugriffsrechte hat, um einige sensible Verzeichnisse zu
durchsuchen):

<!-- Took the liberty to make this script more secure ... >:^) // era -->
<example>
cut -f 1 -d : /etc/passwd |
while read i; do find / -user "$i" | grep -q . && echo "$i"; done
</example>

<p>Diese User kommen aus dem Paket <package>base-passwd</package>. Sie
finden Informationen über die Behandlung dieser User unter Debian in
der Dokumentation des Pakets.

<p>Hier folgt nun eine Liste der Standard User (mit Ihren entsprechenden
Gruppen):

<list>

<item>root:
	Root ist (typischerweise) der Superuser.

<item>daemon:
	Einige unprivilegierte Daemonen, die ein paar Dateien auf
	die Festplatte schreiben müssen, laufen als daemon.daemon
	(portmap, atd, wahrscheinlich noch andere). Daemonen, die keine
	eigenen Dateien besitzen müssen, können stattdessen
	als nobody.nogroup laufen, und komplexere oder
	Sicherheits-bewusste Daemonen laufen als eigenständige User.
	Der daemon User ist wahrscheinlich auch praktisch für lokale
	installierte Daemons.

<item>bin: 
	   aus historischen Gründen beibehalten.

<item>sys:
	   das gleiche wie bei bin.
              Jedoch gehören /dev/vcs* und
	      <file>/var/spool/cups</file> der Gruppe sys.

<item>sync:
	Die Shell des User sync ist <file>/bin/sync</file>.
	Wenn das Passwort auf etwas leicht zu ratendes gesetzt wurde (zum
	Beispiel ""), kann so jeder das System von der Konsole aus
	synchronisieren lassen, auch wenn er keinen Account auf dem
	System hat.

<item>games:
	Viele Spiele sind sgid games, so dass sie ihre Highscores-Dateien
	schreiben können. Dies wird in der Policy erklärt.

<item>man:
	Das Programm man läuft (manchmal) als User man, damit es
	Cat-Pages nach <file>/var/cache/man</file> schreiben kann.

<item>lp:
	Wird von Druck-Daemonen benutzt.

<item>mail:
	Mailboxen unter <file>/var/mail</file> gehören der Gruppe
	mail, wie in der Policy erklärt wird. Der User und die
	Gruppe werden zu verschiedenen anderen Zwecken benutzt und
	für verschiedene MTAs.

<item>news:
	Verschiedene News-Server und ähnliche Programme (zum
	Beispiel suck) benutzen den User und die Gruppe news auf
	unterschiedliche Weise. Dateien im news-Spool gehören
	häufig dem User und der Gruppe news. Programme wie inews,
	die man benutzen kann, um news zu posten, sind
	normalerweise sgid news.

<item>uucp:
	Der uucp User und die uucp Gruppe werden vom UUCP Subsystem
	benutzt. Ihnen gehören Spool- und Konfigurationsdateien.
	User in der uucp-Gruppe können uucico aufrufen.

<item>proxy:
	Wie Daemon wird dieser User und diese Gruppe von manchen Daemonen
	(insbesondere Proxy-Daemonen) die keinen spezielle User-ID haben
	und eigene Dateien besitzen müssen. Zum Beispiel wird die
	Gruppe proxy von pdnsd benutzt, und squid läuft als User
	proxy.

<item>majordom:
	Majordomo hat auf Debian Systemen aus historischen Gründen
	eine statisch zugewiesene User-ID.Sie wird auf neuen Systemen
	nicht installiert.

<item>postgres:
	Postgresql Datenbanken gehören diesem User und dieser
	Gruppe. Alle Dateien in <file>/var/lib/postgresql</file>
	gehören diesem User, um anständige Sicherheit zu
	gewährleisten.

<item>www-data:
	Ein paar Web-Server laufen als www-data.
<!-- changed "web-browser into web-server, possible mistake in the
	english version? -->
        Web-Inhalte sollten
	*nicht* diesem User gehören, andernfalls wäre ein kompromittierter
	Web-Server in der Lage, eine Web-Seite zu
	überschreiben. Daten, die der Web-Server schreibt,
	einschließlich Log-Dateien, gehören www-data.

<item>backup:
	So können Backup/Wiederherstellungs Zuständigkeiten
	lokal an irgendjemanden ohne volle Root-Zugriffe delegiert
	werden.

<item>operator:
	operator ist historisch (und praktisch) der einzige 'user'
	Account, der sich remote einloggen kann, und nicht von NIS/NFS
	abhängt.

<item>list:
	Mailing-Listen-Archive und Daten gehören diesem User und
	dieser Gruppe. Manche Mailing-Listen-Programme laufen auch unter
	diesem User.

<item>irc:
	Wird von irc-Daemonen benutzt. Ein statisch zugewiesener User
	wird nur wegen eines Bugs in ircd benötigt -- es setuid sich
	selbst auf eine bestimmte User-ID beim start.

<item>gnats:

<item>nobody, nogroup:
	Daemonen die keine eigenen Dateien haben laufen als User nobody
	und Gruppe nogroup. Demzufolge sollten keine Dateien auf dem
	gesamten System diesem User oder zu dieser Gruppe gehören.

</list>

<p>Andere Gruppe, die keinen assoziierten User haben:

<list>

<item>adm:
	Die Gruppe adm wird zu Monitor-Zwecken benutzt. Mitglieder dieser
	Gruppe können viele Dateien in <file>/var/log</file> lesen
	und die xconsole benutzen.
	<file>/var/log</file> war früher einmal
	<file>/usr/adm</file> (und später <file>/var/adm</file>),
	daher der Name dieser Gruppe.

<item>tty:
	tty-Geräte gehören dieser Gruppe. Die Befehle write und wall
	benutzen dies, um auf die ttys anderer Leute zu schreiben.

<item>disk:
	Roh-Zugriff auf Festplatten. Meistens äquivalent zu
	Root-Zugriff.

<item>kmem:
	/dev/kmem und ähnliche Dateien sind von dieser Gruppe
	lesbar. Dies ist größtenteils ein BSD-Relikt, aber jedes
	Programm, dass Lese-Zugriff auf den System-Speicher braucht, kann
	so sgid kmem gemacht werden.

<item>dialout:
	Voller und direkter Zugriff auf serielle Schnittstellen.
	Mitglieder dieser Gruppen können Modems rekonfigurieren,
	sich irgendwo einwählen, usw.

<item>dip:
	Der Gruppenname steht für "Dialup IP". In der Gruppe dip zu
	sein erlaubt Ihnen Tools wie <prgn>ppp</prgn>,
	<prgn>dip</prgn>, <prgn>wvdial</prgn> usw. zu benutzen. Die User
	dieser Gruppe können das Modem nicht konfigurieren, Sie
	können lediglich Programme aufrufen, die Sie benutzen.

<item>fax:
	Erlaubt es den Mitgliedern, Fax-Software zu benutzen, um Faxe zu
	senden und zu empfangen.

<item>voice:
	Voicemail, nützlich für Systeme, die Modems als
	Anrufbeantworter benutzen.

<item>cdrom:
	Diese Gruppe kann dazu benutzt werden, einer bestimmen Gruppe
	Usern Zugriff auf CDROM-Laufwerke zu geben.

<item>floppy:
	Diese Gruppe kann dazu benutzt werden, einer bestimmen Gruppe
	Usern Zugriff auf Disketten-Laufwerke zu geben.

<item>tape:
	Diese Gruppe kann dazu benutzt werden, einer bestimmen Gruppe
	Usern Zugriff auf Band-Laufwerke zu geben.

<item>sudo:
	Mitglieder dieser Gruppe müssen Ihr Passwort eingeben, wenn
	Sie sudo benutzen. Siehe <file>/usr/share/doc/sudo/OPTIONS</file>.

<item>audio:
	Diese Gruppe kann dazu benutzt werden, einer bestimmen Gruppe
	Usern Zugriff auf jedes Audio-Gerät zu geben.

<item>src:
	Dieser Gruppe gehören die Quell-Codes, einschließlich der
	Dateien in <file>/usr/src</file>. Sie kann benutzt werden, um
	einem bestimmten User die Möglichkeit zu bieten, Quell-Code
	des Systems zu verwalten.

<item>shadow:
	<file>/etc/shadow</file> ist von dieser Gruppe lesbar. Einige
	Programme, die auf diese Datei zugreifen müssen, sind sgid
	shadow.

<item>utmp:
	Diese Gruppe kann nach <file>/var/run/utmp</file> und
	ähnlichen Dateien schreiben. Programme, die darin schreiben
	können müssen, sind sgid utmp.

<item>video:
	Diese Gruppe kann dazu benutzt werden, einer bestimmen Menge von
	User Zugriff auf ein Video-Gerät zu geben.

<item>staff:
	Erlaubt Usern lokale Modifikationen zu dem System
	hinzuzufügen (<file>/usr/local</file>, <file>/home</file>),
	ohne dass Sie Root-Privilegien bräuchten. Vergleichen Sie
	mit "adm", die sich mehr auf beobachten/absichern bezieht.

<item>users:
	Während Debian Systeme standardmäßig das
	User-Gruppen-System (jeder User hat seine eigene Gruppe)
	benutzen, ziehen es manche vor, ein traditionelleres Gruppen
	System zu benutzen. In diesem System ist jeder User Mitglied der
	Gruppe "users".

</list>

<sect2>Was ist der Unterschied zwischen der adm und der staff Gruppe?
<p>

<p>'adm' sind Administratoren und ist meistens nützlich, um ihnen zu
erlauben, Log-Dateien zu lesen, ohne <prgn>su</prgn> benutzen zu
müssen. 'staff' ist mehr bei den Helpdesk/junior Sysadmin Leuten
nützlich, und gibt ihnen die Möglichkeit, Dinge in
<file>/usr/local</file> zu erledigen und Verzeichnisse in
<file>/home</file> anzulegen.


<sect1>Fragen über Dienste und offene Ports

<sect2>Warum werden Dienste während der Installation aktiviert?

<p>Das ist der Annäherung an das Problem, auf der einen Seite
sicherheitsbewusst und auf der anderen Seite benutzerfreundlich zu sein.
Anders als OpenBSD, das alle Dienste abschaltet, bis sie vom
Administrator aktiviert werden, aktiviert Debian GNU/Linux alle
installierten Dienste, bis sie abgeschaltet werden (siehe dazu <ref
id="disableserv">). Immerhin haben Sie den Dienst installiert, oder?

<p>Es gab einige Diskussionen auf Debian Mailing-Listen
(sowohl auf debian-devel als auch auf debian-security) darüber,
was das standard Setup sein sollte. Jedoch gab es bisher (10. März
2002) keinen Konsens, wie dies behandelt werden sollte.

<sect2>Kann ich inetd entfernen?

<p>Inetd ist nich leicht zu entfernen, da <package>netbase</package> von
dem Paket abhängt, das Inetd enthält
(<package>netkit-inetd</package>). Wenn Sie es entfernen wollen,
können Sie es entweder abschalten (siehe <ref id="disableserv">)
oder das Paket entfernen, indem Sie das Paket <package>equivs</package>
benutzen.

<sect2>Warum muss ich Port 111 offen haben?

<p>Port 111 ist sunrpcs Portmapper und wird standardmäßig bei allen
Basis-Installationen eines Debian Systems, da es keine Möglichkeit
gibt, herauszubekommen, wann das Programm eines Users RPC gebrauchen
könnte, um korrekt zu arbeiten. In jedem Fall wird es meistens von
NFS benutzt. Wenn Sie kein NFS benutzen, entfernen Sie es, wie in <ref
id="rpc"> erklärt.

<sect2>Wozu ist der identd (Port 113) da?

<p>Identd wird von Administratoren benutzt, um anderen Systemen, die
wissen wollen, wer für eine bestimmte Verbindung verantwortlich ist,
zusätzliche Informationen zu einer Userid zur Verfügung zu
stellen. Beachtenswert schließt dies mail, FTP und IRC Server ein,
jedoch kann es auch dazu benutzt werden, um den User Ihrer Systeme
zurück zu verfolgen, der einen Angriff gestartet hat.

<p>Es gab ausführliche Diskussionen hierüber (siehe in den <url
id="http://lists.debian.org/debian-security/2001/debian-security-200108/msg00297.html"
name="Mailing List Archiven">. Grundsätzlich gilt: Wenn Sie nicht
wissen, was und wozu es ist, aktivieren Sie es nicht. Aber wenn Sie es
firewallen, <em>bitte</em>: Nehmen Sie eine reject-Regel und keine
deny-Regel, oder Kommunikation könnte bis zu einer
Zeitüberschreitung hängen (siehe <url
id="http://logi.cc/linux/reject_or_deny.php3" name="reject or deny
issues">).

<sect2>Ich habe festgestellt, dass ich den folgenden Port (XYZ) offen
habe. Kann ich ihn schließen?

<p>Natürlich können Sie. Die Ports, die Sie offen lassen,
hängen von Ihrem Regelwerk bezüglich öffentlich
zugänglichen Diensten ab. Prüfen Sie, ob inetd (siehe <ref
id="inetd">) oder ein anderes installiertes Paket sie öffnet und
leiten Sie passende Maßnahmen ein (Konfigurieren von inetd,
Entfernen des Pakets, Vermeiden dass der Dienst beim Booten gestartet
wird...)

<sect2>Ich habe einen Dienst aus <file>/etc/services</file> entfernt,
funktioniert das?

<p><em>Nein</em>, <file>/etc/services</file> zieht einfach nur eine
Verbindung zwischen einem virtuellen Namen und einer Port Nummer. Das
Entfernen eines Namens verhindert üblicherweise nicht, dass ein Dienst
gestartet wird. Manche Daemonen starten vielleicht nicht, wenn Sie
<file>/etc/services</file> ändern, aber das ist nicht die Norm, und
es ist nicht der empfohlene Weg einen Dienst abzuschalten, siehe <ref
id="disableserv">.

<sect1>Allgemeine Sicherheitsfragen

<sect2>Ich habe mein Passwort vergessen und kann auf das System nicht
mehr zugreifen!

<p>Die nötigen Schritte, um wieder Zugriff erhalten,
hängen davon ab, ob Sie die vorgeschlagene Prozedur zum Absichern
von Lilo und BIOS durchgeführt haben oder nicht.

<p>Wenn Sie beides eingeschränkt haben, müssen Sie im BIOS
erlauben, von anderen Medien als der Festplatte zu booten, bevor Sie
weitermachen können. Wenn Sie auch Ihr BIOS-Passwort vergessen
haben,  öffnen Sie das PC-Gehäuse, und entfernen die BIOS-Batterie.

<p>Wenn Sie nun von CD-ROM oder Diskette booten können:
<list>

<item>booten Sie von eine Rescue-Disk und starten den Kernel

<item>wechseln Sie mit Alt+F2 auf eine virtuelle Konsole

<item>mounten Sie die Partition, auf der sich Ihr / befindet

<item>editieren Sie (die Debian 2.2 Rescue-Disk kommt mit
<prgn>ae</prgn>, Debian 3.0 kommt mit <prgn>nano-tiny</prgn>, der
<prgn>vi</prgn> etwas ähnelt) die Datei <file>/etc/shadow</file> und
ändern Sie die Zeile:

<example>
root:asdfjl290341274075:XXXX:X:XXXX:X::: (X=irgendeine Ziffer)
</example>

<p>in:

<example>
root::XXXX:X:XXXX:X:::
</example>

</list>

<p>Dies entfernt das Root-Passwort. Sie können das System starten
und sich am Login-Prompt als Root mit einem leeren Passwort einloggen.
Dies funktioniert, es sei denn, Sie haben Ihr System etwas sicherer
eingestellt, d.h. User mit leeren Passwort dürfen sich nicht
einloggen und Root kann sich nicht auf einer Konsole einloggen.

<p>Falls Sie derartige Maßnahmen getroffen haben, müssen Sie im
Single-User-Modus starten. Wenn Sie LILO eingeschränkt haben, müssen
LILO erneut ausführen, nachdem Sie das Root-Passwort
zurückgesetzt haben. Das ist trickreich, da Ihre
<file>/etc/lilo.conf</file> nicht gefunden wird, und Ihr /-Dateisystem
eine RAM-Disk und keine echte Festplatte ist.

<p>Sobald LILO nicht mehr eingeschränkt ist:

<list>

<item>Drücken Sie Alt, Shift oder Control, kurz bevor das BIOS
seine Arbeit beendet hat, Sie sollten nun einen LILO-Prompt erhalten.

<item>Geben Sie am Prompt 'linux single', 'linux init=/bin/sh' oder 'linux 1' ein.

<item>Sie erhalten einen Shell-Prompt im Single-User-Modus (Sie
werden nach dem Passwort gefragt, aber das kennen Sie jetzt ja)

<item>Binden Sie die /-Partition im schreib/lese Modus neu ein:
<example>
mount -o remount,rw /
</example>

<item>Ändern Sie das Superuser Passwort mit <prgn>passwd</prgn> (da
Sie der Superuser sind, werden Sie nicht nach Ihrem alten Passwort
gefragt).

</list>

<sect1>Ich möchte meinen Usern einen Dienst anbieten, Ihnen aber
keinen Shell-Account geben.

<p>Wenn Sie zum Beispiel einen POP-Dienst anbieten wollen,
müssen Sie nicht für jeden zugreifenden User einen Account
anlegen. Am besten setzen Sie hierzu eine Verzeichnis-basierte
Authentifizierung durch einen externen Dienst (wie Radius, LDAP oder
eine SQL-Datenbank) auf. Installieren Sie einfach die gewünschte
PAM-Bibliothek (<package>libpam-radius-auth</package>,
<package>libpam-ldap</package>, <package>libpam-pgsql</package> oder
<package>libpam-mysql</package>), lesen Sie die Dokumentation (Einsteiger
sehen bitte unter <ref id="auth-pam"> nach), und konfigurieren Sie den
PAM-nutzenden Dienst, so dass er Ihr Backend benutzt. Bearbeiten Sie dazu
die dem Dienst entsprechende Datei unter
<file>/etc/pam.d/</file> und ändern die folgenden Zeile von
<example>
auth    required        pam_unix_auth.so shadow nullok use_first_pass
</example>
beispielsweise für ldap folgendermaßen: 
<example>
auth    required        pam_ldap.so
</example>

<!-- FIXME: check if this i right (jfs) -->

<p>Im Fall von LDAP-Verzeichnissen liefern manche Dienste LDAP-Schemata
mit, die Sie Ihrem Verzeichnis hinzufügen können, um
eine LDAP-Authentifizierung zu benutzen. Wenn Sie relationale
Datenbanken benutzen, gibt es einen nützlichen Trick: Benutzen Sie
die <em>where</em> Klausel, wenn Sie die PAM-Module konfigurieren. Wenn
Sie beispielsweise eine Datenbank mit der folgenden Tabelle haben:

<example>
(user_id,user_name,realname,shell,password,uid,gid,homedir,sys,pop,imap,ftp)
</example>

<p>können Sie die letzten (bool'schen) Werte dazu benutzen, den
Zugriff auf die verschiedenen Dienste entweder zu erlauben oder zu
verbieten, indem Sie einfach die folgenden Zeilen in die Dateien
einfügen:

<list>
<item><file>/etc/pam.d/imap</file>:<tt>where=imap=1</tt>.

<item><file>/etc/pam.d/qpopper</file>:<tt>where=pop=1</tt>.

<item><file>/etc/nss-mysql*.conf</file>:<tt>users.where_clause = user.sys = 1;</tt>.

<item><file>/etc/proftpd.conf</file>:<tt> SQLWhereClause "ftp=1"
</tt>.

</list>

<sect>Mein System ist angreifbar! (sicher?)

<sect1>Ich habe in meinen Logfiles einen Angriff gesehen: Ist mein System
kompromittiert?

<p>Ein Hinweis auf einen Angriff heißt nicht notwendigerweise,
dass Ihr System gehackt wurde. Leiten Sie die üblichen Schritte
ein, um festzustellen, ob das System kompromittiert wurde (siehe <ref
id="after-compromise">). Beachten Sie auch, dass Angriffsspuren in den
Logs mitunter bedeuten, dass sie hierfür bereits angreifbar sind
(ein entschlossener Angreifer könnte übrigens auch andere
Angriffe, als die von Ihnen beobachteten durchgeführt haben).

<!-- Angriffsspuren, die "manchmal" auf Verwundbarkeiten hinweisen? -->
<!-- Irgendwie eine Trivialität --> 

<sect1>Ich habe in meinen Logs merkwürdige "MARK"-Einträge
gefunden, bin ich kompromittiert?

<p>Wenn Ihr System keine hohe Last (und kaum laufende Dienste) hat,
finden Sie vielleicht die folgenden Zeilen in Ihren System-Logs:

<example>
Dec 30 07:33:36 debian -- MARK --
Dec 30 07:53:36 debian -- MARK --
Dec 30 08:13:36 debian -- MARK --
</example>

<p>Dies ist keine Kompromittierung, obwohl User, die von einer
Debian-Release wechseln, es vielleicht merkwürdig
finden. Tatsächlich ist es ein Indiz dafür, dass
<prgn>syslogd</prgn> vernünftig läuft. Aus <manref
section="8" name="syslogd">:

<example>
       -m interval
              The syslogd logs a mark timestamp  regularly.   The
              default interval between two -- MARK -- lines is 20
              minutes.  This can be  changed  with  this  option.
              Setting the interval to zero turns it off entirely.
</example>

<example>
       -m interval
	      Der Syslogd protokolliert regelmäßig einen
	      Zeitstempel. Der voreingestellte Abstand zwischen zwei --
	      MARK -- Zeilen ist 20 Minuten. Er kann mit dieser Option
	      geändert werden. Setzen Sie den Abstand auf null, um
	      die Zeitstempel komplett abzuschalten.
</example>

<sect1>Ich habe User gefunden, die laut meinen Logfiles su benutzen: Bin ich
kompromittiert?

<p>Sie könnten in Ihren Logs Zeilen wie die folgenden finden:

<example>
 Apr  1 09:25:01 server su[30315]: + ??? root-nobody
 Apr  1 09:25:01 server PAM_unix[30315]: (su) session opened for user nobody by (uid=0)
</example>

<p>Seien Sie nicht besorgt, und prüfen Sie, ob dies durch einen Cron-Job
entsteht (normalerweise <file>/etc/cron.daily/find</file> oder
<prgn>logrotate</prgn>):

<example>
$ grep 25 /etc/crontab
25 6    * * *   root    test -e /usr/sbin/anacron || run-parts --report
/etc/cron.daily
$ grep nobody /etc/cron.daily/*
find:cd / && updatedb --localuser=nobody 2>/dev/null
</example>

<sect1>Ich bin Opfer eines Einbruchs - was soll ich jetzt tun?

<p>Lesen Sie dieses Dokument und leiten Sie passenden, hier dargestellten
Maßnahmen ein. Wenn Sie Hilfe benötigen, wenden Sie sich an die
Debian-Security-Mailingliste (debian-security@lists.debian.org) um Rat, wie Sie Ihr System
wiederherstellen/patchen.

<sect1>Wie spüre ich Angriffe auf?

<p>Durch Durchgehen der Logs (wenn Sie nicht geändert wurden), Benutzung
eines Intrusion-Detection-Systems (siehe <ref
id="intrusion-detect">), <prgn>traceroute</prgn>, <prgn>whois</prgn> und
ähnliche Tools (einschließlich forensischer Analyse) können
einen Angriff zu seinem Ursprung zurückverfolgen. Wie Sie auf diese
Informationen reagieren hängt ausschließlich von Ihren
Sicherheits-Regeln ab, und was <em>Sie</em> als Angriff betrachten. Ist
ein einfacher Scan ein Angriff? Ist die Prüfung auf eine
Verwundbarkeit ein Angriff?

<sect1>Das Programm X ist in Debian angreifbar - was soll ich machen?

<p>Nehmen Sie sich einen Augenblick Zeit, um zu schauen, ob die
Angriffs-Möglichkeit in öffentlichen Sicherheits-Mailinglisten
(wie Bugtraq) oder anderen Foren bekannt gemacht wurde. Das
Debian-Sicherheits-Team hält sich bei diesen Listen auf dem
Laufenden, also könnten ihnen dieses Problem bereits bekannt sein.
Leiten Sie keine weiteren Maßnahmen ein, wenn Sie schon ein
Sicherheits-Gutachten auf <url id="http://security.debian.org"> sehen.

<p>Wenn Sie nichts finden, senden Sie bitte eine Mail mit einer
möglichst detaillierten Beschreibung des Angriffs-Punktes (Code, der
dies bestätigt, ist auch okay) an security@debian.org. Dort
erreichen Sie das Sicherheits-Team.

<sect1>Laut der Versions-Nummer eines Paketes läuft bei mir
immer noch eine angreifbare Version!

<p>Statt auf neue Releases zu aktualisieren, nehmen wir
Sicherheits-Korrekturen an der Version vor, die in der stabilen
Version enthalten ist. Der Grund dafür ist, dass wir sicher gehen
wollen, dass eine stabile Release so wenig wie möglich
verändert wird. So werden sich Dinge als Resultat einer
Sicherheits-Korrektur nicht unerwartet ändern
oder kaputt gehen. Ob Sie eine sichere Version eines Paketes
benutzen, prüfen Sie, indem Sie das Changelog des Paketes durchsehen, oder indem Sie
die exakte Versions Nummer (Ursprüngliche Version -slash- Debian
Release) mit der Nummer aus dem Debian Sicherheits-Gutachten vergleichen.

<sect1>Spezielle Software

<sect2>Proftpd ist für einen "Denial of Service"-Angriff
anfällig.

<p>Fügen Sie  Ihrer Konfigurationsdatei <tt>DenyFilter \*.*/</tt>
hinzu. Mehr Informationen entnehmen Sie <url id="http://www.proftpd.org/critbugs.html">.

<sect>Fragen über das Debian-Sicherheitsteam

<!-- FIXME: update from web page -->

<sect1>Was ist ein Debian-Sicherheitsgutachten (Debian Security Advisory, DSA) 

<p>Das Debian-Sicherheitsteam (siehe unten) informiert in diesen
Gutachten über die Verfügbarkeit und Bezugsquellen von
Security-Fixes für das Debian-Betriebssystem.  Digital
unterschriebene DSAs werden an eine öffentliche Mailing-Liste
gesendet und auf der Debian-Website veröffentlicht (sowohl auf der
Hauptseite als auch unter <url id="http://www.debian.org/security/"
name="Sicherheits-Informationen">).

<p>DSAs enthalten Informationen über beeinträchtigte Pakete,
den entdeckten Fehler und wie man aktualisierte Pakete bekommt (und Ihre
md5-Summen).

<sect1>Die digitale Signatur eines Debian-Gutachtens wird nicht korrekt verifiziert!

<p>Dies ist wahrscheinlich ein Problem an Ihrem Ende. Der der
   debian-security-announce-Liste vorgeschaltete Filter lässt nur
   Nachrichten durch, die eine korrekte Signatur von einem Mitglied
   des Sicherheitsteams enthalten.

<p>Wahrscheinlich verändert irgendeine Mail-Software an Ihrem
   Ende die E-Mail ein wenig und ruiniert damit die Unterschrift. Stellen Sie
   sicher, dass Ihre Software keine MIME-Kodierung oder -Dekodierung
   oder Tabulator/Leerzeichen-Konvertierung durchführt.

<p>Bekannte Schuldige sind fetchmail (mit eingeschalteter
   mimedecode-Option) und formail (lediglich von procmail 3.14)

<sect1>Wie werden Sicherheitsvorfälle in Debian behandelt?

<p>Sobald dem Sicherheitsteam ein Vorfall gemeldet wird, prüfen
ihn ein oder mehrere Mitglieder nach, und erwägen, ob
Debian/stable angreifbar ist oder nicht. Wenn unser System angreifbar
ist, wird an einer Korrektur des Problems gearbeitet. Der
Paket-Verwalter wird ebenfalls kontaktiert, wenn er nicht bereits
selbst das Sicherheits-Team kontaktiert hat. Schliesslich wird die
Korrektur getestet und ein neues Paket vorbereitet, das dann auf allen
stabilen Architekturen kompiliert und anschließend hoch geladen
wird. Nachdem all dies getan ist, wird ein Debian-Sicherheitsgutachten
(DSA) an die öffentliche Mailing-Liste geschickt.

<sect1>Wie lange braucht Debian, um die Angriffs-Möglichkeit
XXXX zu reparieren?

<p>Wie eine Analyse der Zeitspanne, in der das Debian-Sicherheitsteam
nach Bekanntwerden einer Angriffsmöglichkeit ein Gutachten
veröffentlicht und reparierte Pakete produziert, zeigt, dauert es
nicht besonders lange, Angriffmöglichkeiten in Debian/stable zu
reparieren.

<p>Nach einem Report
<url
id="http://lists.debian.org/debian-security/2001/debian-security-200112/msg00257.html"
name="in der debian-security Mail-Liste"> vom Jahr 2001
benötigte das Debian-Sicherheitsteam durchschnittlich 35 Tage, um eine
sicherheitsrelevante Angriffmöglichkeit zu reparieren. Über 50%
der Angriffs-Punkte wurden jedoch innerhalb eines Zeitrahmens von 10 Tagen
beseitigt, und über 15% von ihnen noch am <em>gleichen
Tag</em> repariert.

<p>Oft vergessen Leute, die diese Frage stellen, dass:
<list>
  <item>DSAs nicht verschickt werden bis:
  <list>
    <item>Pakete für <em>alle</em> von Debian unterstützten
    Architekturen verfügbar sind (dies braucht etwas Zeit, wenn es
    sich um Pakete handelt, die Teil des System-Kerns sind, besonders
    wenn man die Anzahl der in der stabilen Release unterstützten
    Architekturen berücksichtigt).
    <item>Neue Pakete gründlich getestet wurden, um sicher zu
    stellen, dass sich keine neuen Fehler eingeschlichen haben
  </list>
  <item>Pakete möglicherweise schon verfügbar sind, bevor das DSA verschickt
  wird (in der Incoming-Warteschlange oder auf den Mirror-Servern).
  <item>Debian ein Projekt auf freiwilligen Basis ist.
  <item>Es eine "keine Garantie" Klausel gibt, die Teil der Lizenz ist,
  der Debian unterliegt.
</list>

<sect1>Wie wird Sicherheit für <tt>testing</tt> und
<tt>unstable</tt> gehandhabt?

<p>Die kurze Antwort ist: Gar nicht. Testing und unstable unterliegen
stetigen Veränderungen, und das Sicherheits-Team hat nicht die
benötigten Ressourcen, um diese richtig zu
betreuen. Wenn Sie einen sicheren (und stabilen) Server haben
möchten, sollten Sie bei stable bleiben.

<p>Tatsächlich wird unstable normalerweise relativ
schnell repariert, da Sicherheits-Updates für die aktuelle Version
vom Programmautor schnell verfügbar sind
(während auml;ltere Versionen wie die in stable normalerweise
zurück portiert werden müssen).


<sect1>Warum gibt es keinen offiziellen Mirror von
security.debian.org?

<p>Der Zweck von security.debian.org ist es, Sicherheits-Updates
möglichst schnell und einfach zur Verfügung zu stellen.
Mirrors machen dies unnötig komplizierten und erzeugen nur
Frustration, wenn sie nicht aktuell gehalten werden.

<sect1>Ich habe DSA 100 und DSA 102 gesehen, doch wo ist DSA 101?

<p>Verschiedene Distributoren (zumeist von GNU/Linux, aber auch von
BSD-Derivaten) koordinieren Sicherheits-Gutachten für verschiedene
Vorfälle und haben vereinbart, einen bestimmten Zeitplan
einzuhalten, so dass alle Distributoren in der Lage sind, richtig
zu prüfen, ob Sie betroffen sind (oder nicht) und entsprechende
Updates erstellen können.

<p>Das Sicherheits-Team von Debian behält in solchen Fällen die
Nummer, bevor das Gutachten freigegeben wird, und so kann es zeitweise
passieren, dass die ein andere Nummer fehlt.


<sect1>Wie kann ich das Sicherheits-Team erreichen?

<p>Sicherheits Informationen können an security@debian.org geschickt
werden, damit es von allen Debian Entwicklern gelesen wird. Wenn Sie
sensitive Informationen haben, benutzen Sie bitte
team@security.debian.org, damit es nur vom Security-Team gelesen wird.
Wenn Sie es wünschen, kann die E-Mail auch mit dem Debian Security
Contact Key (Key-Id 363CCD95) verschlüsselt werden.

<sect1>Was ist der Unterschied zwischen security@debian.org und
debian-security@lists.debian.org?

<p>Wenn Sie eine Nachricht an security@debian.org schicken, wird diese an
die Developer Mailingliste geschickte (debian-private), die alle Debian
Entwickler abonniert haben. Nachrichten an diese Liste werden vertraulich
behandelt (d.h. nicht auf einer öffentlichen Web-Seite archiviert).
debian-security@lists.debian.org ist eine öffentliche Mail-Liste,
offen für jeden, der Sie abonnieren möchte, und es gibt ein
auf den Web-Seiten ein durchsuchbares Archiv.


<sect1>Wie kann ich das Debian-Sicherheitsteam unterstützen?

<p>
<list>
<item>Indem Sie zu diesem Dokument beitragen, FIXMEs bearbeiten oder
neuen Inhalt beisteuern. Dokumentation ist wichtig und reduziert die
Überlast durch Beantworten allgemeiner Fragen. Übersetzen
dieses Dokuments in andere Sprachen ist auch ein großartiger Beitrag
(Anm.d. Übersetzers: Fehler bereinigen in der Übersetzung auch).

<item>Indem Sie Programme paketieren, mit denen sich die Sicherheit
eines Debian-Systems erhöhen oder prüfen lässt.
Wenn Sie kein Entwickler sind, reichen Sie einen <url name="WNPP bug"
id="http://www.debian.org/devel/wnpp/"> ein, und fragen nach
Software, die Sie für nützlich halten, die
aber noch nicht zur Verfügung steht.

<item>Testen Sie Applikationen in Debian oder helfen Sie
Sicherheitslücken zu schließen. Teilen Sie Probleme
security@debian.org mit. Anderer Projekte Arbeit, wie das <url
name="Linux Kernel Security Audit Project"
id="http://kernel-audit.sourceforge.net/"> oder das <url name="Linux
Security Audit Project" id="http://www.lsap.org/"> erhöhen auch die
Sicherheit von Debian GNU/Linux, da Beiträge dort letzten Endes
auch hier helfen.

</list>

<p>Prüfen Sie bitte in jedem Fall nach, bevor Sie etwas an
security@debian.org melden. Wenn Sie Patches beifügen,
beschleunigt das den Prozess natürlich. Leiten Sie nicht
einfach Mails von Bugtraq weiter, da diese bereits empfangen werden. Es ist
aber eine gute Idee, zusätzliche Informationen zu schicken.

<sect1>Aus wem setzt sich das Sicherheitsteam zusammen?

<p>Das Debian-Sicherheitsteam besteht derzeit aus fünf Mitgliedern und
zwei Sekretären. Das Sicherheitsteam lädt selbst Personen
zum Beitritt ein.

<sect1>Prüft das Debian-Sicherheitsteam jedes Paket in Debian?

<p>Nein, weder prüft das Sicherheitsteam jedes neue Paket noch
gibt es einen automatischen (lintian) Test, um neue Pakete mit
bösartigem Inhalt zu entdecken, da solche Dinge praktisch
unmöglich automatisch zu erkennen sind. Paket-Verwalter sind
jedoch voll und ganz verantwortlich für die Software, die in
Debian eingeführt wird. Keine Software wird eingeführt,
die nicht zuerst von einem autorisierten Entwickler signiert
wurde. Sie sind selbst dafür verantwortlich, die Software, die Sie
einsetzen, zu analysieren und auf Sicherheit zu achten.

<sect1>Ich habe eine ältere Version von Debian. Wird Sie in Bezug
auf Sicherheit noch unterstützt?

<p>Leider nein. Das Debian-Sicherheitsteam kann leider nicht sowohl
die stabile Release (inoffiziell also auch unstable) als auch
ältere Releases unterstützen. Für einen begrenzten
Zeitraum (normalerweise mehrere Monate) nach der Veröffentlichung
einer neuen Debian Distribution können Sie jedoch
Sicherheits-Updates erwarten.
