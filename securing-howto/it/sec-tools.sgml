
<chapt id="sec-tools"><heading>Strumenti per la sicurezza in Debian</heading>


<p>FIXME: Trattazione da integrare</p>

<p>
Debian offre anche molti strumenti per la sicurezza, tali da
garantire una configurazione ottimale della postazione.
Questi comprendono la protezione dei sistemi di informazione mediante firewall
(a livello sia di pacchetti, sia di applicazioni), la ricerca delle
intrusioni (basata sia su rete, sia su singoli host), la valutazione dei
punti deboli e poi, antivirus, reti private, ecc..</p>

<p>
A partire da Debian 3.0 (<em>woody</em>), la distribuzione è caratterizzata
da software specifico per la crittografia integrato nella distribuzione 
principale.
OpenSSH e GNU Privacy Guard sono inclusi nell'installazione predefinita e
già adesso i browsers, i server di rete, i database e via dicendo,
presentano un potente sistema di cifratura. Per le future versioni è già 
pianificata un'ulteriore integrazione della crittografia. 
Questo tipo di software, per essere esportato, viste alcune limitazioni negli 
Stati Uniti, non è stato diffuso con la distribuzione principale, ma 
è stato incluso nei siti non-US.</p>


<sect id="vuln-asses"><heading>Strumenti per la valutazione delle 
                      vulnerabilità da remoto</heading>

<p>
Gli strumenti forniti da Debian per valutare le vulnerabilità da remoto sono:

<footnote>
<p>Alcuni fra questi sono forniti tramite installazione del pacchetto
<package>harden-remoteaudit</package>.</p>
</footnote>

<list>
<item><p>nessus</p></item>
<item><p>raccess</p></item>
<item><p>whisker</p></item> 
<item><p>nikto (sostituto di whisker's)</p></item>
<item><p>bass (non-free)</p></item>
<item><p>satan (non-free)
<!-- currently uploaded but not included
<item>saint (non-free)
<item>sara (non-free)
--></p></item>
</list></p>

<p>
<package>nessus</package> - composto da un client 
(<package>nessus</package>), usato come interfaccia GUI e da
un server (<package>nessusd</package>), che lancia gli attacchi 
programmati è, di gran lunga, il più completo e aggiornato.
Conosce i punti deboli di un numero consistente di sistemi 
contenenti applicazioni di rete, server ftp, server www, ecc.. 
Le ultime versioni sono in grado di analizzare un sito web e
provare a scoprire quali, fra le pagine disponibili, potrebbero essere
attaccate. Ci sono anche dei client Java e Win32 (non inclusi in Debian),
utilizzabili per contattare il server dell'organizzazione aziendale.</p>

<p>
<package>Whisker</package>, scansionatore per la valutazione di 
vulnerabilità dedicato solo al web, presenta tattiche anti-IDS 
(la maggior parte delle quali non è più solamente <em>anti-IDS</em>) ed è 
uno dei migliori scansionatori cgi: può scoprire un server WWW e lanciarvi 
contro solo una determinata tipologia di attacchi. Il database 
usato per  la scansione è facilmente modificabile, al fine di ottenere 
nuove informazioni.</p>

<p>
<package>Bass</package> (Bulk Auditing Security Scanner -
Scansionatore per verifiche di sicurezza) e
<package>Satan</package> (Security Auditing Tool for Analysing
Networks - Strumento di verifica della sicurezza per l'analisi di
reti) devono essere considerati come programmi dimostrativi di un
concetto, piuttosto che veri e propri strumenti di verifica; entrambi
sono alquanto datati e non aggiornati (SATAN, però, è stato il primo
strumento semplice (GUI) per il controllo delle vulnerabilità e Bass
dà ancora prestazioni molto elevate).</p></sect>


<sect><heading>Strumenti per effettuare scansioni di rete</heading>

<p>
Debian fornisce alcuni mezzi dedicati alla scansione di host da remoto (ma
non anche della verifica delle vulnerabilità) che, in certi casi,
possono essere usati come scansionatori per un primo tipo di "attacco", 
volto a determinare i servizi dell'host remoto disponibili. 
Al momento Debian fornisce:

<list>

<item><p>nmap</p></item>
<item><p>xprobe</p></item>
<item><p>queso</p></item>
<item><p>knocker</p></item>
<item><p>hping2</p></item>
<item><p>isic</p></item>
<item><p>icmpush</p></item>
<item><p>nbtscan (per verifiche su NetBIOS)</p></item>
<item><p>fragrouter</p></item>
<item><p>strobe (dal pacchetto <package>netdiag</package>)</p></item>

</list></p>

<p>
Mentre <package>queso</package> e <package>xprobe</package> offrono
solo l'esame da remoto del sistema operativo (usando TCP/IP
fingerprinting), <package>nmap</package> e <package>knocker</package>
svolgono sia l'esame del sistema operativo, sia la scansione delle
porte dell'host remoto. D'altra parte, per le tecniche di attacco basate
su ICMP da remoto si possono usare <package>hping2</package> e
<package>icmpush</package>.</p>

<p>
Progettato specificamente per reti di tipo Netbios, <package>nbtscan</package>
viene impiegato per scansionare le reti IP e per recuperare informazioni 
riguardo ai nomi (fra cui: nomi degli utenti, nomi della rete, indirizzi 
di tipo MAC...) dai server su cui sia abilitato SMB.</p>

<p>
Infine, per rilevare intrusioni nella rete e verificare se i
NIDS possano essere aggirati da attacchi mediante frammentazione, si può
usare <package>fragrouter</package>.</p>

<p>
FIXME: Controllare se il 
<url id="http://bugs.debian.org/153117" name="Bug #153117"> (ITP fragrouter) sia incluso.</p>

<p>
FIXME: aggiungere informazioni basate su 
<url id="http://rr.sans.org/linux/debian_laptop.php" name="Debian Linux Laptop for Road Warriors">, che descrive come
usare Debian ed un portatile per scansionare 
reti wireless (senza fili) (803.1).</p></sect>



<sect><heading>Controlli interni</heading>

<p>
Al momento solamente il tool chiamato <package>tiger</package> può 
essere usato per effettuare un controllo interno (chiamato anche 
cassetta bianca) degli hosts per controllare se il file system è 
configurato in modo appropriato, quali processi sono in ascolto 
nell'host, etc.</p></sect>


<sect><heading>Revisione del codice sorgente</heading>

<p>
Debian mette a disposizione tre pacchetti che possono essere 
usati nella revisione dei sorgenti C/C++ e nella ricerca di 
errori di programmazione che potenzialmente possono essere 
considerati problemi per la sicurezza:


<list>

<item><p>flawfinder</p></item>
<item><p>rats</p></item>
<item><p>splint</p></item>

</list></p></sect>



<sect id="vpn"><heading>Rete privata virtuale (VPN)</heading>

<p>
Un network privato virtuale (VPN) è un gruppo di due o più computer
che hanno tra di loro una connessione privata con un limitato accesso
pubblico, VPN permette la connessione tra un singolo computer e una 
rete privata (client-server), oppure tra una LAN remota ad una rete 
privata (server-server). VPN include la possibilità di cifrare e
autenticare in modalità sicura utenti remoti, oppure hosts e metodi 
per nascondere la configurazione della rete.</p>

<p>
Debian mette a disposizione alcuni pacchetti per configurare 
correttamente una rete privata cifrata:

<list>

<item><p><package>vtun</package></p></item>
<item><p><package>tunnelv</package></p></item>
<item><p><package>cipe</package></p></item>
<item><p><package>vpnd</package></p></item>
<item><p><package>tinc</package></p></item>
<item><p><package>secvpn</package></p></item>
<item><p><package>pptpd</package></p></item>
<item><p><package>freeswan</package></p></item>

</list></p>

<p>
Il pacchetto FreeSWAN probabilmente è la miglior scelta tra tutte 
quelle proposte, può essere usato da chiunque usi il protocollo di 
sicurezza IPsec (RFC 2411). Comunque gli altri pacchetti presenti 
nella lista possono aiutare a creare facilmente un tunnel.
Il point to point tunneling protocol (PPTP) è un protocollo per 
VPN di proprietà della Microsoft. Viene supportato da Linux, ma 
sono noti seri problemi riguardanti la sicurezza.</p>

<p>
Per ulteriori informazioni leggete il 
<url id="http://www.tldp.org/HOWTO/VPN-Masquerade-HOWTO.html" name="VPN-Masquerade HOWTO"> (copre sia IPsec che PPTP), il
<url id="http://www.tldp.org/HOWTO/VPN-HOWTO.html" name="VPN HOWTO">
(copre PPP su SSH) il 
<url id="http://www.tldp.org/HOWTO/mini/Cipe+Masq.html" name="Cipe mini-HOWTO"> ed il
<url id="http://www.tldp.org/HOWTO/mini/ppp-ssh/index.html" name="PPP and SSH mini-HOWTO">.</p>



<sect1><heading>Tunneling punto punto</heading>

<p>
Se volete avere un tunnel sicuro tra sistemi operativi differenti
(nello stesso tempo sistema operativo Microsoft e clienti LINUX) e
che IPsec non sia un opzione (è il solo fornito per Windows 2000 e
Windows XP), dovrete usare <em>PoPToP</em> (server tunneling punto punto), 
presente nel pacchetto <package>pptpd</package>.</p>

<p>
Se volete usare l'autenticazione e criptazione di Microsoft
messa a disposizione dal pacchetto <package>ppp</package>, 
leggete questo estratto tratto dalle FAQ:

<example>
&Egrave; necessario l'uso di PPP 2.3.8 se volete una completa
compatibilità con il protocollo di autenticazione e criptazione
MSCHAPv2/MPPE. La ragione di questo è che la patch MSCHAPv2/MPPE
attualmente disponibile (19990813) ha dei conflitti con versioni diverse
dalla 2.3.8. Se non avete bisogno di avere completa compatibilità 
con i protocolli di autenticazione e criptazione, qualsiasi 
versione della serie 2.3 di PPP va bene.
</example></p>

<p>
Comunque, dovete anche applicare una patch al kernel, presente nel 
pacchetto <package>kernel-patch-mppe</package>, che mette a 
disposizione il modulo pp-mppe per pppd.</p>

<p>
Avere un account cifrato con ppptp vi obbliga a conservare le 
passwords in chiaro, senza cifratura e nel protocollo 
MS_CHAPv2 sono presenti
<url id="http://mopo.informatik.uni-freiburg.de/pptp_mschapv2/" name="buchi di sicurezza conosciuti">.</p></sect1></sect>



<sect><heading>Infrastruttura a chiave pubblica (PKI)</heading>

<p>
L'infrastruttura a chiave pubblica (PKI) è un'architettura di sicurezza
introdotta per fornire un maggior livello di confidenza nello scambiarsi
informazioni tramite una rete insicura. Fa uso del concetto di chiavi
pubbliche e private per verificare l'identità del mittente (firma) e per
assicurare la privacy (crittografia).</p>

<p>
Nel prendere in considerazione una PKI ci si trova davanti a una serie di
punti:

<list>

<item>
<p>Un'Autorità Certificatrice (CA) che possa creare e verificare certificazioni
e che funzioni sotto una determinata gerarchia</p></item>
<item><p>una directory che contenga le certificazioni pubbliche degli utenti</p></item>
<item>
<p>Un database (?) per mantenere le Liste di Revoca della Certificazione (CRL)</p></item>
<item>
<p>device che interoperino con la CA al fine di produrre smart 
card/memorie-USB/qualsiasi altra cosa in cui poter 
racchiudere certificazioni con sicurezza</p></item>
<item>
<p>Applicazioni che individuino le certificazioni, che possano usare
quelle prodotte da una CA nell'ambito di una comunicazione crittata e
che controllino le certificazioni ricevute rispetto ad una CRL
(per l'autenticazione e le soluzioni Single Sign On)</p></item>
<item><p>Un'autorità che segni la data per la firma digitale dei documenti</p></item>
<item>
<p>Una console dalla quale possa essere utilizzato tutto ciò (generazione
delle certificazioni, controllo delle liste di revoca, ecc ...)</p></item>

</list></p>

<p>
Debian GNU/Linux ha pacchetti che aiutano alcuni di questi compiti PKI. 
Includono <prgn>OpenSSL</prgn> (per la generazione delle certificazioni), 
<prgn>OpenLDAP</prgn> (come directory in cui tenere le certificazioni), 
<prgn>gnupg</prgn> e <prgn>freeswan</prgn> (con il supporto per lo 
standard X.509). Comunque, con il rilascio di Woody (Debian 3.0), 
Debian non supporta nessuna delle Autorità Certificatrici disponibili 
liberamente, come pyCA, <url id="http://www.openca.org" name="OpenCA"> 
o esempi di CA da OpenSSL. Per maggiori informazioni leggete il libro 
sull'<url id="http://ospkibook.sourceforge.net/" name="Open PKI">.</p></sect>



<sect><heading>Infrastruttura SSL</heading>

<p>
Debian fornisce alcune certificazioni SSL con la propria distribuzione, 
così che possano essere installate localmente. Si trovano nel 
pacchetto <package>ca-certificates</package>. Questo pacchetto 
fornisce un deposito locale di certificazioni che sono state inviate 
a Debian e approvate (ossia verificate) dal manutentore del pacchetto, 
utili per applicazioni OpenSSL che verifichino le connessioni SSL.</p>

<p>FIXME: leggere debian-devel per vedere se ci sono aggiunte.</p></sect>


<sect><heading>Antivirus</heading>

<p>
Non ci sono molti antivirus in Debian GNU/Linux, probabilmente perché 
gli utenti GNU/Linux non sono danneggiati dai virus. Il modello di 
sicurezza degli UN*X fa distinzione tra i processi privilegiati (root) 
ed i processi utente, quindi un eseguibile "ostile" che un utente 
non-root riceve o crea ed esegue non può infettare o manipolare
l'intero sistema. Comunque, i worms per GNU/Linux ed i virus esistono, 
anche se non ce n'è nessuno (beh, speriamo) che si sia diffuso a 
macchia d'olio in una distribuzione Debian. In ogni caso, gli 
amministratori potrebbero voler mettere su dei gateway antivirus che 
proteggano dai virus altri sistemi più vulnerabili che fanno parte 
della loro rete.</p>

<p>
Attualmente Debian GNU/Linux fornisce i seguenti strumenti per 
realizzare ambienti antivirus:

<list>


<item>
<url id="http://clamav.elektrapro.com/" name="Clam Antivirus">,
fornito in Debian <em>sarge</em> (la futura versione 3.1). 
Vengono forniti pacchetti per il virus scanner (<package>clamav</package>), 
per il demone di analisi (<package>clamav-daemon</package>) e per i file di 
dati dello scanner. Dato che tenere aggiornato un antivirus è fondamentale per
farlo funzionare correttamente ci sono due modi di prendere questi dati:
<package>clamav-freshclam</package> fornisce un modo per aggiornare il database
automaticamente attraverso Internet e <package>clamav-data</package> che 
fornisce il file di dati direttamente.
<footnote>Se usate quest'ultimo pacchetto e state usando una Debian uffciale
il database non verrà aggiornato con gli aggiornamenti di sicurezza. Dovrete
o usare <package>clamav-freshclam</package>, <prgn>clamav-getfiles</prgn> per
generare il pacchetto <package>clamav-data</package> o aggiornare dal sito del
manutentore del pacchetto:
<example>
 deb http://people.debian.org/~zugschlus/clamav-data/ /
 deb-src http://people.debian.org/~zugschlus/clamav-data/ /
</example>
</footnote>
  	 
<item><package>mailscanner</package> è un e-mail gateway con virus scanner
e controllo dello spam. Usando <package>sendmail</package> o 
<package>Exim</package> come sua base, può usare fino a 17
diversi motori di ricerca di virus (incluso <package>clamav</package>)
  	 
<item><package>libfile-scan-perl</package> che fornisce File::Scan,
una estensione Perl per la scansione dei file per cercare virus. Questo modulo
può essere usato per fare unop scanner indipendente dalla piattaforma.
  	 
 <item><url id="http://www.sourceforge.net/projects/amavis"
 name="Amavis Next Generation">, fornisce il pacchetto <package>amavis-ng
</package> ed è disponibile <em>sarge</em>, è uno scanner per email che si 
integra con diversi MTA (Exim, Sendmail, Postfix o Qmail) e supporta
più di 15 motori di scansione (inclusi clamav, File::Scan e openantivirus).
  	 

<item>
<p><url id="http://packages.debian.org/sanitizer" name="sanitizer">, uno 
strumento che usa ilpacchetto <package>procmail</package>, che può 
esaminare gli allegati delle email, bloccare allegati in base al 
loro nome ed altro.</p></item>
<item>
<p><url id="http://packages.debian.org/amavis-postfix" name="amavis-postfix">, 
uno script che fornisce un'interfaccia da un mail transport agent ad 
uno o più antivirus commerciali (questo pacchetto viene fornito con
il solo supporto per l'MTA <prgn>postfix</prgn>).</p></item>

<item><package>exiscan</package>, un virus scanner per e-mail scritto in Perl
che lavora con Exim.

<item><package>sanitizer</package>, uno scanner per email che può rimuovere
gli allegati potenzialmente dannosi.

<item><package>blackhole-qmail</package> un filtro per spam per Qmail con 
supporto integrato per Clamav.

</list></p>

<p>
Alcuni gateway con supporto per strumenti esterni per costruire un ambiente 
antivirus sono:
<package>exim4-daemon-heavy</package> (la versione <em>pesante</em> dell'MTA
Exim), <package>frox</package> (un proxy trasparente ftp con cache), 
<package>messagewall</package> (un proxy SMTP) e <package>pop3vscan</package>
(un proxy traparente POP3).
  	 
<p>Come potete vedere, Debian non fornisce un antivirus attualmente nella
distribuzione ufficiale (3.0 al momento in cui scriviamo) ma fornisce molte
interfaccie per costruire un gateway antivirus. Il pacchetto <package>Clamav</package> verra fornito con la prossima versione ufficiale.
  	 
<p>Altri progetti di software libero antivirus che potranno essere inclusi 
nella futura versione di Debian GNU/Linux:
<list>
<item><p><url id="http://sourceforge.net/projects/openantivirus/" name="Open Antivirus"> 
(vedete <url id="http://bugs.debian.org/150698" name="Bug #150698 (ITP oav-scannerdaemon"> 
ed il <url id="http://bugs.debian.org/150695" name="Bug #150695 (ITP oav-update">).</p></item>

<item><p><url id="http://sourceforge.net/projects/jvirus/" name="jvirus">.</p></item>

</list></p>

<p><!-- FIXME: Not finding this package in Debian, maybe oav-update
replaced it? -->
C'è anche un pacchetto <package>virussignatures</package> che 
fornisce le signature di tutti i pacchetti e uno script per 
scaricare le ultime signature dei virus da 
<url id="http://www.openantivirus.org/latest.php">.</p>

<p>
FIXME: Controllare se adesso sono disponibili pacchetti antivirus.
Clamav è disponibile? (Vedere se ne è stato fatto un pacchetto Debian).</p>

<p>
FIXME: Controllare se scannerdaemon non sia in realtà lo scannerdaemon
dell'open antivirus (leggere ITPs).</p>

<p>
Comunque Debian non fornirà <em>mai</em> antivirus commerciali 
come ad esempio 
<url id="http://www.pandasoftware.com/com/linux/linux.asp" name="Panda Antivirus">, 
<url id="http://www.nai.com/naicommon/buy-try/try/products-evals.asp" name="NAI Netshield (uvscan)">, 
<url id="http://www.sophos.com/" name="Sophos Sweep">, 
<url id="http://www.antivirus.com/products/" name="TrendMicro Interscan">, 
o <url id="http://www.ravantivirus.com" name="RAV">. 
Per indicazioni maggiori, vedete la 
<url id="http://www.computer-networking.de/~link/security/av-linux_e.txt" name="Linux antivirus software mini-FAQ">.
Questo non significa che questo software non possa 
essere installato opportunamente su un sistema Debian.</p>

<p>
Per maggiori informazioni su come realizzare un sistema di 
individuazione dei virus, leggete l'articolo di Dave Jones 
<url id="http://www.linuxjournal.com/article.php?sid=4882" name="Building an E-mail Virus Detection System for Your Network">.</p></sect>



<sect id="gpg-agent"><heading>GPG</heading>

<p>
Oggigiorno la firma digitale e a volte, la cifratura delle e-mail, sono 
molto diffuse: per esempio, molte persone che partecipano a mailing 
list (gruppi di discussione a mezzo e-mail) firmano le proprie mail 
verso la lista. Le firme a chiave pubblica sono gli unici mezzi per 
verificare che un'e-mail sia stata spedita proprio dal mittente e non 
da qualcun altro.</p>

<p>
Debian GNU/Linux offre un certo numero di clienti, dotati di 
funzioni incorporate per la firma delle e-mail, che interagiscono 
sia con <package>gnupg</package>, sia con <package>pgp</package>:

<list>

<item><p><package>Evolution</package>.</p></item>
<item><p><package>mutt</package>.</p></item>
<item><p><package>kmail</package>.</p></item>
<item>
<p><package>sylpheed</package>: a seconda di come si evolve la versione 
stabile di questo pacchetto, potrebbe essere necessario usare 
<package>sylpheed-claws</package>, ovvero la sua 
"versione in sviluppo".</p></item>
<item>
<p><package>gnus</package>, che, se installato con il pacchetto 
<package>mailcrypt</package>, è una interfaccia di <prgn>emacs</prgn>
per <prgn>gnupg</prgn>.</p></item>
<item>
<p><package>kuvert</package>, che offre questa funzionalità, 
indipendentemente dall'agente di posta dell'utente (MUA), mediante 
l'interazione con l'agente di trasporto della posta (MTA).</p></item>

</list></p>

<p>
I Key server (server delle chiavi) permettono di scaricare chiavi 
pubbliche conclamate, in modo da poter verificare le firme. 
Uno di questi è <url id="http://wwwkeys.pgp.net">.
<package>gnupg</package> può rilevare automaticamente le chiavi
pubbliche non ancora comprese nel proprio "portachiavi". 
Ad esempio, per configurare <prgn>gnupg</prgn> affinché utilizzi 
il server di chiave menzionato, dovrete modificare il file 
<file>~/.gnupg/options</file> ed aggiungere la seguente riga:

<footnote>
<p>Per ulteriori esempi sulle modalità di configurazione di <prgn>gnupg</prgn>,
vedete <file>/usr/share/doc/mutt/examples/gpg.rc</file>.</p>
</footnote>

<example>
keyserver wwwkeys.pgp.net
</example></p>

<p>
La maggior parte dei server di chiavi è collegata, in modo che 
quando viene aggiunta su uno di essi una chiave pubblica, tale 
aggiunta è riprodotta su tutti gli altri. C'è anche un pacchetto 
Debian GNU/Linux, <package>debian-keyring</package>, che fornisce 
tutte le chiavi pubbliche degli sviluppatori Debian. I portachiavi 
di <prgn>gnupg</prgn> sono installati nella cartella 
<file>/usr/share/keyrings/</file>.</p>

<p>Per maggiori informazioni:

<list>

<item><p><url id="http://www.gnupg.org/faq.html" name="GnuPG FAQ">.</p></item>
<item><p><url id="http://www.gnupg.org/gph/en/manual.html" name="GnuPG
Handbook">.</p></item>
<item><p><url id="http://www.dewinter.com/gnupg_howto/english/GPGMiniHowto.html" name="GnuPG Mini Howto (in inglese)">.</p></item>
<item><p><url id="http://www.uk.pgp.net/pgpnet/pgp-faq/" name="comp.security.pgp FAQ">.</p></item>
<item><p><url id="http://www.cryptnet.net/fdp/crypto/gpg-party.html" name="Keysigning Party HOWTO">.</p></item>

</list></p></sect></chapt>



