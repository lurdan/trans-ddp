<chapt id="compat">Compatibility issues

<sect id="arches">On what hardware architectures/systems does &debian; run?

<p>&debian; includes complete source-code for all of the included programs,
so it should work on all systems which are supported by the Linux kernel;
see the <url name="Linux FAQ" id="http://www.cl.cam.ac.uk/users/iwj10/linux-faq/">
for details.

<p>The current &debian; release, 2.1, contains a complete, binary distribution
for the following architectures:

<p>i386: this covers PCs based on Intel and compatible processors,
including Intel's 386, 486, Pentium, Pentium Pro, Pentium II (both Klamath
and Celeron), and Pentium III, and most compatible processors by AMD, Cyrix
and others.

<p>m68k: this covers Amigas and ATARIs having a Motorola 680x0 processor for
x>=2; with MMU.

<p>alpha: this covers Compaq/Digital's Alpha systems.

<p>sparc: this covers Sun's SPARC systems, and some UltraSPARCs.

<p>The development of binary distributions of Debian for Sparc64 (UltraSPARC),
PowerPC, and ARM architectures is currently underway.

<p>For further information on booting, partitioning your drive, enabling
PCMCIA (PC Card) devices and similar issues please follow the instructions
given in the Installation Manual, which is available from our WWW site at
<url id="http://www.debian.org/releases/stable/i386/install">.

<sect id="otherdistribs">How compatible is Debian with other distributions
                         of Linux?
	
<p>Debian developers communicate with other Linux distribution creators
in an effort to maintain binary compatibility across Linux distributions.
Most commercial Linux products run as well under Debian as they do on the
system upon which they were built.

<p>&debian; adheres to the <url name="Linux Filesystem Hierarchy
Standard" id="http://www.pathname.com/fhs/">. However, there is room for
interpretation in some of the rules within this standard, so there may be
slight differences between a Debian system and other Linux systems.

<sect id="otherunices">How source code compatible is Debian with other
  Unix systems?
	
<p>For most applications Linux source code is compatible with other Unix
systems. It supports almost everything that is available in System V Unix
systems and the free and commercial BSD-derived systems. However in the Unix
business such claim has nearly no value because there is no way to prove it.
In the software development area complete compatibility is required instead
of compatibility in "about most" cases. So years ago the need for standards
arose, and nowadays POSIX.1 (IEEE Standard 1003.1-1990) is one of the major
standards for source code compatibility in Unix-like operating systems.

<p>Linux is intended to adhere to POSIX.1, but the POSIX standards cost real
money and the POSIX.1 (and FIPS 151-2) certification is quite expensive;
this made it more difficult for the Linux developers to work on complete
POSIX conformance. The certification costs make it unlikely that Debian will
get an official conformance certification even if it completely passed the
validation suite. (The validation suite is now freely available, so it is
expected that more people will work on POSIX.1 issues.)

<!-- <p><strong>(The authors would very much like to give you a pointer to
an on-line document that described that standard, but the IEEE is another
one of those organizations that gets away with declaring standards and then
requiring that people PAY to find out what they are.  This makes about as
much sense as having to find out the significance of various colored lights
on traffic signals.)</strong> -->

<p>Unifix GmbH (Braunschweig, Germany) developed a Linux system that has
been certified to conform to FIPS 151-2 (a superset of POSIX.1). This
technology was available in Unifix' own distribution called Unifix
Linux 2.0 and in Lasermoon's Linux-FT.
<!-- I had to comment this out for obvious reasons... SVD
 <url name="Linux-FT" url="http://www.lasermoon.co.uk/linux-ft/linux-ft.html">.
Currently Unifix merges its patches into the Linux kernel, gcc and other
tools; so it is expected that their fixes towards POSIX.1 conformance will
be available in Debian (and other distributions).
-->

<sect id="otherpackages">Can I use Debian packages (".deb" files) on my
  RedHat/Slackware/... Linux system? Can I use RedHat packages (".rpm"
  files) on my &debian; system?

<p>Different Linux distributions use different package formats and different
package management programs.

<!-- stupid tags -->
<taglist>
<tag/You probably can:/
<item>A program to unpack a Debian package onto a Linux host that is been
built from a `foreign' distribution is available, and will generally work,
in the sense that files will be unpacked.  The converse is probably also
true, that is, a program to unpack a RedHat or Slackware package on a host
that is based on &debian; will probably succeed in unpacking the package
and placing most files in their intended directories.  This is largely a
consequence of the existence (and broad adherence to) the Linux Filesystem
Hierarchy Standard.

<p><tag/You probably do not want to:/
<item>Most package managers write administrative files when they
are used to unpack an archive.  These administrative files are generally
not standardized.  Therefore, the effect of unpacking a Debian package
on a `foreign' host will have unpredictable (certainly not useful) effects
on the package manager on that system.  Likewise, utilities from other
distributions might succeed in unpacking their archives on Debian systems,
but will probably cause the Debian package management system to fail when the
time comes to upgrade or remove some packages, or even simply to report
exactly what packages are present on a system.

<p><tag/A better way:/
<item>The Linux File System Standard (and therefore &debian;) requires that
subdirectories under <tt>/usr/local/</tt> be entirely under the user's
discretion.  Therefore, users can unpack `foreign' packages into this
directory, and then manage their configuration, upgrade and removal
individually.
</taglist>

<!-- It would be useful to document all the ways in which Debian and RedHat
systems differ.  I believe such a document would do a lot to dispell
fears of using a Unix system. SGK -->

<sect id="a.out">Is Debian able to run my very old "a.out" programs?

<p>Do you actually still have such a program? :-)

<p>To <em>execute</em> a program whose binary is in <tt>a.out</tt>
(i.e., QMAGIC or ZMAGIC) format,

<list>
  <item>Make sure your kernel has <tt>a.out</tt> support built into it,
  either directly (CONFIG_BINFMT_AOUT=y) or as a module (CONFIG_BINFMT_AOUT=m).
  (Debian's kernel-image package contains the module <tt>binfmt_aout</tt>.)

  <p>If your kernel supports <tt>a.out</tt> binaries by a module, then be
  sure that the <tt>binfmt_aout</tt> module is loaded.  You can do this
  at boot time by entering the line <tt>binfmt_aout</tt> into the file
  <tt>/etc/modules</tt>.  You can do it from the command line by
  executing the command <tt>insmod DIRNAME/binfmt_aout.o</tt> where
  <tt>DIRNAME</tt> is the name of the directory where the modules that
  have been built for the version of the kernel now running are stored.
  On a system with the 2.2.14 version of the kernel,
  <tt>DIRNAME</tt> is likely to be <tt>/lib/modules/2.2.14/fs/</tt>.

  <item>install the package <package/libc4/, found in one of the releases
  prior to release 2.0 (because at that time we removed the package).
  You might want to look for an old Debian CD-ROM (Debian 1.3.1 still had
  this package), or see <url id="ftp://archive.debian.org/debian-archive/">
  on the Internet.

  <item>If the program you want to execute is an <tt>a.out</tt> X client,
  then install the <package/xcompat/ package (see above for availability).
</list>

<p>If you have a commercial application in <tt>a.out</tt> format, now would
be a good time to ask them to send you an <tt>ELF</tt> upgrade.

<sect id="runninglibc5">Is Debian able to run my old libc5 programs?

<p>Yes. Just install the required libraries from the <tt>oldlibs</tt>
section (old packages included for compatibility with older applications).

<sect id="compilinglibc5">Can Debian be used to compile libc5 programs?

<p>Yes. In Debian, your system can be fully upgraded to libc6 (including the
development packages), and yet it is possible to develop programs for libc5.
Just install <package/altgcc/ and <package/libc5-altdev/ packages, from
section <tt>oldlibs</tt>.

<p>Then you would have to place the <tt>libc5</tt> tools ahead of the
normal tools in your path. That is, execute the command:
  <example>export PATH=/usr/i486-linuxlibc1/bin:$PATH</example>
(This is not essential, just advantageous.)
If you are only going to do this once, you could execute:
  <example>PATH=/usr/i486-linuxlibc1/bin:$PATH make [target]</example>.

<sect id="non-debian-programs">How should I install a non-Debian program?
	
<p>Files under the directory <tt>/usr/local/</tt> are not under the control
of the Debian package management system.  Therefore, it is good practice
to place the source code for your program in /usr/local/src/.  For example,
you might extract the files for a package named "foo.tar" into the directory
<tt>/usr/local/src/foo</tt>.  After you compile them, place the binaries
in <tt>/usr/local/bin/</tt>, the libraries in <tt>/usr/local/lib/</tt>,
and the configuration files in <tt>/usr/local/etc/</tt>.

<p>If your programs and/or files really must be placed in some other
directory, you could still store them in <tt>/usr/local/</tt>,
and build the appropriate symbolic links from the required location
to its location in <tt>/usr/local/</tt>, e.g., you could make the link
<example>ln -s /usr/local/bin/foo /usr/bin/foo</example>

<p>In any case, if you obtain a package whose copyright allows
redistribution, you should consider making a Debian package of it, and
uploading it for the Debian system.  Guidelines for becoming a package
developer are included in the Debian Policy manual (see <ref id="debiandocs">).

<sect id="termcap">Why can't I compile programs that require libtermcap?
	
<p>Debian uses the <tt>terminfo</tt> database and the <tt>ncurses</tt>
library of terminal interface routes, rather than the <tt>termcap</tt>
database and the <tt>termcap</tt> library.  Users who are compiling programs
that require some knowledge of the terminal interface should replace
references to <tt>libtermcap</tt> with references to <tt>libncurses</tt>.

<p>To support binaries that have already been linked with the <tt>termcap</tt>
library, and for which you do not have the source, Debian provides a package
called <package/termcap-compat/.  This provides both <tt>libtermcap.so.2</tt>
and <tt>/etc/termcap</tt>.  Install this package if the program fails to run
with the error message "can't load library 'libtermcap.so.2'", or complains
about a missing <tt>/etc/termcap</tt> file.

<sect id="accelx">Why can't I install AccelX?
	
<p>AccelX uses the <tt>termcap</tt> library for installation. See
<ref id="termcap"> above.

<sect id="xlib6">Why do I get "Can't find libX11.so.6" errors when I try
  to run <tt>foo</tt>?

<p>This error message could mean that the program is linked against the
<tt>libc5</tt> version of the X11 libraries. In this case you need to
install the <package/xlib6/ package, from the <tt>oldlibs</tt> section.

<p>You may get similar error messages referring to libXpm.so.4 file, in
which case you need to install the libc5 version of the XPM library,
from the <package/xpm4.7/ package, also in the <tt>oldlibs</tt> section.

<sect id="motifnls">Why do my old XFree 2.1 Motif applications crash?

<p>You need to install the <package/motifnls/ package, which provides the
XFree-2.1 configuration files needed to allow Motif applications compiled
under XFree-2.1 to run under XFree-3.1.

<p>Without these files, some Motif applications compiled on other machines
(such as Netscape) may crash when attempting to copy or paste from or to
a text field, and may also exhibit other problems.

<sect id="non-debian-kernel">Can I install and compile a kernel without
  some Debian-specific tweaking?

<p>Yes.  But you have to understand the Debian policy with respect to headers.

<p>The Debian C libraries are built with the most recent <em>stable</em>
releases of the <tt>kernel</tt> headers.

<p>For example, the Debian-1.2 release used version 5.4.13 of the headers.
This practice contrasts with the Linux kernel source packages distributed
at all Linux FTP archive sites, which uses even more recent versions of
the headers.  The kernel headers distributed with the kernel source are
located in <tt>/usr/include/linux/include/</tt>.

<p>If you need to compile a program with kernel headers that are newer
than those provided by <package/libc6-dev/, then you must add
<tt>-I/usr/src/linux/include/</tt> to your command line when compiling.
This came up at one point, for example, with the packaging of the
automounter daemon (<package/amd/).  When new kernels changed some
internals dealing with NFS, <tt>amd</tt> needed to know about them.
This required the inclusion of the latest kernel headers.
