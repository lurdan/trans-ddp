<chapt id="pkgtools">Die Debian Paket-Werkzeuge 

<sect id="pkgprogs">Welche Programme bietet Debian an, um Pakete zu verwalten?

<sect1 id="dpkg">dpkg

<p>Ist das Haupt-Paket-Werkzeug. <prgn/dpkg/ 
kann mit vielen Optionen aufgerufen werden.  Häufig benutzte sind:
<list>
  <item>Zeige alle Optionen an:  <tt>dpkg --help</tt>.
  <item>Zeige die Datei control (und andere Informationen) für ein angegebenes
    Paket an: <tt>dpkg --info foo_VVV-RRR.deb</tt>
  <item>Installiere ein Paket (inklusive Entpacken und Konfiguration) in das
    Dateisystem auf der Festplatte: <tt>dpkg --install foo_VVV-RRR.deb</tt>.
  <item>Entpacke (ohne es zu konfigurieren) ein Debian-Archiv in das Dateisystem
    auf der Festplatte: <tt>dpkg --unpack foo_VVV-RRR.deb</tt>. Bitte beachten Sie, dass diese Option
    das Paket <em>nicht</em> automatisch in einem benutzbaren Zustand lässt
    ; manche Dateien benötigen eine weitergehende Konfiguration, um vernünftig zu
	funktionieren.
    Dieser Befehl löscht jede auf der Festplatte installierte Version des Programms und führt das
    mit dem Paket verbundene "preinst"-Skript (siehe <ref id="maintscripts">) aus.
  <item>Konfiguriere ein bereits ausgepacktes Paket:
    <tt>dpkg --configure foo</tt>.  Neben anderen Sachen ruft diese Option das 
    zugehörige "postinst"-Skript (<ref id="maintscripts">) des Paketes auf.
    Außerdem aktualisiert es die Dateien, die in der Datei <tt>conffiles</tt>
    des Paketes aufgelistet sind. Beachten Sie, dass die 'configure'-Option als Argument
    ein Paket-Name benötigt (e.g., foo), <em/und nicht/ den Name der Debian-Archivdatei
    (z.B., foo_VVV-RRR.deb).
  <item>Extrahiere eine einzelne Datei namens "blurf" (oder mehrere Dateien namens
    "blurf*" aus einem Debian-Archiv
    <tt>dpkg --fsys-tarfile foo_VVV-RRR.deb | tar -xf - blurf*</tt>
  <item>Lösche ein Paket (aber nicht seine Konfigurations-Dateien):
    <tt>dpkg --remove foo</tt>.
  <item>Lösche ein Paket (inklusive Konfigurations-Dateien):
    <tt>dpkg --purge foo</tt>.
  <item>Zeige den Installationszustand eines Paketes, das die Buchstaben
    (oder den regulären Ausdruck) "foo*" enthält an: <tt>dpkg --list 'foo*'</tt>.
</list>

<sect1 id="dselect">dselect

<p>Dieses Programm ist ein menügesteuertes Programm für das Debian Paket-System.
Es ist besonders für erste Installationen und größere Aktualisierungen nützlich.

<p><prgn/dselect/ kann:
<list>
  <item>den Benutzer unterstützen, das Paket, das er/sie ausgewählt hat, zu installieren
	oder zu löschen und dabei sichernstellen, dass keine Pakete, die in Konflikt
	mit anderen stehen, installiert sind und benötigte Pakete, die für das
	Funktionieren der anderen gebraucht werden, ebenfalls installiert sind;
  <item>den Benutzer über Inkonsistenzen oder Inkompatibilitäten in seiner Auswahl
        warnen;
  <item>die Reihenfolge, in der die Pakete installiert sein müssen festlegen;
  <item>automatisch die Installation oder das Löschen ausführen; und
  <item>den Benutzer anleiten, welcher Konfigurationsschritt der Konfiguration für jedes Paket
    notwendig ist.
</list>

<p><prgn/dselect/ beginnt mit der Auswahl aus sieben Möglichkeiten für den Benutzer,
von denen jede eine bestimme Eigenschaft hat. Der Benutzer kann durch das Drücken
der Pfeiltasten mit der markierten Zeile seine Auswahl treffen. Um die markierte Zeile
auszuwählen, muss die <em>&lt;Enter&gt;</em>-Taste gedrückt werden.

<p>Was der Benutzer als nächstes zu sehen bekommt, hängt von der Auswahl ab, die
er getroffen hat. Wenn er eine der Optionen Zugriff oder Auswählen ausgewählt hat,
dann setzt <prgn/dselect/
mit dem Ausführen der angegebenen Aktion fort: z.B., wenn der Benutzer
die Aktion <tt>Löschen</tt> ausgewählt hat, dann setzt dselect mit dem Löschen aller
ausgewählten Dateien fort, wenn der Benutzer als letztes die Aktion
<tt>Auswählen</tt> ausgewählt hat.

<p>Beide, der Menüpunkt <tt>Zugriff</tt> und der Menüpunkt <tt>Auswählen</tt>
führen zu weiteren Menüpunkten.  In beiden Fällen werden die Menüs als geteilter
Bildschirm dargestellt; Der obere Bildschirmabschnitt gibt eine scrollbare Liste
mit möglichen Auswahlmöglichkeiten, während der untere Bildschirmabschnitt eine kurze
Erklärung ("info") für jede Auswahl bereitstellt.

<p>Für eine ausgiebige Hilfe drücken Sie bitte die '?'-Taste.

<p>Die Reihenfolge, in der die Aktionen im ersten <prgn/dselect/
Menü aufgelistet sind, gibt die Reihenfolge, in der der Benutzer normalerweise mit
<prgn/dselect/ Pakete auswählt, um sie zu installieren. Dennoch kann ein Benutzer
jede andere, der Hauptmenüauswahlen so oft wie nötig auswählen (hängt nicht davon ab, 
was er tun möchte).

<list>
  <item>Beginne mit der <strong/Zugriffsmethode/. Dies ist die Methode, 
    mit der der Benutzer auf die Debian-Pakete zugreifen kann; Einige
    Benutzer haben die Debian-Pakete auf einer CD-ROM verfügbar, wohingegen andere
    sie mit einem anonymen FTP Zugang herunterladen. Die ausgewählte "Zugriffs Methode" gespeichert
    nachdem <prgn/dselect/ beendet worden ist, sodass nichts verändert ist, wenn diese
	Option noch einmal aufgerufen wird.

  <item>Anschließend <strong/Erneuere/ die Liste der verfügbaren Pakete. Um dies zu tun,
    liest <prgn/dselect/ die Datei "Packages.gz", welche im obersten Teil des Ordners,
    in den die Debian-Pakete installiert werden sollen, enthalten sein sollte.
    (Sollte dies nicht der Fall sein, bietet <prgn/dselect/ an dies für Sie zu tun.)

  <item><strong/Wähle/ bestimmte Paket für die Installation auf Ihrem System aus.
    Nachdem diese Menü gewählt wurde, bekommt der Benutzer zuerst einen Hilfe-Bildschirm
    präsentiert (es sei denn, die `--expert'-Kommandozeilen-Option wurde benutzt).
    Sobald der Benutzer den Hilfe-Bildschirm beendet, sieht er ein geteiltes Bildschirmmenü 
    für die Auswahl der zu installierenden Paket (der zu löschenden).

    <p>Im oberen Bildschirm ist ein relativ begrenztes Fenster in dem die
    &all-pkgs; Debian-Pakete aufgelistet sind; Der untere Teil des Bildschirms beinhaltet
    Beschreibungen der Pakete oder einer Gruppe von Paketen, die markiert sind.

    <p>Man kann nun auswählen, welche Pakete behandelt werden sollen, indem man das Paket
    oder den Name einer Gruppe von Paketen markiert. Danach können Sie auswählen, ob die Pakete:
    <taglist>
      <tag>installiert werden sollen:
        <item>Dies tun Sie, indem die die `+'-Taste drücken.
      <tag>gelöscht werden sollen:
        <item>Pakete können auf zwei Arten deinstalliert werden:
        <list>
          <item>Löschen: Dies löscht die meisten mit dem Paket verbundenen Dateien,
          erhält jedoch die Konfigurations-Dateien
          (siehe <ref id="conffile">) und die Informationen über die Paket-Konfiguration.
          Dies tun Sie, indem Sie die `-'-Taste drücken.
          <item>Säubern: Dies löscht <em/jede/ Datei, die ein Teil des Paketes
          ist (auch die Konfigurations-Dateien). Dies tun Sie, indem Sie die `_'-Taste drücken.
        </list>
        Bitte denken Sie daran, dass es nicht möglich ist "alle Pakete" zu löschen. Wenn Sie dies 
        versuchen, wird ihr System stattdessen auf eine Basis-Installation reduziert.
      <tag>Ein Paket zurückhalten:
        <item>Dies tut Sie mittels der `='-Taste. Dies teilt
        <prgn/dselect/ mit, die aktuelle Version eines Paketes nicht zu aktualisieren, auch
        wenn die momentan installierte Version nicht die neuste Version des Paketes ist, 
        die zur Zeit im Debian Repository verfügbar ist (dies wurde mit der
        <strong/Zugriffsmethode/ und mit der Benutzung von
        <strong/Erneuern/ festegelegt).
        <p>Sie können ein Paket zurückhalten und Sie können es mittels der
        `:'-Taste ausblenden. Dies teilt <prgn/dselect/ mit, dass das/die
        Paket/e eventuell aktualisiert werden, wenn eine neuere Version verfügbar ist.
    	Dies ist die Standardeinstellung.
	</taglist>

    <p>Sie können auswählen, dass die Reihenfolge der Darstellung der Pakete sich ändert.
    Mittels der `o'-Taste können Sie zwischen den verschieden Sortierungsmöglichkeiten 
	der Pakete hin und her schalten.
    Die Standard-Sortierreihenfolge stellt die Pakete nach der Priorität dar; Innerhalb 
    jeder Priorität werden die Pakete in der Reihenfolge der Ordner (a.k.a. 
    Abteilung) des Archivs dargestellt, in dem sie aufbewahrt werden. In dieser Reihenfolge werden die Pakete
    in Abteilung A zuerst dargestellt, gefolgt von den Paketen in Abteilung B, gefolgt von mehreren 
    Pakete aus Abteilung A mit einer niedrigeren Priorität.    

    <p>Sie können außerdem die Bedeutungen der Beschriftungen auf der oberen Bildschirmhälfte
    erweitert anzeigen, indem Sie `v' (verbose) drücken.
    Diese Aktion zeigt den Text, der vorher auf dem Bildschirm angezeigt wurde auf die rechte Seite.
    Um dies zu sehen, drücken Sie dir rechte Pfeiltaste und scrollen Sie nach links, indem Sie die
    linke Pfeiltaste drücken.

    <p>Wenn sie die Installation oder Entfernen eines Paketes ausgewählt haben, z.B. das Paket
    <package/foo.deb/ und das Paket benötigt (oder empfiehlt) ein anderes Paket, z.B.
    das Paket <package/blurf.deb/, dann wird <prgn/dselect/ dies in einem Teil-Bildschirm 
    des Haupt-Auswahl-Bildschirms darstellen. Dort können Sie zwischen deb verwandten Paketen
    auswählen, die vorgeschlagenen Aktionen akzeptieren(installieren oder nicht)
    oder sie zurückweisen. Für letzteres drücken Sie Shift-D; Um das letze rückgängig
    zu machen, drücken Sie Shift-U. Sie können indem Sie Shift-Q drücken in jedem Fall
    Ihre Einstellungen speichern und zum Hauptbildschirm zurückkehren.

  <item>Wenn Sie in das Hauptmenü zurückgekehrt sind, können Sie die "Installieren
    Methode wählen, um die ausgewählten Pakete zu entpacken und zu konfigurieren.
    Alternativ können Sie mittels der "Löschen" Methode Pakete löschen.    
    Um <prgn/dselect/ zu beenden wählen Sie "Beenden".
</list>

<sect1 id="dpkg-deb">dpkg-deb

<p>Dieses Programm manipuliert Debian-Archiv-Dateien(<tt>.deb</tt>).
Einige häufig verwendete Eigenschaften:
<list>
  <item>Zeige alle Optionen:  <tt>dpkg-deb --help</tt>.
  <item>Zeige an, welche Dateien in einem Debian-Archiv enthalten sind,
    ohne das Paket zu entpacken:  <tt>dpkg-deb --contents foo_VVV-RRR.deb</tt>)
  <item>Entpacke die Dateien, die in dem Debian-Archiv enthalten sind in das
    angegebene Verzeichnis:  <tt>dpkg-deb --extract foo_VVV-RRR.deb tmp</tt>
    entpackt jede Datei in <tt>foo_VVV-RRR.deb</tt> in das Verzeichnis
     <tt>tmp/</tt>.  Dies ist eine bequeme Methode, um die Inhalte eines Paketes
    in einem lokalen Verzeichnis zu prüfen, ohne das Paket in das Root-Dateisystem
    zu installieren. 
</list>

<p>Bitte merken Sie sich, dass jedes Pakete, dass lediglich mit <tt/dpkg-deb
--extract/ entpackt wird, falsch installiert ist.Stattdessen benutzen Sie <tt/dpkg --install/
um ein Paket zu installieren.

<p>Weitere Informationen erhalten Sie im Manual <manref name="dpkg-deb"
section="1">.

<sect1 id="apt-get">apt-get

<p><prgn/apt-get/ liefert einen einfachen Weg, um Pakete im Textmodus zu installieren.
Im Gegensatz zu  <prgn/dpkg/ arbeitet <prgn/apt-get/ nicht mit .deb-Dateien, sondern
es arbeitet mit dem zu einem Paket gehörigen Namen des Paketes und kann .deb-Archive nur über
eine in <file>/etc/apt/sources.list</file> Quelle installieren.

<p>Für weitere Informationen installieren sie das Paket <package/apt/, lesen Sie
<manref name="apt-get" section="8">, <manref name="sources.list" section="5">
und <file>/usr/share/doc/apt/guide.html/index.html</file>.

<sect1 id="dpkg-split">dpkg-split

<p>Dieses Programm spaltet große Pakete in kleinere Dateien (z.B., um Dateien auf
mehrere Disketten zu schreiben) und kann genutzt werden, um mehrere Teile einer Datei
wieder zu einer Datei zusammenzufügen. Es kann nur auf einem Debian-System verwendet werden (d.h.
ein System, dass das Paket <package/dpkg/ beinhaltet), weil es das Programm
<tt>dpkg-deb</tt> verwendet, um die Debian-Paket-Datei zu analysieren und in seine
Einzelteile zu zerlegen.
<p>Um zum Beispiel eine große .deb Datei in n Dateien zu unterteilen,
<list>
  <item>Führen Sie das Kommando <tt>dpkg-split --split foo.deb</tt> aus.
    Dies wird n Dateien im aktuellen Verzeichnis erzeugen, wobei jede ungefähr 460 KByte
    lang ist.
  <item>Kopieren Sie die n Dateien auf Ihre Disketten.
  <item>Kopieren Sie den Inhalt der Disketten auf die Festplatte eines Computers Ihrer Wahl.
  <item>Fügen Sie die einzelnen Dateien wieder mittels <tt>dpkg-split --join "foo*"</tt> zusammen.
</list>

<sect id="updaterunning">Debian erhebt den Anspruch, dazu in der Lage zu sein, ein laufendes System
zu aktualisieren. Wie ist es dazu in der Lage?

<p>Der Kernel (Dateisystem) in &debian; Systemen unterstützt das Ersetzen von Dateien auch
während sie benutzt werden.

<p>Außerdem stellen wir ein Programm namens <prgn/start-stop-daemon/ zur Verfügung, dass benutzt wird,
um Daemonen während des Hochfahrens zu starten oder beim Wechsel des Runlevels zu stoppen
(z.B. von Mehrbenutzer zu Einbenutzer oder zum Runterfahren). Das selbe Programm wird von Installations-Skripten
benutzt, sobald ein neues Paket installiert wird, das einen Daemon beinhaltet, um laufende Daemonen zu stoppen und falls
benötigt neu zu starten.

<sect id="whatpackages">Wie kann sehen, welche Pakete bereits auf meinem
Debian-System installiert sind?  

<p>Um den Status aller in dem Debian-System installierten Pakete zu sehen,
führen Sie das Kommando
  <example>dpkg --list</example> aus

Dies gibt eine einzeilige Zusammenfassung mit einem 2-buchstabigen Status-Symbol (im Kopf erklärt), den Paket--Name,
die <em>installierte</em> Version des Paketes und eine kurze Beschreibung für jedes
einzelne Paket aus.

<p>Um den Status jedes Paketes zu sehen, dessen Name mit
"foo" anfängt, geben Sie folgendes Kommando ein:
  <example>dpkg --list 'foo*'</example>

<p>Um eine ausführlicheren Status für ein bestimmtes Paket zu erhalten, geben Sie folgendes Kommando ein:
  <example>dpkg --status Paketname</example>

<sect id="filesearch">Wie kann Ich herausfinden, welches Paket eine bestimmte Datei angelegt hat?

<p>Um herauszufinden, welches Paket die Datei namens <tt>foo</tt> erstellt hat, 
führen Sie eines der Kommandos aus:

<list>
  <item><tt>dpkg --search Dateiname</tt>
    <p>Dies sucht nach <tt>Dateiname</tt> in den installierten Paketen.
    (Dies ist (momentan) gleichwertig mit der Suche nach allen Dateien
    mit der Endung <tt>.list</tt> im Verzeichnis
    <tt>/var/lib/dpkg/info/</tt> und des Manipulierens der Ausgabe, sodass alle Pakete
    ,die des beinhalten aufgelistet werden.)

  <item><tt>zgrep foo Contents-ARCH.gz</tt>
    <p>Dies sucht nach Dateien, die die Zeichenkette <tt>foo</tt>
    in ihrem vollständigen Pfadnamen enthalten.
    Die Datei <tt>Contents-ARCH.gz</tt> (wobei ARCH
    die gewünschte Architektur darstellt) befindet sich in den Haupt-Paket-Verzeichnissen
    (main, non-free, contrib) auf dem Debian FTP Server.  Eine <tt>Contents</tt>-Datei
    bezieht sich nur auf das Paket im Unterverzeichnisstamm, in dem es sich aufhält.
    Deshalb könnte es sein, dass der Benutzer mehr als eine <tt>Contents</tt>
    -Datei durchsuchen muss, um das Paket zu finden, dass <tt>foo</tt> enthält.

    <p>Diese Methode hat gegenüber <tt>dpkg --search</tt> den Vorteil, dass
    Sie damit Dateien in Pakete finden können, die momentan nicht auf Ihrem System
    installiert sind. 
</list>
