<!-- CVS revision of original english document "1.17" -->

<chapt id="compat">Problèmes de compatibilité

<sect id="arches">Sur quelle architecture matérielle fonctionne &debian;&nbsp;?

<p>&debian; fournit le code source complet pour tous les programmes, donc
elle peut fonctionner sur tous les systèmes supportant le noyau Linux.
voir la <url name="FAQ Linux" id="http://en.tldp.org/FAQ/Linux-FAQ/intro.html#DOES-LINUX-RUN-ON-MY-COMPUTER">
pour plus de détails.

<!-- XXX update for new distros -->
<p>La version actuelle de &debian;, la &release;, contient une distribution 
binaire complète pour les architectures suivantes&nbsp;:

<p><em/i386/&nbsp;: ceci couvre les ordinateurs PCs basés sur les processeurs Intel et compatible,
incluant les processeurs Intel 386, 486, Pentium, Pentium Pro, Pentium II (Klamath
et Celeron), et Pentium III, et la plupart des processeurs compatibles de AMD, Cyrix
et autres.

<p><em/m68k/&nbsp;: ceci couvre les machines Amigas et ATARIs ayant un processeur Motorola 680x0
pour x>=2 avec MMU.

<p><em/alpha/&nbsp;: les systèmes Alpha de Compaq/Digital.

<p><em/sparc/&nbsp;: ceci couvre les SPARC de SUN et la plupart des systèmes UltraSPARC.

<p><em/powerpc/&nbsp;: ceci couvre certaines machines IBM/Motorola PowerPC, incluant les machines
CHRP, PowerMac et PReP.

<p><em/arm/&nbsp;: les machines ARM et StrongARM.

<p><em/mips/&nbsp;: les systèmes MIPS gros-boutiens de SGI, Indy et Indigo2;
<em/mipsel/&nbsp;: les machines MIPS petit-boutiennes, Digital DECstations.

<p><em/hppa/&nbsp;: les machines PA-RISC de Hewlett-Packard (712, C3000, L2000, A500).

<p><em/ia64/&nbsp;: les ordinateurs Intel IA-64 («&nbsp;Itanium&nbsp;»).

<p><em/s390/&nbsp;: les systèmes mainframe S/390 de IBM.

<p>Le développement d'une distribution binaire Debian pour les architectures Sparc&nbsp;64
(native UltraSPARC) est actuellement en cours.

<p>Pour de plus amples informations sur le démarrage, le partitionnement du disque, 
l'activation des périphériques PCMCIA (carte PC) et sur des questions semblables 
veuillez-vous référer aux instructions du manuel d'installation, qui est disponible sur notre 
site web à l'adresse <url id="http://www.debian.org/releases/stable/installmanual">.

<sect id="otherdistribs">Debian est-elle compatible avec les autres distributions&nbsp;?	

<p>Les développeurs Debian communiquent avec les responsables des autres distributions Linux 
pour maintenir la compatibilité binaire entre les distributions Linux.
La plupart des produits Linux commerciaux fonctionnent aussi bien sous Debian que sur le système
pour lequel ils ont été construits.

<p>&debian; se conforme à la <url name="norme de hiérarchie du système de fichiers Linux" 
id="http://www.pathname.com/fhs/"> («&nbsp;Linux Filesystem Hierarchy Standard&nbsp;»).
Cependant, certaines des règles de cette norme laissent une part à l'interprétation, de ce fait 
il peut y avoir de légères différences entre un système Debian et les autres systèmes Linux.

<sect id="otherunices">Comment le code source compatible Debian l'est-il avec d'autres 
			systèmes Unix&nbsp;?
	
<p>Pour la plupart des applications, le code source de Linux est compatible avec les autres systèmes Unix.
Il gère presque tout qui est disponible pour les systèmes Unix de type système V et
pour les systèmes dérivés des BSD libres et commerciaux. Cependant dans le monde Unix une 
telle déclaration n'a presque aucune valeur parce qu'il n'y a aucune possibilité de la prouver.
Dans le secteur du développement logiciel la compatibilité complète est exigée et pas seulement une  
compatibilité dans «&nbsp;la plupart des&nbsp;» cas. Ainsi il y a des années le besoin de normes
s'est ressenti, et de nos jours POSIX.1 (norme 1003.1-1990 d'IEEE) est une des normes principales 
pour la compatibilité du code source des systèmes d'exploitation de type Unix.

<p>Linux est prévu pour adhérer à POSIX.1, mais les normes de POSIX ne sont pas
gratuites et la certification POSIX.1 (et FIPS 151-2) est très chère&nbsp;;
ce qui fait qu'il est très difficile pour les développeurs Linux de travailler sur 
une conformité complète de la norme Posix. Les coûts de certification rendent peu probable 
l'obtention par Debian d'une certification officielle de conformité même s'il passait
complètement la suite de validation (la suite de validation est maintenant disponible 
gratuitement, ainsi on s'attend à ce que plus de personnes travaillent sur les questions POSIX.1).

<!-- <p><strong>(The authors would very much like to give you a pointer to
an on-line document that described that standard, but the IEEE is another
one of those organizations that gets away with declaring standards and then
requiring that people PAY to find out what they are.  This makes about as
much sense as having to find out the significance of various colored lights
on traffic signals.)</strong> -->

<p>Unifix GmbH (Braunschweig, Allemagne) a développé un système Linux qui a
été certifié conforme à la norme FIPS 151-2 (un sur-ensemble de POSIX.1).
Cette technologie était disponible dans une distribution de Unifix appelée
Unifix Linux 2.0 et dans Linux-FT de Lasermoon.

<!-- I had to comment this out for obvious reasons... SVD
 <url name="Linux-FT" url="http://www.lasermoon.co.uk/linux-ft/linux-ft.html">.
Currently Unifix merges its patches into the Linux kernel, gcc and other
tools; so it is expected that their fixes towards POSIX.1 conformance will
be available in Debian (and other distributions).
-->

<!-- TODO: explain better how to unpack .debs onto non-Debian systems -->
<sect id="otherpackages">Peut-on utiliser des paquets Debian (fichiers «&nbsp;.deb&nbsp;») sur un système
     Linux Red Hat/Slackware/...&nbsp;? Peux-t-on  utiliser des paquets Red Hat (fichiers «&nbsp;.rpm&nbsp;») 
     sur un système &debian;&nbsp;?

<p>Les différentes distributions Linux utilisent des formats de paquets et des 
programmes de gestion de paquets différents.

<taglist>
<tag><strong/Vous pouvez probablement&nbsp;:/
  <item>Un programme pour installer un paquet de Debian sur une machine Linux d'une autre distribution
  est disponible et fonctionnera généralement, dans le sens que les fichiers seront désarchivés.
  L'inverse est probablement vraie également, c.-à-d., un programme pour désarchiver un paquet Red Hat ou 
  Slackware sur une machine &debian; réussira probablement avec succès à désarchiver le paquet et à 
  placer la plupart des fichiers dans leur répertoire prévu. C'est en grande partie une conséquence de
  l'existence (et de la large adhérence) à la norme de hiérarchie du système de fichiers Linux.
  Le paquet <url name="alien" id="http://packages.debian.org/alien"> est utilisé 
  pour convertir les différents formats des paquets.

<tag><strong/Vous ne voulez probablement pas&nbsp;:/
  <item>La plupart des responsables de paquet écrivent des fichiers de contrôle utilisés 
  pour le désarchivage des paquets. Ces fichiers de contrôle ne sont généralement
  pas standardisés. Par conséquent, l'effet de désarchiver un paquet Debian sur une 
  machine d'une autre distribution aura (certainement) des effets imprévisibles sur 
  le gestionnaire de paquets du système. De même, les utilitaires d'autres distributions 
  pourraient réussir à dépaqueter leurs archives sur des systèmes Debian, mais feront 
  probablement échouer le système de gestion de paquets de Debian quand le temps viendra 
  d'améliorer ou d'enlever quelques paquets, ou même simplement pour rapporter exactement 
  quels paquets sont présents sur un système.

<tag><strong/Une meilleure méthode&nbsp;:/
  <item>La norme de système de fichiers Linux (et donc aussi de Debian GNU/Linux) exige que le sous-répertoire
  <tt>/usr/local/</tt> soit entièrement à la discrétion de l'utilisateur. Donc les utilisateurs peuvent désarchiver
  leur paquet dans ce répertoire, puis administrer leur configuration, les mettre à niveau et les déplacer individuellement.
   </taglist>

<!-- It would be useful to document all the ways in which Debian and Red Hat
systems differ.  I believe such a document would do a lot to dispell
fears of using a Unix system. SGK -->

<!-- *******************Section supprimer dans la revision 1.14
<sect id="a.out">Debian est-il capable d'exécuter mes très vieux programmes «&nbsp;a.out&nbsp;»&nbsp;?

<p>Actuellement, vous avez encore de tel programme&nbsp;? :-)


<p>Pour <em>exécuter</em> un programme dont le binaire est au format 
<tt>a.out</tt> (c.-à-d. QMAGIC ou ZMAGIC).

<list>
  <item>Assurez-vous que votre noyau a été construit avec la gestion du format <tt>a.out</tt>
  activé, directement (CONFIG_BINFMT_AOUT=y) ou en module (CONFIG_BINFMT_AOUT=m).
  (les images Debian du noyau contiennent le module <tt>binfmt_aout</tt>).

  <p>Si votre noyau gère les binaires <tt>a.out</tt> par module, vérifiez que
  le module est bien chargé. Vous pouvez le charger au démarrage en rajoutant la 
  ligne <tt>binfmt_aout</tt> dans le fichier <tt>/etc/modules</tt>. Ou depuis la 
  ligne de commande, en tapant <tt>insmod NOMREP/binfmt_aout.o</tt> où <tt>NOMREP</tt>
  est le nom du répertoire où les modules qui ont été construits pour la version du noyau
  fonctionnant maintenant sont stockés. Pour un système avec un noyau 2.2.17, <tt>NOMREP</tt> 
  doit ressembler à <tt>/lib/modules/2.2.17/fs/</tt> .
  
  <item>Installez le paquet <package/libc4/, recherchez le dans une version antérieur à la
  version 2.0 (parce que maintenant le paquer a été supprimé). Vous pouvez le rechercher 
  sur un vieux cédérom Debian (le paquet est présent sur une Debian 1.3.1), ou sur Internet 
  allez voir <url id="ftp://archive.debian.org/debian-archive/">.
  
  <item>Si le programme que vous voulez lancer est un client X au format <tt>a.out</tt>
  alors vous devez installer le paquet <package/xcompat/ (voir au-dessus pour la disponibilité).
</list>

<p>Si vous avez une application commerciale au format <tt>a.out</tt>, maintenant 
ce serait le bon moment de demander une mise à jour au format  <tt>ELF</tt>.
-->
<sect id="libc5">Debian est-elle capable d'exécuter de vieux programmes basés sur la libc5&nbsp;?

<p>Oui. Installez simplement la bibliothèque <package/libc5/ nécessaire, depuis la section
<tt>oldlibs</tt> (contenant des paquets obsolètes gardés pour compatibilité avec d'anciennes 
applications).


<sect id="libc5-compile">Debian peut-elle être utilisée pour compiler des programmes avec la libc5&nbsp;?

<p>Oui. Installez les paquets <package/libc5-altdev/ et <package/altgcc/ (depuis
la section <tt>oldlibs</tt>). Vous trouverez les compilateurs <prgn/gcc/ et <prgn/g++/
compilés avec la libc5 dans le répertoire <tt>/usr/i486-linuxlibc1/bin</tt>. Mettez 
ce chemin dans votre variable $PATH de façon à ce que make et les autres programmes 
les exécutent en premier.

<!-- *******************Supprimer dans la revision 1.15
<p>Si vous avez besoin de compiler des clients X avec la libc5, installez les paquets 
package/xlib6/ et <package/xlib6-altdev/.
-->

<p>Faite attention que l'environnement libc5 n'est plus complètement géré par nos autres 
paquets.

<sect id="non-debian-programs">Comment installer un programme n'appartenant pas à Debian&nbsp;?

<p>Les fichiers sous le répertoire <tt>/usr/local/</tt> ne sont pas sous le contrôle du
système de gestion des paquets Debian. Ainsi, c'est une bonne habitude de mettre le code 
source de vos programmes dans le répertoire <tt>/usr/local/src</tt>. Par exemple, vous pouvez 
extraire les fichiers d'une archive appelée «&nbsp;foo.tar&nbsp;» dans le répertoire 
<tt>/usr/local/src/foo</tt>. Après la compilation, déposez les binaires dans <tt>/usr/local/bin/</tt>, 
les bibliothèques dans <tt>/usr/local/lib/</tt> et les fichiers de configuration dans
<tt>/usr/local/etc/</tt>.

<p>Si vos programmes et/ou fichiers doivent vraiment être placés dans un autre répertoire, 
vous pourriez les stocker tout de même dans <tt>/usr/local/</tt>, et établir les liens
symboliques appropriés de l'endroit exigé  vers son emplacement dans <tt>/usr/local/</tt>, 
par exemple, vous pourriez faire le lien <example>ln -s /usr/local/bin/foo /usr/bin/foo</example>

<p>De toute façon, si vous récupérez un programme dont le copyright permet la redistribution, 
vous devriez considérer la possibilité d'en faire un paquet Debian et de le télécharger 
pour le système de Debian. Les directives pour devenir un responsable de paquet sont incluses 
dans le manuel de la charte Debian (voir <ref id="debiandocs">).

<!-- *******************Section supprimer dans la revision 1.15
<sect id="xlib6">Pourquoi est-ce que j'obtiens le message d'erreur «&nbsp;Can't find libX11.so.6&nbsp;» 
	quand j'essaye d'exécuter <tt>foo</tt>&nbsp;?

<p>Ce message d'erreur signifie que le programme est lié avec une version <tt>libc5</tt>
des bibliothèques X11. Dans ce cas vous avez besoin d'installer le paquet <package/xlib6/ 
depuis la section <tt>oldlibs</tt>.

<p>Vous pouvez recevoir un message semblable d'erreur se rapportant au fichier libXpm.so.4, dans ce cas
vous devez installer la version libc5 de la bibliothèque XPM, depuis le paquet <package/xpm4.7/ aussi 
disponible dans la section <tt>oldlibs</tt>.
-->

<sect id="termcap">Pourquoi ne peut-on pas compiler de programme nécessitant 
		libtermcap&nbsp;?
	
<p>Debian emploie la base de données de terminfo et la bibliothèque de ncurses pour les interfaces 
des terminaux, plutôt que la base de données et la bibliothèque de termcap. Les utilisateurs qui
compilent des programmes demandant des connaissances sur l'interface terminal devraient remplacer 
les références à <tt>libtermcap</tt> par des références à <tt>libncurses</tt>.

<p>Pour faire fonctionner les binaires qui ont déjà été liés avec la bibliothèque <tt>termcap</tt> et dont 
vous n'avez pas les sources, Debian fournit un paquet appelé <package/termcap-compat/. Ceci fournit
les deux bibliothèques <tt>libtermcap.so.2</tt> et <tt>/etc/termcap</tt>. Installez ce paquet si le 
programme refuse de s'exécuter et affiche le message d'erreur «&nbsp;can't load library 'libtermcap.so.2'&nbsp;»,
ou ce plaint au sujet du fichier <tt>/etc/termcap</tt> manquant.

<sect id="accelx">Pourquoi ne peut-on pas installer AccelX&nbsp;?
	
<p>AccelX utilise la bibliothèque <tt>termcap</tt> pour son installation. Voir
<ref id="termcap"> ci-dessus.

<sect id="motifnls">Pourquoi mes vieilles applications Motif sous XFree 2.1 plantent-elles&nbsp;?

<p>Vous avez besoin d'installer le paquet <package/motifnls/ qui fournit les fichiers de configuration
de XFree-2.1 nécessaire pour permettre aux applications compilées sous XFree-2.1 de tourner sous
XFree-3.1.


<p>Sans ces fichiers, certaine applications Motif compilées sur une autre machine
(comme Netscape) peuvent se planter lors d'un copier-coller depuis ou vers un champs texte
et il peut y avoir d'autres problèmes.
