<!doctype debiandoc system>

<book>

<title>Utiliser et configurer Debian pour le français
<author>Nicolas Sabouret - <email>nico@debian.org
<version>7 décembre 2001
<abstract>Ce document présente les spécificités liées au français pour
l'utilisation d'un système Debian GNU/Linux.
<copyright>&copy;&nbsp;2001 Document in the Public Interest. Ce document est un
document libre, sous licence GFDL.
<toc>

    <chapt>Avant-propos
      <p>
	Ce document présente les spécificités liées au français pour
	l'utilisation d'un système Debian GNU/Linux.
      <p>
	Toute suggestion pour le compléter est la bienvenue. Vous pouvez
	envoyer vos propositions à l'auteur de ce document
	<email>nico@debian.org</email>
	ou sur la liste debian-user-french&nbsp;:
	<email>debian-user-french@lists.debian.org</email>
      <p>
	Pour plus d'information sur l'utilisation de Linux en français,
	vous pouvez consulter le Francophones-HOWTO
	(<file>/usr/share/doc/HOWTO/en-txt/Francophones-HOWTO.txt.gz</file>),
	fourni dans les paquets <package>doc-linux-text</package>
	et <package>doc-linux-html</package>.
      <p>
        La dernière version de ce document se trouve à l'adresse
	<url id="http://www.limsi.fr/Individu/nico/debian/debian-french.html"
	name="http://www.limsi.fr/Individu/nico/debian/debian-french.html">.
      <p>
        Le fichier SGML source est disponible à l'adresse
	<url id="http://www.limsi.fr/Individu/nico/debian/debian-french.sgml"
	name="http://www.limsi.fr/Individu/nico/debian/debian-french.sgml">.
    </chapt>

    <chapt>Version courte
      <p>Dans ce chapitre, vous trouverez, sans aucune explication, les
        opérations à effectuer pour configurer l'essentiel de votre système
	<em>Debian GNU/Linux</em> en français. Il est destiné à tous ceux qui
	sont trop pressés pour vouloir comprendre ce qu'ils font...
      <p>L'ensemble est donné sous la forme d'une liste de commandes
        compatibles <prgn>sh</prgn>à recopier. Ces commandes sont données
	<strong>à titre	indicatif</strong>. Elles peuvent ne pas fonctionner
	dans certains cas et détruire des préférences de l'utilisateur.
	<em>L'auteur de ce document ne peut en aucun cas être tenu responsable
	des problèmes qui surviendraient suite à l'exécution de ces
	commandes.</em>
      <p>Pour pouvoir exécuter ces commandes, vous devez être dans un shell
        POSIX (<prgn>bash</prgn> par exemple&nbsp;: tapez <tt>echo $SHELL</tt>
	pour connaître votre shell). Vous devez aussi avoir installé
	<prgn>grep</prgn> et <prgn>sed</prgn> (il n'y a aucune raison pour que
	ce ne soit pas le cas).
      <p>Enfin, toutes ces commandes sont à taper en tant que <tt>root</tt>.
        Je vous recommande donc la plus grande prudence.
      <sect>Sous <em>Debian&nbsp;2.2 (Potato)</em>
        <p>En mode <strong>console</strong>, tapez&nbsp;:
	  <example>
echo "LANG=french" > /etc/environment
sed 's/fr_FR.*/fr_FR@euro\.ISO-8859-15/g' /etc/locale.alias > \
    /tmp/locale.alias
mv /tmp/locale.alias /etc/locale.alias
echo "SCREEN_FONT=lat0-16" >> /etc/console-tools/config
/etc/init.d/console-screen.sh restart
apt-get install xfonts-jmk
echo "*font:-*-*-medium-r-normal--14-*-*-*-c-*-iso8859-15" >> \
    /etc/X11/Xresources/xfree86-common
echo "Emacs*fontSet:-*-*-medium-r-normal--14-*-*-*-c-*-iso8859-15" >> \
    /etc/X11/Xresources/xfree86-common
          </example>
	  Si certains de vos utilisateurs possèdent des fichiers
	  <file>~/.xinitrc</file> et/ou <file>~/.xsession</file>, alors vous
	  devrez soit vous assurer qu'ils appellent bien
	  <example>xrdb -merge /etc/X11/Xresources/xfree86-common</example>,
	  comme le fait <file>/etc/X11/Xsession</file>, soit modifier leurs
	  <file>~/.Xresources</file>.
	<p>Dans <file>/etc/X11/XF86Config</file>, remplacez toute la section
	  «&nbsp;<tt>Keyboard</tt>&nbsp;» par&nbsp;:
	  <example>
Section "Keyboard"
  Protocol "Standard"
  XkbKeymap "xfree86(fr)"
EndSection
	  </example>
	  Ensuite, lancez <example>kbdconfig</example> et choisissez
	  <strong>i386</strong>, puis <strong>azerty</strong> puis
	  <strong>fr-latin0</strong>.
	<p>Enfin, configurez GNOME, KDE et les autres applications comme
	  indiqué dans ce document.
      </sect>
      <sect>Sous <em>Debian&nbsp;3.0 (Woody)</em>
        <p><list><item>Installation et configuration des paquets requis&nbsp;:
	  <example>
apt-get install xfonts-100dpi-transcoded euro-support
apt-get --purge remove localeconf
dpkg-reconfigure locales
          </example>
	  Cochez <strong>au moins</strong> la locale
	  <tt>fr_FR@euro ISO-8859-15</tt>. Sélectionnez ensuite
	  <tt>fr_FR@euro</tt> comme locale par défaut.
	  <example>
dpkg-reconfigure xserver-xfree86
          </example>
	  Choisissez la disposition "fr".
        <item>Configuration de la console&nbsp;: en mode
	  <strong>console</strong>, tapez&nbsp;:
	  <example>
echo "SCREEN_FONT=lat0-16" >> /etc/console-tools/config
/etc/init.d/console-screen.sh restart
dpkg-reconfigure console-data
          </example>
	  Choisissez <em>Select keymap from arch list</em> (en anglais),
	  <em>azerty</em>, <em>French</em>, <em>With Euro (latin&nbsp;15)</em>.
	<item>Configuration de la police X11&nbsp;:
	  <example>
echo "*font:-*-*-medium-r-normal--14-*-*-*-*-*-iso8859-15" >> \
    /etc/X11/Xresources/xfree86-common
echo "Emacs*fontSet:-*-*-medium-r-normal--14-*-*-*-*-*-iso8859-15" >> \
    /etc/X11/Xresources/xfree86-common
          </example>
	  Si certains de vos utilisateurs possèdent des fichiers
	  <file>~/.xinitrc</file> et/ou <file>~/.xsession</file>, alors vous
	  devrez soit vous assurer qu'ils appellent bien
	  <example>xrdb -merge /etc/X11/Xresources/xfree86-common</example>,
	  comme le fait <file>/etc/X11/Xsession</file>, soit modifier leurs
	  <file>~/.Xresources</file>.
	<item>Enfin, configurez GNOME, KDE et les autres applications comme
	  indiqué dans ce document.
	</list>
      </sect>
    </chapt>

    <chapt>Configurer les applications pour le français
      <sect>Principe général
	<p>Les applications du système <em>Debian GNU/Linux</em> utilisent
	des variables d'environnement pour connaître les préférences de
	l'utilisateur, et en particulier la langue qu'il utilise, la manière
	dont il souhaite voir afficher telle ou telle chose, etc.
	<p>Les variables qui concernent la langue de l'utilisateur (on parle
	de variables de «&nbsp;locale&nbsp;») sont les suivantes&nbsp;:
	<list>
	  <item>La variable <tt>LANG</tt> qui permet de définir les
	    préférences globales. La <em>locale</em> par défaut est
	    <tt>POSIX</tt>&nbsp;;
	  <item>Les  variables commençant par <tt>LC</tt> (<tt>LC_TIME</tt>,
	    <tt>LC_TYPE</tt>, etc.) qui permettent, pour une définition globale
	    donnée (par <tt>LANG</tt>), de définir un comportement spécifique
	    pour un sous-composant (par exemple, l'affichage de la date)&nbsp;;
	  <item>La variable <tt>LC_ALL</tt> qui permet d'écraser
	    toutes les autres définitions de <em>locales</em> <tt>LANG</tt> et
	    <tt>LC_*</tt> (elle n'est donc utilisée que de manière temporaire
	    lorsqu'une application a besoin d'une <em>locale</em>
	    spécifique)&nbsp;;
	  <item>La variable <tt>LANGUAGE</tt> permet sous Linux de définir
	    une liste de <em>locales</em>.
	    <p><strong>NB&nbsp;:</strong> <tt>LANGUAGE</tt> n'est pas utilisée
	      par tous les programmes et, lorsqu'elle l'est, chaque programme
	      l'utilise «&nbsp;à sa manière&nbsp;». En général, elle surcharge
	      toutes les autres variables (<tt>LANG</tt>, <tt>LC_*</tt> et
	      <tt>LC_ALL</tt>).
 	</list>
      </sect>
      <sect>Comment ça marche&nbsp;?
	<p>L'usage sur les systèmes Unix veut que les variables <tt>LANG</tt>
	  et <tt>LC_*</tt> soient de la forme&nbsp;:
	  <example>ll_PP[@variante][.norme]</example> dans laquelle&nbsp;:
	  <list>
	    <item><tt>ll</tt> est la langue utilisée (ex.&nbsp;:
	      <tt>fr</tt>)&nbsp;;
	    <item><tt>PP</tt> est le pays (ex.&nbsp;: <tt>FR</tt>)&nbsp;;
	    <item><tt>@variante</tt> permet de préciser qu'il s'agit d'une
	      variante (ex.&nbsp;: fr_FR@euro pour le français de France avec
	      la touche euro)&nbsp;;
	    <item><tt>.norme</tt> permet de préciser la norme utilisée
	     (ex.&nbsp;: <tt>ISO-8859-15</tt>).
	  </list>
	  La variable <tt>LANGUAGE</tt>, quant à elle, doit être de la forme
	  <tt>ll:ll:ll</tt> (liste de langues séparées par «&nbsp;:&nbsp;»).
	<p>Enfin, il est possible de définir des «&nbsp;alias&nbsp;» dans le
	  fichier <file>/etc/locale.alias</file> pour l'ensemble du système
	  et dans <file>/usr/X11R6/lib/X11/locale/locale.alias</file> pour
	  <em>X&nbsp;window</em>. Par exemple&nbsp;:
	  <tt>french fr_FR.ISO-8859-1</tt> permet d'utiliser
	  «&nbsp;french&nbsp;» au lieu de «&nbsp;fr_FR.ISO-8859-1&nbsp;».
	<p>L'exemple suivant illustre l'interaction entre <tt>LANG</tt>,
	  <tt>LC_*</tt> et <tt>LC_ALL</tt>&nbsp;:
	  <example>
$ export LC_ALL=es_ES
$ export LANG=french
$ locale
    LANG=french
    LC_CTYPE="es_ES"
    LC_NUMERIC="es_ES"
    LC_TIME="es_ES"
    LC_COLLATE="es_ES"
    LC_MONETARY="es_ES"
    LC_MESSAGES="es_ES"
    LC_ALL=es_ES
$ unset LC_ALL
$ locale
    LANG=french
    LC_CTYPE="french"
    LC_NUMERIC="french"
    LC_TIME="french"
    LC_COLLATE="french"
    LC_MONETARY="french"
    LC_MESSAGES="french"
    LC_ALL=
$ unset LANG
$ locale
    LANG=POSIX
    LC_CTYPE="POSIX"
    LC_NUMERIC="POSIX"
    LC_TIME="POSIX"
    LC_COLLATE="POSIX"
    LC_MONETARY="POSIX"
    LC_MESSAGES="POSIX"
    LC_ALL=
	  </example>
	  L'exemple suivant illustre l'utilisation de <tt>LANGUAGE</tt>&nbsp;:
	  <example>
$ export LANGUAGE=zz:de:fr:es;
$ man truc
Kein Manual-Eintrag für truc vorhanden
          </example>
	  Ceci quelle que soit la valeur des <em>locales</em>.
      </sect>

      <sect>Configurer l'ensemble du système
        <p>Il suffit de définir la variable LANG (et
	  <strong>uniquement</strong> celle-ci) dans le fichier
	  <file>/etc/environment</file>, qui est utilisé par
	  les interpréteurs de commandes pour définir les variables lors du
	  «&nbsp;login&nbsp;».
	<sect1>Sous <em>Debian 2.2 (Potato)</em>
	  <p>Vous devez effectuer cette modification à la main. Remplacez
	    <tt>LANG=C</tt> par <tt>LANG=french</tt> (par exemple) dans
	    <file>/etc/environment</file>. Un alias dans
	    <file>/etc/locale.alias</file> relie <tt>french</tt> à
	    <tt>fr_FR.ISO-8859-1</tt>.
	  <p>Cet alias correspond à la norme <em>latin-1</em> (ou ISO-8859-1)
	    qui ne supporte pas le symbole «&nbsp;euro&nbsp;». Par conséquent,
	    pour pouvoir utiliser ce symbole sous <em>Debian 2.2</em>, vous
	    devez modifier la définition de <em>french</em> pour une locale
	    qui le supporte, comme par exemple les normes ISO-8859-15,
	    ISO-10646-1 ou UTF-8.
	  <p>Dans ce document, par conformité avec le
	    <file>Francophones-HOWTO</file>, nous utiliserons la norme
	    <em>ISO-8859-15</em>.
	    <list>
	      <item>Remplacez l'alias
	        «&nbsp;<tt>french fr_FR.ISO-8859-1</tt>&nbsp;» par
	        «&nbsp;<tt>french fr_FR@euro.ISO-8859-15</tt>&nbsp;» dans
	        <file>/etc/locale.alias</file>&nbsp;;
	      <item>Remplacez l'alias
	        «&nbsp;<tt>fr fr_FR.ISO8859-1</tt>&nbsp;» par
	        «&nbsp;<tt>fr fr_FR@euro.ISO8859-15</tt>&nbsp;» dans
	        <file>/usr/lib/X11/locale/locale.alias</file>&nbsp;;
	    </list>
	  <p>Une autre solution consiste à ne pas utiliser d'alias et à
	    mettre directement <tt>LANG=fr_FR@euro.ISO-8859-15</tt> dans
	    <file>/etc/environment</file>.
	</sect1>
	<sect1>Sous <em>Debian&nbsp;3.0 (Woody)</em>
	  <p>Sous <em>Woody</em>, il faut d'abord fabriquer les
	    <em>locales</em> que vous souhaitez utiliser. Le principe est le
	    suivant&nbsp;: vous déclarez les locales dans le fichier
	    <file>/etc/locale.gen</file> et vous les construisez avec
	    <prgn>locale-gen</prgn>. Ensuite, vous pouvez positionner LANG sur
	    l'une de ces locales (ou un alias).
          <p><em>Woody</em> présente l'avantage énorme d'avoir beaucoup
	    automatisé la configuration du système, sous tous ces aspects,
	    d'une part en utilisant le plus possible <prgn>debconf</prgn>, et
	    d'autre part en proposant des paquets adequats. Vous pouvez
	    toujours effectuer les modifications nécessaires à la main, mais
	    je vous recommande de passer autant que possible par
	    <prgn>dpkg-reconfigure</prgn>.
	  <p>N'installez <strong>PAS</strong> le paquet
	    <package>localeconf</package> (la version 0.2, sous Woody, ne
	    fonctionne pas). Configurez les locales par <prgn>debconf</prgn>.
	    Pour cela, sous root, tapez&nbsp;:
	    <example>
dpkg-reconfigure locales
	    </example>
	    Cochez <strong>au moins</strong> la locale correspondant à votre
	    langue (fr) et votre pays (FR, BE, LU, <em>etc</em>.), avec ou
	    sans l'euro. Par exemple&nbsp;: <tt>fr_FR@euro ISO-8859-15</tt>
	    Sélectionnez <tt>fr_FR@euro</tt> (ou la locale de votre pays)
	    comme locale par défaut pour l'ensemble du système.
	</sect1>
	<sect1>Et la variable <tt>LANGUAGE</tt>&nbsp;?
	  <p>La variable LANGUAGE n'est <em>a priori</em> pas nécessaire si
	    LANG a été définie et si vous n'utilisez qu'une seule langue (le
	    français).
	  <p>Toutefois, vous pouvez ajouter <tt>LANGUAGE=fr</tt> dans
	    le fichier <file>/etc/environment</file>.
	</sect1>
	<sect1>Pourquoi <prgn>modconf</prgn> reste en anglais sous
	       <em>Debian 2.2</em>&nbsp;?
	  <p>Les outils intervenant lors de l'installation du système
	    <em>Debian GNU/Linux</em> utilisent un mécanisme de
	    <em>locales</em> spécifiques, puisque le paquet
	    <package>locales</package> n'est généralement pas installé
	    lorsqu'ils sont appelés.
	  <p>En particulier, ils n'utilisent pas les alias définis dans
	    <file>/etc/locale.alias</file> et par conséquent, n'associent
	    pas «&nbsp;french&nbsp;» avec «&nbsp;fr_FR&nbsp;».
	  <p>La solution proposée consiste à appeler ces outils
	    en les faisant précéder de «&nbsp;<tt>LANG=fr</tt>&nbsp;».
	    Par exemple&nbsp;: <example>LANG=fr modconf</example>
	  <p>Une autre solution est de ne pas utiliser l'alias french, mais
	    le nom complet (ex&nbsp;: <tt>fr_FR@euro</tt>).
	</sect1>
      </sect>
      <sect>Modifier la configuration pour chaque utilisateur séparément
        <p>Quelle que soit la configuration des locales pour le système,
	  chaque utilisateur peut choisir de travailler dans une langue
	  différente, à condition que la locale correspondante ait été
	  générée.
        <p>Tomohiro KUBOTA a réalisé un paquet spécifique pour permettre
	  aux utilisateurs non anglophones de définir leur propre
	  environnement. Il s'agit du paquet <package>language-env</package>,
	  installé automatiquement par <prgn>tasksel</prgn> si vous
	  sélectionnez la tâche <em>French Environment</em>.
	<p>Chaque utilisateur peut configurer son environnement pour utiliser
	  la langue de son choix. Pour cela, il suffit d'appeler&nbsp;:
	  <example>set-language-env</example>
	  Et de répondre aux questions posées. Les différents fichiers de
	  configuration sont alors modifiés pour prendre en compte les
	  nouvelles préférences.
	<p><strong>Remarque&nbsp;:</strong>
	  Ce paquet n'est disponible qu'à partir de la distribution
	  <em>Debian&nbsp;3.0 (Woody)</em> mais vous pouvez le recompiler à
	  partir des sources sous Debian <em>Potato</em>&nbsp;:
	  <example>
apt-get -b source language-env
dpkg -i language-env_*_all.deb
	  </example>
	<p><strong>Remarque&nbsp;2&nbsp;:</strong>
	  <prgn>set-language-env</prgn> n'est nécessaire que si des
	  utilisateurs veulent utiliser une locale différente de celle qui
	  est configurée pour l'ensemble du système. Dans le cas contraire,
	  le positionnement de <tt>LANG</tt> dans <file>/etc/environment</file>
	  est suffisant.
      </sect>
      <sect>Configurer son système pour le symbole «&nbsp;euro&nbsp;»
        <p>Les instructions données dans le présent document permettent
	  d'utiliser le symbole «&nbsp;euro&nbsp;» dans les applications.
        <p>De plus, Javier Fernández-Sanguino Peña a construit un paquet
	  <package>euro-support</package> qui permet de configurer
	  automatiquement votre Debian&nbsp;3.0 (Woody) pour utiliser
	  le symbole «&nbsp;euro&nbsp;»&nbsp;, ainsi qu'une documentation
	  (en anglais) disponible en ligne à l'adresse
	  <url id="http://www.debian.org/doc/manuals/debian-euro-support/"
	  name="http://www.debian.org/doc/manuals/debian-euro-support/"> qui
	  explique les opérations nécessaires pour utiliser le symbole
	  «&nbsp;euro&nbsp;» sous Debian.
      </sect>
    </chapt>

    <chapt>Configurer l'entrée et la sortie en français
      <sect>Principe général
	<p>Chaque caractère est représenté dans l'ordinateur par un code
	  (de 7, 8 ou 16&nbsp;bits selon «&nbsp;l'encodage&nbsp;» choisi). Il
	  faut donc définir&nbsp;:
	<list>
	  <item>quel code doit être associé avec telle touche ou
	    combinaison de touches tapée sur le clavier (on parle de la
	    «&nbsp;carte du clavier&nbsp;»). C'est <em>l'entrée</em>&nbsp;;
	  <item>quel caractère (quel «&nbsp;dessin&nbsp;») doit être affiché à
	    l'écran pour tel code (on parle de la «&nbsp;table des
	    caractères&nbsp;»). C'est la <em>sortie</em>.
	</list>
	<p>Par défaut, le système <em>Debian GNU/Linux</em> est configuré pour
	un clavier anglais (lors de l'installation, vous avez cependant pu
	en sélectionner un autre) et l'affichage de caractères suivant la
	carte américaine. Il faut donc reconfigurer l'entrée et la sortie (ES).
	<p>De plus, il n'existe pas de méthode de configuration de l'ES commune
	à la console et à X11<footnote>Ce choix peut sembler particulièrement
	absurde mais sa raison est simple. Sous X, il est possible de faire
	beaucoup plus de choses qu'en mode console, en particulier pour
	l'affichage des caractères&nbsp;: polices plus riches, etc. Dans ces
	conditions, pourquoi se limiter aux possibilités de polices de la
	console&nbsp;?</footnote>. Il faut donc configurer chacun séparément.
	<example>
	Entrée au clavier --> Code 8 bits --> Affichage à l'écran
	</example>
      <sect>Configurer la console
        <sect1>Ce qu'il faut faire
	  <p>Si vous avez un clavier français, il suffit&nbsp;:
	  <list>
	    <item>pour l'entrée, de remplacer la table par défaut par la
	      carte <em>latin-0</em> (norme <em>ISO-8859-15</em>)&nbsp;:
	      <list>
	        <item>sous <em>Debian&nbsp;2.2 (Potato)</em>, lancez
		  <prgn>kbdconfig</prgn> et choisissez <strong>i386</strong>,
		  puis <strong>azerty</strong> puis la carte
		  <strong>fr-latin0</strong>,
		<item>sous <em>Debian&nbsp;3.0 (Woody)</em>, lancez
		  <tt>dpkg-reconfigure console-data</tt>. Choisissez
		  <em>Select keymap from arch list</em> (en anglais),
		  <em>azerty</em>, <em>French</em>, <em>With Euro
		  (latin&nbsp;15)</em>&nbsp;;
	      </list>
	    <item>pour la sortie, d'ajouter <tt>SCREEN_FONT=lat0-16</tt>
	      dans le fichier de configuration
	      <file>/etc/console-tools/config</file> et de relancer le
	      démon&nbsp;:
	      <example>
echo "SCREEN_FONT=lat0-16" >> /etc/console-tools/config
/etc/init.d/console-screen.sh restart
	      </example>
	      <strong>NB&nbsp;:</strong> Il faut relancer le démon (deuxième
	      ligne de commande) depuis la <strong>console</strong> et non
	      depuis X11, sinon rien n'est fait. De plus, les changements ne
	      sont permanents qu'après un redémarrage du système.
	  </list>
	</sect1>
        <sect1>Pour avoir le symbole «&nbsp;Euro&nbsp;»
	  <p>Si vous utilisez une carte clavier qui ne supporte pas l'euro et
	    si vous souhaitez conserver cette carte clavier, vous pouvez y
	    ajouter simplement les composantes «&nbsp;Euro&nbsp;»&nbsp;:
	    <list><item>Sous <em>Debian&nbsp;2.2 (Potato)</em>, ajoutez
	      <tt>/bin/loadkeys euro.inc.gz</tt> dans le
	      fichier <file>/etc/init.d/keymaps-lct.sh</file> à la fin du bloc
	      «&nbsp;<tt>start | restart | force-reload | reload)</tt>&nbsp;»,
	      juste avant la ligne «&nbsp;<tt>stop)</tt>&nbsp;».
	      <p>Je recommande à ce propos la lecture de
	        <file>/usr/share/doc/console-tools-libs/contrib/LISEZMOI.Euro.gz</file>
		fournie dans le paquet <package>console-tools</package>.

	    <item>Sous <em>Debian&nbsp;3.0 (Woody)</em>, installez le paquet
	      <package>euro-support</package> qui effectue cette modification
	      automatiquement&nbsp;:
	      <example>apt-get install euro-support</example>
	    </list>
	</sect1>
        <sect1>Comment ça marche&nbsp;?
	  <sect2>Configuration de l'entrée
	    <p>L'entrée est configurée à l'aide de l'utilitaire
	      <prgn>loadkeys</prgn>. Ce programme est appelé au démarrage par
	      <prgn>/etc/init.d/keymaps-lct.sh</prgn> sous <em>Debian&nbsp;2.2
	      (Potato)</em> et <prgn>/etc/init.d/keymap.sh</prgn> sous
	      <em>Debian&nbsp;3.0 (Woody)</em>, en utilisant la carte clavier
	      par défaut&nbsp;: <file>/etc/console-tools/default.kmap.gz</file>
	      sous Potato et <file>/etc/console/boottime.kmap.gz</file> sous
	      Woody.
	    <p>Pour changer temporairement la définition du clavier, il suffit
	      de taper&nbsp;: <tt>loadkeys fr-pc</tt> (par exemple) ou le
	      chemin complet
	      (<tt>loadkeys /usr/share/keymaps/i386/azerty/fr_pc.kmap.gz</tt>).
	      Par défaut, le programme <prgn>loadkeys</prgn> recherche les
	      cartes clavier dans les répertoires
	      <file>/usr/share/keymaps/*</file> et sous la forme de fichiers
	      <file><em>carte</em>.kmap.gz</file>.
	    <p>Il faut donc faire en sorte que, lors du démarrage,
	      <prgn>loadkeys</prgn> charge la «&nbsp;bonne&nbsp;» carte. Si une
	      telle carte existe, il suffit de remplacer la carte par défaut
	      par cette carte. Si, au contraire, vous souhaitez simplement
	      ajouter quelques définitions à une carte donnée, il faut modifier
	      le programme d'initialisation.
	    <p>Dans tous les cas, vous pouvez le faire à la main (en copiant
	      la carte souhaitée depuis <file>/usr/share/keymaps</file> vers
	      <file>/etc/console-tools/default.kmap.gz</file> pour Potato et
	      <file>/etc/console/boottime.kmap.gz</file> pour Woody, puis en
	      relançant le démon), ou bien utiliser les outils de configuration
	      proposés&nbsp;: <tt>kbdconfig</tt> pour Potato et
	      <em>debconf</em> (par <tt>dpkg-reconfigure</tt>) pour Woody.
	  </sect2>
	  <sect2>Configuration de la sortie
	    <p>La police de caractères utilisée pour la sortie est configurée
	      à l'aide de l'utilitaire <prgn>consolechars</prgn>. Ce programme
	      est appelé au démarrage par
	      <prgn>/etc/init.d/console-screen.sh</prgn> en utilisant le
	      fichier de configuration <file>/etc/console-tools/config</file>,
	      qui est «&nbsp;auto-documenté&nbsp;».
            <p>Il faut donc modifier la police comme indiqué, en définissant
	      la variable <tt>SCREEN_FONT</tt> pour utiliser la table de
	      caractères souhaitée. Il n'est pas nécessaire, <em>a priori</em>,
	      de définir une carte de caractères pour les applications
	      (<tt>APP_CHARSET_MAP</tt>) ni de carte de police écran
	      (<tt>SCREEN_FONT_MAP</tt>).
	    <p>Vous devez ensuite relancer le démon pour utiliser les nouvelles
	      polices souhaitées, lequel appelle <prgn>consolechars</prgn>.
	  </sect2>
	</sect1>
      </sect>
      <sect>Configurer X11
	<sect1>Ce qu'il faut faire
	  <sect2>Sous <em>Debian&nbsp;2.2 (Potato)</em> (XFree86 v.3)
	    <p>Pour l'entrée, il faut corriger le fichier
	      <file>/etc/X11/XF86Config</file>, section «&nbsp;Keyboard&nbsp;»,
	      pour avoir&nbsp;:
	      <example>
Section "Keyboard"
  Protocol "Standard"
  XkbKeymap "xfree86(fr)"
EndSection
	      </example>
	      ou bien&nbsp;:
	      <example>
Section "Keyboard"
  XkbRules    "xfree86"
  XkbModel    "pc105"
  XkbLayout   "fr"
  XkbVariant  ""
  XkbOptions  ""
EndSection
	      </example>
	      selon ce qui figure dans votre XF86Config (cela dépend de l'outil
	      que vous avez utilisé pour le générer, mais les deux solutions
	      sont strictement identiques. La première ne marche que sous
	      Debian, la seconde est vraie aussi pour les autres systèmes).
	    <p>Pour la sortie, il faut ajouter
	      <tt>*font:-*-*-medium-r-normal--14-*-*-*-c-*-iso8859-15</tt>
	      dans le fichier <file>/etc/X11/Xresources/xfree86-common</file>
	    <p>Si certains de vos utilisateurs possèdent des fichiers
	      <file>~/.xinitrc</file> ou <file>~/.xsession</file> et
	      court-circuitent ainsi le programme
	      <file>/etc/X11/Xsession</file>, alors vous devrez vous assurer
	      qu'ils appellent bien
	      <prgn>xrdb -merge /etc/X11/Xresources/xfree86-common</prgn>.
	      Dans le cas contraire, vous pouvez soit leur suggérer de
	      modifier leur <file>~/.xinitrc</file> et leur
	      <file>~/.xsession</file>, soit ajouter la ligne
	      <tt>*font:-*-*-medium-r-normal--14-*-*-*-c-*-iso8859-15</tt> dans
	      leur <file>~/.Xresources</file>. Je recommande pour ma part la
	      deuxième solution, qui est mise en oeuvre automatiquement
	      par le programme <prgn>set-language-env</prgn>
	    <p>Pour avoir une jolie police à l'écran, je vous recommande
	      d'installer le paquet <package>xfonts-jmk</package>&nbsp;:
	      <example>apt-get install xfonts-jmk</example>
	      Vous aurez alors des menus <prgn>XEmacs</prgn> assez laid, ce qui
	      peut être corrigé en suivant les instructions de la section
	      <ref id="xemacs">.
	  </sect2>
	  <sect2>Sous <em>Debian&nbsp;3.0 (Woody)</em> (XFree86 v.3 ou v.4)
	    <p>Pour l'entrée, si vous n'utilisez pas <prgn>debconf</prgn>,
	      il faut corriger à la main le fichier
	      <file>/etc/X11/XF86Config-4</file> (attention au <tt>-4</tt>),
	      section <tt>InputDevice</tt> contenant <tt>Driver
	      "keyboard"</tt> et remplacer <tt>"us"</tt> par <tt>"fr"</tt>
	      pour l'option <tt>XkbLayout</tt>.
	    <p>Si vous utilisez <prgn>debconf</prgn>, lancez&nbsp;:
	      <list><item><tt>dpkg-reconfigure xserver-xfree86</tt> si vous
	        êtes en XFree86 v4&nbsp;
	      <item><tt>dpkg-reconfigure xserver-common-v3</tt> si vous
	        êtes en XFree86 v3&nbsp;
	      </list>
	      Et choisissez la disposition du clavier «&nbsp;<tt>fr</tt>&nbsp;»
	      (au lieu de «&nbsp;<tt>us</tt>&nbsp;»).
	    <p>Pour la sortie, comme sous <em>Debian&nbsp;2.2</em>, il faut
	      installer une police iso8859-15 et définir la police par défaut
	      dans le fichier <file>/etc/X11/Xresources/xfree86-common</file>
	      ou dans <file>~/.Xresources</file> pour chaque utilisateur.
	    <p>Pour rester le plus proche possible de l'installation par
	      défaut, je vous recommande d'installer le paquet
	      <package>xfonts-100dpi-transcoded</package> et d'ajouter
	      <tt>*font:-*-*-medium-r-normal--14-*-100-100-*-*-iso8859-15</tt>
	      dans le fichier de configuration des ressources X11.
	    <p>Les autres paquets <package>xfonts-*-transcoded</package> ainsi
	      que le paquet <package>xfonts-jmk</package> font aussi l'affaire,
	      à condition de mettre simplement&nbsp;:
	      <tt>*font:-*-*-medium-r-normal--14-*-*-*-*-*-iso8859-15</tt>
	      dans le fichier de configuration des ressources X11 et, dans le
	      cas de <package>xfonts-jmk</package>, de corriger les menus
	      <prgn>XEmacs</prgn> (voir section <ref id="xemacs">).
	  </sect2>
	</sect1>
        <sect1>Comment ça marche&nbsp;?
	  <sect2>Configuration de l'entrée
	    <p>L'entrée clavier est configurée dans la section
	      <tt>Keyboard</tt> du fichier <file>/etc/X11/XF86Config</file>.
	      Sous <em>XFree&nbsp;4</em>, le clavier est décrit, comme les
	      autres périphériques d'entrée, dans une section
	      <tt>InputDevice</tt> avec un pilote (<em>driver</em>)
	      <em>Keyboard</em>.
	    <p>L'option <tt>XkbRules</tt> permet de spécifier le comportement
	      du clavier et l'option <tt>XkbLayout</tt> la carte clavier à
	      utiliser.
	    <p>L'option <tt>XkbKeymap</tt> permet de regrouper
	      <tt>XkbRules</tt> et <tt>XkbLayout</tt> dans une même règle.
	    <p><strong>Remarque&nbsp;:</strong> Le symbole «&nbsp;euro&nbsp;»
	      n'est pas accessible sous <prgn>Eterm</prgn>.
	  </sect2>
	  <sect2>Configuration de la sortie
	    <p>La configuration de la sortie se fait, comme sous la console,
	      en donnant une police de caractères qui&nbsp;:
	      <list>
	        <item>est conforme à l'entrée choisie&nbsp;;
		<item>affiche les caractères souhaités.
	      </list>
	    <p>Sous <em>Debian&nbsp;2.2 (Potato)</em>, les polices conformes à
	      la table <em>latin-0</em> sont&nbsp;:
	      <list>
	        <item><tt>euro7x13</tt>, fournie dans les paquets,
		  <package>xfonts-base</package>,
		  <package>xfonts-100dpi</package> et
		  <package>xfonts-75dpi</package>. Elle est définie pour une
		  taille de «&nbsp;13&nbsp;points&nbsp;» et devient assez
		  laide lorsqu'elle est utilisée avec une taille
		  différente&nbsp;;
		<item>les polices <tt>jmk</tt>, fournies dans le paquet
		  <package>xfonts-jmk</package>. Elles se redimensionnent
		  mal elles aussi mais elles existent en plusieurs tailles.
	      </list>
	      Ces polices ne sont pas «&nbsp;ajustables&nbsp;»
	      (<em>scalable</em>).
	    <p>Sous <em>Debian&nbsp;3.0 (Woody)</em>, les polices
	      <em>latin-0</em> sont&nbsp;:
	      <list>
	        <item><tt>euro7x13</tt>, fournie dans les paquets
		  <package>xfonts-*-transcoded</package>. Contrairement
		  à sa version <em>Potato</em>, elle est ajustable en
		  100&nbsp;ppp ce qui la rend utilisable plus facilement&nbsp;;
		<item>les polices <tt>jmk</tt>, fournies toujours dans le
		  paquet <package>xfonts-jmk</package> et qui présentent
		  toujours l'avantage d'afficher <strong>aussi</strong>
		  d'autres caractères de la table «&nbsp;unicode&nbsp;»
		  (par exemple, les signes japonnais...).
	      </list>
	    <p>La ligne <tt>*font:&nbsp;...</tt> permet de définir la police
	      pour les applications utilisant <package>xlib</package> (les
	      «&nbsp;<em>widgets</em>&nbsp;»). C'est le programme
	      <prgn>xrdb</prgn> qui permet de définir vos ressources X11,
	      et en particulier la police <tt>*font</tt>. Il est appelé
	      sur les fichiers de configuration générale
	      (<file>/etc/X11/Xresources/*</file>) par
	      <prgn>/etc/X11/Xsession</prgn> ainsi que sur votre fichier de
	      configuration de ressources X11 personnel&nbsp;:
	      <file>~/.Xresources</file>
	    <p>Pour les autres applications, un réglage «&nbsp;manuel&nbsp;»
	      est généralement nécessaire.
	  </sect2>
	  <sect2>Autres possibilités
	    <p>Il existe d'autres solutions pour configurer l'entrée et
	      la sortie sous <em>Debian</em>&nbsp;:
	      <list>
		<item>Utiliser les polices «&nbsp;unifont&nbsp;» (ISO-10646)
		  dont l'objectif est de contenir tous les caractères existants
		  dans le monde&nbsp;;&nbsp;
	        <item>Utiliser les polices «&nbsp;UTF-8&nbsp;» dont l'ambition
		  est similaire&nbsp;;
	        <item><strong>Sous <em>Debian&nbsp;3.0 (Woody)</em>
		  uniquement</strong>, utiliser les polices
		  «&nbsp;True&nbsp;Type&nbsp;» (TT) et le système de gestion
		  de polices <prgn>defoma</prgn>.
	      </list>
	      Ces solutions, moins simples à mettre en oeuvre, sont encore
	      à l'étude et seront présentées dans une prochaine version
	      de ce document.
	  </sect2>
        </sect1>
        <sect1>Pour avoir le symbole «&nbsp;euro&nbsp;» sur <tt>AltGr+e</tt>
	  <p>Par défaut, le symbole «&nbsp;euro&nbsp;» est accessible par
	    <tt>AltGr + $</tt>. L'habitude veut qu'on utilise plutôt la touche
	    <tt>AltGr + e</tt>, ce qui nécessite quelques changements.
          <p>Sous <em>Debian&nbsp;3.0 (Woody)</em>, il suffit d'installer
	    le paquet <package>euro-support</package> pour avoir le  symbole
	    «&nbsp;euro&nbsp;» sous X par <tt>AltGr + e</tt>.
	  <p>En revanche, sous <em>Debian&nbsp;2.2 (Potato)</em>, vous devrez
	    effectuer les modifications à la main. Une solution simple (c'est
	    celle que je recommande parce que <prgn>xmodmap</prgn> est
	    obsolète depuis XFree86 3.2) consiste, en tant que root, à ajouter
	    dans <file>/usr/X11R6/lib/X11/xkb/symbols/fr</file>, dans la
	    section <tt>xkb_symbols "basic"</tt>, avant
	    <tt>key &lt;AE01&gt;</tt>, les lignes suivantes&nbsp;:
	    <example>
    key &lt;AD03&gt; {        [               e,               E      ],
                        [        currency,            cent      ]       };
	    </example>
	  <p>Une autre solution consiste à utiliser <prgn>xmodmap</prgn>&nbsp;:
	    en tant que root, ajoutez la ligne suivante à la fin du fichier
	    <file>/etc/X11/Xmodmap</file>&nbsp;:
	    <example>keycode 26 = e  E currency cent</example>
	</sect1>
      </sect>
    </chapt>

    <chapt>Caractères accentués et autres touches <em>ad hoc</em>
      <sect>En mode «&nbsp;console&nbsp;»
        <sect1>Remarque
	  <p>Les combinaisons de touches données ici sont celles de la table
	    <tt>latin0</tt> (ISO-8859-15). En effet, sur les systèmes
	    <em>Debian</em>, c'est la seule qui permette (sous la console) de
	    taper le symbole Euro, des majuscules accentuées et des
	    «&nbsp;e dans l'o&nbsp;».
	  <p>La touche <em>Compose</em> pour cette table est la touche
	    «&nbsp;Imprime Écran&nbsp;» (PrintScreen).
	</sect1>
        <sect1>Voyelles accentuées
	  <p>Il faut utiliser <strong>en touche morte</strong>&nbsp;:
	  <list>
	    <item>AltGr + 1 pour l'accent aigu&nbsp;;
	    <item>AltGr + 7 pour l'accent grave&nbsp;;
	    <item>[touche ^] pour l'accent circonflexe&nbsp;;
	    <item>Shift + [touche ^] pour le tréma.
	  </list>
	  <p>Par exemple&nbsp;: AltGr + 1 puis E -> É
	</sect1>
	<sect1>Autres caractères
	  <p>Voici une liste non exhaustive des combinaisons de touches
	  permettant d'obtenir un caractère donné de la table
	  <em>latin-0</em>&nbsp;:
	  <example>
ç = AltGr + 9 ou AltGr + r
Ç = AltGr + Shift + 9 ou AltGr + Shift + r
oe = [touche ²]
OE = shift + [touche ²]
ae = AltGr + a ou AltGr + g
AE = AltGr + Shift + g
ß (esset allemand) = AltGr + b
euro = AltGr + e ou Compose puis - puis e
cent = AltGr + $ ou Compose puis - puis c
¥ = AltGr + Shift + [touche *] ou compose puis - puis y
« = AltGr + [touche ²] ou AltGr + w
» = AltGr + Shift + [touche ²] ou AltGr + x
¹ = AltGr + m
² = AltGr + [touche ù]
³ = AltGr + [touche *]
copyright = AltGr + c
registered = AltGr + v
? à l'envers = AltGr + ?
! à l'envers = AltGr + !
¬ (non logique) = AltGr + Shift + n
x = AltGr + [touche ;]
divisé = AltGr + [touche :]
Ø (ensemble vide) = AltGr + Shift + s
	  </example>
	  <p>De plus, vous pouvez utiliser la touche windows pour passer d'une
	  console à l'autre (<em>tty1</em>, puis <em>tty2</em>, puis
	  <em>tty3</em>, etc.) ou utiliser ALT+flèche&nbsp;!
	</sect1>        
      </sect>

      <sect>Dans les applications X11
        <sect1>Remarque
	  <p>Les combinaisons de touches données ici sont celles de la table
	    ISO-8859-1 correspondant à l'option <tt>fr</tt> dans la section
	    <em>Keyboard</em> de <file>XF86Config</file>. Elles sont donc
	    différentes de celles données pour la console.
	  <p>Il n'existe pas à ma connaissance, sous Debian, de table
	    latin-0 pour X11. Je suis preneur de toute information.
	</sect1>
        <sect1 id="partout">Dans toutes les applications sauf <prgn>Xfig</prgn>
          <p>(voir <ref id="xfig">)
	  <p>Pour les accents, il faut utiliser en touche morte&nbsp;:
	  <list>
	    <item>AltGr + , pour l'accent aigu (voyelles) ou la cédille
	      (c)&nbsp;;
	    <item>AltGr + * pour l'accent grave&nbsp;;
	    <item>[touche ^] ou AltGr + ù pour l'accent circonflexe&nbsp;;
	    <item>(Shift ou AltGr) + [touche ^] pour le tréma.
	  </list>
	  <p>Par exemple&nbsp;: AltGr + , puis E -> É
	  <p>Voici une liste non exhaustive des combinaisons de touches
	  permettant d'obtenir un caractère donné de la table
	  <em>latin-1</em>&nbsp;:
	  <example>
æ = AltGr + a
Æ  = AltGr + Shift + a
¹ = AltGr + 1
² = [touche ²]
³ = AltGr + l
ß = AltGr + s
¬ = AltGr + [touche ²]
¥ = AltGr + Shift + y
¢ = AltGr + c
£ = Shift + [touche $]
« = AltGr + z
» = AltGr + x
	  </example>
	  Et si vous avez installé le paquet <package>euro-support</package>,
	  vous avez&nbsp;:
	  <example>
euro = AltGr + e
cent = AltGr + c ou AltGr + Shift + e
	  </example>
	  Sinon, le symbole «&nbsp;euro&nbsp;» est sur la touche
	  <tt>AltGr + $</tt>.
        </sect1>
        <sect1>Dans les applications X11 utilisant la carte standard des
	  touches
	  <p><strong>Exemples&nbsp;:</strong> <prgn>xterm</prgn>,
	    <prgn>xedit</prgn>, <prgn>xfig</prgn>, <prgn>netscape</prgn>,
	    <prgn>gnumeric</prgn> (et <prgn>gtk</prgn> en général),
	    <prgn>ted</prgn>, <prgn>soffice</prgn>
	  <p><strong>Contre exemples&nbsp;:</strong> <prgn>emacs</prgn>, le
	    <prgn>gimp</prgn>, <prgn>lyx</prgn>
	  <p>Dans ces applications, vous pouvez obtenir des majuscules
	    accentuées de manière simple&nbsp;: il suffit de passer en
	    majuscule (Caps Lock), puis de taper la touche correspondant en
	    minuscule.
	  <p>Par exemple&nbsp;: <tt>CAPS-LOCK puis ç --> Ç</tt>
	  <p>Pour l'accent circonflexe et le tréma il faut toujours utiliser
	    les touches mortes <tt>[touche ^]</tt> et <tt>[touche tréma]</tt>
	    (voir <ref id="partout">).
	  <p><strong>NB&nbsp;:</strong> Les touches mortes ne marchent pas sous
	    <prgn>Xfig</prgn>, même pour les minuscules.
	</sect1>
        <sect1 id="xfig">Sous <prgn>Xfig</prgn>
	  <p>Les touches mortes se comportent comme des touches vivantes et
	    le caractère est affiché (ex.&nbsp;: ^ pour [touche ^])
	  <p>Il faut utiliser&nbsp;:
            <enumlist>
              <item>La touche <em>Compose</em> (ou <em>Meta</em> si
	        <em>Compose</em> n'est pas définie, ou <em>LeftAlt</em> si
	        <em>LeftAlt = Meta</em>) <strong>sans la garder
	        appuyée</strong>,
	      <item>puis la lettre à accentuer,
	      <item>puis l'accent.
	    </enumlist>
	    Par exemple&nbsp;: <tt>Meta puis e puis [touche ^] -->  ê</tt>
	  <p><strong>Source&nbsp;:</strong> Manuel <em>Xfig</em>, section
	    «&nbsp;Latin-1 Characters&nbsp;».
        </sect1>
	<sect1>La touche «&nbsp;meta&nbsp;»
	  <p>La position de la touche «&nbsp;meta&nbsp;» varie selon le type
	    de clavier que vous avez choisi lors de la configuration de votre
	    serveur X&nbsp;:
	    <list><item>Pour un clavier 101 ou 102 touches, la touche
	        «&nbsp;meta&nbsp;» est la touche Alt à gauche de la barre
		d'espace.
	      <item>Pour un clavier 104 ou 105 touches, la touche
	        «&nbsp;meta&nbsp;» est la touche «&nbsp;Windows&nbsp;»
		à gauche de la barre d'espace.
	    </list>
	  <p><strong>Astuce&nbsp;:</strong> sur un clavier 105 touches,
	    sous <prgn>emacs</prgn>, la touche «&nbsp;menu&nbsp;» est
	    l'équivalent de <tt>M-X</tt> (c'est-à-dire meta + X, pour passer
	    en mode commande).
	</sect1>        
      </sect>
    </chapt>

    <chapt>Configurer <em>GNOME</em> pour le français
      <p>Les applications du bureau <em>GNOME</em> utilisent la variable LANG
	comme les autres applications du système. Mais le gestionnaire
	de connexions <prgn>gdm</prgn> redéfinit la valeur de cette variable
	en fonction de son «&nbsp;sélecteur de langue&nbsp;».
      <p>Sous <strong>Debian&nbsp;2.2 (Potato)</strong>, le programme
        <prgn>gdm</prgn> est en anglais par défaut. Vous devez donc le
	reconfigurer en éditant le fichier <file>/etc/X11/gdm/gdm.conf</file>
	et en effectuant les modifications suivantes dans la section
	<tt>[greeter]</tt>&nbsp;:
        <example>
DefaultLocale=english	--> DefaultLocale=french
Welcome=Welcome to %n	--> Welcome=Bienvenue sur %n
        </example>
      <p>Sous <strong>Debian&nbsp;3.0 (Woody)</strong>, cela n'est plus
        nécessaire&nbsp;: la variable <tt>LANG</tt> définie dans
	<file>/etc/environment</file> est utilisée correctement.
      <p><strong>NB&nbsp;:</strong> le rétroportage de <package>gdm</package>
        de <em>Woody</em> vers <em>Potato</em> comporte un bogue empêchant la
	localisation.
    </chapt>

    <chapt>Configurer <em>KDE</em> pour le français
      <p><strong>Avertissement&nbsp;:</strong> Les solutions proposées ici sont
        valables pour <em>KDE 2.1.2</em> sur <em>Debian GNU/Linux 2.2
        (Potato)</em>.
      <p>
        Cette section a été réalisée en collaboration avec Michel Grentzinger
	<email>mic.grentz@online.fr</email>. N'hésitez pas à le contacter
	pour signaler un manque ou une erreur.
      <sect>Configurer l'ensemble du système KDE
        <p>KDE ne prend pas en compte correctement la variable <tt>LANG</tt>.
	  Il utilise son propre système de configuration pour les
	  «&nbsp;locales&nbsp;», qui est géré par les paquets
	  <package>kde-i18n-*</package>.
	<p>Vous devez donc installer le paquet <package>kde-i18n-fr</package>
	  pour avoir KDE en français&nbsp;:
	  <example>apt-get install kde-i18n-fr</example>
	<p>Tous les outils de KDE sont maintenant configurés automatiquement
	  pour le français. Cependant, il est possible de «&nbsp;perdre&nbsp;»
	  ces préférences lors de modification de la configuration à l'aide de
	  l'utilitaire graphique de KDE. De plus, le gestionnaire de connexion
	  <prgn>kdm</prgn> reste en anglais, même si vous avez fait la
	  modification nécessaire en tant que root.
	<p><strong>NB&nbsp;:</strong> Les applications non KDE, même lancées
	depuis le bureau, utilisent toujours la variable <tt>LANG</tt> et les
	tables d'entrée-sortie standards.
      </sect>
      <sect>Configuration pour chaque utilisateur
        <p>Pour que tout votre bureau KDE soit en français, il suffit de lancer
	  l'outil <em>Configuration de KDE</em>. Dans le sous-menu <em>Pays et
	  langue</em> du menu <em>Personnalisation</em>, choisissez l'onglet
	  <em>Localisation</em> qui contient trois champs&nbsp;:
	  <list>
	    <item><strong>Pays&nbsp;:</strong> choisissez votre pays. Le plus
	      difficile, c'est de savoir dans quel partie du monde se situe
	      votre pays&nbsp;;-)&nbsp;;
	    <item><strong>Langue&nbsp;:</strong> choisissez <em>Français
	      (fr)</em>&nbsp;;
	    <item><strong>Jeu de caractères</strong>&nbsp;: choisissez
	      <em>iso8859-1</em> ou, si vous voulez avoir l'euro,
	      <em>iso8859-15</em>.
	  </list>
	<p>Vous pouvez remarquer que les applications <tt>root</tt> lancées à
	  partir du bureau KDE d'un utilisateur normal (comme
	  <prgn>kdesu</prgn>, par exemple) ne sont pas en français. Vous pouvez
	  alors choisir de&nbsp;:
	  <enumlist>
	    <item>Conserver ces applications en anglais pour vous rappeler que
	      vous possédez momentanément les droits de root...
	      (menus en anglais = prudence&nbsp;!)&nbsp;;
	    <item>Configurer aussi l'environnement de root pour le français.
	      Il suffit alors de lancer KDE en tant que root et d'effectuer les
	      manipulations précédentes. kdm sera alors automatiquement en
	      français, à condition que vous ayez aussi effectué les
	      modifications nécessaires dans la section <em>Gestionnaire de
	      connexion</em>.
	  </enumlist>
      </sect>
      <sect>Comment ça marche&nbsp;?
        <p>L'outil graphique de configuration de KDE modifie le fichier
	  <file>~/.kde/share/config/kdeglobals</file>. Ce fichier comprend une
	  section <tt>[locale]</tt> pour définir le pays, la langue et le jeu
	  de caractère à utiliser.
	<p>Un environnement KDE bien configuré pour le français doit donc
	  correspondre à un fichier <file>kdeglobals</file> contenant&nbsp;:
	  <example>
[Locale]
Charset=iso8859-15
Country=fr
Language=fr
	  </example>
	  Ce qui correspond à la définition <em>fr_FR[@euro].ISO-8859-15</em>
	  de <file>locale.alias</file> pour les autres applications.
	<p>Le fichier <file>kdeglobals</file> de votre répertoire local
	  «&nbsp;surcharge&nbsp;» celui défini pour tout le système dans
	  <file>/etc/kde2</file>. Il est donc théoriquement possible, pour que
	  tous les utilisateurs aient KDE en français, de remplir la section
	  <tt>locale</tt> de <file>/etc/kde2/kdeglobals</file>. Malheureusement,
	  certaines parties de l'interface n'utilisent pas correctement le
	  fichier de configuration globale et resteront en anglais si vous ne
	  configurez pas KDE pour chaque utilisateur.
	<p>Cette limite peut être contournée en définissant <tt>LANGUAGE=fr</tt>
	  dans <file>/etc/environment</file>.
      </sect>
    </chapt>

    <chapt>Applications spécifiques
      <sect>Pour les utilisateurs de <prgn>xdm</prgn> et <prgn>wdm</prgn>
        <p>Les gestionnaires de connexion graphique <prgn>xdm</prgn> et
	  <prgn>wdm</prgn> (sous <em>Debian&nbsp;2.2 (Potato)</em>) n'utilisent
	  pas le fichier <file>/etc/environment</file>. Il est donc nécessaire
	  d'ajouter <tt>LANG=french</tt> dans le processus de connexion.
	<p>Le plus simple est de mettre&nbsp;:<example>LANG=french</example>
	  <strong>au début</strong> de votre fichier <file>~/.xsession</file>.
	  Le paquet <package>language-env</package> fait cela automatiquement
	  lors de l'appel de <prgn>set-language-env</prgn>.
	<p>Les autres démons de connexion graphique (<prgn>gdm</prgn>,
	  <prgn>kdm</prgn>, etc.) définissent correctement la locale.
      </sect>
      <sect>Configurer les applications GNOME (<prgn>gterm</prgn>,
            <prgn>gedit</prgn>...)
        <p>Pour pouvoir utiliser correctement les caractères français et
	  le symbole «&nbsp;euro&nbsp;» dans les terminaux GNOME, il suffit
	  de changer la police du terminal.
	<p>Dans le menu «&nbsp;Settings - Préférences&nbsp;», cliquer sur
	  «&nbsp;Parcourir&nbsp;» à côté de la police dans l'onglet
	  «&nbsp;Général&nbsp;» et choisir une police <tt>fixed (misc)</tt>
	  avec le style <tt>medium [C]</tt> de la catégorie <tt>iso8859-15</tt>
	  (les catégories sont données  par les lignes grisées dans la colonne
	  «&nbsp;style de police&nbsp;»).
      </sect>
      <sect id="xemacs">Le menu de <prgn>XEmacs</prgn>
        <p>Le menu de <prgn>XEmacs</prgn> est implémenté par un
	  «&nbsp;<em>widget</em>&nbsp;» et ne fais pas partie à proprement
	  parler de <prgn>XEmacs</prgn>. Par conséquent, il n'utilise pas
	  le mécanisme classique pour définir la police dans les menus.
	<p>Si vous avez installé le paquet <package>xfonts-jmk</package>, les
	  menus dans <prgn>XEmacs</prgn> prennent alors une forme étrange,
	  sans tenir compte de la ligne <tt>*font</tt> de vos fichiers de
	  définitions de ressources X11. Vous devrez alors ajouter la ligne
	  suivante (dans <file>~/.Xresources</file> ou dans
	  <file>/etc/X11/Xresources/xfree86-common</file> si vous configurez
	  l'ensemble du système)&nbsp;:
	  <example>
*font:-*-*-medium-r-normal--14-*-*-*-*-*-iso8859-15
          </example>
      </sect>
      <sect>Installer un dictionnaire français pour <prgn>Netscape</prgn>
        <p>
	  Il suffit de se procurer une version de Netscape en français,
	  peu importe la plate-forme d'origine, et de copier le fichier
	  contenant ce dictionnaire dans le sous-répertoire <file>spell</file>
	  (à créer éventuellement) du répertoire de Netscape.
        <p>Par exemple, sous <em>Debian&nbsp;2.2r3</em>&nbsp;:
	  <file>/usr/lib/netscape/477/communicator/spell/</file>
        <p>
	  Ce fichier doit normalement s'appeler <file>pfr2s331.dat</file>.
        <p>
	  Vous pouvez également ajouter ce dictionnaire dans
	  <file>~/.netscape/spell</file>
	  si vous n'avez pas les permissions en écriture sur
	  <file>/usr/lib/netscape</file>.
	<p>
	  <strong>Source&nbsp;:</strong> <file>http://www.linux-france.org/prj/i18n/netscape/netscape_fr.html</file>
      </sect>
      <sect>Le symbole «&nbsp;euro&nbsp;» sous <prgn>StarOffice</prgn>
        <p>Il est accessible par «&nbsp;Insertion - Caractères spéciaux&nbsp;»,
	  dans la police <tt>StarBats</tt>&nbsp;: c'est le caractère tout seul
	  en bas à droite (le n°&nbsp;255).
	<p>Comme il correspond au «&nbsp;y tréma&nbsp;» dans les autres
	  polices, il est aussi accessible par <tt>Shift+[touche ^] puis y</tt>
	  en police <tt>StarBats</tt>&nbsp;!
	<p>Enfin, si vous avez installé les polices <em>TrueTypes</em>
	  iso8859-15 (sous <em>Debian Woody</em>), vous pouvez l'avoir de
	  manière plus classique, par la combinaison AltGr+$.
      </sect>
      <sect>Le symbole «&nbsp;euro&nbsp;» sous <prgn>Eterm</prgn>
        <p>Pour les versions supérieures à&nbsp;0.9.1
	  d'<package>Eterm</package> (donc sous <em>Debian Woody</em>
	  uniquement), vous pouvez modifier le fichier de configuration
	  d'<prgn>Eterm</prgn> pour obtenir le symbole «&nbsp;euro&nbsp;».
	<p>Il faut mettre dans <file>~/.Eterm/user.cfg</file>&nbsp;:
	  <example>
begin attributes
  scrollbar_type motif
  scrollbar_width 10
  font default 2
  font proportional 0
  font 0 -b&amp;h-lucidatypewriter-medium-r-normal-*-*-80-*-*-m-*-iso8859-15
  font 1 -b&amp;h-lucidatypewriter-medium-r-normal-*-*-100-*-*-m-*-iso8859-15
  font 2 -b&amp;h-lucidatypewriter-medium-r-normal-*-*-120-*-*-m-*-iso8859-15
  font 3 -b&amp;h-lucidatypewriter-medium-r-normal-*-*-140-*-*-m-*-iso8859-15
  font 4 -b&amp;h-lucidatypewriter-medium-r-normal-*-*-180-*-*-m-*-iso8859-15
end attributes
          </example>
      <sect>Le symbole «&nbsp;euro&nbsp;» sous LaTeX
        <p>Plusieurs solutions sont possibles pour utiliser le symbole
	  «&nbsp;euro&nbsp;» dans les documents LaTeX. La plus simple
	  consiste à utiliser le paquet LaTeX
	  <package>marvosym</package> qui est fourni dans la distribution
	  standard (paquet Debian <package>tetex-base</package>)&nbsp;:
	  <example>\usepackage{marvosym}</example>
	<p>Le symbole «&nbsp;euro&nbsp;» conforme aux recommandations de la
	  commission européenne est alors accessible, en mode texte, par
	  la macro&nbsp;:<example>\EUR</example>
	<p><strong>Sous Debian&nbsp;3.0 (Woody) uniquement</strong>, vous
	  pouvez aussi utiliser le paquet <package>tetex-eurosym</package>. Il
	  est alors possible de choisir son symbole «&nbsp;euro&nbsp;» à
	  l'aide des options du paquet LaTeX <package>eurosym</package>&nbsp;:
	  <example>\usepackage[option]{eurosym}</example>
	  Le symbole «&nbsp;euro&nbsp;» est alors accessible par la
	  macro&nbsp;:<example>\euro</example>
      </sect>
    </chapt>

    <chapt>La liste debian-user-french
      <p>
	Pour poser des questions et obtenir des réponses en français concernant
	les problèmes que vous pouvez rencontrer lors de l'utilisation d'un
	système <em>Debian GNU/Linux</em>, vous pouvez contacter la communauté
	francophone Debian par leur liste de diffusion&nbsp;:
      <p>
	<email>debian-user-french@lists.debian.org</email>
    </chapt>

    <chapt>Remerciements
      <p>Merci aux relecteurs de ce document pour leur aide précieuse et
	en particulier à J.&nbsp;Marant pour la mise en forme finale et à
	N.&nbsp;Bertolissio pour toutes ses relectures.
      <p>Merci à Michel Grentzinger pour la partie traitant de KDE.
      <p>Merci à Tomohiro KUBOTA pour son travail sur le paquet
        <package>language-env</package>
      <p>Merci à Javier Fernández-Sanguino Peña pour sa documentation
        très complète qui a servi de guide pour les sections traitant de
	l'utilisation de symbole «&nbsp;euro&nbsp;» dans les applications.
      <p>Merci à Guylhem Aznar pour sa carte clavier latin-0 et sa
        précieuse documentation.
      <p>Merci enfin aux intervenants sur les listes «&nbsp;-french&nbsp;»
        qui m'ont aidé à trouver les différentes solutions présentées dans ce
	document.
    </chapt>

</book>
