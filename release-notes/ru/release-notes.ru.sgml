<!DOCTYPE debiandoc PUBLIC "-//DebianDoc//DTD DebianDoc//EN" [
  <!entity % dynamicdata  SYSTEM "../dynamic.ent"       > %dynamicdata;
  <!entity % shareddata   SYSTEM "../release-notes.ent" > %shareddata;
  <!entity docid "$Id: release-notes.ru.sgml,v 1.3 2005-06-02 21:07:59 fjp Exp $">
]>

<!-- Be careful with automatic reformatting. Please note that the indentation
     in examples is used in the output (plus additional space) as well. -->

<!-- Updated to version 1.54 of the English original -->

<debiandoc>
<!--
    Project-Id-Version: release-notes.ru
    POT-Creation-Date: 
    PO-Revision-Date: 2005-06-01 20:47+0400
    Last-Translator: Yuri Kozlov <yuray@id.ru>
    Language-Team: Russian <debian-l10n-russian@lists.debian.org>
    MIME-Version: 1.0
    Content-Type: text/plain; charset=UTF-8
    Content-Transfer-Encoding: 8bit
    POT-Revision-Date: 2004-12-14 21:55+0100
    X-Poedit-Language: Russian
    X-Poedit-Country: RUSSIAN FEDERATION
    X-Poedit-SourceCharset: utf-8
    X-Generator: KBabel 1.9.1
-->
  <book>
  <titlepag>
    <title>Информация о выпуске &debian; &release; (`&releasename') для архитектуры &arch-title;</title>
      <author><name>Josip Rodin, Bob Hilliard, Adam Di Carlo, Anne Bezemer, Rob Bradford (текущее издание), Frans Pop (текущее издание)</name><email></email></author>
      <author><name></name><email>debian-doc@lists.debian.org</email></author>
      <version>&docid;</version>
    </titlepag>
    <toc detail="sect1">
      <chapt id="about"><heading>Что нового в информации о выпуске</heading>
       
	<p>[С последней версией этого документа
	всегда можно ознакомиться по адресу <url
	id="&url-release-notes;">. Если ваша версия
	выпущена больше месяца назад, стоит
	загрузить более новую.]</p>

	<p>Обратите внимание, что раньше
	редакции информации о выпусках
	содержали сведения об обновлении с
	выпусков, более ранних, чем предыдущий.
	Однако, это сильно загромождало
	документацию, и мы решили описать
	только обновление с &debian 3.0 (woody). Если
	вам требуется обновить систему с более
	старого выпуска, обратитесь к ранним
	редакциям этого документа.</p>

      </chapt>
      <chapt id="whats-new"><heading>Что нового в &debian; &release;</heading>

	<p>Список поддерживаемых архитектур не
	изменился с предыдущего выпуска (&debian;
	3.0, woody). Вот полный перечень
	поддерживаемых архитектур:</p>
        
	<p><list compact="compact">
<item><p>Intel x86 ('i386')</p></item>
<item><p>Motorola 680x0 ('m68k')</p></item>
<item><p>Alpha ('alpha')</p></item>
<item><p>SPARC ('sparc')</p></item>
<item><p>PowerPC ('powerpc')</p></item>
<item><p>ARM ('arm')</p></item>
<item><p>MIPS ('mips' (Big endian) и 'mipsel' (Little endian))</p></item>
<item><p>Intel Itanium ('ia64')</p></item>
<item><p>HP PA-RISC ('hppa')</p></item>
<item><p>S/390 ('s390')</p></item></list></p>

	  <p>Более подробную информацию о
	  портировании на различные
	  архитектуры и сведения, относящиеся к
	  конкретным портам, вы можете получить
	  на <url id="&url-ports;" name="Странице
	  портирования Debian">.</p>

<![ %secondrelease [

	  <p>Это лишь второй официальный выпуск
	  &debian; для архитектуры &arch-title;. Мы
	  считаем, что он проверен в
	  достаточной мере, чтобы быть выпущен.
	  Однако, поскольку тестировался он всё
	  же меньше, чем выпуски на
	  других архитектурах, вы можете
	  обнаружить в нём ошибки. Пожалуйста,
	  сообщайте нам о любых проблемах через
	  нашу <url id="&url-bts;" name="Систему
	  отслеживания ошибок">, обязательно
	  отметив при этом, что ошибка
	  наблюдается на платформе &architecture;.</p>

]]>

<![ %not-m68k [
	  <p>В дистрибутив &debian; &release; для
	  архитектуры &arch-title; включено ядро
	  версии &kernelversion;.</p>

<![ %available-2.6 [
	  <p>На архитектуре &arch-title; доступно
	  также ядро ветки 2.6 (версии
	  &kernelversion-2.6;). Обратите внимание на то,
	  что пакеты Debian ядер 2.6.8 включают ядро
	  версии 2.6.8.1 с некоторыми
	  доработками.</p>
]]>
]]> <!-- %m68k -->
<![ %m68k [
	  <p>Для архитектуры &arch-title; &debian; &release;
	  поставляется с ядрами 2.2.25 и 2.4.27. Для
	  некоторых субархитектур доступны
	  ядра 2.6.8, но их следует считать
	  экспериментальными.</p>
]]>
        
        <sect id="newdistro"><heading>Что нового в дистрибутиве?</heading>
           
	   <p>Этот выпуск Debian содержит намного
	   больше программ, чем его
	   предшественник &oldreleasename;;
	   дистрибутив включает в себя более 9000
	   новых пакетов. Большая часть
	   программ, входящих в дистрибутив,
	   была обновлена (почти 6500 пакетов, что
	   составляет 73% дистрибутива &oldreleasename;).
	   По различным причинам многие пакеты
	   были удалены из дистрибутива. Эти
	   пакеты не будут обновлены, в
	   программах управления пакетами они
	   будут помечены как "устаревшие".</p>

	   <p>Этот выпуск &debian; содержит
	   значительно улучшенную версию XFree86
	   4.3, включающую поддержку широкого
	   спектра аппаратного обеспечения,
	   усовершенствованное
	   автоопределение устройств и
	   поддержку новых технологий, таких
	   как Xinerama и ускорение 3D-графики.</p>
           
	   <p>Новый выпуск &debian; как никогда ранее
	   подходит для настольных компьютеров.
	   В его состав входят GNOME 2.8 и KDE 3.3.
	   Впервые в дистрибутив включён полный
	   набор офисных приложений OpenOffice.оrg 1.1.
	   Также дистрибутив содержит
	   программное обеспечение для
	   совместной работы Evolution и клиент
	   системы мгновенных сообщений GAIM.</p>
           
	   <p>Рекомендуемой программой
	   управления пакетами теперь является
	   <prgn>aptitude</prgn>. Она гораздо лучше
	   <prgn>apt-get</prgn> разрешает зависимости
	   при установке пакетов. <prgn>aptitude</prgn>
	   поддерживает большую часть операций
	   командной строки <prgn>apt-get</prgn>. Если вы
	   всё ещё пользуетесь <prgn>dselect</prgn> -
	   попробуйте  интерфейс управления
	   пакетами <prgn>aptitude</prgn>.</p>
       
	   <p>Официальный дистрибутив &debian;
	   теперь занимает от тринадцати до
	   пятнадцати компакт-дисков
	   скомпилированных пакетов,
	   приблизительно столько же занимают
	   пакеты исходных кодов. Также есть
	   версия дистрибутива на DVD.</p>

        <sect1 id="volatile"><heading>Новая служба - debian-volatile</heading>

	   <p>Новая служба, <em>debian-volatile</em>,
	   позволит пользователям легко
	   обновлять те стабильные пакеты,
	   которые содержат быстро
	   устаревающую информацию. В их число,
	   например, входят антивирусные
	   сигнатуры и наборы шаблонов для
	   спам-фильтров. Администраторы смогут
	   использовать архив "volatile.debian.net" так
	   же легко, как сейчас они используют
	   "security.debian.org". В результате они получат
	   стабильную систему со свежей
	   информацией без трудностей и рисков,
	   связанных с установкой самых новых
	   пакетов. Дополнительную информацию и
	   список зеркальных сайтов можно найти
	   на <url id="&url-debian-volatile" name="странице
	   архива">.</p>
           
	   <p>Имейте в виду, что debian-volatile <em>не
	   является</em> официальной службой Debian.
	   Использовать её или нет - решать
	   вам.</p>

        </sect1>

        <sect1 id="non-us"><heading>non-US устарел</heading>

	   <p>В выпуске &releasename; пакеты, которые
	   раньше располагались в архиве non-US,
	   были перенесены в основной архив.
	   Если ваш <file>/etc/apt/sources.list</file> содержит
	   ссылки на non-US - удалите их.</p>

        </sect1>

        </sect>

        <sect id="newinst"><heading>Что нового в системе установки?</heading>

	  <p>Старая программа установки &debian;
	  заменена совершенно новой -
	  <prgn>debian-installer</prgn>. Новая программа
	  установки имеет модульную структуру
	  и, как следствие, практически
	  неограниченно расширяема. Она
	  полностью переведена на почти сорок
	  языков, ведётся работа над
	  дополнительными переводами, которые,
	  возможно, будут включены в следующие
	  выпуски &releasename;.</p>
          
	  <p>Новая программа установки включает
	  такие возможности, как поддержку
	  загрузки с карт памяти USB, возможность
	  использовать <prgn>aptitude</prgn> для выбора
	  пакетов при настройке основной
	  системы, поддержку файловой системы
	  <prgn>XFS</prgn>, создание программных
	  массивов RAID и поддержку системы
	  управления логическими дисками
	  <prgn>LVM</prgn>.</p>
          
	  <p>Более подробную информацию о новой
	  программе установки Debian можно
	  получить в руководстве по установке
	  Debian, которое можно найти на первом
	  компакт-диске дистрибутива или по
	  адресу <url id="&url-install-manual;">. Руководство
	  по установке полностью переведено на
	  восемь языков. Дополнительные
	  переводы будут доступны на сайте
	  после их завершения.</p>

<![ %i386 [ 

	  <p>На архитектуре &arch-title; для слепых
	  пользователей создан особый набор
	  образов загрузочных дискет - "speakup".
	  Они содержат специально изменённое
	  ядро, поддерживающее устройства
	  вывода шрифтом Брайля. Полный список
	  поддерживаемых устройств можно найти
	  в документации по brltty. Более подробно
	  об этом можно прочесть <url
	  id="&url-installer;index#speakup" name="на сайте
	  debian-installer">.</p>

]]>

<!-- FJP: Maybe a short description of available installation methods could be
          added here: floppy, CD (netinst/business-card/full set), netboot,
          hd-media, USB-stick. -->

        </sect>

      </chapt>

      <chapt id="installing"><heading>Установка на новую систему</heading>

	<p>Старая программа установки &debian;
	<prgn>boot-floppies</prgn> заменена новой мощной,
	обладающей модульной структурой
	программой установки
	<prgn>debian-installer</prgn>.</p>

	<p>Новая программа установки
	предлагает широкий выбор методов
	установки. Какие из них будут доступны
	на вашей системе - зависит от её
	архитектуры.</p>
        
	<p>Если вы устанавливаете Debian на
	систему, где его ещё нет, вам следует
	прочитать руководство по установке,
	которое можно найти на официальном
	компакт-диске в файле <example compact="compact">
/doc/install/manual/<var>язык</var>/index.html
</example> или в интернете по адресу <url id="&url-install-manual;">. Также следует ознакомиться со <url id="&url-installer;index#errata" name="списоком известных недостатков"> программы установки.</p>

<![ %not-m68k [
<![ %d-i-avail-2.6 [
	  <p>Программа установки по умолчанию
	  использует ядро из серии 2.4. Для
	  архитектуры &arch-title; возможна
	  установка с использованием ядра 2.6. За
	  более подробной информацией по этому
	  варианту установки обратитесь к
	  руководству по установке.</p>
]]>          
<![ %d-i-default-2.6 [
	  <p>На архитектуре &arch-title; программа
	  установки использует ядро серии 2.6 по
	  умолчанию.</p>
]]>
]]> <!-- %not-m68k -->
<![ %m68k [
	  <p>В зависимости от субархитектуры,
	  возможна установка с применением
	  ядра 2.2.25, 2.4.27 или же обоих ядер. Для
	  субархитектуры mac рекомендуется ядро
	  2.2.25, для остальных - 2.4.27.</p>

	  <p>В настоящий момент <prgn>partman</prgn>,
	  компонент <package>debian-installer</package> для
	  разметки и форматирования дисков, не
	  поддерживает разделы atari. Это
	  означает, что работу с разделами
	  придётся выполнить вручную.
	  Подробности смотрите в руководстве
	  по установке.</p>
]]>

<![ %alpha [
	<p>Новая программа установки может
	работать только на тех машинах Alpha,
	которые поддерживают консоль SRM.
	Убедитесь, что вы переключили ваш
	компьютер на SRM до начала установки.
	Если ваш компьютер поддерживает
	только консоль AlphaBIOS/ARC, вы можете
	установить &releasename;, установив сначала
	&oldreleasename; с минимальным набором
	пакетов, а затем обновив его. За более
	подробной информацией о различных
	консолях обратитесь к <url
	id="http://www.debian.org/ports/alpha" name="страницы
	портирования Debian на Alpha">.</p>
]]>

<![ %sparc [ 
      <sect id="sparc_kbd"><heading>Проблемы с клавиатурой на &arch-title;</heading>

	<p>При установке могут возникнуть
	проблемы с клавиатурой.</p>

	<p>Первая проблема связана с
	использованием USB-клавиатур
	производства Sun (к примеру,
	поставляемых с системами SunBlade). При
	установке с ядром 2.4 (по умолчанию), эти
	клавиатуры неправильно опознаются
	программой установки как обычные
	клавиатуры Sun. Способ решения этой
	проблемы описан в руководстве по
	установке (см. ранее приведённую
	ссылку, в главе "Использование
	программы установки Debian").</p>

	<p>Вторая проблема связана с ядром. Ядра
	серии 2.6 используют новые интерфейсы
	для устройств ввода, при этом любая
	клавиатура выглядит как обычная
	клавиатура PC. Это значит, что если вы
	загрузите программу установки с ядром
	2.4, настроите вашу клавиатуру Sun или USB,
	а для установки выберете (в экспертном
	режиме) ядро 2.6, то после первой
	загрузки клавиатура, скорее всего, не
	будет работать.</p>

      </sect>

      <sect id="sparc_fb"><heading>Проблемы с framebuffer на &arch-title;</heading>

	<p>Так как на некоторых системах
	использование framebuffer вызывало
	проблемы, на архитектуре &arch-title; его
	поддержка отключена по умолчанию.
	Из-за этого на машинах, где framebuffer
	поддерживается (например, на машинах с
	видеокартами от ATI), текст на экране
	может выглядеть плохо. В этом случае
	можете попытаться загрузить
	программму установки с параметром
	"debian-installer/framebuffer=true".</p>

      </sect>
]]>

      <sect id="popcon"><heading>Частота использования пакетов</heading>

	<p>По техническим причинам пакет
	<package>popularity-contest</package> не устанавливается по
	умолчанию при установке &releasename;. В
	следующих выпусках этот недочёт будет
	исправлен.</p>

	<p><package>popularity-contest</package> снабжает проект Debian
	ценной информацией о том, какие пакеты
	дистрибутива действительно
	используются. Эта информация не только
	влияет на то, в каком порядке пакеты
	пакеты будут расположены на
	установочных компакт-дисках, но и
	используется разработчиками Debian для
	принятия решения о
	продолжении/прекращении поддержки
	пакетов, у которых нет
	сопровождающих.</p>

	<p>Информация, собранная <package>popularity-contest</package>
	анонимна и не содержит личных данных.
	Мы будем вам очень благодарны, если вы
	установите этот пакет и примете
	участие в опросе, этим вы поможете
	команде разработчиков Debian.</p>

      </sect>
      </chapt>


      <chapt id="upgrading"><heading>Обновление с предыдущих выпусков</heading>

<!-- For doc-writers' convenience:
Debian Supported
release: architectures:

1.3.1 or less i386
2.0           i386,m68k
2.1	      i386,m68k,alpha,sparc
2.2	      i386,m68k,alpha,sparc,powerpc,arm
3.0	        + hppa s390 mips mipsel ia64
-->

        <sect id="backup"><heading>Подготовка к обновлению</heading>

	  <p>Перед обновлением настоятельно
	  рекомендуется сделать резервную
	  копию всей системы или, по крайней
	  мере, всех данных и настроек, которые
	  вы не хотите потерять. Инструменты
	  для обновления и сам процесс
	  достаточно надёжны, но сбой
	  аппаратного обеспечения в ходе
	  обновления может привести к
	  серьёзному повреждению системы.</p>

	  <p>В первую очередь необходимо
	  сохранить резервные копии
	  содержимого каталогов <file>/etc</file> и
	  <file>/var/lib/dpkg</file>, а также вывод команды
	  <tt>dpkg --get-selections "*"</tt> (кавычки
	  необходимы).</p>

	  <p>Само по себе обновление никак не
	  затрагивает каталог <file>/home</file>, но
	  некоторые приложения (в частности,
	  Mozilla и некоторые приложения KDE) при
	  первом запуске новой версии
	  перезаписывают пользовательские
	  настройки настройками "по умолчанию".
	  На всякий случай стоит
	  заархивировать скрытые файлы и
	  каталоги в домашних каталогах
	  пользователей. Эта резервная копия
	  поможет вам затем восстановить
	  старые настройки, если это
	  понадобится. Не лишним будет
	  предупредить пользователей об этой
	  проблеме.</p>

	  <p>Желательно заранее сообщить всем
	  пользователям обо всех планируемых
	  обновлениях, хотя пользователи,
	  работающие в системе через SSH, не
	  должны испытать особых проблем в
	  процессе обновления и вполне могут
	  продолжать работу. Если вы хотите
	  принять дополнительные меры
	  предосторожности, создайте резервную
	  копию каталога с файлами
	  пользователей (<file>/home</file>) или
	  размонтируйте раздел, где он
	  расположен, перед обновлением.
	  Перезагрузка после обновления не
	  потребуется, если вы, конечно, не
	  планируете обновление ядра
	  системы.</p>

	  <p>Обновление дистрибутива возможно
	  как с локальной консоли (или
	  подключённого напрямую
	  последовательного терминала), так и
	  через удалённое подключение
	  <prgn>ssh</prgn>.</p>

	  <p><strong>Внимание!</strong> <em>Ни в коем случае</em>
	  не обновляйте систему через
	  <prgn>telnet</prgn>, <prgn>rlogin</prgn>, <prgn>rsh</prgn> или
	  из графического сеанса под
	  управлением <prgn>xdm</prgn>, <prgn>gdm</prgn>,
	  <prgn>kdm</prgn> и т.д., запущенного на
	  обновляемой системе. Это связано с
	  тем, что все эти серверы могут быть
	  перезапущены при обновлении, что
	  может привести к <em>недоступности</em>
	  системы, обновлённой только
	  наполовину.</p>

	  <p>Установка любого пакета должна
	  производиться с привилегиями
	  суперпользователя. Поэтому вы должны
	  либо войти в систему под именем
	  суперпользователя (root), либо
	  использовать программы <prgn>su</prgn> или
	  <prgn>sudo</prgn>.</p>

        </sect>

        <sect id="system-status">
        <heading>Проверка состояния системы</heading>

	<p>Описываемая в этом разделе процедура
	обновления предназначена для
	обновления с "чистого" &oldreleasename;.
	Предполагается, что ваша система
	обновлена до последнего выпуска
	&oldreleasename;. Если это не так или вы в этом
	не уверены, следуйте инструкциям
	раздела <ref id="old-upgrade">.</p>

<![ %has-woody-aptitude [
	<p>Также предполагается, установлена
	программа <prgn>aptitude</prgn> из &oldreleasename;. Так
	ли это, можно проверить с помощью <example compact="compact">
$ dpkg -l aptitude
        </example>Если выведенная на экран строка <em>не начинается</em> с буквы "i", то <prgn>aptitude</prgn> не установлена. Перед обновлением системы нужно установить её по инструкции, содержащейся в разделе <ref id="old-aptitude">.</p>
]]>

<![ %mips [
        <sect1><heading>SGI IP22: установите arcboot</heading>

	  <p>Если у вас система <em>SGI IP22</em>, то
	  загружать её надо с помощью
	  загрузчика <package>arcboot</package>, а не
	  грузить ядро напрямую. Пакет
	  <package>arcboot</package> доступен в &oldreleasename;,
	  установить его можно обычным
	  способом.</p>

	  <p>Перед установкой <package>arcboot</package>
	  обязательно проверьте, что ваш файл
	  <file>sources.list</file> всё ещё ссылается на
	  &oldreleasename;. Как это сделать,
	  объясняется в разделе <ref id="old-sources">.</p>

        </sect1>
]]>

	<sect1><heading>Отключение фиксации APT</heading>

	  <p>Если вы настроили APT на установку
   некоторых пакетов из дистрибутива,
   отличного от стабильного (например,
   тестируемого), вам, возможно, придётся
   изменить конфигурацию APT (сохранённую в
   файле <file>/etc/apt/preferences</file>), чтобы было
   возможным обновление пакетов до версии в
   новом стабильном выпуске. Более
   подробную информацию о фиксации пакетов
   в APT можно найти в <manref section="5"
   name="apt_preferences">.</p>

	</sect1>
	
        <sect1><heading>Проверка состояния пакетов</heading>

	  <p>Независимо от способа обновления,
	  рекомендуется сначала проверить
	  состояние всех пакетов и убедиться,
	  что все пакеты могут быть обновлены.
	  Следующая команда покажет частично
	  установленные (Half-Installed) пакеты,
	  пакеты, настройка которых не удалась
	  (Failed-Config), а также все пакеты в
	  ошибочных состояниях. <example compact="compact">
# dpkg --audit
          </example></p>
 
	  <p>Можно также проверить состояние
	  всех пакетов системы с помощью
	  программ <prgn>dselect</prgn>, <prgn>aptitude</prgn> или
	  таких команд, как <example compact="compact">
# dpkg -l | pager 
</example> или <example compact="compact">
# dpkg --get-selections &gt; ~/curr-pkgs.txt
</example></p>

	  <p>Перед обновлением желательно снять
	  все фиксации с пакетов. Если один из
	  необходимых для обновления пакетов
	  зафиксирован, обновление будет
	  невозможно. Определить, какие пакеты
	  зафиксированы, можно с помощью
	  команды <example compact="compact">

# dpkg --get-selections | grep hold
          </example></p>

	  <p>Если вы изменили и
	  перекомпилировали пакет, при этом не
	  переименовали его и не добавили
	  "эпоху" ("epoch") в версию пакета, то чтобы
	  предотвратить его обновление, нужно
	  его зафиксировать.
<![ %has-woody-aptitude [

	Состояние фиксации пакета ("hold") может
	  быть изменено с помощью <prgn>aptitude</prgn>:
	  <example compact="compact">
# aptitude hold | unhold &lt;package name&gt;
          </example> 
]]> 
<![ %no-woody-aptitude [ Состояние фиксации пакета ("hold") может быть изменено либо с помощью <prgn>dselect</prgn> (в меню выбора пакетов клавиши "H" - зафиксировать и "G" снять фиксацию), или заменив в файле, полученном из <example compact="compact">
# dpkg --get-selections &gt; ~/curr-sels.txt
          </example> "hold" на "install" (и наоборот), и затем выполнив <example compact="compact">
# dpkg --set-selections &lt; ~/curr-sels.txt
          </example> ]]></p>

	  <p>Если вам надо что-то изменить, то
	  лучше сначала убедиться, что ваш
	  <file>sources.list</file> всё ещё ссылается на
	  &oldreleasename;, как объясняется в разделе
	  <ref id="old-sources">.</p>
        </sect1>

        <sect1 id="backports"><heading>Неофициальные источники и адаптации (backports)</heading>

	  <p>Если вы установили пакеты не из Debian,
	  то знайте, что при обновлении они
	  могут быть удалены по причине
	  конфликтующих зависимостей. Если при
	  установке пакетов вы добавляли
	  записи в файл <file>/etc/apt/sources.list</file>, то
	  стоит проверить, что этот источник
	  содержит пакеты, скомпилированные
	  для &releasename; и соответственно исправив
	  строку источника вместе со строками
	  остальных источников.</p>

	  <p>Некоторые пользователи установили
	  более новые пакеты Debian,
	  адаптированные для &oldreleasename; (backports).
	  Такие пакеты, скорее всего, станут
	  причиной проблем при обновлении, так
	  как они могут вызвать конфликты
	  файлов<footnote><p>Обычно система
	  управления пакетами Debian не позволяет
	  пакету удалить или заменить файл,
	  принадлежащий другому пакету, за
	  исключением случаев, когда один пакет
	  заменяет другой.</p></footnote>.В разделе <ref
	  id="trouble"> описано, как бороться с
	  конфликтами файлов, если они
	  возникнут.</p>

        </sect1>
        </sect>

<![ %glibcneedsnewkernel [
<![ %not-mips-mipsel [

        <sect id="new-kernel">
        <heading>Проверка поддержки ядра</heading>

<![ %sparc [
	   <p>Все системы с 64-битными
	   процессорами SPARC (sun4u) должны
	   обновиться не требуя никакой
	   специальной поддержки ядра.</p>

	   <p>Процессоры sun4c <em>более не
	   поддерживаются</em> в &releasename;. О
	   степени поддержке sun4d почти ничего
	   неизвестно, так как они очень редки.
	   Вполне возможно, что процессоры sun4d с
	   MMU будут работать.</p>

	   <p>Процессоры sun4m всё ещё
	   поддерживаются, но перед обновлением
	   системы надо будет сначала обновить
	   ядро. Это вызвано тем, что новые
	   версии glibc содержат команды
	   процессора, которые на некоторых
	   машинах недоступны, поэтому
	   необходимо установить ядро,
	   эмулирующее недостающие команды.</p>

	   <p>На самом деле это затрагивает
	   только <em>некоторые</em> процессоры sun4m,
	   но так как glibc не может с уверенностью
	   определить наличие необходимых
	   команд в процессоре, она просто
	   откажется устанавливаться на любую
	   32-битную систему на базе SPARC, не
	   обнаружив требуемой версии ядра.</p>

	   <p>Если кому-то интересны технические
	   подробности: некоторые процессоры
	   sun4m, произведённые Cypress/ROSS, не
	   поддерживают инструкцию <tt>umul</tt>
	   (процессоры RT601/CY7C601 - один и тот же
	   чип, только с разными названиями). Эти
	   процессоры использовались в ранних
	   моделях SPARCserver 6xxMP. Более поздние
	   модели использовали чипы
	   производства TI. Пока нам неизвестно,
	   распространяется ли на них этот
	   недостаток.</p>
<!-- Add link to http://www.ultralinux.org/faq.html#q_2_1 ? -->
]]>

<![ %hppa [
	  <p>На 64-битных HPPA перед обновлением
	  системы надо будет обновить ядро. Это
	  вызвано тем, что новые версии glibc
	  содержат команды процессора, которые
	  на некоторых машинах недоступны,
	  поэтому требуется обновлённое ядро,
	  эмулирующее недостающие команды.</p>
]]>

<![ %i386 [
	  <p>"Настоящие" 386 (процессоры Intel серии
	  "80386") <em>не поддерживаются</em> в &releasename;.
	  Это не касается процессоров серии
	  "80486" и более новых.</p>
]]>

<![ %upgradekernel [
        <sect1 id="kernel-upgrade"><heading>Обновление ядра</heading>

	  <p>Если (и только в этом случае) в
	  предыдущем разделе было сказано, что
	  вам нужно обновить ядро <em>перед</em>
	  обновлением системы, сделайте это
	  прямо сейчас.</p>

	  <p>Все инструменты, необходимые для
	  установки ядра &releasename;, доступны в
	  адаптированном для &oldreleasename; виде.
	  Подробные инструкции по установке
	  нового ядра можно получить тут: <ref
	  id="kernel-upgrade-howto">.</p>
          
        </sect1>
]]>
        </sect>
]]> <!-- not-mips-mipsel -->
]]> <!-- glibcneedsnewkernel -->

        <sect id="upgrade-process"><heading>Подготовка источников APT</heading>

	  <p>Перед началом процесса обновления
	  вы должны настроить файл
	  конфигурации <package>apt</package>
	  <file>/etc/apt/sources.list</file>.</p>
          
	  <p>Программа <package>apt</package> при запросе
	  на установку пакета установит
	  наивысшую версию пакета из тех,
	  которые можно найти в источниках,
	  соответствующих строкам <tt>deb</tt> этого
	  файла. При равных версиях приоритет
	  будут иметь строки, находящиеся в
	  файле выше (таким образом, в случае
	  использования нескольких зеркал
	  обычно лучше первым указать каталог
	  на локальном жёстком диске, затем
	  компакт-диск и, наконец, зеркала
	  HTTP/FTP).</p>

	  <p>На выпуск Debian можно ссылаться по его
	  кодовому имени (например, "&oldreleasename;"
	  или "&releasename;") или по его статусу
	  (например, "oldstable" ("старый стабильный"),
	  "stable" ("стабильный"), "testing"
	  ("тестируемый"), "unstable" ("нестабильный")).
	  Ссылки на выпуск по его кодовому
	  имени имеют то преимущество, что вы
	  никогда неожиданно для себя не
	  начнёте пользоваться новым выпуском.
	  Поэтому мы здесь так и делаем. В этом
	  случае, вам, конечно, придётся самим
	  следить за новыми выпусками. Если вы
	  будете ссылаться на дистрибутив по
	  его статусному имени, то после выхода
	  нового выпуска вы просто увидите
	  большое количество обновлённых
	  пакетов.</p>

         <sect1 id="network"><heading>Как добавить Интернет-источник APT</heading>

	   <p>Конфигурация по умолчанию
	   позволяет произвести установку с
	   главных серверов Debian, но вы можете
	   изменить файл <file>/etc/apt/sources.list</file> и
	   использовать другие зеркала. Лучше
	   использовать ближайшее к вам (в
	   смысле скорости передачи данных)
	   зеркало.</p>

<!-- FJP: Why is 'default configuration' relevant here? We are talking about
          upgrading existing installations; we really have no idea what
          apt-sources users will have set up here (maybe just a Woody CD-set).
          Note: D-I sets the default configuration to a mirror based on
          the selected country and not the 'main' servers. -->

	   <p>Адреса HTTP- и FTP-зеркал Debian можно
	   найти по адресу <url id="&url-debian-mirrors;"> (см.
	   раздел "Полный список зеркал").
	   HTTP-зеркала обычно быстрее, чем FTP.</p>

	   <p>Допустим, к примеру, что ближайшим к
	   вам зеркалом Debian является
	   <tt>&url-debian-mirror-eg;</tt>. Просматривая
	   содержимое зеркала web-браузером или
	   FTP-клиентом, можно заметить, что
	   основные каталоги организованы
	   следующим образом: <example compact="compact">
&url-debian-mirror-eg;/dists/&releasename;/main/binary-&architecture;/...
&url-debian-mirror-eg;/dists/&releasename;/contrib/binary-&architecture;/...
           </example></p>

	   <p>Чтобы использовать это зеркало в
	   программе <prgn>apt</prgn>, добавьте в файл
	   <file>sources.list</file> следующую строку: <example compact="compact">
deb &url-debian-mirror-eg; &releasename; main contrib
           </example></p>

	   <p>Обратите внимание на то, что
	   `<tt>dists</tt>' добавляется автоматически,
	   а параметры после имени выпуска
	   используются для дополнения
	   сетевого пути до реальных
	   каталогов.</p>

	   <p>После того, как вы добавили новый
	   источник, отключите
	   присутствовавшие ранее в файле
	   <file>sources.list</file> строки <tt>deb</tt>,
	   поставив в начале каждой строки знак
	   диеза (<tt>#</tt>).</p>

	   <p>Все пакеты, требуемые для
	   установки, после загрузки из сети
	   размещаются в каталоге
	   <file>/var/cache/apt/archives</file> (во время
	   загрузки -- в подкаталоге
	   <file>partial/</file>), поэтому перед началом
	   установки вы должны убедиться в том,
	   что там достаточно места. Для обычной
	   установки понадобится
	   приблизительно 300МБ дискового
	   пространства.</p>
           
         </sect1>

         <sect1 id="localmirror"><heading>Как добавить локальное зеркало APT</heading>

	   <p>Вместо HTTP- и FTP-зеркал, можно,
	   изменив соответствующим образом
	   файл <file>/etc/apt/sources.list</file>,
	   использовать зеркало на локальном
	   диске (возможно, смонтированном по
	   сети).</p>

	   <p>Например, если ваше зеркало пакетов
	   находится в каталоге
	   <file>/var/ftp/debian/</file>. Тогда его основные
	   каталоги будут называться: <example compact="compact">
/var/ftp/debian/dists/&releasename;/main/binary-&architecture;/...
/var/ftp/debian/dists/&releasename;/contrib/binary-&architecture;/...
           </example></p>

	   <p>Чтобы программа apt могла
	   использовать этот источник пакетов,
	   добавьте в файл <file>sources.list</file> строку <example compact="compact">
deb file:/var/ftp/debian &releasename; main contrib
           </example></p>

	   <p>Обратите внимание на то, что
	   `<tt>dists</tt>' добавляется автоматически,
	   а параметры после имени выпуска
	   используются для дополнения
	   сетевого пути до реальных
	   каталогов.</p>

	  <p>После того, как вы добавили новый
	  источник, отключите присутствовавшие
	  ранее в файле <file>sources.list</file> строки
	  <tt>deb</tt>, поставив в начале каждой
	  строки знак диеза (<tt>#</tt>).</p>
</sect1>
        <sect1 id="cdroms"><heading>Как добавить источник APT на компакт-диске или DVD</heading>

	  <p>Если вы хотите использовать
	  <em>только</em> компакт-диски,
	  закомментируйте все присутствующие в
	  файле <file>/etc/apt/sources.list</file> строки
	  <tt>deb</tt>, поставив в начале каждой
	  строки знак диеза (<tt>#</tt>).</p>

<!-- Default cdrom mount point is /cdrom, not /media/cdrom and fixed!, see #282344
     (but the -d option of apt-cdrom allows scanning from somewhere else) -->
	  <p>Убедитесь в том, что в файле
	  <file>/etc/fstab</file> есть строка, позволяющая
	  смонтировать компакт-диск в каталог
	  <file>/cdrom</file> (программа <prgn>apt-cdrom</prgn>
	  требует монтирования именно в этом
	  каталоге). Например, если файлом
	  устройства вашего привода чтения
	  компакт-дисков служит <file>/dev/hdc</file>,
	  файл <file>/etc/fstab</file> должен содержать
	  строку <example compact="compact">
/dev/hdc /cdrom auto defaults,noauto,ro 0 0
          </example></p>

	  <p>Обратите внимание на то, что между
	  словами <tt>defaults,noauto,ro</tt> в четвёртом
	  поле строки <em>не должно быть
	  пробелов</em>.</p>

	  <p>Чтобы проверить, что строка fstab
	  написана верно, вставьте компакт-диск
	  в привод и выполните команды <example compact="compact">
mount /cdrom   # (монтирование компакт-диска)
ls -alF /cdrom # (вывод содержимого корневого каталога компакт-диска)
umount /cdrom  # (размонтирование компакт-диска)
          </example></p>

	  <p>Затем вставьте по очереди имеющиеся
	  у вас диски и для каждого из них
	  выполните команду <example compact="compact">
apt-cdrom add
</example>.</p>
        </sect1>
        </sect>

	<sect id="upgradingpackages"><heading>Обновление пакетов</heading>

	  <p>Для обновления &debian; до нового
   выпуска рекомендуется использовать
   программу управления пакетами
   <prgn>aptitude</prgn>. Этот инструмент принимает
   более безопасные решения об установке
   пакетов, чем при непосредственном
   запуске <prgn>apt-get</prgn>.</p>

	  <p>Не забудьте смонтировать все
	  необходимые разделы (в первую
	  очередь, корневой раздел и каталог
	  <file>/usr</file>) для чтения и записи. Это
	  можно сделать командой <example compact="compact">
            mount -o remount,rw /<var>точка_монтирования</var>
          </example></p>

	  <p>Затем надо проверить и
   перепроверить, что источники APT в файле
   <file>/etc/apt/sources.list</file> ссылаются либо на
   "<tt>&releasename;</tt>", либо на "<tt>stable</tt>". Обратите
   внимание, источники на CD-ROM могут
   ссылаться на дистрибутив "<tt>unstable</tt>", хоть
   это и странно, но исправлять их <em>не
   нужно</em>.</p>

	  <p>Настоятельно рекомендуем
	  использовать программу
	  <prgn>/usr/bin/script</prgn> для записи ваших
	  действий при обновлении. В этом
	  случае, при возникновении каких-либо
	  проблем у вас будет журнал
	  произошедших событий, и если
	  понадобится, вы сможете включить эту
	  информацию в отчёт об ошибке. Чтобы
	  начать запись, выполните команду <example compact="compact">
script -a ~/upgrade-to-&releasename;.typescript
</example>Не размещайте файл с записью во временных каталогах, таких как <file>/tmp</file> и <file>/var/tmp</file> - файлы в этих каталогах могут быть удалены при обновлении или перезагрузке.</p>

	  <p>Запись также поможет вам прочитать
	  информацию, которая была "промотана"
	  за границу экрана. Просто
	  переключитеcь на вторую консоль
	  (нажав <tt>alt-F2</tt>) и, войдя в систему,
	  запустите <tt>less
	  ~root/upgrade-to-&releasename;.typescript</tt> для
	  просмотра файла.</p>

	  <p>После завершения обновления, можно
	  остановить <prgn>script</prgn> набрав
	  <tt>exit</tt> в командной строке.</p>

        <sect1 id="updating_lists"><heading>Обновление списка пакетов</heading>

	  <p>Сначала нужно скачать список
	  пакетов для нового выпуска. Это можно
	  сделать, выполнив команду<footnote><p>Мы
	  используем <prgn>apt-get</prgn>, потому что
	  версия <prgn>aptitude</prgn> из выпуска
	  &oldreleasename; может не сработать после
	  добавления новых источников в
	  <file>sources.list</file>.</p></footnote></p>

	  <p><example compact="compact">
# apt-get update
	  </example></p>

        </sect1>


<![ %mips-mipsel [
        <sect1 id="upgrading_kernel_mipsen"><heading>Обновление ядра</heading>

	  <p>На машинах &arch-title; перед обновлением
	  системы надо будет обновить ядро. Это
	  вызвано изменениями в протоколе
	  взаимодействия C-библиотеки и ядра.
	  Вам понадобится ядро с обновлёнными
	  определениями.</p>

	  <p>Подробные инструкции по установке
	  нового ядра можно найти в <ref
	  id="kernel-upgrade-howto">.</p>

        </sect1>
]]>


<!-- FJP: This next section can probably be dropped for etch -->
<![ %has-woody-aptitude [
        <sect1 id="upgrading_aptitude"><heading>Обновление aptitude</heading>
]]>
<![ %no-woody-aptitude [
        <sect1 id="upgrading_aptitude"><heading>Установка aptitude</heading>
]]>

	  <p>Пробные обновления показали, что
	  версия <prgn>aptitude</prgn> из &releasename;
	  разрешает сложные зависимости при
	  обновлении лучше, чем <prgn>apt-get</prgn> и
	  <prgn>aptitude</prgn> из &oldreleasename;.
<![ %has-woody-aptitude [
	  Поэтому её следует обновить в первую
	  очередь, запустив <example compact="compact">
# aptitude install aptitude
          </example></p>
]]>
<![ %no-woody-aptitude [
          It should therefore be installed first using:
<p><example compact="compact">
# apt-get install aptitude
          </example></p>
]]>

	  <p>Вы сможете просмотреть список
	  изменений и либо утвердить его, либо
	  отказаться. Перед тем, как
	  согласиться с предложенными
	  изменениями, обратите особое
	  внимание на пакеты, которые будут
	  удалены при обновлении.</p>

	  <p>В некоторых случаях на этом шаге
	  предлагается удалить большое
	  количество пакетов. Можно попытаться
	  сократить количество удаляемых
	  пакетов, обновляя одновременно с
	  <package>aptitude</package> что-нибудь ещё.
	  Поясним на примере. При пробных
	  обновлениях систем с установленным KDE
	  этот шаг вызывал удаление многих
	  пакетов KDE, зачастую вместе с
	  <package>perl</package>. Решением в этом случае
	  стал запуск <tt>install aptitude perl</tt> вместо
	  <tt>install aptitude</tt>.</p>

        </sect1>

        <sect1 id="upgrading_doc-base"><heading>Обновление doc-base</heading>

	  <p><em>Если</em> <package>doc-base</package>
	  установлен, то он <em>обязательно</em>
	  должен быть обновлён перед
	  обновлением остальной системы. Это
	  вызвано тем, что одновременное
	  обновление <package>doc-base</package> и
	  <package>perl</package> может завершиться
	  неудачей. Чтобы узнать, установлен ли
	  <package>doc-base</package>, выполните команду </p>
          
	  <p><example compact="compact">
# dpkg -l doc-base
          </example></p>

	  <p>Если первая буква в напечатанной
	  строке - "i", то пакет установлен и
	  должен быть обновлён в первую
	  очередь.</p>

	  <p><example compact="compact">
# aptitude install doc-base
          </example></p>

        </sect1>

        <sect1 id="upgrading_other"><heading>Обновление остальной системы</heading>

	  <p>Теперь можно приступить собственно
	  к обновлению. Выполните команду </p>
	  <p><example compact="compact">
# aptitude -f --with-recommends dist-upgrade
	  </example></p>

	  <p>Эта команда произведёт полное
   обновление системы, т.е. установку
   последних доступных версий всех пакетов
   и разрешение всех изменившихся между
   выпусками зависимостей. При
   необходимости она установит новые пакеты
   (обычно это новые версии библиотек или
   переименованные пакеты) и удалит все
   вызывающие конфликты устаревшие пакеты
   (такие как <package>console-tools-libs</package>).</p>

	  <p>При обновлении с набора
	  компакт-дисков система несколько раз
	  попросит вас вставить в привод
	  соответствующий диск. Возможно, вам
	  придётся вставлять один диск по
	  нескольку раз, это вызвано тем, что
	  взаимосвязанные пакеты могут
	  находится на разных дисках.</p>
   
	  <p>Новые версии уже установленных
   пакетов, которые нельзя обновить не меняя
   состояние других пакетов, не будут
   установлены (программа выведет
   сообщение, что пакет зафиксирован, "held
   back"). Разрешить ситуацию можно либо
   отметив такой пакет как подлежащий
   установке с помощью <prgn>aptitude</prgn>, либо
   выполнив команду <tt>aptitude -f install
   <var>пакет</var></tt>.</p>
            
	  <p>Параметр <tt>--fix-broken</tt> (или просто
	  <tt>-f</tt>) приведёт к тому, что
	  <package>apt</package> будет пытаться сразу
	  исправлять нарушенные зависимости.
	  Система <package>apt</package> не позволяет,
	  чтобы какие-либо зависимости в
	  системе были не удовлетворены.</p>

        </sect1>

        <sect1 id="trouble"><heading>Возможные проблемы во время обновления</heading>

	  <p>Если запуск <prgn>aptitude</prgn>, <prgn>apt-get</prgn>
	  или <prgn>dpkg</prgn> завершается с ошибкой <example compact="compact">
E: Dynamic MMap ran out of room</example>, то это значит, что размера кэша по умолчанию недостаточно. Проблему можно решить либо удалив ненужные записи в файле <file>/etc/apt/sources.list</file>, либо увеличив размер кэша. Увеличить размер кэша можно с помощью параметра <tt>APT::Cache-Limit</tt> в файле <file>/etc/apt/apt.conf</file>. Следующая команда увеличит кэш до размера, достаточного для обновления:<example compact="compact">
# echo 'APT::Cache-Limit "12500000";' >> /etc/apt/apt.conf</example> (если эта переменная раньше не была указана в файле).</p>

	  <p>Иногда необходимо активизировать
	  параметр APT::Force-LoopBreak, чтобы разрешить
	  временное удаление пакета первой
	  необходимости при возникновении
	  циклической зависимости типа
	  конфликт/требование предварительной
	  установки. Программа <prgn>aptitude</prgn>
	  сообщит об этом и прекратит
	  обновление. Чтобы решить эту
	  проблему, следует указать в командной
	  строке <prgn>aptitude</prgn> параметр <tt>-o
	  APT::Force-LoopBreak=1</tt>.</p>
<!-- JFS: Shouldn't this mention also Apt's configuration file? -->

	  <p>Возможна ситуация, когда структура
	  зависимостей системы будет настолько
	  нарушена, что потребуется ручное
	  вмешательство. Обычно это означает,
	  что нужно удалить "проблемные" пакеты
	  с помощью <prgn>aptitude</prgn> или командой <example compact="compact">
# dpkg --remove <var>имя_пакета</var>
          </example> или же запустить <example compact="compact">
# aptitude --fix-broken install
# dpkg --configure --pending
          </example></p>

	  <p>В чрезвычайных случаях вам может
	  потребоваться принудительная
	  переустановка пакета командой <example compact="compact">
# dpkg --install /путь/к/пакету/имя_пакета.deb
          </example></p>

	  <p>При обновлении с "чистого" &oldreleasename;
	  конфликтов файлов быть не должно, но
	  они вполне возможны, если у вас
	  установлены неофициальные адаптации
	  (backports). Конфликт файлов вызывает
	  ошибки вида <example compact="compact">
Unpacking replacement <var>&lt;package-foo&gt;</var> ...
dpkg: error processing <var>&lt;package-name-for-foo&gt;</var> (--unpack):
 trying to overwrite `<var>&lt;some-file-name&gt;</var>',
 which is also in package <var>&lt;package-bar&gt;</var>
          </example></p>

	  <p>Конфликт файлов можно попытаться
	  разрешить принудительным удалением
	  пакета, указанного в <em>последней</em>
	  строке сообщения об ошибке: <example compact="compact">
# dpkg -r --force-depends <var>packagename</var>
          </example></p>

	  <p>После исправления ошибок вы можете
	  продолжить обновление, повторив
	  ранее описанные команды <tt>aptitude</tt>.</p>

	  <p>Во время обновления система будет
	  задавать вам вопросы о настройке или
	  перенастройке некоторых пакетов.
	  Если вас спросят, нужно ли заменить
	  какой-то файл в каталоге <file>/etc/init.d</file>
	  или <file>/etc/terminfo</file> или файл
	  <file>/etc/manpath.config</file> версией,
	  предоставленной сопровождающим
	  пакета, обычно следует ответить`да',
	  поскольку иначе будет нарушена
	  целостность системы. Вы всегда
	  сможете вернуть старые настройки,
	  потому что файлы конфигурации будут
	  сохранены с расширением <tt>.dpkg-old</tt>.</p>

	  <p>Если вы не уверены в том, что нужно
	  делать, запишите имя пакета или файла
	  и разберитесь с проблемой позднее.
	  Информацию, выводившуюся на экран во
	  время обновления, вы сможете найти в
	  файле транскрипта.</p>

        </sect1>
        </sect>

        <sect id="nownownow"><heading>Перед перезагрузкой</heading>

	  <p>Когда команда <tt>aptitude dist-upgrade</tt>
	  закончила работу, формально
	  обновление завершено, но <em>перед</em>
	  перезагрузкой следует проделать ещё
	  несколько действий.</p>
          
	  <p>Прочтите подробную информацию об
   обновлении пакетов X Window System в файле
   <file>/usr/share/doc/xfree86-common/README.Debian-upgrade.gz</file>. Это
   относится к пользователям всех
   предыдущих выпусков. Вам обязательно
   надо его прочитать.</p>

        <sect1 id="newkernel"><heading>Обновление ядра</heading>
          
	  <p>Имейте в виду, что ядро Linux при
   вышеописанных процедурах <em>не
   обновляется</em>. Вы можете сделать это
   самостоятельно, либо установив один из
   пакетов <package>kernel-image-*</package>, либо
   скомпилировав ядро из исходного кода.</p>
 <!-- JFS: This is not strictly true, if the user was using a non-versioned
  kernel (kernel-image-2.4-686) he _will_ upgrade the kernel if using
  aptitude (post-sarge) -->

<![ %available-2.6 [

	 <p>&debian; поставляется с ядром &kernelversion;
  из серии 2.4, старой стабильной серии ядер.
  Возможно, вы захотите использовать ядро
  серии 2.6, лучше поддерживающее различные
  устройства и обладающее улучшенной
  производительностью.</p>

	 <p>Мы <strong>настоятельно</strong> не
	 рекомендуем вам менять ядро
	 одновременно с обновлением всей
	 системы &oldreleasename; на &releasename;. Некоторые
	 проблемы перехода на ядро 2.6 описаны в
	 разделе <ref id="upgrade-to-2.6">.</p>
]]>
         
	 <p>Чтобы обновить ядро, вы должны
	 выбрать ядро, подходящее для вашей
	 субархитектуры. Список доступных ядер
	 можно получить командой <example compact="compact">
# apt-cache search ^kernel-image
         </example></p>
         
	 <p>Затем ядро нужно установить с
	 помощью <tt>aptitude install</tt>. После
	 установки ядра следует перезагрузить
	 систему при первой возможности.</p>

	 <p>Следует заметить, что сиcтема
	 установки &oldreleasename; и более старых
	 выпусков <em>не устанавливала</em> ядро в
	 качестве пакета в вашу систему. В
	 &releasename; ситуация изменилась, теперь вы
	 можете устанавливать псевдопакеты
	 чтобы отслеживать смену ядер. Эти
	 пакеты будут иметь имена вида
	 kernel-image-<tt>ВЕРСИЯ</tt>-<tt>АРХИТЕКТУРА</tt>,
	 где <tt>ВЕРСИЯ</tt> - номер версии ядра (2.4
	 или 2.6), а  <tt>АРХИТЕКТУРА</tt> - любая из
	 поддерживаемых архитектур.</p>

	 <p>Если вы не боитесь трудностей, то
	 можете скомпилировать ядро
	 самостоятельно из исходного кода.
	 Установите пакет <package>kernel-package</package> и
	 прочитайте документацию в каталоге
	 <file>/usr/share/doc/kernel-package</file>.</p>
         
         </sect1>
         </sect>

         <sect id="obsolete"><heading>Устаревшие пакеты</heading>

<!-- JFS: Providing a full listing might be useful, especially if we can
point to the Bug that was opened when the bug was removed. This list should
be moved to an appendix, instead of adding it inline as we did in the
potato to woody RN -->

	 <p>Вместе с появлением девяти тысяч
	 новых пакетов, более двух тысяч
	 пакетов из состава &oldreleasename; с
	 появлением &releasename; устаревают.
	 Устаревшие пакеты не включены в
	 &releasename; и не больше будут обновляться.
	 Ничто не мешает вам продолжить
	 пользоваться этими пакетами, но
	 приблизительно через год <footnote><p>Или
	 при появлении нового выпуска Debian.
	 Обычно поддержку получают
	 одновременно не более двух стабильных
	 выпусков.</p></footnote> после выхода &releasename;
	 команда безопасности прекратит
	 выпускать для них исправления. Мы
	 рекомендуем перейти на использование
	 альтернативных пакетов, если есть
	 такая возможность.</p>

	 <p>Пакет может быть удалён из
	 дистрибутива по многим причинам:
	 разработка программы прекращена,
	 пакет не интересен никому из
	 разработчиков Debian, программа
	 вытеснена другой, более
	 функциональной программой или
	 версией программы. Возможно, пакет
	 содержит ошибки, из-за которых пока не
	 может быть включён в &releasename;, в
	 последнем случае пакет может быть 
	 доступен в нестабильном ("unstable")
	 дистрибутиве.</p>

	 <p>Определить, какие пакеты устарели,
	 очень легко, так как программы
	 управления помечают их как
	 "устаревшие". Если вы используете
	 <prgn>aptitude</prgn>, полный список этих
	 пакетов в разделе "Устаревшие и
	 локально созданные пакеты". В
	 программе <prgn>dselect</prgn> есть
	 аналогичный раздел, но список пакетов
	 в нём может несколько отличаться. Если
	 в &oldreleasename; вы использовали
	 <prgn>aptitude</prgn> для установки пакетов, то
	 <prgn>aptitude</prgn> помнит, какие именно
	 пакеты установили вы, и пометит как
	 устаревшие пакеты, которые были
	 установлены для удовлетворения
	 зависимостей и которые больше не
	 нужны, если пакет был удалён. В отличие
	 от <prgn>deborphan</prgn>, <prgn>aptitude</prgn> не считает
	 устаревшими пакеты, которые вы
	 установили вручную, а не
	 автоматически для удовлетворения
	 зависимостей.</p>

	 <p>Существуют и другие инструменты для
	 определения неиспользуемых пакетов, в
	 их число входят <prgn>deborphan</prgn>,
	 <prgn>debfoster</prgn> и <prgn>cruft</prgn>. Советуем
	 использовать <prgn>deborphan</prgn>, хотя по
	 умолчанию он ищет только ненужные
	 библиотеки (пакеты в секциях "libs" и
	 "oldlibs", от которых не зависит ни один
	 другой пакет). Не удаляйте подряд все
	 пакеты, найденные такими
	 инструментами (в особенности, если при
	 запуске вы указали опции, отличные от
	 опций по умолчанию), чтобы не удалить
	 что-нибудь нужное. Настоятельно
	 рекомендуем перед удалением
	 внимательно просмотреть список
	 предложенных пакетов (прочесть
	 описание, посмотреть входящие
	 файлы).</p>

<!-- JFS: Should we recommend purging old packages? This might be
dangerous since the maintainer scripts might try to remove stuff that
didn't belong to them... -->

	 <p>В <url id="&url-bts;" name="системе
	 отслеживания ошибок Debian"> зачастую
	 содержится дополнительная информация
	 о причинах удаления пакета.
	 Просмотрите архив сообщений об
	 ошибках для интересуещего вас пакета
	 а также архивированные ошибки для <url
	 id="&url-bts;/cgi-bin/pkgreport.cgi?pkg=ftp.debian.org&#38:archive=yes"
	 name="псевдо-пакета ftp.debian.org">.</p>

         <sect1 id="dummy"><heading>Пакеты-пустышки</heading>

<!-- JFS: If the appendix is kept this section should point there and the packages described here should be moved to that section -->

	 <p>Многие пакеты из &oldreleasename; в &releasename;
	 были поделены на несколько разных
	 пакетов, чаще всего чтобы облегчить
	 поддержку системы. Для простоты
	 обновления в состав &releasename; нередко
	 входит пакет-"пустышка" (пустой пакет с
	 именем старого пакета из &oldreleasename;).
	 Такой пакет при установке
	 устанавливает новые пакеты, от
	 которых зависит. Сразу же после
	 установки "пустышки" становятся
	 неиспользуемыми и их можно спокойно
	 удалять.</p>
         
	 <p>В описании большинства (но не всех)
	 пакетов-пустышек ясно указано их
	 предназначение. К сожалению, никаких
	 правил для описания пустышек нет,
	 поэтому для их обнаружения вам пожет
	 пригодиться <prgn>deborphan</prgn> с опцией
	 <tt>--guess</tt>. Некоторые пустышки удалять
	 после обновления не нужно, так как они
	 впоследствии используются для
	 определения установленной версии
	 программы.</p>

         </sect1>
         </sect>
      </chapt>

<!-- FJP: Add more info here on dealing with obsolete packages?
          Also how to purge packages that were deleted but still have conffiles
          (use "limit" command in aptitude and search for ~c) -->

        <chapt id="information">
        <heading>Что надо знать о &releasename;</heading>

<!-- Controversial, disabled for now, please translate though
        <sect id="german-quotes"><heading>Problems with German Quotes</heading>
        
	  <p>The locales for German style languages (e.g. de_DE@euro)
          unfortunately use an aesthetically unpleasing way of representing
          open quotation marks.  We have retained it this way in order to
          preserve compatibility with other Linux distributions, and we hope
          that in the future it will be fixed. We suggest that you switch to a
          UTF-8 locale (e.g. de_DE@euro.UTF-8), which fully supports German with
          the correct quotation marks, and, using Unicode encoding, has better
          support for other languages as well.</p>

	  <p>To change the system wide locale choice, use:
          <example>dpkg-reconfigure locales</example></p>
        </sect>
-->  
<!--   Will be added if relevant information is written here
        <sect id="syntax"><heading>Important program syntax changes</heading>

	  <p>Debian attempts to avoid changing upstream packages, therefore
          any changes in the upstream package will be present in the version in
          &debian;. This can mean that program behaviour may change between
          releases of &debian;. </p>

	  <p><em>No changes yet reported.</em></p>
        
        </sect>
-->

<sect id="pythonchanges"><heading>Изменения в пакетах Python</heading>

   <p>Ни один пакет python2.X из поставки &releasename;
   не содержит стандартных модулей "profile" и
   "pstats", так как их лицензия не соответсвует
   DFSG (ошибка #293932 содержит более подробное
   описание). Эти модули можно получить,
   установив пакеты python-profiler и python2.X-profiler из
   секции non-free архива Debian.</p>
</sect>

<![ %available-2.6 [
        <sect id="upgrade-to-2.6">
        <heading>Обновление ядра до версии 2.6</heading>

	  <p>Ядра серии 2.6 сильно отличаются от
	  ядер серии 2.4. Модули ядра были
	  переименованы, многие драйверы были
	  частично (а иногда и полностью)
	  переписаны. Поэтому к обновлению с
	  предыдущих ядер до 2.6 не следует
	  относиться легкомысленно. В этом
	  разделе вы узнаете о некоторых
	  проблемах, с которыми вы, возможно,
	  столкнётесь.</p>

	  <p>Для начала, мы настоятельно не
	  рекомендуем вам менять ядро
	  одновременно с обновлением всей
	  системы &oldreleasename; на &releasename;. Сначала
	  убедитесь, что система нормально
	  работает с вашим старым ядром (или с
	  ядром 2.4 из &releasename;), а затем отдельно
	  обновите ядро до 2.6.</p>

	  <p>Если вы планируете скомпилировать
	  собственное ядро, то перед загрузкой
	  ядра 2.6 убедитесь, что вы установили
	  пакет <package>module-init-tools</package>. Этот пакет
	  выполняет функции <package>modutils</package> для
	  ядер серии 2.6. При установке любого из
	  пакетов <package>kernel-image</package>
	  <package>module-init-tools</package> будет установлен
	  автоматически, так как
	  <package>kernel-image</package> от него зависят.</p>

	  <p>Если вы используете <em>LVM</em>, то до
	  перезагрузки вам также надо будет
	  установить пакет <package>lvm2</package>, так
	  как ядро 2.6 само по себе не
	  поддерживает LVM1. Для доступа к
	  разделам LVM1 применяется модуль
	  совместимости dm-mod из пакета
	  <package>lvm2</package>. Пакет <package>lvm10</package>
	  можно не удалять, сценарии первичной
	  загрузки определят версию
	  используемого ядра и загрузят
	  подходящую версию пакета LVM.</p>

	  <p>Если у вас есть записи в файле
	  <file>/etc/modules</file> (список модулей,
	  загружаемых при старте системы),
	  обратите внимание на то, что имена
	  некоторых модулей изменились. В этом
	  случае файл надо соответствующим
	  образом исправить.</p>

<![ %i386 [
	  <p>Для некоторых контроллеров
	  SATA-дисков имена устройств могут
	  измениться с <file>/dev/hdX</file> на
	  <file>/dev/sdX</file>. Если это случится,
	  придётся внести соответствующие
	  изменения в файл <file>/etc/fstab</file> и
	  конфигурацию загрузчика ОС. При
	  неверной настройке компьютер может
	  перестать загружаться.</p>
]]>

	  <p>После установки ядра 2.6, но перед его
	  первой загрузкой убедитесь, что вы в
	  случае неудачи сможете восстановить
	  старое ядро. Во-первых, проверьте, что
	  в настройках системного загрузчика
	  есть пункты и для нового, и для
	  старого ядра. Приготовьте
	  "спасательную" дискету или
	  компакт-диск на тот случай, если вдруг
	  не удастся загрузить старое ядро при
	  помощи загрузчика.</p>

<![ %not-s390 [
        <sect1 id="2.6-keyboard">
        <heading>Настройка клавиатуры</heading>

	  <p>Одно из самых значительных
	  изменений в серии ядер 2.6 это коренная
	  переработка интерфейсов устройств
	  ввода. Теперь для ядра все клавиатуры
	  выглядят как стандартная клавиатура
	  PC. Другими словами, если у вас
	  клавитура другого типа (например, USB-MAC
	  или производства Sun), то после
	  загрузки ядра 2.6 она, скорее всего,
	  откажется работать.</p>
          
	  <p>Если у вас есть возможность зайти на
	  ваш компьютер по SSH, вы сможете
	  исправить ситуацию, запустив
	  <tt>dpkg-reconfigure console-data</tt> и выбрав
	  клавиатуру "pc" из полного списка
	  клавиатур.</p>
          
	  <p>Если эта проблема проявляется при
	  работе в консоли, то, скорее всего,
	  придётся изменить настройки
	  клавиатуры и для X Window System. Это можно
	  сделать либо запуском <tt>dpkg-reconfigure
	  xserver-xfree86</tt>, либо непосредственно
	  исправив файл <file>/etc/X11/XF86Config-4</file>
	  вручную. Не забудьте прочесть
	  документацию, о которой упомянуто в
	  <ref id="nownownow">.</p>

<![ %i386 [
	  <p>На архитектуре &arch-title; появление
	  этой проблемы маловероятно, так как
	  все клавиатуры PS/2 и большая часть
	  клавиатур USB и раньше опознавались
	  как "стандартная клавиатура PC".</p>
]]>
<![ %not-i386 [
	  <p>Если ваша клавиатура подключена по
	  USB, то она может быть настроена либо
	  как "стандартная PC", либо как
	  "клавиатура USB-MAC". В первом случае
	  проблема вас не затронет.</p>
]]>
        </sect1>

        <sect1 id="2.6-mouse">
        <heading>Настройка мыши</heading>

	  <p>Из-за тех же изменений в работе
	  устройств ввода, возможно, придётся
	  перенастроить X Window System и пакет
	  <package>gpm</package>. Если после перехода на
	  ядро серии 2.6 ваша мышь перестала
	  работать, то это, скорее всего, потому,
	  что имя файла-устройсва мыши
	  изменилось. Если поддержка мыши была
	  реализована в виде модуля - то имя
	  этого модуля тоже могло измениться.</p>

<![ %sparc [
	  <p>Если сейчас ваша X Window System настроена
	  на использование <file>/dev/sunmouse</file>, то
	  после установки нового ядра имя
	  файла-устройства надо будет изменить
	  на <file>/dev/psaux</file>.</p>
]]>

        </sect1>

        <sect1 id="2.6-sound">
        <heading>Настройка звука</heading>

	  <p>В ядрах серии 2.6 драйверы звуковых
	  устройств ALSA предпочтительнее
	  драйверов OSS. Если вы установили пакет
	  <package>alsa-base</package>, модули ALSA для вашей
	  звуковой карты должны загрузиться
	  автоматически; это также отключит
	  автоматическую загрузку OSS модулей в
	  пакетах <package>discover</package> и
	  <package>hotplug</package>. Если в файл
	  <file>/etc/modules</file> у вас включены модули
	  OSS, то нужно их удалить.</p>

        </sect1>
]]> <!-- %not-s390 -->

        <sect1 id="2.6-udev">
        <heading>Переход на 2.6 может привести в действие udev</heading>

	<p><package>udev</package> -- это набор программ,
	реализующих файловую систему devfs на
	уровне приложений. devfs, будучи
	смонтирована в каталог <file>/dev</file>,
	динамически создаёт файлы устройств
	для загруженных модулей ядра. Она
	также динамически добавляет и удаляет
	устройства при загрузке и выгрузке
	модулей, работая вместе с пакетом
	<package>hotplug</package>, который автоматически
	определяет подключаемые к системе
	устройства. Пакет <package>udev</package>
	работает только с ядрами серии 2.6.</p>

	<p>Так как <package>udev</package> может быть
	автоматически установлен (к примеру,
	он необходим для установки
	<package>gnome</package>), то есть вероятность, что
	после перехода на ядро 2.6 он может
	начать работать.</p>

	<p>Хотя <package>udev</package> и был хорошо
	оттестирован, у вас могут возникнуть
	вопросы, связанные работой некоторых
	устройств. Чаще всего ошибки вызваны
	изменением владельца или разрешений
	файла-устройства. Некоторые
	устройства по умолчанию не могут быть
	созданы (например, <file>/dev/video</file> и
	<file>/dev/radio</file>).</p>

	<p>Все эти проблемы можно решить
	настройкой <package>udev</package>. Более
	подробная информация - в <manref section="8"
	name="udev"> и <file>/etc/udev</file>.</p>

        </sect1>
        </sect>
]]> <!-- %available-2.6 -->

<![ %i386 [
        <sect id="x-mouse">
        <heading>X Window System не может запуститься</heading>

	  <p>Если после загрузки машины X Window System
	  не может запуститься и при этом в
	  файле журнала <file>/var/log/XFree86.0.log</file>
	  есть сообщения вида "missing core pointer",
	  проблема, возможно, вызвана тем, что
	  <prgn>hotplug</prgn> не успевает загрузить
	  драйвер мыши (ошибка <url
	  id="http://bugs.debian.org/255744" name="#255744">). Для
	  исправления ошибки добавьте драйвер
	  мыши (например, psmouse) в файл
	  <file>/etc/modules</file>.</p>

        </sect>

        <sect id="x-transmeta">
        <heading>X Window System на компьютерах с процессором Transmeta Crusoe</heading>

	  <p>X-cервер из выпуска &releasename; содержит
	  оптимизированный код, который
	  неверно работает на многих
	  процессорах Transmeta(TM) Crusoe(TM). Когда в
	  кэше процессора инструкции VLIW,
	  оттранслированные из набора команд x86
	  оказываются в ошибочном состоянии,
	  X-клиенты завершают работу со
	  следующим сообщением об ошибке: <example compact="compact">
X Error of failed request:  BadLength
   (poly request too large or internal Xlib length error)
Major opcode of failed request:  18 (X_ChangeProperty)
Serial number of failed request:  15
Current serial number in output stream:  18</example></p>

	  <p>Выглядит это так: после нескольких
	  часов работы приложения неожиданно
	  одно за другим закрываются, если был
	  запущён менеджер окон - он тоже будет
	  закрыт и начнёт постоянно
	  перезапускаться. Так будет
	  продолжаться, пока содержащий ошибку
	  код Transmeta VLIW находится в кэше
	  процессора.</p>

	  <p>Так как ошибка содержится в
	  закрытой системе трансляции кода
	  Transmeta Code Morphing Software (CMS), а BIOS компьютера
	  проверяет цифровую подпись
	  производителя CMS при загрузке,
	  неполадка может быть исправлена
	  только при поддержке Transmeta и
	  производителя компьютера. Более
	  подробная информация об этой
	  проблеме может быть найдена по адресу
	  <url id="http://www.cs.auc.dk/~fleury/bug_cms/"> или в
	  отчёте об ошибке Debian <url
	  id="http://bugs.debian.org/216933" name="#216933">.</p>

	  <p>В качестве временного решения можно
	  установить X-сервер, скомпилированный
	  без оптимизации (например, из пакета
	  <package>xserver-xfree86-dbg</package>).</p>

        </sect>
]]>
      </chapt>

      <chapt id="moreinfo">

        <heading>Более подробная информация о &debian;</heading>

        <sect id="morereading"> <heading>Что ещё можно прочитать</heading>
	<p>Помимо этой информации о выпуске и
	руководства по установке, существует
	документация по &debian;, разрабатываемая
	проектом Debian Documentaton Project (DDP), целью
	которого является создание
	высококачественной документации для
	пользователей и разработчиков Debian. В
	состав этой документации входят
	Руководство по Debian, Руководство нового
	сопровождающего Debian, FAQ по Debian и многое
	другое. Полную информацию о доступных
	документах можно получить на <url
	id="&url-ddp;" name=" веб-сайте DDP">.</p>
 
	<p>Документация по конкретным пакетам
	устанавливается в каталог
	<file>/usr/share/doc/<var>пакет</var></file>. Там может
	находиться информация об авторских
	правах, специфичная для Debian информация
	и документация от авторов исходной
	программы.</p>
 
      </sect> 
      
      <sect id="gethelp"> 
        <heading>Если нужна помощь</heading>
      
	<p>Пользователи Debian могут
	воспользоваться помощью, советами и
	поддержкой из нескольких источников,
	но к ним следует прибегать только не
	удалось найти ответа на вопрос в
	документации. Этот раздел содержит
	краткое описание дополнительных
	источников помощи для новых
	пользователей.</p>
        
      <sect1 id="lists">
        <heading>Списки рассылки</heading>
	<p>Основной интерес для пользователей
	Debian представляют англоязычный список
	рассылки debian-user и списки
	debian-user-<var>язык</var> или debian-<var>язык</var>
	для других языков. Для русского языка
	это список debian-russian. Информацию о
	списках рассылки и о том, как на них
	подписаться см. по адресу <url
	id="&url-debian-list-archives;">. Пожалуйста, перед
	тем, как отправить вопрос в список
	рассылки, поищите ответ на него в
	архивах. Просим также придерживаться
	общепринятых норм почтового
	этикета.</p>
      </sect1>

      <sect1 id="irc">
        <heading>IRC</heading>
        
	<p>У Debian есть IRC-канал, предназначенный
	для поддержки пользователей Debian. Он
	расположен в сети IRC Freenode,
	предоставляющей интерактивные
	сервисы сообществам по интересам.
	Чтобы войти на канал, соединитесь с
	сервером &debian-irc-server; с помощью своего
	любимого IRC-клиента и присоединитесь к
	каналу #debian. Для русскоязычных
	пользователей существует также канал
	#debian-russian в той же сети.</p>
        
	<p>Просим вас следовать правилам
	поведения на канале и уважать других
	пользователей. Более подробную
	информацию о сети Freenode можно получить
	на <url id="&url-irc-host;" name="её веб-сайте">.</p>

      </sect1>
      </sect> 

      <sect id="bugs">
        <heading>Как сообщить об ошибке</heading>
        
	<p>Мы приложили немало усилий, чтобы
	сделать Debian GNU/Linux операционной
	системой высокого качества, однако это
	не означает, что поставляемые нами
	пакеты не содержат абсолютно никаких
	ошибок. Мы предоставляем нашим
	пользователям полную информацию обо
	всех обнаруженных ошибках в нашей
	Системе отслеживания ошибок (Bug Tracking
	System, BTS), расположенной по адресу <url
	id="&url-bts;" name="bugs.debian.org">. Такой подход
	согласуется с концепцией открытой
	разработки Debian.</p>

	<p>Если вы обнаружите ошибку в
	дистрибутиве или каком-то из его
	пакетов, пожалуйста, сообщите о ней,
	чтобы в следующем выпуске она была
	исправлена. Чтобы сообщить об ошибке,
	требуется работающий адрес
	электронной почты. Это необходимо для
	того, чтобы мы могли отслеживать
	ошибки, а разработчики - связываться с
	отправителями отчётов об ошибках, если
	им понадобится дополнительная
	информация.</p>

	<p>Отправить сообщение об ошибке можно
	с помощью программы <package>reportbug</package>
	или вручную по электронной почте.
	Более подробную информацию о Системе
	отслеживания ошибок и о том, как её
	использовать, можно найти в каталоге
	<file>/usr/share/doc/debian</file> после установки
	пакета <package>doc-debian</package> или на сайте <url
	id="&url-bts;" name="Системы отслеживания
	ошибок">.</p>

      </sect>

      <sect id="contributing">
        <heading>Как помочь Debian</heading>
        
	<p>Чтобы помочь Debian, не нужно быть
	большим специалистом. Помогая
	пользователям в решении их проблем в
	<url id="&url-debian-list-archives;" name="списках
	рассылки"> вы уже помогаете сообществу.
	Выявление (или, что ещё лучше, решение)
	проблем, связанных с разработкой
	дистрибутива, участие в работе <url
	id="&url-debian-list-archives;" name="списков для
	разработчиков">, также очень важно.
	Чтобы помочь поддерживать высокое
	качество Debian, <url id="&url-bts;"
	name="отправляйте сообщения об ошибках">
	и помогайте разработчикам отслеживать
	и исправлять их. Если вы хорошо
	владеете языком, вы можете помочь в
	написании <url id="&url-ddp;" name="документации">
	или <url id="&url-debian-i18n;" name="переводе">
	существующей документации на родной
	язык.</p>

	<p>Если вы можете уделить Debian больше
	времени, можно взяться за
	сопровождение какой-нибудь свободной
	программы в Debian. В частности, полезной
	была бы поддержка пакетов, которые
	кто-то особенно хотел бы видеть в Debian.
	Подробную информацию можно найти на
	странице <url id="&url-wnpp;" name="требующих
	доработки и планируемых пакетов">. Если
	вам интересна какая-то специфическая
	группа пользователей, возможно, вы
	захотите участвовать в одном из
	дочерних проектов Debian. Среди них
	портирование Debian на другие
	архитектуры, проекты <url id="&url-debian-jr;"
	name="Debian для детей"> и <url id="&url-debian-med;"
	name="Debian в медицине">.</p>

	<p>В любом случае, если вы участвуете в
	работе сообщества Свободного ПО в
	качестве пользователя, программиста,
	писателя или переводчика, вы уже
	помогаете Свободному программному
	обеспечению. Такое участие приносит
	удовольствие и радость, даёт
	возможность познакомиться с новыми
	людьми.</p>
</sect>
    </chapt>


<![ %upgradekernel [

    <appendix id="kernel-upgrade-howto"><heading>Обновление ядра</heading>

<![ %not-mips-mipsel [
<![ %sparc [
	  <p><strong>Информация этого раздела важна
	  только в тех случаях, когда для
	  успешного обновления системы вам
	  необходимо обновить ядро <em>перед</em>
	  обновлением системы. Чтобы узнать,
	  нужно ли это в вашем случае - прочтите
	  <ref id="new-kernel"></strong>.</p>
]]>
	  <p>Данная инструкция шаг за шагом
	  объясняет методы применения
	  адаптированных к стабильной среде
	  инструментов для установки новых
	  версий ядра.</p>

	  <p>Так как может понадобиться
	  установка пакетов из &oldreleasename;, первым
	  делом надо убедиться, что записи в
	  <file>sources.list</file> по прежнему ссылаются
	  на &oldreleasename;. Подробнее об этов - в
	  разделе <ref id="old-sources">.</p>
]]> <!-- %not-mips-mipsel -->

<![ %mips-mipsel [
	  <p>Подробная инструкция по установке
	  обновлённого ядра:</p>
]]>

	  <p>
<taglist compact="compact">
  <tag>Скачайте и установите все необходимые пакеты</tag>
<![ %mips-mipsel [
  <item><p><em>При помощи APT</em>: исправьте
  источники пакетов в файле <file>sources.list</file>
  на источники &releasename; как описано в <ref
  id="upgrade-process">, если вы этого ещё не сделали.
  Обновите список пакетов и установите
  пакет из серии kernel-image подходящий к вашему
  компьютеру. Список таких пакетов приведён
  ниже, его также можно вызвать командой <example compact="compact">
$ apt-cache search ^kernel-image
	 </example></p>
	 
	 <p>Во время установки пакета может появиться сообщение о
	 несовпадении модулей ядра и будет запрошено подтверждение
	 продолжения установки.  Ответьте <tt>YES</tt>, поскольку все
	 несоответствия будут разрешены после перезагрузки с новым
	 ядром.</p><p><em>При помощи dpkg</em>: скачайте пакет с текущей
	 версией ядра из &releasename; с любого зеркала Debian. Доступны
	 следующие пакеты: <list compact="compact">
<![ %mips [ 
  <item><p><url id="&mips-kernel-patch;/&mips-kernel-image-r4k;"
	name="&mips-kernel-image-r4k;"> для процессоров R4XX0 и
	субархитектуры SGI IP22 (например, Indy и
	Indigo2).</p></item>
  <item><p><url id="&mips-kernel-patch;/&mips-kernel-image-r5k;"
	name="&mips-kernel-image-r5k;"> для процессоров R5000 и
	субархитектуры SGI IP22 (например, Indy и
	Indigo2).</p></item>
  <item><p> <url id="&mips-kernel-patch;/&mips-kernel-image-swarm;"
	name="&mips-kernel-image-swarm;">для Broadcom BCM91250A
	(известен как SWARM) pass 2.2.</p></item>
]]> 
<![ %mipsel [ 
  <item><p><url id="&mips-kernel-patch;/&mipsel-kernel-image-r3k;"
	name="&mipsel-kernel-image-r3k;"> для DECstation на базе R3000
	с материнской платой KN02 (или
	совместимой), например, DECstation серий
	5000/1xx, где xx=20,25,33 и DECstation 5000/240.</p></item>
  <item><p><url id="&mips-kernel-patch;/&mipsel-kernel-image-r4k;"
	name="&mipsel-kernel-image-r4k;"> для DECstation на базе R4X00
	с материнской платой KN04 (или
	совместимой), таких как DECstation 5000/150,
	Personal DECstation 5000/50 и DECstation 5000/260.</p></item>
  <item><p><url id="&mips-kernel-patch;/&mipsel-kernel-image-r5k-cobalt;"
	name="&mipsel-kernel-image-r5k-cobalt;"> для компьютеров
	Cobalt на базе MIPS (таких как Qube, RaQ, Qube2 и
	RaQ2).</p></item>
  <item><p><url id="&mips-kernel-patch;/&mipsel-kernel-image-r5k-lasat;"
	name="&mipsel-kernel-image-r5k-lasat;">для процессоров
	R5000 на Lasat Masquerade Pro.</p></item>
  <item><p> <url id="&mips-kernel-patch;/&mipsel-kernel-image-swarm;"
	name="&mipsel-kernel-image-swarm;">для Broadcom BCM91250A
	(известен как SWARM) pass 2.2.</p></item>
  <item><p> для <url id="&mips-kernel-patch;/&mipsel-kernel-image-xxs1500;"
	name="&mipsel-kernel-image-xxs1500;">платы XXS1500 на базе
	Au1500.</p></item>
]]>
	</list></p>
	
<p>Затем установите
	пакет с помощью <tt>dpkg -i</tt>. Возможно, при
	установке вы увидите сообщение о
	несовпадении модулей (с пакетом
	<package>modutils</package>). На вопрос о
	продолжении установки ответьте
	<tt>YES</tt>(да), несовпадение модулей будет
	разрешено при первой загрузке нового
	ядра.</p></item>
]]>
<![ %not-mips-mipsel [
  <item><p><em>С помощью apt</em>: Чтобы установить
  пакеты при помощи <prgn>apt</prgn> или одной из её
  оболочек, добавьте следующую строку в
  файл <file>/etc/apt/sources.list</file>: <example compact="compact">
deb &url-kernel-upgrade;
# Если вам нужен исходный код, то он также доступен
# deb-src &url-kernel-upgrade;</example></p>

<![ %sparc [
<p>Затем установите
пакеты <package>modutils</package> и <package>initrd-tools</package>.
]]>
<![ %hppa [
<p>Затем установите пакеты
<package>module-init-tools</package>, <package>modutils</package>,
<package>palo</package> и <package>initrd-tools</package>: <example compact="compact">
# apt-get install module-init-tools palo initrd-tools modutils</example>
]]>

(Дополнительную запись потом можно будет убрать.)</p><p>После этого
измените в файле <file>sources.list</file> строки дистрибутива на
&releasename;, как описано в <ref id="upgrade-process">, обновите список
пакетов и установите пакет
<package>&upgrade-kernel-image-name;</package>.</p><p><em>С помощью
dpkg</em>: для установки пакетов напрямую с помощью <prgn>dpkg</prgn>,
вам понадобится вручную скачать необходимые файлы.</p>

<p><list
compact="compact">
  <item><url id="&upgrade-kernel-image;"></item>
  <item><url id="&upgrade-kernel-modutils;"></item>
<![ %hppa [ <item><url id="&hppa-modutils;"></item>]]>
  <item><url id="&all-initrd-tools;"></item>
  <item><url
	id="&upgrade-kernel-cramfsprogs;"></p></item></list></p>

<p>Пакет
	ядра зависит от пакета
	<package>&upgrade-kernel-modutils-name;</package>
<![ %hppa [ (which conflicts with the old <package>modutils</package>)]]>, пакет
	<package>initrd-tools</package> зависит от
	<package>cramfsprogs</package>.Остальные
	зависимости (<package>stat</package>,
	<package>cpio</package> и <package>ash</package>) могут быть
	разрешены обычным способом с помощью
	пакетов из &oldreleasename;.</p>
	
<![ %hppa [ 
	<p>Если вы
	используете <em>LVM</em>, перед
	перезагрузкой придётся также
	установить пакет <package>lvm2</package>,так как
	ядро 2.6 само по себе не поддерживает LVM1.
	Для доступа к разделам LVM1 применяется
	модуль совместимости dm-mod из пакета
	<package>lvm2</package>. Пакет <package>lvm10</package> можно
	не удалять, сценарии первичной
	загрузки определят версию
	используемого ядра и загрузят
	подходящую версию пакета LVM.</p>
]]>
</item>
]]>
  <tag>Не удаляйте пока старое ядро</tag>
  <item><p>Сначала проверьте, что новое ядро
	загружается и поддерживает всё
	аппаратное обеспечение, которое вам
	понадобится для обновления (например,
	сетевые карты).</p></item><![ %not-mips-mipsel [ 
  <tag>Установите системный загрузчик</tag>
  <item><p>Возможно, вам придётся исправить
	настройки системного загрузчика в
	файле <file>&bootloader-conf;</file>. Обратите
	внимание, теперь при загрузке ядра
	используется initrd (в &oldreleasename; initrd не
	использовался).</p></item>]]> 
  <tag>Перезагрузитесь с новым ядром</tag>
  <tag>Проверьте, что система работает</tag>
  <item><p>В первую очередь обратите внимание
	на устройства ввода (клавиатуру),
	вывода на консоль, устройства, которые
	понадобятся вам при установке &releasename;
	для получения пакетов (сетевые карты,
	устройства CD/DVD-ROM) и т.д. Некоторые
	модули устройств теперь называются
	по-другому, некоторые драйвера
	содержались в ядре, теперь
	поставляются как модули, ...</p></item>
</taglist></p>

    </appendix>
]]>

    <appendix id="old-stuff">
    <heading>Управление системой &oldreleasename;</heading>

       <p>В этом приложении содержится
       информация о том, как установить или
       обновить пакеты &oldreleasename; перед
       обновлением до &releasename;. В некоторых
       случаях это может понадобиться.</p>

       <sect id="old-upgrade">
       <heading>Обновление системы &oldreleasename;</heading>

	  <p>В основном это обновление ничем не
	  отличается от всех предыдущих
	  обновлений &oldreleasename;, которые вы
	  делали. Единственное отличие состоит
	  в том, что сначало надо убедиться, что
	  ваши списки пакетов всё ещё содержат
	  пакеты &oldreleasename;, как описано в
	  разделе <ref id="old-sources">.</p>

       </sect>

<![ %has-woody-aptitude [
       <sect id="old-aptitude">
       <heading>Установка aptitude для &oldreleasename;</heading>

	  <p>Сначала убедитесь, что вы
	  устанавливаете версию <package>aptitude</package>
	  из &oldreleasename;, а не из &releasename;. Следуйте
	  инструкциям раздела <ref id="old-sources">.</p>

	  <p>Затем выполните команду<example compact="compact">
         apt-get install aptitude
         </example>, чтобы установить пакет <package>aptitude</package>.</p>

       </sect>
]]>

       <sect id="old-sources">
       <heading>Проверка списка источников APT</heading>

	  <p>Если одна или несколько записей в
	  вашем <file>/etc/apt/sources.list</file> ссылаются на
	  стабильный дистрибутив ('stable'), то вы
	  уже "используете" &releasename;. Если вы уже
	  запустили <tt>apt-get update</tt>, то ещё не
	  поздно всё отменить, просто выполнив
	  инструкцию, приведённую ниже.</p>
           
	  <p>Если вы успели установить пакеты из
	  &releasename;, то особого смысла в установке
	  пакетов из &oldreleasename; уже нет. В этом
	  случае вам следует решить - довести до
	  конца обновление или нет. Вернуться к
	  использованию старых версий пакетов
	  возможно, но эта процедура выходит за
	  рамки данного документа.</p>
          
	  <p>Откройте файл <file>/etc/apt/sources.list</file> с
	  помощью любого текстового редактора
	  (потребуются привилегии
	  суперпользователя). Во всех строках,
	  начинающихся с <tt>deb http:</tt> или с <tt>deb
	  ftp:</tt> замените "<tt>stable</tt>" на
	  "<tt>&oldreleasename;</tt>".</p>
          
	  <p>Если вы нашли строки, начинающиеся с
	  <tt>deb file:</tt>, то вам придётся самим
	  проверить, какие пакеты хранятся в
	  указанном каталоге - из &oldreleasename; или
	  из &releasename;.</p>

	  <p><strong>Внимание!</strong> Не исправляйте
	  строки, начинающиеся с <tt>deb cdrom:</tt>!.
	  Если вы исправите такую строку, то вам
	  придётся снова запускать
	  <prgn>apt-cdrom</prgn>. Не беспокойтесь, если
	  источник "cdrom" ссылается на
	  нестабильный ("<tt>unstable</tt>")
	  дистрибутив. Как это ни странно, так и
	  должно быть.</p>
          
	  <p>Если вы внесли какие-нибудь
	  изменения, сохраните файл и выполните
	  команду <example compact="compact">
# apt-get update
          </example>, чтобы обновить списки пакетов.</p>

       </sect>

    </appendix>

  </book>
</debiandoc>

<!-- Keep this comment at the end of the file
Local Variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-namecase-general:t
sgml-general-insert-case:lower
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:2
sgml-indent-data:nil
sgml-declaration:nil
sgml-parent-document:nil
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
fill-column: 75
End:
-->
