<!DOCTYPE debiandoc PUBLIC "-//DebianDoc//DTD DebianDoc//EN" [

  <!ENTITY % dynamicdata SYSTEM "../dynamic.ent"> %dynamicdata;
  <!ENTITY % shareddata SYSTEM "../release-notes.ent"> %shareddata;
  <!ENTITY docid "$Id: release-notes.ru.sgml,v 1.6 2007-03-17 20:40:15 jseidel Exp $">
]>
<debiandoc>

<!-- original version: 1.120 -->

<!--
    Project-Id-Version: ../en/release-notes.en.sgml CVS-1.120
    PO-Revision-Date: 2007-03-17 09:47+0300
    Last-Translator: Yuri Kozlov <kozlov.y@gmail.com>
    Language-Team: Russian <debian-l10n-russian@lists.debian.org>
    MIME-Version: 1.0
    Content-Type: text/plain; charset=KOI8-R
    Content-Transfer-Encoding: 8bit
-->
 <book>
  <titlepag>
   <title>
     Информация о выпуске &debian; &release; ("&releasename;") для 
     архитектуры &arch-title;
   </title>
   <author>
     <name>Josip Rodin, Bob Hilliard, Adam Di Carlo, Anne Bezemer, Rob 
     Bradford (текущее издание), Frans Pop (текущее издание) Andreas Barth 
     (текущее издание)</name><email></email>
   </author>
   <author>
     <name></name><email>debian-doc@lists.debian.org</email>
   </author>
   <version>
     &docid;

   </version>
  </titlepag>
  <toc detail="sect1">
 
 <chapt id="about">
  <heading>
    Введение
  </heading>
  <p>
    Основной целью информации о выпуске является информирование 
    пользователей об основных изменениях в этом выпуске дистрибутива Debian, 
    о том, как безопасно обновиться с предыдущей версии и, наконец, сообщить 
    пользователям об известных потенциальных проблемах, с которыми они могут 
    столкнуться при обновлении или использовании выпуска.
  </p>
  <p>
    Заметим, что здесь невозможно перечислить все известные проблемы и 
    поэтому были выбраны только те, которые, как ожидается, могут возникнуть 
    у большинства, и которые оказывают наибольшее влияние в целом.
  </p>
  <p>
    С последней версией этого документа всегда можно ознакомиться по адресу 
    <url id="&url-release-notes;">. Если ваша версия выпущена больше месяца 
    назад, стоит загрузить более новую.
  </p>
  <p>
    Обратите внимание, что теперь поддерживается и описывается только 
    обновление с предыдущего выпуска Debian. (то есть этот документ 
    описывает обновление с &oldreleasename;). Если вам требуется обновить 
    систему с более старого выпуска, обратитесь к ранним редакциям этого 
    документа.
  </p>
 </chapt>
 <chapt id="whats-new">
  <heading>
    Что нового в &debian; &release;
  </heading>
  <p>
    В этот выпуск добавлена официальная поддержка архитектуры AMD64, в 
    которую входят 64-битные процессоры Intel (EM64T) и AMD (AMD64). Для 
    предыдущего выпуска &debian; 3.1 ('sarge') была доступна неофициальная 
    версия переноса. Обновление с неофициальной версии возможно с помощью 
    этой информации о выпуске, но официально оно не поддерживается.
  </p>
  <p>
    Официальная поддержка архитектуры Motorola 680x0 ('m68k') прекращена, 
    так как перестала удовлетворять критериям, установленным менеджерами 
    выпуска Debian. Наиболее значимыми причинами являются производительность 
    и ограниченная поддержка со стороны разработчиков компонент, необходимых 
    для пересборки (toolchain). Однако, перенос m68k предполагается оставить 
    активным и он будет доступен для установки, даже если не войдёт в состав 
    официального стабильного выпуска.
  </p>
  <p>
    Cписок официально поддерживаемых архитектур для &debian; &releasename;:
  </p>
  <p>
   <list>
    <item>
     <p>
       Intel x86 ('i386')
     </p>
    </item>
    <item>
     <p>
       Alpha ('alpha')
     </p>
    </item>
    <item>
     <p>
       SPARC ('sparc')
     </p>
    </item>
    <item>
     <p>
       PowerPC ('powerpc')
     </p>
    </item>
    <item>
     <p>
       ARM ('arm')
     </p>
    </item>
    <item>
     <p>
       MIPS ('mips' (Big endian) и 'mipsel' (Little endian))
     </p>
    </item>
    <item>
     <p>
       Intel Itanium ('ia64')
     </p>
    </item>
    <item>
     <p>
       HP PA-RISC ('hppa')
     </p>
    </item>
    <item>
     <p>
       S/390 ('s390')
     </p>
    </item>
    <item>
     <p>
       AMD64 ('amd64')
     </p>
    </item>
   </list>
  </p>
  <p>
    Более подробную информацию о переносе на различные архитектуры и 
    сведения, относящиеся к конкретным переносам, вы можете получить на <url 
    id="&url-ports;" name="странице переносов Debian">.
  </p>
   <![ %secondrelease [

  <p>
    Это лишь второй официальный выпуск &debian; для архитектуры 
    &arch-title;. Мы считаем, что он проверен в достаточной мере, чтобы быть 
    выпущен. Однако, поскольку тестировался он всё же меньше, чем другие 
    выпуски на других архитектурах, вы можете обнаружить в нём 
    ошибки. Пожалуйста, сообщайте нам о любых проблемах через <url 
    id="&url-bts;" name="Систему отслеживания ошибок">, обязательно отметив 
    при этом, что ошибка наблюдается на платформе &architecture;.
  </p>
   ]]>

  <p>
    В дистрибутив &debian; &release; для архитектуры &arch-title; включено 
    ядро версии &kernelversion;.
  </p>
  <sect id="newdistro">
   <heading>
     Что нового в дистрибутиве?
   </heading>
   <p>
     TODO: Обновить номера
   </p>
   <p>
     Новый выпуск Debian опять содержит намного больше программ, чем 
     предшественник, &oldreleasename;; дистрибутив включает в себя более 
     9000 новых пакетов. Большая часть программ входящих в дистрибутив была 
     обновлена: почти 6500 пакетов (что составляет 73% дистрибутива 
     &oldreleasename;). Также, по различным причинам многие пакеты были 
     удалены из дистрибутива. Эти пакеты не будут обновлены, в программах 
     управления пакетами они будут помечены как "устаревшие" (obsolete).
   </p>
   <p>
     В этом выпуске &debian; был осуществлён переход с XFree86 на XOrg 7.1, 
     который обеспечивает поддержку более широкого спектра аппаратного 
     обеспечения и лучшее автоопределение устройств. Теперь можно 
     использовать Compiz, один из первых compositing window managers для X 
     Window System, что позволит воспользоваться преимуществами аппаратного 
     OpenGL-ускорения в поддерживающих его устройствах.
   </p>
   <p>
     Кроме этого, в &debian; вошли современные версии пользовательских 
     приложений. Среди них стоит выделить GNOME 2.14, KDE 3.5 и 
     OpenOffice.org 2.0.
   </p>
   <p>
     Рекомендуемой программой управления пакетами из консоли является 
     <prgn>aptitude</prgn>. <prgn>aptitude</prgn> поддерживает большую часть 
     операций командной строки <prgn>apt-get</prgn> и гораздо лучше 
     разрешает зависимости. Если вы всё ещё пользуетесь 
     <prgn>dselect</prgn>, то вам нужно перейти на официальный интерфейс 
     управления пакетами <prgn>aptitude</prgn>.
   </p>
   <p>
     Официальный дистрибутив &debian; теперь занимает от тринадцати до 
     пятнадцати компакт-дисков (в зависимости от архитектуры) с собранными 
     пакетами, приблизительно столько же дисков занимают пакеты с исходными 
     кодами. Также доступна версия дистрибутива на DVD.
   </p>
   <sect1 id="volatile">
    <heading>
      debian-volatile теперь предоставляется официально
    </heading>
    <p>
      Неофициальный сервис <em>debian-volatile</em>, появившийся в выпуске 
      &oldreleasename, теперь стал официальным сервисом &debian;.
    </p>
    <p>
      Это означает, что он больше не имеет адреса <tt>.debian.net</tt>, 
      вместо него используется <tt>.debian.org</tt>. Если вы уже используете 
      этот сервис, измените настройку в файле 
      <file>/etc/apt/sources.list</file>.
    </p>
    <p>
      <em>debian-volatile</em> позволяет пользователям легко обновлять те 
      стабильные пакеты, которые содержат быстро устаревающую информацию. В 
      их число, например, входят антивирусные сигнатуры и наборы шаблонов 
      для спам-фильтров. Дополнительную информацию и список зеркальных 
      сайтов можно найти на <url id="&url-debian-volatile" name="странице 
      архива">.
    </p>
   </sect1>
  </sect>
  <sect id="inst-new">
   <heading>
     Что нового в системе установки?
   </heading>
   <p>
     Всё время с последнего официального выпуска &oldreleasename; велась 
     активная разработка программы установки Debian. В результате улучшилась 
     работа с аппаратным обеспечением и были добавлены новые захватывающие 
     возможности.
   </p>
   <p>
     В информации о выпуске мы опишем только главные изменения в программе 
     установки. Если вам нужен краткий обзор различий с &oldreleasename;, 
     обратитесь к анонсам выпуска &releasename; beta и RC-релизов, доступным 
     из <url id="&url-installer-news" name="старых новостей"> о программе 
     установки Debian.
   </p>
   <sect1 id="inst-changes">
    <heading>
      Главные изменения
    </heading>
    <p>
     <taglist>
      <tag>
        Нет перезагрузки во время установки
      </tag>
      <item>
       <p>
         Ранее процесс установки происходил в два этапа: установка базовой 
         системы и делание её загрузочной, после чего происходила 
         перезагрузка и запускалась программа <prgn>base-config</prgn>, с 
         помощью которой выполнялась настройка пользователей, системы 
         управления пакетами и установка дополнительных пакетов (посредством 
         tasksel).
       </p>
       <p>
         В &releasename; второй этап был включён в саму программу установки 
         Debian. Это дало ряд преимуществ: улучшение безопасности, после 
         перезагрузки в конце установки новой системы есть уже правильный 
         часовой пояс, если вы установили среду рабочего стола, то будет 
         сразу запущен графический интерфейс пользователя.
       </p>
      </item>
      <tag>
        В новых системах кодировкой по умолчанию является UTF-8
      </tag>
      <item>
       <p>
         Программа установки устанавливает системной кодировку UTF-8, то 
         есть системная кодировка теперь не зависит от выбранного языка 
         (типа ISO-8859-1, EUC-JP или KOI-8).
       </p>
      </item>
      <tag>
        Более гибкая разметка
      </tag>
      <item>
       <p>
         Теперь с помощью автоматической разметки стало возможно настраивать 
         файловые системы на томе LVM.
       </p>
       <p>
         Также через программу установки можно настраивать шифрованные 
         файловые системы. Используя разметку, вручную вы можете выбирать 
         между <tt>dm-crypt</tt> и <tt>loop-aes</tt>, использовать ключевую 
         фразу или произвольный ключ, а также настраивать другие различные 
         параметры. При использовании автоматической разметки, программа 
         установки создаст шифрованный раздел LVM, который может содержать 
         любые файловые системы (кроме <file>/boot</file>) в логических 
         томах.
       </p>
      </item>
       <![ %i386-amd64 [

      <tag>
        Графический интерфейс пользователя
      </tag>
      <item>
       <p>
         Если вы предпочитаете графический интерфейс пользователя, запустите 
         программу установки с помощью <tt>installgui</tt>.
       </p>
       <p>
         Функциональность графической программы установки практически 
         идентична обычной программе установки, отличается только внешний 
         вид. Есть одно исключение: в графическом интерфейсе не 
         поддерживается настройка шифрованных разделов с помощью 
         произвольных ключей.
       </p>
       <p>
         Замечание: графический интерфейс доступен не на всех архитектурах.
       </p>
      </item>
       ]]><![ %powerpc [

      <tag>
        Графический интерфейс пользователя
      </tag>
      <item>
       <p>
         Для &arch-title; есть отдельный образ графического 
         пользовательского интерфейса и только в качестве 
         эксперимента. Известно, что он работает почти на всех CHRP-системах 
         с графическими картами ATI, но был недостаточно протестирован на 
         &arch-title;, чтобы включить его на обычные установочные CD.
       </p>
       <p>
         Если вы хотите попробовать графический интерфейс программы 
         установки, поищите образ "gtk-miniiso".
       </p>
      </item>
       ]]>

      <tag>
        Режим восстановления
      </tag>
      <item>
       <p>
         Можно использовать программу установки для решения проблем с 
         системой, например, если она больше не загружается. Первые шаги 
         выглядят как процесс обычной установки, но программа установки не 
         будет запускать утилиту разметки. Вместо этого вам будет предложено 
         меню восстановления.
       </p>
       <p>
         Чтобы загрузиться в режиме восстановления, запустите программу 
         установки командой <tt>rescue</tt>, или добавьте загрузочный 
         параметр <tt>rescue/enable=true</tt>.
       </p>
      </item>
      <tag>
        Использование sudo вместо учётной записи root
      </tag>
      <item>
       <p>
         Во время установки в режиме эксперта вы можете выбрать не 
         настраивать учётную запись root (она будет заблокирована), а вместо 
         неё настроить <prgn>sudo</prgn> так, чтобы первая учётная запись 
         пользователя могла использоваться для администрирования системы.
       </p>
      </item>
      <tag>
        SELinux
      </tag>
      <item>
       <p>
         Необходимы для поддержки SELinux пакетам был присвоен приоритет 
         "стандарт". Это означает, что они будут установлены по умолчанию, 
         если вы выберете во время установки задачу "Стандартная 
         система". Однако, поддержка SELinux по умолчанию не включена. Если 
         вы хотите обезопасить систему с помощью SELinux, нужно сделать это 
         вручную после установки.
       </p>
      </item>
       <![ %not-s390 [

      <tag>
        Новые языки интерфейса
      </tag>
      <item>
       <p>
         Благодаря огромным усилиям переводчиков, Debian теперь можно 
         устанавливать на $FIXME$ языках. <![ %g-i [ Если используется 
         графический интерфейс программы установки, то поддерживаются ещё 
         $FIXME$ языков. ]]>
       </p>
      </item>
       ]]>

     </taglist>
    </p>
   </sect1>
   <sect1 id="inst-auto">
    <heading>
      Автоматизируемая установка
    </heading>
    <p>
      Множество изменений, упомянутых в предыдущем разделе, также затронули 
      и автоматическую установку с помощью конфигурационного файла 
      настройки. Это означает, что если у вас уже есть конфигурационные 
      файлы настройки, которые работали с программой установки 
      &oldreleasename;, то не ждите, что они будут работать с новой 
      программой установки без изменений.
    </p>
    <p>
      В <url id="&url-install-manual;" name="руководстве по установке"> 
      теперь есть отдельное приложение, в котором подробно описывается 
      использование предварительной настройки.
    </p>
    <p>
      В программу установки &releasename; добавлены несколько новых 
      потрясающих возможностей, которые позволяют легко делать детальную 
      автоматизацию установки. Также в ней поддерживается 
      усовершенствованная разметка RAID, LVM и шифрованные LVM. Подробности 
      смотрите в документации.
    </p>
   </sect1>
  </sect>
 </chapt>
 <chapt id="installing">
  <heading>
    Установка новой системы
  </heading>
  <p>
    Программа установки Debian является официальной системой установки 
    Debian. Она предлагает широкий выбор методов установки. Какие из них 
    будут доступны на вашей системе зависит от архитектуры.
  </p>
  <p>
    Образы программы установки для &releasename; и руководство по установке 
    можно найти на <url id="&url-installer;" name="веб-сайте Debian">.
  </p>
  <p>
    Руководство по установке также включено на первый CD/DVD из официального 
    набора Debian CD/DVD. Его можно найти в каталоге:
   <example>
/doc/install/manual/<var>ru</var>/index.html
        </example>
  </p>
  <p>
    Также следует ознакомиться со <url id="&url-installer;index#errata" 
    name="списком известных ошибок"> программы установки.
  </p>
   <![ %alpha [

  <p>
    Программа установки может работать только на тех машинах alpha, которые 
    поддерживают консоль SRM. Убедитесь, что вы переключили ваш компьютер на 
    SRM до начала установки. Если ваш компьютер поддерживает только консоль 
    AlphaBIOS/ARC, вы всё ещё можете установить &releasename;, установив 
    сначала &oldreleasename; с минимальным набором пакетов, а затем обновив 
    его. За более подробной информацией о различных консолях обратитесь к 
    <url id="http://www.debian.org/ports/alpha" name="странице переноса 
    Debian на alpha">.
  </p>
   ]]><![ %sparc [

  <sect id="sparc_fb">
   <heading>
     Проблемы с framebuffer на &arch-title;
   </heading>
   <p>
     Так как на некоторых системах использование framebuffer вызывало 
     проблемы, на архитектуре &arch-title; его поддержка отключена по 
     умолчанию для большинства видеокарт. Из-за этого на машинах, где 
     framebuffer поддерживается, текст на экране может выглядеть плохо. Если 
     у вас возникли проблемы с отображением в программе установки, 
     попробуйте загрузить программу установки с параметром 
     <tt>framebuffer=true</tt>. Сообщите нам, если framebuffer не выключен 
     по умолчанию, но хорошо работает на вашем компьютере.
   </p>
  </sect>
   ]]>

  <sect id="popcon">
   <heading>
     Частота использования пакетов
   </heading>
   <p>
     В отличие от предыдущего выпуска, программа установки вновь предложит 
     вам установить пакет <package>popularity-contest</package>.
   </p>
   <p>
     <package>popularity-contest</package> снабжает проект Debian ценной 
     информацией о том, какие пакеты дистрибутива действительно 
     используются. Эта информация не только влияет на то, в каком порядке 
     пакеты пакеты будут расположены на установочных компакт-дисках, но и 
     используется разработчиками Debian для принятия решения о 
     продолжении/прекращении поддержки пакетов, у которых больше нет 
     сопровождающих.
   </p>
   <p>
     Информация, собранная <package>popularity-contest</package>, 
     обрабатывается анонимно. Мы будем вам очень благодарны, если вы 
     установите этот пакет и примете участие в этом официальном опросе, этим 
     вы поможете Debian.
   </p>
  </sect>
 </chapt>
 <chapt id="upgrading">
  <heading>
    Обновление с предыдущих выпусков
  </heading>
  <sect id="backup">
   <heading>
     Подготовка к обновлению
   </heading>
   <p>
     Перед обновлением мы рекомендуем вам прочитать <ref 
     id="information">. В этом разделе дано описание потенциальных проблем, 
     которые не имеют прямого отношения к процессу обновления, но всё же оно 
     будет не лишним.
   </p>
   <p>
     Перед обновлением настоятельно рекомендуется сделать резервную копию 
     всей системы или, по крайней мере, всех данных и настроек, которые вы 
     не хотите потерять. Инструменты для обновления и сам процесс достаточно 
     надёжны, но сбой аппаратного обеспечения в ходе обновления может 
     привести к серьёзному повреждению системы.
   </p>
   <p>
     В первую очередь необходимо сохранить резервные копии содержимого 
     каталогов <file>/etc</file> и <file>/var/lib/dpkg</file>, а также вывод 
     команды <tt>dpkg --get-selections "*"</tt> (кавычки необходимы).
   </p>
   <p>
     Само по себе обновление никак не затрагивает каталог 
     <file>/home</file>, но некоторые приложения (в частности, некоторые 
     приложения Mozilla, GNOME и KDE) при первом запуске новой версии 
     перезаписывают пользовательские настройки настройками "по 
     умолчанию". На всякий случай стоит сделать резервную копию скрытых 
     файлов и каталогов ("точечные файлы") в домашних каталогах 
     пользователей. Это поможет вам затем восстановить старые настройки в 
     случае необходимости. Не лишним будет предупредить пользователей об 
     этой проблеме.
   </p>
   <p>
     Желательно заранее сообщить всем пользователям обо всех планируемых 
     обновлениях, хотя пользователи, работающие в системе через 
     <prgn>ssh</prgn>, не должны испытать особых проблем в процессе 
     обновления и вполне могут продолжать работу. Если вы хотите принять 
     дополнительные меры предосторожности, создайте резервную копию каталога 
     с файлами пользователей (<file>/home</file>) или перед обновлением 
     размонтируйте раздел, где он расположен. Перезагрузка после обновления 
     не потребуется, если вы, конечно, не планируете обновление ядра 
     системы.
   </p>
   <p>
     Обновление дистрибутива возможно как с локальной консоли (или 
     подключённого напрямую последовательного терминала), так и через 
     удалённое подключение <prgn>ssh</prgn>.
   </p>
   <p>
     <em>Внимание!</em> <em>Ни в коем случае</em> не обновляйте систему 
     через <prgn>telnet</prgn>, <prgn>rlogin</prgn>, <prgn>rsh</prgn> или из 
     графического сеанса под управлением <prgn>xdm</prgn>, <prgn>gdm</prgn>, 
     <prgn>kdm</prgn> и т.д., запущенного на обновляемой системе. Это 
     связано с тем, что все эти серверы могут быть перезапущены при 
     обновлении, что может привести к <em>недоступности</em> системы, 
     обновлённой только наполовину.
   </p>
   <p>
     Установка любого пакета должна производиться с привилегиями 
     суперпользователя. Поэтому вы должны либо войти в систему под именем 
     суперпользователя (root), либо использовать программы <prgn>su</prgn> 
     или <prgn>sudo</prgn>, чтобы получить необходимые права.
   </p>
   <p>
     Для обновления есть несколько предварительных условий; прежде чем 
     приступать к обновлению, вы должны проверить, что они соблюдаются.
   </p>
   <sect1>
    <heading>
      Убедитесь, что у вас достаточно места для обновления
    </heading>
    <p>
      Перед обновлением всей системы, как описано в <ref 
      id="upgrading_other">, вы должны убедиться, что у вас достаточно места 
      на диске. Сначала потребуется место на разделе, который содержит 
      <file>/var/</file>, так как туда будут записываться загружаемые пакеты 
      для установки. После загрузки вам, вероятно, понадобится больше места 
      в файловой системе других разделов для того, чтобы можно было 
      установить обновляемые пакеты (которые могут содержать больше данных) 
      и новые пакеты, которые будут установлены из-за обновлений. Если в 
      системе не будет достаточного места, то в конечном счёте это приведёт 
      к неполному обновлению, что позднее бывает сложно исправить.
    </p>
    <p>
      И <prgn>aptitude</prgn>, и <prgn>apt</prgn> отображают подробную 
      информацию о количестве требуемого места для установки. Перед 
      выполнением обновления вы можете увидеть размер необходимого места, 
      запустив:
    </p>
    <p>
     <example>
# aptitude -y -s -f --with-recommends dist-upgrade
[ ... ]
XXX пакетов обновлено, XXX установлено новых, XXX пакетов отмечено для удаления и XXX пакетов не обновлено.
Необходимо получить xx.xMB/yyyMB архивов. После распаковки будет использовано AAAMB.
Будет выполнена загрузка/установка/удаление пакетов.
</example>
    </p>
    <p>
      Если вам не хватает места для обновления, убедитесь, что вы освободили 
      место заранее. Вы можете:
    </p>
    <p>
     <list>
      <item>
       <p>
         Удалить пакеты, которые были ранее загружены для установки (из 
         каталога <file>/var/cache/apt/archive</file>), очистив кэш пакетов, 
         запустив <prgn>apt-get clean</prgn>.
       </p>
      </item>
      <item>
       <p>
         Удалить старые пакеты, которые больше не используются. Если у вас 
         установлена программа <prgn>popularity-contest</prgn>, то с помощью 
         <prgn>popcon-largest-unused</prgn> можно получить список пакетов, 
         которые вы не используете в системе и которые занимают много 
         места. Также вы можете использовать <prgn>deborphan</prgn> или 
         <prgn>debfoster</prgn>, чтобы найти устаревшие пакеты (смотрите 
         <ref id="obsolete">).
       </p>
      </item>
      <item>
       <p>
         Удалить пакеты, которые занимают слишком много места, и в которых 
         нет срочной необходимости (вы всегда можете переустановить их после 
         обновления). Список пакетов, которые занимают большую часть 
         дискового пространства, можно получить с помощью программы 
         <prgn>dpigs</prgn> (из пакета <prgn>debian-goodies</prgn>) или 
         <prgn>wajig</prgn> (запустив <prgn>wajig size</prgn>).
       </p>
      </item>
      <item>
       <p>
         Временно перенести на другую машину или удалить системные журналы 
         из <file>/var/log/</file>.
       </p>
      </item>
     </list>
    </p>
   </sect1>
   <sect1 id="glibc-kernel">
    <heading>
      Поддержка ядер версий 2.2 прекращена
    </heading>
    <p>
      Если у вас работает ядро с версией меньшей 2.4.1, то вам нужно 
      провести обновление до ветки 2.4 (по крайней мере) перед тем как 
      обновлять <package>glibc</package> -- это лучше сделать до начала 
      обновления. Рекомендуется обновить ядро до ветки 2.6.
    </p>
   </sect1>
   <sect1 id="kernelorder">
    <heading>
      Обновлять сначала ядро или пользовательские программы?
    </heading>
    <p>
      [FIXME: Needs decision/documentation whether to upgrade userland or 
      kernel first.]
    </p>
   </sect1>
  </sect>
  <sect id="system-status">
   <heading>
     Проверка состояния системы
   </heading>
   <p>
     Описываемая в этом разделе процедура обновления предназначена для 
     обновления "чистого" &oldreleasename; без дополнительных пакетов со 
     стороны. Может даже лучше предварительно удалить эти пакеты.
   </p>
   <p>
     Эта процедура также предполагает, что ваша система обновлена до 
     последнего выпуска &oldreleasename;. Если это не так или вы в этом не 
     уверены, следуйте инструкциям раздела <ref id="old-upgrade">.
   </p>
   <sect1>
    <heading>
      Отключение фиксации APT
    </heading>
    <p>
      Если вы настроили APT на установку некоторых пакетов из дистрибутива, 
      отличного от стабильного (например, тестируемого), вам, возможно, 
      придётся изменить конфигурацию APT (сохранённую в файле 
      <file>/etc/apt/preferences</file>), чтобы было возможным обновление 
      пакетов до версии в новом стабильном выпуске. Более подробную 
      информацию о фиксации пакетов в APT можно найти в <manref section="5" 
      name="apt_preferences">.
    </p>
   </sect1>
   <sect1>
    <heading>
      Проверка состояния пакетов
    </heading>
    <p>
      Независимо от способа обновления, рекомендуется сначала проверить 
      состояние всех пакетов и убедиться, что все пакеты могут быть 
      обновлены. Следующая команда покажет частично установленные 
      (Half-Installed) пакеты, пакеты, настройка которых не удалась 
      (Failed-Config), а также все пакеты в ошибочных состояниях.
     <example>
# dpkg --audit
          </example>
    </p>
    <p>
      Можно также проверить состояние всех пакетов системы с помощью 
      программ <prgn>dselect</prgn>, <prgn>aptitude</prgn> или таких команд, 
      как
     <example>
# dpkg -l | pager 
          </example>
      или
     <example>
# dpkg --get-selections &gt; ~/curr-pkgs.txt
          </example>
    </p>
    <p>
      Перед обновлением желательно снять все фиксации с пакетов. Если один 
      из необходимых для обновления пакетов зафиксирован, обновление 
      завершится неудачей.
    </p>
    <p>
      Заметим, что <prgn>aptitude</prgn> использует другой метод регистрации 
      зафиксированных пакетов, чем <prgn>apt-get</prgn> и 
      <prgn>dselect</prgn>. Определить, какие пакеты зафиксированы через 
      <prgn>aptitude</prgn>, можно с помощью
     <example>
# aptitude search "~ahold" | grep "^.h"
          </example>
    </p>
    <p>
      Если вы хотите проверить, какие пакеты зафиксированы через 
      <prgn>apt-get</prgn>, используйте
     <example>
# dpkg --get-selections | grep hold
          </example>
    </p>
    <p>
      Если вы изменили и перекомпилировали пакет локально, но при этом не 
      переименовали его и не добавили "эпоху" к версии пакета, то его нужно 
      зафиксировать, чтобы предотвратить обновление.
    </p>
    <p>
      Состояние фиксации пакета ("hold") для <prgn>aptitude</prgn> может 
      быть изменено с помощью (замените <tt>hold</tt> на <tt>unhold</tt>, 
      чтобы сбросить состояние "hold"):
     <example>
# aptitude hold <var>package_name</var>
          </example>
    </p>
    <p>
      Если вам надо что-то изменить, то лучше сначала убедиться, что ваш 
      <file>sources.list</file> всё ещё ссылается на &oldreleasename;, как 
      объясняется в разделе <ref id="old-sources">.
    </p>
   </sect1>
   <sect1 id="backports">
    <heading>
      Неофициальные источники и адаптации (backports)
    </heading>
    <p>
      Если вы установили пакеты не из Debian, то знайте, что при обновлении 
      они могут быть удалены по причине конфликтующих зависимостей. Если при 
      установке пакетов вы добавляли записи в файл 
      <file>/etc/apt/sources.list</file>, то стоит проверить, что этот 
      источник содержит пакеты, скомпилированные для &releasename; и 
      соответственно исправить строку источника вместе со строками остальных 
      источников.
    </p>
    <p>
      Некоторые пользователи установили более новые пакеты Debian, 
      адаптированные для &oldreleasename; (backports). Такие пакеты, скорее 
      всего, станут причиной проблем при обновлении, так как они могут 
      вызвать конфликты файлов<footnote><p>Обычно система управления 
      пакетами Debian не позволяет пакету удалить или заменить файл, 
      принадлежащий другому пакету, за исключением случаев, когда один пакет 
      заменяет другой.</p></footnote>. В разделе <ref id="trouble"> описано, 
      как бороться с конфликтами файлов, если они возникнут.
    </p>
   </sect1>
  </sect>
  <sect id="upgrade-process">
   <heading>
     Подготовка источников APT
   </heading>
   <p>
     Перед началом процесса обновления вы должны настроить файл конфигурации 
     <package>apt</package> <file>/etc/apt/sources.list</file>.
   </p>
   <p>
     Программа <package>apt</package> при запросе на установку пакета 
     установит наивысшую версию пакета из тех, которые можно найти в 
     источниках, соответствующих строкам <tt>deb</tt> этого файла. При 
     равных версиях приоритет будут иметь строки, находящиеся в файле выше 
     (таким образом, в случае использования нескольких зеркал обычно лучше 
     первым указать каталог на локальном жёстком диске, затем компакт-диск 
     и, наконец, зеркала HTTP/FTP).
   </p>
   <p>
     На выпуск Debian можно ссылаться по его кодовому имени (например, 
     "&oldreleasename;" или "&releasename;") или по его статусу (например, 
     "oldstable" ("старый стабильный"), "stable" ("стабильный"), "testing" 
     ("тестируемый"), "unstable" ("нестабильный")). Ссылки на выпуск по его 
     кодовому имени имеют то преимущество, что вы никогда неожиданно для 
     себя не начнёте пользоваться новым выпуском. Поэтому мы здесь так и 
     делаем. В этом случае, вам, конечно, придётся самим следить за новыми 
     выпусками. Если вы будете ссылаться на дистрибутив по его статусному 
     имени, то после выхода нового выпуска вы просто увидите большое 
     количество обновлённых пакетов.
   </p>
   <sect1 id="network">
    <heading>
      Как добавить Интернет-источник APT
    </heading>
    <p>
      Конфигурация по умолчанию позволяет произвести установку с главных 
      серверов Debian, но вы можете изменить файл 
      <file>/etc/apt/sources.list</file> и использовать другие 
      зеркала. Лучше использовать ближайшее к вам (в смысле скорости 
      передачи данных) зеркало.
    </p>
    <p>
      Адреса HTTP- и FTP-зеркал Debian можно найти по адресу <url 
      id="&url-debian-mirrors;"> (см. раздел "Полный список 
      зеркал"). HTTP-зеркала обычно быстрее, чем FTP.
    </p>
    <p>
      Допустим, к примеру, что ближайшим к вам зеркалом Debian является 
      <tt>&url-debian-mirror-eg;</tt>. Просматривая содержимое зеркала 
      web-браузером или FTP-клиентом, можно заметить, что основные каталоги 
      организованы следующим образом:
     <example>
&url-debian-mirror-eg;/dists/&releasename;/main/binary-&architecture;/...
&url-debian-mirror-eg;/dists/&releasename;/contrib/binary-&architecture;/...
           </example>
    </p>
    <p>
      Чтобы использовать это зеркало в программе <prgn>apt</prgn>, добавьте 
      в файл <file>sources.list</file>:
     <example>
deb &url-debian-mirror-eg; &releasename; main contrib
           </example>
    </p>
    <p>
      Заметим, что `<tt>dists</tt>' добавляется автоматически, а параметры 
      после имени выпуска используются для дополнения сетевого пути до 
      реальных каталогов.
    </p>
    <p>
      После того, как вы добавили новый источник, отключите присутствовавшие 
      ранее в файле <file>sources.list</file> строки <tt>deb</tt>, поставив 
      в начале каждой строки знак диеза (<tt>#</tt>).
    </p>
    <p>
      Все пакеты, требуемые для установки, после загрузки из сети 
      размещаются в каталоге <file>/var/cache/apt/archives</file> (во время 
      загрузки -- в подкаталоге <file>partial/</file>), поэтому перед 
      началом установки вы должны убедиться в том, что там достаточно 
      места. Для обычной установки понадобится приблизительно 300МБ 
      дискового пространства.
    </p>
   </sect1>
   <sect1 id="localmirror">
    <heading>
      Как добавить локальное зеркало APT
    </heading>
    <p>
      Вместо HTTP- и FTP-зеркал, можно использовать зеркало на локальном 
      диске (возможно, смонтированном по сети), изменив соответствующим 
      образом файл <file>/etc/apt/sources.list</file>.
    </p>
    <p>
      Например, если ваше зеркало пакетов находится в каталоге 
      <file>/var/ftp/debian/</file>, то его основные каталоги будут 
      называться:
     <example>
/var/ftp/debian/dists/&releasename;/main/binary-&architecture;/...
/var/ftp/debian/dists/&releasename;/contrib/binary-&architecture;/...
           </example>
    </p>
    <p>
      Чтобы программа <prgn>apt</prgn> могла использовать этот источник 
      пакетов, добавьте в файл <file>sources.list</file>:
     <example>
deb file:/var/ftp/debian &releasename; main contrib
           </example>
    </p>
    <p>
      Заметим, что `<tt>dists</tt>' добавляется автоматически, а параметры 
      после имени выпуска используются для дополнения сетевого пути до 
      реальных каталогов.
    </p>
    <p>
      После того, как вы добавили новый источник, отключите присутствовавшие 
      ранее в файле <file>sources.list</file> строки <tt>deb</tt>, поставив 
      в начале каждой строки знак диеза (<tt>#</tt>).
    </p>
   </sect1>
   <sect1 id="cdroms">
    <heading>
      Как добавить источник APT на компакт-диске или DVD
    </heading>
    <p>
      Если вы хотите использовать <em>только</em> компакт-диски, 
      закомментируйте все присутствующие в файле 
      <file>/etc/apt/sources.list</file> строки <tt>deb</tt>, поставив в 
      начале каждой строки знак диеза (<tt>#</tt>).
    </p>
    <p>
      Убедитесь в том, что в файле <file>/etc/fstab</file> есть строка, 
      позволяющая смонтировать компакт-диск в каталог <file>/cdrom</file> 
      (программа <prgn>apt-cdrom</prgn> требует монтирования именно в этом 
      каталоге). Например, если файлом устройства вашего привода чтения 
      компакт-дисков служит <file>/dev/hdc</file>, то файл 
      <file>/etc/fstab</file> должен содержать строку:
     <example>
/dev/hdc /cdrom auto defaults,noauto,ro 0 0
          </example>
    </p>
    <p>
      Обратите внимание на то, что между словами <tt>defaults,noauto,ro</tt> 
      в четвёртом поле строки <em>не должно быть пробелов</em>.
    </p>
    <p>
      Чтобы проверить, что строка fstab написана верно, вставьте 
      компакт-диск в привод и выполните команды
     <example>
# mount /cdrom    # this will mount the CD to the mount point
# ls -alF /cdrom  # this should show the CD's root directory
# umount /cdrom   # this will unmount the CD
          </example>
    </p>
    <p>
      Затем запустите:
     <example>
# apt-cdrom add
          </example>
      для каждого компакт-диска Debian Binary, чтобы добавить все диски в 
      базу данных APT.
    </p>
   </sect1>
  </sect>
  <sect id="upgradingpackages">
   <heading>
     Обновление пакетов
   </heading>
   <p>
     Для обновления &debian; до нового выпуска рекомендуется использовать 
     программу управления пакетами <prgn>aptitude</prgn>. Этот инструмент 
     принимает более безопасные решения об установке пакетов, чем при 
     непосредственном запуске <prgn>apt-get</prgn>.
   </p>
   <p>
     Не забудьте смонтировать все необходимые разделы (в первую очередь, 
     корневой раздел и каталог <file>/usr</file>) для чтения и записи. Это 
     можно сделать командой
    <example>
# mount -o remount,rw /<var>mountpoint</var>
          </example>
   </p>
   <p>
     Затем надо проверить и перепроверить, что источники APT в файле 
     <file>/etc/apt/sources.list</file> ссылаются либо на 
     "<tt>&releasename;</tt>", либо на "<tt>stable</tt>". Обратите внимание, 
     источники на CD-ROM могут ссылаться на дистрибутив "<tt>unstable</tt>", 
     хоть это и странно, но исправлять их <em>не нужно</em>.
   </p>
   <p>
     Настоятельно рекомендуем использовать программу 
     <prgn>/usr/bin/script</prgn> для записи ваших действий при 
     обновлении. В этом случае, при возникновении каких-либо проблем у вас 
     будет журнал произошедших событий, и если понадобится, вы сможете 
     включить эту информацию в отчёт об ошибке. Чтобы начать запись, 
     выполните команду
    <example>
# script -a ~/upgrade-to-&releasename;.typescript
          </example>
     или похожую. Не размещайте файл с записью во временных каталогах, таких 
     как <file>/tmp</file> и <file>/var/tmp</file>(файлы в этих каталогах 
     могут быть удалены при обновлении или перезагрузке).
   </p>
   <p>
     Запись также поможет вам прочитать информацию, которая была "промотана" 
     за границу экрана. Просто переключитеcь на вторую консоль (нажав 
     <tt>Alt-F2</tt>) и, войдя в систему, запустите <tt>less 
     ~root/upgrade-to-&releasename;.typescript</tt> для просмотра файла.
   </p>
   <p>
     После завершения обновления, можно остановить <prgn>script</prgn> 
     набрав <tt>exit</tt> в командной строке.
   </p>
   <sect1 id="updating_lists">
    <heading>
      Обновление списка пакетов
    </heading>
    <p>
      Сначала нужно скачать список пакетов для нового выпуска. Это можно 
      сделать, выполнив команду<footnote><p>Мы используем 
      <prgn>apt-get</prgn>, потому что версия <prgn>aptitude</prgn> из 
      выпуска &oldreleasename; может не сработать после добавления новых 
      источников в <file>sources.list</file>.</p></footnote>
    </p>
    <p>
     <example>
# apt-get update
	  </example>
    </p>
   </sect1>
   <sect1 id="upgrading_aptitude">
    <heading>
      Обновление aptitude
    </heading>
    <p>
      Пробные обновления показали, что версия <prgn>aptitude</prgn> из 
      &releasename; разрешает сложные зависимости при обновлении лучше, чем 
      <prgn>apt-get</prgn> и <prgn>aptitude</prgn> из &oldreleasename; 
      <prgn>aptitude</prgn>. Поэтому её следует обновить в первую очередь, 
      запустив:
     <example>
# aptitude install aptitude
          </example>
    </p>
    <p>
      Вы сможете просмотреть список изменений и либо утвердить его, либо 
      отказаться. Перед тем, как согласиться с предложенными изменениями, 
      обратите особое внимание на пакеты, которые будут удалены при 
      обновлении.
    </p>
    <p>
      В некоторых случаях на этом шаге предлагается удалить большое 
      количество пакетов. Можно попытаться сократить количество удаляемых 
      пакетов, обновляя одновременно с <package>aptitude</package> 
      что-нибудь ещё. Поясним на примере. При пробных обновлениях систем с 
      установленным KDE этот шаг вызывал удаление многих пакетов KDE, 
      зачастую вместе с <package>perl</package>. Решением в этом случае стал 
      запуск <tt>install aptitude perl</tt> вместо <tt>install 
      aptitude</tt>.
    </p>
   </sect1>
   <sect1 id="upgrading_other">
    <heading>
      Обновление остальной системы
    </heading>
    <p>
      Теперь можно приступить собственно к обновлению. Выполните команду 
    </p>
    <p>
     <example>
# aptitude -f --with-recommends dist-upgrade
	  </example>
    </p>
    <p>
      Эта команда произведёт полное обновление системы, т.е. установку 
      последних доступных версий всех пакетов и разрешение всех изменившихся 
      между выпусками зависимостей. При необходимости она установит новые 
      пакеты (обычно это новые версии библиотек или переименованные пакеты) 
      и удалит все вызывающие конфликты устаревшие пакеты (такие как 
      <package>console-tools-libs</package>).
    </p>
    <p>
      При обновлении с набора компакт-дисков система несколько раз попросит 
      вас вставить в привод соответствующий диск. Возможно, вам придётся 
      вставлять один диск несколько раз, это вызвано тем, что 
      взаимосвязанные пакеты могут находится на разных дисках.
    </p>
    <p>
      Новые версии уже установленных пакетов, которые нельзя обновить не 
      меняя состояние других пакетов не будут установлены (программа выведет 
      сообщение, что пакет зафиксирован, "held back"). Разрешить ситуацию 
      можно либо отметив такой пакет как подлежащий установке с помощью 
      <prgn>aptitude</prgn>, либо выполнив команду <tt>aptitude -f install 
      &lt;пакет&gt;</tt>.
    </p>
    <p>
      Параметр <tt>--fix-broken</tt> (или просто <tt>-f</tt>) приведёт к 
      тому, что <package>apt</package> будет пытаться сразу исправлять 
      нарушенные зависимости. Система <package>apt</package> не позволяет, 
      чтобы какие-либо зависимости в системе были не удовлетворены.
    </p>
   </sect1>
   <sect1 id="trouble">
    <heading>
      Возможные проблемы во время обновления
    </heading>
    <p>
      Если запуск <prgn>aptitude</prgn>, <prgn>apt-get</prgn> или 
      <prgn>dpkg</prgn> завершается с ошибкой
     <example>
E: Dynamic MMap ran out of room
</example>
      то это значит, что размера кэша по умолчанию недостаточно. Проблему 
      можно решить либо удалив ненужные записи в файле 
      <file>/etc/apt/sources.list</file>, либо увеличив размер 
      кэша. Увеличить размер кэша можно с помощью параметра 
      <tt>APT::Cache-Limit</tt> в файле 
      <file>/etc/apt/apt.conf</file>. Следующая команда увеличит кэш до 
      размера, достаточного для обновления:
     <example>
# echo 'APT::Cache-Limit "12500000";' >> /etc/apt/apt.conf
</example>
      Здесь предполагается, что эта переменная раньше не была указана в 
      файле.
    </p>
    <p>
      Иногда необходимо активизировать параметр APT::Force-LoopBreak, чтобы 
      разрешить временное удаление пакета первой необходимости при 
      возникновении циклической зависимости типа конфликт/требование 
      предварительной установки. Программа <prgn>aptitude</prgn> сообщит об 
      этом и прекратит обновление. Чтобы решить эту проблему, следует 
      указать в командной строке <prgn>aptitude</prgn> параметр <tt>-o 
      APT::Force-LoopBreak=1</tt>.
    </p>
    <p>
      Возможна ситуация, когда структура зависимостей в системе может быть 
      настолько нарушена, что потребуется ручное вмешательство. Обычно это 
      делается с помощью <prgn>aptitude</prgn> или
     <example>
# dpkg --remove <var>package_name</var>
          </example>
      чтобы удалить "проблемные" пакеты или
     <example>
# aptitude --fix-broken install
# dpkg --configure --pending
          </example>
    </p>
    <p>
      В чрезвычайных случаях вам может потребоваться принудительная 
      переустановка командой типа
     <example>
# dpkg --install <var>/path/to/package_name.deb</var>
          </example>
    </p>
    <p>
      При обновлении с "чистого" &oldreleasename; конфликтов файлов быть не 
      должно, но они вполне возможны, если у вас установлены неофициальные 
      адаптации (backports). Конфликт файлов вызывает ошибки вида:
     <example>
Unpacking replacement <var>&lt;package-foo&gt;</var> ...
dpkg: error processing <var>&lt;package-name-for-foo&gt;</var> (--unpack):
 trying to overwrite `<var>&lt;some-file-name&gt;</var>',
 which is also in package <var>&lt;package-bar&gt;</var>
          </example>
    </p>
    <p>
      Конфликт файлов можно попытаться разрешить принудительным удалением 
      пакета, указанного в <em>последней</em> строке сообщения об ошибке:
     <example>
# dpkg -r --force-depends <var>package_name</var>
          </example>
    </p>
    <p>
      После исправления ошибок вы можете продолжить обновление, повторив 
      ранее описанные команды <tt>aptitude</tt>.
    </p>
    <p>
      Во время обновления система будет задавать вам вопросы о настройке или 
      перенастройке некоторых пакетов. Если вас спросят, нужно ли заменить 
      какой-то файл в каталоге <file>/etc/init.d</file> или 
      <file>/etc/terminfo</file> или файл <file>/etc/manpath.config</file> 
      версией, предоставленной сопровождающим пакета, обычно следует 
      ответить`да', поскольку иначе будет нарушена целостность системы. Вы 
      всегда сможете вернуть старые настройки, потому что файлы конфигурации 
      будут сохранены с расширением <tt>.dpkg-old</tt>.
    </p>
    <p>
      Если вы не уверены в том, что нужно делать, запишите имя пакета или 
      файла и разберитесь с проблемой позднее. Информацию, выводившуюся на 
      экран во время обновления, вы сможете найти в файле транскрипта.
    </p>
   </sect1>
  </sect>
  <sect id="newkernel">
   <heading>
     Обновление ядра и сопутствующих пакетов
   </heading>
   <p>
     Вы должны обновлять ядро Linux отдельно от остальных пакетов. Вы можете 
     сделать это самостоятельно, установив один из пакетов 
     <package>linux-image-*</package>, либо скомпилировав ядро из исходного 
     кода. Обязательно прочитайте в этом разделе замечания о возможных 
     проблемах при обновлениях ядра.
   </p>
   <p>
     Все пакеты с ядрами Linux были переименованы из 
     <package>kernel-*</package> в <package>linux-*</package> для большей 
     ясности в именах.
   </p>
    <![ %defaulted-2.4 [

   <p>
     Если вы используете ядро из ветки 2.4, раннюю стабильную ветку ядер 
     Linux, то вам следует обновиться до ветки 2.6, так как 2.4 больше не 
     поддерживается в &releasename;. Если вы используете ядро из ветки 2.2, 
     то вы должны перейти на ветку 2.4 (как минимум), а лучше на 2.6, и 
     сделать это начала обновления пакетов. Некоторые общие вопросы, 
     связанные с обновлением до 2.6 описаны в <ref id="upgrade-to-2.6">.
   </p>
    ]]>

   <sect1>
    <heading>
      Пакет initrd-tools устарел
    </heading>
    <p>
      Пакет <package>initrd-tools</package> больше не поддерживается и был 
      заменён на <package>initramfs-tools</package> и 
      <package>yaird</package>. По умолчанию при обновлении ядра в 
      &releasename; происходит установка 
      <package>initramfs-tools</package>. <![ %defaulted-2.4 [ При 
      обновлении ядра с 2.4 на 2.6, вы должны использовать 
      <package>initramfs-tools</package>. Использование 
      <package>yaird</package> приведёт к ошибке установки linux-image-2.6, 
      если машина работает на ядре из веток 2.2 или 2.4. ]]>
    </p>
   </sect1>
   <sect1>
    <heading>
      Пакет devfs устарел
    </heading>
    <p>
      В &releasename; больше не поддерживается <prgn>devfs</prgn>. Для 
      динамического управления каталогом <file>/dev</file> рекомендуется 
      использовать <package>udev</package>. Ядра Debian больше не содержат 
      поддержку <prgn>devfs</prgn>, поэтому пользователям <prgn>devfs</prgn> 
      нужно вручную преобразовать их системы перед обновлением на ядро из 
      &releasename;.
    </p>
    <p>
      Если вы видите строку 'devfs' в файле <file>/proc/mounts</file>, то, 
      вероятно, используется <prgn>devfs</prgn>. Имена в стиле devfs во всех 
      конфигурационных файлах нужно заменить на соответствующие имена в 
      стиле udev. Имена в стиле devfs обычно упомянуты в файлах 
      <file>/etc/fstab</file>, <file>/etc/lilo.conf</file>, 
      <file>/boot/grub/menu.lst</file> и подобных им.
    </p>
    <p>
      Подробности о возможных проблемах есть в отчёте об ошибке <url 
      id="http://bugs.debian.org/341152" name="#341152">.
    </p>
   </sect1>
    <![ %i386-amd64-ia64 [

   <sect1>
    <heading>
      В стандартные ядра включена поддержка SMP
    </heading>
    <p>
      Для многопроцессорных систем больше не нужны *-smp варианты ядра 
      Linux. Для &arch-title; в пакеты linux-image без суффикса -smp 
      включена поддержка однопроцессорных и многопроцессорных систем.
    </p>
   </sect1>
    ]]><![ %i386 [

   <sect1>
    <heading>
      Вариант ядра 386 устарел
    </heading>
    <p>
      В &releasename; была прекращена поддержка субархитектуры 80386 для 
      &arch-title;. Вариант ядра 386 больше не поддерживается и был заменён 
      новым вариантом 486.
    </p>
   </sect1>
    ]]>

   <sect1>
    <heading>
      Переопределение нумерации устройств
    </heading>
    <p>
      В &releasename; имеется более мощный механизм обнаружения аппаратных 
      средств, чем в предыдущих выпусках. Однако это может привести к 
      изменению порядка обнаруженных устройств в системе, что повлияет на 
      назначенные имена устройств. Например, если у вас есть две сетевые 
      карты, которые работают через разные драйверы, то устройства eth0 и 
      eth1 могут поменяться местами! Обратите внимание на то, что новый 
      механизм работает так, что если вы, например, поставите другую карту 
      ethernet в систему с &releasename;, то новой карте будет присвоено 
      новое имя интерфейса.
    </p>
    <p>
      Для сетевых устройств можно избежать переназначения с помощью утилиты 
      <prgn>ifrename</prgn>, привязав физические устройства к специальным 
      именам во время загрузки. Подробней смотрите в <manref section="8" 
      name="ifrename"> и <manref section="5" name="iftab">.
    </p>
    <p>
      Для устройств хранения данных можно избежать переназначения с помощью 
      утилиты <package>initramfs-tools</package> и настройки загрузки 
      драйверов модулей в одном и том же порядке. Для этого определите 
      порядок модулей устройств хранения в системе с помощью команды 
      <prgn>lsmod</prgn>. <prgn>lsmod</prgn> выводит список модулей в 
      обратном порядке, в котором они загружались, то есть первые модули в 
      списке были загружены последними.
    </p>
    <p>
      Однако на этот порядок также влияет удаление и перезагрузка модулей 
      после первоначальной загрузки. Также некоторые драйвера могут быть 
      включены в ядро статически, и их названия не появятся в результатах 
      <prgn>lsmod</prgn>. Вы можете определить имена таких драйверов и их 
      порядок загрузки, проанализировав файл <file>/var/log/kern.log</file> 
      или результат команды <prgn>dmesg</prgn>.
    </p>
    <p>
      Добавьте имена этих модулей в файл 
      <file>/etc/initramfs-tools/modules</file> в том порядке, в котором они 
      должны быть загружены во время запуска машины. Некоторые имена модулей 
      могли измениться со времени &oldreleasename;. Например, sym53c8xx_2 
      теперь sym53c8xx.
    </p>
    <p>
      Затем вам нужно будет перегенерировать образ(ы) initramfs запустив 
      <tt>update-initramfs -k all</tt>.
    </p>
    <p>
      После загрузки ядра из &releasename; и <prgn>udev</prgn>, вы можете 
      перенастроить доступ к дискам системы через псевдонимы, которые не 
      зависят от порядка загрузки драйверов. Эти псевдонимы находятся в 
      подкаталогах <file>/dev/disk/</file>.
    </p>
   </sect1>
    <![ %ia64 [

   <sect1>
    <heading>
      Перенумерация последовательных устройств
    </heading>
    <p>
      Если у вас машина HP и вы используете последовательный порт консоли MP 
      (провод, помеченный как "console" на кабеле с 3-мя разъёмами), то 
      обновление ядра сломает доступ к консоли!
    </p>
    <p>
      Перед обновлением, прочитайте далее этот раздел.
    </p>
    <p>
     <list>
      <item>
       <p>
         Имя устройства консоли будет изменено с <file>ttyS0</file> на 
         <file>ttyS1</file>, <file>ttyS2</file> или <file>ttyS3</file>, 
         поэтому
        <list>
         <item>
          <p>
            Отредактируйте <file>/etc/inittab</file>, добавив запись getty 
            для <file>/dev/ttyS1</file> (rx4640, rx5670, rx7620, rx8620, 
            Superdome), <file>/dev/ttyS2</file> (rx1600) или 
            <file>/dev/ttyS3</file> (rx2600).
          </p>
         </item>
         <item>
          <p>
            Отредактируйте <file>/etc/securetty</file> добавив 
            <file>ttyS1</file>, <file>ttyS2</file> или <file>ttyS3</file>.
          </p>
         </item>
         <item>
          <p>
            Оставьте имеющиеся записи <file>ttyS0</file> в 
            <file>/etc/inittab</file> и <file>/etc/securetty</file>, для 
            того, чтобы можно было загружать старые ядра.
          </p>
         </item>
        </list>
       </p>
      </item>
      <item>
       <p>
         Отредактируйте <file>/etc/elilo.conf</file>, удалив все параметры 
         "console=".
       </p>
      </item>
      <item>
       <p>
         Запустите <prgn>elilo</prgn>, чтобы применить к системному 
         загрузчику новую конфигурацию.
       </p>
      </item>
      <item>
       <p>
         Перезагрузитесь и с помощью EFI меню обслуживания загрузки выберите 
         правильные устройства для консольного вывода, ввода и 
         ошибок. Затем, чтобы изменения вступили в силу выполните "холодную" 
         перезагрузку.
       </p>
       <p>
         Для консоли MP осторожно выберите в пути устройство 
         "Acpi(HWP0002,700)/Pci(...)/Uart".
       </p>
      </item>
     </list>
    </p>
    <p>
      Более подробно об этих изменениях и выявлении неисправностей можно 
      прочитать в <url 
      id="http://lists.debian.org/debian-ia64/2005/01/msg00008.html">.
    </p>
   </sect1>
    ]]>

   <sect1>
    <heading>
      Обновление ядра
    </heading>
    <p>
      При dist-upgrade с &oldreleasename; до &releasename; настоятельно 
      рекомендуется установить новый метапакет linux-image-2.6-*. Этот пакет 
      может быть установлен автоматически процессом dist-upgrade. Вы можете 
      проверить это командой:
     <example>
# dpkg -l | grep '^ii  linux-image'
          </example>
    </p>
    <p>
      Если в результате вы ничего не увидели, то вам нужно установить новый 
      пакет linux-image вручную. Чтобы увидеть список доступных метапакетов 
      linux-image-2.6, выполните:
     <example>
# apt-cache search linux-image-2.6- | grep -v transition
          </example>
    </p>
    <p>
      Если вы не знаете какой пакет выбрать, запустите <tt>uname -r</tt> и 
      поищите пакет с похожим именем. Например, если вы увидели 
      '2.4.27-3-686', то рекомендуется установить 
      <package>linux-image-2.6-686</package>. Для выбора подходящего из 
      возможных, вы можете воспользоваться <prgn>apt-cache</prgn>, чтобы 
      посмотреть подробное описание каждого пакета. Например:
     <example>
# apt-cache show linux-image-2.6-686
          </example>
    </p>
    <p>
      Затем ядро нужно установить с помощью <tt>aptitude install</tt>. После 
      установки ядра следует перезагрузить систему при первой возможности.
    </p>
    <p>
      Если вы не боитесь трудностей, то можете скомпилировать ядро 
      самостоятельно из исходного кода. Установите пакет 
      <package>kernel-package</package> и прочитайте документацию в каталоге 
      <file>/usr/share/doc/kernel-package</file>.
    </p>
   </sect1>
  </sect>
  <sect id="nownownow">
   <heading>
     Перед перезагрузкой
   </heading>
   <p>
     Когда команда <tt>aptitude dist-upgrade</tt> закончила работу, 
     формально обновление завершено, но <em>перед</em> перезагрузкой следует 
     проделать ещё несколько действий.
   </p>
   <sect1 id="mdadm">
    <heading>
      Обновление mdadm
    </heading>
    <p>
      Для mdadm теперь нужен конфигурационный файл для составления MD 
      массивов (RAID) с первоначального ramdisk и во время процесса 
      инициализации системы. Прочитайте и выполните инструкции из 
      <file>/usr/share/doc/mdadm/README.upgrading-2.5.3.gz</file> после 
      обновления пакета <strong>и до перезагрузки</strong>. Последняя версия 
      этого файла доступна <url 
      id="http://svn.debian.org/wsvn/pkg-mdadm/mdadm/trunk/debian/README.upgrading-2.5.3?op=file">; 
      обратитесь к ней, если возникнут проблемы.
    </p>
   </sect1>
  </sect>
  <sect id="obsolete">
   <heading>
     Устаревшие пакеты
   </heading>
   <p>
     Вместе с появлением девяти тысяч новых пакетов, более двух тысяч 
     пакетов из состава &oldreleasename; с появлением &releasename; 
     устаревают. Устаревшие пакеты не включены в &releasename; и не будут 
     больше обновляться. Ничто не мешает вам продолжить пользоваться этими 
     пакетами, но приблизительно через год <footnote><p>Или при появлении 
     нового выпуска Debian. Обычно поддержку получают одновременно не более 
     двух стабильных выпусков.</p></footnote> после выхода &releasename; 
     команда безопасности прекратит выпускать для них исправления. Мы 
     рекомендуем перейти на использование альтернативных пакетов, если есть 
     такая возможность.
   </p>
   <p>
     Пакет может быть удалён из дистрибутива по многим причинам: разработка 
     программы прекращена, пакет не интересен никому из разработчиков 
     Debian, программа вытеснена другой, более функциональной программой или 
     версией программы. Возможно, пакет содержит ошибки, из-за которых пока 
     не может быть включён в &releasename;, в последнем случае пакет может 
     быть  доступен в нестабильном ("unstable") дистрибутиве.
   </p>
   <p>
     Определить, какие пакеты устарели, очень легко, так как программы 
     управления помечают их как "устаревшие". Если вы используете 
     <prgn>aptitude</prgn>, то полный список этих пакетов находится в 
     разделе "Устаревшие и локально созданные пакеты". В программе 
     <prgn>dselect</prgn> есть аналогичный раздел, но список пакетов в нём 
     может несколько отличаться. Если в &oldreleasename; вы использовали 
     <prgn>aptitude</prgn> для установки пакетов вручную, то 
     <prgn>aptitude</prgn> помнит об этом факте, и пометит такие пакеты как 
     устаревшие, которые были установлены для удовлетворения зависимостей и 
     которые больше не нужны, если пакет был удалён. В отличие от 
     <prgn>deborphan</prgn>, <prgn>aptitude</prgn> не считает устаревшими 
     пакеты, которые вы установили вручную, а не автоматически для 
     удовлетворения зависимостей.
   </p>
   <p>
     Существуют и другие инструменты для определения неиспользуемых пакетов, 
     в их число входят <prgn>deborphan</prgn>, <prgn>debfoster</prgn> и 
     <prgn>cruft</prgn>. Советуем использовать <prgn>deborphan</prgn>, хотя 
     по умолчанию он ищет только ненужные библиотеки (пакеты в секциях 
     "libs" и "oldlibs", от которых не зависит ни один другой пакет). Не 
     удаляйте подряд все пакеты, найденные такими инструментами (в 
     особенности, если при запуске вы указали опции, отличные от опций по 
     умолчанию), чтобы не удалить что-нибудь нужное. Настоятельно 
     рекомендуем перед удалением внимательно просмотреть список предложенных 
     пакетов (прочесть описание, посмотреть входящие файлы).
   </p>
   <p>
     В <url id="&url-bts;" name="системе отслеживания ошибок Debian"> 
     зачастую содержится дополнительная информация о причинах удаления 
     пакета. Просмотрите архив сообщений об ошибках интересующего вас 
     пакета, а также архивированные ошибки для <url 
     id="&url-bts;/cgi-bin/pkgreport.cgi?pkg=ftp.debian.org#38:archive=yes" 
     name="псевдо-пакета ftp.debian.org">.
   </p>
   <sect1 id="dummy">
    <heading>
      Пакеты-пустышки
    </heading>
    <p>
      Многие пакеты из &oldreleasename; в &releasename; были поделены на 
      несколько разных пакетов, чаще всего чтобы облегчить поддержку 
      системы. Для простоты обновления в состав &releasename; нередко входит 
      пакет-"пустышка" (пустой пакет с именем старого пакета из 
      &oldreleasename;). Такой пакет при установке устанавливает новые 
      пакеты, от которых зависит. Сразу же после установки "пустышки" 
      становятся неиспользуемыми и их можно спокойно удалять.
    </p>
    <p>
      В описании большинства (но не всех) пакетов-пустышек ясно указано их 
      предназначение. К сожалению, никаких правил для описания пустышек нет, 
      поэтому для их обнаружения вам может пригодиться 
      <prgn>deborphan</prgn> с опцией <tt>--guess</tt>. Некоторые пустышки 
      удалять после обновления не нужно, так как они впоследствии 
      используются для определения установленной версии программы.
    </p>
   </sect1>
  </sect>
 </chapt>
 <chapt id="information">
  <heading>
    Что надо знать о &releasename;
  </heading>
  <sect id="problems">
   <heading>
     Возможные проблемы
   </heading>
   <p>
     Иногда перемены к лучшему имеют побочные эффекты, которых мы не можем 
     избежать без появления ошибок где-нибудь ещё. Здесь мы опишем проблемы, 
     которые уже известны. Прочитайте также список известных ошибок, 
     соответствующую документацию на пакеты, отчёты об ошибках и другую 
     информацию, указанную в <ref id="morereading">.
   </p>
   <sect1 id="window-scaling">
    <heading>
      Некоторые сайты в сети недоступны по TCP
    </heading>
    <p>
      Начиная с версии 2.6.17, Linux использует изменение окна TCP, 
      описанное в RFC 1323, в агрессивной манере. Некоторые серверы не 
      удовлетворяют RFC и объявляют неверные размеры своих окон. Подробней 
      смотрите ошибки <url id="http://bugs.debian.org/381262" 
      name="#381262"> и <url id="http://bugs.debian.org/395066" 
      name="#395066">.
    </p>
   </sect1>
    <![ %i386 [

   <sect1 id="poweroff">
    <heading>
      Больше не работает автоматическое отключение питания
    </heading>
    <p>
      На некоторых старых системах команда <tt>shutdown -h</tt> может больше 
      не выключать питание системы (но останавливает её). В этих случаях 
      нужно использовать apm. Добавление <tt>acpi=off apm=power_off</tt> в 
      командную строку ядра, например в конфигурационные файлы 
      <package>grub</package> или <package>lilo</package> должно решить 
      проблему. Подробней смотрите ошибку <url 
      id="http://bugs.debian.org/390547" name="#390547">.
    </p>
   </sect1>
    ]]>

   <sect1 id="apt-pdiff">
    <heading>
      Apt загружает маленькие файлы по команде update
    </heading>
    <p>
      В <prgn>apt</prgn> была добавлена поддержка загрузки только различий 
      между файлами packages. Это удобно пользователям с неустойчивым 
      подключением к сети, но людям с близколежащим сервером-зеркалом можно 
      выключить эту возможность. Для этого добавьте <tt>Acquire::Pdiffs 
      "false";</tt> в файл <file>/etc/apt/apt.conf</file>.
    </p>
   </sect1>
  </sect>
   <![ %defaulted-2.4 [

  <sect id="upgrade-to-2.6">
   <heading>
     Обновление ядра до версии 2.6
   </heading>
   <p>
     Ядра серии 2.6 сильно отличаются от ядер серии 2.4. Модули ядра были 
     переименованы, многие драйверы были частично (а иногда и полностью) 
     переписаны. Поэтому к обновлению с предыдущих ядер до 2.6 не следует 
     относиться легкомысленно. В этом разделе вы узнаете о некоторых 
     проблемах, с которыми вы, возможно, столкнётесь.
   </p>
   <p>
     Для начала, мы настоятельно не рекомендуем вам менять ядро одновременно 
     с обновлением всей системы &oldreleasename; на &releasename;. Сначала 
     убедитесь, что система нормально работает с вашим старым ядром (или с 
     ядром 2.4 из &releasename;), а затем отдельно обновите ядро до 2.6.
   </p>
   <p>
     Если вы планируете скомпилировать собственное ядро, то перед 
     перезагрузкой с ядром 2.6 убедитесь, что пакет 
     <package>module-init-tools</package> установлен. Этот пакет заменяет 
     <package>modutils</package> для ядер серии 2.6. При установке любого из 
     пакетов <package>linux-image</package>, пакет 
     <package>module-init-tools</package> будет установлен автоматически по 
     зависимости.
   </p>
   <p>
     Если вы используете <em>LVM</em>, то до перезагрузки вам также надо 
     будет установить пакет <package>lvm2</package>, так как ядро 2.6 само 
     по себе не поддерживает LVM1. Для доступа к разделам LVM1 применяется 
     модуль совместимости dm-mod из пакета <package>lvm2</package>. Пакет 
     <package>lvm10</package> можно не удалять, сценарии начальной загрузки 
     определят используемое ядра и загрузят подходящую версию.
   </p>
   <p>
     Если у вас есть записи в файле <file>/etc/modules</file> (список 
     модулей, загружаемых при старте системы), обратите внимание на то, что 
     имена некоторых модулей изменились. В этом случае файл надо 
     соответствующим образом исправить.
   </p>
    <![ %i386-amd64 [

   <p>
     Для некоторых контроллеров SATA-дисков имена устройств могут измениться 
     с <file>/dev/hdX</file> на <file>/dev/sdX</file>. Если это случится, 
     придётся внести соответствующие изменения в файл 
     <file>/etc/fstab</file> и конфигурацию загрузчика ОС. При неверной 
     настройке компьютер может перестать загружаться.
   </p>
    ]]>

   <p>
     После установки ядра 2.6, но перед его первой загрузкой убедитесь, что 
     вы в случае неудачи сможете восстановить старое ядро. Во-первых, 
     проверьте, что в настройках системного загрузчика есть пункты и для 
     нового, и для старого ядра. Приготовьте "спасательную" дискету или 
     компакт-диск на тот случай, если вдруг не удастся загрузить старое ядро 
     при помощи загрузчика.
   </p>
    <![ %not-s390 [<![ %not-amd64 [

   <sect1 id="2.6-keyboard">
    <heading>
      Настройка клавиатуры
    </heading>
    <p>
      Одно из самых значительных изменений в серии ядер 2.6 это коренная 
      переработка интерфейсов устройств ввода. Теперь для ядра все 
      клавиатуры выглядят как стандартная клавиатура PC. Другими словами, 
      если у вас клавиатура другого типа (например, USB-MAC или производства 
      Sun), то после загрузки ядра 2.6 она, скорее всего, откажется 
      работать.
    </p>
    <p>
      Если у вас есть возможность зайти на ваш компьютер по SSH, вы сможете 
      исправить ситуацию, запустив <tt>dpkg-reconfigure console-data</tt> и 
      выбрав клавиатуру "pc" из полного списка клавиатур.
    </p>
    <p>
      Если эта проблема проявляется при работе в консоли, то, скорее всего, 
      придётся изменить настройки клавиатуры и для X Window System. Это 
      можно сделать либо запуском <tt>dpkg-reconfigure xserver-xfree86</tt>, 
      либо непосредственно исправив файл <file>/etc/X11/XF86Config-4</file> 
      вручную. Не забудьте прочесть документацию, о которой упомянуто в <ref 
      id="nownownow">.
    </p>
     <![ %i386 [

    <p>
      На архитектуре &arch-title; появление этой проблемы маловероятно, так 
      как все клавиатуры PS/2 и большая часть клавиатур USB и раньше 
      опознавались как "стандартная клавиатура PC".
    </p>
     ]]><![ %not-i386 [

    <p>
      Если ваша клавиатура подключена по USB, то она может быть настроена 
      либо как "стандартная PC", либо как "клавиатура USB-MAC". В первом 
      случае проблема вас не затронет.
    </p>
     ]]>

   </sect1>
    ]]>

   <sect1 id="2.6-mouse">
    <heading>
      Настройка мыши
    </heading>
    <p>
      Из-за тех же изменений в работе устройств ввода, возможно, придётся 
      перенастроить X Window System и пакет <package>gpm</package>. Если 
      после перехода на ядро серии 2.6 ваша мышь перестала работать, то это, 
      скорее всего, потому, что имя файла-устройсва мыши изменилось. Если 
      поддержка мыши была реализована в виде модуля - то имя этого модуля 
      тоже могло измениться.
    </p>
     <![ %sparc [

    <p>
      Если сейчас ваша X Window System настроена на использование 
      <file>/dev/sunmouse</file>, то после установки нового ядра имя 
      файла-устройства надо будет изменить на <file>/dev/psaux</file>.
    </p>
     ]]>

   </sect1>
   <sect1 id="2.6-sound">
    <heading>
      Настройка звука
    </heading>
    <p>
      В ядрах серии 2.6 драйверы звуковых устройств ALSA предпочтительнее 
      драйверов OSS. Драйверы ALSA звуковых устройств поставляются по 
      умолчанию в виде модулей. Чтобы звук заработал, нужно загрузить 
      подходящие модули ALSA. Обычно это происходит автоматически, если у 
      вас установлен пакет <package>alsa-base</package>, 
      <package>hotplug</package>, или <package>discover</package>. Пакет 
      <package>alsa-base</package> также отключит автоматическую загрузку 
      OSS модулей (через blacklist) в пакетах <package>hotplug</package> и 
      <package>discover</package>. Если в файл <file>/etc/modules</file> у 
      вас включены модули OSS, то нужно их удалить.
    </p>
   </sect1>
    ]]>

   <sect1 id="2.6-udev">
    <heading>
      Переход на 2.6 может привести в действие udev
    </heading>
    <p>
      <package>udev</package> -- это набор программ, реализующих файловую 
      систему devfs на уровне приложений. devfs, будучи смонтирована в 
      каталог <file>/dev</file>, динамически создаёт файлы устройств для 
      загруженных модулей ядра. Она также динамически добавляет и удаляет 
      устройства при загрузке и выгрузке модулей, работая вместе с пакетом 
      <package>hotplug</package>, который автоматически определяет 
      подключаемые к системе устройства. Пакет <package>udev</package> 
      работает только с ядрами серии 2.6.
    </p>
    <p>
      Так как <package>udev</package> автоматически устанавливается по 
      зависимостям от нового генератора initrd по умолчанию, используемого 
      для ядер версий 2.6 (<package>initramfs-tools</package>), обновление 
      до ядра версий 2.6 активирует работу <package>udev</package>.
    </p>
    <p>
      Хотя <package>udev</package> и был хорошо оттестирован, у вас могут 
      возникнуть вопросы, связанные работой некоторых устройств. Чаще всего 
      ошибки вызваны изменением владельца или разрешений 
      файла-устройства. Некоторые устройства по умолчанию не могут быть 
      созданы (например, <file>/dev/video</file> и <file>/dev/radio</file>).
    </p>
    <p>
      Все эти проблемы можно решить настройкой 
      <package>udev</package>. Более подробная информация - в <manref 
      section="8" name="udev"> и <file>/etc/udev</file>.
    </p>
   </sect1>
  </sect>
   ]]>

  <sect id="xorg">
   <heading>
     Переход с XFree86 на X.Org
   </heading>
   <p>
     Переход на X.Org включает некоторые структурные изменения. В случае, 
     если установлены все пакеты из Debian и также включённые в 
     &releasename;, то обновление должно пройти без проблем. Опыт, однако, 
     показывает, что нужно сделать несколько изменений, так как известно, 
     что без них могут возникнуть проблемы во время обновления.
   </p>
   <p>
     Наиболее важным изменением является то, что каталог 
     <file>/usr/X11R6/bin</file> больше не существует и остаётся только в 
     виде символической ссылки на <file>/usr/bin</file>. Это значит, что 
     этот каталог будет пуст в момент установки новых пакетов. Новые пакеты 
     конфликтуют с большинством пакетов, которые используют 
     <file>/usr/X11R6/bin</file>, но в некоторых случаях может понадобиться 
     ручное вмешательство. Не запускайте обновление в X-сессии.
   </p>
   <p>
     В случае, если обновление прервалось во время установки X.Org, 
     убедитесь, не осталось ли файлов в <file>/usr/X11R6/bin</file>. Вы 
     можете использовать <tt>dpkg -S</tt>, чтобы выяснить, какому пакету 
     Debian принадлежит оставшийся файл (если таковые имеются), и удалить 
     эти пакеты с помощью <tt>dpkg --remove</tt>. Запомните какие пакеты 
     удаляете, для того чтобы позже можно было установить пакеты, заменяющие 
     их. Перед тем как продолжить обновление, нужно удалить все файлы в 
     каталоге <file>/usr/X11R6/bin</file>.
   </p>
   <p>
     Подробности и другие проблемы можно найти на <url 
     id="http://wiki.debian.org/Xorg69To7">.
   </p>
  </sect>
  <sect id="exim">
   <heading>
     Обновление exim на exim4
   </heading>
   <p>
     Одним из устаревших пакетов к выпуску &releasename; стал агент 
     пересылки почты (MTA) exim, который был заменён полностью новым пакетом 
     exim4.
   </p>
   <p>
     Программа exim (версии 3.xx) не поддерживалась разработчиком несколько 
     лет, и поэтому в Debian также была прекращена поддержка этой 
     версии. Если вы всё ещё используете exim 3.xx, обновите установленный 
     exim до exim4 вручную. Так как exim4 уже был в &oldreleasename;, вы 
     можете выполнить обновление в системе &oldreleasename; перед тем как 
     обновляться до &releasename;, или после обновления до &releasename;, 
     как хотите. Помните, что старый пакет exim обновлён не будет и для него 
     не будет обеспечиваться поддержка безопасности после того, как 
     поддержка &oldreleasename; будет прекращена.
   </p>
   <p>
     Пакеты exim4 в Debian очень хорошо документированы. Домашняя страница 
     пакетов в Debian Wiki <url id="http://wiki.debian.org/PkgExim4">, файл 
     README можно найти в <url 
     id="http://pkg-exim4.alioth.debian.org/README/README.Debian.html">, а 
     также внутри пакетов.
   </p>
   <p>
     В файле README есть глава Packaging, в которой описаны различия 
     пакетов, которые мы предлагаем, также есть глава об обновлении с Exim 
     3, которая поможет вам выполнить переход.
   </p>
  </sect>
  <sect id="apache2">
   <heading>
     Обновление apache2
   </heading>
   <p>
     Apache был обновлён до новой версии 2.2. Хотя это не должно ничего 
     сломать в большинстве случаев, есть несколько возможных проблем, с 
     которыми лучше ознакомиться.
   </p>
   <p>
     На <url id="http://httpd.apache.org/docs/2.2/upgrading.html"> 
     содержатся изменения, сделанные разработчиком. Прочитайте эту страницу 
     и особенно обратите внимание:
    <list>
     <item>
      <p>
        нужно перекомпилировать все модули
      </p>
     </item>
     <item>
      <p>
        модули авторизации были пересортированы и переименованы
      </p>
     </item>
     <item>
      <p>
        некоторые параметры конфигурации были переименованы
      </p>
     </item>
    </list>
   </p>
   <p>
     Из изменений, сделанных Debian, следует отметить, что строка SSL больше 
     не определена, так как ssl теперь поддерживается в пакете по умолчанию.
   </p>
  </sect>
  <sect id="php-globals">
   <heading>
     Запрещены небезопасные конфигурации php
   </heading>
   <p>
     Многие годы было известно, что включение настройки 
     <tt>register_globals</tt> в PHP ненадёжно и опасно, и в пакете она была 
     отключена по умолчанию. Теперь эту настройку вообще не рекомендуется 
     использовать на системах Debian, как слишком опасную. То же самое 
     касается недостатков для <tt>safe_mode</tt> и <tt>open_basedir</tt>, 
     которым также некоторое время не уделялось должного внимания.
   </p>
   <p>
     Начиная с этого выпуска, команда обеспечения безопасности в Debian не 
     предоставляет поддержку безопасности тем настройкам PHP, которые 
     заранее считаются небезопасными. Самое главное: проблемы, возникшие 
     из-за включённого <tt>register_globals</tt> больше не рассматриваются.
   </p>
   <p>
     Если вы используете старые приложения, которым требуется 
     <tt>register_globals</tt>, включайте его только для соответствующего 
     пути, например, через конфигурационный файл Apache. Подробности описаны 
     в файле <file>README.Debian.security</file> из каталога с документацией 
     PHP (<file>/usr/share/doc/php4</file>, 
     <file>/usr/share/doc/php5</file>).
   </p>
  </sect>
  <sect id="mozilla-security">
   <heading>
     Безопасность в продуктах Mozilla
   </heading>
   <p>
     Программы Mozilla являются важными инструментами для многих 
     пользователей. К сожалению, политика безопасности разработчиков Mozilla 
     принуждает пользователей обновляться до новой версии, которую выпустил 
     разработчик, что противоречит политике Debian не делать больших 
     функциональных изменений при обновлениях безопасности. Мы не можем 
     ничего предсказать, но во время жизни &releasename; команда 
     безопасности Debian может подойти к такому моменту, когда поддержка 
     продуктов Mozilla станет невозможной, и ей придётся объявить о 
     прекращении обеспечения безопасности продуктов Mozilla. Вы должны 
     принять это во внимание при развёртывании Mozilla и рассмотреть 
     альтернативы, имеющиеся в Debian, если отсутствие поддержки в области 
     безопасности создаст проблему для вас.
   </p>
  </sect>
 </chapt>
 <chapt id="moreinfo">
  <heading>
    Более подробная информация о &debian;
  </heading>
  <sect id="morereading">
   <heading>
     Что ещё можно прочитать
   </heading>
   <p>
     Помимо этой информации о выпуске и руководства по установке, существует 
     документация по &debian;, разрабатываемая проектом Debian Documentaton 
     Project (DDP), целью которого является создание высококачественной 
     документации для пользователей и разработчиков Debian. В состав этой 
     документации входят Руководство по Debian, Руководство нового 
     сопровождающего Debian, FAQ по Debian и многое другое. Полную 
     информацию о доступных документах можно получить на <url id="&url-ddp;" 
     name=" веб-сайте DDP">.
   </p>
   <p>
     Документация по конкретным пакетам устанавливается в каталог 
     <file>/usr/share/doc/<var>пакет</var></file>. Там может находиться 
     информация об авторских правах, специфичная для Debian информация и 
     документация от авторов исходной программы.
   </p>
  </sect>
  <sect id="gethelp">
   <heading>
     Если нужна помощь
   </heading>
   <p>
     Пользователи Debian могут воспользоваться помощью, советами и 
     поддержкой из нескольких источников, но к ним следует прибегать только 
     не удалось найти ответа на вопрос в документации. Этот раздел содержит 
     краткое описание дополнительных источников помощи для новых 
     пользователей.
   </p>
   <sect1 id="lists">
    <heading>
      Списки рассылки
    </heading>
    <p>
      Основной интерес для пользователей Debian представляют англоязычный 
      список рассылки debian-user и списки debian-user-<var>язык</var> или 
      debian-<var>язык</var> для других языков. Для русского языка это 
      список debian-russian. Информацию о списках рассылки и о том, как на 
      них подписаться см. по адресу <url 
      id="&url-debian-list-archives;">. Пожалуйста, перед тем, как отправить 
      вопрос в список рассылки, поищите ответ на него в архивах. Просим 
      также придерживаться общепринятых норм почтового этикета.
    </p>
   </sect1>
   <sect1 id="irc">
    <heading>
      IRC
    </heading>
    <p>
      У Debian есть IRC-канал, предназначенный для поддержки пользователей 
      Debian. Он расположен в сети OFTC IRC, предоставляющей интерактивные 
      сервисы сообществам по интересам. Чтобы войти на канал, соединитесь с 
      сервером &debian-irc-server; с помощью своего любимого IRC-клиента и 
      присоединитесь к каналу #debian. Для русскоязычных пользователей 
      существует канал #debian-russian в той же сети.
    </p>
    <p>
      Просим вас следовать правилам поведения на канале и уважать других 
      пользователей. Более подробную информацию об OFTC можно получить на 
      <url id="&url-irc-host;" name="её веб-сайте">.
    </p>
   </sect1>
  </sect>
  <sect id="bugs">
   <heading>
     Как сообщить об ошибке
   </heading>
   <p>
     Мы приложили немало усилий, чтобы сделать Debian GNU/Linux операционной 
     системой высокого качества, однако это не означает, что поставляемые 
     нами пакеты не содержат абсолютно никаких ошибок. Мы предоставляем 
     нашим пользователям полную информацию обо всех обнаруженных ошибках в 
     нашей Системе отслеживания ошибок (Bug Tracking System, BTS), 
     расположенной по адресу <url id="&url-bts;" 
     name="bugs.debian.org">. Такой подход согласуется с концепцией открытой 
     разработки Debian.
   </p>
   <p>
     Если вы обнаружите ошибку в дистрибутиве или каком-то из его пакетов, 
     пожалуйста, сообщите о ней, чтобы в следующем выпуске она была 
     исправлена. Чтобы сообщить об ошибке, требуется работающий адрес 
     электронной почты. Это необходимо для того, чтобы мы могли отслеживать 
     ошибки, а разработчики - связываться с отправителями отчётов об 
     ошибках, если им понадобится дополнительная информация.
   </p>
   <p>
     Отправить сообщение об ошибке можно с помощью программы 
     <package>reportbug</package> или вручную по электронной почте. Более 
     подробную информацию о Системе отслеживания ошибок и о том, как её 
     использовать, можно найти в каталоге <file>/usr/share/doc/debian</file> 
     после установки пакета <package>doc-debian</package> или на сайте <url 
     id="&url-bts;" name="Системы отслеживания ошибок">.
   </p>
  </sect>
  <sect id="contributing">
   <heading>
     Как помочь Debian
   </heading>
   <p>
     Чтобы помочь Debian, не нужно быть большим специалистом. Помогая 
     пользователям в решении их проблем в <url 
     id="&url-debian-list-archives;" name="списках рассылки"> вы уже 
     помогаете сообществу. Выявление (или, что ещё лучше, решение) проблем, 
     связанных с разработкой дистрибутива, участие в работе <url 
     id="&url-debian-list-archives;" name="списков для разработчиков">, 
     также очень важно. Чтобы помочь поддерживать высокое качество Debian, 
     <url id="&url-bts;" name="отправляйте сообщения об ошибках"> и 
     помогайте разработчикам отслеживать и исправлять их. Если вы хорошо 
     владеете языком, вы можете помочь в написании <url id="&url-ddp;" 
     name="документации"> или <url id="&url-debian-i18n;" name="переводе"> 
     существующей документации на родной язык.
   </p>
   <p>
     Если вы можете уделить Debian больше времени, можно взяться за 
     сопровождение какой-нибудь свободной программы в Debian. В частности, 
     полезной была бы поддержка пакетов, которые кто-то особенно хотел бы 
     видеть в Debian. Подробную информацию можно найти на странице <url 
     id="&url-wnpp;" name="требующих доработки и планируемых пакетов">. Если 
     вам интересна какая-то специфическая группа пользователей, возможно, вы 
     захотите участвовать в одном из дочерних проектов Debian. Среди них 
     перенос Debian на другие архитектуры, проекты <url id="&url-debian-jr;" 
     name="Debian для детей"> и <url id="&url-debian-med;" name="Debian в 
     медицине">.
   </p>
   <p>
     В любом случае, если вы участвуете в работе сообщества Свободного ПО в 
     качестве пользователя, программиста, писателя или переводчика, вы уже 
     помогаете Свободному программному обеспечению. Такое участие приносит 
     удовольствие и радость, даёт возможность познакомиться с новыми людьми.
   </p>
  </sect>
 </chapt>
 <appendix id="old-stuff">
  <heading>
    Управление системой &oldreleasename;
  </heading>
  <p>
    В этом приложении содержится информация о том, как установить или 
    обновить пакеты &oldreleasename; перед обновлением до &releasename;. В 
    некоторых случаях это может понадобиться.
  </p>
  <sect id="old-upgrade">
   <heading>
     Обновление системы &oldreleasename;
   </heading>
   <p>
     В основном это обновление ничем не отличается от всех предыдущих 
     обновлений &oldreleasename;, которые вы делали. Единственное отличие 
     состоит в том, что сначала надо убедиться, что ваши списки пакетов всё 
     ещё содержат пакеты &oldreleasename;, как описано в разделе <ref 
     id="old-sources">.
   </p>
  </sect>
  <sect id="old-sources">
   <heading>
     Проверка списка источников APT
   </heading>
   <p>
     Если одна или несколько записей в вашем 
     <file>/etc/apt/sources.list</file> ссылаются на стабильный дистрибутив 
     ('stable'), то вы уже "используете" &releasename;. Если вы уже 
     запустили <tt>apt-get update</tt>, то ещё не поздно всё отменить, 
     просто выполнив инструкцию, приведённую ниже.
   </p>
   <p>
     Если вы успели установить пакеты из &releasename;, то особого смысла в 
     установке пакетов из &oldreleasename; уже нет. В этом случае вам 
     следует решить - довести до конца обновление или нет. Вернуться к 
     использованию старых версий пакетов возможно, но эта процедура выходит 
     за рамки данного документа.
   </p>
   <p>
     Откройте файл <file>/etc/apt/sources.list</file> с помощью любого 
     текстового редактора (потребуются привилегии суперпользователя). Во 
     всех строках, начинающихся с <tt>deb http:</tt> или с <tt>deb ftp:</tt> 
     замените "<tt>stable</tt>" на "<tt>&oldreleasename;</tt>".
   </p>
   <p>
     Если вы нашли строки, начинающиеся с <tt>deb file:</tt>, то вам 
     придётся самим проверить, какие пакеты хранятся в указанном каталоге - 
     из &oldreleasename; или из &releasename;.
   </p>
   <p>
     <strong>Внимание!</strong> Не исправляйте строки, начинающиеся с 
     <tt>deb cdrom:</tt>!. Если вы исправите такую строку, то вам придётся 
     снова запускать <prgn>apt-cdrom</prgn>. Не беспокойтесь, если источник 
     "cdrom" ссылается на нестабильный ("<tt>unstable</tt>") 
     дистрибутив. Как это ни странно, так и должно быть.
   </p>
   <p>
     Если вы внесли какие-нибудь изменения, сохраните файл и выполните 
     команду
    <example>
# apt-get update
          </example>
     для обновления списка пакетов.
   </p>
  </sect>
 </appendix>
</book>
</debiandoc>
