<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
  "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % shareddata   SYSTEM "../release-notes.ent" > %shareddata;
]>

<!-- English version: 8386 -->
<!-- Translators: Felipe Augusto van de Wiel <faw@debian.org>, -2009. -->
<!--              Marcelo Gomes de Santana <marcgsantana@yahoo.com.br>, 2011. -->
<!-- Revisor: Chanely Marques <chanelym@gmail.com>, 2011. -->
<!-- Brazilian l10n team <debian-l10n-portuguese@lists.debian.org> -->

<chapter id="ch-information" lang="pt_BR">
<title>Problemas a serem considerados para o &releasename;</title>

<section id="problems">
<title>Potenciais problemas</title>
<para>
Algumas vezes, mudanças tem efeitos colaterais que não podem ser evitados ou
que acabam expondo bugs em outros locais. Esta seção documenta problemas
conhecidos. Por favor, também leia a errata, a documentação dos pacotes
relevantes, relatórios de bugs e outras informações mencionadas em
<xref linkend="morereading"/>.
</para>
<section id="udev">
<title>Problemas com dispositivos relacionados ao udev</title>
<para>
Embora o <systemitem role="package">udev</systemitem> tenha sido extensivamente
testado, você pode encontrar pequenos problemas com alguns dispositivos que
precisarão ser corrigidos. Os problemas mais comuns são mudança de permissões
e/ou dono de um dispositivo. Em alguns casos um dispositivo não pode ser
criado por padrão (e.g. <filename>/dev/video</filename> e
<filename>/dev/radio</filename>).
</para>
<para>
O <systemitem role="package">udev</systemitem> fornece mecanismos de
configuração para lidar com esses problemas. Veja <citerefentry>
<refentrytitle>udev</refentrytitle> <manvolnum>8</manvolnum> </citerefentry>
e <filename>/etc/udev</filename> para mais informações.
</para>
</section>

<section id="ide-pata-transition">
<title>Migração de drivers de disco de subsistemas IDE para PATA</title>
<para>
 A nova versão do kernel Linux fornece diferentes drivers para
 algumas controladoras PATA (IDE). O nome de alguns discos rígidos,
 CD-ROM, e dispositivos de fita podem mudar.
</para>
<para>
 Agora é recomendado identificar dispositivos de disco no arquivo de
 configuração pelo rótulo ou UUID (identificadores únicos) ao invés do nome
 do dispositivo, que irá funcionar com ambas as versões de kernel novas e
 antigas. Após a atualização para a versão &releasename; dos pacotes do 
 kernel Debian, o pacote <systemitem role="package">linux-base</systemitem>
 irá se oferecer para fazer essa conversão para você nos arquivos de
 configuração para a maioria dos pacotes relacionados ao sistema de arquivos
 no sistema, incluindo os vários gerenciadores de inicialização incluídos
 no Debian. Se você optar por não atualizar a configuração do sistema
 automaticamente, ou não estiver usando os pacotes de kernel Debian,
 você mesmo deve atualizar os IDs dos dispositivos antes da próxima
 reinicialização do sistema para garantir que o sistema permaneça
 inicializável.
</para>
</section>

<section id="mdadm-metadata">
<title>Mudança do formato de metadados do mdadm requer Grub recente</title>
<para>
A informação a seguir só se aplica aos usuários que queiram deixar o
gerenciador de inicialização <systemitem role="package">grub-pc</systemitem>
carregar o kernel diretamente de um dispositivo <acronym>RAID</acronym>
criado com o <systemitem role="package">mdadm</systemitem> 3.x e valores
padrão, ou quando a versão do metadado é explicitamente definida usando
<literal>-e</literal>. Especialmente, isso inclui todos os arranjos criados
durante ou após a instalação do Debian &releasename;. Arranjos criados com
versões mais antigas do mdadm, e <acronym>RAID</acronym>s criados com a
opção de linha de comando <literal>-e0.9</literal> não serão afetados.
</para>
<para>
Versões do <systemitem role="package">grub-pc</systemitem> mais antigas
do que 1.98+20100720-1 não serão capazes de inicializar diretamente de
um <acronym>RAID</acronym> com os formatos de metadados 1.x (o novo padrão
é 1.2). Para garantir um sistema inicializável, por favor, certifique-se
de usar o <systemitem role="package">grub-pc</systemitem>
1.98+20100720-1 ou mais novo, que é fornecido pelo Debian &releasename;.
Um sistema não inicializável pode ser recuperado com o <ulink
url="http://www.supergrubdisk.org/super-grub2-disk/">Disco Super Grub2</ulink>
ou <ulink url="http://grml.org">grml</ulink>.
</para>
</section>

<section id="xen-upgrades" arch="amd64;i386">
<title>Atualizações do Xen</title>
<para>
Se você instalou o Xen no &oldreleasename;, o kernel padrão inicializado pelo
GRUB Legacy foi o primeiro a fornecer um Xen hypervisor e suporte a dom0.
Esse comportamento mudou com o GRUB 2 no &releasename;: o kernel não-Xen
irá inicializar por padrão. Se você precisa de Xen e espera inicializá-lo
por padrão, existem dicas de configuração em 
<ulink url="http://wiki.debian.org/Xen#Installationandconfiguration" />.
</para>
<para>
Atualizações do &oldreleasename; não instalarão automaticamente a versão 4.0
do Xen. Você deve instalar o pacote <systemitem
role="package">xen-linux-system-2.6-xen-amd64</systemitem> ou <systemitem
role="package">xen-linux-system-2.6-xen-686</systemitem> para garantir que
o Xen hypervisor e o kernel apropriado para o dom0 foram instalados, e
fazer futuras atualizações de modo mais fácil.
</para>
<para>
O kernel Xen 2.6.32 do &Releasename; usa pvops ao invés do patch 
forward-ported Xenlinux. Isso significa que no &releasename; seu domU não
será capaz de usar (por exemplo) <filename>sda1</filename> como um nome de
dispositivo para seu disco rígido, uma vez que esse esquema de nomeação
não está disponível no pvops. Ao invés disso você deve usar (como um exemplo
correspondente) <filename>xvda1</filename>, que é compatível com ambos os
kernels Xen antigos e novos.
</para>
</section>

<section id="pam_userdb">
<title>Quebra da pam_userdb.so com a libdb mais nova</title>
<para>
Alguns arquivos da versão 7 do Banco de dados Berkeley criados com libdb3
não podem ser lidos pelas versões mais novas da libdb (veja o bug
<ulink url="&url-bts;521860">#521860</ulink>).
Como uma forma de contornar o bug, os arquivos podem ser recriados com o
<command>db4.8_load</command>, do pacote
<systemitem role="package">db4.8-util</systemitem>.
</para>
</section>

<section id="asynchronous-network-start" condition="fixme">
<title>Inicialização de rede assíncrona pode causar comportamento imprevisível</title>
<para>
Em sistemas que usam <systemitem role="package">udev</systemitem> para
carregar dispositivos para interfaces de rede, é possível que devido à
natureza assíncrona do <systemitem role="package">udev</systemitem> o
driver de rede não seja carregado antes da execução do <command>
/etc/init.d/networking</command> na inicialização do sistema. Embora a
inclusão de <literal>allow-hotplug</literal> no <filename>
/etc/network/interfaces</filename> (além do <literal>auto</literal>) garanta
que a interface de rede seja habilitada assim que ficar disponível, não há
garantia que isso será terminado antes da seqüência de inicialização dar
início aos serviços de rede, os quais podem não se comportar corretamente
na ausência de uma interface de rede.
</para>
</section>

<section id="wpa" condition="fixme">
<title>Problema quando usando redes sem-fio protegidas com <acronym>WPA</acronym></title>
<indexterm><primary>WPA</primary></indexterm>
<para>
No &oldreleasename;, o pacote <systemitem role="package">
wpasupplicant</systemitem> era instalado como um serviço do sistema,
configurado via <filename>/etc/default/wpasupplicant</filename> e um
arquivo <filename>/etc/wpasupplicant.conf</filename> fornecido pelo usuário.
</para>
<para>
No &releasename;, o <filename>/etc/init.d/wpasupplicant</filename> foi
descontinuado e o pacote Debian agora é integrado ao 
<filename>/etc/network/interfaces</filename>, de maneira similar a outros
pacote como <systemitem role="package">wireless-tools</systemitem>. Isso
significa que o <systemitem role="package">wpasupplicant</systemitem> deixou
de fornecer diretamente um serviço de sistema.
</para>
<para>
Para informações sobre a configuração do wpasupplicant, por favor, consulte o
<filename>/usr/share/doc/wpasupplicant/README.modes.gz</filename>, que dá
exemplos para o arquivo <filename>/etc/network/interfaces</filename>.
Informação atualizada sobre o uso do pacote <systemitem
role="package">wpasupplicant</systemitem> no Debian pode ser encontrada no
<ulink url="&url-wiki;WPA">Debian Wiki</ulink>.
</para>
</section>

<section id="partitionenc" condition="fixme">
<title>Problemas com caracteres não-ASCII em nomes de arquivo</title>
<para>
Montar sistemas de arquivos vfat, ntfs ou iso9660 com arquivos que incluem
caracteres não-ASCII em seus nomes resultará em falhas quando alguém tentar
usar os nomes de arquivos e a menos que a montagem seja feita com a opção
utf8. Um indicativo pode ser a seguinte falha: <quote>Invalid or incomplete
multibyte or wide character</quote> (<quote>Caractere duplo ou multibyte
inválido ou incompleto</quote>). Uma possível solução é usar
<literal>defaults,utf8</literal> como opções de montagem para sistemas de
arquivos vfat, ntfs e iso9660 quando eles contêm nomes de arquivos com
caracteres não-ASCII.
</para>
<para>
Note que o kernel Linux não tem suporte a manipulação de nomes de arquivos
ignorando maiúsculas e minúsculas para vfat quando a opção
<literal>utf8</literal> é usada.
</para>
</section>

<section id="no-sound" condition="fixme">
<title>Som deixa de funcionar</title>
<para>
Em casos raros, o som pode parar de funcionar após a atualização. Se isso
acontecer, repasse a lista de checagem do <acronym>ALSA</acronym>:
<itemizedlist>
<listitem>
<para>
execute o <command>alsaconf</command> como <literal>root</literal>,
</para>
</listitem>
<listitem>
<para>
adicione seu usuário ao grupo <literal>audio</literal>,
</para>
</listitem>
<listitem>
<para>
certifique-se de que os níveis dos canais de som estão ativos e não-mudos
(usando o <command>alsamixer</command>),
</para>
</listitem>
<listitem>
<para>
certifique-se de que o <command>arts</command> e o <command>esound</command>
não estão sendo executados,
</para>
</listitem>
<listitem>
<para>
certifique-se de que nenhum módulo <acronym>OSS</acronym> foi carregado,
</para>
</listitem>
<listitem>
<para>
certifique-se de que os alto falantes estão ligados, e
</para>
</listitem>
<listitem>
<para>
verifique se o comando
<programlisting>cat /dev/urandom &gt; /dev/audio</programlisting>
ou o comando  <programlisting>speaker-test</programlisting>funcionam
para o <literal>root</literal>.
</para>
</listitem>
</itemizedlist>
</para>
</section>

<section arch="s390" condition="fixme">
  <title>Potencial corrupção do sistema de arquivos na atualização</title>
  <para>
    A partir do kernel 2.6.25, o Linux na arquitetura s390 sendo executado
    sob o hypervisor z/VM usa um novo CCW para acesso ao DASD que dispara
    um erro no z/VM levando a erros de I/O e finalmente a inconsistência no
    sistema de arquivos.
  </para>
  <para>
    Esse erro pode ser confirmado executando z/VM 5.3 com RSU (Recommended
    Servide Update) 5304 e foi corrigido pela IBM no RSU 5305 (service level
    802).
  </para>
  <para>
    No <ulink
    url="http://www-01.ibm.com/support/docview.wss?uid=isg1VM64417">relatório
    de problema IBM</ulink> um convidado z/OS é mencionado, no entanto, esse
    problema também afeta convidados linux.
  </para>
</section>

<section id="shell-diversions">
  <title>Possíveis problemas com desvios de /bin/sh</title>
  <para>
    Se você já adicionou um desvio local para <literal>/bin/sh</literal>,
    ou modificou o link simbólico do <literal>/bin/sh</literal> para apontar
    para algum lugar diferente de <literal>/bin/bash</literal>, então você
    pode encontrar problemas quando atualizado os pacotes
    <systemitem role="package">dash</systemitem> ou
    <systemitem role="package">bash</systemitem>.
    Note que isso inclui mudanças feitas para permitir que outros pacotes
    (por exemplo <systemitem role="package">mksh</systemitem>) possam
    se tornar o shell padrão do sistema, assumindo o 
    <literal>/bin/sh</literal>.
  </para>
  <para>
    Se você encontrar quaisquer desses problemas, por favor, remova o
    desvio local e garanta que os links simbólicos para ambos 
    <literal>/bin/sh</literal> e sua página de manual apontem para
    os arquivos fornecidos pelo pacote <systemitem
    role="package">bash</systemitem> e então execute
    <command>dpkg-reconfigure --force dash</command>.
  </para>
  <programlisting>
    dpkg-divert --remove /bin/sh
    dpkg-divert --remove /usr/share/man/man1/sh.1.gz
    
    ln -sf bash /bin/sh
    ln -sf bash.1.gz /usr/share/man/man1/sh.1.gz
  </programlisting>
</section>

<section>
  <!-- bug#568126 -->
  <title>Mudança na política do kernel com relação a conflitos de recurso</title>
  <para>
    A configuração padrão para o parâmetro acpi_enforce_resources no kernel
    Linux foi alterada para ser <quote><literal>estrita</literal></quote> por
    padrão. Isso pode levar alguns drivers de sensores obsoletos a terem o
    acesso negado ao hardware dos sensores. Uma forma de contornar isso é
    adicionar <quote><literal>acpi_enforce_resources=lax</literal></quote>
    à linha de comando do kernel.
  </para>
</section>

<section arch="sparc">
  <!-- bug#602853 -->
  <title>A inicialização trava em determinados sistemas SPARC</title>
  <para>
    Sistemas que usam placas gráficas aty (por exemplo, Ultra 10) podem não
    inicializar corretamente, com o congelamento do kernel no começo do estágio
    de inicialização de arranque com a última mensagem
    <quote>console [tty0] enabled, bootconsole disabled</quote> 
    (<quote>console [tty0] habilitado, bootconsole desabilitado</quote>).
    O problema pode ser contornado adicionando-se um parâmetro de inicialização
    do kernel <literal>video=atyfb:off</literal> para desligar o framebuffer
    durante a inicialização, que permite o instalador (e kernel usual) ser
    inicializado em tais sistemas. Um kernel corrigido deverá estar
    disponível na primeira atualização para o &releasename; (Debian 6.0.1).
  </para>
</section>

</section>

<section id="apache2" condition="fixme">
  <title>Atualizando o apache2</title>
  <para>
    A configuração padrão do apache2 mudou e em alguns casos é necessária
    uma intervenção manual para realizar mudanças na sua configuração. As
    alterações mais importantes são:
  </para>

  <para>
    <literal>NameVirtualHost *</literal> foi mudado para
    <literal>NameVirtualHost *:80</literal>. Se você adicionou mais hosts
    virtuais baseados em nome, você precisa mudar o
    <literal>&lt;VirtualHost *&gt;</literal> para
    <literal>&lt;VirtualHost *:80&gt;</literal> em cada um deles.
  </para>

  <para>
    As opções User e Group do Apache e o caminho do PidFile agora são
    configuradas no arquivo <filename>/etc/apache2/envvars</filename>.
    Se você mudou essas opções para algo diferente do valor padrão, você
    terá que mudar esse arquivo. Isso também significa que iniciar o apache2
    com <command>apache2 -k start</command> não é mais possível, você terá
    que usar <command>/etc/init.d/apache2</command> ou
    <command>apache2ctl</command>.
  </para>

  <para>
    O programa auxiliar suexec precisa do mod_suexec que agora é
    distribuído em um pacote separado <systemitem
    role="package">apache2-suexec</systemitem>, que não é instalado
    por padrão.
  </para>

  <para>
    Mais configurações específicas de módulos foram movidas de
    <filename>/etc/apache2/apache2.conf</filename> para
    <filename>/etc/apache2/mods-available/*.conf</filename>.
  </para>

  <para>
    Para mais informações detalhadas, veja
    <filename>/usr/share/doc/apache2.2-common/NEWS.Debian.gz</filename>
    e
    <filename>/usr/share/doc/apache2.2-common/README.Debian.gz</filename>.
  </para>
</section>

<section id="nis" condition="fixme">
<title><acronym>NIS</acronym> e Network Manager</title>
<indexterm><primary>NIS</primary></indexterm>
<indexterm><primary>Network Manager</primary></indexterm>
<para>
A versão do <command>ypbind</command> incluída no <systemitem
role="package">nis</systemitem> para o &releasename; contém suporte ao
Network Manager. Esse recurso faz com que o <command>ypbind</command>
desabilite a funcionalidade de cliente <acronym>NIS</acronym> quando o
Network Manager reporta que o computador está desconectado da rede. Como
o Network Manager geralmente reportará que o computador foi desconectado
quando ele não está sendo usado, usuários <acronym>NIS</acronym> com sistemas
cliente <acronym>NIS</acronym> deverão certificar-se de que o suporte ao
Network Manager esteja desabilitado nesses sistemas.
</para>
<para>
Isso pode ser feito desinstalando o pacote <systemitem
role="package">network-manager</systemitem> ou editando o arquivo
<filename>/etc/default/nis</filename> para adicionar a opção
<literal>-no-dbus</literal> em <literal>YPBINDARGS</literal>.
</para>
<para>
O uso da opção <literal>-no-dbus</literal> é o padrão para novas instalações
do Debian, mas não era o padrão em versões anteriores.
</para>
</section>

<section id="ldap-gnutls">
  <title>Suporte <acronym>LDAP</acronym></title>
  <indexterm><primary>LDAP</primary></indexterm>
  <para>
    Uma característica das bibliotecas de criptografia usadas nas 
    bibliotecas <acronym>LDAP</acronym> faz com que programas que usem
    <acronym>LDAP</acronym> e tentem mudar seus privilégios efetivos
    falhem quando conectam a um servidor <acronym>LDAP</acronym>
    usando <acronym>TLS</acronym> ou <acronym>SSL</acronym>.
    Isso pode causar problemas para programas suid nos sistemas que usam
    <systemitem role="package">libnss-ldap</systemitem> como o
    <command>sudo</command>, <command>su</command> ou
    <command>schroot</command> e para programas que realizam buscas
    LDAP como o <systemitem role ="package">sudo-ldap</systemitem>.
  </para>
  <para>
    É recomendado substituir o pacote
    <systemitem role="package">libnss-ldap</systemitem> pelo
    <systemitem role="package">libnss-ldapd</systemitem>, uma biblioteca
    mais nova que usa o daemon separado (<command>nslcd</command>) para
    todas as buscas <acronym>LDAP</acronym>. O substituto para o
    <systemitem role="package">libpam-ldap</systemitem> é o
    <systemitem role="package">libpam-ldapd</systemitem>.
  </para>
  <para>
    Note que o <systemitem role="package">libnss-ldapd</systemitem> recomenda
    o daemon de cache NSS (<systemitem role="package">nscd</systemitem>)
    que você deveria avaliar se é adequado para seu ambiente antes da
    instalação.
    Como uma alternativa ao <systemitem role="package">nscd</systemitem> você
    pode considerar o <systemitem role="package">unscd</systemitem>.
  </para>
  <para>
    Informações adicionais estão disponíveis nos bugs
    <ulink url="&url-bts;566351">#566351</ulink> e
    <ulink url="&url-bts;545414">#545414</ulink>.
  </para>
</section>

<section id="sieve-port-number">
<title>Serviço <literal>sieve</literal> movido para a porta alocada pelo
IANA</title>
<para>
A porta IANA alocada para ManageSieve é 4190/tcp, e as portas antigas usadas
pelo <command>timsieved</command> e outro software managesieve em muitas
distribuições (2000/tcp) é alocada para uso pelo Cisco SCCP, de acordo com o
<ulink url="http://www.iana.org/assignments/port-numbers">registro IANA</ulink>.
</para>
<para>
A partir da versão 4.38 do pacote Debian <systemitem
role="package">netbase</systemitem>, o serviço <literal>sieve</literal>
será movido da porta 2000 para a porta 4190 no arquivo
<filename>/etc/services</filename>.
</para>
<para>
Qualquer instalação que tenha usado o nome de serviço <literal>sieve</literal>
ao invés de um número de porta será mudada para o novo número de porta assim
que os serviços forem reiniciados ou recarregados, e em alguns casos,
imediatamente depois que o <filename>/etc/services</filename> for
atualizado.
</para>
<para>
Isso afetará o Cyrus IMAP. Podendo também afetar outro software sieve-ativo
tal como DoveCot.
</para>
<para>
Para evitar problemas de indisponibilidade, administradores de cluster de
e-mail que usam Debian são estimulados a verificar suas instalações
do Cyrus (e provavelmente também o DoveCot), e tomar as medidas para
evitar serviços movidos da porta 2000/tcp para a porta 4190/tcp
de surpresa em qualquer um dos servidores ou clientes.
</para>
<para>
É interessante notar que:
<itemizedlist>
<listitem>
<para>
o <filename>/etc/services</filename> só será automaticamente atualizado se
você nunca fez nenhuma modificação do mesmo. Caso contrário, será apresentado
um aviso pelo dpkg perguntando-lhe sobre as mudanças.
</para>
</listitem>
<listitem>
<para>
Você pode editar o <filename>/etc/services</filename> e mudar a porta
do <literal>sieve</literal> de volta para 2000 se você quiser (embora isso
não seja recomendado).
</para>
</listitem>
<listitem>
<para>
Você pode editar o <filename>/etc/cyrus.conf</filename> e qualquer outro
arquivo de configuração relevante para o seu cluster de e-mail/webmail
(e.g. nas interfaces web do sieve) adiantar o tempo para forçá-lo para um
número de porta estática.
</para>
</listitem>
<listitem>
<para>
Você por configurar o cyrus principal para escutar em ambas as portas (2000
e 4190) ao mesmo tempo, e assim evitar o problema completamente. Isso também
permite uma migração mais suave da porta 2000 para a porta 4190.
</para>
</listitem>
</itemizedlist>
</para>
</section>

<section id="browser-security">
<title>Estado da segurança dos navegadores web</title>
<para>
O Debian &release; inclui diversos motores de navegadores que são afetados
por um fluxo constante de vulnerabilidades de segurança. A alta taxa de
vulnerabilidades e a ausência parcial de suporte do upstream na forma de
ramos de longo prazo torna muito difícil o suporte a esses navegadores
com correções de segurança adaptadas. Além disso, as interdependências das
bibliotecas tornam impossível atualizar para uma versão upstream mais nova.
Como tal, navegadores feitos sobre os motores qtwebkit e khtml foram incluídos
no Squeeze, mas não estão cobertos por um suporte total de segurança. Nós
faremos um esforço para localizar e adaptar as correções de segurança, mas 
em geral esses navegadores não deveriam ser usado em sites web não confiáveis.
</para>
<para>
Para uso geral de navegador web nós recomendamos navegadores com base
no motor Mozilla xulrunner (Iceweasel e Iceape), navegadores baseados
no motor Webkit (e.g. Epiphany) ou Chromium. O Xulrunner tem tido um
histórico de boa adaptabilidade para versões mais antigas ao longo dos
ciclos de lançamento anteriores.
</para>
<para>
O Chromium &mdash;enquanto feito sobre a base de código Webkit&mdash; é um
pacote <quote>solto</quote>, i.e. se a adaptação se tornar não mais viável,
ainda existe a possibilidade da atualização para para uma versão 
mais nova do upstream (o que não é possível para a própria
biblioteca webkit).
</para>
<para>
A Webkit é suportada pelo upstream com um ramo de manutenção de longo prazo.
</para>
</section>

<section id="kde-desktop-changes">
<title>Área de trabalho KDE</title>
<para>
O &Releasename; é a primeira versão do Debian a vir com suporte completo
para a próxima geração KDE que é baseada na Qt 4.
A maioria dos aplicativos oficiais do KDE estão na versão 4.4.5 com exceção
do <systemitem role="package">kdepim</systemitem> que está na versão 4.4.7.
Você pode ler os <ulink url="http://www.kde.org/announcements/">anúncios do
Projeto KDE</ulink> para saber mais sobre as mudanças.
</para>

<section id="kde-upgrading-from-kde3"> 
<title>Atualizando a partir do KDE 3</title>

<para>
O Ambiente de área de trabalho KDE 3 não é mais suportado no Debian &release;.
Ele será automaticamente substituído pela nova série 4.4 na atualização.
Como isso é uma grande mudança, usuários deve tomar algumas precauções
para garantir um processo de atualização o mais suave possível.
</para>

<important>
<para>
Não é recomendada a atualização enquanto existir uma sessão ativa do KDE 3
no sistema. Caso contrário, o processo pode tornar a sessão em execução
sem funcionamento com a possibilidade de perda de dados.
</para>
</important>

<para>
Após o primeiro login no sistema atualizado, os usuários existentes serão
apresentados ao procedimento de migração assistida do Debian-KDE chamado
<systemitem role="package">kaboom</systemitem> que auxiliará no processo
de migração dos dados pessoais dos usuários e opcionalmente fará uma
cópia de segurança das configurações antigas do KDE.
Para mais informações, visite
<ulink url="http://pkg-kde.alioth.debian.org/kaboom.html">a homepage Kaboom</ulink>.
</para>

<para>
Embora o ambiente de área de trabalho baseado no KDE 3 não seja mais
suportado, os usuários ainda podem instalar e usar alguns aplicativos
individuais do KDE 3 já que as bibliotecas centrais e binários do KDE 3
(<systemitem role="package">kdelibs</systemitem>) e Qt 3 ainda
estão disponíveis no Debian &release;. Porém, por favor, note que esses
aplicativos  podem não estar bem integrados com o novo ambiente.
Além do mais, nem o KDE 3, nem a Qt 3 serão suportados de qualquer forma
na próxima versão do Debian, então, se você estiver utilizando-os,
aconselhamos fortemente a portar do seu software para a nova plataforma.
</para>
</section>

<section id="kde-metapackages">
<title>Novos metapacotes KDE</title>
<para>
Como observado anteriormente, o Debian &release; introduz um novo conjunto
de metapacotes relacionado ao KDE:

<!-- Note to translators, do not translate '(KDE) Plasma Desktop' or 'KDE Plasma Netbook' -->
<itemizedlist>
<listitem>
<para>
Recomendamos fortemente instalar o pacote
<systemitem role="package">kde-standard</systemitem>
para um desktop de uso normal.
O <systemitem role="package">kde-standard</systemitem>
irá puxar do
<ulink url="http://www.kde.org/workspaces/plasmadesktop/">KDE Plasma Desktop</ulink>
por padrão, um conjunto selecionado de aplicativos mais utilizados.
</para>
</listitem>
<listitem>
<para>
Se você quiser um desktop mínimo você pode instalar o pacote
<systemitem role="package">kde-plasma-desktop</systemitem>
e escolher manualmente os aplicativos que você necessita. Isso é um
equivalente grosseiro do pacote <systemitem role="package">kde-minimal
</systemitem> como vinha no Debian &oldrelease;.
</para>
</listitem>
<listitem>
<para>
Para dispositivos com tamanho reduzido, existe um ambiente alternativo chamado
<ulink url="http://www.kde.org/workspaces/plasmanetbook/">KDE Plasma Netbook</ulink>
que pode ser instalado com pacote
<systemitem role="package">kde-plasma-netbook</systemitem>.
Plasma Netbook e Plasma Desktop podem conviver no mesmo sistema
e o padrão pode ser configurado nas Configurações do Sistema (substituto do
antigo KControl).
</para>
</listitem>
<listitem>
<para>
Se você quiser um conjunto completo dos aplicativos oficiais do KDE,
você tem a possibilidade de instalar o pacote
<systemitem role="package">kde-full</systemitem>.
Ele irá instalar o KDE Plasma Desktop por padrão.
</para>
</listitem>
</itemizedlist>
</para>
</section>

</section>

<section id="gnome-desktop-changes">
<title>Mudanças na área de trabalho GNOME e suporte</title>
<para>
Houveram muitas mudanças no ambiente de área de trabalho GNOME da versão
que vinha no &oldreleasename; para a versão do &releasename;, você pode
encontrar mais informações nas
<ulink url="http://library.gnome.org/misc/release-notes/2.30/">Notas de
Lançamento do GNOME 2.30</ulink>. Questões específicas são listadas abaixo.
</para>

<section>
<title>GDM 2.20 e 2.30</title>
<para>
O Gerenciador de Tela do GNOME (GDM), é mantido na versão 2.20 para sistemas
atualizados da &oldreleasename;. Essa versão ainda será mantida para o
ciclo do squeeze mas é o último lançamento que fazemos isso. Ao invés disso,
sistemas recém instalados terão o GDM 2.30, fornecido pelo pacote
<systemitem role="package">gdm3</systemitem>. Por causa de incompatibilidades
entre ambas as versões, essa atualização não é automática, mas é
recomendado instalar o <systemitem role="package">gdm3</systemitem> após
a atualização para o &releasename;. Isso deverá ser feito a partir do
console, ou com apenas uma sessão GNOME aberta. Note que as configurações
do GDM 2.20 <emphasis role="strong">não</emphasis> serão migradas.
Para um sistema desktop padrão, no entanto, a simples instalação do
<systemitem role="package">gdm3</systemitem> deverá ser suficiente.
</para>
</section>

<section>
<title>Dispositivos e outras permissões administrativas</title>
<para>
Permissões específicas sobre dispositivos são concedidas automaticamente
para o usuário atualmente conectado fisicamente ao sistema: dispositivos 
de vídeo e áudio, roaming de rede, gerenciamento de energia, montagem 
de dispositivos. Os grupos cdrom, floppy, audio, video, plugdev e powerdev
não são mais úteis. Veja a documentação do <systemitem
role="package">consolekit</systemitem> para mais informações.
</para>
<para>
A maioria dos programas gráficos que requerem permissões de root agora
contam com o <ulink url="http://www.freedesktop.org/wiki/Software/PolicyKit">
PolicyKit</ulink> para fazê-lo, ao invés do <systemitem role="package">
gksu</systemitem>. A forma recomendada para dar direitos administrativos
a um usuário é adicioná-lo ao grupo <literal>sudo</literal>.
</para>
</section>

<section>
  <title>network-manager e interação do ifupdown</title>
  <para>
    Após a atualização do pacote <systemitem role="package">network-manager
    </systemitem>, as interfaces configuradas em
    <filename>/etc/network/interfaces</filename> para usar
    <acronym>DHCP</acronym> sem outras opções, serão desabilitadas nesse
    arquivo, e manipuladas pelo NetworkManager em seu lugar. Por isso,
    os comandos <command>ifup</command> e <command>ifdown</command> não
    funcionarão. Essas interfaces podem ser gerenciadas usando as interfaces
    gráficas do NetworkManager como alternativa, veja <ulink
    url="http://live.gnome.org/NetworkManager/SystemSettings">a
    documentação do NetworkManager</ulink>.
  </para>
  <para>
    Por outro lado, todas as interfaces configuradas em
    <filename>/etc/network/interfaces</filename> com mais opções serão
    ignoradas pelo NetworkManager. Isso aplica-se, em particular, às
    interfaces sem-fio usadas durante a instalação do Debian (veja o bug
    <ulink url="&url-bts;606268">#606268</ulink>).
  </para>
</section>

</section>

<section id="graphics">
  <title>Mudanças da pilha de gráficos</title>
  <para>
    Houve uma série de mudanças para a pilha do X no Debian &release;.
    Esta seção lista as mais importantes e visíveis ao usuário.
  </para>

  <section>
    <title>Drivers obsoletos Xorg</title>
    <para>
      Os drivers de vídeo Xorg <literal>cyrix</literal>, 
      <literal>imstt</literal>, <literal>sunbw2</literal> e
      <literal>vga</literal> não são mais fornecidos. Os usuários
      deverão mudar para um genérico tal como <literal>vesa</literal>
      ou <literal>fbdev</literal> como alternativa.
    </para>
    <para>
      O antigo driver <literal>via</literal> não era mais mantido, e foi
      substituído pelo driver <literal>openchrome</literal>, que será usado
      automaticamente após a atualização.
    </para>
    <para>
      Os drivers <literal>nv</literal> e <literal>radeonhd</literal> ainda
      estão presentes nesta versão, mas estão obsoletos. Os usuários deverão
      considerar as alternativas de drivers <literal>nouveau</literal> e
      <literal>radeon</literal>, respectivamente.
    </para>
    <para>
      Os drivers de entrada X <literal>calcomp</literal>,
      <literal>citron</literal>, <literal>digitaledge</literal>,
      <literal>dmc</literal>, <literal>dynapro</literal>,
      <literal>elo2300</literal>, <literal>fpit</literal>,
      <literal>hyperpen</literal>, <literal>jamstudio</literal>,
      <literal>magellan</literal>, <literal>microtouch</literal>,
      <literal>mutouch</literal>, <literal>palmax</literal>,
      <literal>spaceorb</literal>, <literal>summa</literal>,
      <literal>tek4957</literal> e <literal>ur98</literal>
      foram descontinuados e não estão incluídos nesta versão.[
      Os usuários desses dispositivos podem querer mudar para um driver
      de kernel adequado ou para o driver evdev do X. Para muitos
      dispositivos seriais, o utilitário <command>inputattach</command>
      permite anexá-los a um dispositivo de entrada Linux que pode ser
      reconhecido pelo driver <literal>evdev</literal> do X.
    </para>
  </section>
  <section>
    <title>Ajuste de modo do Kernel</title>
    <para>
      Drivers de Kernel para Intel (a partir do i830), ATI/AMD (a partir do
      Radeon original até a série Radeon HD 5xxx <quote>Evergreen</quote>)
      e para chipsets gráficos NVIDIA agora suportam ajuste de modo nativo.
    </para>
    <para arch="i386;amd64">
      O suporte para o ajuste de modo do espaço de usuário no estilo antigo
      foi descontinuado no driver <literal>intel</literal> do X, que requer
      um kernel recente.
      Os usuários de kernels customizados deverão se certificar de que sua
      configuração inclui <literal>CONFIG_DRM_I915_KMS=y</literal>.
    </para>
  </section>

  <section>
    <title>Hotplug de dispositivo de entrada</title>
    <para>
      O servidor X do Xorg incluído no Debian &release; fornece suporte
      melhorado para o hotplug de dispositivos de entrada (mouses, teclados,
      tablets, ...). Os antigos pacotes 
      <systemitem role="package">xserver-xorg-input-kbd</systemitem> e
      <systemitem role="package">xserver-xorg-input-mouse</systemitem>
      foram substituídos pelo <systemitem
      role="package">xserver-xorg-input-evdev</systemitem>, que requer um
      kernel com a opção <literal>CONFIG_INPUT_EVDEV</literal> habilitada.
      Além disso, alguns dos keycodes produzidos por esse driver diferem
      daqueles tradicionalmente associados com as mesmas teclas. 
      Os usuários de programas como <command>xmodmap</command> e
      <command>xbindkeys</command> precisarão ajustar suas configurações
      aos novos keycodes.
    </para>
  </section>

  <section>
    <title><quote>Zapping</quote> do servidor X</title>
    <para>
      Tradicionalmente, a combinação
      <keycombo><keycap>Ctrl</keycap><keycap>Alt</keycap><keycap>Backspace</keycap></keycombo>
      iria matar o servidor X. Essa combinação não é mais habilitada por
      padrão, mas pode ser reabilitada pela reconfiguração do pacote
      <systemitem role="package">keyboard-configuration</systemitem> 
      (sistema-amplo), ou usando seu aplicativo de preferências do teclado
      do ambiente da área de trabalho.
    </para>
  </section>

</section>

<section>
  <title>Mudança do caminho web do Munin</title>
  <para>
    Para o &releasename;, a localização padrão para o conteúdo web gerado do
    munin mudou de <filename>/var/www/munin</filename> para
    <filename>/var/cache/munin/www</filename> e por isso o
    <filename>/etc/munin/munin.conf</filename> precisa ser adaptado nas
    atualizações, se tiver sido alterado pelo administrador. Se você estiver
    atualizando, por favor, leia
    <filename>/usr/share/doc/munin/NEWS.Debian.gz</filename>.
  </para>
</section>

<section id="shorewall">
  <title>Instruções de atualização do Shorewall</title>
  <para>
    Os usuários do firewall <systemitem role="package">shorewall</systemitem>
    deverão ler as instruções em <ulink
    url="http://www.shorewall.net/LennyToSqueeze.html" />,
    que também estão disponíveis como
    <filename>/usr/share/doc/shorewall-doc/html/LennyToSqueeze.html</filename>
    no pacote <systemitem role="package">shorewall-doc</systemitem>, após
    a atualização para o Debian &release;.
  </para>
</section>

</chapter>
