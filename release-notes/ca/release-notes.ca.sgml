<!DOCTYPE debiandoc PUBLIC "-//DebianDoc//DTD DebianDoc//EN" [
  <!entity % dynamicdata  SYSTEM "../dynamic.ent"       > %dynamicdata;
  <!entity % shareddata   SYSTEM "../release-notes.ent" > %shareddata;
  <!entity docid "$Id: release-notes.ca.sgml,v 1.8 2007-03-13 11:11:51 xerakko Exp $">
]>

<!-- Last translator: Miguel Gea Milvaques <xerakko@debian.org>, 2006-11-04 -->
<!-- Original version: v 1.75 -->
<!-- Translation based on English version 1.120 -->

<!-- Aneu en compte amb el reformatat automàtic. Adoneu-vos que als exemples 
     la identació s'utilitza a la sortida també (amb un espai addicional). -->

<debiandoc>
  <book>
  <titlepag>
    <title>Notes de llançament de &debian; &release; ("&releasename;"), &arch-title;</title>
      <author>
        <name>Josip Rodin, Bob Hilliard, Adam Di Carlo, Anne Bezemer, Rob
        Bradford (actual), Frans Pop (actual), Andreas Barth (actual)</name><email></email>
      </author>
      <author>
        <name></name><email>debian-doc@lists.debian.org</email>
      </author>
      <version>&docid;</version>
    </titlepag>
    <toc detail="sect1">
      <chapt id="about"><heading>Introducció</heading>

        <p>L'objectiu principal d'aquestes Notes de Llançament és donar a 
	conèixer als usuaris els principals canvis que es poden trobar en 
	aquesta nova versió de la distribució Debian, donar informació de 
	com actualitzar	de forma segura des de l'anterior a aquest llançament,
	i finalment avisar als usuaris de possibles problemes que poden trobar
	en actualitzar o utilitzar la nova versió.</p>

        <p>No és possible fer una llista completa de tots els problemes
	coneguts, de manera que hem fet una selecció basada en una combinació 
	de la probabilitat d'ocurrència i la gravetat dels problemes.</p>

        <p>La versió més recent d'aquest document la podreu trobar sempre a
        <url id="&url-release-notes;">. Si la vostra versió te més d'un mes
	hauríeu de descarregar l'última versió.</p>

        <p>Adoneu-vos que tan sols suportem i documentem 
	l'actualització des d'un llançament anterior de Debian (en aquest cas,
	l'actualització des de &oldreleasename;). Si us cal actualitzar des
	de llançaments anteriors, us suggerim que llegiu les edicions prèvies
	de les notes de llançament.</p>

<!--
        <sect id="changes"><heading>Changes in the Release Notes</heading> 

          <p>This section lists changes in the Release Notes since the original
          version that was published with &debian; &release;r0. Minor textual
          corrections are omitted.</p>

          <p><list>

            <item><p>Description of change.</p></item>

          </list></p>

        </sect>
-->

      </chapt>

      <chapt id="whats-new"><heading>Novetats a &debian; &release;</heading>

        <p>Aquest llançament afegeix el suport oficial per a l'arquitectura AMD64
	que suporta processadors de 64 bits d'Intel (EM64T) i AMD (AMD64).
	Al llançament anterior, &debian; 3.1 ('sarge'), ja existia una versió
	no oficial d'aquest port. Actualitzar des d'aquesta versió no oficial
	hauria de ser possible utilitzant aquestes Notes de Llançament, però
	no està suportat.</p>

        <p>El suport oficial per a l'arquitectura Motorola 680x0 ('m68k') s'ha abandonat 
        ja que no complia el conjunt de requisits establerts pels encarregats
	del llançament de Debian. Els principals motius són el baix
	rendiment i la falta de suport extern dels desenvolupadors per al 
	conjunt d'eines essencials. Per altra banda, s'espera que 
	el port m68k continue actiu i la seva instal·lació disponible, encara 
	que no forme part del llançament estable oficial.</p>

        <p>Les arquitectures suportades oficialment per &debian; &releasename; són        
	les següents:</p>

        <p>
          <list>
            <item><p>Intel x86 ('i386')</p></item>
            <item><p>Alpha ('alpha')</p></item>
            <item><p>SPARC ('sparc')</p></item>
            <item><p>PowerPC ('powerpc')</p></item>
            <item><p>ARM ('arm')</p></item>
            <item><p>MIPS ('mips' (Big endian) i 'mipsel' (Little endian))</p></item>
            <item><p>Intel Itanium ('ia64')</p></item>
            <item><p>HP PA-RISC ('hppa')</p></item>
            <item><p>S/390 ('s390')</p></item>
            <item><p>AMD64 ('amd64')</p></item>
          </list>
        </p>

          <p>Podeu trobar més informació sobre l'estat del port i informació específica 
	  de la vostra arquitectura a les <url id="&url-ports;"
          name="pàgines web de ports de Debian">.</p>

<![ %secondrelease [
          <p>Aquest és només el segon llançament oficial de &debian;
	  per l'arquitectura &arch-title;. Creiem que s'ha provat suficientment com
	  per llançar-la. D'altra banda, com que no ha tingut la mateixa
	  exposició (i tampoc, per tant, verificació per part dels usuaris) que 
          han tingut els nostres llançaments per a altres arquitectures, és possible
	  que trobeu alguns errors. Podeu utilitzar el nostre
	  <url id="&url-bts;" name="sistema de seguiment d'errors"> per
	  informar de qualsevol problema; assegureu-vos d'esmentar el fet que el
	  vostre error es dóna a la plataforma &architecture;.</p>
]]>

          <p>&debian; &release; per l'arquitectura &arch-title; ve amb la 
	  versió del nucli &kernelversion;.</p>


        <sect id="newdistro"><heading>Quines novetats hi ha a la distribució?</heading> 

<!-- TODO: Numbers need to be updated -->
           <p>Aquest nou llançament de Debian ve amb molt més programari
	   que el seu predecessor &oldreleasename;; la distribució inclou 
	   més de 9000 paquets. La major part del programari de la distribució
	   s'ha actualitzat: prop de 6500 paquets (és a dir el 73% dels paquets
	   que eren a &oldreleasename;). També, per diferents motius, s'ha 
	   esborrat un nombre significatiu de paquets de la distribució.
	   No trobareu actualitzacions per a aquests paquets i es marcaran com
	   'obsolet' a les interfícies de gestió de paquets.</p>

           <p>Amb aquest llançament de &debian; es canvia XFree86 per la 
	   versió 7.1 d'X.Org, que és compatible amb una gamma més gran de 
	   maquinari i té una millor autodetecció. Açò permet l'ús de Compiz, que 
	   és un dels primers gestors de finestres per al sistema de finestres X
	   amb efectes digitals, que aprofita tots els avantatges dels 
	   dispositius que suporten acceleració OpenGL per maquinari.</p>

           <p>&debian; ve una altra vegada amb les versions actualitzades de les 
	   aplicacions d'escriptori. Entre d'altres, inclou GNOME 2.14, KDE 3.5 i 
	   OpenOffice.org 2.0.</p>

           <p>El programa preferit per a la gestió de paquets en mode és
	   l'<prgn/aptitude/.
	   L'<prgn/aptitude/ suporta la majoria de les operacions de la línia
	   d'ordres de l'<prgn/apt-get/ i s'ha comprovat que té una millor 
	   resolució de dependències que l'<prgn/apt-get/.
	   Si encara utilitzeu el <prgn/dselect/, hauríeu de canviar a 
	   l'<package/aptitude/ com a interfície oficial per la gestió de paquets.
	   </p>

           <p>La distribució oficial de &debian; té entre tretze i quinze CDs
	   de programari (depenent de l'arquitectura) i un nombre semblant de
	   CDs de codi. També hi ha una versió de la distribució en DVD.</p>

        <sect1 id="volatile"><heading>Ara debian-volatile és un servei 
	oficial</heading>

           <p>El servei <em/debian-volatile/ es va introduir com un servei no 
	   oficial al llançament de &oldreleasename;, i es converteix ara en 
	   un servei oficial de &debian;.</p>

           <p>Açò significa que, en poc temps, aquest servei deixarà de tenir una 
	   adreça <tt/.debian.net/, per utilitzar-ne una de 
	   <tt/.debian.org/. Assegureu-vos, doncs, de fer els canvis necessaris al 
	   fitxer <file>/etc/apt/sources.list</file>, en cas que ja estiguéssiu 
	   utilitzant aquest servei.</p>

           <p><em/debian-volatile/ permet als usuaris actualitzar fàcilment 
	   paquets estables que contenen informació que es desactualitza 
	   ràpidament, tals com les llistes de signatures dels 
	   programes antivirus o el conjunt de plantilles dels filtres de spam. 
	   Per a més informació i per trobar una llista de rèpliques, podeu 
	   vore la <url id="&url-debian-volatile" name="pàgina web"> de 
	   l'arxiu.</p>

        </sect1>
        </sect>

        <sect id="inst-new"><heading>Què hi ha de nou al sistema d'instal·lació?
	</heading>

        <!-- TODO: Hhhm. Whats new in the installer ? -->
   	   <p>Hi ha hagut un gran desenvolupament en el programa d'instal·lació
	   de Debian des de la seva primera edició oficial per a &oldreleasename;.
	   El resultat ha estat una millora en el suport de maquinari i algunes 
	   noves funcionalitats interessants.</p>

	   <p>En aquestes Notes de llançament només esmentarem els
	   canvis més importants que ha experimentat l'instal·lador. Si us 
	   interessa veure una descripció més detallada de tots els canvis des de 
	   la versió de &oldreleasename;, mireu l'anunci de les publicacions de 
	   les versions beta i RC de &releasename; que trobareu a 
	   les <url id="&url-installer-news" name="notícies"> del projecte.</p>
         <sect1 id="inst-changes"><heading>Principals canvis</heading>

           <p><taglist>
             <tag>No es necessari reiniciar a la instal·lació</tag>
             <item><p>Normalment la instal·lació es feia en dos parts:
	     preparar el sistema base i fer-lo arrencable, seguit
	     d'un reinici després de l'execució de <prgn/base-config/
	     que tindria cura de coses com la configuració d'usuari, la
	     configuració del sistema de gestió de paquets i la instal·lació
	     de altres paquets (utilitzant tasksel).</p>
	     <p>A &releasename;, la segona fase ha estat integrada dins del mateix
	     programa d'instal·lació. Això té diversos avantatges, entre els
	     quals cal destacar la major seguretat i el fet que després de
	     reiniciar el sistema, en finalitzar la instal·lació, la zona horària
	     estarà correctament establerta i, si heu instal·lat un entorn 
	     d'escriptori, arrencarà la interfície d'usuari gràfica.</p></item>

	     <tag>Codificació UTF-8 per defecte als sistemes nous</tag>
	     <item><p>El programa d'instal·lació configura el sistemes per a
	     utilitzar la codificació de caràcters UTF-8, en lloc dels antics
	     jocs de caràcters específics per a cada idioma (com l'ISO-8859-1,
	     l'EUC-JP o el KOI-8).</p></item>

	     <tag>Particionat més flexible</tag>
	     <item><p>Ara és possible configurar els sistemes de fitxers sobre
	     un volum LVM, mitjançant un procés de particionat guiat.</p>
	     <p>El programa d'instal·lació també és capaç de configurar sistemes
	     de fitxers xifrats. Fent el particionat de forma manual, teniu
	     l'opció de triar <tt/dm-crypt/ o <tt/loop-aes/ amb una contrasenya
	     o una clau generada de forma aleatòria, i podeu ajustar diverses
	     opcions. Fent el particionat guiat, el programa d'instal·lació
	     crearà una partició LVM xifrada que contindrà tota la resta de
	     sistemes de fitxers (excepte <file>/boot</file>) com a volums lògics.
	     </p></item>

<![ %i386-amd64 [
  	     <tag>Interfície d'usuari gràfica</tag>
	     <item><p>Si preferiu una interfície gràfica d'usuari, proveu
	     d'arrencar el programa d'instal·lació amb l'opció <tt/installgui/.</p>
	     <p>La funcionalitat del programa gràfic d'instal·lació és gairebé idèntica
	     que la del programa d'instal·lació ordinari, simplement canvia la presentació.
	     Ara bé, hi ha una excepció: el frontal gràfic no suporta la configuració de
	     particions xifrades amb claus generades de forma aleatòria.</p>
	     <p>Nota: la interfície d'usuari gràfica no està disponible per a totes
	     les arquitectures.</p></item>
]]>

<![ %powerpc [
  	     <tag>Interfície d'usuari gràfica</tag>
	     <item><p>Per a l'arquitectura &arch-title;, disposeu d'una imatge experimental
	     de la interfície d'usuari gràfica. Se sap que funciona en la majoria de
	     sistemes CHRP que tenen targetes gràfiques ATI, però no ha estat 
	     suficientment provada sobre &arch-title; per a incloure-la en els 
	     CD normals d'instal·lació.</p>
	     <p>Si voleu provar el programa d'instal·lació gràfic, busqueu la imatge
             "gtk-miniiso".</p></item>
]]>

             <tag>Mode de rescat</tag>
	     <item><p>Podeu emprar el programa d'instal·lació per a solucionar
	     problemes en el vostre sistema, per exemple quan no el pugueu arrencar.
	     Al principi serà com una instal·lació normal, però l'instal·lador no
	     executarà el programa de particionat. En lloc d'això, us mostrarà 
	     un menú amb opcions de rescat.</p>
	     <p>Podeu activar el mode de rescat arrencant el programa d'instal·lació
	     amb l'opció <tt/rescue/, o afegint <tt>rescue/enable=true</tt> com a
	     paràmetre d'arrencada.</p></item>
	     
	     <tag>Utilitzar sudo en lloc del compte root</tag>
	     <item><p>En el mode d'instal·lació expert podreu triar no crear cap
	     compte root (quedarà bloquejat) i en lloc d'això configurar el programa
	     <prgn/sudo/ de manera que el primer usuari es pugui utilitzar per 
	     a administrar el sistema.</p></item>

<!-- FIXME: Bug Manoj for a link to documentation on enabling SELinux -->
	     <tag>SELinux</tag>
	     <item><p>Els paquets necessaris per al suport per a SELinux han
	     sigut moguts a la prioritat "estàndard". Això significa que aquests
	     paquets s'instal·laran per defecte si seleccioneu la tasca estàndard
	     durant la instal·lació. Tot i això, el suport per a SELinux no està
	     activat per defecte. Si desitgeu protegir el vostre sistema amb
	     SELinux, l'haureu d'activar pel vostre compte després de la 
	     instal·lació.</p></item>

<![ %not-s390 [
             <tag>Nous idiomes</tag>
  	     <item><p>Gràcies a l'enorme esforç dels traductors, ara Debian pot
	     ser instal·lada en $FIXME$ idiomes diferents.
<![ %g-i [
  	     Si utilitzeu la interfície d'usuari gràfica, podreu triar entre
	     $FIXME$ idiomes addicionals.
]]>
             </p></item>
]]> <!-- not-s390 -->

           </taglist></p>
         </sect1>

         <sect1 id="inst-auto"><heading>Instal·lació automatitzada</heading>
	   <p>Gran part dels canvis que hem esmentat a l'apartat anterior impliquen
	   canvis en el suport del programa d'instal·lació per a instal·lacions
	   automatitzades utilitzant fitxers de preconfiguració. Això significa que
	   si teniu fitxers de preconfiguració que us van funcionar amb 
	   l'instal·lador de &oldreleasename;, no podeu esperar que funcionin ara 
	   sense haver-los de modificar.</p>

	   <p>La bona notícia és que ara la <url id="&url-install-manual;"
	   name="Guia d'instal·lació"> té un apèndix dedicat exclusivament a
	   explicar com usar la preconfiguració.</p>

	   <p>El programa d'instal·lació d'Etch introdueix algunes funcionalitats
	   noves que permeten una automatització de les instal·lacions més senzilla
	   i extensa. També té suport per a fer un particionat avançat usant
	   RAID, LVM i LVM xifrat. Vegeu la documentació per a més detalls.</p>

         </sect1>

	 <!-- TODO: Hhhm. Whats new in the installer ? -->
	 </sect>

      </chapt>

<!-- TODO: Mention default usage of UTF-8 for new installs -->
      <chapt id="installing"><heading>Instal·lacions noves</heading>

        <p>L'instal·lador de Debian és el sistema oficial d'instal·lació de
	Debian. Proporciona diferents mètodes d'instal·lació. Els mètodes 
	disponibles per a instal·lar el vostre sistema dependran, en cada cas
	de l'arquitectura.</p>

        <p>Podeu trobar les imatges de l'instal·lador per a &releasename; 
	i la Guia d'instal·lació a la 
        <url id="&url-installer;" name="Web de Debian">.</p>

        <p>Si esteu fent una instal·lació nova de Debian, hauríeu de llegir la 
	Guia d'Instal·lació, que trobareu en el primer CD o DVD del conjunt de
	CD/DVD oficials a:

        <example>
/doc/install/manual/<var>language</var>/index.html
        </example></p>

        <p>També us pot interessar llegir les <url id="&url-installer;index#errata"
        name="errates"> de l'instal·lador de Debian.</p>

<![ %alpha [
        <!-- TODO: Still true? -->
        <p>L'instal·lador tan sols es pot utilitzar en sistemes
	alpha que funcionen amb terminals de tipus SRM. Assegureu-vos d'estar
	utilitzant el sistema SRM abans de començar la instal·lació. Si la 
	vostra màquina només permet terminals AlphaBIOS/ARC encara podeu instal·lar 
	&releasename; utilitzant una instal·lació de &oldreleasename; (mínima) 
	i després fent-ne una actualització. Per a més informació sobre 
	els diferents terminals vegeu les referències que hi ha a les
        <url id="http://www.debian.org/ports/alpha" 
	name="pàgines web del port d'alpha de Debian">.
        </p>

]]>

<![ %sparc [ 
      <sect id="sparc_fb"><heading>Problemes de framebuffer en l'arquitectura
                          &arch-title;</heading>

        <p>Com que s'han detectat problemes de pantalla en alguns sistemes, 
	el suport per al framebuffer s'ha deshabilitat per a &arch-title; 
	per a gairebé totes les	targetes. Açò pot produir una imatge incorrecta 
	en alguns sistemes en què suporten correctament el framebuffer. Si teniu
	problemes de pantalla a l'instal·lador, podeu intentar arrencar 
	l'instal·lador amb el paràmetre <tt>framebuffer=true</tt>.
	Si us plau, feu-nos saber si el framebuffer està deshabilitat però
	funciona amb el vostre maquinari.</p>

      </sect>
]]>

      <sect id="popcon"><heading>Concurs de popularitat</heading>

        <p>Igual com al llançament anterior, el sistema d'instal·lació us 
	oferirà que instal·leu el paquet <package/popularity-contest/.</p>

        <p>El <package/popularity-contest/ aporta al projecte Debian una 
	valuosa informació sobre quins són els paquets de la distribució que realment
	s'empren. Aquesta informació s'utilitza principalment per decidir en quin ordre 
	s'inclouen els paquets als CD-ROM d'instal·lació, però també pot
	servir per decidir si s'adopta o no un paquet que ha quedat orfe.</p>

        <p>La informació del <package/popularity-contest/ es processa de forma 
	anònima. Apreciarem molt si participàreu en aquesta enquesta oficial; 
	estareu contribuint a millorar Debian.</p>

      </sect>
      </chapt>


      <chapt id="upgrading"><heading>Actualització des de llançaments 
      anteriors</heading>

<!-- For doc-writers' convenience:
Debian Supported
release: architectures:

1.3.1 or less i386
2.0           i386,m68k
2.1	      i386,m68k,alpha,sparc
2.2	      i386,m68k,alpha,sparc,powerpc,arm
3.0	        + hppa,s390,mips,mipsel,ia64
3.1	      i386,m68k,alpha,sparc,powerpc,arm,hppa,s390,mips,mipsel,ia64 (no changes)
4.0	      i386,alpha,sparc,powerpc,arm,hppa,s390,mips,mipsel,ia64,amd64
               (+ amd64; - m68k)
-->

        <sect id="backup"><heading>Preparatius per a l'actualització</heading>

          <p>Suggerim que abans d'actualitzar també llegiu la informació de
          <ref id="information">. Aquest capítol es refereix a qüestions
	  que no estan directament relacionades amb el procés d'actualització
	  però que podrien encara ser importants.</p>

          <p>Abans d'actualitzar el vostre sistema es recomana que feu una
	  còpia de seguretat completa, o almenys que copieu qualsevol dada
	  o informació de configuració que no us pugueu permetre perdre. Les
	  eines i el procés d'actualització són prou fiables, però una
	  fallada del maquinari enmig de l'actualització pot 
	  deixar-vos amb un sistema greument danyat.</p>

          <p>Sobretot, el que probablement voldreu conservar és el 
	  contingut dels directoris
	  <file>/etc</file>, <file>/var/lib/dpkg</file> i la sortida de
          <tt>dpkg --get-selections "*"</tt> (les cometes són importants).</p>

          <p>El procés per si mateix no modifica res al directori
          <file>/home</file>. No obstant, es sap que algunes aplicacions (p.e.
          parts de la sèrie Mozilla, i els entorns d'escriptori GNOME i KDE) 
	  també sobreescriuen la configuració d'usuari amb els nous volors 
	  per defecte quan l'usuari engega per primera vegada una versió nova 
	  de l'aplicació.
	  Per precaució, potser voldreu fer
	  còpia del fitxers i directoris ocults ("dotfiles") dels directoris
	  dels usuaris. Aquestes còpies poden ajudar a recuperar o recrear la
	  configuració antiga. També s'aconsella que n'informeu als usuaris.</p>

          <p>És prudent informar a tots els usuaris abans de qualsevol
	  actualització que planegeu, encara que els usuaris que accedeixen al 
	  vostre sistema amb una connexió <prgn/ssh/ rebran un avís durant 
	  l'actualització i haurien de poder continuar treballant.
	  Si voleu prendre precaucions addicionals, feu una còpia de seguretat
	  o desmunteu les particions dels usuaris (<file>/home</file>) abans
	  d'actualitzar. Normalment no caldrà reiniciar, a no ser que
	  tingueu planejat també actualitzar el nucli.</p>

          <!-- TODO: Is not necessary to change the kernel? e.g. udev ? -->

          <p>L'actualització de la distribució hauria de fer-se localment
	  des d'una consola virtual en mode text (o directament des d'un
	  terminal sèrie), o remotament amb una connexió <prgn/ssh/</p>

          <p><strong/Important!/ <em/No/ hauríeu d'actualitzar fent servir
	  <prgn/telnet/, <prgn/rlogin/, <prgn/rsh/, o des d'una sessió X 
	  gestionada per <prgn/xdm/, <prgn/gdm/ o <prgn/kdm/ etc. a les 
	  màquines que esteu actualitzant. La raó és que aquests 
	  serveis es podrien interrompre a l'actualització, i podríeu acabar 
	  amb un sistema <em/inaccessible/ a mig actualitzar.</p>

          <!-- TODO: surely gdm/kdm are sane? -->

          <p>Qualsevol operació d'instal·lació de paquets s'ha d'executar
	  amb privilegis de superusuari, de manera que heu de fer l'accés com a
	  root o emprar <prgn/su/ o <prgn/sudo/ per tenir els drets 
	  d'accés necessaris.</p>
          <p>L'actualització té unes quantes condicions prèvies que hauríeu de
	  comprovar abans de començar.</p>

       <sect1><heading>Comprovar si hi ha prou espai al disc per
          l'actualització</heading>

       <p>Heu d'assegurar-vos abans d'actualitzar que el vostre sistema té
       prou espai al disc dur quan comenceu l'actualització del sistema 
       complet, tal com es descriu a <ref id="upgrading_other">. Primer haureu de tenir
       prou disc dur a la partició que conté el sistema de fitxers 
       <file>/var/</file>, per guardar temporalment els paquets que 
       s'instal·laran al sistema. Un cop descarregats els paquets, probablement
       us caldrà més espai a altres particions per instal·lar els paquets
       actualitzats (que poden contenir binaris més grans o més dades) i els
       nous paquets que s'afegiran a l'actualització. Si el sistema
       no disposés de prou espai, acabaríeu amb una actualització incompleta
       de que serà difícil de recuperar.</p>

<!-- JFS: Apt will not always abort if you do not have enough disk space.
       For reference see: #247331, #214119, #192146, #185201, #40438 and #32919 -->

       <p>Tant l'<prgn/aptitude/ com el <prgn/apt/ us donaran informació
       detallada de l'espai de disc que cal per la instal·lació. Podreu vore
       aquesta estimació abans de continuar amb l'actualització en curs:
       </p>

         <p><example>
# aptitude -y -s -f --with-recommends dist-upgrade
[ ... ]
XXX paquets actualitzats, XXX instal·lats, XXX a suprimir i XXX a no actualitzar.
Es necessita obtenir xx.xMiB/yyyMiB d'arxius. Després del desempaquetat s'utilitzaran AAAMiB.
Es descarregaran/instal·laran/suprimiran paquets.
</example></p>


       <p>Si no teniu prou espai per l'actualització, allibereu-ne abans.
       Podeu:
       </p>

<!-- JFS There are more tips at
       http://lists.debian.org/debian-user/2005/11/msg02078.html
       or
       http://www.debian-administration.org/articles/143
       but maybe that should be in the Debian Reference best and pointed from here -->
       <p>
       <list>
<!-- JFS: Does aptitude to 'apt-get autoclean' by itself? -->
       <item>Esborrar paquets que s'han descarregat abans per instal·lar-se
       (a <file>/var/cache/apt/archive</file>), buidant la cache de paquets
       amb l'ordre <prgn>apt-get clean</prgn>.

<!-- JFS Point to http://www.enricozini.org/blog/eng/pkgsizestat.html ?
     Enrico's script shows files that occupy space in a given partition
     which might be good for systems that are heavily partitioned -->

       <item>Esborrar paquets que ja no feu servir. Si teniu el 
       <prgn/popularity-contest/ instal·lat, podeu utilitzar el
       <prgn/popcon-largest-unused/ per a obtenir una llista dels paquets que 
       menys empreu al sistema i que ocupen més espai. També podeu utilitzar el
       <prgn/deborphan/ o el <prgn/debfoster/ per trobar paquets obsolets (vegeu
       <ref id="obsolete">).

       <item>Esborreu paquets que utilitzen molt d'espai i que no us calen
       d'una forma immediata (podeu reinstal·lar-los després de 
       l'actualització). Podeu obtenir una llista dels paquets que utilitzen
       la major part del disc amb el <prgn/dpigs/ (que és al paquet
       <prgn/debian-goodies/) o amb el <prgn/wajig/ (executant
       <tt>wajig size</tt>).

       <item>Podeu també esborrar els registres que són a <file>/var/log/</file>
       movent-los a una altre sistema, o bé eliminar-los de forma permanent.

       </list></p>
        </sect1>

        <sect1 id="glibc-kernel"><heading>Els nuclis 2.2 deixen d'estar suportats
          </heading>
          <p>En cas que feu servir un nucli anterior al 2.4.1, haureu
	  d' actualitzar com a mínim a la sèrie 2.4 abans d'actualitzar el
	  <package/glibc/, per tant és preferible abans de començar 
	  l'actualització. Us recomanem que actualitzeu a un nucli de la 
	  sèrie 2.6.
        </sect1>

        <sect1 id="kernelorder"><heading>Actualitzar primer el nucli,
	o la part d'usuari?</heading>
<!-- TODO: remove this section, it is just that one can see "needs to be done" on the normal output -->
          <p>[FIXME: Needs decision/documentation whether to upgrade userland or kernel first.]</p>
        </sect1>


        </sect>

        <sect id="system-status">
        <heading>Comprovació de l'estat del sistema</heading>

        <p>El procés d'actualització descrit en aquest capítol s'ha dissenyat
	per a actualitzacions des de sistemes &oldreleasename; "purs", sense paquets
	de terceres parts. Seria prudent esborrar tals paquets abans de
	continuar.</p>

        <p>Aquest procediment també assumeix que el sistema està actualitzat 
	fins a l'últim punt del llançament de &oldreleasename;. Si no ho heu fet
	o no n'esteu segurs, seguiu les instruccions a <ref id="old-upgrade">.</p>

	<sect1><heading>Desactivar del Marcatge de paquets a l'APT 
	(pinning)</heading>

	  <p>Si teniu configurat l'APT per a instal·lar alguns paquets d'un altra
	  distribució que no és l'estable (p.e. la de proves), hauríeu de
	  canviar la configuració de marcatge de paquets de l'APT (que està troba
	  a <file>/etc/apt/preferences</file>) per permetre l'actualització dels
	  paquets esmentats a versions del nou llançament estable. Podeu trobar 
	  més informació sobre el marcatge de paquets d'APT a 
	  <manref name="apt_preferences" section="5">.</p>

	</sect1>
	
        <sect1><heading>Estat dels paquets</heading>

          <p>En referència al mètode utilitzat, es recomanable que abans reviseu
	  l'estat de tots els paquets, i verifiqueu que tots es troben en 
	  estat actualitzable. La següent ordre us mostrarà qualsevol paquet 
	  que estigui en estat "Half-Installed" o "Failed-Config", i tots 
	  aquells que tinguin qualsevol error.

          <example>
# dpkg --audit
          </example></p>
 
          <p>Podeu també inspeccionar l'estat de tots els paquets del
	  sistema utilitzant <prgn/dselect/, <prgn/aptitude/, o bé amb les 
	  ordres

          <example>
# dpkg -l | pager 
          </example>

          o

          <example>
# dpkg --get-selections &gt; ~/paquets-actuals.txt
          </example></p>

          <p>És preferible que traieu qualsevol marca de retenció abans 
	  d'actualitzar. Si un paquet essencial per a l'actualització està 
	  retingut, l'actualització fallarà.</p>

          <p>Tingueu en compte que l'<prgn/aptitude/ utilitza un mètode de 
	  retenció de paquets diferent del de l'<prgn/apt-get/ i del
	  <prgn/dselect/. Podeu identificar els paquets retinguts per
	  l'<prgn/aptitude/ amb l'ordre

          <example>
# aptitude search "~ahold" | grep "^.h"
          </example></p>

          <p>Si voleu comprovar quins paquets teniu retinguts per l'
          <prgn/apt-get/, executeu l'ordre
          <example>
# dpkg --get-selections | grep hold
          </example></p>

          <p>Si vàreu modificar i recompilar un paquet localment, i no el 
	  vàreu canviar de nom, ni vàreu posar una època a la versió, hauríeu de posar-lo com a
	  retingut per tal d'impedir que s'actualitze.</p>

          <p>L'estat de paquet retingut "hold" en l'<prgn/aptitude/ es pot 
	  canviar utilitzant l'ordre (canvieu <tt/hold/ amb <tt/unhold/ per 
	  eliminar l'estat "hold"):
          <example>
# aptitude hold <var>nom_del_paquet</var>
          </example>
          </p>

          <p>Si hi ha alguna cosa que us cal arreglar, el millor és que
	  us assegureu que el <file/sources.list/ encara apunta a 
	  &oldreleasename; tal com s'explica a 
          <ref id="old-sources">.</p>
        </sect1>

        <sect1 id="backports"><heading>Fonts no oficials i "backports"</heading>

          <p>Si heu instal·lat algun paquet que no és de Debian al sistema, 
	  heu de tenir en compte que aquests paquets podrien ser esborrats 
	  durant l'actualització a causa de dependències conflictives. 
	  Si aquests paquets es van instal·lar afegint una font de paquets al 
	  vostre <file>/etc/apt/sources.list</file>,
	  heu de comprovar si eixa font també ofereix paquets compilats per a
	  &releasename; i canviar la línia del font d'acord amb això al 
	  mateix temps que canvieu les fonts per als paquets de Debian.</p>

          <p>Alguns usuaris podrien tenir versions noves portades dels paquets
	  que <em/estan/ instal·lats a Debian en els seus sistemes 
	  &oldreleasename;. En aquest cas, és molt probable que eixos paquets 
	  causen problemes durant l'actualització,
	  ja que poden provocar conflictes de fitxers<footnote>El sistema de 
	  gestió
	  de paquets de Debian normalment no permet a cap paquet que esborre o
	  reemplace un fitxer que pertany a un altre paquet; si no s'ha
	  definit que per reemplaçar aquell paquet.</footnote>. A l'apartat
          <ref id="trouble"> trobareu informació sobre com resoldre
	  conflictes de fitxers, en cas que n'hi hagi.</p>

        </sect1>
        </sect>


        <sect id="upgrade-process"><heading>Preparació de les fonts de l'APT</heading>

          <p>Abans de començar l'actualització haureu d'ajustar el fitxer
	  de configuració de l'<package/apt/ que conté les llistes de paquets,
          <file>/etc/apt/sources.list</file>.</p>

          <p>L'<package/apt/ considerarà que tots els paquets es poden trobar 
	  a alguna línia "<tt>deb</tt>" i instal·larà els paquets amb el
	  número de versió més alt, donant prioritat a les línies esmentades
	  primer (d'aquesta forma, si heu definit diferents localitzacions 
	  de rèpliques, primer anirà el vostre disc local, després
	  els CD-ROM, i aleshores els rèpliques HTTP/FTP).</p>

          <p>Sovint es referirà a un llançament pel seu nom codi (p.e.
          &oldreleasename;, &releasename;) o pel seu nom d'estat (p.e.
          oldstable, stable, testing, unstable). Referir-se a un llançament
	  pel seu nom codi té l'avantatge que mai us agafarà per sorpresa un 
	  nou llançament, per aquest motiu aquesta serà l'aproximació utilitzada ací.
	  Açò significa, per descomptat, que haureu de mirar els anuncis de llançaments
	  pel vostre compte. Si utilitzeu el nom de l'estat, trobareu càrrega 
	  d'actualització de paquets disponible en el moment que es produeixi 
	  el llançament.</p>

         <sect1 id="network"><heading>Afegir fonts Internet per APT</heading>

           <p>En la configuració per defecte els paquets s'obtenen dels 
	   principals servidors de Debian a Internet, però podeu modificar el
	   fitxer <file>/etc/apt/sources.list</file> per tal d'utilitzar 
	   altres rèpliques, preferiblement una rèplica que estigui pròxim al lloc
	   on us trobeu.</p>

<!-- FJP: Why is 'default configuration' relevant here? We are talking about
          upgrading existing installations; we really have no idea what
          apt-sources users will have set up here (maybe just a Woody CD-set).
          Note: D-I sets the default configuration to a mirror based on
          the selected country and not the 'main' servers. -->

           <p>Les adreces dels rèpliques de Debian d'HTTP o FTP es poden trobar a
           <url id="&url-debian-mirrors;"> (cerqueu a la secció "Llista completa
	   de rèpliques"). Normalment, les rèpliques HTTP són més ràpids que els 
	   rèpliques FTP.</p>

           <p>Per exemple, suposeu que el mirall de Debian que teniu més 
	   a prop és <tt>&url-debian-mirror-eg;/</tt>. Quan examineu una rèplica
	   amb un navegador web o un programa d'FTP, voreu que els directoris
	   principals estan organitzats així:

           <example>
&url-debian-mirror-eg;/dists/&releasename;/main/binary-&architecture;/...
&url-debian-mirror-eg;/dists/&releasename;/contrib/binary-&architecture;/...
           </example></p>

           <p>Per emprar aquest mirall amb l'<prgn/apt/, afegiu aquesta línia
	   al fitxer <file/sources.list/:

           <example>
deb &url-debian-mirror-eg; &releasename; main contrib
           </example></p>

           <p>Fixeu-vos que la `<tt>distribució</tt>' s'afegeix implícitament,
	   i els arguments que segueixen el nom de llançament s'utilitzen per 
	   expandir el camí en directoris múltiples.</p>

           <p>Després d'afegir les vostres noves fonts, inhabiliteu les línies
	   "<tt/deb/" velles al fitxer <file/sources.list/, afegint-hi un signe
	   <tt/#/ al davant.</p>

           <p>Tots els paquets obtinguts de la xarxa es guarden al directori
	   <file>/var/cache/apt/archives</file> (i el subdirectori 
	   <file>partial/</file>, durant la descàrrega), de maner que heu 
	   d'assegurar-vos de tenir suficient espai abans de començar
	   la instal·lació.
	   En una instal·lació raonablement completa de Debian podeu esperar 
	   que es descarreguen almenys 300MiB de dades.</p>

         </sect1>

         <sect1 id="localmirror"><heading>Afegir fonts d'APT per una rèplica 
	 local</heading>

           <p>En lloc d'utilitzar rèpliques HTTP o FTP, podeu modificar el
	   <file>/etc/apt/sources.list</file> per a utilitzar una rèplica 
	   que tingueu al vostre disc local (que possiblement muntareu 
	   amb NFS).</p>

           <p>Per exemple, el vostre mirall de paquets podria estar a
           <file>/var/ftp/debian/</file>, i tenir els directoris principals
	   com aquests:

           <example>
/var/ftp/debian/dists/&releasename;/main/binary-&architecture;/...
/var/ftp/debian/dists/&releasename;/contrib/binary-&architecture;/...
           </example></p>

           <p>Per tal que l'<prgn/apt/ el reconegui, afegiu aquesta línia 
	   al fitxer <file/sources.list/:

           <example>
deb file:/var/ftp/debian &releasename; main contrib
           </example></p>

           <p>Fixeu-vos que el `<tt>dists</tt>' s'afegeix implícitament, i els
	   arguments que segueixen el nom del llançament s'utilitzen per expandir
	   la ruta en directoris múltiples.</p>

          <p>Després d'afegir les noves fonts, inhabiliteu les línies "<tt/deb/"
	  antigues al fitxer <file/sources.list/, afegint un signe <tt/#/ davant 
	  d'elles.</p></sect1>

        <sect1 id="cdroms"><heading>Afegir una font d'APT de CD-ROM o DVD</heading>

          <p>Si voleu utilitzar <em/sols/ CDs , comenteu 
	  les línies "<tt/deb/" al <file>/etc/apt/sources.list</file> 
	  posant-hi un signe de comentari <tt/#/ al davant.</p>

<!-- Default cdrom mount point is /cdrom, not /media/cdrom and fixed!, see #282344
     (but the -d option of apt-cdrom allows scanning from somewhere else) -->
          <p>Assegureu-vos que hi ha un línia al fitxer<file>/etc/fstab</file> 
	  que permet muntar la unitat de CD-ROM al punt de muntatge
	  <file>/cdrom</file> (l'<prgn/apt-cdrom/necessita exactament el 
	  punt de muntatge <file>/cdrom</file>). Per exemple, si 
	  <file>/dev/hdc</file> és la unitat de CD-ROM, el fitxer
	  <file>/etc/fstab</file> ha de contenir una línia com aquesta:

          <example>
/dev/hdc /cdrom auto defaults,noauto,ro 0 0
          </example></p>

          <p>Fixeu-vos que <em/no hi ha espais/ entre les paraules 
          <tt>defaults,noauto,ro</tt> al quart camp.</p>

          <p>Per a verificar que funciona correctament, inseriu un CD i proveu 
	  d'executar

          <example>
# mount /cdrom    # açò muntarà el CD al punt de muntatge
# ls -alF /cdrom  # açò mostrarà el directori arrel del CD
# umount /cdrom   # açò desmuntarà el CD
          </example></p>

          <p>Tot seguit, executeu:

          <example>
# apt-cdrom add
          </example>
	  
	  per cada CD-ROM amb binaris de Debian, per a afegir el contingut de 
	  cada CD a la base de dades de l'APT.</p>
        </sect1>
        </sect>

	<sect id="upgradingpackages"><heading>Actualització de paquets</heading>
  	  <p>La manera més recomanable d'actualitzar una distribució completa de
	  &debian; és emprant l'eina de gestió de paquets <prgn>aptitude</prgn>.
	  Aquest programa pren decisions sobre la instal·lació de paquets més
	  assenyades que si feu servir l'<prgn>apt-get</prgn> directament.</p>

	  <p>No oblideu de muntar totes les particions necessàries (especialment
	  les particions arrel i <file>/usr</file>) amb permisos de lectura i 
	  escriptura amb una ordre de l'estil:

          <example>
# mount -o remount,rw /<var>punt_de_muntatge</var>
          </example></p>

	  <p>Ara heu de tornar a comprovar que les entrades de les fonts 
	  de l'APT 
	  (al fitxer <file>/etc/apt/sources.list</file>) apunten o bé a
	  "<tt/&releasename;/" o a "<tt>stable</tt>". Avís: les línies de les fonts
	  d'un CD-ROM sovint apunten a "<tt/unstable/" encara que açò puga 
	  semblar confús, <em/no/ ho canvieu.</p>

	  <p>Es altament recomanable que utilitzeu el programa
	  <prgn>/usr/bin/script</prgn> per a enregistrar una transcripció de la
	  sessió d'actualització. Aleshores, si apareix algun problema, tindreu
	  un fitxer de registre del que ha passat i, en cas necessari, podeu
	  donar la informació exacta en un informe d'error. Per començar a
	  enregistrar la sessió, escriviu:

          <example>
# script -a ~/upgrade-to-&releasename;.typescript
          </example>

	  o quelcom de semblant. No poseu el fitxer typescript a un directori 
	  temporal com ara <file>/tmp</file> o <file>/var/tmp</file> (els
	  fitxers d'aquests directoris es poden esborrar durant
	  l'actualització o bé quan reinicieu el sistema).</p>

          <p>El typescript també us permetrà revisar la informació que s'ha 
	  mostrat en pantalla. Només cal que aneu al VT2 (utilitzant 
	  <tt/Alt-F2/) i, després d'entrar, executeu 
	  <tt>less ~root/upgrade-to-&releasename;.typescript</tt> per veure el 
	  fitxer.</p>

          <p>Un cop hagi finalitzat l'actualització, podeu aturar l'<prgn/script/
	  escrivint <tt/exit/ a l'indicador d'ordres.</p>

        <sect1 id="updating_lists"><heading>Actualització de la llista de 
	paquets</heading>

          <p>S'ha de descarregar la llista de paquets de què es disposa per 
	  al nou llançament. Açò es fa executant <footnote>Utilitzem 
	  l'<prgn/apt-get/ perquè la versió d'<prgn/aptitude/ de &oldreleasename;
	  pot fallar quan s'han afegit noves fonts al fitxer 
	  <file/sources.list/.</footnote>:</p>

	  <p><example>
# apt-get update
	  </example></p>

        </sect1>


<!-- FJP: This next section can probably be dropped for etch -->
        <sect1 id="upgrading_aptitude"><heading>Actualització de 
	l'aptitude</heading>

          <p>Els tests d'actualització han mostrat que la versió de
	  &releasename; de l'<prgn/aptitude/ és millor per resoldre 
	  dependències complexes en l'actualització que l'<prgn/apt-get/ o 
	  l'<prgn/aptitude/ de &oldreleasename;.

          Aleshores, heu d'actualitzar fent, primer:
          <example>
# aptitude install aptitude
          </example></p>

          <p>Es mostrarà una llista dels canvis que es faran i se us preguntarà
	  que els confirmeu. Fixeu-vos bé en els canvis proposats, especialment
	  en els paquets que s'esborraran a l'actualització, abans de 
	  confirmar.</p>

          <p>En alguns casos, si es llista un gran nombre de paquets per 
	  esborrar-los, podeu reduir aquesta llista seleccionant 
	  "pre-actualitzar" altres paquets al mateix temps que 
	  <package/aptitude/. Un exemple que pot aclarir açò: als tests
	  d'actualització dels sistemes que tenen instal·lat el KDE, hem
	  vist que aquest pas pot fer que s'esborren molts paquets de KDE i/o
	  perl. S'ha comprovat que la solució passa per executar
          <tt>install aptitude perl</tt> en comptes de <tt>install aptitude</tt>.</p>

        </sect1>

        <sect1 id="upgrading_other">
	<heading>Actualització de la resta del sistema</heading>

          <p>Ara ja esteu preparats per continuar amb la part principal de 
	  l'actualització. Executeu:</p>
	  <p><example>
# aptitude -f --with-recommends dist-upgrade
	  </example></p>

	  <p>Açò farà una actualització completa del sistema, es a dir, 
	  instal·larà les versions més noves de tots els paquets, i resoldrà 
	  tots els canvis de dependències possibles entre paquets de diferents
	  llançaments. Si s'escau, instal·larà alguns paquets nous 
	  (normalment noves versions de llibreries o paquets que han canviats de
	  nom), i esborrarà qualsevol paquet obsolet conflictiu (com el 
	  <package>console-tools-libs</package>).</p>

          <p>Quan actualitzeu des d'un conjunt de CD-ROMs, se us demanarà
	  que introduïu CDs específics en diferents moments al llarg de 
	  l'actualització. Açò és així perquè hi ha paquets interrelacionats que
	  estan dispersos en diferents CDs</p>

	  <p>Les noves versions dels paquets actualment instal·lats que no es
	  poden actualitzar sense canviar l'estat de la instal·lació d'un altre
	  paquet es deixaran en la seua versió actual (que es mostrarà com a
	  "held back"). Açò es pot resoldre o bé utilitzant 
	  <prgn>aptitude</prgn> per escollir aquests paquets o bé executant 
	  <tt>aptitude -f install <var>package</var></tt>.</p>

          <p>L'opció <tt/--fix-broken/ (o tan sols <tt/-f/) fa que 
          l'<package/apt/ intente arreglar un sistema amb dependències 
	  trencades. L'<package/apt/ no permet que tingueu paquets amb 
	  dependències trencades al sistema.</p>

        </sect1>

        <sect1 id="trouble"><heading>Possibles problemes en l'actualització</heading>

          <p>Si una operació fent servir <prgn/aptitude/, <prgn/apt-get/ o
          <prgn/dpkg/ falla amb l'error
<example>
E: Dynamic MMap ran out of room
</example>
          significa que l'espai reservat de memòria cau és insuficient. Podeu 
	  resoldre aquest problema esborrant o comentant les línies que no 
	  necessiteu a l'<file>/etc/apt/sources.list</file>, o incrementant 
	  la mida de la memòria cau.
	  La mida de la memòria cau es pot incrementar amb l'opció
	  <tt/APT::Cache-Limit/ en el fitxer <file>/etc/apt/apt.conf</file>. 
	  L'ordre següent li donarà un valor suficientment gran per a 
	  l'actualització:
<example>
# echo 'APT::Cache-Limit "12500000";' >> /etc/apt/apt.conf
</example>
          Açò assumeix que aquesta variable encara no té cap valor assignat 
	  en eixe fitxer.</p>

          <p>De vegades, cal activar l'opció APT::Force-LoopBreak a l'APT
	  per tal d'evitar entrar en un cercle sense sortida de conflicte i
	  pre-dependència. En tal cas l'<prgn/aptitude/ us alertarà
	  i avortarà l'actualització. Podeu evitar-ho especificant l'opció
          <tt>-o APT::Force-LoopBreak=1</tt> a la línia d'ordres de 
	  l'<prgn/aptitude/.</p>
<!-- JFS: Shouldn't this mention also Apt's configuration file? -->

          <p>És possible que l'estructura del sistema de dependències es
	  corrompi i que calgui una intervenció manual. Normalment açò
	  vol dir emprar l'<prgn/aptitude/ o 

          <example>
# dpkg --remove <var>package_name</var>
          </example>

          per tal d'eliminar els paquets problemàtics, o

          <example>
# aptitude --fix-broken install
# dpkg --configure --pending
          </example></p>

          <p>En casos extrems haureu de forçar la reinstal·lació
	  amb una ordre de l'estil

          <example>
# dpkg --install <var>/ruta/al/nom_del_oaquet.deb</var>
          </example></p>

          <p>No hi hauria d'haver cap conflicte de fitxers si actualitzeu
	  des d'un sistema &oldreleasename; "pur", però pot passar si teniu
	  algun backport instal·lat. Un conflicte de fitxers donarà un error
	  de l'estil:

          <example>
Unpacking replacement <var>&lt;package-foo&gt;</var> ...
dpkg: error processing <var>&lt;package-name-for-foo&gt;</var> (--unpack):
 trying to overwrite `<var>&lt;some-file-name&gt;</var>',
 which is also in package <var>&lt;package-bar&gt;</var>
          </example></p>

          <p>Podeu provar de resoldre el conflicte de fitxers forçant
	  l'eliminació del paquet esmentat a l'<em/última/ línia del missatge
	  d'error:

          <example>
# dpkg -r --force-depends <var>package_name</var>
          </example></p>

          <p>Un cop arreglat el problema, hauríeu de ser capaços de
	  continuar l'actualització amb l'<tt/aptitude/, seguint els passos que
	  hem descrit anteriorment.</p>	  

          <p>Durant l'actualització se us faran algunes preguntes referents a la
	  configuració o reconfiguració d'alguns paquets. Quan se us pregunte
	  si s'ha de reemplaçar qualsevol dels fitxers 
	  <file>/etc/init.d</file> o els directoris
          <file>/etc/terminfo</file>, o el fitxer <file>/etc/manpath.config</file>
	  per la versió del mantenidor del paquet, heu de respondre 'sí'
	  per garantir la consistència del sistema. Sempre podreu tornar a
	  les versions velles, ja que es desaran amb l'extensió 
          <tt/.dpkg-old/.</p>

          <p>En cas de dubte, anoteu el nom del paquet
	  o del fitxer, i resoleu-ho després. Podeu cercar al fitxer la
	  informació que teníeu en pantalla en el moment de l'actualització.</p>

        </sect1>
        </sect>
        
	<sect id="newkernel"><heading>Actualització del nucli i dels paquets 
	relacionats</heading>

	  <p>Hauríeu d'actualitzar el nucli Linux per separat de la resta
	  dels vostres paquets.
<!-- TODO: add something in "before you upgrade", and get the order right -->
	  Podeu fer-ho vosaltres mateixos, o bé instal·lant algun dels 
	  paquets <package/linux-image-*/ o bé compilant un nucli personalitzat
	  a partir del codi fonts.
          Llegiu la informació d'aquesta secció per estar a l'aguait de possibles 
	  problemes que poden sorgir com a conseqüència de l'actualització del 
	  nucli.</p>

<![ %defaulted-2.4 [
          <p>Els paquets del nucli de Linux han canviat de <package/kernel-*/ a
	  <package/linux-*/ per tal de netejar l'espai de noms</p>
	  <p>Si esteu fent servir un nucli de la sèrie 2.4, l'antiga sèrie
	  estable de nuclis de Linux, hauríeu d'actualitzar-lo a la sèrie 2.6,
	  ja que la 2.4 no serà mantinguda gaire temps més a &releasename;.
          Si esteu utilitzant un nucli de la sèrie 2.2, cal que actualitzeu 
	  (com a mínim) a la sèrie 2.4 (preferiblement a la sèrie 2.6) abans 
	  d'actualitzar els paquets.
<!-- TODO: incoporate this part in this section -->
	  Alguns problemes generals associats amb l'actualització a 2.6 estan 
	  documentats a <ref id="upgrade-to-2.6">.</p>
]]>

        <sect1><heading>L'initrd-tools està obsolet</heading>
          <p>Ja no es dóna suport al <package/initrd-tools/ i ha estat 
	  substituït pel <package/initramfs-tools/ i el <package/yaird/.
	  L'actualització d'un nucli d'etch farà que per defecte s'instal·le 
          l'<package/initramfs-tools/. 
<![ %defaulted-2.4 [	  
	  Si esteu actualitzant des d'un nucli
	  2.4 a un nucli 2.6 per primera vegada, heu d'utilitzar
          l'<package/initramfs-tools/.
          El <package/yaird/ farà que les instal·lacions del linux-image-2.6
	  fallin quan s'executi a un nucli 2.2 o 2.4.
]]>	  
	  </p>
        </sect1>

        <sect1><heading>El devfs està obsolet</heading>
          <p>A %releasename; el sistema de fitxers <prgn>devfs</prgn> ja no 
	  està suportat.
	  Us recomanem que migreu a <package>udev</package> si voleu una gestió 
	  dinàmica del <file>/dev</file>.
	  Els nuclis de Debian no inclouen suport per a <prgn>devfs</prgn>,
	  per tant els usuaris de <prgn>devfs</prgn> hauran de convertir
	  de els seus sistemes abans d'actualitzar a un nucli 
	  d'&releasename;.</p>

          <p>Si veieu la cadena 'devfs' al <file>/proc/mounts</file>, vol dir que
	  probablement esteu fent servir <prgn>devfs</prgn>.
	  Qualsevol fitxer de configuració que facin referència a l'estil de
	  noms de devfs, necessitarà que l'adapteu per utilitzar l'estil de
	  noms de l'udev. Els fitxers que probablement fan referència a
	  l'estil de noms de dispositiu de devs són 
          <file>/etc/fstab</file>, <file>/etc/lilo.conf</file>, 
	  <file>/boot/grub/menu.lst</file>, etc.</p>

          <p>Trobareu més informació sobre els possibles problemes a l'informe d'error
          <url id="http://bugs.debian.org/341152" name="#341152">.
          </p>
        </sect1>

<![ %i386-amd64-ia64 [
        <sect1><heading>Suport per a SMP inclòs als nuclis estàndard</heading>
          <p>Els sistemes multiprocessador no necessitaran ja d'una versió 
	  *-smp del nucli de Linux. Als &arch-title els paquets linux-image 
	  que no tenen el sufix -smp suporten sistemes multiprocessador i
	  uniprocessador.</p>
        </sect1>

]]>

<![ %i386 [
        <sect1><heading>La versió 386 del nucli és obsoleta</heading>
          <p>El suport per a la subarquitectura 80386 de &arch-title; s'ha 
	  eliminat a &releasename;. Ja no estan suportades les versions 386 del nucli 
	  i s'han substituït per la nova versió 486.</p>
	</sect1>
]]>
          
        <sect1><heading>Canvis en l'enumeració de dispositius</heading>
          <p>&releasename; té un mecanisme molt més robust de detecció de maquinari
	  que els llançaments anteriors. Tanmateix, açò pot donar lloc 
	  a canvis en l'ordre en què es detecten els dispositius del 
	  vostre sistema, afectant l'ordre en què s'assignen els noms als
	  dispositius.
          Per exemple, si teniu dos targetes de xarxa controlades per
	  dos controladors diferents, els dispositius eth0 i eth1 als que
	  apunten podrien quedar intercanviats.
          Tingueu en compte que el nou mecanisme entén que si per exemple canvieu
	  els controladors ethernet d'un sistema que està funcionant amb
	  &releasename;, el nou adaptador adoptarà un altre nom  d'interfície.</p>

          <p>Per als dispositius de xarxa, podeu evitar aquest reordenament
	  emprant la utilitat <prgn>ifrename</prgn> per vincular els
	  dispositius físics a noms específics en el moment de l'arrencada.
<!-- TODO: add ifupdown-scripts-zg2 as well here? -->
          Vegeu <manref name="ifrename" section="8"> i <manref name="iftab"
          section="5"> per obtenir més informació.</p>

<!-- TODO:
          *** maks: please review the initramfs stuff for accuracy - I'm going
          ***       by what I remember, and haven't tested this recently
          -->
          <p>En els dispositius d'emmagatzemament podeu evitar aquest 
	  reordenament si utilitzeu el paquet <package/initramfs-tools/ 
	  i el configureu perquè carregui els mòduls 
	  dels controladors de dispositius d'emmagatzemament en el mateix ordre
	  que estan carregats ara.
	  Per a fer-ho, identifiqueu quin és l'ordre en què els mòduls 
	  d'emmagatzemament es van carregar al vostre sistema mirant la
	  sortida de l'<prgn/lsmod/.
	  L'<prgn/lsmod/ dóna la llista de mòduls en ordre invers al que han estat
	  carregats, és a dir, el primer mòdul a la llista és l'últim que
	  que s'ha carregat.</p>

          <p>D'altra banda, esborrar i tornar a carregar els mòduls 
	  després de l'arrencada inicial afectarà aquest ordre. A més, el
	  nucli pot tenir alguns dispositius enllaçats estàticament,
	  i aquests noms no apareixeran a la sortida de 
          l'<prgn>lsmod</prgn>. Podeu esbrinar aquests noms de dispositiu
	  i ordre de càrrega examinant el 
          <file>/var/log/kern.log</file>, o la sortida del
          <prgn>dmesg</prgn>.</p>

          <p>Afegiu eixos noms dels mòduls al fitxer
	  <file>/etc/initramfs-tools/modules</file> en l'ordre
	  que hauria de carregar-se al moment de l'arrencada. Els noms d'alguns 
	  mòduls pot variar de &oldreleasename; a &releasename;. Per
	  exemple, sym53c8xx_2 s'ha reanomenat a sym53c8xx.</p>

          <p>Aleshores, haureu de regenerar la imatge o imatges de l'initramfs
	  executant <tt>update-initramfs -k all</tt>.</p>

          <p>Una cop esteu utilitzant un nucli &releasename; i udev, podeu
	  reconfigurar el vostre sistema per aconseguir que accedeixi als discs 
	  amb un àlies que no depengui de l'ordre de càrrega dels dispositius.
	  Aquests àlies són a la jerarquia <file>/dev/disk/</file>.</p>
        </sect1>

<![ %ia64 [
        <sect1><heading>Reordenació dels dispositius sèrie</heading>
          <p>Si teniu una màquina HP i esteu utilitzant el port de la
	  consola sèrie MP (l'endoll etiquetat "console" en el cable amb
	  3 capçals), la actualització farà que la vostra consola deixe de
	  funcionar!</p>

          <p>Llegiu la informació que hi ha a continuació abans 
	  d'actualitzar.</p>

          <p><list>
          <item><p>El dispositiu de la consola canviarà de
	  <file>ttyS0</file> a
           <file>ttyS1</file>, <file>ttyS2</file>, o <file>ttyS3</file> 
	   per tant
            <list>
            <item><p>Editeu <file>/etc/inittab</file> per afegir una entrada
	    gett per al
             <file>/dev/ttyS1</file> (rx4640, rx5670, rx7620, rx8620, Superdome),
             <file>/dev/ttyS2</file> (rx1600), o bé
             <file>/dev/ttyS3</file> (rx2600).</p></item>
            <item><p>Editeu <file>/etc/securetty</file> per afegir
             <file>ttyS1</file>, <file>ttyS2</file>, o bé
             <file>ttyS3</file>.</p></item>
            <item><p>Deixeu les entrades <file>ttyS0</file> que hi havia al
             <file>/etc/inittab</file> i <file>/etc/securetty</file>, per 
	     tal de poder seguir arrencant amb nuclis antics.</p></item>
	    </list>
	  </p></item>

          <item><p>Editeu <file>/etc/elilo.conf</file> i esborreu qualsevol 
	  opció de l'estil "console="<p></item>

          <item><p>Executeu l'<prgn/elilo/ per instal·lar el carregador d'arrencada 
	  amb la nova configuració.</p></item>

          <item><p>Reinicieu el sistema i seleccioneu exactament un dispositiu
	  com a sortida i entrada de consola i sortida d'errors estàndard, a
	  l'opció d'arrencada EFI del menú de configuració. Torneu a reiniciar la
	  màquina per tal que els canvis tinguin efecte</p>

           <p>Per a la consola MP, aneu amb compte de seleccionar el 
	   dispositiu "Acpi(HWP0002,700)/Pci(...)/Uart".</p></item>
          </list></p>

          <p>Trobareu més detalls d'aquests canvis, així com possibles
	  solucions a problemes que pugin sorgir a
          <url id="http://lists.debian.org/debian-ia64/2005/01/msg00008.html">.</p>

        </sect1>
]]>

        <sect1><heading>Actualització del nucli</heading>
          <p>Quan feu dist-upgrade des de &oldreleasename; a &releasename;,
	  és altament recomanable que instal·leu un dels nou metapaquets
	  linux-image-2.6.
	  
	  Aquest paquet es podria instal·lar automàticament en el procés 
	  dist-upgrade. Podeu verificar-ho executant:
          <example>
# dpkg -l | grep '^ii  linux-image'
          </example></p>

          <p>Si no veieu cap sortida, aleshores caldrà instal·lar un 
	  paquet linux-image a mà. Per veure la llista de metapaquets
	  linux-image-2.6 que hi ha a l'abast, executeu:
          <example>
# apt-cache search linux-image-2.6- | grep -v transition
          </example></p>

          <p>Si no sabeu segur quin paquet seleccionar, executeu
          <tt>uname -r</tt> i busqueu un paquet amb un nom semblant.
	  Per exemple, si vegeu '2.4.27-3-686', es recomana que instal·leu
          <package/linux-image-2.6-686/.
	  També podeu utilitzar l'<prgn>apt-cache</prgn> per a veure una 
	  descripció més detallada de cada paquet, cosa que us pot ajudar a 
	  fer una bona elecció.
          Per exemple:
          <example>
# apt-cache show linux-image-2.6-686
          </example></p>

         <p>Heu d'utilitzar <tt/aptitude install/ per instal·lar-lo.
	 Una vegada en nucli nou estigui instal·lat, hauríeu de reiniciar
	 el sistema per a que els canvis tinguin efecte.</p>

         <p>Per als més atrevits, hi ha una manera fàcil de compilar el vostre
	 nucli personalitzat a &debian;. Instal·leu el paquet
         <package>kernel-package</package> i llegiu la documentació que 
	 trobareu a <file>/usr/share/doc/kernel-package</file>.</p>

        </sect1>

        <sect id="nownownow"><heading>Coses a fer abans de reiniciar</heading>

          <p>Quan l'<tt>aptitude dist-upgrade</tt> ha acabat, l'actualització
          "formal" s'ha completat, però hi ha altres coses que s'han
	  de fer <em/abans/ de reiniciar.</p>

        <sect1 id="mdadm"><heading>Actualització de mdadm</heading>

         <p>A partir d'ara el mdadm necessita un fitxer de configuració,
	 per acoblar les línies MD (RAID) des del ramdisk inicial a la 
	 seqüència d'arrencada del sistema. Assegureu-vos de llegir i seguir 
	 les instruccions que trobareu a 
	 <file>/usr/share/doc/mdadm/README.upgrading-2.5.3.gz</file>
	 després d'haver actualitzat i <strong>abans de reiniciar</strong>.
	 La última versió d'aquest fitxer la podeu trobar a
         <url id="http://svn.debian.org/wsvn/pkg-mdadm/mdadm/trunk/debian/README.upgrading-2.5.3?op=file">;
         consulteu-lo si trobeu algun problema.</p>

        </sect1>
        </sect>

        <sect id="obsolete"><heading>Paquets obsolets</heading>

<!-- JFS: Providing a full listing might be useful, especially if we can
point to the Bug that was opened when the bug was removed. This list should
be moved to an appendix, instead of adding it inline as we did in the
potato to woody RN -->

         <p>Amb la introducció de  milers de nous paquets, &releasename;
	 també retira i omet més de dos mil paquets antics que eren a
	 &oldreleasename;. No es proporciona una forma d'actualització per aquests
	 paquets obsolets. Tot i que res no impedeix que continueu utilitzant
	 els paquets obsolets si ho desitgeu, el projecte Debian normalment
	 interromp el suport de seguretat per a aquests paquets al cap d'un
	 any des del llançament
	 de &releasename;<footnote>O mentre no hi haja un altre
	 llançament en aquesta franja de temps. Normalment només donem
	 suport per dos distribucions estables simultàniament.</footnote>, i 
	 tampoc es donarà cap altra mena de suport durant aquest temps.
         Es recomana, si n'hi ha, que els
	 reemplaceu per les alternatives de què es dispose.</p>

         <p>Hi ha diverses raons per les quals alguns paquets s'esborren
	 de la distribució: ja no els mantenen els desenvolupadors; no hi ha
	 cap desenvolupador de Debian interessat a mantenir-los; la 
	 funcionalitat que donen s'ha vist reemplaçada per alguns programes
	 nous (o versions noves); o bé s'ha considerat que no és adequat per a
	 &releasename; a causa de les errades que conté. En aquest darrer cas, 
	 els paquets encara els podríeu trobar a la distribució "unstable"</p>

         <p>Detectar quins paquets son "obsolets" en un sistema actualitzat
	 és fàcil ja que els frontals de gestió de paquets els marquen com
	 a tals. Si esteu emprant l'<prgn>aptitude</prgn>, podeu veure una
	 llista d'eixos paquets a l'entrada "Paquets obsolets i creats
	 localment". El <prgn>dselect</prgn> dóna una secció semblant
	 però la llista que es mostra pot ser diferent. A més, si heu
	 utilitzat l'<prgn>aptitude</prgn> per instal·lar manualment paquets
	 a &oldreleasename; haurà mantingut una pista d'aquells paquets que heu
	 instal·lat manualment i podrà marcar com a obsolets els
	 paquets que han estat introduïts per dependència únicament i no 
	 calen si un paquet ha estat esborrat. També, l'<prgn>aptitude</prgn>,
	 a diferència del <prgn>deborphan</prgn>, no marcarà com a obsolets els
	 paquets que heu instal·lat manualment, a diferència d'aquells que
	 s'han instal·lat automàticament com a dependències.</p>

         <p>Hi ha eines addicionals que podeu fer servir per a trobar paquets
	 obsolets, com el <prgn>deborphan</prgn>, el <prgn>debfoster</prgn> o
         el <prgn>cruft</prgn>. És molt recomanable el <prgn>deborphan</prgn>,
	 encara que (en el seu mode per defecte) tan sols informarà sobre
	 biblioteques obsoletes: els paquets de les seccions "libs" o "oldlibs"
	 que no utilitzen cap altre paquet. No esborreu a cegues els paquets
	 que suggereixen aquestes eines, especialment si esteu emprant opcions
	 no per defecte que pugin produir falsos positius. Es recomanable
	 que reviseu manualment els paquets suggerits per esborrar (p.e.
	 els continguts, la mida i la descripció) abans d'esborrar-los.</p>

<!-- JFS: Should we recommend purging old packages? This might be
dangerous since the maintainer scripts might try to remove stuff that
didn't belong to them... -->

         <p>El <url id="&url-bts;" name="Sistema de seguiment d'errors de 
	 Debian"> sovint dóna informació addicional de per què els paquets
	 es van esborrar. Hauríeu de revisar els informes d'error del paquet
	 i els informes d'error arxivats pel <url
         id="&url-bts;cgi-bin/pkgreport.cgi?pkg=ftp.debian.org&#38;archive=yes"
         name="pseudo-paquet ftp.debian.org">.</p>

        <sect1 id="dummy"><heading>Paquets ficticis</heading>

<!-- JFS: If the appendix is kept this section should point there and the packages described here should be moved to that section -->

         <p>Alguns dels paquets de &oldreleasename, s'han dividit en diversos
	 paquets a &releasename;, sovint per facilitar les tasques de manteniment
	 del sistema. Per facilitar la forma d'actualització en aquests casos, 
	 &releasename; ofereix paquets "ficticis": són paquets buits que tenen 
	 el mateix nom que el paquet vell a &oldreleasename; amb dependències
	 que fan que s'instal·le el nou paquet. Aquests paquets "ficticis"
	 són considerats obsolets després de l'actualització, i es poden
	 esborrar amb seguretat.

         <p>La major part (però no tots) de les descripcions dels paquets 
	 ficticis indiquen el seu propòsit. Les descripcions d'aquests
	 paquets no són uniformes, però l'opció  <tt>--guess</tt> 
	 del <prgn>deborphan</prgn> pot ser útil per detectar-los al vostre sistema.
         Tingueu en compte que alguns paquets ficticis no estan pensats per a ser
	 eliminats després d'una actualització, sinó que s'utilitzen per a fer
	 el seguiment de les versions disponibles del programa al llarg del 
	 temps.</p>

        </sect1>
        </sect>
      </chapt>

<!-- FJP: Add more info here on dealing with obsolete packages?
          Also how to purge packages that were deleted but still have conffiles
          (use "limit" command in aptitude and search for ~c) -->

        <chapt id="information">
        <heading>Consideracions en relació a &releasename;</heading>

        <sect id="problems"><heading>Possibles problemes</heading>
          <p>De vegades, els canvis tenen efectes col·laterals que no es
	  poden evitar fàcilment sense exposar-se a errors en alguna altra banda.
	  A continuació, documentem diversos aspectes problemàtics que
	  cal tenir en compte. Llegiu també les errates, la documentació dels 
	  paquets importants, els informes d'error i la informació esmentada a 
	  l'apartat <ref id="morereading">.
          </p>

          <sect1 id="window-scaling"><heading>Alguns llocs de la xarxa són
	  inaccessibles amb TCP</heading>
          <p>
          Des del 2.6.17, Linux fa ús d'escalat de finestra TCP tal com 
	  s'especifica al RFC 1323 d'una manera agressiva. Alguns servidors
	  tenen un comportament erroni, i anuncien de forma incorrecta la
	  mida de la finestra per ells mateixos. Vegeu els informes d'error
          <url id="http://bugs.debian.org/381262" name="#381262"> i
          <url id="http://bugs.debian.org/395066" name="#395066">
          si voleu més informació.
          </p>
          </sect1>

<![ %i386 [
          <sect1 id="poweroff"><heading>L'apagat automàtic no funciona</heading>
          <p>
          En alguns sistemes antics, el <tt>shutdown -h</tt> podria no 
	  apagar-los (sols els aturarà). Açò passa perquè cal utilitzar
	  l'apm. Afegint <tt>acpi=off apm=power_off</tt> a la línia d'ordres
	  del nucli, p.e. amb el fitxer de configuració de <package/grub/ o de 
	  <package/lilo/, solucionarà el problema.
          Llegiu l'informe d'error 
          <url id="http://bugs.debian.org/390547" name="#390547">
          per obtenir més informació.
          </p>
          </sect1>
]]>

          <sect1 id="apt-pdiff"><heading>L'Apt descarrega fitxers menuts a
	  l'actualització</heading>
          <p>S'ha afegit una funcionalitat a l'<prgn>apt</prgn> perquè descarregue 
	  sols els fitxers amb les diferències entre paquets. Açò és útil
	  per gent amb una connexió de xarxa dolenta, però la gent que tingui
	  una rèplica a prop potser voldrà desactivar aquesta característica.
          Podeu desactivar-la afegint <tt>Acquire::Pdiffs "false";</tt> al
          <file>/etc/apt/apt.conf</file>.
          </p>
          </sect1>
        </sect>


<!-- Controversial, disabled for now, please translate though
        <sect id="german-quotes"><heading>Problems with German Quotes</heading>

          <p>The locales for German style languages (e.g. de_DE@euro)
          unfortunately use an aesthetically unpleasing way of representing
          open quotation marks.  We have retained it this way in order to
          preserve compatibility with other Linux distributions, and we hope
          that in the future it will be fixed. We suggest that you switch to a
          UTF-8 locale (e.g. de_DE@euro.UTF-8), which fully supports German with
          the correct quotation marks, and, using Unicode encoding, has better
          support for other languages as well.</p>

          <p>To change the system wide locale choice, use:
          <example>dpkg-reconfigure locales</example></p>
        </sect>
-->  
<!--   Will be added if relevant information is written here
        <sect id="syntax"><heading>Important program syntax changes</heading>

          <p>Debian attempts to avoid changing upstream packages, therefore
          any changes in the upstream package will be present in the version in
          &debian;. This can mean that program behaviour may change between
          releases of &debian;. </p>

          <p><em>No changes yet reported.</em></p>

        </sect>
-->

<![ %defaulted-2.4 [
        <sect id="upgrade-to-2.6">
        <heading>Actualització a un nucli 2.6</heading>
          
	<p>Els nuclis de la sèrie 2.6 contenen grans canvis respecte dels de la 
	  sèrie 2.4. Alguns mòduls han canviat de nom i molts controladors han 
	  estat parcialment o gairebé completament reescrits. Actualitzar un 
	  a nucli 2.6 des d'una versió anterior no és aleshores un procés per 
	  agafar-se a la lleugera. En aquesta secció tractarem d'avisar-vos 
	  d'algunes de les dificultats que podeu trobar-vos.</p>

          <p>Per tant us aconsellem que no actualitzeu a un nucli 2.6 com a
	  part de l'actualització de &oldreleasename; a &releasename;.
          En lloc d'això, primer heu d'assegurar-vos que el vostre
	  sistema funciona correctament amb el nucli antic o amb un nucli 2.4
	  d'&releasename; i actualitzar a un nucli 2.6 després, per
	  separat.</p>

          <p>Si compileu el vostre nucli des de les fonts, assegureu-vos 
	  d'instal·lar <package/module-init-tools/ abans de reiniciar amb el 
	  nucli 2.6. Aquest paquet reemplaça <package/modutils/ per als nuclis 2.6.
	  Si instal·leu un dels paquets de Debian <package/linux-image/, 
	  s'instal·larà aquest paquet de forma automàtica gràcies a les 
	  dependències.</p>

          <p>
	  Si utilitzeu <em/LVM/, heu d'instal·lar el <package/lvm2/
	  abans de reiniciar, ja que el nucli 2.6 no suporta directament LVM1.
	  Per accedir als volums LVM1, s'empra la capa de compatibilitats de 
	  <package/lvm2/ (el mòdul dm-mod). Podeu deixar instal·lat el
	  <package/lvm10/; els guions d'inici detectaran quin nucli s'utilitza
	  i executaran la versió apropiada.</p>

          <p>Si teniu entrades al fitxer <file>/etc/modules</file> (la 
	  llista de mòduls que es carregaran durant l'arrencada del sistema), 
	  aneu amb compte que hi ha alguns mòduls que han canviat de nom. Si us 
	  passa açò actualitzeu aquest fitxer amb els noms dels mòduls 
	  nous.</p>

<![ %i386-amd64 [
          <p>A alguns controladors de disc SATA, el dispositiu assignat
	  a un disc i les seves particions han canviat de <file>/dev/hdX</file>
	  a <file>/dev/sdX</file>. Si us passa açò, modifiqueu el 
	  <file>/etc/fstab</file> i el carregador d'arrencada com 
	  corresponga. Si no es fan aquests canvis, el
	  sistema podria no arrencar correctament.</p>
]]>

          <p>Una vegada instal·lat el nucli 2.6, però abans de 
	  reiniciar, assegureu-vos que disposeu d'algun mètode de recuperació. 
	  Primer assegureu-vos que la configuració del carregador té les entrades 
	  per als dos nuclis, el nou i el vell, el nucli 2.4. Assegureu-vos també 
	  que teniu un disquet de rescat o un CD-ROM a mà, no fos cas que
	  una error a la configuració no us deixés arrencar amb el nucli vell.</p>

<![ %not-s390 [
<![ %not-amd64 [
        <sect1 id="2.6-keyboard">
        <heading>Configuració del teclat</heading>

          <p>Un dels canvis més invasius en els nuclis 2.6 és un canvi fonamental
	  en la capa d'entrada. Aquest canvi fa que tots els teclats semblin
	  teclats de PC "normals". Açò vol dir que si actualment teniu seleccionat
	  un teclat d'un altre tipus (p.e. un USB-MAC o un teclat Sun),
	  molt probablement en reiniciar el sistema amb el nou nucli 2.6 el
	  vostre teclat no funcionarà.</p>

          <p>Si podeu accedir al sistema via SSH des d'una altra màquina, podreu 
	  resoldre aquest problema executant 
	  <tt>dpkg-reconfigure console-data</tt>, escollint l'opció "Seleccioneu 
	  un teclat de la llista completa" i seleccionant un teclat "pc".</p>

          <p>Si el teclat de la consola està afectat, probablement també
	  caldrà reconfigurar el teclat per al sistema X Window.
          Podeu fer açò o bé executant <tt>dpkg-reconfigure 
	  xserver-xfree86</tt> o editant el <file>/etc/X11/XF86Config-4</file>
	  directament. No us oblideu de llegir la documentació que trobareu a
	  <ref id="nownownow">.</p>

<![ %i386 [
          <p>És poc probable que aquest problema afecte l'arquitectura
	  &arch-title; ja que tots els teclats PS/2 i USB ja estaran 
	  configurats com a teclats PC "normals".</p>
]]>
<![ %not-i386 [
          <p>Tingueu en compte que si esteu utilitzant un teclat USB, podria 
	  estar configurat o bé com un teclat de PC "normal" o com un USB-MAC. En
	  el primer cas aquest problema no us afectarà.</p>
]]>
        </sect1>
]]> <!-- %not-amd64 -->

        <sect1 id="2.6-mouse">
        <heading>Configuració del ratolí</heading>

          <p>Igualment, a causa dels canvis en la capa d'entrada, potser haureu de
	  reconfigurar el sistema X Window i el <package/gpm/ si el
	  ratolí no funciona després d'actualitzar a un nucli 2.6. La causa
	  més probable és que el dispositiu que obté les dades des del 
	  ratolí hagi canviat. Potser caldrà carregar uns mòduls 
	  diferents.</p>

<![ %sparc [
          <p>Si en aquest moment teniu configurades les X per al 
	  <file>/dev/sunmouse</file>, probablement haureu de canviar-ho a
	  <file>/dev/psaux</file>.</p>
]]>

        </sect1>

        <sect1 id="2.6-sound">
        <heading>Configuració de l'àudio</heading>

          <p>Als nuclis de la sèrie 2.6 es recomana utilitzar els controladors de 
	  so ALSA, en lloc dels controladors antics de so OSS. Els controladors de
	  so ALSA es trien per defecte. Per fer funcionar el so, cal
	  carregar els mòduls ALSA escaients. En general açò es farà de forma
	  automàtica si teniu instal·lat, a més a més del paquet 
	  <package>alsa-base</package>, el paquet <package>hotplug</package>
	  o el <package>discover</package>.
	  
          El paquet <package>alsa-base</package> també afegeix els mòduls
          al "blacklists" (llistes negres) per evitar que el <prgn>hotplug</prgn> i el 
          <prgn>discover</prgn> els carreguen. Si teniu mòduls OSS
	  al fitxer <file>/etc/modules</file>, esborreu-los.</p>

        </sect1>
]]> <!-- %not-s390 -->

<!-- FJP: May already be covered by kernel team text
          Etch Debian kernels depend on udev via initramfs-tools -->
        <sect1 id="2.6-udev">
        <heading>El pas a la sèrie 2.6 pot activar l'udev</heading>

        <p>L'<package/udev/ és una implementació a l'espai d'usuari de devfs.
	Es munta sobre el directori <file>/dev</file> i va omplint el directori
	amb els dispositius que suportats pel nucli. També afegirà i esborrarà 
	dinàmicament els dispositius d'acord amb els mòduls del nucli que es
	carreguen i descarreguen, treballant conjuntament amb el 
	<package/hotplug/ 
	per a detectar nous dispositius. L'<package/udev/ tan sols funciona amb
	nuclis 2.6.</p>

        <p>Com que el paquet <package/udev/ s'instal·la automàticament
	com a dependència del nou generador initrd que per defecte s'utilitza
	als nuclis 2.6 (<package/initramfs-tools/), l'actualització a un nucli
	2.6 farà normalment que s'activi el paquet <package/udev/ .</p>

        <p>Encara que l'<package/udev/ ha estat extensament provat, podeu 
	experimentar problemes menors amb alguns dispositius, que caldrà corregir.
	Els problemes més habituals són els canvis de permisos i/o propietari d'un
	dispositiu. En alguns casos un dispositiu podria no crear-se per defecte 
	(p.e. <file>/dev/video</file> i <file>/dev/radio</file>).</p>

        <p>L'<package/udev/ proporciona mecanismes de configuració per a tractar 
	amb aquests problemes. Vegeu  <manref name="udev" section="8"> i
	<file>/etc/udev</file> per a obtenir més informació.</p>

        </sect1>
        </sect>
]]> <!-- %defaulted-2.4 -->


      <sect id="xorg"> <heading>Transició de XFree86 a X.Org</heading>
        <p>La transició a X.Org comporta canvis estructurals. En el cas que
	tots els paquets estiguin instal·lats des de Debian i que estiguin 
	en &releasename;, l'actualització hauria de funcionar sense problemes.
	L'experiència ens diu que hi ha uns quants canvis dels que s'ha de 
	ser conscient ja que poden causar problemes a l'actualització.</p>

        <p>El canvi més important és que el directori
	<file>/usr/X11R6/bin</file> s'ha eliminat i s'ha convertit en un
	enllaç simbòlic a <file>/usr/bin</file>.
	Açò vol dir que aquest directori ha d'estar buit en el moment que
	s'instal·len nous paquets.
        Els paquets nous entren en conflicte amb la majoria de paquets que
	utilitzen <file>/usr/X11R6/bin</file>, però en alguns casos cal alguna
	interacció manual.
	Sobretot, recordeu de no fer les actualitzacions des d'una sessió X.</p>
        
	<p>En el cas que l'actualització quede avortada durant la instal·lació
	d'X.org, hauríeu de comprovar si queda encara algun fitxer a
        <file>/usr/X11R6/bin</file>.
        Podeu emprar <tt>dpkg -S</tt> per trobar a quins paquets de 
	Debian pertanyen aquests fitxers (si n'hi ha cap), i desinstal·lar eixe
	paquet amb 
        <prgn>dpkg --remove</prgn>. Apunteu els paquets que esborreu,
	de forma que pugueu instal·lar posteriorment els paquets de substitució.
	Abans de continuar amb la instal·lació, tots els fitxers de
        <file>/usr/X11R6/bin</file> s'han d'esborrar.</p>

        <p>Vegeu la pàgina <url id="http://wiki.debian.org/Xorg69To7">
	per obtenir més detalls i altres qüestions.</p>

      </sect>

      <sect id="exim"> <heading>Actualització des d'exim 3 a exim4</heading>
      <p>
      Un dels paquets que ha quedat obsolet amb el llançament d'&releasename; és
      l'Agent de transferència de Correu (MTA) exim, que ha estat completament
      reemplaçat pel nou paquet exim4.</p>

      <p>L'exim (versió 3.xx) ha romàs sense manteniment extern per part dels 
      seus desenvolupadors durant anys, i Debian també l'ha abandonat.
      Si encara esteu utilitzant exim 3.xx, actualitzeu la vostra instal·lació 
      de l'exim a exim4 manualment.
      Com que l'exim4 forma part de &oldreleasename;, podeu escollir
      fer l'actualització al vostre sistema &oldreleasename; abans de fer 
      l'actualització a &releasename;, o després de l'actualització d'&releasename;, 
      si us convé. Recordeu que l'exim antic no s'actualitzarà i que el 
      manteniment de seguretat no continuarà després que s'abandoni el manteniment 
      de Sarge.</p>

      <p>Els paquets exim4 a Debian estan molt ben documentats. La pàgina web
      del paquet és <url id="http://wiki.debian.org/PkgExim4"> al Wiki de 
      Debian, i el fitxer README es pot trobar a
      <url id="http://pkg-exim4.alioth.debian.org/README/README.Debian.html"> 
      i també a dins del paquet.</p>

      <p>El fitxer README té un capítol que parla sobre l'empaquetat, on 
      s'expliquen les diferents variants de paquets que proporcionem, i té 
      també un capítol que explica com
      actualitzar des de l'exim 3, que us ajudarà a fer la transició actual.</p>
<!-- FIXME: update with decisions of (S)RMs might be needed -->
      </sect>
      
      <sect id="apache2"> <heading>Actualització de l'apache2</heading>
        <p>L'Apache s'ha actualitzat a la nova versió 2.2. En general això
	no hauria de donar problemes a la majoria d'usuaris, però hi ha alguns 
	punts que cal tenir en compte.</p>

        <p><url id="http://httpd.apache.org/docs/2.2/upgrading.html"> conté
	els canvis dels desenvolupadors. Llegiu aquesta pàgina, i recordeu
	especialment que:
        <list>
        <item><p>Cal recompilar tots els mòduls</p></item>
        <item><p>Els mòduls d'autorització han canviat d'ordre i de nom</p></item>
        <item><p>Algunes opcions de configuració han canviat de nom</p></item>
        </list></p>

        <p>Alguns canvis específics per a Debian inclouen que la cadena SSL ha
	deixat d'estar definida per defecte ja que el protocol SSL actualment
	està suportat pel mateix paquet.</p>

      </sect>

      <sect id="php-globals"> <heading>Configuracions del PHP desaprovades</heading>
        <p>Des de fa anys, se sap que activar el paràmetre <tt/register_globals/ 
	al PHP pot ser insegur i perillós, i ja fa temps que l'opció està
	desactivada per defecte. Aquesta configuració és considera obsoleta als
	sistemes Debian per massa perillosa. El mateix s'aplica a defectes
	en <tt/safe_mode/ i <tt/open_basedir/, que han estat sense manteniment 
	des de fa temps.</p>
        
        <p>Des d'aquest llançament, l'equip de seguretat no farà cap
	manteniment per a un nombre de configuracions PHP que se sap que no són
	segures. Principalment, tots els problemes resultants de tenir activada
	l'opció <tt/register_globals/ no s'abordaran.</p>
        
        <p>Si executeu aplicacions propietàries que requereixen el 
	<tt/register_globals/, activeu-lo sols pels seus camins respectius,
	p.e. utilitzant un fitxer de configuració d'Apache. Teniu més
	informació al fitxer
        <file>README.Debian.security</file>, al directori de la documentació 
	del PHP (<file>/usr/share/doc/php4</file>,
        <file>/usr/share/doc/php5</file>).</p>
      </sect>

      <sect id="mozilla-security"> <heading>Estat de la seguretat dels 
      productes de Mozilla</heading>
        <p>Els programes de Mozilla són importants eines per a molts usuaris.
	Desafortunadament la política de seguretat dels desenvolupadors és instar a 
	l'actualització de les noves versions desenvolupades, cosa que entra
	en conflicte amb la política de Debian de no fer grans canvis 
	funcionals en una actualització de seguretat. 
	No podem pronosticar-ho avui, però durant el temps de vida de
	&releasename; l'equip de seguretat de Debian podria arribar a un punt
	en què mantenir els productes de Mozilla ja no sigui possible, i 
	podria anunciar la fi del manteniment de seguretat per als productes de
	Mozilla. Heu de tenir açò en compte quan desplegueu Mozilla i
	considerar alternatives dins Debian si l'absència de suport de seguretat
	us suposa cap problema.</p>
      </sect>
      </chapt>

      <chapt id="moreinfo">

        <heading>Més informació a &debian;</heading>

        <sect id="morereading"> <heading>Més per llegir</heading>
        <p>Més enllà d'aquestes notes i de la guia d'instal·lació hi ha
	més documentació a &debian; disponible al Projecte de Documentació
	de Debian (DDP), que té com a objectiu crear documentació d'alta 
	qualitat per als usuaris de Debian i per als desenvolupadors. La documentació
	inclou la Guia de Referència, La guia dels nous mantenidors de Debian,
	les PMF de Debian, i molt més. Per a més detalls sobre els recursos
	existents, vegeu la 
        <url id="&url-ddp;" name="web del DDP">.</p>

        <p>La documentació individual dels paquets la podeu trobar instal·lada
	a <file>/usr/share/doc/<var>package</var></file>, on també s'inclou
	informació sobre els drets d'autor, els detalls específics per a Debian i 
	qualsevol documentació del desenvolupador.</p>

      </sect> 

      <sect id="gethelp"> 
        <heading>On trobar ajuda</heading> 

        <p>Hi ha moltes fonts d'ajuda, consell i suport per als usuaris de Debian,
	però sols s'han de considerar si amb la investigació dins la 
	documentació del programa se us han exhaurit tots els recursos. Aquesta secció
	proporciona una curta introducció sobre aquells que poden ser d'ajuda per als
	nous usuaris de Debian.</p>

      <sect1 id="lists">
        <heading>Llistes de correu</heading>
        <p>Les llistes de més interès per als usuaris de Debian són la llista
        debian-user (en anglès) i la llista debian-user-<var/llengua/
        (per a altres llengües). Per obtenir més informació sobre aquestes llistes i
	detalls de com subscriure-us, vegeu 
	<url id="&url-debian-list-archives;">. Reviseu els arxius a l'hora d'obtenir
	respostes a les vostres preguntes abans d'enviar un correu, i 
	seguiu les normes de la llista.</p>
      </sect1>
<!-- TODO: Changed to OFTC -->
      <sect1 id="irc">
        <heading>Internet Relay Chat</heading> 

        <p>Debian té un canal de l'IRC dedicat al suport i ajuda als usuaris
	de Debian a la xarxa d'IRC OFTC, la qual té per objecte proporcionar serveis interactius 
	als projectes de comunitats de forma directa.
	Per accedir al canal connecteu el vostre client preferit d'IRC a
        &debian-irc-server;  i entreu a #debian.</p>

        <p>Seguiu les directives del canal, respectant els altres
	usuaris completament. Per obtenir més informació sobre OFTC visiteu la
        seua <url id="&url-irc-host;" name="pàgina web">.</p>

      </sect1>
      </sect> 

      <sect id="bugs">
        <heading>Informes d'errors</heading>

        <p>Ens esforcem per fer de Debian GNU/Linux un sistema
	operatiu d'una alta qualitat, però això no vol dir que els paquets
	que subministrem estiguin totalment lliures d'errors.
        D'acord amb la filosofia de Debian de "desenvolupament obert", i com
	un servei als nostres usuaris, proporcionem tota la informació sobre els errors
	que s'han enviat al nostre sistema de seguiment d'errors (BTS). Es pot
	visitar el BTS a <url id="&url-bts;" name="bugs.debian.org">.</p>

        <p>Si trobeu un error a la distribució o a un programa empaquetat
	que en forme part, per favor informeu-nos per tal que sigui possible
	corregir-lo per als llançaments posteriors. Per a informar
	d'errors necessitareu una adreça de correu vàlida, que demanem
	per poder fer un seguiment dels errors i perquè els desenvolupadors
	puguin contactar amb els qui els l'han enviat per si calgués més 
	informació.</p>

        <p>Podeu enviar un informe d'error fent servir el programa
        <package>reportbug</package> o bé manualment a través del correu.
        Podeu llegir més sobre Sistema de Seguiment d'errors i com utilitzar-lo
	llegint les targetes de referència (que són a
        <file>/usr/share/doc/debian</file> si teniu el paquet 
        <package>doc-debian</package> instal·lat) o en línia al 
        <url id="&url-bts;" name="Sistema de Seguiment d'errors">.</p>

      </sect>

      <sect id="contributing">
        <heading>Contribuir a Debian</heading>

        <p>No cal ser un expert per contribuir a Debian. Ajudant
	els usuaris amb problemes a les diverses <url
        id="&url-debian-list-archives;" name="llistes"> d'usuaris esteu 
	contribuint a la comunitat. La identificació (i sobretot resolució) 
	de problemes relacionats amb el desenvolupament de la
	distribució participant a les <url id="&url-debian-list-archives;" 
	name="llistes"> de desenvolupament és extremadament útil. Per mantenir
        l'alta qualitat de la distribució Debian 
	<url id="&url-bts;" name="informeu d'errors"> i ajudeu als
	desenvolupadors a fer el seguiment i a corregir-los. Si 
	teniu traça amb les paraules, podeu contribuir de forma més
	activa ajudant a escriure <url id="&url-ddp;" name="documentació"> 
	o bé <url id="&url-debian-i18n;" name="traduïnt"> la documentació que 
	ja existeix al vostre idioma.</p>

        <p>Si podeu dedicar-hi més temps, us podríeu ocupar d'algun element de
	la col·lecció de Programari Lliure a Debian. És de molta ajuda si
	la gent adopta o manté elements que la gent ha demanat per 
	incloure'ls a Debian; la <url id="&url-wnpp;" name="base de dades
	de paquets en preparació o que necessiten ajuda"> detalla aquesta 
	informació. Si teniu interès en grups específics aleshores trobareu 
	divertit contribuir en alguns subprojectes de Debian que inclouen els 
	ports a algunes arquitectures particulars, <url id="&url-debian-jr;" 
	name="Debian Jr."> i <url id="&url-debian-med;" name="Debian Med">.</p>

        <p>En qualsevol cas, si esteu treballant a la comunitat de programari
	lliure d'alguna forma, com a usuari, programador, escriptor o traductor
	ja esteu ajudant a l'esforç del programari lliure. Contribuir és 
	reconfortant i divertit, i també us permetrà conèixer gent nova que
	us rebrà amablement.</p></sect>

    </chapt>

<!-- This may or may not still be useful -->
    <appendix id="old-stuff">
    <heading>Administració del sistema &oldreleasename;</heading>

       <p>Aquest apèndix conté informació sobre com assegurar-vos que podeu 
       instal·lar o actualitzar els paquets de &oldreleasename; abans 
       d'actualitzar a &releasename;. Açò sols caldrà
       en algunes situacions específiques.</p>

       <sect id="old-upgrade">
       <heading>Actualització del sistema &oldreleasename;</heading>

          <p>Bàsicament no hi ha diferència amb altres actualitzacions de
          &oldreleasename; que heu estat fent. L'única diferència és que 
	  primer haureu d'assegurar-vos que la llista de paquets encara
	  conté els paquets &oldreleasename; tal i com s'explica a 
	  <ref id="old-sources">.</p>

       </sect>

       <sect id="old-sources">
       <heading>Canviar la llista de fonts</heading>

          <p>Si qualsevol de les línies al
	  <file>/etc/apt/sources.list</file> apunta a 'stable', ja esteu 
	  utilitzant &releasename;. Si abans ja havíeu executat
	  <tt>apt-get update</tt>, podreu encara tornar enrere sense problemes
	  seguint el procediment que es descriu a continuació.</p>

          <p>Si heu instal·lat també paquets de &releasename;, probablement
	  ja no té massa sentit que instal·leu paquets de &oldreleasename;
	  mai més. En eixe cas haureu de decidir per vosaltres mateixos si
	  voleu continuar o no. És poden desactualitzar els paquets, 
	  però això no està descrit ací.</p>

          <p>Obriu el fitxer <file>/etc/apt/sources.list</file> amb el vostre
	  editor favorit (com a root) i comproveu que totes les línies 
	  comencen amb <tt>deb http:</tt> o <tt>deb ftp:</tt> amb la
	  referència a  "<tt/stable/". Si en trobeu cap,
          canvieu el <tt/stable/ a <tt/&oldreleasename;/.</p>

          <p>Si teniu cap línia que comence amb <tt>deb file:</tt>, hauríeu
	  de comprovar per vosaltres mateixos si la localització a què es refereix
	  conté un arxiu &oldreleasename; o &releasename;.</p>

          <p><strong/Molt important!/ No canvieu cap línia que comence per
          <tt>deb cdrom:</tt>. Si ho feu, invalidareu la línia i haureu 
	  d'executar l'<prgn/apt-cdrom/ una altra vegada. No us preocupeu si
	  la línia que té el 'cdrom' apunta a "<tt/unstable/". Encara que pot
	  confondre, és normal.</p>

          <p>Si heu fet cap canvi, deseu el fitxer i executeu

          <example>
# apt-get update
          </example>

          per actualitzar la llista de paquets.</p>

       </sect>

    </appendix>

  </book>
</debiandoc>

<!-- Keep this comment at the end of the file
Local Variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-namecase-general:t
sgml-general-insert-case:lower
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:2
sgml-indent-data:nil
sgml-declaration:nil
sgml-parent-document:nil
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
fill-column: 75
End:
-->

