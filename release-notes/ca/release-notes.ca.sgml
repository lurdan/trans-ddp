<!DOCTYPE debiandoc PUBLIC "-//DebianDoc//DTD DebianDoc//EN" [
  <!entity % dynamicdata  SYSTEM "../dynamic.ent"       > %dynamicdata;
  <!entity % shareddata   SYSTEM "../release-notes.ent" > %shareddata;
  <!entity docid "$Id: release-notes.ca.sgml,v 1.26 2007-04-18 21:09:04 vorlon Exp $">
]>

<!-- Last translator: Miguel Gea Milvaques <xerakko@debian.org>, 2007-04-06 -->
<!--           Other: Jordà Polo <jorda@ettin.org>, 2007-04-06 -->
<!-- Translation based on English version 1.283 -->

<!-- Aneu en compte amb el reformatat automàtic. Adoneu-vos que als exemples 
     la identació s'utilitza a la sortida també (amb un espai addicional). -->

<debiandoc>
  <book>
  <titlepag>
    <title>Notes de llançament de &debian; &release; ("&releasename;"), &arch-title;</title>
      <author>
        <name>Josip Rodin, Bob Hilliard, Adam Di Carlo, Anne Bezemer, Rob
        Bradford, Frans Pop (current), Andreas Barth (current), Javier
        Fern&aacute;ndez-Sanguino Pe&ntilde;a (current), Steve Langasek
        (current)</name><email></email>

      </author>
      <author>
        <name></name><email>debian-doc@lists.debian.org</email>
      </author>
      <version>&docid;</version>
    </titlepag>
    <toc detail="sect1">
      <chapt id="about"><heading>Introducció</heading>

	<p>L'objectiu principal d'aquestes notes de llançament és donar a
	conèixer als usuaris els principals canvis que es poden trobar en 
	aquesta nova versió de la distribució &debian;, donar informació de 
	com actualitzar de forma segura des de l'anterior a aquest llançament,
	i finalment avisar de possibles problemes que es poden trobar
	en actualitzar o utilitzar la nova versió.</p>

	<p>No és possible fer una llista completa de tots els problemes
	coneguts, de manera que hem fet una selecció basada en una combinació 
	de la probabilitat d'ocurrència i la gravetat dels problemes.</p>

	<p>La versió més recent d'aquest document la podreu trobar sempre a
	<url id="&url-release-notes;">. Si la vostra versió té més d'un mes
	<footnote>Tal i com es mostra a la portada de la versió en PDF i al
	peu de pàgina en la versió HTML en línia</footnote>,
	hauríeu de descarregar l'última versió.</p>

	<p>Adoneu-vos que tan sols suportem i documentem 
	l'actualització des d'un llançament anterior de Debian (en aquest cas,
	l'actualització des de &oldreleasename;). Si us cal actualitzar des
	de llançaments anteriors, us suggerim que llegiu les edicions prèvies
	de les notes de llançament i que actualitzeu primer a 
	&oldreleasename;.</p>

	<sect id="bug_reports"><heading>Informar d'errors en aquest document</heading>

	  <p>Hem intentat comprovar tots els diferents passos descrits en aquest
	  document i hem intentat anticipar-nos a tots els possibles problemes que els 
	  nostres usuaris es puguen trobar.</p>

	  <p>No obstant, si creieu que heu trobat cap error en aquesta documentació
	  (informació incorrecta o incompleta)
	  envieu un informe d'error al <url id="&url-bts;" name="sistema de seguiment
	  d'errors"> al paquet <package>release-notes</package>.</p>

       </sect>

        <sect id="upgrade_reports"><heading>Contribuir als informes d'actualització</heading>
	<p>Qualsevol informació dels usuaris referent a actualitzacions des de
	&oldreleasename; a &releasename; és benvinguda. Si esteu desitjant compartir informació
	envieu un informe d'error al <url id="&url-bts;" name="sistema de seguiment d'errors">
	al paquet <package>upgrade-reports</package> amb els vostres resultats.</p>

	<p>Per favor, faciliteu la següent informació quan envieu el vostre informe d'error:

	<list>

<!-- TODO: any more things to add here? -->
            <item><p>L'estat de la base de dades dels
            paquets abans i després de l'actualització:
            la base de dades de <prgn/dpkg/ està disponible a
            <file>/var/lib/dpkg/status</file> i la d'<prgn/aptitude/
            a <file>/var/lib/aptitude/pkgstates</file>. Hauríeu de fer
            una còpia de seguretat abans d'actualitzar tal i com es
            descriu a <ref id="data-backup">, però també podeu trobar-ne
            a <file>/var/backups</file>.</p></item>

	    <item><p>Els registres de sessió utilitzant <package>script</package>, tal i com es
  	    descriu a <ref id="record_session">.</p></item>

            <item><p>Els vostres registres de l'aptitude, que són a <file>/var/log/aptitude</file>.</p></item>

        </list></p>

        <p>Avís: hauríeu d'agafar-vos uns minuts per revisar i esborrar qualsevol informació sensible i/o
	confidencial dels registres abans d'incloure'ls a l'informe d'error ja
	que la informació del informe es mostrarà en una base de dades pública.

        </sect>

        <sect id="sources"><heading>Els fonts d'aquest document</heading>
          <p>Aquest document es genera utilitzant el <package>debiandoc-sgml</package>.
	  Els seus fonts es poden trobar al CVS del <em>Projecte de Documentació de Debian</em>.
	  Podeu utilitzar la <url id="&url-cvs-release-notes;" name="interfície 
	  web"> per accedir als seus fitxers de forma individual i vore els 
	  seus canvis. Per obtenir més informació de com accedir al CVS consulteu
	  les <url id="&url-ddp-cvs-info;" name="págines CVS del Projecte de 
	  Documentació de Debian">.
          </p>

        </sect>

<!--
        <sect id="changes"><heading>Changes in the Release Notes</heading> 

          <p>This section lists changes in the Release Notes since the original
          version that was published with &debian; &release;r0. Minor textual
          corrections are omitted.</p>

          <p><list>

            <item><p>Description of change.</p></item>

          </list></p>

        </sect>
-->

      </chapt>

      <chapt id="whats-new"><heading>Novetats a &debian; &release;</heading>

        <p>Aquest llançament afegeix el suport oficial per a l'arquitectura AMD64
	que suporta processadors de 64 bits d'Intel (EM64T) i AMD (AMD64).
	Al llançament anterior, &debian; 3.1 («sarge»), ja existia una versió
	no oficial d'aquest port. 
<![ %amd64 [	
	Actualitzar des d'aquesta versió no oficial
	hauria de ser possible utilitzant aquestes notes de llançament, però
	no està suportat oficialment per Debian.
]]>	
	</p>

	<p>El suport oficial per a l'arquitectura Motorola 680x0 («m68k») s'ha abandonat
        ja que no complia el conjunt de requisits establerts pels gestors
	del llançament de Debian. Els principals motius són el baix
	rendiment i suport limitat del desenvolupament principal per al
	conjunt de cadena d'eines («toolchain») essencials. D'altra banda,
	s'espera que el port m68k continue actiu i disponible per a ser
	instal·lat, encara que no forme part del llançament estable oficial.</p>

        <p>Les arquitectures suportades oficialment per &debian; &releasename; són        
	les següents:</p>

        <p>
          <list>
            <item><p>Intel x86 («i386»)</p></item>
            <item><p>Alpha («alpha»)</p></item>
            <item><p>SPARC («sparc»)</p></item>
            <item><p>PowerPC («powerpc»)</p></item>
            <item><p>ARM («arm»)</p></item>
            <item><p>MIPS («mips» (big endian) i «mipsel» (little endian))</p></item>
            <item><p>Intel Itanium («ia64»)</p></item>
            <item><p>HP PA-RISC («hppa»)</p></item>
            <item><p>S/390 («s390»)</p></item>
            <item><p>AMD64 («amd64»)</p></item>
          </list>
        </p>

          <p>Podeu trobar més informació sobre l'estat del port i informació específica 
	  de la vostra arquitectura a les <url id="&url-ports;"
          name="pàgines web de ports de Debian">.</p>

<![ %secondrelease [
          <p>Aquest és només el segon llançament oficial de &debian;
	  per l'arquitectura &arch-title;. Creiem que s'ha provat suficientment com
	  per llançar-la. D'altra banda, com que no ha tingut la mateixa
	  exposició (ni tampoc, per tant, verificació per part dels usuaris) que
          han tingut els nostres llançaments per a altres arquitectures, és possible
	  que trobeu alguns errors. Podeu utilitzar el nostre
	  <url id="&url-bts;" name="sistema de seguiment d'errors"> per
	  informar de qualsevol problema; assegureu-vos d'esmentar el fet que el
	  vostre error es dóna a la plataforma &architecture;.</p>
]]>

<![ %arm [
        <sect id="new-arch"><heading>Que hi ha de nou a &arch-title;?</heading>
	  <p>El suport del RiscPC (RPC) és incomplet i s'eliminarà després d'etch.
          Malgrat que encara hi ha un nucli RiscPC a etch, l'instal·lador no suporta
	  aquest sistema.</p>  

	  <p>S'ha afegit suport per la plataforma d'Intel IXP4xx. L'instal·lador
	  inclou suport pel Linksys NSLU2, un dispositiu menut i barat que permet l'ús
	  d'emmagatzemament afegit amb USB. Es pot obtenir més informació de Debian al
	  NSLU2 a <url id="http://www.cyrius.com/debian/nslu2/">.</p>

	  <p>També s'ha afegit suport per la plataforma del processador I/O
	  d'Intel (IOP). En concret, &debian; &release; suporta els dispositius
	  basats en IOP 32x. Estan suportats a l'instal·lador dos dispositius
	  d'emmagatzematge adossat de xarxa (NAS) basats en un xip IOP: el
	  GLAN Tank de IO-Data i el Thecus N2100. Vegeu
          <url id="http://www.cyrius.com/debian/iop/">.</p>
        </sect>
]]>

<![ %mips-mipsel [
        <sect id="new-arch"><heading>Que hi ha de nou a &arch-title;?</heading>
<![ %mipsel [
	  <p>El suport per les DECstation és incomplet a etch i s'eliminarà
	  completament després d'aquest llançament. Açò inclou les dues variants
	  de DECstation que estaven suportades a Debian, r3k-kn02 i r4k-kn04.</p>

	  <p>Les instal·lacions sobre màquines Cobalt basades en MIPS
	  (Qube 2700, RaQ1, Qube2, RaQ2) ara són possibles sense utilitzar la
	  consola sèrie. Per defecte, ara les instal·lacions a les Cobalt es
	  fan via SSH. Per obtenir més informació, vegeu
          <url id="http://www.cyrius.com/debian/cobalt/">.</p>
]]>
<![ %mips [
          <p>S'ha afegit suport per la plataforma IP32 de SGI. La plataforma IP32
	  son les màquines SGI O2 amb processadors R5000, R5200 or RM7000.
	  Es pot fer la instal·lació via frame buffer o per consola sèrie.</p>
]]>
	  <p>El suport de la placa d'avaluació de Broadcom SB1a BCM91480B («BigSur»)
	  que està basada en el xip quad-core BCM1480, s'ha afegit, tant al nucli com
	  a l'instal·lador. Es suporta aquesta placa tant amb big endian com amb little
	  endian.</p>

          <p>S'ha afegit suport per màquines qemu. La màquina Qemu/MIPS emula una màquina
	  clàssica de tipus ISA PC amb una CPU MIPS 4Kc.</p>
        </sect>
]]>

<![ %powerpc [
	<sect id="new-arch"><heading>Que hi ha de nou a &arch-title;?</heading>
	  <p>En aquest llançament s'afegeix el suport per les arquitectures de
	  64 bits PowerPC (IBM pSeries, i powermacs Apple G5). S'ha eliminat el
	  suport de la subarquitectura Apple Apus; la subarquitectura Apple
	  Nubus tampoc està suportada.</p>
        </sect>
]]>

        <sect id="newdistro"><heading>Quines novetats hi ha a la distribució?</heading> 

<!-- TODO (jfs): numbers could be entities so that updating them was easier, like
     in the FAQ -->
<!-- TODO: Numbers need to be reviewed, these values have been obtained
     using the changes-release script -->
           <p>Aquest nou llançament de Debian ve amb molt més programari
	   que el seu predecessor &oldreleasename;; la distribució inclou 
	   més de &packages-new; nous paquets, d'un total de &packages-total;. 
	   La major part del programari de la distribució
	   s'ha actualitzat: prop de &packages-updated; paquets (és a dir el
	   &packages-update-percent;% dels paquets
	   que eren a &oldreleasename;). 
	   Per diversos motius, també s'han 
	   esborrat un nombre significatiu de paquets de la distribució
	   (més de &packages-removed;, el &packages-removed-percent;% dels paquets de 
	   &oldreleasename;). No trobareu 
	   actualitzacions per a aquests paquets i es marcaran com
	   «obsolet» a les interfícies de gestió de paquets.</p>

           <p>Amb aquest llançament, &debian; canvia XFree86 per la 
	   versió 7.1 d'X.Org, que és compatible amb una gamma més àmplia de 
	   maquinari i té una millor autodetecció. Açò permet l'ús de Compiz, que 
	   és un dels primers gestors de composició de finestres per al
	   sistema de finestres X, que aprofita completament l'acceleració
	   OpenGL per maquinari als dispositius suportats.</p>

           <p>&debian; ve una altra vegada amb les versions actualitzades d'entorns i
	   aplicacions d'escriptori. Entre d'altres, inclou l'entorn
	   d'escriptori GNOME 2.14<footnote>Amb alguns moduls de GNOME
	   2.16.</footnote>, el KDE 3.5.5a i l'Xfce 4.4. S'han actualitzat
	   també les aplicacions de productivitat, incloent els conjunts de
	   programes d'oficina OpenOffice.org 2.0.4a i KOffice 1.6 i també
	   el GNUcash 2.0.5, el GNUmeric 1.6.3 i l'Abiword 2.4.6</p>

	   <p>Les actualitzacions d'altres aplicacions d'escriptori inclouen 
	   l'Evolution 2.6.3 i el Gaim 2.0. El conjunt de programes de Mozilla
	   també s'ha actualitzat però han canviat de nom: <prgn>iceweasel</prgn>
	   (versió 2.0.0.2) és el navegador <prgn>Firefox</prgn> sense marca, i 
	   <prgn/icedove/ (versió 1.5) és el client de correu <prgn/Thunderbird/ 
	   sense la marca.</p>
	   
	   <p>Aquest llançament també inclou, entre d'altres, les actualitzacions de
	   programari següents:

           <p><list>

           <item>la biblioteca GNU C, versió 2.3.6</item>

           <item>la col·lecció de compiladors 4.1 de GNU com a compilador per defecte</item>

           <item>intèrprets de llenguatge: PHP 5.5, Python 2.4</item>

           <item>programari de servidor:

           <p><list>
           <item>servidors de correu: Exim 4.63 (el servidor de correu per 
           defecte per noves instal·lacions), Postfix 2.3, Courier 0.53, 
	   Cyrus 2.2</item>

<!-- TODO: Cherokee, lighttpd, and Tomcat 5 are NEW -->
<!-- Note: No significant changes for Roxen4, Boa, and thttpd  -->
           <item>servidors web: Apache 2.2, fnord 1.10</item>

           <item>servidors de base de dades: MySQL 5.0.32, PostgreSQL 8.1</item>

           <item>el servidor OpenSSH, versió 4.3</item>

           <item>servidors de noms: Bind 9.3, maradns 1.2</item>

           <item>servidor de directori: OpenLDAP 2.3</item>

<!-- FIXME (JFS): List other server software? RADIUS? Streaming ? -->
           </list></p>

           </list></p>

	   <p>La distribució oficial de &debian; té entre 19 i 23 CD
	   de programari (depenent de l'arquitectura) i un nombre semblant de
	   CD de codi. També hi ha una versió de la distribució en DVD.</p>

<!-- FIXME: Note on LSB support? (3.1?) -->

        <sect1 id="pkgmgmt"><heading>Gestió de paquets</heading>

<!-- FIXME (vorlon): is aptitude news for etch, does it belong here? -->
           <p>El programa preferit per a la gestió de paquets des de la
	   línia d'ordres és l'<prgn/aptitude/.
	   L'<prgn/aptitude/ suporta la majoria de les operacions de la línia
	   d'ordres de l'<prgn/apt-get/ i s'ha comprovat que té una millor 
	   resolució de dependències que l'<prgn/apt-get/.
	   Si encara utilitzeu el <prgn/dselect/, hauríeu de canviar a 
	   l'<package/aptitude/ com a interfície oficial per a la gestió de paquets.</p>
           <p>A &releasename; s'ha implementat un mecanisme de resolució de conflictes
	   avançat que intentarà trobar la millor solució si s'han trobat conflictes per
	   canvis en les dependències entre paquets.</p>

<!-- FIXME: More content needed here? -->
           <p>L'<em/APT Segur/ està disponible 
	   a &releasename;. Aquesta característica incrementa la seguretat dels sistemes
	   &debian;, gràcies a la senzilla integració de criptografia forta i
	   signatures digitals per validar els paquets descarregats. Aquest
	   llançament inclou l'eina <prgn/apt-key/ per afegir noves claus a l'anell
	   de claus de l'apt, que per defecte tan sols inclou la clau de l'arxiu 
	   de Debian actual, que està disponible al paquet
	   <package>debian-archive-keyring</package>.</p>

	   <p>En la seva configuració per defecte, l'<prgn/apt/
	   us avisarà si els paquets que es descarreguen des de les fonts no s'han
	   autenticat.
	        En els propers llançaments és possible que es forci la verificació
	   de tots els paquets abans de descarregar-los. Es recomana als
	   administradors de fonts d'apt no oficials que generin una clau
	   criptogràfica i que signin els seus fitxers Release, així com que mirin de
	   distribuir d'una forma segura les seves claus públiques.</p>

           <p>Per obtenir més informació llegiu <manref name="apt" section="8">, el
	   capítol <url
           id="http://www.debian.org/doc/manuals/securing-debian-howto/ch7#s-deb-pack-sign"
           name="signat de paquets a Debian"> del <em/Manual de 
	   Seguretat de Debian/ i el <url id="http://wiki.debian.org/SecureApt"
           name="Wiki de Debian">.</p>

           <p>Un altra característica que s'ha afegit a <prgn/apt/ és la 
	   possibilitat de descarregar tan sols els canvis del fitxer <file/Packages/
	   des de la vostra última actualització. Podeu trobar més informació d'aquesta
	   característica a <ref id="apt-pdiff">.</p>

        </sect1>

        <sect1 id="volatile"><heading>Ara debian-volatile és un servei 
	oficial</heading>

           <p>El servei <em/debian-volatile/ es va introduir com un servei no 
	   oficial al llançament de &oldreleasename;, i es converteix ara en 
	   un servei oficial de &debian;.</p>

           <p>Açò significa que ara utilitza una adreça
	   <tt/.debian.org/<footnote>L'antiga adreça <tt/volatile.debian.net/ també
	   continuarà sent vàlida de moment.</footnote>. Assegureu-vos, doncs, de
	   fer els canvis necessaris al fitxer <file>/etc/apt/sources.list</file>,
	   si ja estàveu utilitzant aquest servei.</p>

           <p><em/debian-volatile/ permet als usuaris actualitzar fàcilment 
	   paquets estables que contenen informació que es desactualitza 
	   ràpidament, tals com les llistes de signatures dels 
	   programes antivirus o el conjunt de plantilles dels filtres de correu
	   brossa. Per a més informació i per trobar una llista de rèpliques, podeu
	   vore la <url id="&url-debian-volatile;" name="pàgina web"> de 
	   l'arxiu.</p>

        </sect1>
        </sect>

      <sect id="system-changes"><heading>Millores al sistema</heading>

       <p>S'han produït un gran nombre de canvis a la distribució que 
       beneficiarà les noves instal·lacions de &releasename;, però que 
       podrien no aplicar-se de forma automàtica a les actualitzacions de
       &oldreleasename;. Aquesta secció dona una descripció general dels
       canvis més importants.
       </p>

       <p><taglist>

<!-- Bug #301138, fixed in etch -->
       <tag>La prioritat dels paquets de desenvolupament s'ha baixat</tag>
       <item><p>Uns quants paquets de desenvolupament que tenien
       prioritat <em/estàndard/ ara tenen prioritat <em/opcional/, que farà
       que ja no s'instal·len per defecte.
       Açò inclou el compilador estàndard de C/C++, <package>gcc</package>,
       així com alguns altres paquets (<package>dpkg-dev</package>,
       <package>flex</package>, <package>make</package>) i les capçaleres
       de desenvolupament (<package>libc6-dev</package>,
       <package>linux-kernel-headers</package>).</p>
<!-- TODO: Point to the bug report for the full list of packages in case
     users want to remove them ? -->
       <p>Si voleu tindre aquests paquets al vostre sistema, la manera més
       fàcil és instal·lant el paquet
       <package/build-essential/, que farà que s'instal·len la major part
       d'ells.</p>
       </item>

       <tag>El SELinux té prioritat estàndard, però no està activat per defecte</tag>
       <item><p>Els paquets que fan falta per suportar el SELinux, tenen
       prioritat <em/estàndard/. Açò vol dir que s'instal·laran per defecte a
       les noves instal·lacions. En els sistemes existents, podeu instal·lar el
       SELinux usant:
       <example>
# aptitude install selinux-basics
       </example></p>

       <p>Adoneu-vos que el suport de SELinux <em/no/ està activat per defecte.
       Podeu trobar informació de com configurar i activar el SELinux al
       <url id="&url-wiki-selinux;" name="Wiki de Debian">.
       </p></item>

       <tag>Nou superdimoni inet per defecte</tag>
       <item><p>El superdimoni inet per defecte per &releasename; és el
       <package>openbsd-inetd</package> en comptes del <package>netkit-inetd</package>.
       No s'engegarà si no hi ha cap servei configurat, que és el que hi ha
       per defecte. El nou dimoni predeterminat s'instal·larà de forma automàtica 
       en actualitzar.
       </p></item>

       <tag>La còpia de <prgn/vi/ ha canviat</tag>
       <item><p>La còpia de <prgn/vi/ instal·lat per defecte ara és una versió
       compacta del <prgn/vim/ (<package/vim-tiny/) en comptes del 
       <package/nvi/.</p></item>

       <tag>Canvis en les característiques del <tt>ext2</tt>/<tt>ext3</tt></tag>
       <item><p>Els sistemes de fitxers ext2 i ext3 es crearan amb les
       característiques <em/dir_index/ i <em/resize_inode/ activades per defecte.
       La primera característica accelera les operacions en directoris amb molts
       fitxers; la segona fa possible canviar la mida del sistema de fitxers
       en línia (és a dir, mentre està muntat).</p>
       <p>Els usuaris que actualitzen des de &oldreleasename; poden considerar
       afegir el <em/dir_index/ manualment utilitzant el <prgn/tune2fs/<footnote>
       El senyalador <em/filetype/ ja hauria d'estar posat a la major part de
       sistemes, excepte aquells instal·lats abans de &oldreleasename;.
       </footnote>; el senyalador <em/resize_inode/ no es pot afegir a un
       sistema existent. És possible comprovar quins senyaladors té un sistema
       de fitxers utilitzant <tt/dumpe2fs -h/.</p></item>

<!-- TODO: Add for lenny, link to utf8-migration-tool, which is right now not
     available for etch -->
       <tag>La codificació per defecte a &releasename; és UTF-8</tag>
       <item><p>La codificació per defecte per les noves instal·lacions de
       &debian; és UTF-8. Unes quantes aplicacions també es configuraran
       per que utilitzen l'UTF-8 per defecte.</p>
       <p>Els usuaris que actualitzen a &releasename; que vulguen canviar a
       UTF-8 hauran de reconfigurar les seves definicions de locale i l'entorn.
       Es pot canviar la selecció per defecte de tot el sistema complet utilitzant
       <tt/dpkg-reconfigure locales/; primer seleccionant un locale UTF-8 pel
       vostre idioma i país i després posant-lo per defecte. Adoneu-vos que
       canviar a UTF-8 vol dir que probablement necessitareu convertir
       els fitxers que teniu de la vostra codificació anterior a UTF-8.</p>
       <p>El paquet <package/utf8-migration-tool/ conté una eina que pot
       ajudar en la migració, per altra banda, el paquet tan sols està 
       disponible a «unstable» ja que no estava preparat a temps per &releasename;.
       Fer una còpia de seguretat de les vostres dades i de la configuració abans
       d'utilitzar-la és una molt bona idea.</p>
       <p>Adoneu-vos que algunes aplicacions podrien no funcionar correctament
       en un entorn UTF-8, majoritàriament per problemes de visualització.</p></item>

       </taglist></p>

      <p>El <url id="http://wiki.debian.org/Sarge2EtchUpgrade"
      name="Wiki de Debian"> conté alguna informació addicional dels
      canvis des de &oldreleasename; a &releasename;.</p>
        </sect>

      <sect id="kernel-changes"><heading>Canvis importants relacionats amb el nucli</heading>

	<p>&debian; &release; incorpora la versió &kernelversion; del nucli
	per a totes les arquitectures; el llançament és encara majoritàriament
<!-- JFS: Needed because of the cross ref, build errors will appear in some
     architectures otherwise -->
<![ %defaulted-2.4 [
	<footnote>És
	possible que alguns paquets ja no funcionen correctament
	amb un nucli 2.4, vegeu <ref id="incompatible-2.4">.</footnote>
]]>
	compatible amb nuclis de la sèrie 2.4, però Debian ja no proporciona
	suport per a aquests.</p>

	<p>Hi ha hagut canvis importants, tan en el nucli mateix com en els seus
	paquets per a Debian. Alguns d'aquests canvis compliquen el procés
	d'actualització, i poden representar problemes potencials mentre es
	reinicia el sistema després de l'actualització a &releasename;. Aquesta
	secció descriu els canvis més importants; els possibles problemes, així
	com informació sobre com solucionar-los s'inclouen en capítols posteriors.</p>

<![ %defaulted-2.4 [
	<p>Si esteu utilitzant actualment un nucli 2.4, hauríeu de llegir
	<ref id="upgrade-to-2.6"> amb molta cura.</p>
]]>

      <sect1 id="kernel-packaging"><heading>Canvis en l'empaquetat del nucli</heading>

	<p><taglist>
	<tag>Canvi de nom dels paquets del nucli</tag>
	<item><p>S'ha canviat el nom de tots els paquets del nucli Linux, de 
	<tt/kernel-*/ a <tt/linux-*/. Així serà més fàcil incloure
	altres nuclis que no siguin Linux en el futur.</p></item>

<![ %i386 [
	<tag>«386» reemplaçat per «486»</tag>
        <item><p>Com que el suport dels processadors 80386 es va eliminar en &oldreleasename;,
	el nucli 386 s'ha eliminat també i s'ha reemplaça pel nou sabor 486.</p></item>

]]>
<![ %amd64 [
	<tag>Nucli únic i genèric per a &arch-title;</tag>
	<item><p>A &oldreleasename; es va separar el nucli en diverses versions
	segons la família del processador d'aquesta arquitectura. Degut a canvis 
	al nucli que permeten
	optimitzar automàticament el nucli per al processador del sistema,
	ja no hi ha cap necessitat real de separar aquestes versions.</p></item>
]]>

<![ %i386-amd64-ia64 [
	<tag>Els nuclis estàndard incorporen SMP</tag>
	<item><p>En sistemes multiprocessador ja no fa falta tenir la versió
	<tt/*-smp/ del nucli Linux. Per a &arch-title;, els paquets sense
	<tt/-smp/ suporten ambdós tipus de sistemes: uniprocessador i
	multiprocessador.
<![ %i386 [
        (La única excepció és el 486, que tan sols suporta un únic processador.)
]]>
	</p></item>
]]>

<![ %mips [
        <tag>La variant del nucli r5k-ip22 s'ha eliminat</tag>
        <item><p>La imatge del nucli de les màquines IP22 amb una CPU R5000 s'ha
	eliminat perquè la imatge r4k-ip22 ara suporta les màquines IP22 amb
	una CPU R4x000 o un R5000.</p></item>
]]>
	</taglist></p>

	<p>Sempre que ha estat possible, s'han proporcionat paquets que depenen
	dels nous per a facilitar la transició.

      </sect1>

      <sect1 id="kernel-initrd"><heading>Noves eines de generació de initrd</heading>

<![ %no-initrd [
	<p>Els paquets de Debian d'imatges del nucli per a &arch-title; no
	requereixen un initrd per arrencar el sistema. Això vol dir que la
	informació d'aquesta secció tal vegada sigui irrellevant, però tot
	i així s'inclou com a referència.</p>
]]>
	<p>
<![ %uses-initrd [
	Els paquets Debian d'imatges del nucli per a &arch-title; requereixen
	un initrd per arrencar el sistema.
]]>
	Degut als canvis al nucli, l'eina utilitzada per a generar els initrd a 
	&oldreleasename;, <package/initrd-tools/, ja no es pot utilitzar. S'han
	desenvolupat dues eines noves per a reemplaçar l'anterior:
	<package/initramfs-tools/ i <package/yaird/. Els conceptes que hi ha al
	seu darrera són molt diferents; teniu una descripció general disponible al 
	<url id="http://wiki.debian.org/InitrdReplacementOptions" name="Wiki de Debian">.
	En tots dos casos es generarà l'initrd utilitzant el sistema de fitxers
	<em/initramfs/, que és un arxiu <prgn/cpio/ comprimit.
	L'eina predeterminada i recomanada és <package/initramfs-tools/.
	</p>

<![ %uses-initrd [
	<p>Si actualitzeu a un nucli de &releasename;, per defecte s'instal·larà
	<package/initramfs-tools/.
<![ %defaulted-2.4 [
	Si esteu actualitzant des d'un nucli 2.4 a un 2.6, haureu d'utilitzar
	<package/initramfs-tools/. Si ho feu amb <package/yaird/ i esteu executant
	un nucli 2.2 o 2.4, la instal·lació de linux-image-2.6 fallarà.
]]>
	</p>

	<p>El paquet <package/initrd-tools/ encara s'inclou a &releasename;
	ja que és necessari en actualitzacions des de &oldreleasename;. S'esborrarà 
	en properes versions.</p>
]]>

      </sect1>

      <sect1 id="kernel-udev">
      <heading>Control dinàmic de <file>/dev</file> i cerca de nou maquinari</heading>

	<p>Els nuclis a &releasename; ja no suporten <tt>devfs</tt>.</p>

	<p>El reemplaçament de <tt>devfs</tt> és <package/udev/, una 
	implementació en espai d'usuari de devfs. 
	<p>El <package/udev/ està
	muntat sobre el directori <file>/dev</file> i emplenarà aquest directori
	amb els dispositius suportats pel nucli. També afegirà i esborrarà
	dinàmicament dispositius en carregar o descarregar mòduls del nucli
	respectivament, basant-se en els esdeveniments generats. <prgn/udev/ és molt més
	versàtil que <tt/devfs/ i ofereix serveis que s'utilitzen des d'altres
	programes com ara <package/hal/ («Hardware Abstraction Layer», o capa
	d'abstracció de maquinari).</p>

	<p>En combinació amb el nucli, l'<package/udev/ també s'encarrega
	de la detecció de maquinari i de la càrrega de mòduls dels
	dispositius detectats. És per això pel que està en conflicte amb el
	<package/hotplug/.
	A &oldreleasename;, el <package/discover/ també s'utilitza al
	procés d'arrencada, però la seva nova versió a &releasename; ja no 
	ofereix aquesta funcionalitat.
<![ %not-s390 [
	Les X.org encara utilitzen el <package/discover/ per detectar quina
	és la controladora de gràfics que hi ha al sistema.
]]>
	</p>

<![ %uses-initrd [
	<p>Si instal·leu una imatge del nucli, per defecte s'instal·larà
	<package/udev/ ja que <package/initramfs-tools/ depèn d'aquest.</p>
	<p>Podeu evitar la instal·lació de <package/udev/ compilant un nucli propi
	no modular, o utilitzant un generador d'initrd alternatiu, com ara
	<package/yaird/. Tanmateix, <package/initramfs-tools/ és el generador
	d'initrd recomanat.
]]>

      </sect1>
      </sect>
      </chapt>

      <chapt id="installing"><heading>Sistema d'instal·lació</heading>

      <p>L'instal·lador de Debian és el sistema oficial d'instal·lació de
      Debian. Ens ofereix un ventall de mètodes d'instal·lació. Els mètodes
      que estan a l'abast per instal·lar el vostre sistema depèn de la vostra
      arquitectura.</p>

      <p>Les imatges de l'instal·lador per &releasename; es poden trobar
	   juntament amb la Guia d'instal·lació a la <url id="&url-installer;"
	   name="web de Debian">.</p>

      <p>La Guia d'instal·lació s'inclou també en el primer CD/DVD del joc
      de CD/DVD de Debian, a:

        <example>
/doc/install/manual/<var>idioma</var>/index.html
        </example></p>

      <p>
      Potser també voldreu revisar les 
      <url id="&url-installer;index#errata"
      name="errata"> del debian-installer per vore la llista de problemes coneguts.</p>

<![ %alpha [
        <!-- TODO: Still true? -->
        <p>L'instal·lador tan sols es pot utilitzar per instal·lar en els sistemes
	alpha que suporten la consola SRM. Assegureu-vos de canviar el vostre
	sistema a SRM abans de començar la instal·lació. Si la vostra màquina
	tan sols suporta la consola AlphaBIOS/ARC, encara podeu instal·lar 
	&releasename; el mètode recomanat per instal·lar &releasename; 
	passa per fer en primer lloc una instal·lació (mínima) d'un sistema woody,
	aleshores actualitzar a &oldreleasename;, i finalment a &releasename;.
	Per obtenir més informació de les diferents consoles, si us plau llegiu la
	referència a les <url id="http://www.debian.org/ports/alpha" name="pàgines web
	del port d'alpha per a Debian">.
        </p>
]]>

<![ %sparc [
      <sect id="sparc_fb"><heading>Problemes amb el framebuffer 
      a &arch-title;</heading>

        <p>Com a conseqüència de problemes de pantalla en alguns sistemes, el suport de
	framebuffer s'ha deshabilitat per defecte a &arch-title; per la major part
	de les targetes gràfiques. Açò pot fer que que no es tinga una visualització
	correcta de la pantalla en els sistemes que suporten correctament el
	framebuffer. Si patiu problemes de pantalla en l'instal·lador, proveu d'arrencar
	l'instal·lador amb el paràmetre <tt>framebuffer=true</tt>.
	Feu-nos saber si el framebuffer no s'utilitza per defecte, però funciona al vostre
	maquinari.</p>

      </sect>

      <sect id="sparc_illegal_instruction"><heading>Problemes amb l'arrencada a &arch-title;</heading>
	
	     <p>Molts usuaris han informat que el CD d'instal·lació falla en
	arrencar amb l'ordre PROM «<tt>boot cdrom</tt>», mostrant l'error
	«<tt>Illegal Instruction</tt>».</p>

	<p>Aparentment, l'explicació per a aquest problema és que no
	funciona ja que la màquina s'ha reiniciat des de Solaris. Podeu
	solucionar-ho aturant la màquina del tot, i arrencar directament
	des del CD d'instal·lació.

	     <p>Han informat d'aquest problema usuaris de diversos sistemes
	(en el moment d'escriure aquest document: Enterprise 450, Blade
	2000, Fire V240, Enterprise 250 i Blade 100), per tant es creu que es
	tracta d'un error genèric. Si us plau, feu-nos saber si observeu
	comportaments similars amb el vostre maquinari.</p>

      </sect>
]]>

      <sect id="inst-new"><heading>Què hi ha de nou al sistema d'instal·lació?</heading>

   	   <p>Hi ha hagut un gran desenvolupament en el programa d'instal·lació
	   de Debian des de la seva primera edició oficial per a &oldreleasename;.
	   El resultat ha estat una millora en el suport de maquinari i algunes 
	   noves funcionalitats interessants.</p>

	   <p>En aquestes notes de llançament només esmentarem els
	   canvis més importants que ha experimentat l'instal·lador. Si us 
	   interessa veure una descripció més detallada de tots els canvis des de 
	   la versió de &oldreleasename;, mireu l'anunci de les publicacions de 
	   les versions beta i RC de &releasename; que trobareu a 
	   les <url id="&url-installer-news;" name="notícies"> del projecte.</p>

         <sect1 id="inst-changes"><heading>Canvis principals</heading>

           <p><taglist>
             <tag>No és necessari reiniciar a la instal·lació</tag>
             <item><p>Anteriorment, la instal·lació es feia en dos parts:
	     preparar el sistema base i fer-lo arrencable, seguit
	     d'un reinici després de l'execució de <prgn/base-config/
	     que tindria cura de coses com la configuració d'usuari, la
	     configuració del sistema de gestió de paquets i la instal·lació
	     d'altres paquets (utilitzant tasksel).</p>
	     <p>A &releasename;, la segona fase ha estat integrada dins del mateix
	     programa d'instal·lació. Això té diversos avantatges, entre els
	     quals cal destacar la major seguretat i el fet que després de
	     reiniciar el sistema, en finalitzar la instal·lació, la zona horària
	     estarà correctament establerta i, si heu instal·lat un entorn 
	     d'escriptori, arrencarà la interfície gràfica d'usuari.</p></item>

<!-- FIXME (vorlon): is this true for /all/ languages? -->
	     <tag>Codificació UTF-8 per defecte als sistemes nous</tag>
	     <item><p>El programa d'instal·lació configura el sistemes per a
	     utilitzar la codificació de caràcters UTF-8, en lloc dels antics
	     jocs de caràcters específics per a cada idioma (com l'ISO-8859-1,
	     l'EUC-JP o el KOI-8).</p></item>

	     <tag>Particionat més flexible</tag>
	     <item><p>Ara és possible configurar els sistemes de fitxers sobre
	     un volum LVM, mitjançant un procés de particionat guiat.</p>
	     <p>El programa d'instal·lació també és capaç de configurar sistemes
	     de fitxers xifrats. Fent el particionat de forma manual, teniu
	     l'opció de triar <tt/dm-crypt/ o <tt/loop-aes/ amb una contrasenya
	     o una clau generada de forma aleatòria, i podeu ajustar diverses
	     opcions. Fent el particionat guiat, el programa d'instal·lació
	     crearà una partició LVM xifrada que contindrà tota la resta de
	     sistemes de fitxers (excepte <file>/boot</file>) com a volums lògics.
	     </p></item>

<![ %g-i [
	     <tag>Interfície gràfica d'usuari</tag>
	     <item>
<![ %i386-amd64 [
	     <p>Si preferiu utilitzar la interfície gràfica, proveu d'arrancar 
	     l'instal·lador amb <tt/installgui/.</p>
]]>

<![ %powerpc [
	     <p>Hi ha una imatge separada d'instal·lació en fase experimental
	     disponible per a &arch-title; que usa una interfície gràfica
	     d'usuari. Es sap que funciona en la major part dels sistemes CHRP
	     que tenen una tarja gràfica ATI, però que no s'ha provat suficientment en
	     &arch-title; per incloure-la en el sistema de CD d'instal·lació normal.</p>
	     <p>Si voleu provar la interfície gràfica de l'instal·lador, mireu de provar
	     la imatge «gtk-miniiso».</p>
]]>
	     <p>La funcionalitat de l'instal·lador gràfic és casi idèntica a la
	     de l'instal·lador normal, tan sols es diferencien en la presentació. Hi
	     ha una excepció: l'instal·lador gràfic no suporta la configuració
	     de particions xifrades utilitzant claus aleatòries.</p>
	     <p>El principal avantatge de la interfície gràfica d'usuari és que
	     suporta més idiomes que la interfície d'usuari normal. 
	     La informació de l'instal·lador gràfic d'usuari i de les principals
	     diferències entre l'instal·lador gràfic i normal de l'instal·lador 
	     s'ha documentat en l'apèndix de la guia d'instal·lació.</p>
	     <p>Avís: la interfície gràfica d'usuari no està disponible per totes
	     les arquitectures.</p>
	     </item>
]]>

	     <tag>Mode de rescat</tag>
	     <item><p>Podeu utilitzar l'instal·lador per resoldre els problemes del vostre
	     sistema, per exemple quan no vol arrencar. Els primers passos són
	     com una instal·lació normal, però l'instal·lador no arrencarà
	     el particionador. En comptes d'això, us mostrarà unes opcions de
	     rescat.</p>
	     <p>Activar el mode de rescat arrencant l'instal·lador amb
	     <tt/rescue/, o afegint un paràmetre d'arrencada
	     <tt>rescue/enable=true</tt>.</p></item>

	     <tag>Utilitzar el sudo en comptes del compte de root</tag>
	     <item><p>Durant les instal·lacions expertes podeu triar de no
	     configurar un compte de superusuari (es blocarà), i en comptes
	     d'això, configurar el <prgn/sudo/ de manera que el primer usuari puga
	     utilitzar-lo per l'adminstració del sistema.</p></item>

	     <tag>La verificació criptogràfica dels paquets descarregats</tag>
             <item><p>Els paquets descarregats amb l'instal·lador es
             comproven ara criptogràficament utilitzant l'<prgn/apt/
             fent molt més difícil comprometre un sistema mentre s'instal·la
             per la xarxa.</p></item>

	     <tag>Configuració simplificada de correu</tag>
             <item><p>Si s'instal·la el «sistema estàndard»,
             l'instal·lador prepara una configuració bàsica del sistema
             de correu, que només proporcionarà enviament de correus
             electrònics locals. El servidor de correu no estarà
             disponible per altres sistemes que estiguen connectats a
             la mateixa xarxa. Si voleu configurar el sistema per que
             controle correu no local al sistema (siga per enviar correu
             o per rebre'l) haureu de reconfigurar el sistema de correu
             després de la instal·lació.
             </p></item>

             <tag>Selecció de l'escriptori</tag>
             <item><p>El sistema d'instal·lació posarà un escriptori GNOME com a
             escriptori per defecte si l'usuari en demana un.</p>
             <p>D'altra banda, els usuaris que desitgen instal·lar un entorn
             d'escriptori alternatiu poden fer-ho fàcilment afegint els paràmetres
             d'arrencada:
             <tt>tasks="standard, kde-desktop"</tt> pel KDE i
             <tt>tasks="standard, xfce-desktop"</tt> pel Xfce. Adoneu-vos que
	     açò no funcionarà quan instal·leu des d'una imatge de CD sense utilitzar
	     una rèplica de xarxa com a font addicional de paquets; funciona
	     quan s'utilitza una imatge de DVD o qualsevol altre mètode d'instal·lació</p>
	     <p>Hi ha també imatges de CD separades per instal·lar el KDE o el Xfce 
	     per defecte.</p></item>


<![ %not-s390 [
             <tag>Nous idiomes</tag>
             <item><p>Gracies a l'enorme esforç dels traductors, ara Debian pot
             ser instal·lada en 47 idiomes utilitzant la instal·lació basada en
             text del la interfície d'usuari. Són sis idiomes més que en
             &oldreleasename;. Els idiomes que s'han afegit en aquest llançament
	     són el bielorús, esperanto, estonià, kurd, macedònic, tagal,
	     vietnamita i wolof.
             Per manca d'actualitzacions de les traduccions, els idiomes que s'han 
	     eliminat són el persa i el gal·lès.</p>
<![ %g-i [
             <p>Si utilitzeu la interfície d'usuari gràfica, podreu triar entre
             onze idiomes addicionals. Aquests idiomes tan sols es poden seleccionar
             utilitzant aquest instal·lador ja que els seus caràcters no es poden
             representar a entorns no gràfics. Els nous idiomes són:
	     bengalí, dzongkha, gujarati, hindi, georgià, khmer, malaialam,
	     nepalès, panjabi, tàmil i tai.</p>
]]>

             <p>Els usuaris que no vulguen utilitzar cap locale ara poden seleccionar
             <em/C/ com locale preferit a la selecció de idiomes de l'instal·lador.
	     Hi ha més informació sobre el suport dels idiomes disponible a
	     <url id="&url-d-i-i18n;" name="la llista d'idiomes del d-i">.
             </p></item>

             <tag>Localització simplificada i selecció de la zona horària</tag>
             <item><p>La configuració d'idioma, país i zona horària
             s'ha simplificat per reduir la quantitat d'informació necessària
             per part de l'usuari. L'instal·lador ara intentarà esbrinar quin
             és el país del sistema i la zona horària basant-se en l'idioma
             seleccionat, o donarà una selecció limitada si no ho pot fer. Els
	     usuaris encara poden introduir combinacions obscures si és
	     necessar.</p></item>


      <tag>Localització millorada del sistema</tag>
      <item><p>La major part de les tasques de localització i internacionalització
      que prèviament es gestionaven amb el paquet
      <package>localization-config</package> s'inclouen ara en les tasques
      de l'instal·lador de Debian o en els mateixos paquets. Açò vol dir que
      la selecció d'un idioma resultarà en la instal·lació dels paquets necessaris
      per eixe idioma (diccionaris, documentació, fonts...) tant en entorns estàndard
      com en escriptori. Entre la configuració que no es gestionarà de forma
      automàtica hi ha la de la mida del paper, i algunes configuracions avançades
      del teclat a les X per a alguns idiomes.</p>
      <p>Tingueu en compte que els paquets d'idioma específics tan sols s'instal·laran
      automàticament si estan disponibles durant la instal·lació</p></item>


]]> <!-- not-s390 -->

	   </taglist></p>
	 </sect1>

         <sect1 id="inst-auto"><heading>Instal·lació automatitzada</heading>
           <p>Gran part dels canvis que hem esmentat a l'apartat anterior impliquen
           canvis en el suport del programa d'instal·lació per a instal·lacions
           automatitzades utilitzant fitxers de preconfiguració. Això significa que
           si teniu fitxers de preconfiguració que us van funcionar amb
           l'instal·lador de &oldreleasename;, no podeu esperar que funcionin ara
           sense haver-los de modificar.</p>

           <p>La bona notícia és que ara la <url id="&url-install-manual;"
           name="Guia d'instal·lació"> té un apèndix dedicat exclusivament a
           explicar com usar la preconfiguració.</p>

           <p>El programa d'instal·lació d'&releasename; introdueix algunes funcionalitats
           noves que permeten una automatització de les instal·lacions més senzilla
           i extensa. També té suport per a fer un particionat avançat usant
           RAID, LVM i LVM xifrat. Vegeu la documentació per a més detalls.</p>

	 </sect1>
      </sect>

      <sect id="popcon"><heading>Concurs de popularitat</heading>

        <p>El sistema d'instal·lació us tornarà a oferir la instal·lació del paquet
        <package/popularity-contest/. Aquest paquet no s'instal·lava per defecte a
	&oldreleasename; però es va instal·lar a llançaments anteriors.</p>
	
        <p>El <package/popularity-contest/ aporta al projecte Debian una 
	valuosa informació sobre quins són els paquets de la distribució que realment
	s'empren. Aquesta informació s'utilitza principalment per decidir en quin ordre 
	s'inclouen els paquets als CD-ROM d'instal·lació, però també pot
	servir per decidir si s'adopta o no un paquet que ha quedat orfe.</p>

        <p>La informació del <package/popularity-contest/ es processa de forma 
	anònima. Apreciarem molt si participeu en aquesta enquesta oficial, i
	estareu contribuint a millorar Debian.</p>

      </sect>
      </chapt>


      <chapt id="upgrading"><heading>Actualització des de llançaments 
      anteriors</heading>

<!-- For doc-writers' convenience:
Debian Supported
release: architectures:

1.3.1 or less i386
2.0           i386,m68k
2.1	      i386,m68k,alpha,sparc
2.2	      i386,m68k,alpha,sparc,powerpc,arm
3.0	        + hppa,s390,mips,mipsel,ia64
3.1	      i386,m68k,alpha,sparc,powerpc,arm,hppa,s390,mips,mipsel,ia64 (no changes)
4.0	      i386,alpha,sparc,powerpc,arm,hppa,s390,mips,mipsel,ia64,amd64
               (+ amd64; - m68k)
-->

        <sect id="backup"><heading>Preparatius per a l'actualització</heading>

          <p>Suggerim que abans d'actualitzar també llegiu la informació de
          <ref id="information">. Aquest capítol es refereix a qüestions
	  que no estan directament relacionades amb el procés d'actualització
	  però que encara podrien ser importants conèixer abans de començar.</p>

	<sect1 id="data-backup"><heading>Copia de seguretat de tota dada o informació de configuració</heading>
 	
          <p>Abans d'actualitzar el vostre sistema es recomana que feu una
	  còpia de seguretat completa, o almenys que copieu tota dada
	  o informació de configuració que no us pugueu permetre perdre. Les
	  eines i el procés d'actualització són prou fiables, però una
	  fallada del maquinari en mig de l'actualització pot 
	  deixar-vos amb un sistema greument malmès.</p>

          <p>Sobretot, el que probablement voldreu conservar és el 
	  contingut dels directoris
	  <file>/etc</file>, <file>/var/lib/dpkg</file> i la sortida de
          <tt>dpkg --get-selections "*"</tt> (les cometes són importants).</p>

          <p>El procés per si mateix no modifica res al directori
	  <file>/home</file>. No obstant, algunes aplicacions (p.ex.
          parts de la sèrie Mozilla, i els entorns d'escriptori GNOME i KDE) 
	  també sobreescriuen la configuració d'usuari amb els nous valors 
	  per defecte quan l'usuari engega per primera vegada una versió nova 
	  de l'aplicació. Per precaució, potser voldreu fer
	  còpia del fitxers i directoris ocults («dotfiles») dels directoris
	  dels usuaris. Aquestes còpies poden ajudar a recuperar o recrear la
	  configuració antiga. També s'aconsella que n'informeu als usuaris.</p>

          <p>Qualsevol instal·lació de paquets s'ha de fer amb privilegis de
	  superusuari, així que o bé entreu com a root o utilitzeu el <prgn/su/ o
	  el <prgn/sudo/ per obtenir els drets d'accés necessaris.</p>

	  <p>L'actualització té algunes condicions prèvies; hauríeu de
	  comprovar-les abans de fer l'actualització.</p>

       </sect1>

       <sect1><heading>Informar els usuaris prèviament</heading>

          <p>És prudent informar a tots els usuaris abans de qualsevol
	  actualització que planegeu, encara que els usuaris que accedeixen al 
	  vostre sistema amb una connexió <prgn/ssh/ rebran un avís durant 
	  l'actualització i haurien de poder continuar treballant.</p>

	  <p>Si voleu prendre precaucions addicionals, feu una còpia de seguretat
	  o desmunteu les particions dels usuaris (<file>/home</file>) abans
	  d'actualitzar.</p>

<!-- JFS: Not true in etch, maybe for lenny?
          <p>A reboot will not normally be necessary, unless you also plan to
          upgrade your kernel.</p>
-->
	  <p>Probablement haureu d'actualitzar el nucli quan actualitzeu a
	  &releasename;, així que serà necessari reiniciar. Típicament, açò
	  es farà després d'haver acabat l'actualització.</p>
	  
	  </sect1>

       <sect1 id="recovery"><heading>Preparació de la recuperació</heading>

          <p>Com que hi ha molts canvis en el nucli entre &oldreleasename; i
	  &releasename; relatius a controladors, descobriment de maquinari i
	  del nomenament i ordre dels fitxers de dispositiu, hi ha un risc real que 
	  tingueu problemes al reiniciar el vostre sistema després de
	  l'actualització. Hi ha documentats una gran quantitat de possibles
	  problemes en aquest i els següents capítols d'aquestes notes de
	  llançament.</p>
          
	  <p>Per aquest motiu, té sentit assegurar que sereu capaços de
	  recuperar el sistema si fallés al reiniciar, o a sistemes
	  controlats de forma remota, si fallés a l'activar la xarxa.</p>

<!-- JFS: probably can be removed for lenny -->
          <p>Si esteu actualitzant remotament via <prgn/ssh/ és molt recomanable
	  que prengueu les precaucions necessàries per poder accedir al servidor
	  a través d'un terminal sèrie. Hi ha la possibilitat que, després 
	  d'actualitzar el nucli i de reiniciar, alguns dispositius canvien
	  de nom (tal i com es descriu a <ref id="device-reorder">) i haureu
	  de modificar la configuració del sistema des de la consola local. Addicionalment,
	  si es reinicia de forma accidental en mig de l'actualització és 
	  possible que necessiteu recuperar-la utilitzant una consola
	  local.</p>
<!-- END - remove for lenny -->

          <p>La cosa més òbvia a intentar és reiniciar amb el vostre nucli vell. Però
	  per diferents motius documentats en una altra part d'aquest document,
	  no està garantit que funcione.</p>

          <p>Si falla, necessitareu una manera alternativa per arrencar el vostre sistema de
	  manera que accediu a reparar-lo. Una opció és utilitzar una imatge especial de rescat
	  o un CD de Linux live. Després d'arrencar des de ahí, 
	  hauríeu de poder muntar el vostre sistema arrel i fer un <tt/chroot/ dins
	  per investigar i corregir el problema.</p>

	  <p>Una altra recomanació que voldríem fer-vos és que utilitzeu el
	  <em/mode rescue/ de l'instal·lador de Debian &releasename;. L'aventatge
	  d'utilitzar l'instal·lador és que podeu escollir entre els seus molts
	  mètodes d'instal·lació per que s'ajuste millor a la vostra situació.
	  Per obtenir més informació, consulteu la secció «Recuperació d'un
	  sistema espatllat» en el capítol 8 de la
          <url id="&url-install-manual;" name="Guia d'Instal·lació"> i el
          <url id="http://wiki.debian.org/DebianInstaller/FAQ"
          name="PMF de l'Instal·lador de Debian">.</p>

<![ %uses-initrd [
       <sect2 id="recovery-initrd"><heading>Intèrpret d'ordres a la depuració utilitzant initrd</heading>
          <p>L'<package/initramfs-tools/ inclou un intèrpret d'ordres per depuració<footnote>
	  Aquesta característica es pot deshabilitar afegint el paràmetre <tt/panic=0/
	  als vostres paràmetres d'arrencada.</footnote> a l'initrd que genera.
	  Si per exemple l'initrd no pot muntar el vostre sistema de fitxers arrel,
	  anireu a parar a aquest intèrpret d'ordres de depuració que té algunes
	  ordres bàsiques per ajudar a fer el seguiment del problema i possiblement
	  arreglar-lo.</p>

          <p>Les coses bàsiques a comprovar són:
	  la presencia dels fitxers de dispositiu correctes a <file>/dev</file>;
	  que els mòduls estiguen carregats (<tt>cat /proc/modules</tt>);
	  l'eixida del <prgn/dmesg/ per trobar errors en la carrega dels controladors.
	  L'eixida del <prgn/dmesg/ també mostrarà quins fitxers de dispositiu
	  s'han assignat a cada disc; haureu de comprovar l'eixida del
	  <tt/echo $ROOT/ per assegurar-vos que el l'arrel ho es del dispositiu
	  que s'esperava.</p>

          <p>Si aconseguiu corregir el problema, escrivint <tt/exit/ sortirà de
	  l'intèrpret d'ordres de depuració i continuarà el procés d'arrencada des
	  del punt que havia fallat. Per suposat també necessitareu corregir el problema
	  i regenerar l'initrd de manera que la pròxima arrencada no torne a fallar.</p>
       </sect2>
]]>

       </sect1>

       <sect1 id="upgrade_preparations"><heading>Preparació d'un entorn segur per a l'actualització</heading>

          <p>L'actualització de la distribució s'hauria de fer o bé localment
	  des d'una consola virtual en mode text (o bé una connectada directament
	  via terminal sèrie) o de manera remota via una connexió <prgn/ssh/.</p>

          <p>Per obtenir un marge de seguretat addicional quan actualitzeu remotament,
	  us suggerim que executeu el procés d'actualització de forma remota en la
	  consola virtual amb el programa <prgn/screen/, que dona una reconnexió segura i
	  assegura que el procés d'actualització no s'interromprà si el procés de connexió
	  remota fallara.</p>

          <p><strong/Important!/ <em/No/ hauríeu d'actualitzar fent servir
	  <prgn/telnet/, <prgn/rlogin/, <prgn/rsh/, o des d'una sessió X 
	  gestionada per <prgn/xdm/, <prgn/gdm/ o <prgn/kdm/ etc. a les 
	  màquines que esteu actualitzant. La raó és que aquests 
	  serveis es podrien interrompre a l'actualització, i podríeu acabar 
	  amb un sistema <em/inaccessible/ a mig actualitzar.</p>

          <!-- TODO: surely gdm/kdm are sane? -->
          <!-- (vorlon) haha, no, gdm is not; I had that thought, and tested a gdm
               restart on my live session ;) -->

        </sect1>

        <sect1 id="glibc-kernel"><heading>Els nuclis 2.2 deixen d'estar suportats
          </heading>
          <p>En cas que feu servir un nucli anterior al 2.4.1, haureu
	  d'actualitzar com a mínim a la sèrie 2.4 abans d'actualitzar la
	  <package/glibc/.
	  Açò s'hauria de fer abans de començar l'actualització.
	  Es recomana que actualitzeu directament a un nucli 2.6.8 
	  de &oldreleasename;, en comptes d'actualitzar a un de la sèrie 2.4.
	  </p>
        </sect1>

        </sect>

        <sect id="system-status">
        <heading>Comprovar l'estat del sistema</heading>

        <p>El procés d'actualització descrit en aquest capítol s'ha dissenyat
	per a actualitzacions des de sistemes &oldreleasename; «purs», sense paquets
	de terceres parts.
<!-- vorlon: remove for lenny -->
        En particular, hi ha alguns problemes coneguts amb paquets de terceres parts
	que instal·len programes a <file>/usr/X11R6/bin/</file> i que causen problemes
	en les actualitzacions per la transició a X.org (<ref id="xorg">).
<!-- -->
	Per fer el procés d'actualització més fidedigne, podríeu esborrar
	els paquets de terceres parts del vostre sistema abans de començar l'actualització.</p>

        <p>Aquest procediment també assumeix que el sistema està actualitzat 
	fins a l'últim llançament puntual de &oldreleasename;. Si no ho heu fet
	o no n'esteu segurs, seguiu les instruccions a <ref id="old-upgrade">.</p>

       <sect1><heading>Revisar les accions pendents del gestor de paquets</heading>

          <p>En alguns casos, l'us d'<prgn/apt-get/ per instal·lar paquets en
	  comptes de l'<prgn/aptitude/ podria fer que l'<prgn/aptitude/ considere
	  un paquet com «no usat» i el marque per ser esborrat. En general, el
	  sistema hauria d'estar completament actualitzat i «net».</p>

          <p>Per açò hauríeu de revisar si hi ha alguna acció pendent en el 
	  gestor de paquets <prgn/aptitude/. Si un paquet es marca per ser
	  esborrat o actualitzat en el gestor de paquets, podria afectar de
	  forma negativa el procediment d'actualització. Corregir açò tan sols és possible
	  si el vostre <file/sources.list/ encara apunta a <em/&oldreleasename;/; i
	  no a <em/stable/ o <em/&releasename;/; vegeu <ref id="old-sources">.</p>

          <p>Per fer açò, heu d'executar la interfície d'usuari de l'<prgn/aptitude/
	  i premer 'g' («Go»). Si mostra alguna acció, haurieu de revisar-la i
	  bé corregir-la o implementar les accions suggerides. Si no es suggereix
	  cap acció se us mostrarà un missatge dient «No hi ha paquets marcats
	  per instal·lar esborrar o actualitzar».</p>

        </sect1>

	<sect1><heading>Desactivar el marcatge de paquets a l'APT (pinning)</heading>

	  <p>Si teniu configurat l'APT per a instal·lar alguns paquets d'un altra
	  distribució que no és l'estable (p.ex. «testing»), hauríeu de
	  canviar la configuració de marcatge de paquets de l'APT (que es troba
	  a <file>/etc/apt/preferences</file>) per permetre l'actualització dels
	  paquets esmentats a versions del nou llançament estable. Podeu trobar 
	  més informació sobre el marcatge de paquets d'APT a 
	  <manref name="apt_preferences" section="5">.</p>

	</sect1>
	
        <sect1 id="package_status"><heading>Comprovar l'estat dels paquets</heading>

          <p>En referència al mètode utilitzat, es recomanable que abans reviseu
	  l'estat de tots els paquets, i verifiqueu que tots es troben en 
	  estat actualitzable. L'ordre següent us mostrarà qualsevol paquet 
	  que estigui en estat «Half-Installed» o «Failed-Config», i tots
	  aquells que tinguin qualsevol error.

          <example>
# dpkg --audit
          </example></p>
 
          <p>Podeu també inspeccionar l'estat de tots els paquets del
	  sistema utilitzant <prgn/dselect/, <prgn/aptitude/, o bé amb les 
	  ordres

          <example>
# dpkg -l | pager 
          </example>

          o

          <example>
# dpkg --get-selections "*" &gt; ~/paquets-actuals.txt
          </example></p>

          <p>És preferible que traieu qualsevol marca de retenció abans 
	  d'actualitzar. Si un paquet essencial per a l'actualització està 
	  retingut, l'actualització fallarà.</p>

          <p>Tingueu en compte que l'<prgn/aptitude/ utilitza un mètode de 
	  retenció de paquets diferent del de l'<prgn/apt-get/ i del
	  <prgn/dselect/. Podeu identificar els paquets retinguts per
	  l'<prgn/aptitude/ amb l'ordre

          <example>
# aptitude search "~ahold" | grep "^.h"
          </example></p>

          <p>Si voleu comprovar quins paquets teniu retinguts per l'
          <prgn/apt-get/, executeu l'ordre
          <example>
# dpkg --get-selections | grep hold
          </example></p>

          <p>Si vàreu modificar i recompilar un paquet localment, i no el 
	  vàreu canviar de nom, ni vàreu posar una època a la versió, hauríeu de posar-lo com a
	  retingut per tal d'impedir que s'actualitze.</p>

	  <p>L'estat de paquet retingut en l'<prgn/aptitude/ es pot 
	  canviar utilitzant l'ordre: 
	  Canvieu <tt/hold/ per <tt/unhold/ per eliminar l'estat retingut.
          <example>
# aptitude hold <var>nom_del_paquet</var>
          </example>
          </p>

	  <p>Si hi ha alguna cosa que us cal esmenar, el millor és que
	  us assegureu que el <file/sources.list/ encara apunta a 
	  &oldreleasename; tal com s'explica a 
          <ref id="old-sources">.</p>
        </sect1>

	 <sect1 id="backports"><heading>Fonts no oficials i «backports»</heading>

	  <p>Si heu instal·lat al sistema algun paquet que no és de Debian,
	  heu de tenir en compte que aquests paquets podrien ser esborrats 
	  durant l'actualització a causa de dependències conflictives. 
	  Si aquests paquets es van instal·lar afegint una font de paquets al 
	  vostre <file>/etc/apt/sources.list</file>,
	  heu de comprovar si eixa font també ofereix paquets compilats per a
	  &releasename; i canviar la línia del font d'acord amb això al 
	  mateix temps que canvieu les fonts per als paquets de Debian.</p>

          <p>Alguns usuaris podrien tenir versions noves portades dels paquets
	  que <em/estan/ instal·lats a Debian en els seus sistemes 
	  &oldreleasename;. En aquest cas, és molt probable que eixos paquets 
	  causen problemes durant l'actualització,
	  ja que poden provocar conflictes de fitxers<footnote>El sistema de 
	  gestió
	  de paquets de Debian normalment no permet a cap paquet que esborre o
	  reemplace un fitxer que pertany a un altre paquet si no s'ha
	  definit que per reemplaçar aquell paquet.</footnote>. A l'apartat
          <ref id="trouble"> trobareu informació sobre com resoldre
	  conflictes de fitxers, en cas que n'hi hagi.</p>

        </sect1>
        </sect>

<!-- JFS: This section should be probably removed for lenny -->
        <sect id="handle-conflict"><heading>Eliminar la marca de paquets de 
	forma manual</heading>

        <p>Per tal d'evitar que l'<prgn/aptitude/ elimine alguns paquets que es
	van introduir per dependències, necessitareu desmarcar-los manualment
	com a paquets <em/auto/. Açò inclou l'OpenOffice i el Vim per les 
	instal·lacions d'escriptori:
<!-- This is a no-op if none of them are installed -->
<example>
# aptitude unmarkauto openoffice.org vim  
</example></p>

<!-- JFS: This cannot be in the same line as above since it produces an ugly output if 
     you just have 2.4 kernels installed -->
        <p>I imatges d'un nucli 2.6 si els heu instal·lat utilitzant un metapaquet de nucli:

<example>
# aptitude unmarkauto $(dpkg-query -W 'kernel-image-2.6.*' | cut -f1)
</example></p>

        <p>Avís: Podeu revisar quins paquets estan marcats com <em/auto/ amb 
	l'aptitude tot i executant:

<example>
# aptitude search 'i~M &lt;nom del paquet&gt;'
</example></p>
        </sect>


        <sect id="upgrade-process"><heading>Preparació de les fonts de l'APT</heading>

          <p>Abans de començar l'actualització haureu d'ajustar el fitxer
	  de configuració de l'<package/apt/ que conté les llistes de paquets,
          <file>/etc/apt/sources.list</file>.</p>

          <p>L'<package/apt/ considerarà que tots els paquets es poden trobar 
	  a alguna línia «<tt>deb</tt>» i instal·larà els paquets amb el
	  número de versió més alt, donant prioritat a les línies esmentades
	  primer (d'aquesta forma, si heu definit diferents ubicacions
	  de rèpliques, primer anirà el vostre disc local, després
	  els CD-ROM, i aleshores les rèpliques HTTP/FTP).</p>

          <p>Sovint es referirà a un llançament pel seu nom codi (p.ex.
          &oldreleasename;, &releasename;) o pel seu nom d'estat (p.ex.
	  «oldstable», «stable», «testing», «unstable»). Referir-se a un llançament
	  pel seu nom codi té l'avantatge que mai us agafarà per sorpresa un 
	  nou llançament, per aquest motiu aquesta serà la via utilitzada ací.
	  Açò significa, per descomptat, que haureu de mirar els anuncis de llançaments
	  pel vostre compte. Si utilitzeu el nom de l'estat, trobareu grans
	  quantitats de paquets disponibles per actualitzar en el moment que
	  es produeixi el llançament.</p>

         <sect1 id="network"><heading>Afegir fonts d'Internet a l'APT</heading>

           <p>En la configuració per defecte els paquets s'obtenen dels 
	   principals servidors de Debian a Internet, però podeu modificar el
	   fitxer <file>/etc/apt/sources.list</file> per tal d'utilitzar 
	   altres rèpliques, preferiblement una rèplica que sigui pròxima al lloc
	   on us trobeu.</p>

<!-- FJP: Why is 'default configuration' relevant here? We are talking about
          upgrading existing installations; we really have no idea what
          apt-sources users will have set up here (maybe just a Woody CD-set).
          Note: D-I sets the default configuration to a mirror based on
          the selected country and not the 'main' servers. -->

	   <p>Les adreces de les rèpliques de Debian d'HTTP o FTP es poden
	   trobar a <url id="&url-debian-mirrors;"> (cerqueu a la secció
	   «Llista completa de rèpliques»). Normalment, les rèpliques HTTP són
	   més ràpides que les rèpliques FTP.</p>

           <p>Per exemple, suposeu que la rèplica de Debian que teniu més 
	   a prop és <tt>&url-debian-mirror-eg;/</tt>. Quan examineu una rèplica
	   amb un navegador web o un programa d'FTP, voreu que els directoris
	   principals estan organitzats així:

           <example>
&url-debian-mirror-eg;/dists/&releasename;/main/binary-&architecture;/...
&url-debian-mirror-eg;/dists/&releasename;/contrib/binary-&architecture;/...
           </example></p>

           <p>Per emprar aquesta rèplica amb l'<prgn/apt/, afegiu aquesta línia
	   al fitxer <file/sources.list/:

           <example>
deb &url-debian-mirror-eg; &releasename; main contrib
           </example></p>

	   <p>Fixeu-vos que la «<tt>distribució</tt>» s'afegeix implícitament,
	   i els arguments que segueixen el nom de llançament s'utilitzen per 
	   expandir el camí en directoris múltiples.</p>

	   <p>Després d'afegir les noves fonts, inhabiliteu les línies
	   «<tt/deb/» antigues al fitxer <file/sources.list/, afegint-hi un
	   signe <tt/#/ al davant.</p>

         </sect1>

         <sect1 id="localmirror"><heading>Afegir fonts de rèpliques locals a l'APT</heading>

           <p>En lloc d'utilitzar rèpliques HTTP o FTP, podeu modificar el
	   <file>/etc/apt/sources.list</file> per a utilitzar una rèplica 
	   que tingueu al vostre disc local (que possiblement muntareu 
	   amb NFS).</p>

           <p>Per exemple, la vostra rèplica de paquets podria estar a
           <file>/var/ftp/debian/</file>, i tenir els directoris principals
	   com aquests:

           <example>
/var/ftp/debian/dists/&releasename;/main/binary-&architecture;/...
/var/ftp/debian/dists/&releasename;/contrib/binary-&architecture;/...
           </example></p>

           <p>Per tal que l'<prgn/apt/ el reconegui, afegiu aquesta línia 
	   al fitxer <file/sources.list/:

           <example>
deb file:/var/ftp/debian &releasename; main contrib
           </example></p>

	   <p>Fixeu-vos que el «<tt>dists</tt>» s'afegeix implícitament, i els
	   arguments que segueixen el nom del llançament s'utilitzen per expandir
	   la ruta en directoris múltiples.</p>

	  <p>Després d'afegir les noves fonts, inhabiliteu les línies
	  «<tt/deb/» antigues al fitxer <file/sources.list/, afegint-hi un
	  signe <tt/#/ al davant.</p></sect1>

        <sect1 id="cdroms"><heading>Afegir fonts de CD-ROM o DVD a l'APT</heading>

	  <p>Si voleu utilitzar <em/sols/ els CD, comenteu
	  les línies «<tt/deb/» al <file>/etc/apt/sources.list</file>
	  posant-hi un signe de comentari <tt/#/ al davant.</p>

<!-- Default cdrom mount point is /cdrom, not /media/cdrom and fixed!, see #282344
     (but the -d option of apt-cdrom allows scanning from somewhere else) -->
          <p>Assegureu-vos que hi ha un línia al fitxer<file>/etc/fstab</file> 
	  que permet muntar la unitat de CD-ROM al punt de muntatge
	  <file>/cdrom</file> (l'<prgn/apt-cdrom/ necessita exactament el 
	  punt de muntatge <file>/cdrom</file>). Per exemple, si 
	  <file>/dev/hdc</file> és la unitat de CD-ROM, el fitxer
	  <file>/etc/fstab</file> ha de contenir una línia com aquesta:

          <example>
/dev/hdc /cdrom auto defaults,noauto,ro 0 0
          </example></p>

	  <p>Tingueu en compte que <em/no hi ha espais/ entre les paraules
          <tt>defaults,noauto,ro</tt> al quart camp.</p>

          <p>Per a verificar que funciona correctament, inseriu un CD i proveu 
	  d'executar

          <example>
# mount /cdrom    # açò muntarà el CD al punt de muntatge
# ls -alF /cdrom  # açò mostrarà el directori arrel del CD
# umount /cdrom   # açò desmuntarà el CD
          </example></p>

          <p>Tot seguit, executeu:

          <example>
# apt-cdrom add
          </example>
	  
	  per cada CD-ROM amb binaris de Debian, per a afegir el contingut de 
	  cada CD a la base de dades de l'APT.</p>
        </sect1>
        </sect>

	<sect id="upgradingpackages"><heading>Actualització de paquets</heading>
  	  <p>La manera més recomanable d'actualitzar una distribució completa de
	  &debian; és emprant l'eina de gestió de paquets <prgn>aptitude</prgn>.
	  Aquest programa pren decisions sobre la instal·lació de paquets més
	  assenyades que si feu servir l'<prgn>apt-get</prgn> directament.</p>

	  <p>No oblideu muntar totes les particions necessàries (especialment
	  les particions arrel i <file>/usr</file>) amb permisos de lectura i 
	  escriptura amb una ordre de l'estil:

          <example>
# mount -o remount,rw /<var>punt_de_muntatge</var>
          </example></p>

	  <p>Ara heu de tornar a comprovar que les entrades de les fonts 
	  de l'APT 
	  (al fitxer <file>/etc/apt/sources.list</file>) apunten o bé a
	  «<tt/&releasename;/» o bé a «<tt>stable</tt>». No hauria de trobar-se
	  cap entrada apuntant a &oldreleasename;. Avís: les línies de les fonts
	  d'un CD-ROM sovint apunten a «<tt/unstable/» encara que açò puga
	  semblar confús, <em/no/ ho canvieu.</p>

	<sect1 id="record_session"><heading>Capturar la sessió</heading>

	  <p>És altament recomanable que utilitzeu el programa
	  <prgn>/usr/bin/script</prgn> per a enregistrar una transcripció de la
	  sessió d'actualització. Aleshores, si us trobeu amb algun problema, tindreu
	  un fitxer de registre del que ha passat i, si fos necessari, podeu
	  donar la informació exacta en un informe d'error. Per començar a
	  enregistrar la sessió, escriviu:

          <example>
# script -t 2>~/upgrade-&releasename;.time -a ~/upgrade-&releasename;.script
          </example>

	  o quelcom de semblant. No poseu el fitxer typescript a un directori 
	  temporal com ara <file>/tmp</file> o <file>/var/tmp</file> (els
	  fitxers d'aquests directoris es poden esborrar durant
	  l'actualització o bé quan reinicieu el sistema).</p>

          <p>El typescript també us permetrà revisar la informació que s'ha 
	  mostrat en pantalla. Només cal que aneu al VT2 (utilitzant 
	  <tt/Alt-F2/) i, després d'entrar, executeu 
	  <tt>less -R ~root/upgrade-to-&releasename;.script</tt> per veure el 
	  fitxer.</p>

          <p>Un cop hagi finalitzat l'actualització, podeu aturar l'<prgn/script/
	  escrivint <tt/exit/ a l'indicador d'ordres.</p>

<!-- TODO: Could mention the script I provided in 400725 which is useful if you
     have not dumped the timing file -->
          <p>Si heu utilitzat el <em>-t</em> amb el <prgn/script/
	  podreu utilitzar el <prgn/scriptreplay/ per reproduir tota la sessió:

          <example>
# scriptreplay ~/upgrade-&releasename;.time ~/upgrade-&releasename;.script
          </example>

          </p>
        </sect1>

        <sect1 id="updating_lists"><heading>Actualització de la llista de 
	paquets</heading>

          <p>El primer que heu de fer és descarregar la llista de paquets 
			 disponibles per al nou llançament. Podeu fer-ho executant:</p>

	  <p><example>
# aptitude update
	  </example></p>

<!-- JFS: Hopefully this will be fixed in lenny -->
          <p>En executar açò, la primera vegada pot mostrar alguns avisos relacionats
	  amb la disponibilitat de les fonts. Aquests avisos son innocus i no 
	  apareixeran si torneu a executar l'ordre una altra vegada.
          </p>

        </sect1>

      <sect1><heading>Comprovar si hi ha prou espai al disc per a l'actualització</heading>

       <p>Heu d'assegurar-vos abans d'actualitzar que el vostre sistema té
       prou espai al disc dur quan comenceu l'actualització del sistema
       complet, tal com es descriu a <ref id="upgrading_other">. En primer lloc,
       qualsevol paquet necessari per a l'actualització que es descarregue
       des de la xarxa s'emmagatzema a <file>/var/cache/apt/archives</file> 
       (i al subdirectori <file>partial/</file> durant la descàrrega), així que
       hauríeu de assegurar-vos que teniu
       prou disc dur a la partició que conté el sistema de fitxers
       <file>/var/</file>, per desar temporalment els paquets que
       s'instal·laran al sistema. Un cop descarregats els paquets, probablement
       us caldrà més espai a altres particions per instal·lar els paquets
       actualitzats (que poden contenir binaris més grans o més dades) i els
       nous paquets que s'afegiran a l'actualització. Si el sistema
       no disposés de prou espai, acabaríeu amb una actualització incompleta
       que seria difícil de recuperar.</p>

<!-- JFS: Apt will not always abort if you do not have enough disk space.
       For reference see: #247331, #214119, #192146, #185201, #40438 and #32919 -->

       <p>Tant l'<prgn/aptitude/ com el <prgn/apt/ us donaran informació
       detallada de l'espai de disc que cal per la instal·lació. Podreu vore
       aquesta estimació abans de continuar amb l'actualització en curs:
       </p>

         <p><example>
# aptitude -y -s -f --with-recommends dist-upgrade
[ ... ]
XXX paquets actualitzats, XXX instal·lats, XXX a suprimir i XXX a no actualitzar.
Es necessita obtenir xx.xMiB/yyyMiB d'arxius. Després del desempaquetat s'utilitzaran AAAMiB.
Es descarregaran/instal·laran/suprimiran paquets.
	</example></p>

       <p>Si no teniu prou espai per l'actualització, allibereu-ne abans.
       Podeu:
       </p>


<!-- JFS There are more tips at
       http://lists.debian.org/debian-user/2005/11/msg02078.html or
       http://www.debian-administration.org/articles/143
       but maybe that should be in the Debian Reference best and pointed from here -->
       <p>
       <list>
<!-- JFS: Does aptitude to 'apt-get autoclean' by itself? -->
       <item>Esborrar paquets que s'han descarregat abans per instal·lar-se
       (a <file>/var/cache/apt/archive</file>). Buidar la memòria cau de paquets
       amb l'ordre <prgn>apt-get clean</prgn> o <prgn>aptitude clean</prgn>,
       que esborraran els fitxers descarregats anteriorment.

<!-- JFS Point to http://www.enricozini.org/blog/eng/pkgsizestat.html ?
     Enrico's script shows files that occupy space in a given partition
     which might be good for systems that are heavily partitioned -->

       <item>Esborrar paquets que ja no feu servir. Si teniu el
       <prgn/popularity-contest/ instal·lat, podeu utilitzar
       <prgn/popcon-largest-unused/ per a obtenir una llista dels paquets que
       menys empreu al sistema i que ocupen més espai. També podeu utilitzar el
       <prgn/deborphan/ o el <prgn/debfoster/ per trobar paquets obsolets (vegeu
       <ref id="obsolete">).
	De forma alternativa, podeu arrencar l'<prgn/aptitude/en «visual mode» i
	trobar els paquets obsolets en «Paquets obsolets i creats localment».

       <item>Esborreu els paquets que ocupen molt d'espai, i que no necessiteu 
       ara (sempre els podeu reinstal·lar després de l'actualització). Podeu
       obtenir una llista dels paquets que ocupen més espai al disc amb el
       <prgn/dpigs/ (disponible al paquet <package/debian-goodies/)
       o amb el <prgn/wajig/ (executant <tt>wajig size</tt>).

<!-- TODO: consider this for lenny
You can list packages that take up most of the disk space with
       <prgn/aptitude/ .  Start <prgn/aptitude/ into "visual mode", select
       "Views" and "New Flat Package List" (this menu entry is available only
       after etch version), press "l" and enter "~i", press "S" and enter
       "~installsize", then it will give you nice list to work with.  Doing
       this after partial upgrade described in <ref id="upgrading_aptitude">
       should give you access to this new feature.
-->

       <item>Moure temporalment a un altre sistema, o esborrar permanentment, els
       registres del sistema que són a <file>/var/log/</file>.

       </list></p>

       <p>Fixeu-vos que per esborrar els paquets de forma segura, és aconsellable
       canviar el vostre <file>sources.list</file> per que apunte a 
       &oldreleasename; tal i com es descriu a
       <ref id="old-sources">.</p>

        </sect1>

        <sect1 id="minimal_upgrade"><heading>Actualització mínima del sistema</heading>

        <p>Degut a certs conflictes necessaris entre paquets de &oldreleasename;
        i &releasename;, executar <tt>aptitude dist-upgrade</tt> de forma directa sovint
	esborrarà una gran quantitat de paquets que potser voldríeu mantenir. Per això
	us recomanem que feu una actualització en dos passos, primer una actualització
	mínima per evitar aquests conflictes, i després un <tt>dist-upgrade</tt> complet.
        </p>

        <p>Primer, executeu:
          <example>
# aptitude upgrade
          </example>
        </p>
        <p>Açò té l'efecte d'actualitzar aquells paquets que es poden actualitzar 
	sense la necessitat d'esborrar o instal·lar cap altre paquet.</p>

        <p>Continueu l'actualització mínima amb:
          <example>
# aptitude install initrd-tools
          </example></p>

        <p>Aquest pas actualitzarà automàticament la <package/libc6/ i
	els <package/locales/, i farà entrar les biblioteques de suport de
	SElinux (<package/libselinux1/). En aquest punt, alguns serveis
	que s'estiguen executant es reiniciaran, incloent <prgn/xdm/, <prgn/gdm/ i
	<prgn/kdm/. Com a conseqüència les sessions locals de X11 es 
	desconnectaran.</p>

        <p>El pas següent depèn dels paquets que tingueu instal·lats al sistema. Aquestes
	notes de llançament donen consells generals de quin mètode s'hauria d'utilitzar,
	però si teniu dubtes, es recomana que examineu els paquets proposats per esborrar
	per cada mètode abans de continuar.</p>
	<p>Alguns paquets que en general s'espera que s'hagen esborrat inclouen 
	<package/base-config/, <package/hotplug/, <package/xlibs/,
	<package/netkit-inetd/, <package/python2.3/, <package/xfree86-common/,
	i el <package/xserver-common/.  Si voleu una llista més completa de paquets que
	ara són obsolets a &releasename;. vegeu <ref id="obsolete">.
	</p>

         <sect2 id="minimal_upgrade_desktop"><heading>Actualització d'un sistema d'escriptori</heading>
        <p>Aquesta manera d'actualitzar s'ha comprovat amb sistemes sarge
	amb la tasca <tt>escriptori</tt> instal·lada. És probable el mètode que 
	donarà els millors resultats en sistemes amb la tasca <tt>escriptori</tt> instal·lada
	o amb els paquets <tt>gnome</tt> o <tt>kde</tt> instal·lats.

        <p>Probablement <em>no</em> siga el mètode adequat si no teniu els 
	paquets
        <package/libfam0c102/ i <package/xlibmesa-glu/ instal·lats:
          <example>
# dpkg -l libfam0c102 | grep ^ii
# dpkg -l xlibmesa-glu | grep ^ii
          </example>
        </p>

      <p>Si teniu un sistema d'escriptori complet instal·lat, executeu:
        <example>
# aptitude install libfam0 xlibmesa-glu
        </example></p>

         </sect2>

         <sect2 id="minimal_upgrade_x_server"><heading>Actualització d'un sistema amb alguns 
        paquets X instal·lats</heading>
        <p>Els sistemes que tinguen algun paquet X instal·lat, però no tota la tasca
	<tt>escriptori</tt>, disposen d'un mètode diferent. Aquest mètode
	s'aplica en general a sistemes amb el paquet 
        <package/xfree86-common/ instal·lat, incloent alguns sistemes de servidor que
	tenen les tasques de servidor del <package/tasksel/ així com 
	algunes de les tasques que inclouen eines de gestió gràfiques. És molt semblant
	al mètode que s'utilitza als sistemes que tenen les X, però que no tenen la tasca
	<tt>escriptori</tt> instal·lada.
        <example>
# dpkg -l xfree86-common | grep ^ii
        </example>
        </p>

        <p>Primer, comproveu que teniu instal·lats els paquets <package/libfam0c102/ i
        <package/xlibmesa-glu/.

          <example>
# dpkg -l libfam0c102 | grep ^ii
# dpkg -l xlibmesa-glu | grep ^ii
          </example>
	</p>

       <p>Si no teniu instal·lat el paquet <package/libfam0c102/, no inclogueu el
        <package/libfam0/ a la següent línia d'ordres. Si no teniu el paquet
        <package/xlibmesa-glu/ instal·lat, no l'inclogueu a la línia següent.
          <footnote>Aquesta ordre us dirà si necessiteu tenir instal·lat el libfam0 i el
          xlibmesa-glu, i els seleccionarà automàticament:
          <example>
# aptitude install x11-common \
  $(dpkg-query --showformat '${Package} ${Status}\n' -W libfam0c102 xlibmesa-glu \
    | grep 'ok installed$' | sed -e's/ .*//; s/c102//')
          </example>
          </footnote>

          <example>
# aptitude install x11-common <var>libfam0</var> <var>xlibmesa-glu</var>
          </example>
        </p>

          <p>Fer açò també instal·larà el monitor de modificació de fitxers
          (<package/fam/) així com l'RPC portmapper (<package/portmap/) si no 
	  estaven encara al vostre sistema. Els dos paquets engegaran un nou
	  servei de xarxa en el sistema encara que els dos es poden configurar per
	  limitar-se al dispositiu de xarxa loopback (intern).</p>

         <sect2 id="minimal_upgrade_server"><heading>Actualització d'un sistema sense suport
	de les X instal·lat</heading>
        <p>En un sistema que no tinga les X instal·lades, no hauria de fer falta cap 
	aptitude install addicional, i podeu passar al pas següent.
        </p>

         </sect2>

        </sect1>

        <sect1 id="upgrading_kernel"><heading>Actualització del nucli</heading>

        <p>La versió de l'<package/udev/ d'&releasename; no té suport per versions
	del nucli anteriors a 2.6.15 (que inclou els nuclis de &oldreleasename; 2.6.8)
	i la versió de l'<package/udev/ de &oldreleasename; no funcionarà correctament
	amb els últims nuclis. De forma addicional, instal·lar la versió de &releasename;
	de l'<package/udev/ forçarà que s'esborre el <package/hotplug/, que utilitzen els nuclis
	de Linux 2.4.</p>

        <p>Per tant, el paquet del nucli anterior possiblement no arrencarà correctament
	després de l'actualització. De manera semblant, hi ha un moment en l'actualització
	en que l'<package/udev/ s'ha actualitzat però l'últim nucli encara no s'ha
	instal·lat. Si per casualitat es reinicia el sistema en aquest punt, a meitat
	de l'actualització, no arrancaria ja que els controladors no es detectarien ni
	es carregarien correctament. (Vegeu <ref
        id="upgrade_preparations"> on trobareu recomanacions de com preparar-vos per a aquesta
	possibilitat si esteu actualitzant remotament.)</p>

        <p>A no ser que el vostre sistema tinga instal·lada la tasca <tt>desktop</tt>, o bé
	altres paquets que puguen fer que s'esborren una quantitat molt gran de paquets,
	es recomana que actualitzeu el nucli individualment en aquest moment.</p>

          <p>Per procedir a fer l'actualització del nucli, executeu:
          <example>
# aptitude install linux-image-2.6-<var>flavor</var>
          </example>

          Mireu <ref id="kernel-metapackage"> si voleu ajuda per determinar quina versió
	  del nucli hauríeu d'instal·lar.</p>

          <p>En el cas d'escriptori, malauradament, no és possible assegurar que
	  el paquet del nou nucli s'instal·le immediatament després d'instal·lar el nou
	  <package/udev/, així que hi ha un moment de durada indeterminada on el vostre 
	  sistema no tindrà cap nucli instal·lat amb suport complet de hotplug. Vegeu <ref
	  id="newkernel"> per obtenir més informació de com configurar el vostre sistema
	  per que no depenga del hotplug a l'arrencar.</p>
	 
        </sect1>

<!-- TODO: For lenny, consider restoring the section 'Upgrade aptitude' -->

        <sect1 id="upgrading_other">
	<heading>Actualització de la resta del sistema</heading>

          <p>Ara ja esteu preparats per continuar amb la part principal de 
	  l'actualització. Executeu:</p>
<!-- NOTE (jfs): we have not tested with the -f and with-recommends option -->
	  <p><example>
# aptitude dist-upgrade
	  </example></p>

	  <p>Açò farà una actualització completa del sistema, és a dir, 
	  instal·larà les versions més noves de tots els paquets, i resoldrà 
	  tots els canvis de dependències possibles entre paquets de diferents
	  llançaments. Si s'escau, instal·larà alguns paquets nous 
	  (normalment noves versions de biblioteques o paquets que han canviats de
	  nom), i esborrarà qualsevol paquet obsolet conflictiu.</p>

          <p>Quan actualitzeu des d'un conjunt de CD-ROM, se us demanarà
	  que introduïu CD específics en diferents moments al llarg de 
	  l'actualització. Açò és així perquè hi ha paquets interrelacionats que
	  estan dispersos en diferents CD</p>

	  <p>Les noves versions dels paquets instal·lats actualment que no es
	  poden actualitzar sense canviar l'estat de la instal·lació d'un altre
	  paquet es deixaran en la seua versió actual (que es mostrarà com a
	  «held back»). Açò es pot resoldre o bé utilitzant 
	  <prgn>aptitude</prgn> per escollir aquests paquets o bé executant 
	  <tt>aptitude -f install <var>package</var></tt>.</p>

        </sect1>

<!-- JFS: Bug #403496 -->
        <sect1 id="get_signatures"><heading>Aconseguir les signatures dels paquets</heading>

          <p>Després de l'actualització, ja amb la nova versió de l'<prgn/apt/ podeu
	  actualitzar la informació dels paquets, que inclou el nou mecanisme de
	  comprovació de la signatura:</p>
        <p><example>
# aptitude update
        </example></p>

          <p>L'actualització ja haurà aconseguit i activat les claus que signen
	  els paquets de l'arxiu de Debian. Si afegiu altres fonts de paquets
	  (no oficials), l'<prgn/apt/ mostrarà avisos relacionats en la impossibilitat 
	  de confirmar que els paquets descarregats són legítims i que 
	  no s'han forçat. Per a més informació vegeu <ref id="pkgmgmt">.
          </p>

<!-- JFS: Bug #376158 -->
          <p>Voreu que, des del moment que utilitzeu la nova versió d'<prgn/apt/,
	  es descarregaran fitxers de diferències (<tt/pdiff/) en 
	  comptes de la llista completa dels índexs de paquets. Per a més informació
	  quant a aquesta característica llegiu <ref id="apt-pdiff">.</p>

        </sect1>

        <sect1 id="trouble"><heading>Possibles problemes en l'actualització</heading>

          <p>Si mentre es fa servir <prgn/aptitude/, <prgn/apt-get/ o
          <prgn/dpkg/ una operació falla amb l'error
<example>
E: Dynamic MMap ran out of room
</example>
          significa que l'espai reservat de memòria cau és insuficient. Podeu 
	  resoldre aquest problema esborrant o comentant les línies que no 
	  necessiteu a l'<file>/etc/apt/sources.list</file>, o incrementant 
	  la mida de la memòria cau.
	  La mida de la memòria cau es pot incrementar amb l'opció
	  <tt/APT::Cache-Limit/ al fitxer <file>/etc/apt/apt.conf</file>. 
	  L'ordre següent li donarà un valor suficientment gran per a 
	  l'actualització:
<example>
# echo 'APT::Cache-Limit "12500000";' >> /etc/apt/apt.conf
</example>
          Açò assumeix que aquesta variable encara no té cap valor assignat 
	  en eixe fitxer.</p>

<!-- (vorlon) FIXME: I recommend dropping this paragraph, it doesn't seem relevant
     for sarge->etch?
-->
          <p>De vegades, cal activar l'opció <tt/APT::Force-LoopBreak/ a l'APT
	  per tal d'evitar entrar en un cercle sense sortida de conflicte i
	  pre-dependència. En tal cas l'<prgn/aptitude/ us alertarà
	  i avortarà l'actualització. Podeu evitar-ho especificant l'opció
          <tt>-o APT::Force-LoopBreak=1</tt> a la línia d'ordres de 
	  l'<prgn/aptitude/.</p>
<!-- JFS: Shouldn't this mention also Apt's configuration file? -->

          <p>És possible que l'estructura del sistema de dependències es
	  corrompi i que calgui una intervenció manual. Normalment açò
	  vol dir emprar l'<prgn/aptitude/ o 

          <example>
# dpkg --remove <var>package_name</var>
          </example>

          per tal d'eliminar els paquets problemàtics, o bé

          <example>
# aptitude --fix-broken install
# dpkg --configure --pending
          </example></p>

          <p>En casos extrems haureu de forçar la reinstal·lació
	  amb una ordre d'aquest l'estil

          <example>
# dpkg --install <var>/ruta/al/nom_del_oaquet.deb</var>
          </example></p>

          <p>No hi hauria d'haver cap conflicte de fitxers si actualitzeu
	  des d'un sistema &oldreleasename; «pur», però pot passar si teniu
	  algun backport instal·lat. Un conflicte de fitxers donarà un error
	  de l'estil:

          <example>
Unpacking <var>&lt;package-foo&gt;</var> (from <var>&lt;package-foo-file&gt;</var>) ...
dpkg: error processing <var>&lt;package-foo&gt;</var> (--install):
 trying to overwrite `<var>&lt;some-file-name&gt;</var>',
 which is also in package <var>&lt;package-bar&gt;</var>
dpkg-deb: subprocess paste killed by signal (Broken pipe)
Errors were encountered while processing:
<var>&lt;package-foo&gt;</var>
          </example></p>

          <p>Podeu provar de resoldre el conflicte de fitxers forçant
	  l'eliminació del paquet esmentat a l'<em/última/ línia del missatge
	  d'error:

          <example>
# dpkg -r --force-depends <var>package_name</var>
          </example></p>

          <p>Un cop arreglat el problema, hauríeu de ser capaços de
	  continuar l'actualització amb l'<tt/aptitude/, seguint els passos que
	  hem descrit anteriorment.</p>	  

          <p>Durant l'actualització se us faran algunes preguntes referents a la
	  configuració o reconfiguració d'alguns paquets. Quan se us pregunte
	  si s'ha de reemplaçar qualsevol dels fitxers 
	  <file>/etc/init.d</file>, els directoris
          <file>/etc/terminfo</file>, o el fitxer <file>/etc/manpath.config</file>
	  per la versió del mantenidor del paquet, heu de respondre 'sí'
	  per garantir la consistència del sistema. Sempre podreu tornar a
	  les versions anteriors, ja que es desaran amb l'extensió 
          <tt/.dpkg-old/.</p>

          <p>En cas de dubte, anoteu el nom del paquet
	  o del fitxer, i resoleu-ho després. Podeu cercar al fitxer typescript
	  per revisar la informació que teníeu en pantalla en el moment de
	  l'actualització.</p>

        </sect1>
        </sect>
        
	<sect id="newkernel"><heading>Actualització del nucli i els paquets 
	relacionats</heading>

     <p>Aquesta secció explica com actualitzar el nucli i tracta
     d'identificar problemes potencials relacionats amb aquesta
     actualització. Podeu instal·lar algun dels paquets
     <package/linux-image-*/ de Debian, o compilar un nucli personalitzat
     a partir del codi font.</p>

<![ %uses-initrd [
          <p>Fixeu-vos que molta de la informació d'aquesta secció es basa en
	  la idea que estareu utilitzant un dels nuclis modulars de Debian 
	  junt amb <package/initramfs-tools/ i <package/udev/. Si escolliu utilitzar
	  un nucli personalitzat que no necessite un initrd, o si utilitzeu
	  un generador de initrd diferent, alguna de els informacions no serà
	  important per vosaltres.</p>
]]>
<![ %no-initrd [
          <p>Fixeu-vos que aquesta secció conté molta informació relacionada amb l'ús
	  de <package/initramfs-tools/ i <package/udev/. D'altra banda,
	  com els nuclis de Debian per a &architecture; no fan ús de initrd
	  per arrencar el sistema, algunes de les informacions podrien no estar dirigides
	  a vosaltres. Tot i així, s'inclou aquesta informació per que podríeu tenir
	  l'<package/udev/ instal·lat per altres motius.</p>
]]>
          <p>Encara que l'<package/udev/ <em/no/ estiga instal·lat en el vostre
	  sistema, és possible utilitzar el <package/hotplug/ per a la
	  detecció del maquinari.</p>

<![ %defaulted-2.4 [
	<p>Si esteu fent servir un nucli de la sèrie 2.4, també hauríeu de 
	llegir <ref id="upgrade-to-2.6"> detingudament.</p>
]]>

        <sect1 id="kernel-metapackage"><heading>Instal·lar el metapaquet del nucli</heading>
          <p>Quan actualitzeu la distribució des de &oldreleasename; a
          &releasename;, es recomana que instal·leu el nou metapaquet
          linux-image-2.6-*. Aquest paquet tal vegada s'instal·li automàticament
          en fer l'actualització. Podeu comprovar-ho executant:
<!-- NOTE (jfs): Users using apt/aptitude might not have their available file
     updated so '^ii' is really unnecessary, maybe dpkg -l 'linux-image*' would be
     better here? -->
          <example>
# dpkg -l "linux-image*" | grep ^ii
          </example></p>

          <p>Si no veieu cap sortida, aleshores us farà falta instal·lar un nou
	  paquet linux-image a mà. Per vore una llista dels metapaquets linux-image-2.6 
	  que hi ha, executeu:
          <example>
# apt-cache search linux-image-2.6- | grep -v transition
          </example></p>

          <p>Si no esteu segurs de quin paquet seleccionar, executeu
          <tt>uname -r</tt> i busqueu un paquet que tinga un nom semblant.
	  Per exemple, si veieu '2.4.27-3-686', es recomana que instal·leu
	  <package/linux-image-2.6-686/.
<![ %i386 [
          (Fixeu-vos que la versió 386 ja no existeix; si actualment esteu
	  executant aquesta versió, hauríeu d'instal·lar el nucli 486 en lloc seu.)
]]>
	  Podeu també utilitzar <prgn>apt-cache</prgn> per vore una descripció de
	  cada paquet que us pot ajudar a triar el millor.
	  Per exemple:
          <example>
# apt-cache show linux-image-2.6-686
          </example></p>

         <p>Hauríeu aleshores d'utilitzar <tt/aptitude install/ per instal·lar-lo.
	 Una vegada aquest nou nucli estiga instal·lat, hauríeu de reiniciar a la
	 pròxima oportunitat per obtenir els beneficis que dóna la nova versió del
	 nucli.</p>

         <p>Pels més aventurats hi ha una manera més fàcil de compilar el vostre
	 nucli personalitzat a &debian;. Instal·leu el 
	 <package>kernel-package</package> i llegiu la documentació que és a

	 <file>/usr/share/doc/kernel-package</file>.</p>

        </sect1>

        <sect1 id="upgrade-from-2.6"><heading>Actualitzar des d'un nucli 2.6</heading>

        <p>Si esteu utilitzant un nucli de la sèrie 2.6 de &oldreleasename; aquesta
	actualització es farà de forma automàtica després de fer una actualització
	completa dels paquets del sistema (tal i com es descriu a
	<ref id="upgradingpackages">).

        <p>Si és possible, és recomanable instal·lar el paquet del nucli per
		  separat de la resta del <tt/dist-upgrade/ per tal de reduir les
		  possibilitats de deixar temporalment un sistema no arrencable. Vegeu
		  <ref id="upgrading_kernel"> per a una descripció d'aquest procés.
		  Fixeu-vos també que això només ho hauríeu de fer després de
		  l'actualització mínima tal i com es descriu a <ref id="minimal_upgrade">.
        </p>

        <p>També podeu fer aquest pas si esteu utilitzant un nucli
	personalitzat i voleu utilitzar el nucli de &releasename;.
	Si la versió del nucli que esteu fent servir no està suportada
	per <package/udev/, aleshores es recomana que feu l'actualitzeu
	també després de fer l'actualització mínima. Si la versió del
	nucli està suportada per <package/udev/, podeu esperar.
	</p>

<!--
         <p><em>TRY</em>: In aptitude, upgrade only 'required' 'important'
         'standard' packages limit by pressing 'l' and input
         !~v(~pextra|~poptional) keep with : for hold this time upgrade by
         pressing 'U' and 'g'  (untested but ...) (You can do this in much
         finer steps.)
-->
        </sect1>

<![ %defaulted-2.4 [
        <sect1 id="upgrade-from-2.4"><heading>Actualitzar des d'un nucli 2.4</heading>

        <p>Si teniu un nucli 2.4 instal·lat, i el vostre sistema recau damunt el
	<package/hotplug/ pel que fa a la detecció del maquinari, hauríeu d'actualitzar
	primer a un nucli de la sèrie 2.6 de &oldreleasename; abans d'intentar fer
	l'actualització. Assegureu-vos que el nucli de la sèrie 2.6 arrenca el vostre
	sistema i que tot el vostre maquinari es detecta correctament abans de fer
	l'actualització. El paquet <package/hotplug/ s'esborra del sistema (en favor de
	<package/udev/) quan es fa una actualització completa del sistema. Si no
	feu l'actualització del nucli abans d'açò, el vostre sistema podria no
	arrencar correctament a partir d'aquest moment. Una vegada heu fet l'actualització
	a un nucli de la sèrie 2.6 a &oldreleasename; podeu fer una actualització del
	nucli tal i com es descriu a <ref id="upgrade-from-2.6">.</p>

        <p>Si el vostre sistema no utilitza el <package/hotplug/<footnote>Podeu
	tindre els mòduls del nucli que necessitava el vostre sistema carregats 
	estàticament a través d'una configuració correcta del
        <file>/etc/modules</file></footnote> podeu endarrerir l'actualització del nucli
	fins després d'haver fet l'actualització completa del sistema, tal com es descriu a
        <ref id="upgrading_other">. Una vegada el vostre sistema s'ha actualitzat
	podeu fer el següent (canviant el nom del paquet pel que més s'ajuste
	el vostre sistema substituint el <em>&lt;sabor&gt;</em>):
        <example>
# aptitude install linux-image-2.6-&lt;sabor&gt;
        </example>
        </p>

        </sect1>
]]>
          
        <sect1 id="device-reorder"><heading>Canvis en l'enumeració de dispositius</heading>
          <p>&releasename; té un mecanisme molt més robust de detecció de maquinari
	  que els llançaments anteriors. Tanmateix, açò pot donar lloc 
	  a canvis en l'ordre en que es detecten els dispositius del 
	  vostre sistema, afectant l'ordre en que s'assignen els noms als
	  dispositius.
          Per exemple, si teniu dues targetes de xarxa controlades per
	  controladors diferents, els dispositius eth0 i eth1 als que
	  apunten podrien quedar intercanviats.
          Tingueu en compte que el nou mecanisme entén que si per exemple canvieu
	  els controladors ethernet d'un sistema que està funcionant amb
	  &releasename;, el nou adaptador adoptarà un altre nom d'interfície.</p>

          <p>Per als dispositius de xarxa, podeu evitar aquesta reordenació
	  emprant regles <package>udev</package>, o més específicament, mitjançant les 
	  definicions que hi ha a
	  <file>/etc/udev/rules.d/z25_persistent-net.rules</file><footnote>Les 
	  regles que hi ha allà són generades automàticament per l'script 
	  <file>/etc/udev/rules.d/z45_persistent-net-generator.rules</file> amb
	  l'objectiu que les interfícies de xarxa tinguin noms persistents. Esborreu
	  aquest enllaç simbòlic per inhabilitar el canvi de nom de targetes de 
	  xarxa mitjançant <package/udev/.</footnote>. Alternativament, podeu utilitzar
	  l'eina <prgn>ifrename</prgn>, que permet associar dispositius físics amb
	  noms específics en el moment d'arrencar.
<!-- TODO: add ifupdown-scripts-zg2 as well here? -->
     Vegeu <manref name="ifrename" section="8"> i <manref name="iftab"
     section="5"> per obtenir més informació.
	  No s'haurien d'utilitzar totes dues alternatives (<package>udev</package>
	  i <prgn>ifrename</prgn>) alhora.
	  </p>

<!-- TODO:
          *** maks: please review the initramfs stuff for accuracy - I'm going
          ***       by what I remember, and haven't tested this recently
          -->
          <p>En els dispositius d'emmagatzemament podeu evitar aquesta 
	  reordenació si utilitzeu el paquet <package/initramfs-tools/ 
	  i el configureu perquè carregui els mòduls 
	  dels controladors de dispositius d'emmagatzemament en el mateix ordre
	  que estan carregats ara.
	  Per a fer-ho, identifiqueu quin és l'ordre en que els mòduls 
	  d'emmagatzemament es van carregar al vostre sistema mirant la
	  sortida de l'<prgn/lsmod/.
	  L'<prgn/lsmod/ dóna la llista de mòduls en ordre invers al que han estat
	  carregats, és a dir, el primer mòdul a la llista és l'últim que
	  que s'ha carregat. Fixeu-vos que això només funcionarà en dispositius
	  que el nucli enumeri en un ordre estable (com ara els dispositius
	  PCI).</p>

          <p>D'altra banda, esborrar i tornar a carregar els mòduls 
	  després de l'arrencada inicial afectarà aquest ordre. A més, el
	  nucli pot tenir alguns dispositius enllaçats estàticament,
	  i aquests noms no apareixeran a la sortida de 
          l'<prgn>lsmod</prgn>. Podeu esbrinar aquests noms de dispositiu
	  i ordre de càrrega examinant el 
          <file>/var/log/kern.log</file>, o la sortida del
          <prgn>dmesg</prgn>.</p>

          <p>Afegiu eixos noms dels mòduls al fitxer
	  <file>/etc/initramfs-tools/modules</file> en l'ordre
	  que hauria de carregar-se al moment de l'arrencada. Els noms d'alguns 
	  mòduls pot variar de &oldreleasename; a &releasename;. Per
	  exemple, sym53c8xx_2 s'ha reanomenat a sym53c8xx.</p>

          <p>Aleshores, haureu de regenerar la imatge o imatges initramfs
	  executant <tt>update-initramfs -u -k all</tt>.</p>

          <p>Una cop estigueu utilitzant un nucli &releasename; i <package/udev/, podeu
	  reconfigurar el vostre sistema per aconseguir que accedeixi als discs 
	  amb un àlies que no depengui de l'ordre de càrrega dels dispositius.
	  Aquests àlies són a la jerarquia <file>/dev/disk/</file>.</p>
        </sect1>

<![ %ia64 [
        <sect1><heading>Reordenació dels dispositius sèrie</heading>
          <p>Si teniu una màquina HP i esteu utilitzant el port de la
	  consola sèrie MP (l'endoll etiquetat «console» en el cable amb
	  3 capçals), l'actualització farà que la vostra consola deixe de
	  funcionar!</p>

	  <p>En reiniciar, el sistema mostrarà el missatge «Loading initrd....»
	  però es detindrà allà. Es sap que alguns sistemes amb firmware
	  desactualitzat tindran símptomes semblants, encara que aquest problema
	  es relaciona amb incompatibilitats del nucli (vegeu <ref
          id="upgrade-to-2.6">).</p>


          <p>Llegiu la informació que hi ha a continuació abans 
	  d'actualitzar.</p>

          <p><list>
          <item><p>El dispositiu de la consola canviarà de
	  <file>ttyS0</file> a
           <file>ttyS1</file>, <file>ttyS2</file>, o <file>ttyS3</file> 
	   per tant
            <list>
            <item><p>Editeu <file>/etc/inittab</file> per afegir una entrada
	    getty per 
             <file>/dev/ttyS1</file> (rx4640, rx5670, rx7620, rx8620, Superdome),
             <file>/dev/ttyS2</file> (rx1600), o 
             <file>/dev/ttyS3</file> (rx2600).</p></item>
            <item><p>Editeu <file>/etc/securetty</file> per afegir
             <file>ttyS1</file>, <file>ttyS2</file>, o
             <file>ttyS3</file>.</p></item>
            <item><p>Deixeu les entrades <file>ttyS0</file> que hi havia a
             <file>/etc/inittab</file> i <file>/etc/securetty</file>, per 
	     tal de poder seguir arrencant amb nuclis antics.</p></item>
	    </list>
	  </p></item>

          <item><p>Editeu <file>/etc/elilo.conf</file> i esborreu qualsevol 
	  opció de l'estil «console=»<p></item>

          <item><p>Executeu l'<prgn/elilo/ per instal·lar el carregador d'arrencada 
	  amb la nova configuració.</p></item>

          <item><p>Reinicieu el sistema i seleccioneu exactament un dispositiu
	  com a sortida i entrada de consola i sortida d'errors estàndard, a
	  l'opció d'arrencada EFI del menú de configuració. Torneu a reiniciar la
	  màquina per tal que els canvis tinguin efecte</p>

           <p>Per a la consola MP, aneu amb compte de seleccionar el 
	   dispositiu «Acpi(HWP0002,700)/Pci(...)/Uart».</p></item>
          </list></p>

          <p>Trobareu més detalls d'aquests canvis, així com possibles
	  solucions a problemes que pugin sorgir a
          <url id="http://lists.debian.org/debian-ia64/2005/01/msg00008.html">.</p>

        </sect1>
]]>
<![ %uses-initrd [
<!-- #417643 -->
        <sect1 id="boot-timing"><heading>Problemes en l'arrencada</heading>

          <p>Si un initrd creat amb <package/initramfs-tools/ s'utilitza per
			 arrencar el sistema, en alguns casos la creació dels fitxers de
			 dispositiu mitjançant <package/udev/ pot ser que passi massa tard
			 per als scripts d'arrencada.</p>
			 <p>El símptoma més habitual és que l'arrencada fallarà perquè
			 no ha estat possible muntar el sistema de fitxers arrel, i us
			 deixarà en un intèrpret d'ordres de depuració. Però en comprovar-ho
			 després, veureu que tots els dispositius necessaris estan presents a
			 <file>/dev</file>. Aquest comportament s'ha pogut observar en
			 casos on el sistema de fitxers arrel és un disc USB o està
			 sobre RAID.</p>
			 <p>Una possible solució per a aquest problema és utilitzar el 
			 el paràmetre d'arrencada <tt>rootdelay=<var/9/</tt>. El valor
			 del temps d'espera (en segons) es pot ajustar segons quines
			 siguin les vostres necessitats.</p>

        </sect1>
]]>
	</sect>

        <sect id="nownownow"><heading>Coses a fer abans de reiniciar</heading>

          <p>Quan l'<tt>aptitude dist-upgrade</tt> ha acabat, l'actualització
	  «formal» s'ha completat, però hi ha altres coses que s'han
	  de fer <em/abans/ de reiniciar.</p>

        <sect1 id="convert-devfs"><heading>Conversió des de devfs</heading>
          <p>Els nuclis de Debian ja no inclouen el suport per a
			 <tt>devfs</tt>, per tant, els usuaris de <tt>devfs</tt> 
			 hauran de convertir els seus sistemes manualment abans d'arrencar
			 un nucli de &releasename;.</p>

          <p>Si veieu la paraula 'devfs' a <file>/proc/mounts</file>, és
			 pràcticament segur que esteu utilitzant <tt>devfs</tt>. Qualsevol
			 fitxer de configuració que faci referències a dispositius a l'estil
			 <tt>devfs</tt> s'haurà d'ajustar per utilitzar noms de l'estil
			 d'<package>udev</package>. Els principals fitxers que contenen aquest
			 tipus de referències són <file>/etc/fstab</file>,
			 <file>/etc/lilo.conf</file>, <file>/boot/grub/menu.lst</file>, i
			 <file>/etc/inittab</file>.</p>

          <p>Hi ha més informació disponible quant a problemes potencials a
			 l'informe d'error <url id="http://bugs.debian.org/341152"
			 name="#341152">.</p>
        </sect1>

<![ %sparc [
        <sect1 id="missingdrivers"><heading>Possible manca de controladors a l'initrd</heading>
          <p>Els nuclis &releasename; no tenen suport complet de sysfs per l'sbus natiu
	  d'sparc. L'<package/initramfs-tools/ l'utilitza per incloure els controladors de
	  disc a l'initrd. Si un controlador no s'inclou a l'initrd, el sistema podria
	  fallar a l'arrencar.
	  <p>Si el vostre sistema utilitza els mòduls <tt/esp/ o el <tt/glogicpti/ per 
	  accedir als vostres discs, necessitareu incloure eixe mòdul al fitxer
          <file>/etc/initramfs-tools/modules</file> i tornar a generar l'initrd
	  abans de reiniciar el vostre sistema. L'initrd es pot tornar a generar utilitzant:
          <example>
# update-initramfs -u -k all
          </example></p>
        </sect1>
]]>

<![ %hppa [
        <sect1 id="missingdrivers"><heading>Possible manca de controladors a l'initrd</heading>
          <p>Els nuclis de  &releasename; no tenen suport complet del sysfs pel bus natiu de l'HP.
	  L'<package/initramfs-tools/ l'utilitza per incloure els controladors de disc a
	  l'initrd. Si el controlador no s'inclou a l'initrd, el sistema podria fallar a 
	  l'arrencar.
	  <p>Si el vostre sistema utilitza els mòduls <tt/lasi700/ o <tt/zalon7xx/ per accedir
	  als discs durs, necessitareu incloure eixe mòdul al fitxer
          <file>/etc/initramfs-tools/modules</file> i tornar a generar l'initrd abans de
	  reiniciar el vostre sistema. L'initrd es pot tornar a generar utilitzant:
          <example>
# update-initramfs -u -k all
          </example></p>
]]>

<![ %i386-amd64 [
        <sect1 id="rerunlilo"><heading>Tornar a executar lilo</heading>

          <p>Si utilitzeu el <package/lilo/ com a carregador d'arrencada (és el 
	  carregador per defecte d'algunes instal·lacions de &oldreleasename;) es 
	  recomana que torneu a executar <prgn>lilo</prgn> després de l'actualització:
          <example>
# /sbin/lilo
          </example></p>

          <p>Adoneu-vos que açò és necessari encara que no actualitzeu el vostre nucli,
	  ja que la segona etapa del <prgn>lilo</prgn> canvia degut a l'actualització del paquet.</p>

          <p>A més, hauríeu de revisar els continguts del vostre <file>/etc/kernel-img.conf</file> 
	  per assegurar-vos que teniu <em>do_bootloader = Yes</em>. D'aquesta manera
	  s'executarà sempre el carregador d'arrencada després d'una actualització del
	  nucli.
          </p>

          <p>Si trobeu qualsevol problema quan s'executa <prgn/lilo/, reviseu els
	  enllaços simbòlics a <file>/</file> a <file>vmlinuz</file> i
	  <file>initrd</file>, així com els continguts del fitxer
          <file>/etc/lilo.conf</file> per trobar discrepàncies.</p>

          <p>Si oblideu tornar a executar el <prgn/lilo/ abans de reiniciar o
	  si s'ha reiniciat abans de fer-ho manualment, el
	  sistema podria no arrencar. En comptes del prompt del lilo, voreu tan
	  sols <em/LI/ quan arranqueu el sistema<footnote>Per obtenir més informació 
	  dels codis d'error a l'arrancada del <prgn/lilo/ vegeu <url
	  id="http://tldp.org/HOWTO/Bootdisk-HOWTO/a1483.html" name="The Linux
	  Bootdisk HOWTO">.</footnote>. Vegeu <ref id="recovery"> per a més
	  informació de com fer-ho.</p>

        </sect1>
]]>
 
<![ %s390 [
	<sect1 id="s390-config"><heading>Configuració de maquinari dels S/390</heading>

	  <p>No tot el maquinari dels S/390 es pot configurar automàticament.
	  Als nuclis de &releasename; hi ha una nova eina anomenada
	  <package/sysconfig-hardware/ que s'utilitza per configurar els dispositius
	  correctament. Malauradament, la documentació d'aquesta utilitat i els
	  seus fitxers de configuració encara no està disponible. Els fitxers de
	  configuració de <package/sysconfig-hardware/ es troben a
	  <file>/etc/sysconfig/</file>.</p>

	  <p>En concret, si actualment esteu utilitzant un nucli 2.4, escriure
	  el fitxer de configuració adequat pot suposar tot un repte. Si necessiteu
	  ajuda, esteu convidats a posar-vos en contacte amb <url
	  id="http://lists.debian.org/debian-s390"
	  name="la llista de correu Debian S/390">.</p>

	  <p>En primer lloc, instal·leu l'eina i regenereu l'initrd, ja que 
	  es proporcionen una sèrie d'scripts que s'han d'incloure en aquest:
	  <example>
# aptitude install sysconfig-hardware
# update-initramfs -u -k all
	  </example></p>

	<sect2 id="s390-dasd"><heading>Configuració del disc</heading>

	  <p>Això es fa modificant el fitxer <file>/etc/zipl.conf</file>. L'eina
	  sysconfig pot utilitzar el camí al dispositiu arrel per activar-lo;
	  això vol dir que aquest camí s'ha de passar entre els paràmetres
	  d'arrencada del nucli. Per a un dasd regular, s'hauria de formar tal
	  i com es mostra a continuació:
	  <example>
&lt;bus&gt;-&lt;device&gt;
	  </example>

	  Pel paràmetre <tt/root/, la partició s'ha d'incloure en el camí. Per 
	  tant, si el vostre dasda és <tt/0.0.0122/, en lloc de
	  <file>root=/dev/dasda1</file> hauríeu d'incloure el següent a la
	  línia <tt/parameters/ de <tt>/etc/zipl.conf</tt>:
	  <example>
root=/dev/disks/by-path/ccw-0.0.0122-part1
	  </example>

	  O, alternativament, podeu utilitzar el paràmetre <tt/enable/ per
	  especificar el dispositiu que s'ha d'activar; en aquest cas la
	  partició:
	  <example>
root=/dev/dasda1 enable=ccw-0.0.0122
	  </example>

	  Els camins a utilitzar poden variar segons el dispositiu. Per 
	  exemple, per discs en un adaptador de fibra òptica zFCP, el camí
	  està format per bus, dispositiu, controlador, wwpn i lun. Els paràmetres
	  per un RAID1 serien quelcom semblant al següent (en una sola línia):
	  <example>
root=/dev/md0 enable=ccw-0.0.2900-zfcp-0x21000020371c93a5:0
enable=ccw-0.0.2900-zfcp-0x21000020371d8f94:0
	  </example></p>

	  <p>Altres dispositius dasd (els dasd que no siguin necessaris per
	  arrencar el sistema de fitxers arrel) s'activen mitjançant els
	  fitxers de configuració que hi ha a
	  <file>/etc/sysconfig/hardware/</file>. Per a dasd regulars, només
	  heu de crear un fitxer amb el nom del camí del dispositiu:
	  <example>
# cd /etc/sysconfig/hardware
# touch config-ccw-0.0.0122
	  </example>

	  Per a discs en un adaptador de fibra òptica zFCP, els 
	  dispositius individuals es llisten dins el fitxers. Utilitzant el mateix
	  exemple que abans, creeu un fitxer <file/config-ccw-0.0.2900/ que
	  contingui (el segon dispositiu s'ha truncat per facilitar
	  la lectura):
	  <example>
ZFCP_DEVICES=(0x21000020371c93a5:0x0000000000000000 0x2100...:0x...)
	  </example></p>

	</sect2>
	<sect2 id="s390-other"><heading>Configuració dels dispositius de xarxa</heading>

	  <p>Els dispositius de xarxa s'activen mitjançant els fitxers de
	  configuració a <file>/etc/sysconfig/hardware/</file>. Per a un
	  dispositiu de xarxa ctc amb canal de lectura <tt/0.0.0a00/ i canal
	  d'escriptura <tt/0.0.0a01/, utilitzant el protocol S/390, hauríeu
	  de crear un fitxer <file/config-ccw-0.0.0a00/:
	  <example>
CCWGROUP_CHANS=(0.0.0a00 0.0.0a01)
CTC_PROTOCOL=0
	  </example>

	  Per a una dispositiu de xarxa qeth amb el mode layer2 activat, el fitxer
	  <file/config-ccw-0.0.0600/ podria ser tal i com es mostra a continuació:
	  <example>
CCWGROUP_CHANS=(0.0.0600 0.0.0601 0.0.0602)
QETH_OPTIONS=(layer2)
	  </example></p>

	  <p>Les opcions permeses dels dispositius ctc són: <tt/CTC_PROTOCOL/ i
	  <tt/CTC_BUFFER/; i per a qeth: <tt/QETH_PORTNAME/, <tt/QETH_PORTNO/ i 
	  <tt/QETH_OPTIONS/.</p>
	  <p>Com els dispositius de xarxa a S/390 no tenen una adreça MAC estable,
	  no és possible disposar d'un nom persistent amb <package/udev/. En comptes
	  d'això, podeu afegir l'opció <tt/INTERFACE_NAME/ al fitxer de configuració
	  per canviar el nom de la interfície.</p>

	</sect2>
	</sect1>
]]>

        <sect1 id="mdadm"><heading>Actualització de mdadm</heading>

         <p>A partir d'ara el mdadm necessita un fitxer de configuració,
	 per acoblar les línies MD (RAID) des del ramdisk inicial a la 
	 seqüència d'arrencada del sistema. Assegureu-vos de llegir i seguir 
	 les instruccions que trobareu a 
	 <file>/usr/share/doc/mdadm/README.upgrading-2.5.3.gz</file>
	 després d'haver actualitzat i <strong>abans de reiniciar</strong>.
	 La última versió d'aquest fitxer la podeu trobar a
         <url id="http://svn.debian.org/wsvn/pkg-mdadm/mdadm/trunk/debian/README.upgrading-2.5.3?op=file">;
         consulteu-ho si trobeu algun problema.</p>

        </sect1>
        </sect>

        <sect id="for_next"><heading>Preparar-se pel proper llançament</heading>

          <p>Després d'actualitzar, hi ha diverses coses que hauríeu de
          preparar pel nou llançament.</p>

          <p><list>

          <item><p>Si utilitzeu <prgn/grub/, editeu
          <file>/etc/kernel-img.conf</file> i ajusteu la ubicació del programa
          <prgn/update-grub/, canviant <file>/sbin/update-grub</file> per
          <file>/usr/sbin/update-grub</file>.</p>

          <item><p>Si el nou metapaquet de la imatge del nucli ja s'ha 
          instal·lat com a dependència d'un altre anterior, es marcarà
          automàticament com a instal·lat, però s'hauria de corregir:
<example>
# aptitude unmarkauto $(dpkg-query -W 'linux-image-2.6-*' | cut -f1)
</example>
</p>
        <item><p>Esborreu els metapaquets d'&oldreleasename; executant:
<example>
# aptitude purge kernel-image-2.6-&lt;flavor&gt;
</example>
</p>

        <item><p>Mogueu qualsevol valor de configuració del nucli de
        <file>/etc/network/options</file> a <file>/etc/sysctl.conf</file>.</p>

        <item><p>Esborreu els paquets obsolets o que no s'utilitzen, tal i com
        es descriu a <ref id="obsolete">. Hauríeu de revisar quins fitxers de
        configuració utilitzant i esborrar completament els paquets si s'escau.
        </p>

        </list></p>

        </sect>

        <sect id="obsolete"><heading>Paquets obsolets</heading>

<!-- JFS: Providing a full listing might be useful, especially if we can
point to the Bug that was opened when the bug was removed. This list should
be moved to an appendix, instead of adding it inline as we did in the
potato to woody RN -->

         <p>A part d'introduir milers de paquets nous, &releasename;
	 també retira i omet més de dos mil paquets antics que eren a
	 &oldreleasename;. No es proporciona una forma d'actualització per aquests
	 paquets obsolets. Tot i que res no impedeix que continueu utilitzant
	 els paquets obsolets si ho desitgeu, el projecte Debian normalment
	 interromp el suport de seguretat per a aquests paquets al cap d'un
	 any des del llançament
	 de &releasename;<footnote>O mentre no hi hagi un altre
	 llançament en aquesta franja de temps. Normalment només donem
	 suport per dos distribucions estables simultàniament.</footnote>, i 
	 tampoc es donarà cap altra mena de suport durant aquest temps.
         Es recomana, si n'hi ha, que els
	 reemplaceu per les alternatives de què es dispose.</p>

         <p>Hi ha diverses raons per les quals alguns paquets s'esborren
	 de la distribució: ja no els mantenen els desenvolupadors; no hi ha
	 cap desenvolupador de Debian interessat a mantenir-los; la 
	 funcionalitat que donen s'ha vist reemplaçada per alguns programes
	 nous (o versions noves); o bé s'ha considerat que no és adequat per a
	 &releasename; a causa de les errades que conté. En aquest darrer cas, 
	 els paquets encara els podríeu trobar a la distribució «unstable»</p>

<!-- (vorlon) FIXME: not true in etch because 'Obsolete and Locally Created 
     Packages' is not the default view AFAICS?
-->
         <p>Detectar quins paquets són «obsolets» en un sistema actualitzat
	 és fàcil ja que els frontals de gestió de paquets els marquen com
	 a tals. Si esteu emprant l'<prgn>aptitude</prgn>, podeu veure una
	 llista d'eixos paquets a l'entrada «Paquets obsolets i creats
	 localment». El <prgn>dselect</prgn> dóna una secció semblant
	 però la llista que es mostra pot ser diferent. A més, si heu
	 utilitzat l'<prgn>aptitude</prgn> per instal·lar manualment paquets
	 a &oldreleasename; haurà mantingut una pista d'aquells paquets que heu
	 instal·lat manualment i podrà marcar com a obsolets els
	 paquets que han estat introduïts per dependència únicament i no 
	 calen si un paquet ha estat esborrat. A més, l'<prgn>aptitude</prgn>,
	 a diferència del <prgn>deborphan</prgn>, no marcarà com a obsolets els
	 paquets que heu instal·lat manualment, a diferència d'aquells que
	 s'han instal·lat automàticament com a dependències.</p>

<!-- (vorlon) FIXME: AIUI, cruft is not useful for this? -->
         <p>Hi ha eines addicionals que podeu fer servir per a trobar paquets
	 obsolets, com el <prgn>deborphan</prgn>, el <prgn>debfoster</prgn> o
         el <prgn>cruft</prgn>. És molt recomanable el <prgn>deborphan</prgn>,
	 encara que (en el seu mode per defecte) tan sols informarà sobre
	 biblioteques obsoletes: els paquets de les seccions «libs» o «oldlibs»
	 que no utilitzen cap altre paquet. No esborreu a cegues els paquets
	 que suggereixen aquestes eines, especialment si esteu emprant opcions
	 no per defecte que pugin produir falsos positius. Es recomanable
	 que reviseu manualment els paquets suggerits per esborrar (p.ex.
	 els continguts, la mida i la descripció) abans d'esborrar-los.</p>

<!-- JFS: Should we recommend purging old packages? This might be
dangerous since the maintainer scripts might try to remove stuff that
didn't belong to them... -->

         <p>El <url id="&url-bts;" name="Sistema de seguiment d'errors de 
	 Debian"> sovint dóna informació addicional de per què els paquets
	 es van esborrar. Hauríeu de revisar els informes d'error del paquet
	 i els informes d'error arxivats pel <url
         id="&url-bts;cgi-bin/pkgreport.cgi?pkg=ftp.debian.org&#38;archive=yes"
         name="pseudo-paquet ftp.debian.org">.</p>

        <sect1 id="dummy"><heading>Paquets ficticis</heading>

<!-- JFS: If the appendix is kept this section should point there and the packages described here should be moved to that section -->

         <p>Alguns dels paquets de &oldreleasename, s'han dividit en diversos
	 paquets a &releasename;, sovint per facilitar les tasques de manteniment
	 del sistema. Per facilitar la forma d'actualització en aquests casos, 
	 &releasename; ofereix paquets «ficticis»: són paquets buits que tenen 
	 el mateix nom que el paquet vell a &oldreleasename; amb dependències
	 que fan que s'instal·le el nou paquet. Aquests paquets «ficticis»
	 són considerats obsolets després de l'actualització, i es poden
	 esborrar amb seguretat.

         <p>La major part (però no totes) de les descripcions dels paquets 
	 ficticis indiquen el seu propòsit. Les descripcions d'aquests
	 paquets no són uniformes, però l'opció  <tt>--guess</tt> 
	 del <prgn>deborphan</prgn> pot ser útil per detectar-los al vostre sistema.
         Tingueu en compte que alguns paquets ficticis no estan pensats per a ser
	 eliminats després d'una actualització, sinó que s'utilitzen per a fer
	 el seguiment de les versions disponibles del programa al llarg del 
	 temps.</p>

        </sect1>
        </sect>
      </chapt>

<!-- FJP: Add more info here on dealing with obsolete packages?
          Also how to purge packages that were deleted but still have conffiles
          (use "limit" command in aptitude and search for ~c) -->

        <chapt id="information">
        <heading>Consideracions en relació a &releasename;</heading>

        <sect id="problems"><heading>Possibles problemes</heading>
          <p>De vegades, els canvis tenen efectes col·laterals que no es
	  poden evitar fàcilment sense exposar-se a errors en alguna altra banda.
	  A continuació es documenten diversos aspectes problemàtics que
	  cal tenir en compte. Llegiu també les errates, la documentació dels 
	  paquets importants, els informes d'error i la informació esmentada a 
	  l'apartat <ref id="morereading">.
          </p>

          <sect1 id="udev"><heading>Problemes amb dispositius relacionats amb udev</heading>
          <p>Encara que s'ha provat <package/udev/ àmpliament, és possible que
			 experimenteu problemes menors amb alguns dispositius. El problema
			 més habitual és trobar-se amb els permisos i/o propietaris d'un dispositiu canviats.
			 En alguns casos, també pot passar que un dispositiu no es s'hagi creat
			 per defecte (p.ex. <file>/dev/video</file> i <file>/dev/radio</file>).</p>

          <p><package/udev/ proporciona mecanismes de configuració per tractar
			 amb aquests problemes. Vegeu <manref name="udev" section="8"> i 
			 <file>/etc/udev</file> per a més informació.</p>
          </sect1>

<![ %defaulted-2.4 [
          <sect1 id="incompatible-2.4">
          <heading>Aplicacions incompatibles amb nuclis 2.4</heading>
          <p>Certes aplicacions a &releasename; poden deixar de funcionar amb
			 un nucli 2.4. Per exemple, poden requerir suport per a <tt/epoll()/,
			 que no està disponible en nuclis d'aquesta sèrie. Aquestes
			 aplicacions poden no funcionar, o no funcionar correctament fins que
			 es torni a arrencar amb un nucli 2.6.</p>
          <p>Un exemple d'aquest problema és el proxy HTTP <package/squid/.</p>
          </sect1>
]]>

          <sect1 id="window-scaling"><heading>Alguns llocs de la xarxa són
	  inaccessibles amb TCP</heading>
          <p>
          Des del 2.6.17, Linux fa un ús agressiu de l'escalat de finestra TCP,
	  tal com s'especifica l'RFC 1323. Alguns servidors
	  tenen un comportament erroni, i anuncien de forma incorrecta la
	  mida de la finestra per ells mateixos. Vegeu els informes d'error
          <url id="http://bugs.debian.org/381262" name="#381262"> i
          <url id="http://bugs.debian.org/395066" name="#395066">
          si voleu més informació.
          </p>
          </sect1>

<![ %i386 [
          <sect1 id="poweroff"><heading>L'apagat automàtic no funciona</heading>
          <p>
          En alguns sistemes antics, el <tt>shutdown -h</tt> podria no 
	  apagar-los (tan sols els aturarà). Açò passa perquè cal utilitzar
	  l'apm. Afegint <tt>acpi=off apm=power_off</tt> a la línia d'ordres
	  del nucli, p.ex. amb el fitxer de configuració de <package/grub/ o de 
	  <package/lilo/, solucionarà el problema.
          Llegiu l'informe d'error 
          <url id="http://bugs.debian.org/390547" name="#390547">
          per obtenir més informació.
          </p>
          </sect1>
]]>

<!-- JFS: Bug #376158 -->
          <sect1 id="apt-pdiff"><heading>Actualitzacions més lentes dels fitxers d'índex de l'APT</heading>
          <p>Per defecte, a la versió de l'<prgn>apt</prgn> que hi ha &releasename;
			 s'utilitza un nou mecanisme d'actualització dels fitxers d'índex
			 dels paquets (quan executeu <tt/aptitude update/), que descarrega
			 uns fitxers de diferències (en comptes dels fitxers índex sencers)
			 anomenats <tt/pdiff/. Aquesta nova característica hauria d'utilitzar
			 menys ample de banda i ser més ràpida en la majoria de sistemes.
			 Malauradament, també pot tenir l'efecte contrari, fent
			 les actualitzacions més lentes en sistemes amb connexions de xarxa
			 ràpides (o molt properes a una rèplica) i que s'actualitzin amb molt
			 poca freqüència, ja que pot trigar més temps en unir les diferències
			 que en descarregar l'índex sencer. És possible desactivar aquesta
			 opció afegint <tt>Acquire::Pdiffs "false";</tt> al fitxer de 
			 configuració <file>/etc/apt/apt.conf</file>.</p>
<!-- For more info, see thread "These new diffs are great, but...", d-devel, july 2006 -->

          <p>Aquest canvi afecta principalment als usuaris de les branques 
			 <em/unstable/ i <em/testing/ de &debian;, degut a la natura canviant
			 d'aquests arxius. Als usuaris de &releasename; només els afectarà
			 aquesta opció en actualitzar l'estat de l'arxiu de seguretat.</p>
			 
          </sect1>

<![ %i386 [
          <sect1 id="hp-acpi"><heading>El suport ACPI està inhabilitat en alguns models de portàtil HP amb els nuclis de &releasename;</heading>
          <p>
          Alguns models de portàtil HP tenen una BIOS ACPI que és incompatible amb el
	  nucli de Linux 2.6.18 que hi ha a &releasename; que impedeix que els 
	  ventiladors es posin en marxa per no escalfar-se innecessàriament. A més,
	  els ventiladors tampoc haurien d'estar en marxa després de suspendre el sistema.
	  Per això, el nucli desactiva el suport de l'ACPI internament
	  quan detecta certes versions de BIOS ACPI. Entre models coneguts
	  afectats per aquest canvi s'inclouen els HP nx6126, nx6120, nx6325, nc6120 i
	  nc6000.
	  </p>
	  <p>
	  Els usuaris que necessiten suport ACPI en aquests sistemes poden instal·lar
	  un nucli de Linux 2.6.19 o posterior. Vegeu els errors
          <url id="http://bugs.debian.org/404143" name="#404143"> i
          <url id="http://bugs.debian.org/400488" name="#400488">,
	  i els errors del nucli de Linux
          <url id="http://bugzilla.kernel.org/show_bug.cgi?id=5534" name="#5534">
          i
          <url id="http://bugzilla.kernel.org/show_bug.cgi?id=7122" name="#7122">
	  per obtenir més informació.
          </p>
          </sect1>
]]>

	  <sect1 id="asynchronous-network-start"><heading>La inicialització asíncrona de la xarxa és impredictible</heading>
	  <p>En sistemes que utilitzen <package/udev/ per carregar els controladors
	  de les interfícies de xarxa, és possible que, degut a problemes 
	  relacionats amb el comportament asíncron de <package/udev/, el
	  controlador de xarxa no es carregui abans de l'execució de
	  <prgn>/etc/init.d/networking</prgn> durant l'arrencada. Encara que
	  incloure <tt/allow-hotplug/ a <file>/etc/network/interfaces</file>
	  (a més a més de <tt/auto/) assegurarà que la interfície de xarxa
	  estigui activa tan aviat com estigui disponible, no es garanteix
	  que aquest procés acabi abans que la seqüència d'arrencada comenci
	  a iniciar els serveis de xarxa, alguns dels quals poden no comportar-se
	  correctament en l'absència de la interfície de xarxa.</p>

	  </sect1>

<![ %not-s390 [
	  <sect1 id="wpa"><heading>Problemes en utilitzar xarxes sense fils basades en WPA</heading>
	  <p>A &oldreleasename;, el paquet <package/wpasupplicant/ funcionava
	  com a servei del sistema, i es configurava mitjançant
	  <file>/etc/default/wpasupplicant</file> i el fitxer de configuració
	  <file>/etc/wpasupplicant.conf</file>.</p>

	  <p>A &releasename;, <file>/etc/init.d/wpasupplicant</file> s'ha 
	  descartat, i el paquet Debian ara s'integra amb
	  <file>/etc/network/interfaces</file>, de forma similar a com ho fan
	  altres paquets com <package/wireless-tools/. Això significa que
	  <package/wpasupplicant/ ja no proporciona un servei directament.</p>

	  <p>Per a més informació pel que fa a la configuració de wpasupplicant,
	  si us plau referiu-vos a
	  <file>/usr/share/doc/wpasupplicant/README.modes.gz</file>, que també
	  conté exemples de fitxers <file>/etc/network/interfaces</file>.
	  Podeu trobar informació actualitzada quant al funcionament de 
	  <package/wpasupplicant/ a Debian a <url id="http://wiki.debian.org/WPA"
	  name="la pàgina del Wiki">.</p>
	  </sect1>
]]>

          <sect1 id="partitionenc"><heading>Problemes amb caràcters no ASCII al nom dels fitxers</heading>
	  <p>
	  Muntar sistemes de fitxers vfat, ntfs o iso9660 amb fitxers que
	  continguin caràcters no ASCII al seu nom pot provocar fallades
	  quan s'intenta accedir a aquests fitxers, a menys que es muntin
	  amb l'opció utf8. Un indicador d'aquest tipus de problema pot ser
	  l'error següent: 'Caràcter multibyte o ampliat invàlid o incomplet'. 
	  Una possible solució és utilitzar <tt>defaults,utf8</tt> com a 
	  opcions per a sistemes de fitxers vfat, ntfs i iso9660 quan
	  continguin aquest tipus de caràcters.
	  </p>
	  <p>Fixeu-vos que el nucli Linux no suporta noms de fitxers que no
	  distingeixin entre majúscules i minúscules en sistemes de fitxers
	  vfat quan s'utilitza <tt>utf8</tt>.</p>
	  </sect1>

<![ %amd64 [
	  <sect1 id="nvidia-iommu"><heading>Corrupció de dades amb IOMMU en xips Nvidia</heading>
	  <p>Un problema que s'ha identificat en sistemes &arch-title; amb xips
	  Nvidia i més de 3GiB de RAM provoca corrupció de dades esporàdicament
	  quan s'utilitza IOMMU per maquinari. Aquest problema encara està sent
	  investigat pels desenvolupadors del nucli Linux i els fabricants
	  del maquinari, i fins i tot ha aparegut una solució no oficial. Per
	  protegir la integritat de les dades, els usuaris d'aquests sistemes
	  haurien de desactivar manualment l'ús de IOMMU per maquinari en el
	  moment d'arrencar, tot i afegint <tt>iommu=soft</tt> a les opcions
	  d'arrencada del nucli.</p>

          <p>Hi ha més informació quant a aquest problema a l'informe d'error 
          <url id="http://bugs.debian.org/404148" name="#404148"> de Debian i
          al respectiu informe del nucli Linux,
          <url id="http://bugzilla.kernel.org/show_bug.cgi?id=7768" name="#7768">.</p>
	  </sect1>
]]>
        </sect>

<!-- Controversial, disabled for now, please translate though
        <sect id="german-quotes"><heading>Problems with German Quotes</heading>

          <p>The locales for German style languages (e.g. de_DE@euro)
          unfortunately use an aesthetically unpleasing way of representing
          open quotation marks.  We have retained it this way in order to
          preserve compatibility with other Linux distributions, and we hope
          that in the future it will be fixed. We suggest that you switch to a
          UTF-8 locale (e.g. de_DE@euro.UTF-8), which fully supports German with
          the correct quotation marks, and, using Unicode encoding, has better
          support for other languages as well.</p>

          <p>To change the system wide locale choice, use:
          <example>dpkg-reconfigure locales</example></p>
        </sect>
-->  
<!--   Will be added if relevant information is written here
        <sect id="syntax"><heading>Important program syntax changes</heading>

          <p>Debian attempts to avoid changing upstream packages, therefore
          any changes in the upstream package will be present in the version in
          &debian;. This can mean that program behaviour may change between
          releases of &debian;. </p>

          <p><em>No changes yet reported.</em></p>

        </sect>
-->

<![ %defaulted-2.4 [
        <sect id="upgrade-to-2.6">
        <heading>Actualització a un nucli 2.6</heading>

	  <p>Els nuclis de la sèrie 2.6 contenen grans canvis respecte dels de la 
	  sèrie 2.4. Alguns mòduls han canviat de nom i molts controladors han 
	  estat parcialment o gairebé completament reescrits. Actualitzar a un 
	  nucli 2.6 des d'una versió anterior no és, doncs, un procés per 
	  prendre's a la lleugera. En aquesta secció tractarem d'avisar-vos 
	  d'algunes de les dificultats que podeu trobar-vos.</p>

          <p>Si compileu el vostre nucli des de les fonts, assegureu-vos 
	  d'instal·lar <package/module-init-tools/ abans de reiniciar amb el 
	  nucli 2.6. Aquest paquet reemplaça <package/modutils/ per als nuclis 2.6.
	  Si instal·leu un dels paquets de Debian <package/linux-image/, 
	  s'instal·larà aquest paquet de forma automàtica gràcies a les 
	  dependències.</p>

          <p>Si utilitzeu <em/LVM/, heu d'instal·lar l'<package/lvm2/
	  abans de reiniciar, ja que el nucli 2.6 no suporta directament LVM1.
	  Per accedir als volums LVM1, s'empra la capa de compatibilitats de 
	  <package/lvm2/ (el mòdul dm-mod). Podeu deixar instal·lat el
	  <package/lvm10/; els scripts d'inici detectaran quin nucli s'utilitza
	  i executaran la versió apropiada.</p>

          <p>Si teniu entrades al fitxer <file>/etc/modules</file> (la 
	  llista de mòduls que es carregaran durant l'arrencada del sistema), 
	  aneu amb compte, hi ha alguns mòduls que han canviat de nom. Si us 
	  passa açò actualitzeu aquest fitxer amb els noms dels nous mòduls.
	  </p>

<!-- JFS: Can't this device name change even for some other disk controllers? I've found
     references in debian-user posts talking about some strange chipsets and BIOS
     which are seen in sarge' 2.4 as hda and in etch's 2.6 as hdf... -->
<![ %i386 [
          <p>En alguns controladors de disc SATA, el dispositiu assignat
	  a un disc i les seves particions han canviat de <file>/dev/hdX</file>
	  a <file>/dev/sdX</file>. Si us passa açò, modifiqueu el 
	  <file>/etc/fstab</file> i el carregador d'arrencada com 
	  correspongui. Si no es fan aquests canvis, el
	  sistema podria no arrencar correctament<footnote>Arrancarà el nucli però 
	  fallarà quan intente muntar el sistema de fitxers arrel i avortarà l'arrancada
	  amb un error <em>waiting for the root filesystem</em> seguit de
	  <em>unable to mount /dev/hdX ..not found</em>. 
	  Podeu utilitzar l'<prgn/initramfs/ per corregir aquest problema, després
	  d'haver identificat els noms que s'han assignat als dispositius en el nucli
	  als missatges d'arrencada o en el contingut del fitxer
	  <file>/dev/disk</file>.</footnote>.</p>
]]>

<!-- Bug: #416720 -->
<![ %ia64 [
         <p>Els sistemes HP Itanium que porten firmware vell són incompatibles
	 amb el nucli 2.6 de &releasename;. Açò vol dir que s'hauria d'actualitzar
	 el vostre sistema a l'últim firmware abans d'actualitzar el nucli. Es
	 recomana que ho feu abans d'actualitzar els sistema, ja que si ja esteu
	 executant un nucli 2.6, automàticament baixarà l'últim nucli 
	 quan s'actualitze la resta del sistema (vegeu <ref
	 id="upgrading_other">). Fallar en aquest detall donarà com a resultat
	 que el vostre sistema no arranque.</p>
]]>

          <p>Una vegada instal·lat el nucli 2.6, però abans de 
	  reiniciar, assegureu-vos que disposeu d'algun mètode de recuperació. 
	  Primer assegureu-vos que la configuració del carregador té les entrades 
	  per als dos nuclis, el nou i el vell, el nucli 2.4. Assegureu-vos també 
	  que teniu un disquet de rescat o un CD-ROM a mà, no fos cas que
	  un error a la configuració no us deixés arrencar amb el nucli antic.</p>

<![ %not-s390 [
        <sect1 id="2.6-keyboard">
        <heading>Configuració del teclat</heading>

          <p>Un dels canvis més invasius en els nuclis 2.6 és un canvi fonamental
	  en la capa d'entrada. Aquest canvi fa que tots els teclats semblin
	  teclats de PC «normals». Açò vol dir que si actualment teniu seleccionat
	  un teclat d'un altre tipus (p.ex. un USB-MAC o un teclat Sun),
	  molt probablement en reiniciar el sistema amb el nou nucli 2.6 el
	  vostre teclat deixi de funcionar.</p>

          <p>Si podeu accedir al sistema via SSH des d'una altra màquina, podreu 
	  resoldre aquest problema executant 
	  <tt>dpkg-reconfigure console-data</tt>, escollint l'opció
	  «Seleccioneu un teclat de la llista completa» i seleccionant un
	  teclat «pc».</p>

          <p>Si el teclat de la consola està afectat, probablement també
	  caldrà reconfigurar el teclat per al sistema X Window.
          Podeu fer açò o bé executant <tt>dpkg-reconfigure 
	  xserver-xorg</tt>, o bé editant el <file>/etc/X11/xorg.conf</file>
	  directament. No us oblideu de llegir la documentació que trobareu a
	  <ref id="nownownow">.</p>

<![ %i386 [
          <p>És poc probable que aquest problema afecte l'arquitectura
	  &arch-title; ja que tots els teclats PS/2 i USB ja estaran 
	  configurats com a teclats PC «normals».</p>
]]>
<![ %not-i386 [
          <p>Tingueu en compte que si esteu utilitzant un teclat USB, podria 
	  estar configurat o bé com un teclat de PC «normal» o com un USB-MAC. En
	  el primer cas aquest problema no us afectarà.</p>
]]>
        </sect1>

        <sect1 id="2.6-mouse">
        <heading>Configuració del ratolí</heading>

          <p>De forma similar, a causa dels canvis en la capa d'entrada, potser haureu de
	  reconfigurar el sistema X Window i el <package/gpm/ si el
	  ratolí no funciona després d'actualitzar a un nucli 2.6. La causa
	  més probable és que el dispositiu que obté les dades des del 
	  ratolí hagi canviat. Potser caldrà carregar uns mòduls 
	  diferents.</p>

<![ %sparc [
          <p>Si en aquest moment teniu configurades les X per al 
	  <file>/dev/sunmouse</file>, probablement haureu de canviar-ho a
	  <file>/dev/psaux</file>.</p>
]]>

        </sect1>

<!-- FIXME: should be udev now? (vorlon) -->
        <sect1 id="2.6-sound">
        <heading>Configuració de l'àudio</heading>

          <p>Als nuclis de la sèrie 2.6 es recomana utilitzar els controladors de 
	  so ALSA, en lloc dels antics controladors de so OSS. Els controladors de
	  so ALSA es trien per defecte. Per fer funcionar el so, cal
	  carregar els mòduls ALSA escaients. En general açò es farà de forma
	  automàtica si teniu instal·lat, a més a més del paquet 
	  <package>alsa-base</package>, el paquet <package>hotplug</package>
	  o el <package>discover</package>.
	  
          El paquet <package>alsa-base</package> també afegeix els mòduls
	   al «blacklists» (llistes negres) per evitar que el <prgn>hotplug</prgn> i el 
          <prgn>discover</prgn> els carreguen. Si teniu mòduls OSS
	  al fitxer <file>/etc/modules</file>, esborreu-los.</p>

        </sect1>
]]> <!-- %not-s390 -->
        </sect>
]]> <!-- %defaulted-2.4 -->

      <sect id="xorg"> <heading>Transició d'XFree86 a X.Org</heading>
        <p>La transició a X.Org comporta canvis estructurals. En cas que
	tots els paquets estiguin instal·lats des de Debian i que estiguin 
	a &releasename;, l'actualització hauria de funcionar sense problemes.
	L'experiència ens diu que hi ha uns quants canvis dels que s'ha de 
	ser conscient, ja que poden causar problemes a l'actualització.</p>

        <p>El canvi més important és que el directori
	<file>/usr/X11R6/bin</file> s'ha eliminat i s'ha convertit en un
	enllaç simbòlic a <file>/usr/bin</file>.
	Açò vol dir que el directori ha d'estar buit en el moment que
	s'instal·len nous paquets.
        Els paquets nous entren en conflicte amb la majoria de paquets que
	utilitzen <file>/usr/X11R6/bin</file>, però en alguns casos cal alguna
	interacció manual.
	Sobretot, recordeu no fer l'actualització del sistema des d'una 
	sessió X.</p>
        
	<p>En el cas que l'actualització quede avortada durant la instal·lació
	d'X.org, hauríeu de comprovar si queda encara algun fitxer a
        <file>/usr/X11R6/bin</file>.
        Podeu emprar <tt>dpkg -S</tt> per trobar a quins paquets de 
	Debian pertanyen aquests fitxers (si n'hi ha cap), i desinstal·lar eixe
	paquet amb 
        <prgn>dpkg --remove</prgn>. Apunteu els paquets que esborreu,
	de forma que pugueu instal·lar posteriorment els paquets de substitució.
	Abans de continuar amb la instal·lació, s'han d'esborrar tots els fitxers de
        <file>/usr/X11R6/bin</file>.</p>

        <p>Vegeu la pàgina <url id="http://wiki.debian.org/Xorg69To7">
	per obtenir més detalls i altres qüestions.</p>

      </sect>

<!-- JFS: Bug #406300 -->
      <sect id="xorg-8bit"><heading>Manca de suport per a pantalles de 8 bits en moltes aplicacions</heading>

      <p>Després d'actualitzar a les darreres versions d'Xorg i a les seves
		corresponents biblioteques, els terminals X que només puguin representar
		colors de 8 bits de profunditat no funcionaran. Això és degut a que la
		biblioteca gràfica vectorial Cairo 2D (<package/libcairo2/) no 
		té suport per a pseudocolors de 8 bits. Aquesta biblioteca s'utilitza
		en els escriptoris GNOME i Xfce, així com en moltes altres aplicacions
		basades en Gtk2+, com ara <package/abiword/.</p>

<!-- TODO: make this arch-specific ? This applies to remote terminals, so
     it might not make sense to make it arch-specific ... -->
<!-- Specific models mentioned in freedeskop's BTS, might not be complete:
     - Tektronix XP117C X terminal,
     - NCD: 19r X11, 256 color X terminal
     - IBM: Netstation
     - SUN: Ultra 10, Ultra 5, Ultra 60 (Solaris 8 with Xsun)
     - SGI: Octane
--> 
      <p>Sistemes coneguts als que afecta aquest problema inclouen
		algunes màquines SUN i terminals X de Tektronix, NCD, IBM i SGI,
		així com d'altres terminals remots d'X. Si és possible, configureu
		aquests terminals per utilitzar colors de 16 bits.

      <p>Hi ha més informació disponible a <url
		id="https://bugs.freedesktop.org/show_bug.cgi?id=4945"
		name="l'informe d'error #4945"> de Freedesktop.</p>

      </sect>

      <sect id="exim"> <heading>Actualització des d'exim 3 a exim4</heading>
      <p>
      Un dels paquets que ha quedat obsolet amb el llançament d'&releasename; és
      l'agent de transferència de Correu (MTA) <package/exim/, que ha estat completament
      reemplaçat pel nou paquet <package/exim4/.</p>

      <p>L'<package/exim/ (versió 3.xx) ha romàs sense manteniment extern per part dels 
      seus desenvolupadors durant anys, i Debian també l'ha abandonat.
      Si encara esteu utilitzant <package/exim/ 3.xx, actualitzeu la vostra instal·lació 
      de l'<package/exim/ a <package/exim4/ manualment.
      Com que l'<package/exim4/ forma part de &oldreleasename;, podeu escollir
      fer l'actualització al vostre sistema &oldreleasename; abans de fer 
      l'actualització a &releasename;, o després de l'actualització d'&releasename;, 
      si us convé. Recordeu que l'exim antic no s'actualitzarà i que el 
      manteniment de seguretat no continuarà després que s'abandoni el manteniment 
      de Sarge.</p>

      <p>Fixeu-vos que, depenent de la vostra configuració de <package/debconf/,
		és possible que no se us demani cap pregunta durant la instal·lació
		d'<package/exim4/. Si això és així, la configuració predeterminada serà
		del tipus 'enviament local'. Sempre podeu tornar a configurar-lo utilitzant
		l'ordre <tt/dpkg-reconfigure exim4-config/.</p>

      <p>Els paquets <package/exim4/ a Debian estan molt ben documentats. La pàgina web
      del paquet és <url id="http://wiki.debian.org/PkgExim4"> al Wiki de 
      Debian, i el fitxer README es pot trobar a
      <url id="http://pkg-exim4.alioth.debian.org/README/README.Debian.html"> 
      i també a dins del propi paquet.</p>

      <p>El fitxer README té un capítol que parla sobre l'empaquetat, on 
      s'expliquen les diferents variants de paquets que proporcionem, i té 
      també un capítol que explica com
      actualitzar des de l'<package/exim/ 3, que us ajudarà a fer la transició actual.</p>
<!-- FIXME: update with decisions of (S)RMs might be needed -->
      </sect>

      <sect id="apache2"> <heading>Actualització de l'apache2</heading>
        <p>L'Apache s'ha actualitzat a la nova versió 2.2. En general això
	no hauria de donar problemes a la majoria d'usuaris, però hi ha alguns 
	punts que cal tenir en compte.</p>

        <p><url id="http://httpd.apache.org/docs/2.2/upgrading.html"> conté
	els canvis dels desenvolupadors. Llegiu aquesta pàgina, i recordeu
	especialment que:
        <list>
        <item><p>Cal recompilar tots els mòduls</p></item>
        <item><p>Els mòduls d'autorització han canviat d'ordre i de nom</p></item>
        <item><p>Algunes opcions de configuració han canviat de nom</p></item>
        </list></p>

        <p>Alguns canvis específics per a Debian inclouen que la cadena SSL ha
	deixat d'estar definida per defecte, ja que el protocol SSL actualment
	està suportat pel mateix paquet.</p>

        <p>Si esteu utilitzant el MPM ITK experimental (que es troba al paquet
		  <package/apache2-mpm-itk/), el mòdul CGI no s'activarà correctament
		  per defecte. Per activar-lo com cal, haureu d'inhabilitar manualment
		  el <tt/mod_cgid/ i activar <tt/mod_cgi/:
        <example>
# cd /etc/apache2/mods-enabled
# rm cgid.conf cgid.load
# ln -s ../mods-available/cgi.load .
# /etc/init.d/apache2 force-reload
        </example></p>

      </sect>

      <sect id="zope"> <heading>Actualitzar Zope i Plone</heading>
	<p>Zope i tots els seus productes relacionats s'han actualitzat. Molts
	d'aquests també s'han esborrat de la distribució (ja sigui per que
	han quedat obsolets, o a causa d'incompatibilitats amb els nous Zope,
	CMF o Plone).</p>
	<p>Malauradament, no hi ha cap forma senzilla de garantir l'actualització
	d'un servidor complex com <prgn/zope/ o <prgn/plone/. Encara que
	Plone inclou una eina de migració, l'experiència mostra que les 
	migracions automàtiques fallen fàcilment.</p>

	<p>Per aquest motiu, es recomana que els usuaris configurin el
	sistema de manera que pugui continuar funcionant amb una instal·lació
	&oldreleasename; de Zope/Plone juntament amb les noves versions de
	&releasename; mentre s'està provant la migració.</p>

	<p>La forma més fàcil i segura d'aconseguir-ho és fent una còpia
	del sistema anterior cap a un altre disc dur o partició; aleshores,
	actualitzar només una de les dues còpies. Podeu utilitzar <prgn/chroot/
	per executar la versió &oldreleasename; en paral·lel amb la versió
	&releasename;.</p>

	<p>No és possible tenir instal·lades les anteriors i les noves versions
	de Zope/Plone alhora en un sistema &releasename;, en part degut a que
	les versions més antigues depenen de <package/python2.3/, que no es
	pot instal·lar al mateix temps que <package/python2.4/.</p>

      </sect>

      <sect id="tar"> <heading>Expansió de comodins amb GNU tar</heading>
        <p>Les versions anteriors de GNU <prgn/tar/ assumeixen una expansió
		  a l'estil de l'intèrpret d'ordres quan s'extreuen fitxers d'un
		  llistat o arxiu. Per exemple:
        <example>
tar xf foo.tar '*.c'
        </example>
        extrauria tots els fitxers el nom dels quals acabi en '.c'. Aquest
		  comportament no estava documentat i era incompatible amb les
		  implementacions tradicionals de <prgn/tar/. Per tant, a partir de
		  la versió 1.15.91, GNU <prgn/tar/ ja no segueix per defecte el
		  comportament descrit. Per exemple, la invocació anterior s'interpreta
		  ara com una petició per extreure de l'arxiu el fitxer '*.c'.</p>
        <p>Vegeu <file>/usr/share/doc/tar/NEWS.gz</file> per a més
		  informació.</p>
      </sect>

      <sect id="nis"><heading>NIS i Network Manager</heading>
        <p>La versió de <prgn/ypbind/ inclosa a <package/nis/ per a &releasename;
		  incorpora suport per a Network Manager. Aquest suport fa que
		  <prgn/ypbind/ desactivi la funcionalitat de client NIS quan Network
		  Manager informi que l'usuari s'ha desconnectat.
		  Com Network Manager informarà sovint que l'ordinador està desconnectat
		  si està inactiu, els usuaris de NIS amb sistemes de client NIS haurien
		  d'assegurar-se que el suport per a Network Manager està desactivat en
		  aquests sistemes.</p>
        <p>Això es pot fer desinstal·lant el paquet <package/network-manager/,
        o editant el fitxer <file>/etc/default/nis</file> tot i afegint
		  <tt/-no-dbus/ a <tt/YPBINDARGS/.</p>
        <p>La utilització de <tt/-no-dbus/ és l'opció predeterminada en noves
		  instal·lacions de Debian, però no ho era en versions anteriors.</p>

      <sect id="php-globals"> <heading>Configuracions del PHP desaprovades</heading>
        <p>Des de fa anys, se sap que activar el paràmetre <tt/register_globals/ 
	al PHP pot ser insegur i perillós, i ja fa temps que l'opció està
	desactivada per defecte. Aquesta configuració és considera obsoleta als
	sistemes Debian per massa perillosa. El mateix s'aplica a defectes
	en <tt/safe_mode/ i <tt/open_basedir/, que han estat sense manteniment 
	des de fa temps.</p>
        
        <p>Des d'aquest llançament, l'equip de seguretat no farà cap
	manteniment per a un cert nombre de configuracions PHP que se sap que no són
	segures. Principalment, tots els problemes resultants de tenir activada
	l'opció <tt/register_globals/ no s'abordaran.</p>
        
        <p>Si executeu aplicacions propietàries que requereixen el 
	<tt/register_globals/, activeu-lo només pels seus camins respectius,
	p.ex. utilitzant un fitxer de configuració d'Apache. Teniu més
	informació al fitxer
        <file>README.Debian.security</file>, que es troba al directori de la
	documentació del PHP (<file>/usr/share/doc/php4</file>,
        <file>/usr/share/doc/php5</file>).</p>
      </sect>

<!-- JFS: Bug #400311 -->
      <sect id="mozilla-security"> <heading>Estat de la seguretat dels 
      productes de Mozilla</heading>
        <p>Els programes de Mozilla <package>firefox</package> i <package>thunderbird</package>
	(que sense la marca a Debian són <package>iceweasel</package> i <package>icedove</package> 
	són importants eines per a molts usuaris.
	Malauradament, la política de seguretat dels desenvolupadors és instar a 
	l'actualització de les noves versions desenvolupades, cosa que entra
	en conflicte amb la política de Debian de no fer grans canvis 
	funcionals en una actualització de seguretat. 
	No podem pronosticar-ho avui, però durant el temps de vida de
	&releasename; l'equip de seguretat de Debian podria arribar a un punt
	en què mantenir els productes de Mozilla ja no sigui possible, i 
	podria anunciar la fi del manteniment de seguretat per als seus productes.
	Heu de tenir açò en compte quan desplegueu Mozilla i
	considerar alternatives dins Debian si l'absència de suport de seguretat
	us suposa cap problema.</p>
      </sect>

<!-- JFS: Bug #400838 -->
      <sect id="kde-desktop-changes"> <heading>L'escriptori KDE</heading>
        <p>El control de mitjans de KDE ha canviat en la versió que hi ha a
	&releasename;: ha passat d'utilitzar <file>device:/</file> a <file>media:/</file>.
	La configuració d'alguns usuaris podria estar emmagatzemada amb enllaços a
	<file>device:/</file>, i s'hauria d'adaptar. Principalment, el fitxer
        <file>~/.kde/share/apps/konqsidebartng/virtual_folders/services</file>
	conté aquesta referència i es podria esborrar de forma segura ja que no 
	es crearà quan es configuren nous usuaris.

        <p>S'han produït prou canvis en l'escriptori KDE des de la versió que venia
	a &oldreleasename; a la versió &releasename;, podeu obtenir més informació a les
	<url id="http://www.kde.org/announcements/announce-3.5.php" name="Notes de
	llançament del KDE 3.5">.</p>
      </sect>

<!-- JFS: Bug #387921 -->
      <sect id="gnome-desktop-changes"> <heading>Canvis i suport de l'escriptori GNOME</heading>
        <p>Si utilitzàveu GNOME a &oldreleasename; no us beneficiareu d'alguns
	canvis introduïts en la configuració per defecte de Debian per a &releasename;.
	En alguns casos extrems, el GNOME podria no gestionar correctament la vostra
	antiga configuració i podria no comportar-se correctament.</p>

        <p>Si no heu modificat molt la vostra configuració de l'escriptori GNOME,
	hauríeu de canviar el nom del directori 
        <file>.gconf</file> que hi ha al directori de l'usuari per un nom diferent
	(quelcom de l'estil <file>.gconf.old</file>)
	de forma que es puga recrear, amb la configuració per defecte per
	&releasename; en engegar una nova sessió.</p>

        <p>Amb el llançament de &releasename;, Debian ja no conté paquets de la versió
	1 del GNOME. Encara queden alguns paquets per suportar altres paquets de
	Debian que no s'han actualitzat a GNOME 2. Els paquets de GTK1.2 estan encara
	mantinguts de forma completa.</p>

        <p>S'han produït molts canvis en l'escriptori GNOME des de la versió que venia
	en &oldreleasename; fins la versió de &releasename;, encara podeu trobar més
	informació a les
        <url id="http://www.gnome.org/start/2.14/notes/en/" name="Notes de llançament
	del GNOME 2.14">.</p>
      </sect>

<!-- FJP: Bug #398887 -->
      <sect id="default-editor"> <heading>Editor predeterminat</heading>
        <p>Si esteu utilitzant el <prgn/vim/ com a editor per defecte, açò pot
	canviar a <prgn/nano/ durant l'actualització.</p>

        <p>Els administradors que desitgin canviar l'editor per defecte per a tots els
	usuaris, hauran d'actualitzar les alternatives del sistema utilitzant:

          <example>
# update-alternatives --config editor
          </example>
        </p>

        <p>Els usuaris que desitgen canviar l'editor per defecte poden definir la
	variable d'entorn <em>EDITOR</em> introduint les línies següents als seus
	perfils:

          <example>
EDITOR=vi
export EDITOR
alias editor=$EDITOR
          </example>
        </p>

      </sect>

      </chapt>

      <chapt id="moreinfo">

        <heading>Més informació a &debian;</heading>

        <sect id="morereading"> <heading>Més per llegir</heading>
        <p>Més enllà d'aquestes notes i de la guia d'instal·lació hi ha
	més documentació de &debian; disponible al Projecte de Documentació
	de Debian (DDP), que té com a objectiu crear documentació d'alta 
	qualitat pels usuaris i desenvolupadors d'aquest sistema. La documentació
	inclou la Guia de referència, la Guia dels nous mantenidors de Debian,
	les PMF de Debian, i molt més. Per a més detalls sobre els recursos
	existents, vegeu la 
        <url id="&url-ddp;" name="web del DDP">.</p>

        <p>La documentació individual dels paquets la podeu trobar instal·lada
	a <file>/usr/share/doc/<var>package</var></file>. Allà també s'inclou
	informació sobre els drets d'autor, els detalls específics per a Debian i 
	qualsevol documentació del desenvolupador.</p>

      </sect> 

      <sect id="gethelp"> 
        <heading>On trobar ajuda</heading> 

        <p>Hi ha moltes fonts d'ajuda, consell i suport per als usuaris de Debian,
	però tan sols s'han de considerar si, després de la investigació dins la pròpia
	documentació del programa, se us han exhaurit tots els recursos. Aquesta secció
	proporciona una curta introducció que pot ser d'ajuda per als
	nous usuaris de Debian.</p>

      <sect1 id="lists">
        <heading>Llistes de correu</heading>
        <p>Les llistes de més interès per als usuaris de Debian són la llista
        debian-user (en anglès) i la llista debian-user-<var/llengua/
        (per a altres llengües). Per obtenir més informació sobre aquestes llistes i
	detalls de com subscriure-us, vegeu 
	<url id="&url-debian-list-archives;">. Reviseu els arxius a l'hora d'obtenir
	respostes a les vostres preguntes abans d'enviar un correu, i 
	seguiu les normes de la llista.</p>
      </sect1>
<!-- TODO: Changed to OFTC -->
      <sect1 id="irc">
        <heading>Internet Relay Chat</heading> 

        <p>Debian té un canal d'IRC dedicat al suport i ajuda als usuaris
	de Debian a la xarxa d'IRC OFTC, la qual té per objectiu proporcionar serveis interactius 
	als projectes de comunitats de forma directa.
	Per accedir al canal, connecteu el vostre client preferit d'IRC a
        &debian-irc-server; i entreu a #debian.
		  Tingueu en compte que l'idioma d'aquest canal és l'anglès;
		  la comunitat de parla catalana es troba al canal #debian-catalan
		  de la mateixa xarxa.
		  </p>

        <p>Seguiu les directives del canal, respectant els altres
	usuaris completament. Per obtenir més informació sobre OFTC visiteu la
        seua <url id="&url-irc-host;" name="pàgina web">.</p>

      </sect1>
      </sect> 

      <sect id="bugs">
        <heading>Informes d'errors</heading>

        <p>Ens esforcem per fer de Debian GNU/Linux un sistema
	operatiu d'alta qualitat, però això no vol dir que els paquets
	que subministrem estiguin totalment lliures d'errors.
	D'acord amb la filosofia de Debian de «desenvolupament obert», i com
	a servei als nostres usuaris, proporcionem tota la informació sobre els errors
	que s'han enviat al nostre sistema de seguiment d'errors (BTS). Es pot
	visitar el BTS a <url id="&url-bts;" name="bugs.debian.org">.</p>

        <p>Si trobeu un error a la distribució o a un programa empaquetat
	que en forme part, si us plau, informeu-nos per tal que sigui possible
	corregir-lo en llançaments futurs. Per a informar
	d'errors necessitareu una adreça de correu vàlida. L'adreça es demana
	per poder fer un seguiment dels errors i perquè els desenvolupadors
	puguin contactar amb la persona que l'hagi enviat en cas que calgui més 
	informació.</p>

        <p>Podeu enviar un informe d'error fent servir el programa
        <package>reportbug</package> o bé manualment a través del correu.
        Podeu llegir més sobre sistema de seguiment d'errors i com utilitzar-lo
	llegint les targetes de referència (que són a
        <file>/usr/share/doc/debian</file>, si teniu el paquet 
        <package>doc-debian</package> instal·lat) o en línia a
        <url id="&url-bts;" name="sistema de seguiment d'errors">.</p>

      </sect>

      <sect id="contributing">
        <heading>Contribuir a Debian</heading>

        <p>No cal ser un expert per contribuir a Debian. Ajudant
	els usuaris amb problemes a les diverses <url
        id="&url-debian-list-archives;" name="llistes"> d'usuaris esteu 
	contribuint a la comunitat. La identificació (i també la resolució) 
	de problemes relacionats amb el desenvolupament de la
	distribució participant a les <url id="&url-debian-list-archives;" 
	name="llistes"> de desenvolupament és extremadament útil. Per mantenir
        l'alta qualitat de la distribució Debian,
	<url id="&url-bts;" name="informeu d'errors"> i ajudeu als
	desenvolupadors a fer el seguiment i a corregir-los. Si 
	teniu traça amb les paraules, podeu contribuir de forma més
	activa ajudant a escriure <url id="&url-ddp;" name="documentació"> 
	o bé <url id="&url-debian-i18n;" name="traduïnt"> la documentació que 
	ja existeix al vostre idioma.</p>

        <p>Si podeu dedicar-hi més temps, us podríeu ocupar d'algun element de
	la col·lecció de Programari Lliure a Debian. És de molta ajuda si
	la gent adopta o manté elements que la gent ha demanat per 
	incloure'ls a Debian. La <url id="&url-wnpp;" name="base de dades
	de paquets en preparació o que necessiten ajuda"> detalla aquesta 
	informació. Si teniu interès en grups específics aleshores trobareu 
	divertit contribuir en alguns subprojectes de Debian que inclouen els 
	ports a algunes arquitectures particulars, <url id="&url-debian-jr;" 
	name="Debian Jr."> i <url id="&url-debian-med;" name="Debian Med">.</p>

        <p>En qualsevol cas, si esteu treballant a la comunitat de programari
	lliure d'alguna forma, com a usuari, programador, escriptor o traductor
	ja esteu ajudant a l'esforç del programari lliure. Contribuir és 
	reconfortant i divertit, i també us permetrà conèixer gent nova que
	us rebrà amablement.</p></sect>

    </chapt>
     
<!-- This may or may not still be useful -->
    <appendix id="old-stuff">
    <heading>Administració del sistema &oldreleasename;</heading>

       <p>Aquest apèndix conté informació sobre com assegurar-vos que podeu 
       instal·lar o actualitzar els paquets de &oldreleasename; abans 
       d'actualitzar a &releasename;. Açò sols caldrà
       en algunes situacions específiques.</p>

       <sect id="old-upgrade">
       <heading>Actualització del sistema &oldreleasename;</heading>

          <p>Bàsicament no hi ha diferència amb altres actualitzacions de
          &oldreleasename; que heu estat fent. L'única diferència és que 
	  primer haureu d'assegurar-vos que la llista de paquets encara
	  conté els paquets &oldreleasename; tal i com s'explica a 
	  <ref id="old-sources">.</p>

          <p>Si actualitzeu el sistema utilitzant una rèplica de Debian, 
	  s'actualitzarà automàticament a la darrera versió estable de
	  &oldreleasename;.</p> 

       </sect>

       <sect id="old-sources">
       <heading>Canviar la llista de fonts</heading>

          <p>Si qualsevol de les línies al
	  <file>/etc/apt/sources.list</file> apunta a 'stable', ja esteu 
	  utilitzant &releasename;. Si abans ja havíeu executat
	  <tt>apt-get update</tt>, podreu encara tornar enrere sense problemes
	  seguint el procediment que es descriu a continuació.</p>

          <p>Si heu instal·lat també paquets de &releasename;, probablement
	  ja no té massa sentit que instal·leu paquets de &oldreleasename;
	  mai més. En eixe cas haureu de decidir per vosaltres mateixos si
	  voleu continuar o no. És poden desactualitzar els paquets, 
	  però això no està descrit ací.</p>

          <p>Obriu el fitxer <file>/etc/apt/sources.list</file> amb el vostre
	  editor favorit (com a superusuari) i comproveu que totes les línies 
	  comencen amb <tt>deb http:</tt> o <tt>deb ftp:</tt> amb la
	  referència a  «<tt/stable/». Si en trobeu cap,
          canvieu el <tt/stable/ a <tt/&oldreleasename;/.</p>

          <p>Si teniu cap línia que comence amb <tt>deb file:</tt>, hauríeu
	  de comprovar per vosaltres mateixos si la localització a què es refereix
	  conté un arxiu &oldreleasename; o &releasename;.</p>

          <p><strong/Molt important!/ No canvieu cap línia que comence per
          <tt>deb cdrom:</tt>. Si ho feu, invalidareu la línia i haureu 
	  d'executar l'<prgn/apt-cdrom/ una altra vegada. No us preocupeu si
	  la línia que té el 'cdrom' apunta a «<tt/unstable/». Encara que pot
	  confondre, és normal.</p>

          <p>Si heu fet cap canvi, deseu el fitxer i executeu

          <example>
# apt-get update
          </example>

          per actualitzar la llista de paquets.</p>

       </sect>

    </appendix>

  </book>
</debiandoc>

<!-- Keep this comment at the end of the file
Local Variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-namecase-general:t
sgml-general-insert-case:lower
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:2
sgml-indent-data:nil
sgml-declaration:nil
sgml-parent-document:nil
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
fill-column: 75
End:
-->

