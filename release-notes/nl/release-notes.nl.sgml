<!DOCTYPE debiandoc PUBLIC "-//DebianDoc//DTD DebianDoc//EN" [
  <!entity % dynamicdata  SYSTEM "../dynamic.ent"       > %dynamicdata;
  <!entity % shareddata   SYSTEM "../release-notes.ent" > %shareddata;
  <!entity docid "$Id: release-notes.nl.sgml,v 1.29 2007-04-08 02:47:19 fjp Exp $">
]>

<!-- Be careful with automatic reformatting. Please note that the indentation
     in examples is used in the output (plus additional space) as well. -->

<!-- original version: 1.75 Frans Pop -->

<debiandoc>
  <book>
  <titlepag>
    <title>Release Notities voor &debian; &release; ('&releasename'), &arch-title;</title>
      <author><name>Josip Rodin, Bob Hilliard, Adam Di Carlo, Anne Bezemer, Rob Bradford,
      Frans Pop (huidig), Andreas Barth (current), Javier Fern&aacute;ndez-Sanguino
      Pe&ntilde;a (current), Steve Langasek (current)</name><email></email></author>
      <author><name></name><email>debian-doc@lists.debian.org</email></author>
      <version>&docid;</version>
    </titlepag>
    <toc detail="sect1">
      <chapt id="about"><heading>Introductie</heading>

	<p>Het voornaamste doel van deze Release Notities is om gebruikers te
	informeren over belangrijke wijzigingen in deze release van de &debian;
	distributie, om informatie te geven hoe u veilig kunt opwaarderen vanaf
	de voorgaande release naar de huidige en tenslotte om gebruikers te
	informeren over mogelijke problemen die zij kunnen tegenkomen tijdens
	het opwaarderen of bij het gebruik van de &releasename; release.</p>

	<p>Merk op dat het praktisch onmogelijk is om alle problemen op te
	nemen en dat dus een selectie is gemaakt gebaseerd op basis van een
	combinatie van waarschijnlijkheid en impact van bekende problemen.</p>

	<p>De meest recente versie van dit document is altijd beschikbaar op
	<url id="&url-release-notes;">. Als uw versie meer dan een maand oud
	is<footnote>Als weergegeven op de titelpagina van de PDF versie en
	onderaan elke pagina van de HTML versie.</footnote>, kan het zinvol
	zijn om de nieuwste versie te raadplegen.</p>

	<p>Merk op dat alleen een migratie vanaf de voorafgaande release van
	Debian (in dit geval de migratie vanaf &oldreleasename;) wordt
	gedocumenteerd en ondersteund. Als u een migratie moet uitvoeren vanaf
	een oudere release, adviseren wij u de voorgaande edities van de Release
	Notities te lezen en eerst op te waarderen naar &oldreleasename;.</p>

	<sect id="bug_reports"><heading>Problemen met dit document rapporteren</heading> 

	  <p>De stappen voor het opwaarderen van een systeem zoals die in dit
	  document zijn beschreven, zijn voor zover mogelijk getest. Daarbij
	  is geprobeerd om te anticiperen op mogelijke problemen waar gebruikers
	  tegenaan zouden kunnen lopen.</p>

	  <p>Desondanks is het mogelijk dat de informatie in dit document voor
	  sommige situaties onjuist of onvolledig is. Als u van mening bent een
	  dergelijke situatie te hebben gevonden, verzoeken wij u dit te rapporteren
	  tegen het pakket <package>release-notes</package> in het
	  <url id="&url-bts;" name="bug tracking system">.</p>

	</sect>

	  <sect id="upgrade_reports"><heading>Resultaat van uw opwaardering rapporteren</heading>
	  <p>We verwelkomen informatie van gebruikers over hoe hun opwaardering van
	  &oldreleasename; naar &releasename; is verlopen. Als u hiertoe bereid bent,
	  rapporteer dan u uw verslag als een probleemrapport tegen het pakket
	  <package>upgrade-reports</package> in het
	  <url id="&url-bts;" name="bug tracking system">. We verzoeken u om alle
	  bijgevoegde bestanden te comprimeren (met <prgn/gzip/).</p>

	  <p>Wij verzoeken u de volgende informatie in uw rapport op the nemen:

	  <list>

<!-- TODO: any more things to add here? -->
	    <item><p>De status van de pakkettendatabase voorafgaand aan en na afloop
	    van de opwaardering: de status database van <prgn/dpkg/
	    (<file>/var/lib/dpkg/status</file>) en het bestand van aptitude met
	    de status van pakketten (<file>/var/lib/aptitude/pkgstates</file>).
	    Als u de opwaarderingsprocedure volgt, dan zou u een reservekopie moeten
	    hebben van voor de opwaardering (<ref id="data-backup">), maar anders kunt
	    mogelijk een reservekopie terugvinden in <file>/var/backups</file>.</p></item>

	    <item><p>Een log van de opwaardering gemaakt met <prgn/script/, zoals
	    beschreven in <ref id="record_session">.</p></item>

	    <item><p>Het logbestand van <prgn/aptitude/ (<file>/var/log/aptitude</file>).</p></item>

	  </list></p>

	  <p>Let op: aangezien uw rapport zal worden opgenomen in een openbare database,
	  raden wij u dringend aan om de bestanden te controleren op de aanwezigheid van
	  gevoelige of vertrouwlijke informatie voordat u deze aan uw verslag toevoegt.</p>

	</sect>

	<sect id="sources"><heading>Broncode voor dit document</heading> 
	  <p>Dit document is gegenereerd met behulp van <package>debiandoc-sgml</package>.
	  De broncode voor de Release Notities is beschikbaar onder het CVS
	  versiebeheersysteem van het <em>Debian Documentatie Project</em>.
	  Via de <url id="&url-cvs-release-notes;" name="web interface"> kunt u
	  individuele bestanden en de wijzigingen daarin bekijken. Raadpleeg de
	  <url id="&url-ddp-cvs-info;" name="Debian Documentatie Project CVS pagina's">.
	  voor nadere informatie over het gebruik van het CVS versiebeheersysteem.</p>

	</sect>

<!--
	<sect id="changes"><heading>Wijzigingen in de Release Notities</heading>

	  <p>Deze paragraaf geeft een overzicht van de wijzigingen in de
	  Release Notities sinds de oorspronkelijke versie die gepubliceerd is
	  bij de release van &debian; &release;r0. Kleine tekstuele correcties
	  zijn hierin niet opgenomen.</p>

	  <p><list>

	    <item><p>Description of change.</p></item>

	  </list></p>
	</sect>
-->

      </chapt>

      <chapt id="whats-new"><heading>Nieuw in &debian; &release;</heading>

	<p>Met deze release wordt ook het platform AMD64 officieel ondersteund.
	Dit platform ondersteunt 64-bit processoren van zowel Intel (EM64T) als
	AMD (AMD64). Bij de vorige release, &debian; 3.1 ('&oldreleasename'), was
	reeds een niet officiële versie beschikbaar voor AMD64.
<![ %amd64 [
	Opwaarderen vanaf die onofficiële versie volgens deze Release Notities
	behoort mogelijk te zijn, maar wordt niet officieel ondersteund.
]]>
	</p>

	<p>De officiële ondersteuning van het platform Motorola 680x0 ('m68k')
	is beëindigd omdat het niet voldeed aan de criteria die waren gesteld
	door de Debian Release Managers. De belangrijkste onderliggende redenen
	zijn snelheid en ondersteuning voor belangrijke componenten voor het
	compileren van programmatuur. Wel wordt verwacht dat, ook al maak het
	geen onderdeel uit van deze stabiele release, de ontwikkeling van Debian
	m68k zal blijven doorgaan en beschikbaar zal blijven voor installatie.

	<p>Dit is de complete lijst met officieel ondersteunde platforms voor
	&debian; &releasename;:</p>

	<p><list compact="compact">
	  <item><p>Intel x86 ('i386')</p></item>
	  <item><p>Alpha ('alpha')</p></item>
	  <item><p>SPARC ('sparc')</p></item>
	  <item><p>PowerPC ('powerpc')</p></item>
	  <item><p>ARM ('arm')</p></item>
	  <item><p>MIPS ('mips' (big endian) en 'mipsel' (little endian))</p></item>
	  <item><p>Intel Itanium ('ia64')</p></item>
	  <item><p>HP PA-RISC ('hppa')</p></item>
	  <item><p>S/390 ('s390')</p></item>
	  <item><p>AMD64 ('amd64')</p></item>
	</list></p>

	  <p>U kunt aanvullende informatie over de status van 'ports', en
	  specifieke informatie over de 'port' voor uw platform vinden op de <url
	  id="&url-ports;" name="Debian port webpagina's">.</p>

<![ %secondrelease [
	  <p>Dit is pas de tweede officiële release van &debian; voor het
	  &arch-title; platform. Wij zijn van mening dat deze zich voldoende
	  heeft bewezen om te worden uitgebracht. Omdat hij echter minder door
	  gebruikers in de praktijk is getest dan onze releases op
	  andere platforms, is het mogelijk dat u nog een enkel probleem
	  tegenkomt. Wij verzoeken u ons <url id="&url-bts;" name="Bug Tracking
	  System"> te gebruiken om problemen te rapporteren; zorgt u ervoor dat
	  u daarbij vermeldt dat het probleem betrekking heeft op het
	  &architecture;-platform.</p>
]]>

<![ %arm [
	<sect id="new-arch"><heading>Nieuw voor &arch-title;</heading>
	  <p>De ondersteuning voor RiscPC (RPC) is onvolledig en zal na &releasename;
	  vervallen. Hoewel in &releasename; nog een kernel voor RiscPC aanwezig is,
	  wordt dit niet meer ondersteund door het installatiesysteem.</p>

	  <p>Ondersteuning voor het IXP4xx platform van Intel is nieuw. Het
	  installatiesysteem ondersteunt de Linksys NSLU2, een klein en goedkoop
	  apparaat met de optie om via USB een harde schijf aan te sluiten. Nadere
	  informatie over Debian op de NSLU2 is beschikbaar op
          <url id="http://www.cyrius.com/debian/nslu2/">.</p>

	  <p>Ook nieuw is ondersteuning voor het I/O Processor (IOP) platform van
	  Intel. Meer specifiek ondersteunt &debian; &release; apparaten gebaseerd
	  op IOP 32x. Twee Network Attached Storage (NAS) apparaten gebaseerd op een
	  IOP chip worden ondersteund in het installatiesysteem: de GLAN Tank van
	  IO-Data en de Thecus N2100. Zie ook <url id="http://www.cyrius.com/debian/iop/">.</p>
        </sect>
]]>

<![ %mips-mipsel [
	<sect id="new-arch"><heading>Nieuw voor &arch-title;</heading>
<![ %mipsel [
	  <p>Ondersteuning voor DECstation is onvolledig en niet getest in &releasename;
	  en zal na deze release volledig komen te vervallen. Dit geldt voor beide
	  varianten die voorheen in Debian werden ondersteund: r3k-kn02 and r4k-kn04.</p>

	  <p>Installatie op Cobalt machines gebaseerd op MIPS (Qube 2700, RaQ1, Qube2
	  en RaQ2) is nu mogelijk zonder gebruik van een seriële console. Standaard
	  vindt installatie op Cobalt nu plaats over SSH. Raadpleeg 
	  <url id="http://www.cyrius.com/debian/cobalt/"> voor aanvullende informatie.</p>
]]>
<![ %mips [
	  <p>Ondersteuning voor het IP32 platform van SGI is toegevoegd. Het IP32
	  platform bestaat uit SGI O2 systemen with een R5000, een R5200 of een
	  RM7000 processor. installatie is mogelijk via framebuffer of een
	  seriële console.</p>
]]>
	  <p>Ook toegevoegd in zowel de kernel als het installatiesysteem,is ondersteuning
	  voor de SB1A evaluatiekaart BCM91480B ("BigSur") van Broadcom, die is gebaseerd
	  op de BCM1480 chip (met vier kernen). Deze kaart wordt ondersteund in zowel
	  "little endian" en "big endian" modus.</p>

	  <p>Tenslotte is ondersteuning voor Qemu toegevoegd. Een Qemu/MIPS systeem
	  emuleert een klassiek ISA PC systeem met een MIPS 4Kc CPU.</p>
        </sect>
]]>

<![ %powerpc [
	<sect id="new-arch"><heading>Nieuw voor &arch-title;</heading>
	  <p>Deze release voegt ondersteuning toe voor 64-bits PowerPC architecturen
	  (de IBM pSerie en Apple G5 powermacs). Ondersteuning voor de Apple Apus
	  subarchitectuur is komen te vervallen; ook de Apple Nubus subarchitectuur
	  wordt niet ondersteund.</p>
        </sect>
]]>

<!--
	  <p>&debian; &release; voor het &arch-title; platform wordt geleverd
	  met kernelversie &kernelversion;.</p>
-->

	<sect id="newdistro"><heading>Nieuw in de distributie</heading>

	   <p>Deze nieuwe release van Debian omvat wederom veel meer software
	   dan zijn voorganger &oldreleasename;; de distributie bevat meer dan
	   &packages-new; nieuwe pakketten, met een totaal aantal van &packages-total;
	   pakketten. Van de meeste software is een nieuwe versie beschikbaar: meer
	   dan &packages-updated; pakketten (dat is &packages-update-percent;% van
	   het aantal pakketten in
	   &oldreleasename;). Ook is, om diverse redenen, een behoorlijk aantal
	   pakketten uit de distributie verwijderd (meer dan &packages-removed;,
	   &packages-removed-percent;% van het aantal pakketten in &oldreleasename;).
	   Voor deze pakketten zijn geen nieuwe versies beschikbaar en in de
	   applicaties voor pakketbeheer worden ze gemarkeerd als 'verouderd'.</p>

<!-- FJP: TODO translation review! -->
	   <p>Met deze release schakelt &debian; over van XFree86 naar release 7.1
	   van X.Org. Dit kent een bredere ondersteuning van apparatuur en betere
	   automatische herkenning daarvan. X.Org 7.1 maakt ook het gebruik van
	   Compiz mogelijk, wat één van de eerste "compositing" vensterbeheerders
	   voor het X Window System is, waarbij voor ondersteunde apparatuur
	   maximaal gebruik gemaakt wordt van OpenGL hardware-acceleratie.

	   <p>&debian; bevat ook weer diverse desktop toepassingen en omgevingen.
	   Onder andere zijn nu opgenomen de desktop omgevingen GNOME 2.14<footnote>
	   met enkele modules uit GNOME 2.16.</footnote>, KDE 3.5.5a en Xfce 4.4.
	   Ook een aantal kantoortoepassingen is opgewaardeerd, waaronder
	   OpenOffice.org 2.0.4a en KOffice 1.6, eb daarnaast GNUcash 2.0.5,
	   GNUmeric 1.6.3 en Abiword 2.4.6.</p>

	   <p>Daarnaast zijn er onder andere de volgende nieuwe versies van
	   andere kantoortoepassingen: Evolution 2.6.3 and Gaim 2.0. Ook de
	   Mozilla suite is opgewaardeerd; hierbij zijn  i.v.m. merkenrecht
	   de hoofdprogramma's hernoemd: <prgn>iceweasel</prgn> (versie 2.0.0.2)
	   komt overeen met de <prgn>Firefox</prgn> webbrowser en <prgn/icedove/
	   (versie 1.5) komt overeen met de <prgn/Thunderbird/ e-mailtoepassing.</p>

	   <p>Verder bevat deze release onder andere nieuwe versies voor de
	   volgende programma's:</p>

	   <p><list>

	   <item>de GNU C bibliotheek, versie 2.3.6</item>

	   <item>GCC 4.1 (GNU Compiler Collection) als standaard compiler</item>

	   <item>interpreters: Python 2.4, PHP 5.2</item>

	   <item>programmatuur voor servers:

	   <p><list>
	   <item>mailservers: Exim 4.63 (de standaard mailserver voor nieuwe
	   installaties), Postfix 2.3, Courier 0.53, Cyrus 2.2</item>

<!-- TODO: Cherokee, lighttpd, and Tomcat 5 are NEW -->
<!-- Note: No significant changes for Roxen4, Boa, and thttpd  -->
	   <item>webservers: Apache 2.2, fnord 1.10</item>

	   <item>databaseservers: MySQL 5.0.32, PostgreSQL 8.1</item>

	   <item>de OpenSSH server, version 4.3</item>

	   <item>DNS-servers: Bind 9.3, maradns 1.2</item>

	   <item>directoryserver: OpenLDAP 2.3</item>

<!-- FIXME (JFS): List other server software? RADIUS? Streaming ? -->
	   </list></p>

	   </list></p>

	   <p>De officiële &debian; distributie bestaat nu uit 19 tot
	   23 (afhankelijk van het platform) CD's met installeerbare
	   pakketten en een vergelijkbaar aantal CD's met broncode; er is ook
	   een versie van de distributie op DVD beschikbaar.</p>

<!-- FIXME: Note on LSB support? (3.1?) -->

        <sect1 id="pkgmgmt"><heading>Pakketbeheer</heading>

<!-- FIXME (vorlon): is aptitude news for etch, does it belong here? -->
	   <p>Voor pakketbeheer vanaf de console verdient de
	   &releasename;-versie van <prgn>aptitude</prgn> de voorkeur. De meeste
	   operaties die u met <prgn>apt-get</prgn> vanaf de opdrachtregel kunt
	   uitvoeren, worden ook door <prgn>aptitude</prgn> ondersteund en
	   <prgn>aptitude</prgn> heeft bewezen afhankelijkheden tussen pakketten
	   beter op te lossen dan <prgn>apt-get</prgn>. Als u nog altijd gebruik
	   maakt van <prgn>dselect</prgn>, dan kunt u waarschijnlijk beter
	   overstappen naar <package>aptitude</package> als interactieve interface
	   voor pakketbeheer.</p>
	   <p>Voor &releasename; is in <prgn/aptitude/ een geavanceerd systeem
	   voor conflictoplossing toegevoeg. Dit zal proberen om de best mogelijke
	   oplossing te vinden als er conflicten tussen pakketten worden
	   gesignaleerd door wijzigingen in afhankelijkheden tussen pakketten.</p>

<!-- FIXME: More content needed here? -->
+           <p><em/Secure APT/ is now available in &releasename;. This feature adds
+           extra security to &debian; systems by easily supporting strong
+           cryptography and digital signatures to validate downloaded packages.
+           This release includes the <prgn/apt-key/ tool for adding new keys to
+           apt's keyring, which by default includes only the current Debian archive
+           signing key, provided in the <package>debian-archive-keyring</package>
+           package.</p>

+           <p>In its default configuration, <prgn/apt/ will now warn if packages
+           are downloaded from sources that are not authenticated.  Future releases
+           might force all packages to be verified before downloading them.
+           Administrators of unofficial apt repositories are encouraged to
+           generate a cryptographic key and sign their Release files, as well
+           as providing a secure way to distribute their public keys.</p>

	   <p>Voor nadere informatie verwijzen wij u naar <manref name="apt"
	   section="8">, het hoofdstuk <url
	   id="http://www.debian.org/doc/manuals/securing-debian-howto/ch7#s-deb-pack-sign"
	   name="Package signing in Debian"> van de handleiding <em/Securing Debian/
	   (engelstalig) en de <url id="http://wiki.debian.org/SecureApt"
	   name="Debian Wiki">.</p>

	   <p>Een andere faciliteit die aan <prgn/apt/ is toegevoegd, is de
	   mogelijkheid om alleen de wijzigingen in <file/Packages/-bestanden
	   sinds de laatste bijwerking op te halen. Meer hierover in
	   <ref id="apt-pdiff">.</p>

	<sect1 id="volatile"><heading>debian-volatile nu een officiële dienst</heading>

	   <p>De dienst <em>debian-volatile</em> die met de &oldreleasename;
	   werd geïntroduceerd als onofficiële dienst, is nu een officiële
	   &debian dienst.</p>

	   <p>Dit betekent dat het nu beschikbaar is onder een <tt/.debian.org/
	   adres<footnote>Het oude adres <tt/volatile.debian.net/ blijft vooralsnog
	   ook geldig.</footnote>. Verander dit ook in uw <tt>/etc/apt/sources.list</tt>
	   als u reeds van deze dienst gebruik maakt.</p>

	   <p><em/debian-volatile/ stelt gebruikers in staat om op eenvoudige wijze
	   stabiele pakketen die snel verouderende informatie bevatten, op te
	   waarderen. Voorbeelden zijn de databestanden van virus scanners of de
	   sets met patronen voor spamfilters. Voor nadere informatie en een lijst
	   met spiegelservers kunt u terecht op de <url id="&url-debian-volatile;"
	   name="website van debian-volatile">.</p>

	</sect1>
	</sect>

	<sect id="system-changes"><heading>Veranderingen in de distributie</heading>
 
	  <p>Er is een aantal wijzigingen in de distributie waarvan de voordelen
	  bij nieuwe installaties van &releasename; direct merkbaar zijn, maar die
	  bij een opwaardering vanaf &oldreleasename; mogelijk niet automatisch
	  worden toegepast. In deze paragraaf wordt een overzicht gegevens van de
	  belangrijkste wijzigingen.</p>

	  <p><taglist>

<!-- Bug #301138, fixed in etch -->
+       <tag>Priority for basic development packages lowered</tag>
+       <item><p>A number of development packages that used to be priority
+       <em/standard/ are now priority <em/optional/, which means they will
+       no longer be installed by default.
+       This includes the standard C/C++-compiler, <package>gcc</package>,
+       as well as some other software (<package>dpkg-dev</package>,
+       <package>flex</package>, <package>make</package>) and development
+       headers (<package>libc6-dev</package>,
+       <package>linux-kernel-headers</package>).</p>
<!-- TODO: Point to the bug report for the full list of packages in case
     users want to remove them ? -->
+       <p>If you do wish to have these packages on your system, the easiest way
+       to install them is by installing <package/build-essential/, which will
+       pull in most of them.</p>
+       </item>
+
+       <tag>SELinux priority standard, but not enabled by default</tag>
+       <item><p>The packages needed for SELinux support have been
+       promoted to priority <em/standard/. This means that they will be
+       installed by default during new installations. For existing systems
+       you can install SELinux using:
<example>
# aptitude install selinux-basics
</example>
	  </p>

+       <p>Note that SELinux support is <em/not/ enabled by default. Information
+       on setting up and enabling SELinux can be found on the
+       <url id="&url-wiki-selinux;" name="Debian Wiki">.
+       </p></item>

+       <tag>New default inet superdaemon</tag>
+       <item><p>The default inet superdaemon for &releasename; is
+       <package>openbsd-inetd</package> instead of <package>netkit-inetd</package>.
+       It will not be started if no services are configured, which is true by
+       default. The new default daemon will be installed automatically on
+       upgrade.
+       </p></item>

+       <tag>Default <prgn/vi/ clone changed</tag>
+       <item><p>The <prgn/vi/ clone installed by default is now a compact version
+       of <prgn/vim/ (<package/vim-tiny/) instead of <package/nvi/.</p></item>

+       <tag>Changes in default features for <tt>ext2</tt>/<tt>ext3</tt></tag>
+       <item><p>New ext2 and ext3 file systems will be created with features
+       <em/dir_index/ and <em/resize_inode/ enabled by default. The first
+       feature speeds up operations on directories with many files; the
+       second makes it possible to resize a file system on-line (i.e. while it
+       is mounted).</p>
+       <p>Users upgrading from &oldreleasename; could consider adding the
+       <em/dir_index/ flag manually using <prgn/tune2fs/<footnote>
+       The flag <em/filetype/ should already be set on most file systems, except
+       possibly on systems installed before &oldreleasename;.
+       </footnote>; the <em/resize_inode/ flag cannot be added to an existing
+       file system. It is possible to check which flags are set for a file
+       system using <tt/dumpe2fs -h/.</p></item>

<!-- TODO: Add for lenny, link to utf8-migration-tool, which is right now not
     available for etch -->
+       <tag>Default encoding for &releasename; is UTF-8</tag>
+       <item><p>The default encoding for new &debian; installations is UTF-8. A
+       number of applications will also be set up to use UTF-8 by default.</p>
+       <p>Users upgrading to &releasename; that wish to switch to UTF-8 will
+       need to reconfigure their environment and locale definitions. The
+       system-wide default can be changed using <tt/dpkg-reconfigure locales/;
+       first select a UTF-8 locale for your language and country and then
+       set that as default. Note that switching to UTF-8 means that you will
+       probably also need to convert existing files from your previous
+       (legacy) encoding to UTF-8.</p>
+       <p>The package <package/utf8-migration-tool/ contains a tool that may
+       help the migration, however that package is only available in unstable
+       as it was not ready in time for &releasename;. Making a backup of
+       your data and configuration before using the tool is strongly
+       recommended.</p>
+       <p>Note that some applications may not yet work correctly in a UTF-8
+       environment, mostly due to display issues.</p></item>

	  </taglist></p>

+      <p>The <url id="http://wiki.debian.org/Sarge2EtchUpgrade"
+      name="Debian Wiki"> has some additional information about changes between
+      &oldreleasename; and &releasename;.</p>

	</sect>
 
	<sect id="kernel-changes">
	<heading>Belangrijke kernel-gerelateerde wijzigingen</heading>
+
+	<p>&debian; &release; ships with kernel version &kernelversion; for all
+	architectures; the release is still mostly
+<!-- JFS: Needed because of the cross ref, build errors will appear in some
+     architectures otherwise -->
+<![ %defaulted-2.4 [
+        <footnote>Some individual
+	packages may no longer work correctly with a 2.4 kernel; see
+	<ref id="incompatible-2.4">.</footnote>
+]]>
+        compatible with 2.4 kernels, but
+	Debian no longer provides or supports 2.4 kernel packages.</p>
+
+	<p>There have been major changes both in the kernel itself and in the
+	packaging of the kernel for Debian. Some of these changes complicate
+	the upgrade procedure and can potentially result in problems while
+	rebooting the system after the upgrade to &releasename;. This section
+	gives an overview of the most important changes; potential issues and
+	information on how to work around them is included in later chapters.</p>
+
+<![ %defaulted-2.4 [
+	<p>If you are currently using a 2.4 kernel, you should read
+	<ref id="upgrade-to-2.6"> carefully.</p>
+]]>
+
+      <sect1 id="kernel-packaging"><heading>Changes in kernel packaging</heading>
+
+	<p><taglist>
+	<tag>Kernel packages renamed</tag>
+	<item><p>All Linux kernel packages have been renamed from <tt/kernel-*/
+	to <tt/linux-*/ to clean up the namespace. This will make it easier to
+	include non-Linux kernels in Debian in the future.</p></item>
+
+<![ %i386 [
+	<tag>Flavor "386" replaced with "486"</tag>
+	<item><p>As support for 80386 processors was dropped with &oldreleasename;,
+	the 386 kernel flavor has now been dropped as well and replaced by a
+	new 486 flavor.</p></item>
+]]>
+<![ %amd64 [
+	<tag>Single generic kernel for &arch-title;</tag>
+	<item><p>In &oldreleasename; there were separate kernel flavors for
+	different processor families of this architecture. Because of changes
+	in the kernel which will
+	automatically optimize the kernel for the processor(s) in the system,
+	there is no longer any real need for seperate kernel flavors.</p></item>
+]]>
+
+<![ %i386-amd64-ia64 [
+	<tag>Standard kernels have SMP abilities</tag>
+	<item><p>Multiprocessor systems no longer require an <tt/*-smp/ flavor of the
+	Linux kernel. For &arch-title;, <tt/linux-image/ packages without the <tt/-smp/
+	suffix support both uniprocessor and multiprocessor systems.
+<![ %i386 [
+	(The one exception is the 486 flavor, which only supports a single
+	processor.)
+]]>
+	</p></item>
+]]>
+
+<![ %mips [
+	<tag>r5k-ip22 kernel flavor dropped</tag>
+	<item><p>The kernel image for IP22 machines with an R5000 CPU has been
+	dropped because the r4k-ip22 image now supports IP22 machines with either
+	an R4x000 or an R5000 CPU.</p></item>
+]]>
+	</taglist></p>
+
+	<p>Where possible, dummy transition packages that depend on the new packages
+	have been provided for the dropped packages.</p>
+
+      </sect1>
+
+      <sect1 id="kernel-initrd"><heading>New utilities to generate initrds</heading>
+
+<![ %no-initrd [
+	<p>The Debian kernel image packages for &arch-title; do not require an
+	initrd for booting the system. This means that the information in this
+	section may not be relevant for you, but is still included for
+	reference.</p>
+]]>
+	<p>
+<![ %uses-initrd [
+	The Debian kernel image packages for &arch-title; require an initrd
+	for booting the system.
+]]>
+	Because of changes in the kernel, the utility used to generate initrds in
+	&oldreleasename;, <package/initrd-tools/ can no longer be used and has been
+	deprecated. Two new utilities have been developed that replace it:
+	<package/initramfs-tools/ and <package/yaird/. The concepts behind the new
+	utilities are very different; an overview is available on the
+	<url id="http://wiki.debian.org/InitrdReplacementOptions" name="Debian Wiki">.
+	Both will generate an initrd using the <em/initramfs/ file system, which is
+	a compressed <prgn/cpio/ archive.
+	The default and recommended utility is <package/initramfs-tools/.
+	</p>
+
+<![ %uses-initrd [
+	<p>Upgrading to an &releasename; kernel will cause
+	<package/initramfs-tools/ to be installed by default.
+<![ %defaulted-2.4 [
+	If you are upgrading from a 2.4 kernel to a 2.6 Debian kernel,
+	you must use <package/initramfs-tools/. Using
+	<package/yaird/ will cause linux-image-2.6 installations to
+	fail if you are running a 2.2 or 2.4 kernel.
+]]>
+	</p>
+
+	<p>The package <package/initrd-tools/ is still included in &releasename;
+	because it is needed for upgrades from &oldreleasename;. It will
+	be dropped for the next release.</p>
+]]>
+
+      </sect1>
+
+      <sect1 id="kernel-udev">
+      <heading>Dynamic <file>/dev</file> management and hardware discovery</heading>
+
+	<p>&releasename; kernels no longer provide support for <tt>devfs</tt>.</p>
+
+	<p>The replacement for <tt>devfs</tt> is <package/udev/, a userspace
+	implementation of devfs.</p>
+	<p><package/udev/ is mounted
+	over the <file>/dev</file> directory and will populate that directory
+	with devices supported by the kernel. It will also dynamically add and
+	remove devices as kernel modules are loaded or unloaded respectively,
+	based on events generated by the kernel. <prgn/udev/ is a lot more
+	versatile than <tt/devfs/ and offers services that are used by other
+	packages like <package/hal/ (hardware abstraction layer).</p>
+
+	<p>In combination with the kernel, <package/udev/ also takes care of
+	hardware discovery and module loading for detected devices. Because of
+	this it conflicts with <package/hotplug/.
+	In &oldreleasename;, <package/discover/ could also be used for loading
+	modules during the boot process, but its new version in &releasename; no
+	longer provides that function.
+<![ %not-s390 [
+	<package/discover/ is still used by X.Org to detect what graphics
+	controller is present in the system.
+]]>
+	</p>

<![ %uses-initrd [
+	<p>If you install a Debian kernel image, <package/udev/ will be installed
+	by default as <package/initramfs-tools/ depends on it.</p>
+	<p>You can avoid installing <package/udev/ by compiling a custom non-modular
+	kernel or by using an alternative initrd generator, such as <package/yaird/.
+	However, <package/initramfs-tools/ is the recommended initrd generator.</p>
]]>

      </sect1>
      </sect>
      </chapt>

      <chapt id="installing"><heading>Het installatiesysteem</heading>

	<p>De "Debian Installer" is het officiële installatiesysteem voor Debian.
	Het biedt diverse installatiemethoden.
	Welke methoden beschikbaar zijn voor de installatie van uw systeem is
	afhankelijk van uw platform.</p>

+	<p>Images of the installer for &releasename; can be found together with the
+	Installation Guide on the <url id="&url-installer;"
+	name="Debian website">.</p>
	
	<p>De Installatiehandleiding is ook beschikbaar op de eerste CD en DVD van
	officiële CD/DVD sets in:
<example>
/doc/install/manual/<var>language</var>/index.html
</example></p>

	<p>Het is verstandig om ook de
	<url id="&url-installer;index#errata" name="errata"> voor debian-installer
	te raadplegen voor een overzicht van bekende problemen.</p>

<![ %alpha [
	  <p>Het installatiesysteem kan alleen worden gebruik voor
	  installatie op een alpha systeem dat de SRM-console ondersteunt. Zorg
	  ervoor dat u uw systeem overschakelt op SRM voordat u de installatie
	  start. Als uw systeem alleen de AlphaBIOS/ARC-console ondersteunt, is
	  de aanbevolen methode om &releasename; te installeren om eerst een (minimale)
	  installatie van woody uit te voeren en vervolgens het systeem op te
	  waarderen naar eerst &oldreleasename; en vervolgens naar &releasename;.
	  Voor nadere informatie over de
	  verschillende consoles verwijzen wij naar de referenties op de <url
	  id="http://www.debian.org/ports/alpha" name="webpagina's van de Debian
	  alpha port">.</p>

]]>

<![ %sparc [
      <sect id="sparc_fb"><heading>Aandachtspunten m.b.t. framebuffer voor &arch-title;</heading>

	  <p>Vanwege problemen met weergave op sommige systemen, is het gebruik
	  van "framebuffer" voor de meeste graphische kaarten standaard uitgeschakeld
	  voor &arch-title;. Dit kan
	  leiden tot een lelijke weergave op systemen die gebruik van
	  "framebuffer" wel goed ondersteunen. Als u tijdens de installatie problemen
	  in de weergave ziet, kunt u proberen het installatiesysteem te starten met
	  parameter <tt>framebuffer=true</tt>.
	  Laat het ons graag weten als de framebuffer standaard niet wordt gebruikt,
	  maar wel goed werkt voor uw systeem.</p>
	</sect>

+      <sect id="sparc_illegal_instruction"><heading>Issues with booting on &arch-title;</heading>
+
+        <p>It has been reported by several users that the installation CD
+	fails to boot successfully upon the '<tt>boot cdrom</tt>' PROM
+	command, displaying the error '<tt>Illegal Instruction</tt>'.</p>
+
+	<p>The apparent explanation for this problem is that it doesn't work
+	because the machine had previously been rebooted from Solaris.
+	The workaround is to power the machine off fully, and then boot it
+	directly into the installation CD.</p>
+
+        <p>The problem was reported by users of various systems (namely,
+	Enterprise 450, Blade 2000, Fire V240, Enterprise 250 and Blade 100
+	at the time of writing), so it is believed to be generic. Please
+	let us know if you observe similar issues with your hardware.</p>
+
+      </sect>
+]]>
+
+      <sect id="inst-new"><heading>What's new in the installation system?</heading>
+
+	   <p>There has been a lot of development on the Debian Installer
+	   since its first official release with &oldreleasename; resulting
+	   in both improved hardware support and some exciting new features.</p>
+
+	   <p>In these Release Notes we'll only list the major changes in the
+	   installer. If you are interested in an overview of the detailed
+	   changes since &oldreleasename;, please check the release announcements
+	   for the &releasename; beta and RC releases available from the
+	   Debian Installer's <url id="&url-installer-news;" name="news history">.</p>
+
+	 <sect1 id="inst-changes"><heading>Major changes</heading>
+
+	   <p><taglist>
+	     <tag>No reboot during the installation</tag>
+	     <item><p>Previously, the installation was split into two parts:
+	     setting up the base system and making it bootable, followed
+	     by a reboot and after that the execution of <prgn/base-config/
+	     which would take care of things like user setup, setup of the
+	     package management system and installation of additional
+	     packages (using tasksel).</p>
+	     <p>For &releasename; the second stage has been integrated into
+	     Debian Installer itself. This has a number of advantages,
+	     including increased security and the fact that after the reboot
+	     at the end of the installation the new system should already have
+	     the correct timezone and, if you installed the Desktop environment,
+	     will at once start the graphical user interface.</p></item>
+
+<!-- FIXME (vorlon): is this true for /all/ languages? -->
+	     <tag>UTF-8 encoding default for new systems</tag>
+	     <item><p>The installer will set up systems to use UTF-8 encoding
+	     rather than the old language-specific encodings (like ISO-8859-1,
+	     EUC-JP or KOI-8).</p></item>
+
+	     <tag>More flexible partitioning</tag>
+	     <item><p>It is now possible to set up file systems on an LVM volume
+	     using guided partitioning.</p>
+	     <p>The installer is also able to set up encrypted file systems.
+	     Using manual partitioning you have the choice between <tt/dm-crypt/
+	     and <tt/loop-aes/, using a passphrase or a random key, and you can
+	     tune various other options. Using guided partitioning, the installer
+	     will create an encrypted LVM partition that contains any other
+	     file systems (except <file>/boot</file>) as logical volumes.</p></item>
+
+<![ %g-i [
+	     <tag>Graphical user interface</tag>
+	     <item>
+<![ %i386-amd64 [
+	     <p>If you prefer a graphical user interface, try booting
+	     the installer with <tt/installgui/.</p>
+]]>
+
+<![ %powerpc [
+	     <p>For &arch-title; a separate installation image using a
+	     graphical user interface is available on an experimental basis.
+	     It is known to work on most CHRP systems that have an ATI graphics
+	     card, but has been insufficiently tested on &arch-title; to include
+	     it on the normal installation CDs.</p>
+	     <p>If you'd like to try the graphical installer, look for the
+	     "gtk-miniiso" image.</p>
+]]>
+
+	     <p>The functionality of the graphical installer is almost identical
+	     to the regular installer, only the presentation differs. There is one
+	     exception: the graphical frontend does not support setting up
+	     encrypted partitions using random keys.</p>
+	     <p>The major advantage of the graphical user interface is that it
+	     supports more languages than the regular user interface (newt).
+	     Information about the graphical installer and the most important
+	     differences between the graphical and regular installer are documented
+	     in an appendix in the installation guide.</p>
+	     <p>Note: the graphical user interface is not available for all
+	     architectures.</p>
+	     </item>
+]]>
+
+	     <tag>Rescue mode</tag>
+	     <item><p>You can use the installer to solve problems with your
+	     system, for example when it refuses to boot. The first steps will
+	     be just like a regular installation, but the installer will not
+	     start the partitioner. Instead it will offer you a menu of rescue
+	     options.</p>
+	     <p>Activate the rescue mode by booting the installer with
+	     <tt/rescue/, or by adding a boot parameter
+	     <tt>rescue/enable=true</tt>.</p></item>
+
+	     <tag>Using sudo instead of root account</tag>
+	     <item><p>During expert installations you can choose to not
+	     set up the root account (it will be locked), but instead set
+	     up <prgn/sudo/ so that the first user can use that for
+	     system administration.</p></item>
+
+	     <tag>Cryptographic verification of downloaded packages</tag>
+	     <item><p>Packages downloaded with the installer are
+             now cryptographically checked using <prgn/apt/,
+             making it more difficult to compromise a system being
+             installed over the network.</p></item>
+
+	     <tag>Simplified mail configuration</tag>
+             <item><p>If the "standard system" is installed, the installer sets up
+             a basic configuration for the system's mail server which will only
+             provide for local e-mail delivery. The mail server will be unavailable
+             to other systems connected to the same network. If you want to
+             configure your system to handle e-mail not local to the system (either
+             to send e-mail or to receive it), you will have to reconfigure the mail
+             system after installation.</p></item>
+
+	     <tag>Desktop selection</tag>
+             <item><p>The installation system will install 
+             a GNOME desktop as the default desktop if the user asks for one.</p>
+             <p>However, users wishing to install alternate desktop environments
+             can easily do so by adding boot parameters:
+             <tt>tasks="standard, kde-desktop"</tt> for KDE and
+             <tt>tasks="standard, xfce-desktop"</tt> for Xfce. Note that this
+             will not work when installing from a full CD image without using
+             a network mirror as an additional package source; it will work
+             when using a DVD image or any other installation method.</p>
+             <p>There are also separate CD images available that install the
+             KDE or Xfce desktop environment by default.</p></item>
+
+<![ %not-s390 [
+	     <tag>New languages</tag>
+	     <item><p>Thanks to the huge efforts of translators, Debian can
+	     now be installed in 47 languages using the text-based
+             installation user interface. This is six languages more
+             than in &oldreleasename;. Languages added in this release include
+             Belarusian, Esperanto, Estonian, Kurdish, Macedonian,
+             Tagalog, Vietnamese and Wolof.
+             Due to lack of translation updates, two languages have been dropped
+             in this release: Persian and Welsh.</p>
+<![ %g-i [
+	     <p>If the graphical user interface is used, an additional eleven
+	     languages are supported. These languages can only be selected
+	     using this installer as their character sets cannot be presented
+	     in a non-graphical environment. The new languages are:
+	     Bengali, Dzongkha, Gujarati, Hindi, Georgian, Khmer, Malayalam,
+	     Nepali, Punjabi, Tamil and Thai.</p>
+]]>
+             <p>Users that do not wish to use any locale can now select
+             <em/C/ as their preferred locale in the installer's language
+             selection.
+             More information on language coverage is available at the
+             <url id="&url-d-i-i18n;" name="d-i languages list">.
+	     </p></item>
+
+	     <tag>Simplified localization and timezone selection</tag>
+	     <item><p>Configuration of language, countries and timezones
+             has been simplified to reduce the amount of information
+             needed from the user. The installer will now guess
+             what the system's country and timezone is based on the
+             language selected, or will provide a limited selection
+             if it cannot. Users can still introduce obscure 
+             combinations if need be.</p></item>
+
+      <tag>Improved system-wide localization</tag>
+      <item><p>Most of the internationalization and localization tasks that
+      were previously handled by the <package>localization-config</package> tool are now
+      included in the stock Debian installer or in packages themselves. This
+      means that selection of a language will automatically install packages
+      necessary for that language (dictionaries, documentation, fonts...) in both
+      standard and desktop environments. Configuration that is no longer
+      handled automatically includes the papersize configuration and some
+      advanced X Windows keyboard settings for some languages.</p>
+      <p>Note that language-specific packages will only be installed
+      automatically if they are available during the installation.</p></item>
+
+]]> <!-- not-s390 -->
+
+	   </taglist></p>
+	 </sect1>
+
+	 <sect1 id="inst-auto"><heading>Automated installation</heading>
+
+	   <p>A lot of the changes mentioned in the previous section also
+	   imply changes in the support in the installer for automated
+	   installation using preconfiguration files. This means that if
+	   you have existing preconfiguration files that worked with the
+	   &oldreleasename; installer, you cannot expect these to work
+	   with the new installer without modification.</p>
+
+	   <p>The good news is that the <url id="&url-install-manual;"
+	   name="Installation Guide"> now has a separate appendix with
+	   extensive documentation on using preconfiguration.</p>
+
+	   <p>The &releasename; installer introduces some exciting new
+	   features that allow further and easier automation of installs.
+	   It also adds support for advanced partitioning using RAID, LVM
+	   and encrypted LVM. See the documentation for details.</p>
+
+	 </sect1>
+      </sect>
+
      <sect id="popcon"><heading>Populariteitsmeting</heading>

	<p>In tegenstelling tot de voorgaande release zal het installatiesysteem u
	nu weer vragen of het pakket <package>popularity-contest</package> mag
	worden geïnstalleerd.</p>

	<p><package>popularity-contest</package> verschaft Debian waardevolle
	informatie over welke pakketten in de distributie daadwerkelijk
	gebruikt worden. Deze informatie wordt hoofdzakelijk gebruikt voor het
	bepalen van de volgorde waarin pakketten worden opgenomen op
	installatie CD's, maar wordt ook vaak geraadpleegd door Debian
	ontwikkelaars bij beslissingen over het al dan niet adopteren van
	pakketten die niet langer worden beheerd.</p>

	<p>Gegevens afkomstig van <package>popularity-contest</package> worden anoniem
	verwerkt. Het wordt zeer op prijs gesteld als u wilt deelnemen aan de officiële
	steekproef; u helpt daarmee Debian te verbeteren.</p>
	</sect>
      </chapt>


      <chapt id="upgrading"><heading>Migreren vanaf een eerdere release</heading>

<!-- For doc-writers' convenience:
Debian Supported
release: architectures:

1.3.1 or less i386
2.0           i386,m68k
2.1           i386,m68k,alpha,sparc
2.2           i386,m68k,alpha,sparc,powerpc,arm
3.0            + hppa,s390,mips,mipsel,ia64
3.1           i386,m68k,alpha,sparc,powerpc,arm,hppa,s390,mips,mipsel,ia64 (no changes)
4.0           i386,alpha,sparc,powerpc,arm,hppa,s390,mips,mipsel,ia64,amd64
                (+ amd64; - m68k)
-->

	<sect id="backup"><heading>De migratie voorbereiden</heading>

+          <p>We suggest that before upgrading you also read the information in
+          <ref id="information">. That chapter covers potential issues not
+          directly related to the upgrade process but which could still be
+          important to know about before you begin.</p>
+
+       <sect1 id="data-backup"><heading>Back up any data or configuration information</heading>

	  <p>Voordat u uw systeem migreert, wordt u dringend aangeraden een
	  volledige reservekopie te maken, of tenminste van alle gegevens en
	  configuratie-informatie die u niet wilt verliezen. Het migratieproces
	  en de daarbij gebruikte hulpmiddelen zijn behoorlijk betrouwbaar,
	  maar een storing in uw apparatuur gedurende de migratie kan
	  resulteren in een ernstig beschadigd systeem.</p>

	  <p>De belangrijkste zaken om een reservekopie van te maken zijn: de
	  inhoud van <file>/etc</file>, <file>/var/lib/dpkg</file> en de
	  uitvoer van <tt>dpkg --get-selections "*"</tt> (de aanhalingstekens
	  zijn belangrijk).</p>

	  <p>Het verdient aanbeveling om vooraf alle gebruikers te informeren
	  over een geplande migratie. Echter, bijvoorbeeld gebruikers die via
	  SSH toegang hebben tot uw systeem, hoeven niet al te veel van de
	  migratie te merken en kunnen ervoor kiezen om gewoon door te werken.
	  Als u extra voorzorgen wilt nemen, maak dan voor de migratie een
	  reservekopie van de partitie met gebruikersgegevens
	  (<file>/home</file>) of ontkoppel deze. Normaalgesproken zal het niet
	  nodig zijn het systeem opnieuw op te starten, tenzij u besluit om ook
	  de kernel op te waarderen.</p>

	  <p>De migratie zelf brengt geen wijzigingen aan in de <file>/home</file>
	  directory. Van sommige toepassingen (zoals onderdelen van de
	  Mozilla-familie, en de GNOME- en KDE-desktopomgevingen) is echter bekend
	  dat ze gebruikersinstellingen kunnen
	  overschrijven met nieuwe standaardwaarden als de gebruiker een nieuwe
	  versie van de toepassing voor het eerst opstart. Als voorzorg is het
	  verstandig om een kopie te maken van de verborgen bestanden en directories
	  in de \"home\"-directories van gebruikers. Deze reservekopie kan helpen
	  om de oude instellingen terug te zetten of te herstellen. Ook kunt u
	  overwegen om gebruikers hierover te informeren.</p>

	  <p>Elke handeling met betrekking tot de installatie van pakketten
	  dient te worden uitgevoerd met beheerdersrechten; log daarom aan als
	  root of gebruik <prgn>su</prgn> of <prgn>sudo</prgn> om de
	  noodzakelijke toegangsrechten te verkrijgen.</p>

+          <p>The upgrade has a few preconditions; you should check them
+          before actually executing the upgrade.</p>
+
+       </sect1>
+
+       <sect1><heading>Inform users in advance</heading>
+
	  <p>Het verdient aanbeveling om alle gebruikers vooraf te informeren over
	  geplande opwaardingen, al hoeven bijvoorbeeld gebruikers die via een
	  <prgn>ssh</prgn>-verbinding aangemeld zijn niet altijd last te hebben van
	  de opwaardering en kunnen mogelijk gewoon blijven werken.</p>

	  <p>Als u aanvullende
	  voorzorgen wilt nemen, maak dan voorafgaand aan de opwaardering een
	  veiligheidskopie van partities met gebruikersinformatie (<file>/home</file>)
	  of koppel deze af.</p>
<!--
	  <p>Een herstart van het systeem is normaalgesproken niet
	  noodzakelijk, tenzij u ook van plan bent de kernel op te waarderen.</p>
-->
+          <p>You will probably have to do a kernel upgrade when upgrading to 
+          &releasename;, so a reboot will normally be necessary. Typically,
+          this will be done after the upgrade is finished.</p>
+
+       </sect1>
+
+       <sect1 id="recovery"><heading>Prepare for recovery</heading>
+
+          <p>Because of the many changes in the kernel between &oldreleasename;
+          and &releasename; regarding drivers, hardware discovery and the
+          naming and ordering of device files, there is a real risk that you
+          may experience problems rebooting your system after the upgrade.
+          A lot of known potential issues are documented in this and the next
+          chapters of these Release Notes.</p>
+
+          <p>For that reason it makes sense to ensure that you will be able to
+          recover if your system should fail to reboot or, for remotely managed
+          systems, fail to bring up networking.</p>
+
+<!-- JFS: probably can be removed for lenny -->
+          <p>If you are upgrading remotely via an <prgn/ssh/ link it is highly
+          recommended that you take the necessary precautions to be able to
+          access the server through a remote serial terminal. There is a chance
+          that, after upgrading the kernel and rebooting, some devices will
+          be renamed (as described in <ref id="device-reorder">) and you will
+          have to fix the system configuration through a local console. Also,
+          if the system is rebooted accidentally in the middle of an upgrade
+          there is a chance you will need to recover using a local console.</p>
+<!-- END - remove for lenny -->
+
+          <p>The most obvious thing to try first is to reboot with your
+          old kernel. However, for various reasons documented elsewhere in this
+          document, this is not guaranteed to work.</p>
+
+          <p>If that fails, you will need an alternative way to boot your
+          system so you can access and repair it. One option is to use a
+          special rescue image or a Linux live CD. After booting from that,
+          you should be able to mount your root file system and <tt/chroot/
+          into it to investigate and fix the problem.</p>
+
+          <p>Another option we'd like to recommend is to use the
+          <em/rescue mode/ of the &releasename; Debian Installer. The advantage
+          of using the installer is that you can choose between its many
+          installation methods for one that best suits your situation.
+          For more information, please consult the section
+          "Recovering a Broken System" in chapter 8 of the
+          <url id="&url-install-manual;" name="Installation Guide"> and the
+          <url id="http://wiki.debian.org/DebianInstaller/FAQ"
+          name="Debian Installer FAQ">.</p>
+
+<![ %uses-initrd [
+       <sect2 id="recovery-initrd"><heading>Debug shell during boot using initrd</heading>
+          <p>The <package/initramfs-tools/ includes a debug shell<footnote>
+          This feature can be disabled by adding the parameter <tt/panic=0/
+          to your boot parameters.</footnote> in the initrds it generates.
+          If for example the initrd is unable to mount your root file system,
+          you will be dropped into this debug shell which has basic commands
+          available to help trace the problem and possibly fix it.</p>
+
+          <p>Basic things to check are:
+          presence of correct device files in <file>/dev</file>;
+          what modules are loaded (<tt>cat /proc/modules</tt>);
+          output of <prgn/dmesg/ for errors loading drivers.
+          The output of <prgn/dmesg/ will also show what device files have
+          been assigned to which disks; you should check that against the
+          output of <tt/echo $ROOT/ to make sure that the root file system
+          is on the expected device.</p>
+
+          <p>If you do manage to fix the problem, typing <tt/exit/ will
+          quit the debug shell and continue the boot process at the point
+          it failed. Of course you will also need to fix the underlying
+          problem and regenerate the initrd so the next boot won't fail
+          again.</p>
+       </sect2>
+]]>
+
+       </sect1>

+       <sect1 id="upgrade_preparations"><heading>Prepare a safe environment for the upgrade</heading>
 
	  <p>Het migreren van de distributie dient te gebeuren ofwel lokaal
	  vanaf een niet-grafische virtuele terminal (of een direct verbonden
	  seriële terminal), ofwel op afstand via een
	  <prgn>ssh</prgn>-verbinding.</p>

+          <p>In order to gain extra safety margin when upgrading remotely, we
+          suggest that you run upgrade processes in the virtual console provided by
+          the <prgn/screen/ program, which enables safe reconnection and ensures
+          the upgrade process is not interrupted even if the remote connection
+          process fails.</p>
+
	  <p><strong>Belangrijk</strong>: Het is <em>niet</em> mogelijk om de
	  migratie uit te voeren via <prgn>telnet</prgn>, <prgn>rlogin</prgn>,
	  <prgn>rsh</prgn>, of vanuit een X-sessie die wordt beheerd door
	  <prgn>xdm</prgn>, <prgn>gdm</prgn>, <prgn>kdm</prgn> of dergelijke op
	  de machine die u wilt migreren. Reden hiervoor is dat er een grote
	  kans is dat elk van deze diensten tijdens de migratie opnieuw zal
	  worden gestart, wat kan resulteren in een <em>ontoegankelijk</em>
	  systeem dat slechts half is opgewaardeerd.</p>

+       </sect1>
+
+        <sect1 id="glibc-kernel"><heading>Support for 2.2-kernels has been dropped</heading>
+          <p>In case you run a kernel prior to 2.4.1,
+          you need to upgrade to (at least) the
+          2.4-series before upgrading <package/glibc/.
+          This should be done before starting the upgrade.
+          It is recommended that you directly upgrade to the 2.6.8 kernel available
+          in &oldreleasename;, instead of upgrading to a 2.4 kernel.
+	  </p>
+        </sect1>
	</sect>


	<sect id="system-status">
	<heading>De status van uw systeem controleren</heading>

	<p>De procedure die in dit hoofdstuk wordt beschreven is ontwikkeld
	voor de migratie van "zuivere" &oldreleasename; systemen zonder toepassingen
	van derden. Het kan verstandig zijn deze eerst te verwijderen.</p>

+<!-- vorlon: remove for lenny -->
+        In particular, there are known problems with third-party packages
+        which install programs under <file>/usr/X11R6/bin/</file> causing problems
+        with upgrades due to the X.org transition (<ref id="xorg">).
+<!-- -->
+        For greatest reliability of the upgrade process, you may wish to remove
+        third-party packages from your system before you begin upgrading.</p>
 
	<p>Ook wordt ervan uitgegaan dat uw systeem is opgewaardeerd tot de laatste
	tussenrelease van &oldreleasename;. Als u dat nog niet heeft gedaan of hiervan
	niet zeker bent, volg dan de instructies in <ref id="old-upgrade">.</p>

+       <sect1><heading>Review actions pending in package manager</heading>
+
+          <p>In some cases, the use of <prgn/apt-get/ for installing packages instead
+          of <prgn/aptitude/ might make <prgn/aptitude/ consider a package as
+          "unused" and schedule it for removal. In general, you should make sure 
+          the system is fully up-to-date and "clean" before proceeding with
+          the upgrade.</p>
+
+          <p>Because of this you should review if there are any pending actions
+          in the package manager <prgn/aptitude/. If a package is scheduled
+          for removal or update in the package manager, it might negatively impact
+          the upgrade procedure. Note that correcting this is only possible if your
+          <file/sources.list/ still points to <em/&oldreleasename/; and not to
+          <em/stable/ or <em/&releasename;/; see <ref id="old-sources">.</p>
+
+          <p>To do this, you have to run <prgn/aptitude/'s user interface and
+          press 'g' ("Go"). If it shows any actions, you should review them and
+          either fix them or implement the suggested actions. If no actions are
+          suggested you will be presented with a message saying "No packages are
+          scheduled to be installed, removed, or upgraded".</p>
+
+        </sect1>
+
	<sect1><heading>APT-pinning uitschakelen</heading>

	  <p>Als u APT heeft geconfigureerd om bepaalde pakketten te
	  installeren vanaf een andere distributie dan 'stable' (bijvoorbeeld vanaf
	  'testing'), kan het nodig zijn om uw 'APT-pinning' instellingen (in
	  <file>/etc/apt/preferences</file>) te wijzigen om de opwaardering van
	  pakketten naar de versie in de nieuwe 'stable' release mogelijk te maken.
	  Aanvullende informatie over 'APT-pinning' kunt u vinden in
	  <manref section="5" name="apt_preferences">.</p>
	</sect1>


	<sect1 id="package_status"><heading>De status van pakketten controleren</heading>

	  <p>Ongeacht de methode die u gebruikt voor de migratie, wordt
	  aangeraden dat u vooraf de status van alle pakketten controleert en
	  nagaat dat alle pakketten opgewaardeerd kunnen worden. De volgende
	  opdracht toont alle pakketten die een status 'Half-Installed' of
	  'Failed-Config' hebben alsmede de pakketten met een foutstatus:
<example compact="compact">
# dpkg --audit
</example></p>

	  <p>U kunt ook de status van alle pakketten controleren met behulp van
	  <prgn>dselect</prgn>, <prgn>aptitude</prgn> of met opdrachten als
<example compact="compact">
# dpkg -l | pager
</example>
	  of
<example compact="compact">
# dpkg --get-selections "*" &gt; ~/huidige-pktn.txt
</example></p>

	  <p>Als u pakketten heeft met de 'hold'-status, is het wenselijk dat u
	  deze vrijgeeft. Als een pakket dat essentieel is voor de migratie de
	  'hold'-status heeft, zal de migratie mislukken.</p>

	  <p>Merk op dat <prgn/aptitude/ een andere methode gebruikt voor het
	  registreren van pakketen met de 'hold'-status dan <prgn/apt-get/ en
	  <prgn/dselect/. U kunt pakketten die voor <prgn/aptitude/ de
	  'hold'-status hebben identificeren met de opdracht:
<example compact="compact">
# aptitude search "~ahold" | grep "^.h"
</example></p>

	  <p>Als u wilt controleren welke pakketten u voor <prgn/apt-get/
	  op 'hold' had staan, dient u gebruik te maken van:
<example compact="compact">
# dpkg --get-selections | grep hold
</example></p>

	  <p>Als u een pakket lokaal heeft gewijzigd en gecompileerd en het
	  niet heeft hernoemd of een 'epoch' in de versie heeft opgenomen,
	  dient u dit pakket op 'hold' te zetten om te voorkomen dat het wordt
	  opgewaardeerd.</p>

	  <p>De 'hold' status van een pakket voor <prgn/aptitude/ kan worden
	  gewijzigd met:
<example compact="compact">
# aptitude hold <var>pakketnaam</var>
</example>
	  Vervang <tt/hold/ door <tt/unhold/ om de 'hold'-status uit te zetten.
	  </p>

	  <p>Als er iets is dat hersteld moet worden, is het aan te raden om
	  eerst te verifiëren dat de regels in uw <file>sources.list</file> nog
	  altijd verwijzen naar &oldreleasename;. Instructies hiervoor vindt u
	  in <ref id="old-sources">.</p>
	</sect1>

	<sect1 id="backports"><heading>Niet officiële bronnen en "backports"</heading>

	  <p>Als u niet-Debian pakketten op uw systeem heeft, dient u zich
	  ervan bewust te zijn dat het mogelijk is dat deze tijdens de migratie
	  worden verwijderd vanwege conflicterende afhankelijkheden. Als deze
	  pakketten zijn geïnstalleerd door het opnemen van een extra archief
	  als bron in uw <file>/etc/apt/sources.list</file>, dan kunt u het
	  beste nagaan of dat archief ook pakketten beschikbaar heeft die zijn
	  gecompileerd voor &releasename;. Als dat het geval is dient u de
	  regel voor die bron op hetzelfde moment aan te passen als de regels
	  voor Debian pakketten.</p>

	  <p>Sommige gebruikers hebben op hun &oldreleasename; systeem nieuwere
	  versies (zogenaamde "backports") geïnstalleerd van pakketten die
	  <em>wel</em> onderdeel uitmaken van Debian. De kans dat dergelijke
	  pakketten problemen veroorzaken tijdens de opwaardering is relatief
	  groot, voornamelijk door bestandsconflicten<footnote><p>Het systeem
	  voor pakketbeheer in Debian staat normaalgesproken niet toe dat een
	  pakket een bestand dat behoort tot een ander pakket verwijdert of
	  vervangt, tenzij expliciet gedefinieerd is dat het dit andere pakket
	  vervangt.</p></footnote>. In paragraaf <ref id="trouble"> vindt u
	  informatie over hoe eventuele bestandsconflicten kunnen worden
	  opgelost.</p>
	</sect1>
	</sect>


+<!-- JFS: This section should be probably removed for lenny -->
+        <sect id="handle-conflict"><heading>Manually unmarking packages</heading>
+
+        <p>To prevent <prgn/aptitude/ from removing some packages that were pulled
+        in through dependencies, you need to manually unmark them as <em/auto/
+        packages. This includes OpenOffice and Vim for desktop installs:
+<!-- This is a no-op if none of them are installed -->
+<example>
+# aptitude unmarkauto openoffice.org vim  
+</example></p>
+
+<!-- JFS: This cannot be in the same line as above since it produces an ugly output if 
+     you just have 2.4 kernels installed -->
+        <p>And 2.6 kernel images if you have installed them using a kernel metapackage:
+
+<example>
+# aptitude unmarkauto $(dpkg-query -W 'kernel-image-2.6.*' | cut -f1)
+</example></p>
+
+        <p>Note: You can review which packages are marked as <em/auto/ in aptitude by running:
+
+<example>
+# aptitude search 'i~M &lt;package name&gt;'
+</example></p>
+        </sect>
 
	<sect id="upgrade-process"><heading>Bronnen voor APT voorbereiden</heading>

	  <p>Voordat u start met de migratie, dient u het configuratiebestand
	  voor pakketlijsten van <package>apt</package>,
	  <file>/etc/apt/sources.list</file>, te configureren.</p>

	  <p><package>apt</package> zal alle pakketten, die gevonden kunnen
	  worden via een "<tt>deb</tt>"-regel, in beschouwing nemen en zal het
	  pakket met het hoogste versienummer installeren. Hierbij krijgen de
	  als eerste genoemde bronnen prioriteit (als u dus meerdere bronnen
	  beschikbaar heeft, zal u normaalgesproken als eerste bijvoorbeeld een
	  lokale harde schijf, vervolgens een CD en tenslotte
	  HTTP/FTP-spiegelservers opnemen).</p>

	  <p>Vaak is het mogelijk om naar een release te verwijzen zowel met
	  zijn codenaam (bijvoorbeeld &oldreleasename;, &releasename;) als met
	  zijn statusnaam (d.w.z. oldstable, stable, testing, unstable). Het
	  gebruik van de codenaam heeft als voordeel dat u nooit verrast zult
	  worden door een nieuwe release en wordt daarom hier gebruikt in de
	  voorbeelden. Dit betekent natuurlijk wel dat u zelf de aankondiging
	  van een nieuwe release in de gaten zult moeten houden. Als u in
	  plaats van de codenaam de statusnaam gebruikt, zult u dit merken
	  doordat, zodra een release is vrijgegeven, opeens een zeer groot
	  aantal nieuwe versies van pakketten beschikbaar is.</p>

	 <sect1 id="network"><heading>Internet-bronnen voor APT toevoegen</heading>

	   <p>De standaard configuratie is om installatie te laten plaatsvinden
	   vanaf de Debian Internet hoofdservers, maar desgewenst kunt u
	   <file>/etc/apt/sources.list</file> wijzigen zodat andere
	   spiegelservers worden gebruikt; bij voorkeur één die in het netwerk
	   het dichtst bij is.</p>

<!-- FJP: Why is 'default configuration' relevant here? We are talking about
	  upgrading existing installations; we really have no idea what
	  apt-sources users will have set up here (maybe just a Woody CD-set).
	  Note: D-I sets the default configuration to a mirror based on
	  the selected country and not the 'main' servers. -->

	   <p>Adressen voor Debian HTTP- of FTP-spiegelservers kunnen worden
	   gevonden op <url id="&url-debian-mirrors;">. HTTP-servers zijn over
	   het algemeen sneller dan FTP-servers.</p>

	   <p>Een voorbeeld. Stel dat de dichtstbij zijnde Debian spiegelserver
	   <tt>&url-debian-mirror-eg;/</tt> is. Als u die server bekijkt met
	   een webbrowser  of een FTP-programma, zult u zien dat de hoofdmappen
	   als volgt zijn ingedeeld:
<example compact="compact">
&url-debian-mirror-eg;/dists/&releasename;/main/binary-&architecture;/...
&url-debian-mirror-eg;/dists/&releasename;/contrib/binary-&architecture;/...
</example></p>

	   <p>Om met <prgn>apt</prgn> gebruik te maken van deze spiegelserver,
	   voegt u de volgende regel toe in uw <file>sources.list</file>
	   bestand:
<example compact="compact">
deb &url-debian-mirror-eg; &releasename; main contrib
</example></p>

	   <p>Merk op dat `<tt>dists</tt>' impliciet wordt toegevoegd en dat de
	   parameters achter de naam van de release worden gebruikt om het pad
	   uit te breiden naar meerdere mappen.</p>

	   <p>Maak, nadat u uw nieuwe bronnen heeft toegevoegd, de oude
	   "<tt>deb</tt>"-regels in <file>sources.list</file> ongeldig door er
	   een hekje (<tt>#</tt>) voor te plaatsen.</p>

<!-- verplaatst
	   <p>Elk pakket dat nodig is voor de installatie en dat wordt
	   opgehaald vanaf het netwerk, wordt opgeslagen in
	   <file>/var/cache/apt/archives</file> (en tijdens het ophalen in de
	   submap <file>partial/</file>). U dient zorg te dragen dat u
	   voldoende vrije ruimte heeft voordat u de installatie start. Voor
	   een redelijk uitgebreide Debian installatie, dient u rekening te
	   houden met tenminste 300MB aan op te halen pakketten.</p>
-->
	</sect1>


	 <sect1 id="localmirror"><heading>Locale spiegelservers toevoegen als bron voor APT</heading>

	   <p>In plaats van gebruik te maken van een HTTP- of
	   FTP-spiegelserver, is het ook mogelijk om
	   <file>/etc/apt/sources.list</file> zodanig te wijzigen dat gebruik
	   wordt gemaakt van een Debian archief op een lokale harde schijf
	   (mogelijk aangekoppeld als NFS).</p>

	   <p>Een voorbeeld. Stel dat u een Debian archief heeft onder
	   <file>/var/ftp/debian/</file> en daaronder de volgende hoofdmappen:
<example compact="compact">
/var/ftp/debian/dists/&releasename;/main/binary-&architecture;/...
/var/ftp/debian/dists/&releasename;/contrib/binary-&architecture;/...
</example></p>

	   <p>Voeg in <file>sources.list</file> de volgende regel toe om
	   hiervan met <prgn>apt</prgn> gebruik te maken:
<example compact="compact">
deb file:/var/ftp/debian &releasename; main contrib
</example></p>

	   <p>Merk op dat `<tt>dists</tt>' impliciet wordt toegevoegd en dat de
	   parameters achter de naam van de release worden gebruikt om het pad
	   uit te breiden naar meerdere mappen.</p>

	  <p>Maak, nadat u uw nieuwe bronnen heeft toegevoegd, de oude
	  "<tt>deb</tt>"-regels in <file>sources.list</file> ongeldig door er
	  een hekje (<tt>#</tt>) voor te plaatsen.</p>
	</sect1>

	<sect1 id="cdroms"><heading>CD's of DVD's toevoegen als bron voor APT</heading>

	  <p>Als u <em>alleen</em> CD's wilt gebruiken, invalideer dan de
	  bestaande "<tt>deb</tt>"-regels in <file>/etc/apt/sources.list</file>
	  door er een hekje (<tt>#</tt>) voor te plaatsen.</p>

<!-- Default cdrom mount point is /cdrom, not /media/cdrom and fixed!, see #282344
     (but the -d option of apt-cdrom allows scanning from somewhere else) -->
	  <p>Controleer dat er een regel in <file>/etc/fstab</file> aanwezig is
	  die het mogelijk maakt om u CD-station aan te koppelen op
	  aanhechtpunt <file>/cdrom</file> (dit aanhechtpunt is noodzakelijk
	  voor <prgn>apt-cdrom</prgn>). Als bijvoorbeeld <file>/dev/hdc</file>
	  uw CD-station is, dient <file>/etc/fstab</file> een regel te bevatten
	  als:
<example compact="compact">
/dev/hdc /cdrom auto defaults,noauto,ro 0 0
</example></p>

	  <p>Merk op dat in het vierde veld <em>geen spaties</em> mogen staan
	  tussen de woorden <tt>defaults,noauto,ro</tt>.</p>

	  <p>Om te verifiëren dat dit werkt kunt u een CD laden en proberen de
	  volgende opdrachten uit te voeren:
<example compact="compact">
# mount /cdrom    # koppelt de CD aan op het aanhechtpunt
# ls -alF /cdrom  # zou de inhoud van de hoofdmap van de CD moeten tonen
# umount /cdrom   # ontkoppelt de CD
</example></p>

	  <p>Geef vervolgens de volgende opdracht:
<example compact="compact">
# apt-cdrom add
</example>

	  voor elke Debian CD met installeerbare pakketten ('Binary CD')
	  om de lijsten met de op de diverse CD's beschikbare pakketten
	  toe te voegen aan de database van APT.</p>
	</sect1>
	</sect>


	<sect id="upgradingpackages"><heading>Pakketten opwaarderen</heading>

	  <p>De aanbevolen methode om de opwaardering vanaf een voorgaande
	  &debian; release uit te voeren is met gebruikmaking van <prgn>aptitude</prgn>
	  voor pakketbeheer.
	  Deze toepassing neemt veiligere beslissingen over de installatie van
	  pakketten dan wanneer u <prgn>apt-get</prgn> rechtstreeks uitvoert.</p>

	  <p>Vergeet niet om alle benodigde partities (met name root en
	  <file>/usr</file>) met lees- en schrijfrechten aan te koppelen,
	  bijvoorbeeld met
<example compact="compact">
# mount -o remount,rw /<var>aanhechtpunt</var>
</example></p>

	  <p>Controleer nu nogmaals dat de bronregels voor APT (in
	  <file>/etc/apt/sources.list</file>) ofwel naar <tt>&releasename;</tt>"
	  of naar "<tt>stable</tt>" verwijzen. Er behoren geen actieve bronregels
	  meer te zijn die naar  &oldreleasename; verwijzen.
	  Let op: bronregels voor CD's
	  verwijzen vaak naar "<tt>unstable</tt>"; hoewel dit verwarrend kan
	  zijn, mag u deze <em>niet</em> wijzigen.</p>

	<sect1 id="record_session"><heading>De sessie vastleggen</heading>

	  <p>Het wordt sterk aanbevolen om het programma
	  <prgn>/usr/bin/script</prgn> te gebruiken om een log te maken van wat
	  er gebeurt tijdens de migratie. Als er dan problemen ontstaan, kunt
	  u, indien nodig, hieruit exacte informatie bijvoegen in een
	  probleemrapport. Geef de volgende, of een vergelijkbare, opdracht om
	  te beginnen met het opnemen van het log:
<example compact="compact">
# script -t 2>~/upgrade-&releasename;.timing -a ~/&releasename;-migratie.log
</example>
	  Bewaar dit logbestand niet in een tijdelijke map als <file>/tmp</file>
	  of <file>/var/tmp</file> (bestanden in deze mappen kunnen worden gewist
	  tijdens de migratie of bij een herstart van de computer).</p>

	  <p>Het logbestand stelt u ook in staat om informatie die al van het
	  scherm af is gerold alsnog te bekijken. Schakel hiervoor naar VT2
	  (met <tt>alt-F2</tt>) en gebruik, nadat u bent aangelogd, <tt>less -R
	  ~root/&releasename;-migratie.log</tt> om het bestand te bekijken.</p>

	  <p>Nadat de migratie is voltooid, kunt u <prgn>script</prgn>
	  stoppen met het commando <tt>exit</tt>.</p>

          <p>Als u de <em>-t</em> optie van <prgn/script/ heeft gebruikt, dan
          kunt u het programma <prgn/scriptreplay/ gebruiken om de hele sessie
          opnieuw af te spelen:
<example>
# scriptreplay ~/upgrade-&releasename;.timing ~/&releasename;-migratie.log
</example>

          </p>
        </sect1>

	<sect1 id="updating_lists"><heading>De pakkettendatabase bijwerken</heading>

	  <p>Eerst moet de database met beschikbare pakketten voor de nieuwe
	  release worden opgehaald. Dit gebeurt met de volgende
	  opdracht:</p>

<p><example compact="compact">
# aptitude update
</example></p>
	</sect1>

+<!-- JFS: Hopefully this will be fixed in lenny -->
+          <p>Running this the first time new sources are updated will print out
+          some warnings related to the availability of the sources. These
+          warnings are harmless and will not appear if you rerun the command again.
+          </p>
+

+       <sect1><heading>Make sure you have sufficient space for the upgrade</heading>
+
+       <p>You have to make sure before upgrading your system that you have
+       sufficient hard disk space when you start the full system upgrade
+       described in <ref id="upgrading_other">.  First, any package needed for
+       installation that is fetched from the network is stored in
+       <file>/var/cache/apt/archives</file> (and the <file>partial/</file>
+       subdirectory, during download), so you must make sure you have enough space
+       on the file system partition that holds <file>/var/</file>
+       to temporarily download the packages that will be installed in your system.
+       After the download, you will probably need more space in other 
+       file system partitions in order to both install upgraded packages (which
+       might contain bigger binaries or more data) and new packages that will be pulled
+       in for the upgrade. If your system does not have sufficient space you
+       might end up with an incomplete upgrade that might be difficult to 
+       recover from.</p>
+
+<!-- JFS: Apt will not always abort if you do not have enough disk space. 
+       For reference see: #247331, #214119, #192146, #185201, #40438 and #32919 -->
+
+       <p>Both <prgn/aptitude/ and <prgn/apt/ will show you detailed information
+       of the disk space needed for the installation. Before executing the
+       upgrade, you can see this estimate by running:
+       </p>
+
+         <p><example>
+# aptitude -y -s -f --with-recommends dist-upgrade
+[ ... ]
+XXX upgraded, XXX newly installed, XXX to remove and XXX not upgraded.
+Need to get xx.xMB/yyyMB of archives. After unpacking AAAMB will be used.
+Would download/install/remove packages.
+       </example></p>
+
+
+       <p>If you do not have enough space for the upgrade, make sure you free up
+       space beforehand. You can:
+       </p>
+
+<!-- JFS There are more tips at 
+       http://lists.debian.org/debian-user/2005/11/msg02078.html or
+       http://www.debian-administration.org/articles/143
+       but maybe that should be in the Debian Reference best and pointed from here -->
+       <p>
+       <list>
+<!-- JFS: Does aptitude to 'apt-get autoclean' by itself? -->
+       <item>Remove packages that have been previously downloaded for
+       installation (at <file>/var/cache/apt/archive</file>). Cleaning up the
+       package cache by running <prgn>apt-get clean</prgn> or <prgn>aptitude
+       clean</prgn> will remove all previously downloaded package files.
+
+<!-- JFS Point to http://www.enricozini.org/blog/eng/pkgsizestat.html ?
+     Enrico's script shows files that occupy space in a given partition
+     which might be good for systems that are heavily partitioned -->
+
+       <item>Remove old packages you no longer use. If you have
+       <prgn/popularity-contest/ installed, you can use
+       <prgn/popcon-largest-unused/ to list the packages you do not use in the
+       system that occupy the most space. You can also use <prgn/deborphan/
+       or <prgn/debfoster/ to find obsolete packages (see 
+       <ref id="obsolete">).
+       Alternatively you can start <prgn/aptitude/ in "visual mode" and find
+       obsolete packages under "Obsolete and Locally Created Packages".
+
+       <item>Remove packages taking up too much space, which are not currently 
+       needed (you can always reinstall them after the
+       upgrade). You can list the packages that take up most of the disk space
+       with <prgn/dpigs/ (available in the <package/debian-goodies/ package)
+       or with <prgn/wajig/ (running <tt>wajig size</tt>).
+
+<!-- TODO: consider this for lenny
+You can list packages that take up most of the disk space with
+       <prgn/aptitude/ .  Start <prgn/aptitude/ into "visual mode", select
+       "Views" and "New Flat Package List" (this menu entry is available only
+       after etch version), press "l" and enter "~i", press "S" and enter
+       "~installsize", then it will give you nice list to work with.  Doing
+       this after partial upgrade described in <ref id="upgrading_aptitude">
+       should give you access to this new feature.
+-->
+
+       <item>Temporarily move to another system, or permanently remove, system
+       logs residing under <file>/var/log/</file>.
+
+       </list></p>
+
+       <p>Note that in order to safely remove packages, it is advisable to
+       switch your <file>sources.list</file> back to &oldreleasename; as
+       described in <ref id="old-sources">.</p>
+
+        </sect1>
+
+        <sect1 id="minimal_upgrade"><heading>Minimal system upgrade</heading>
+
+        <p>Because of certain necessary package conflicts between &oldreleasename;
+        and &releasename;, running <tt>aptitude dist-upgrade</tt> directly will
+        often remove large numbers of packages that you will want to keep.  We
+        therefore recommend a two-part upgrade process, first a minimal upgrade to
+        overcome these conflicts, then a full <tt>dist-upgrade</tt>.
+        </p>
 
+        <p>First, run:
+          <example>
+# aptitude upgrade
+          </example>
+        </p>
 
+        <p>This has the effect of upgrading those packages which can be upgraded
+        without requiring any other packages to be removed or installed.</p>
 
+        <p>Follow the minimal upgrade with:
           <example>
+# aptitude install initrd-tools
           </example></p>
 
+        <p>This step will automatically upgrade <package/libc6/ and
+        <package/locales/ and will pull in SELinux support libraries
+        (<package/libselinux1/). At this point, some running services will be
+        restarted, including <prgn/xdm/, <prgn/gdm/ and <prgn/kdm/. As a
+        consequence, local X11 sessions will be disconnected.</p>
+
+        <p>The next step will vary depending on the set of packages that you have
+        installed.  These release notes give general advice about which method
+        should be used, but if in doubt, it is recommended that you examine the
+        package removals proposed by each method before proceeding.</p>
+        <p>Some common packages that are expected to be removed include
+        <package/base-config/, <package/hotplug/, <package/xlibs/,
+        <package/netkit-inetd/, <package/python2.3/, <package/xfree86-common/,
+        and <package/xserver-common/.  For a more complete list of packages
+        obsoleted in &releasename;, see <ref id="obsolete">.
+        </p>
+
+         <sect2 id="minimal_upgrade_desktop"><heading>Upgrading a desktop system</heading>
+        <p>This upgrade path has been verified to work on systems with the sarge
+        <tt>desktop</tt> task installed.  It is probably the method that will give
+        the best results on systems with the <tt>desktop</tt> task installed, or
+        with the <tt>gnome</tt> or <tt>kde</tt> packages installed.
+
+        <p>It is probably <em>not</em> the correct method to use if you do not
+        already have the <package/libfam0c102/ and <package/xlibmesa-glu/ packages
+        installed:
+          <example>
+# dpkg -l libfam0c102 | grep ^ii
+# dpkg -l xlibmesa-glu | grep ^ii
+          </example>
+        </p>
+
+	<p>If you do have a full desktop system installed, run:
+	  <example>
+# aptitude install libfam0 xlibmesa-glu
+	  </example></p>
+
+         </sect2>
+
+         <sect2 id="minimal_upgrade_x_server"><heading>Upgrading a system with some X packages installed</heading>
+        <p>Systems with some X packages installed, but not the full
+        <tt>desktop</tt> task, require a different method.  This method applies in
+        general to systems with <package/xfree86-common/ installed, including some
+        server systems which have <package/tasksel/ server tasks installed as some
+        of these tasks include graphical management tools.  It is likely the
+        correct method to use on systems which run X, but do not have the full
+        <tt>desktop</tt> task installed.
+        <example>
+# dpkg -l xfree86-common | grep ^ii
+        </example>
+        </p>
+
+        <p>First, check whether you have the <package/libfam0c102/ and
+        <package/xlibmesa-glu/ packages installed.
+          <example>
+# dpkg -l libfam0c102 | grep ^ii
+# dpkg -l xlibmesa-glu | grep ^ii
+          </example>
+        </p>
+
+        <p>If you do not have <package/libfam0c102/ installed, do not include
+        <package/libfam0/ in the following commandline.  If you do not have
+        <package/xlibmesa-glu/ installed, do not include it in the following
+        commandline.
+          <footnote>This command will determine whether you need libfam0 and
+          xlibmesa-glu installed, and auto-select them for you:
+          <example>
+# aptitude install x11-common \
+  $(dpkg-query --showformat '${Package} ${Status}\n' -W libfam0c102 xlibmesa-glu \
+    | grep 'ok installed$' | sed -e's/ .*//; s/c102//')
+          </example>
+          </footnote>
+
+          <example>
+# aptitude install x11-common <var>libfam0</var> <var>xlibmesa-glu</var>
+          </example>
+        </p>
+
+          <p>Note that installing <package/libfam0/ will also install the File Alteration Monitor
+          (<package/fam/) as well as the RPC portmapper (<package/portmap/) if
+          not already available in your system. Both packages will enable a new
+          network service in the system although they can both be configured to
+          be bound to the (internal) loopback network device.</p>
+         </sect2>
+
+         <sect2 id="minimal_upgrade_server"><heading>Upgrading a system with no X support installed</heading>
+        <p>On a system with no X, no additional aptitude install command should be
+        required, and you can move on to the next step.
+        </p>
+
+         </sect2>
 
         </sect1>
 
+        <sect1 id="upgrading_kernel"><heading>Upgrading the kernel</heading>
 
+        <p>The <package/udev/ version in &releasename; does not support kernel
+        versions earlier than 2.6.15 (which includes &oldreleasename; 2.6.8
+        kernels), and the <package/udev/ version in &oldreleasename; will not work
+        properly with the latest kernels.  In addition, installing the
+        &releasename; version of <package/udev/ will force the removal of
+        <package/hotplug/, used by Linux 2.4 kernels.</p>
+
+        <p>As a consequence, the previous kernel package will probably not boot
+        properly after this upgrade. Similarly, there is a time window during
+        the upgrade in which <package/udev/ has been upgraded but the latest kernel
+        has not been installed. If the system were to be rebooted at this point,
+        in the middle of the upgrade, it might not be bootable because of
+        drivers not being properly detected and loaded.  (See <ref
+        id="upgrade_preparations"> for recommendations on preparing for this
+        possibility if you are upgrading remotely.)</p>
+
+        <p>Unless your system has the <tt>desktop</tt> task installed, or
+        other packages that would cause an unacceptable number of package
+        removals, it is therefore recommended that you upgrade the kernel on its 
+        own at this point.</p>
+
+          <p>To proceed with this kernel upgrade, run:
+          <example>
+# aptitude install linux-image-2.6-<var>flavor</var>
+          </example>
 
+          See <ref id="kernel-metapackage"> for help in determining which flavor of
+          kernel package you should install.</p>
 
+          <p>In the desktop case, it is unfortunately not possible to ensure the
+          new kernel package is installed immediately after the new <package/udev/
+          is installed, so there is a window of unknown length when your system
+          will have no kernel installed with full hotplug support.  See <ref
+          id="newkernel"> for information on configuring your system to not depend
+          on hotplug for booting.</p>

	<sect1 id="upgrading_other"><heading>De rest van het systeem opwaarderen</heading>

	  <p>U kunt nu verder gaan met het voornaamste deel van de migratie.
	  Voer het volgende commando uit:</p>
<p><example compact="compact">
<!-- Mogelijk ten onrechte verwijderd
# aptitude -f --with-recommends dist-upgrade
-->
# aptitude dist-upgrade
</example></p>

	  <p>Dit commando zal een volledige opwaardering van uw systeem
	  uitvoeren; dat wil zeggen: de nieuwste beschikbare versies van alle
	  pakketten installeren en alle mogelijke afhankelijkheden tussen
	  pakketten oplossen. Indien noodzakelijk zal het ook nieuwe pakketten
	  installeren (meestal nieuwe versies van bibliotheken of hernoemde
	  pakketten) en eventuele conflicterende verouderde pakketten verwijderen.
	  </p>

	  <p>Als de opwaardering wordt uitgevoerd vanaf een set CD's, zal u
	  gedurende de opwaardering enkele keren worden gevraagd om een
	  bepaalde CD te laden. Mogelijk zult u dezelfde CD meermalen moeten
	  laden; dit wordt veroorzaakt door onderling afhankelijke pakketten
	  die over verschillende CD's zijn verdeeld.</p>

	  <p>Nieuwe versies van op dit moment geïnstalleerde pakketten die niet
	  kunnen worden opgewaardeerd zonder de installatie-status van andere
	  pakketten te wijzigen, zal op zijn huidige versie blijven (wordt
	  weergegeven als "held back"). Dit kan worden verholpen door ofwel met
	  behulp van <prgn>aptitude</prgn> deze pakketten te selecteren voor
	  installatie, ofwel door <tt>aptitude -f install <var>package</var></tt>
	  te proberen.</p>

<!-- Mogelijk ten onrechte verwijderd
	  <p>De optie <tt>--fix-broken</tt> (of <tt>-f</tt>) laat
	  <package>apt</package> proberen 'gebroken' afhankelijkheden op een
	  systeem te herstellen. <package>apt</package> staat niet toe dat op
	  een systeem gebroken afhankelijkheden tussen pakketten bestaan.</p>
-->
	</sect1>

+<!-- JFS: Bug #403496 -->
+        <sect1 id="get_signatures"><heading>Getting package signatures</heading>
+
+          <p>After the upgrade, with the new version of <prgn/apt/ you can now
+          update your package information, which will include the new package
+          signature checking mechanism:</p>
+	  <p><example>
+# aptitude update
+	  </example></p>
+
+          <p>The upgrade will have already retrieved and enabled the signing
+          keys for Debian's package archives. If you add other (unofficial)
+          package sources, <prgn/apt/ will print warnings related to its
+          inability to confirm that packages downloaded from them are
+          legitimate and have not been tampered with. For more information
+          please see <ref id="pkgmgmt">.
+          </p>
+
+<!-- JFS: Bug #376158 -->
+          <p>You will notice that, since you are using the new version of
+          <prgn/apt/, it will download package differences files (<tt/pdiff/)
+          instead of the full package index list. For more information on this
+          feature please read <ref id="apt-pdiff">.</p>

+	</sect1>


	<sect1 id="trouble"><heading>Mogelijke problemen tijdens het opwaarderen</heading>

	  <p>Als een operatie met <prgn>aptitude</prgn>, <prgn>apt-get</prgn>
	  of <prgn>dpkg</prgn> mislukt met de foutmelding
<example compact="compact">
E: Dynamic MMap ran out of room
</example>
	  dan is de standaard grootte van de "cache" ontoereikend. U kunt dit
	  verhelpen ofwel door regels in <file>/etc/apt/sources.list</file>
	  die u niet nodig heeft te verwijderen of uit te commentariëren, ofwel
	  door de cache te vergroten. De grootte van de cache kan worden verhoogd
	  door het instellen van <tt>APT::Cache-Limit</tt> in
	  <file>/etc/apt/apt.conf</file>. De volgende opdracht stelt deze parameter
	  in op een waarde die voldoende zou moeten zijn voor de migratie:
<example compact="compact">
# echo 'APT::Cache-Limit "12500000";' >> /etc/apt/apt.conf
</example>
	  Aanname hierbij is dat deze variabele nog niet gezet is in dit bestand.</p>

	  <p>Soms is het noodzakelijk om in APT de optie <tt/APT::Force-LoopBreak/
	  te activeren zodat in verband met een 'Conflicts/Pre-Depends'-lus een
	  vereist pakket tijdelijk kan worden verwijderd. <prgn>aptitude</prgn>
	  zal u hierover informeren en de opwaardering afbreken. U kunt deze
	  situatie verhelpen door op de opdrachtregel voor
	  <prgn>aptitude</prgn> de optie <tt>-o APT::Force-LoopBreak=1</tt> mee
	  te geven.</p>
<!-- JFS: Shouldn't this mention also Apt's configuration file? -->

	  <p>Het is mogelijk dat de afhankelijkheden op een systeem dusdanig
	  verstoord zijn dat handmatige interventie noodzakelijk is.
	  Normaalgesproken betekent dit dat u <prgn>aptitude</prgn> of
<example compact="compact">
# dpkg --remove <var>pakketnaam</var>
</example>
	  zult moeten gebruiken om enkele van de veroorzakende pakketten te
	  verwijderen. Een andere mogelijkheid is:
<example compact="compact">
# aptitude --fix-broken install
# dpkg --configure --pending
</example></p>

	  <p>In uitzonderlijke situaties is mogelijk dat u een herinstallatie
	  moet forceren, bijvoorbeeld met:
<example compact="compact">
# dpkg --install /pad/naar/pakketnaam.deb
</example></p>

	  <p>Bestandsconflicten mogen zich eigenlijk niet voordoen als u een
	  migratie uitvoert vanaf een "zuiver" &oldreleasename; systeem, maar
	  kunnen wel voorkomen als er niet-officiële "backports" geïnstalleerd
	  zijn. Een bestandsconflict zal resulteren in een foutmelding als:
<example compact="compact">
<!-- TODO: Onderstaande moet bijgewerkt worden:
-Unpacking replacement <var>&lt;package-foo&gt;</var> ...
-dpkg: error processing <var>&lt;package-name-for-foo&gt;</var> (--unpack):
+Unpacking <var>&lt;package-foo&gt;</var> (from <var>&lt;package-foo-file&gt;</var>) ...
+dpkg: error processing <var>&lt;package-foo&gt;</var> (--install):
  trying to overwrite `<var>&lt;some-file-name&gt;</var>',
  which is also in package <var>&lt;package-bar&gt;</var>
+dpkg-deb: subprocess paste killed by signal (Broken pipe)
+ Errors were encountered while processing:
+ <var>&lt;package-foo&gt;</var>
-->
Uitpakken van vervangende <var>&lt;pakket-foo&gt;</var> ...
dpkg: fout bij afhandelen van <var>&lt;pakket-naam-voor-foo&gt;</var> (--unpack):
 poging tot overschrijven van `<var>&lt;some-file-name&gt;</var>',
 wat ook in pakket <var>&lt;pakket-bar&gt; zit</var>
</example></p>

	  <p>U kunt proberen een bestandsconflict op te lossen door het pakket
	  dat wordt genoemd in de <em>laatste</em> regel van de foutmelding,
	  geforceerd te verwijderen:
<example compact="compact">
# dpkg -r --force-depends <var>pakketnaam</var>
</example></p>

	  <p>Nadat een en ander hersteld is, zou u in staat moeten zijn om de
	  opwaardering te hervatten door de hiervoor beschreven
	  <tt>aptitude</tt> opdrachten te herhalen.</p>

	  <p>Tijdens het opwaarderen zullen vragen worden gesteld met
	  betrekking tot het (opnieuw) configureren van diverse pakketten. Als
	  u wordt gevraagd of een bestand in de mappen <file>/etc/init.d</file>
	  of <file>/etc/terminfo</file>, of het bestand
	  <file>/etc/manpath.config</file> mag worden vervangen door de versie
	  van de pakketbeheerder, zult u meestal bevestigend moeten antwoorden
	  om de consistentie van het systeem te waarborgen. Het is altijd
	  mogelijk om de oude versies te herstellen aangezien deze zullen
	  worden bewaard met de extensie <tt>.dpkg-old</tt>.</p>

	  <p>Als u niet zeker weet wat u moet doen, schrijf dan de naam van het
	  pakket of bestand op en zoek later uit wat er precies aan de hand is.
	  Ook kunt u in het logbestand de informatie opzoeken die tijdens de
	  opwaardering op het scherm werd getoond.</p>
	</sect1>
	</sect>

+        <sect id="newkernel"><heading>Upgrading your kernel and related
+        packages</heading>
 
+	  <p>This section explains how to upgrade your kernel and identifies
+	  potential issues related to this upgrade. You can either install one of
+	  the <package/linux-image-*/ packages provided by Debian, or compile a
+	  customized kernel from source.</p>
+
+<![ %uses-initrd [
+	  <p>Note that a lot of information in this section is based on the
+	  assumption that you will be using one of the modular Debian kernels,
+	  together with <package/initramfs-tools/ and <package/udev/. If you
+	  choose to use a custom kernel that does not require an initrd or
+	  if you use a different initrd generator, some of the information may not be
+	  relevant for you.</p>
+]]>
+<![ %no-initrd [
+	  <p>Note that this section contains a lot of information related to
+	  the use of <package/initramfs-tools/ and <package/udev/. However,
+	  as the Debian kernels for &architecture; do not use an initrd to
+	  boot the system, some of this information may not be relevant for
+	  you. The information is still included as you may have
+	  <package/udev/ installed for other reasons.</p>
+]]>
+	  <p>Note also that if <package/udev/ is <em/not/ installed on your
+	  system, it is still possible to use <package/hotplug/ for
+	  hardware discovery.</p>

<![ %defaulted-2.4 [
+	<p>If you are currently using a 2.4 kernel, you should also read
+	<ref id="upgrade-to-2.6"> carefully.</p>
]]>

+        <sect1 id="kernel-metapackage"><heading>Installing the kernel metapackage</heading>
+          <p>When you dist-upgrade from &oldreleasename; to &releasename;,
+          it is strongly recommended that you install a new
+          linux-image-2.6-* metapackage.
+          This package may be installed automatically by the dist-upgrade
+          process. You can verify this by running:
+<!-- NOTE (jfs): Users using apt/aptitude might not have their available file
+     updated so '^ii' is really unnecessary, maybe dpkg -l 'linux-image*' would be
+     better here? -->
+          <example>
+# dpkg -l "linux-image*" | grep ^ii
+          </example></p>
+
+          <p>If you do not see any output, then you will need to install a
+          new linux-image package by hand. To see a list of available
+          linux-image-2.6 metapackages, run:
+          <example>
+# apt-cache search linux-image-2.6- | grep -v transition
+          </example></p>
+
+          <p>If you are unsure about which package to select, run
+          <tt>uname -r</tt> and look for a package with a similar name.
+          For example, if you see '2.4.27-3-686', it is recommended that you
+          install <package/linux-image-2.6-686/.
+<![ %i386 [
+          (Note that the 386 flavor no longer exists; if you are currently using
+	  the 386 kernel flavor, you should install the 486 flavor instead.)
+]]>
+          You may also use <prgn>apt-cache</prgn> to see a long description of each
+          package in order to help choose the best one available.
+          For example:
+          <example>
+# apt-cache show linux-image-2.6-686
+          </example></p>

	 <p>Vervolgens kunt u de gewenste kernel installeren met <tt>aptitude
	 install</tt>. Nadat de nieuwe kernel is geïnstalleerd, dient u bij de
	 eerste gelegenheid de computer opnieuw op te starten om de voordelen
	 van de nieuwe kernel versie ook daadwerkelijk te benutten.</p>

	 <p>Voor meer avontuurlijk ingestelde personen is er een relatief
	 eenvoudige manier om uw eigen maatwerk-kernel te compileren op
	 &debian;. Installeer hiervoor het pakket
	 <package>kernel-package</package> en lees de documentatie in
	 <file>/usr/share/doc/kernel-package</file>.</p>

	</sect1>

+        <sect1 id="upgrade-from-2.6"><heading>Upgrading from a 2.6 kernel</heading>
+
+        <p>If you are currently running a 2.6 series kernel from
+        &oldreleasename; this upgrade will take place automatically after you do a full upgrade
+        of the system packages (as described in <ref id="upgradingpackages">).
+        </p>
+
+        <p>If possible, it is to your advantage to upgrade the kernel package
+        separately from the main <tt/dist-upgrade/ to reduce the chances of a
+        temporarily non-bootable system.  See <ref id="upgrading_kernel"> for a
+        description of this process.  Note that this should only be done after the
+        minimal upgrade process described in <ref id="minimal_upgrade">.
+        </p>
+
+        <p>You can also take this step if you are using your own custom
+        kernel and want to use the kernel available in &releasename;.
+        If your kernel version is not supported by <package/udev/ then
+        it is recommended that you upgrade after the minimal upgrade.
+        If your version is supported by <package/udev/ you can safely wait
+        until after the full system upgrade.</p>
+
+<!--
+         <p><em>TRY</em>: In aptitude, upgrade only 'required' 'important'
+         'standard' packages limit by pressing 'l' and input
+         !~v(~pextra|~poptional) keep with : for hold this time upgrade by
+         pressing 'U' and 'g'  (untested but ...) (You can do this in much
+         finer steps.)
+-->
+        </sect1>
+
+<![ %defaulted-2.4 [
+        <sect1 id="upgrade-from-2.4"><heading>Upgrading from a 2.4 kernel</heading>
+
+        <p>If you have a 2.4 kernel installed, and your system relies on 
+        <package/hotplug/ for its hardware detection you should first upgrade
+        to a 2.6 series kernel from &oldreleasename; before attempting the upgrade. Make
+        sure that the 2.6 series kernel boots your system and all your hardware is
+        properly detected before you perform the upgrade. The <package/hotplug/ package
+        is removed from the system (in favor of <package/udev/) when you do a full system
+        upgrade. If you do not do the kernel upgrade before this your system might
+        not boot up properly from this point on. Once you have done an upgrade
+        to a 2.6 series kernel in &oldreleasename; you can do a kernel upgrade
+        as described in <ref id="upgrade-from-2.6">.</p>
+
+        <p>If your system does not rely on <package/hotplug/<footnote>You can
+        have the kernel modules needed by your system loaded statically through proper configuration
+        of <file>/etc/modules</file></footnote> you can delay the kernel upgrade 
+        to after you have done a full system upgrade, as described in <ref
+        id="upgrading_other">. Once your system has been upgraded
+        you can then do the following (changing the kernel package name to the one most
+        suited to your system by substituting <em>&lt;flavor&gt;</em>):
+        <example>
+# aptitude install linux-image-2.6-&lt;flavor&gt;
+        </example>
+        </p>
+
+        </sect1>
+]]>
+
+        <sect1 id="device-reorder"><heading>Device enumeration reordering</heading>
+          <p>&releasename; features a more robust mechanism for hardware discovery
+          than previous releases. However, this may cause changes in the
+          order devices are discovered on your system, affecting the order
+          in which device names are assigned.
+          For example, if you have two network adapters that are associated
+          with two different drivers, the devices eth0 and eth1 refer to
+          may be swapped.
+          Please note that the new mechanism means that if you e.g. exchange
+          ethernet adapters in a running &releasename; system, the new adapter
+          will also get a new interface name.</p>
+
+          <p>For network devices, you can avoid this reordering by using
+          <package>udev</package> rules, more specifically, through the definitions at
+          <file>/etc/udev/rules.d/z25_persistent-net.rules</file><footnote>
+          The rules there are automatically generated by the script
+          <file>/etc/udev/rules.d/z45_persistent-net-generator.rules</file> to
+          have persistent names for network interfaces. Delete this symlink to
+          disable persistent device naming for NICs by <package/udev/.</footnote>.
+          Alternatively you can use the <prgn>ifrename</prgn> utility to bind
+          physical devices to specific names at boot time.
+<!-- TODO: add ifupdown-scripts-zg2 as well here? -->
+          See <manref name="ifrename" section="8"> and <manref name="iftab"
+          section="5"> for more information.
+          The two alternatives (<package>udev</package> and <prgn>ifrename</prgn>)
+          should not be used at the same time.
+          </p>
+
+<!-- TODO:
+          *** maks: please review the initramfs stuff for accuracy - I'm going
+          ***       by what I remember, and haven't tested this recently
+          -->
+          <p>For storage devices, you can avoid this reordering by using
+          <package/initramfs-tools/ and configuring it to load storage device
+          driver modules in the same order they are currently loaded.
+          To do this, identify the order the storage modules on your system
+          were loaded by looking at the output of <prgn/lsmod/.
+          <prgn/lsmod/ lists modules in the reverse order that they were loaded
+          in, i.e., the first module in the list was the last one
+          loaded. Note that this will only work for devices which the kernel
+          enumerates in a stable order (like PCI devices).</p>
+
+          <p>However, removing and reloading modules after initial boot
+          will affect this order. Also, your kernel may have some drivers
+          linked statically, and these names will not appear in the output
+          of <prgn>lsmod</prgn>. You may be able to decipher these driver
+          names and load order from looking at
+          <file>/var/log/kern.log</file>, or the output of
+          <prgn>dmesg</prgn>.</p>
+
+          <p>Add these module names to <file>/etc/initramfs-tools/modules</file>
+          in the order they should be loaded at boot time. Some module names may
+          have changed between &oldreleasename; and &releasename;. For
+          example, sym53c8xx_2 has become sym53c8xx.</p>
+
+          <p>You will then need to regenerate your initramfs image(s) by
+          executing <tt>update-initramfs -u -k all</tt>.</p>
+
+          <p>Once you are running a &releasename; kernel and <package/udev/, you may
+          reconfigure your system to access disks by an alias that is not
+          dependent upon driver load order. These aliases reside in the
+          <file>/dev/disk/</file> hierarchy.</p>
+        </sect1>
+
+<![ %ia64 [
+        <sect1><heading>Serial device reordering</heading>
+          <p>If you have an HP machine and you're using the MP serial
+          console port (the connector labelled "console" on the 3-headed
+          cable), this kernel upgrade will break your console!</p>
+
+          <p>Upon reboot, the system will show up the message "Loading
+          initrd...." but it will stop there. Notice that systems with
+          outdated firmware will show similar symptoms, although the issue is
+          related to kernel incompatibilities (see <ref
+          id="upgrade-to-2.6">).</p>
+
+          <p>Please read the following information before upgrading.</p>
+
+          <p><list>
+          <item><p>The console device will change from <file>ttyS0</file> to
+           <file>ttyS1</file>, <file>ttyS2</file>, or <file>ttyS3</file> so
+            <list>
+            <item><p>Edit <file>/etc/inittab</file> to add a getty entry for
+             <file>/dev/ttyS1</file> (rx4640, rx5670, rx7620, rx8620, Superdome),
+             <file>/dev/ttyS2</file> (rx1600), or
+             <file>/dev/ttyS3</file> (rx2600).</p></item>
+            <item><p>Edit <file>/etc/securetty</file> to add
+             <file>ttyS1</file>, <file>ttyS2</file>, or
+             <file>ttyS3</file>.</p></item>
+            <item><p>Leave the existing <file>ttyS0</file> entries in
+             <file>/etc/inittab</file> and <file>/etc/securetty</file> so
+             you can still boot old kernels.</p></item>
+            </list>
+          </p></item>
+
+          <item><p>Edit <file>/etc/elilo.conf</file> to remove any "console="
+           arguments.</p></item>
+
+          <item><p>Run <prgn/elilo/ to install the bootloader with new
+           configuration.</p></item>
+
+          <item><p>Reboot and use the EFI boot option maintenance menu to
+           select exactly one device for console output, input, and standard
+           error.  Then do a cold reset so the changes take
+           effect.</p> 
+
+           <p>For the MP console, be careful to select the device with
+           "Acpi(HWP0002,700)/Pci(...)/Uart" in the path.</p></item>
+          </list></p>
+
+          <p>More details about these changes and troubleshooting hints are
+          available at
+          <url id="http://lists.debian.org/debian-ia64/2005/01/msg00008.html">.</p>
+        </sect1>
+]]>
+<![ %uses-initrd [
+<!-- #417643 -->
+        <sect1 id="boot-timing"><heading>Boot timing issues</heading>
+
+          <p>If an initrd created with <package/initramfs-tools/ is used to
+          boot the system, in some cases the creation of device files by
+          <package/udev/ can happen too late for the boot scripts to act on.</p>
+          <p>The usual symptoms are that the boot will fail because the root
+          file system cannot be mounted and you are dropped into a debug shell,
+          but that when you check afterwards, all devices that are needed are
+          present in <file>/dev</file>. This has been observed in cases where
+          the root file system is on a USB disk or on RAID.</p>
+          <p>A workaround for this issue is to use the boot parameter
+          <tt>rootdelay=<var/9/</tt>. The value for the timeout (in seconds) may
+          need to be adjusted.</p>
 
         </sect1>
+]]>
+        </sect>

	<sect id="nownownow"><heading>Voordat u het systeem opnieuw opstart</heading>

	  <p>Als <tt>aptitude dist-upgrade</tt> klaar is, is de "formele"
	  migratievoltooid. Er zijn echter enkele zaken die gedaan zouden
	  moeten worden <em>voordat</em> het systeem opnieuw wordt
	  opgestart.</p>

<!-- Vervangen, waarschijnlijk onbruikbaar
	  <p>Lees
	  <file>/usr/share/doc/xfree86-common/README.Debian-upgrade.gz</file>
	  voor nadere informatie over de opwaardering van de pakketten van het
	  X Window System. Dit is relevant voor gebruikers van alle voorgaande
	  releases van Debian. Kortgezegd, dit document moet u lezen.</p>

	<sect1 id="newkernel"><heading>Uw kernel opwaarderen</heading>

	  <p>Merk op dat de Linux kernel tijdens deze procedures <em>niet</em>
	  is opgewaardeerd. Desgewenst kunt u dit zelf doen, ofwel door één
	  van de pakketten <package>linux-image-*</package> te installeren of
	  door een door u zelf samengestelde kernel te compileren op basis van
	  de broncode (<package>kernel-source-*</package>).</p>

<![ %defaulted-2.4 [

	  <p>Als u op dit moment gebruik maakt van een kernel uit de 2.4-serie,
	  de oudere stabiele serie van de Linux kernel, kunt u desgewenst ook
	  een kernel uit de 2.6 serie gebruiken om betere ondersteuning van uw
	  hardware of prestatieverbetering te verkrijgen.</p>

	  <p>U wordt echter dringend geadviseerd om een opwaardering naar een
	  2.6-kernel <strong>niet</strong> uit te voeren als onderdeel van de
	  migratie van &oldreleasename; naar &releasename;. Enkele
	  aandachtspunten met betrekking tot een opwaardering naar 2.6 zijn
	  opgenomen in <ref id="upgrade-to-2.6">.</p>
]]>

	  <p>Om uw kernel op te waarderen, dient u eerst de kernel kiezen die
	  het best past bij uw (sub)platform. Een overzicht van de kernels die
	  beschikbaar zijn voor installatie kunt u verkrijgen met:
<example compact="compact">
# apt-cache search ^linux-image
</example></p>

	</sect1>
-->
+        <sect1 id="convert-devfs"><heading>Converting from devfs</heading>
+          <p>Debian kernels no longer include support for <tt>devfs</tt>,
+          so <tt>devfs</tt> users will need to convert their systems
+          manually before booting an &releasename; kernel.</p>
+
+          <p>If you see the string 'devfs' in <file>/proc/mounts</file>,
+          you are most likely using <tt>devfs</tt>.
+          Any configuration files that reference <tt>devfs</tt>-style names will need to be
+          adjusted to use <package>udev</package>-style names. Files that are likely to
+          refer to <tt>devfs</tt>-style device names include <file>/etc/fstab</file>,
+          <file>/etc/lilo.conf</file>, <file>/boot/grub/menu.lst</file>, and <file>/etc/inittab</file>.</p>
+
+          <p>More information about potential issues is available in bug report
+          <url id="http://bugs.debian.org/341152" name="#341152">.</p>
+        </sect1>
+
+<![ %sparc [
+        <sect1 id="missingdrivers"><heading>Possible missing drivers in initrd</heading>
+          <p>The &releasename; kernels do not yet have full sysfs support for
+          the native sparc sbus. <package/initramfs-tools/ relies on this to
+          include drivers for disk controllers in the initrd. If a driver is
+          not included in the initrd, your system may fail to boot.
+          <p>If your system uses the <tt/esp/ or <tt/qlogicpti/ module to
+          access your hard disks, you will need to include that module in
+          <file>/etc/initramfs-tools/modules</file> and regenerate the initrd
+          before you reboot your system. The initrd can be regenerated using:
+          <example>
+# update-initramfs -u -k all
+          </example></p>
+        </sect1>
+]]>
+
+<![ %hppa [
+        <sect1 id="missingdrivers"><heading>Possible missing drivers in initrd</heading>
+          <p>The &releasename; kernels do not yet have full sysfs support for
+          the native HP bus. <package/initramfs-tools/ relies on this to
+          include drivers for disk controllers in the initrd. If a driver is
+          not included in the initrd, your system may fail to boot.
+          <p>If your system uses the <tt/lasi700/ or <tt/zalon7xx/ module to
+          access your hard disks, you will need to include that module in
+          <file>/etc/initramfs-tools/modules</file> and regenerate the initrd
+          before you reboot your system. The initrd can be regenerated using:
+          <example>
+# update-initramfs -u -k all
+          </example></p>
+        </sect1>
+]]>
+
+<![ %i386-amd64 [
+        <sect1 id="rerunlilo"><heading>Rerun lilo</heading>
+
+          <p>If you are using <package/lilo/ as your bootloader (it is the
+          default bootloader for some installations of &oldreleasename;) it is strongly recommended
+          that you rerun <prgn>lilo</prgn> after the upgrade:
+          <example>
+# /sbin/lilo
+          </example></p>
+
+          <p>Notice this is needed even if you did not upgrade your system's kernel, as
+          <prgn>lilo</prgn>'s second stage will change due to the package upgrade.</p>
+
+          <p>Also, review the contents of your <file>/etc/kernel-img.conf</file> and
+          make sure that you have <em>do_bootloader = Yes</em> in it. That way the
+          bootloader will always be rerun after a kernel upgrade.
+          </p>
+
+          <p>If you encounter any issues when running <prgn/lilo/, review the
+          symbolic links in <file>/</file> to <file>vmlinuz</file> and
+          <file>initrd</file> and the contents of your
+          <file>/etc/lilo.conf</file> for discrepancies.</p>
+
+          <p>If you forgot to rerun <prgn/lilo/ before the reboot or the system
+          is accidentally rebooted before you could do this manually, your
+          system might fail to boot. Instead of the lilo prompt, you will only
+          see <em/LI/ when booting the system<footnote>For more information on
+          <prgn/lilo/'s boot error codes please see <url
+          id="http://tldp.org/HOWTO/Bootdisk-HOWTO/a1483.html" name="The Linux
+          Bootdisk HOWTO">.</footnote>. See <ref id="recovery"> for information
+          on how to recover from this.</p>
+
+        </sect1>
+]]>
+
+<![ %s390 [
+	<sect1 id="s390-config"><heading>S/390 hardware configuration</heading>
+
+	  <p>Not all S/390 hardware can be configured automatically. For the
+	  &releasename; kernels a new utility <package/sysconfig-hardware/ is
+	  used to correctly set up devices. Unfortunately documentation for
+	  this utility and its configuration files is not yet available. The
+	  configuration files for <package/sysconfig-hardware/ can be found
+          under <file>/etc/sysconfig/</file>.</p>
+
+	  <p>Especially if your system is currently running a 2.4 kernel,
+	  getting the configuration right can be a challenge. If you need any
+	  help, feel free to contact the
+	  <url id="http://lists.debian.org/debian-s390"
+	  name="Debian S/390 mailing list">.</p>
+
+	  <p>First install the utility and regenerate the initramfs initrd as
+	  the utility provides some scripts that need to be included in the
+	  initrd:
+	  <example>
+# aptitude install sysconfig-hardware
+# update-initramfs -u -k all
+	  </example></p>
+
+	<sect2 id="s390-dasd"><heading>Configuration for disks</heading>
+
+	  <p>This is done by modifying <file>/etc/zipl.conf</file>. The
+	  sysconfig utility can use the device path to the root device to
+	  enable it, which means that this path needs to be passed in the kernel
+	  boot parameters. For a regular dasd, the path is composed as follows:
+	  <example>
+&lt;bus&gt;-&lt;device&gt;
+	  </example>
+
+	  For the <tt/root/ parameter the partition needs to be appended to
+	  the path. So if your dasda is <tt/0.0.0122/, instead of
+	  <file>root=/dev/dasda1</file> you would include the following in
+	  the <tt/parameters/ line in <tt>/etc/zipl.conf</tt>:
+	  <example>
+root=/dev/disks/by-path/ccw-0.0.0122-part1
+	  </example>
+
+	  Or, alternatively you can use the <tt/enable/ parameter to specify
+	  the device to be enabled; in that case the partition:
+	  <example>
+root=/dev/dasda1 enable=ccw-0.0.0122
+	  </example>
+
+	  The paths to be used can vary for different devices. For example, for
+	  disks on a zFCP fiberchannel host adapter, the path consists of bus,
+	  device, driver, wwpn and lun. The parameters for a RAID1 would look
+	  like (on a single line):
+	  <example>
+root=/dev/md0 enable=ccw-0.0.2900-zfcp-0x21000020371c93a5:0
+enable=ccw-0.0.2900-zfcp-0x21000020371d8f94:0
+	  </example></p>
+
+	  <p>Other dasd devices (dasds not needed to bring up the root file
+	  system) are enabled through configuration files in
+	  <file>/etc/sysconfig/hardware/</file>. For a regular dasd, you just
+	  need to touch a file with the device path in its name:
+	  <example>
+# cd /etc/sysconfig/hardware
+# touch config-ccw-0.0.0122
+	  </example>
+
+	  For disks on a zFCP fiberchannel host adapter the individual devices
+	  are listed inside the file. Using the same example as above,
+	  create a file <file/config-ccw-0.0.2900/ containing (second device
+	  truncated for readability):
+	  <example>
+ZFCP_DEVICES=(0x21000020371c93a5:0x0000000000000000 0x2100...:0x...)
+	  </example></p>
+
+	</sect2>
+	<sect2 id="s390-other"><heading>Configuration for network devices</heading>
+
+	  <p>Network devices are enabled through configuration files in
+	  <file>/etc/sysconfig/hardware/</file>. For a ctc network device with
+	  read channel <tt/0.0.0a00/ and write channel <tt/0.0.0a01/ and using
+	  the S/390 protocol, you would create a file <file/config-ccw-0.0.0a00/
+	  containing:
+	  <example>
+CCWGROUP_CHANS=(0.0.0a00 0.0.0a01)
+CTC_PROTOCOL=0
+	  </example>
+
+	  For a qeth network device with layer2 mode enabled, this could be a
+	  file <file/config-ccw-0.0.0600/:
+	  <example>
+CCWGROUP_CHANS=(0.0.0600 0.0.0601 0.0.0602)
+QETH_OPTIONS=(layer2)
+	  </example></p>
+
+	  <p>Supported options for ctc are: <tt/CTC_PROTOCOL/ and <tt/CTC_BUFFER/;
+	  and for qeth: <tt/QETH_PORTNAME/, <tt/QETH_PORTNO/ and <tt/QETH_OPTIONS/.
+	  </p>
+	  <p>As network devices on S/390 do not have a stable MAC address, it is
+	  not possible to use <package/udev/ persistent device naming. Instead you
+	  can add an option <tt/INTERFACE_NAME/ in the configuration file to
+	  rename an interface.</p>
+
+	</sect2>
+	</sect1>
+]]>
+
+        <sect1 id="mdadm"><heading>Upgrading mdadm</heading>
+
+         <p>mdadm now needs a configuration file to assemble MD arrays (RAID)
+         from the initial ramdisk and during the system initialisation
+         sequence. Please make sure to read and act upon the instructions in
+         <file>/usr/share/doc/mdadm/README.upgrading-2.5.3.gz</file> after
+         the package has been upgraded <strong>and before you reboot</strong>.
+         The latest version of this file is available at
+         <url id="http://svn.debian.org/wsvn/pkg-mdadm/mdadm/trunk/debian/README.upgrading-2.5.3?op=file">;
+         please consult it in case of problems.</p>
+
+        </sect1>
+        </sect>
+
+        <sect id="for_next"><heading>Preparing for the next release</heading>
+
+          <p>After the upgrade there are several things you can do 
+          to prepare for the next release.</p>
+
+          <p><list>
+
+          <item><p>If using <prgn/grub/, edit <file>/etc/kernel-img.conf</file>
+          and adjust the location of the <prgn/update-grub/ program changing
+          <file>/sbin/update-grub</file> to <file>/usr/sbin/update-grub</file>.</p>
+
+          <item><p>If the new kernel image metapackage was pulled in as a
+          dependency of the old one, it will be marked as automatically installed,
+          which should be corrected:
+<example>
+# aptitude unmarkauto $(dpkg-query -W 'linux-image-2.6-*' | cut -f1)
+</example>
+</p>
+        <item><p>Remove &oldreleasename;'s kernel metapackages by running:
+<example>
+# aptitude purge kernel-image-2.6-&lt;flavor&gt;
+</example>
+</p> 
+
+        <item><p>Move any kernel configuration values at
+        <file>/etc/network/options</file> to <file>/etc/sysctl.conf</file>.</p>
+
+        <item><p>Remove obsolete and unused packages as described in <ref
+        id="obsolete">.  You should review which configuration files they use
+        and consider purging the packages to remove their configuration files</p>
+
+        </list></p>
+
	</sect>


	<sect id="obsolete"><heading>Verouderde pakketten</heading>

<!-- JFS: Providing a full listing might be useful, especially if we can
point to the Bug that was opened when the bug was removed. This list should
be moved to an appendix, instead of adding it inline as we did in the
potato to woody RN -->

	 <p>Naast de introductie van enkele duizenden nieuwe pakketten,
	 verdwijnen met &releasename; ook meer dan 2000 oude pakketten die wel
	 in &oldreleasename; voorkwamen. Voor deze vervallen pakketten wordt
	 geen automatische vervanging geboden. Hoewel niets u ervan weerhoudt
	 om een vervallen pakket te blijven gebruiken, zal door Debian normaal
	 gesproken een jaar na de release<footnote><p>Of zolang als er nog geen
	 nieuwe release is. Gangbaar is dat op een willekeurig moment maximaal
	 twee 'stable' releases worden ondersteund.</p></footnote> van
	 &releasename; geen veiligheidsondersteuning meer worden geboden, en
	 ondertussen ook geen andere vormen van ondersteuning. Aanbevolen wordt
	 de pakketten te vervangen door, als die er zijn, alternatieve
	 pakketten.</p>

	 <p>Er zijn diverse redenen waarom pakketten kunnen zijn verwijderd uit
	 de distributie: de broncode wordt niet langer onderhouden; er is niet
	 langer een Debian ontwikkelaar geïnteresseerd in het beheren van de
	 pakketten; voor de functionaliteit die werd geboden zijn inmiddels
	 betere alternatieven (of een nieuwe versie); of ze worden vanwege
	 problemen in de software niet langer geschikt geacht voor
	 &releasename;. In het laatste geval is het mogelijk dat een pakket nog
	 wel aanwezig is in "unstable".</p>

	 <p>Het is eenvoudig om uit te vinden welke pakketten na een migratie
	 "vervallen" zijn, aangezien de applicaties voor pakketbeheer ze als
	 zodanig zullen markeren. Als u gebruik maakt van
	 <prgn>aptitude</prgn>, zult u een overzicht van deze pakketten vinden
	 onder de kop "Verouderde en lokaal aangemaakte pakketten". Ook
	 <prgn>dselect</prgn> biedt een vergelijkbare sectie, al luidt de titel
	 iets anders. Als u in &oldreleasename; <prgn>aptitude</prgn> heeft
	 gebruikt om pakketten te installeren, zal het hebben bijgehouden welke
	 pakketten u zelf heeft geïnstalleerd. Daardoor is het in staat om
	 pakketten die slechts automatisch zijn toegevoegd vanwege
	 afhankelijkheden te markeren als verouderd als ze niet langer nodig
	 zijn nadat een pakket is verwijderd. Ook zal <prgn>aptitude</prgn>, in
	 tegenstelling tot <prgn>deborphan</prgn>, pakketten die u zelf heeft
	 geïnstalleerd niet als "verouderd" markeren.</p>

	 <p>Er zijn aanvullende hulpprogramma's, zoals <prgn>deborphan</prgn>,
	 <prgn>debfoster</prgn> of <prgn>cruft</prgn>, die kunnen worden
	 gebruikt om verouderde pakketten te traceren. <prgn>deborphan</prgn>
	 wordt warm aanbevolen, hoewel het standaard (zonder extra parameters)
	 alleen verouderde bibliotheekpakketten rapporteert: pakketten in de
	 secties "libs" en "oldlibs" die niet door andere pakketten worden
	 gebruikt. Verwijder nooit blindelings pakketten die door deze
	 hulpprogramma's worden gerapporteerd, zeker niet als u gebruikt maakt
	 van de meer agressieve opties die een grotere kans hebben ook valse
	 meldingen te genereren. U wordt sterk aangeraden om de pakketten die
	 voor verwijdering worden voorgesteld zelf na te lopen (d.w.z. hun
	 inhoud, grootte en omschrijving te controleren) voordat u ze
	 verwijdert.</p>

<!-- JFS: Should we recommend purging old packages? This might be
dangerous since the maintainer scripts might try to remove stuff that
didn't belong to them... -->

	 <p>Het <url id="&url-bts;" name="Debian Bug Tracking System"> biedt
	 vaak aanvullende informatie over de redenen waarom een pakket is
	 verwijderd. Hiervoor dient u zowel de gearchiveerde probleemrapporten
	 voor het pakket zelf als die voor het <url
	 id="&url-bts;cgi-bin/pkgreport.cgi?pkg=ftp.debian.org&#38;archive=yes"
	 name="pseudo-pakket ftp.debian.org"> te raadplegen.</p>

	 <sect1 id="dummy"><heading>Dummy-pakketten</heading>

<!-- JFS: If the appendix is kept this section should point there and the packages described here should be moved to that section -->

	 <p>Sommige pakketten uit &oldreleasename; zijn gesplitst naar meerdere
	 pakketten in &releasename;, vaak met als reden verbeterd
	 systeembeheer. Om de opwaardering van dergelijke pakketten te
	 vereenvoudigen, zijn in &releasename; vaak "dummy-pakketten" opgenomen:
	 dit zijn "lege" pakketten met dezelfde naam als het oude pakket in
	 &oldreleasename; met afhankelijkheden die ervoor zorgen dat de
	 vervangende pakketten worden geïnstalleerd. Deze dummy-pakketten hebben
	 na de opwaardering geen functie meer en kunnen dan veilig worden
	 verwijderd.</p>

	 <p>Voor de meeste, maar niet alle, dummy-pakketten is hun functie
	 weergegeven in de pakketomschrijving. Pakketomschrijvingen voor
	 dummy-pakketten zijn echter niet uniform en daarom kan ook
	 <prgn>deborphan</prgn> met de <tt>--guess</tt> opties handig zijn om
	 ze op uw systeem te vinden. merk op dat sommige dummy-pakketten niet
	 zijn bedoeld om te worden verwijderd na een opwaardering, maar juist
	 om ervoor te zorgen dat te allen tijde de courante versie van een
	 programma is geïnstalleerd.</p>

	 </sect1>
	</sect>
       </chapt>

<!-- FJP: Add more info here on dealing with obsolete packages?
	  Also how to purge packages that were deleted but still have conffiles
	  (use "limit" command in aptitude and search for ~c) -->

	<chapt id="information">
	<heading>Belangrijke aandachtspunten voor &releasename;</heading>

+        <sect id="problems"><heading>Potential problems</heading>
+          <p>Sometimes, changes have side-effects we cannot reasonably avoid,
+          or we expose bugs somewhere else.
+          We document here the issues we are aware of.
+          Please also read the errata, the relevant packages' documentation,
+          bug reports and other information mentioned in <ref id="morereading">.
+          </p>
+
+          <sect1 id="udev"> <heading>Problems with devices related to udev</heading>
+          <p>Although <package/udev/ has been tested extensively, you may experience
+          minor problems with some devices that will need to be fixed. The most
+          common problems are changed permission and/or ownership of a device.
+          In some cases a device may not be created by default (e.g.
+          <file>/dev/video</file> and <file>/dev/radio</file>).</p>
+
+          <p><package/udev/ provides configuration mechanisms to deal with these
+          issues. See <manref name="udev" section="8"> and <file>/etc/udev</file>
+          for further information.</p>
+          </sect1>
+
+<![ %defaulted-2.4 [
+          <sect1 id="incompatible-2.4">
+          <heading>Some applications may no longer work with a 2.4 kernel</heading>
+          <p>Some applications in &releasename; may no longer work with a 2.4
+          kernel, for example because they require <tt/epoll()/ support, which
+          is not available in 2.4 kernels. Such applications may either not
+          work at all or not work correctly until the system has been rebooted
+          with a 2.6 kernel.</p>
+          <p>One example is the HTTP proxy <package/squid/.</p>
+          </sect1>
+]]>
+
+          <sect1 id="window-scaling"><heading>Certain network sites cannot be reached by TCP</heading>
+          <p>
+          Since 2.6.17, Linux aggressively uses TCP window scaling which is specified in RFC 1323.
+          Some servers have a broken behavior, and announce wrong
+          window sizes for themselves. Please see the bugs
+          <url id="http://bugs.debian.org/381262" name="#381262"> and
+          <url id="http://bugs.debian.org/395066" name="#395066">
+          for more information.
+          </p>
+          </sect1>
+
+<![ %i386 [
+          <sect1 id="poweroff"><heading>Automatic poweroff stops working</heading>
+          <p>
+          On some older systems, <tt>shutdown -h</tt> may not power off the system
+          anymore (but just stop it). This happens because apm needs to be used there.
+          Adding <tt>acpi=off apm=power_off</tt> to the kernel's command line, e.g.
+          in <package/grub/ or <package/lilo/ configuration files should fix this issue.
+          Please see bug
+          <url id="http://bugs.debian.org/390547" name="#390547">
+          for additional information.
+          </p>
+          </sect1>
+]]>
+
+<!-- JFS: Bug #376158 -->
+          <sect1 id="apt-pdiff"><heading>Slower updates of APT package index files</heading>
+          <p>By default, the &releasename; version of <prgn>apt</prgn> uses a
+          new way to update APT package
+          index files (when you run <tt/aptitude update/) which downloads differences
+          files (instead of the full package index file) called <tt/pdiff/. This new
+          feature should use less bandwidth and be faster for most systems.
+          Unfortunately, it can also have the opposite effect of making the updates
+          slower on systems with fast network connections (or a very nearby
+          mirror) which are infrequently updated, as it might take more time
+          for the system to merge the differences files than to download a
+          full package index.  It is possible to disable this feature by adding
+          <tt>Acquire::Pdiffs "false";</tt> to the
+          <file>/etc/apt/apt.conf</file> configuration file.</p>
+<!-- For more info, see thread "These new diffs are great, but...", d-devel, july 2006 -->
+
+          <p>This change mostly affects users of the <em/unstable/ and
+          <em/testing/ branch of &debian;, due to the changing nature of these
+          archives. Users of &releasename; will notice this
+          feature mainly when updating their package status for the security
+          archive.</p>
+          </sect1>
+
+<![ %i386 [
+          <sect1 id="hp-acpi"><heading>ACPI support disabled for some HP laptop models in &releasename; kernel</heading>
+          <p>
+          Certain models of HP laptops have an ACPI BIOS that is incompatible with the
+          Linux 2.6.18 kernel shipped in &releasename;, which would prevent the fans from
+          spinning up leading to unnecessary heat stress. Also, fans might not work after
+          the system is suspended. The kernel therefore disables ACPI support
+          internally when it detects certain ACPI BIOS versions.  Models known
+          to be affected by this change include the HP nx6125, nx6120, nx6325,
+          nc6120 and nc6000 models.
+          </p>
+          <p>
+          Users who require ACPI support on these systems may install a Linux 2.6.19 or
+          later kernel.  Please see Debian bug
+          <url id="http://bugs.debian.org/404143" name="#404143"> and
+          <url id="http://bugs.debian.org/400488" name="#400488">,
+          and Linux Kernel's bugs
+          <url id="http://bugzilla.kernel.org/show_bug.cgi?id=5534" name="#5534">
+          and 
+          <url id="http://bugzilla.kernel.org/show_bug.cgi?id=7122" name="#7122">
+          for additional information.
+          </p>
+          </sect1>
+]]>
+
+	  <sect1 id="asynchronous-network-start"><heading>Asynchronous network initialization may cause unpredictable behavior</heading>
+	  <p>On systems which use <package/udev/ to load drivers for network
+	  interfaces, it is possible due to the asynchronous nature of
+	  <package/udev/ that the network driver will not be loaded before
+	  <prgn>/etc/init.d/networking</prgn> runs on system boot.  Although
+	  including <tt/allow-hotplug/ to <file>/etc/network/interfaces</file> (in
+	  addition to <tt/auto/) will ensure that the network interface is enabled 
+	  once it becomes available, there is no guarantee that this will finish
+	  before the boot sequence begins to start network services, some of which
+	  may not behave correctly in the absence of the network interface.</p>
+
+	  </sect1>
+
+<![ %not-s390 [
+	  <sect1 id="wpa"><heading>Trouble when using WPA secured wireless networks</heading>
+	  <p>In &oldreleasename;, the <package/wpasupplicant/ package was
+	  set up as a system service, configured via
+	  <file>/etc/default/wpasupplicant</file> and a user-provided
+	  <file>/etc/wpasupplicant.conf</file>.</p>
+
+	  <p>In &releasename;, <file>/etc/init.d/wpasupplicant</file> has been
+	  dropped and the Debian package now integrates with
+	  <file>/etc/network/interfaces</file>, similar to other packages such as
+	  <package/wireless-tools/.  This means <package/wpasupplicant/ no longer
+	  provides a system service directly.</p>
+
+	  <p>For information on configuring wpasupplicant please refer to
+	  <file>/usr/share/doc/wpasupplicant/README.modes.gz</file>, which gives 
+	  examples for <file>/etc/network/interfaces</file> files.  Updated
+	  information about the usage of the <package/wpasupplicant/ package
+	  in Debian can be found in the <url id="http://wiki.debian.org/WPA"
+	  name="Debian Wiki">.</p>
+	  </sect1>
+]]>
+
+          <sect1 id="partitionenc"><heading>Problems with non-ASCII characters in filenames</heading>
+	  <p>
+	  Mounting vfat, ntfs or iso9660 file systems with files that include
+	  non-ASCII characters in their filenames will give failures when one 
+	  tries to use the filenames unless mounting is done with the utf8 
+	  option. An indication might be the following failure: 'Invalid or 
+	  incomplete multibyte or wide character'. A possible solution is to
+	  use <tt>defaults,utf8</tt> as mount options for vfat, ntfs and iso9660 
+	  file systems when they contain filenames with non-ASCII characters.
+	  </p>
+	  <p>Note that the Linux kernel does not support case-insensitive 
+	  filename handling for vfat when the <tt>utf8</tt> option is used.</p>
+	  </sect1>
+
+<![ %amd64 [
+	  <sect1 id="nvidia-iommu"><heading>Data corruption with Hardware IOMMU on Nvidia chipsets</heading>
+	  <p>A problem has been identified on &arch-title; systems with Nvidia
+	  chipsets and more than 3GB of RAM that causes sporadic data corruption
+	  when the hardware IOMMU is used.  This problem is still under
+	  investigation by the Linux kernel developers and the hardware
+	  manufacturers, and no official upstream fix has been released.  To
+	  protect the integrity of their data, users of these systems are advised
+	  to manually disable the use of hardware IOMMU at boot time by adding
+	  <tt>iommu=soft</tt> to their kernel boot options until a correct solution
+	  can be found.</p>
+          <p>More information about this issue is available in Debian bug
+          <url id="http://bugs.debian.org/404148" name="#404148">
+          and Linux Kernel bug
+          <url id="http://bugzilla.kernel.org/show_bug.cgi?id=7768" name="#7768">.</p>
+	  </sect1>
+]]>
+        </sect>
+
<!-- Controversial, disabled for now, please translate though
	<sect id="german-quotes"><heading>Problems with German Quotes</heading>

	  <p>The locales for German style languages (e.g. de_DE@euro)
	  unfortunately use an aesthetically unpleasing way of representing
	  open quotation marks.  We have retained it this way in order to
	  preserve compatibility with other Linux distributions, and we hope
	  that in the future it will be fixed. We suggest that you switch to a
	  UTF-8 locale (e.g. de_DE@euro.UTF-8), which fully supports German with
	  the correct quotation marks, and, using Unicode encoding, has better
	  support for other languages as well.</p>

	  <p>To change the system wide locale choice, use:
	  <example>dpkg-reconfigure locales</example></p></sect>

-->
<!--   Will be added if relevant information is written here
	<sect id="syntax"><heading>Important program syntax changes</heading>

	  <p>Debian attempts to avoid changing upstream packages, therefore
	  any changes in the upstream package will be present in the version in
	  &debian;. This can mean that program behavior may change between
	  releases of &debian;.</p>

	  <p><em>No changes yet reported.</em></p></sect>
-->

	<sect id="pythonchanges"><heading>Wijzigingen in Python pakketten</heading>

<![ %defaulted-2.4 [
	<sect id="upgrade-to-2.6">
	<heading>Opwaarderen naar een kernel uit de 2.6 serie</heading>

	  <p>De 2.6-kernel serie bevat significante wijzigingen ten opzichte
	  van de 2.4 serie. Modules zijn hernoemd en een groot aantal
	  stuurprogramma's is gedeeltelijk of soms bijna geheel herschreven.
	  Het opwaarderen naar een 2.6-kernel vanaf een eerdere versie is
	  daarom niet een proces dat licht mag worden opgenomen. Deze paragraaf
	  heeft tot doel u bewust te maken van een deel van de hindernissen die
	  u kunt tegenkomen.</p>

	  <p>Zorg ervoor dat, als u zelf uw kernel compileert vanaf de
	  broncode, u <package>module-init-tools</package> installeert voordat
	  u het systeem opstart met de 2.6-kernel. Dit pakket vervangt
	  <package>modutils</package> voor 2.6-kernels. Als u een van de
	  <package>linux-image</package> pakketten installeert, zal dit pakket
	  automatisch worden geïnstalleerd op basis van afhankelijkheden.</p>

	  <p>Als u gebruik maakt van <em>LVM</em> dient u tevens
	  <package>lvm2</package>  te installeren voordat u het systeem opnieuw
	  opstart aangezien de 2.6-kernel LVM1 niet direct ondersteunt. Voor
	  het benaderen van bestaande LVM1 volumes zal de compatibiliteitslaag
	  van <package>lvm2</package> (de module dm-mod) worden gebruikt. U
	  hoeft <package>lvm10</package> niet te deinstalleren; de init-scripts
	  zullen controleren welke kernel wordt gebruikt en de juiste versie
	  opstarten.</p>

	  <p>Als er modules voorkomen in het bestand <file>/etc/modules</file>
	  (lijst met modules die moeten worden geladen tijdens het opstarten
	  van het systeem), merk dan op dat de naam van sommige van deze
	  modules kan zijn gewijzigd. Als dit is gebeurt dan zult u deze in het
	  bestand moeten aanpassen.</p>

<![ %i386 [
	  <p>Voor sommige SATA stuureenheden kan de apparaatnaam die wordt
	  toegewezen aan een harde schijf en zijn partities veranderen van
	  <file>/dev/hdX</file> naar <file>/dev/sdX</file>. Als dit gebeurt
	  zult u uw <file>/etc/fstab</file> en de configuratie van uw
	  opstartlader overeenkomstig moeten aanpassen. Als deze wijzigingen
	  niet correct worden doorgevoerd, is de kans groot dat uw systeem niet
	  correct zal opstarten<footnote>
+          It will boot the kernel but will fail when trying to mount the root
+          file system and will abort with an error <em>waiting for root file system</em>
+          followed by <em>unable to mount /dev/hdX ..not found</em>.
+          You can use the <prgn/initramfs/ shell to fix this issue, after you
+          identify the newly assigned device names in the kernel boot messages or by reviewing
+          the contents of <file>/dev/disk/</file>.
           </footnote>.</p>
]]>

+<!-- Bug: #416720 -->
+<![ %ia64 [
+         <p>HP Itanium systems running older firmware are incompatible with the
+            2.6 kernel in &releasename;. That means you should upgrade your
+            system to the latest firmware before upgrading your kernel. It is
+            recommended you do this before the system upgrade, as if you are 
+            already running a 2.6 kernel you will automatically retrieve the
+            latest kernel when upgrading the rest of the system (see <ref
+            id="upgrading_other">). Failing to do this will result in an system
+            that does not boot.
+         </p>

	  <p>Zorg ervoor dat, nadat u de 2.6-kernel heeft geïnstalleerd, maar
	  voordat u het systeem opnieuw opstart, u ergens op kunt terugvallen.
	  Zorg er allereerst voor dat uw opstartlader geconfigureerd is voor
	  zowel de nieuwe als de oude, werkende kernel.
	  Het verdient aanbeveling om ook een "rescue" diskette of CD bij de
	  hand te hebben voor het geval uw systeem niet kan worden opgestart
	  door een onjuiste configuratie van de opstartlader.</p>

<![ %not-s390 [
	<sect1 id="2.6-keyboard">
	<heading>Configuratie van het toetsenbord</heading>

	  <p>De meest ingrijpende wijziging in de 2.6-kernels is een
	  fundamentele wijziging van de invoerlaag. Deze wijziging zorgt ervoor
	  dat alle toetsenborden zich presenteren als "normale"
	  PC-toetsenborden. Als u op dit moment een ander type toetsenbord
	  (zoals USB-MAC of Sun) heeft geselecteerd, betekent dit dat de kans
	  groot is dat uw toetsenbord niet zal werken als u opnieuw opstart met
	  de nieuwe 2.6-kernel.</p>

	  <p>Als u het systeem vanaf een andere computer kunt benaderen (b.v.
	  met SSH), dan kunt u dit probleem oplossen door <tt>dpkg-reconfigure
	  console-data</tt> uit te voeren, vervolgens de optie "Selecteer een
	  toetsenbordindeling uit de volledige lijst" te kiezen en daarna een
	  "pc"-toetsenbord te selecteren.</p>

	  <p>Als uw toetsenbord voor console moet worden aangepast, zult u
	  waarschijnlijk ook uw toetsenbordinstelling voor het X Window System
	  moeten aanpassen. Dit kan ofwel met de opdracht <tt>dpkg-reconfigure
	  xserver-xorg</tt> of door handmatig
	  <file>/etc/X11/xorg.conf</file> te wijzigen. Vergeet niet om de
	  documentatie te lezen waarnaar wordt verwezen in <ref
	  id="nownownow">.</p>

<![ %i386 [
	  <p>Dit probleem is vrijwel zeker niet van toepassing op &arch-title;
	  systemen aangezien alle PS/2- en de meeste USB-toetsenborden reeds
	  geconfigureerd zullen zijn als een "normaal" PC-toetsenbord.</p>
]]>
<![ %not-i386 [
	  <p>Merk op dat als u een USB-toetsenbord gebruikt, dit als een
	  "normaal" PC-toetsenbord maar ook als een USB-MAC-toetsenbord kan
	  zijn geconfigureerd. In het eerste geval is voor u dit probleem niet
	  van toepassing.</p>
]]></sect1>

	<sect1 id="2.6-mouse">
	<heading>Configuratie van de muis</heading>

	  <p>Wederom vanwege de wijzigingen in de invoerlaag zult u mogelijk,
	  als uw muis na de opwaardering naar een 2.6-kernel niet meer werkt,
	  de configuratie van het X Window System en het pakket
	  <package>gpm</package> moeten aanpassen. De meest waarschijnlijke
	  oorzaak is dat de gegevensstroom vanaf de muis binnenkomt op een
	  ander apparaatbestand in <file>/dev/</file>. Ook is het mogelijk dat
	  u andere modules moet laden.</p>

<![ %sparc [
	  <p>Als u op dit moment X heeft geconfigureerd op
	  <file>/dev/sunmouse</file>, zult u dit waarschijnlijk moeten
	  aanpassen naar <file>/dev/psaux</file>.</p>
]]>
	</sect1>


	<sect1 id="2.6-sound">
	<heading>Configuratie van de geluidskaart</heading>

	  <p>Voor de 2.6-kernel serie wordt voor geluid de voorkeur gegeven aan
	  de ALSA stuurprogramma's boven de OSS stuurprogramma's. De ALSA
	  stuurprogramma's zijn standaard beschikbaar als modules. Om geluid te
	  kunnen laten werken, moeten de voor uw apparatuur juiste ALSA modules
	  worden geladen. Over het algemeen zal dit automatisch gebeuren als,
	  naast het pakket <package>alsa-base</package>, ook een van de pakketten
	  <package>hotplug</package> of <package>discover</package> is geïnstalleerd.
	  Het pakket <package>alsa-base</package> zorgt er ook voor dat OSS modules
	  op de zwarte lijsten voor <package>discover</package> en
	  <package>hotplug</package> worden geplaatst waarmee wordt voorkomen dat
	  ze worden geladen. Als u OSS modules heeft staan in
	  <file>/etc/modules</file>, dient u deze te verwijderen.</p>
	</sect1>

]]> <!-- %not-s390 -->
      </sect>
]]> <!-- %defaulted-2.4 -->

<!-- Vervallen; sommige tekst mogelijk nog bruikbaar elders
	<sect1 id="2.6-udev">
	<heading>Overschakelen naar 2.6 kan udev activeren</heading>

	<p><package>udev</package> is een implementatie van devfs in
	"userspace". Het wordt aangekoppeld over de directory
	<file>/dev/</file> en zorgt ervoor dat deze wordt gevuld met
	apparaatbestanden die door de kernel worden ondersteund. Ook zal
	het dynamisch apparaatbestanden aanmaken en verwijderen als
	kernel-modules worden geladen respectievelijk ontladen, daarbij
	samenwerkend met <package>hotplug</package> om nieuwe apparaten
	te detecteren. <package>udev</package> werkt alleen met 2.6-kernels.</p>

	<p>Omdat <package>udev</package> automatisch wordt geïnstalleerd als
	afhankelijkheid van de nieuwe default initrd generator die bij de 2.6
	kernels wordt gebruikt, zal het opwaarderen naar een 2.6-kernel
	normaalgesproken tot gevolg hebben dat <package>udev</package> zal
	activeren.</p>

	<p>Hoewel <package>udev</package> uitgebreid is getest, is het mogelijk
	dat u kleine problemen zult moeten oplossen voor bepaalde
	apparaatbestanden. De meest voorkomende problemen zijn gewijzigde
	toegangsrechten of eigendom van een apparaatbestand. Soms kan het
	voorkomen dat een apparaatbestand niet automatisch wordt aangemaakt
	(dit geldt bijvoorbeeld voor <file>/dev/video</file> en
	<file>/dev/radio</file>).</p>

	<p><package>udev</package> biedt mogelijkheden om deze problemen door
	aanpassing van de configuratie op te lossen. Zie <manref section="8"
	name="udev"> en <file>/etc/udev</file> voor nadere informatie.</p>
-->
+      <sect id="xorg"> <heading>XFree86 to X.Org transition</heading>
+        <p>The transition to X.Org involves some structural changes. In case
+        all installed packages are from Debian and also included in &releasename;,
+        the upgrade should work without problems.
+        However, experience has shown that there are a few changes to be aware
+        of, as they can potentially cause issues during the upgrade.</p>
+
+        <p>The most important change is that <file>/usr/X11R6/bin</file> has
+        been dropped and only remains as a symlink to <file>/usr/bin</file>.
+        This means the directory has to be empty at the time the new packages
+	are installed. The new packages conflict with most packages that used
+        <file>/usr/X11R6/bin</file>,
+        but in some cases manual intervention may be needed.
+        Please remember to not run the distribution upgrade from within an
+        X session.</p>
+
+        <p>In case the upgrade aborts during X.Org installation, you should
+        check if any files are still left in <file>/usr/X11R6/bin</file>.
+        You can then use <tt>dpkg -S</tt> to find out which Debian package
+        installed that file (if any), and remove such packages with
+        <tt>dpkg --remove</tt>. Please make a note which packages you
+        remove, so that you can install substitute packages later on.
+        Before continuing with the upgrade, all files in
+        <file>/usr/X11R6/bin</file> need to be removed.</p>
+
+        <p>Please read <url id="http://wiki.debian.org/Xorg69To7">
+        for more details and other issues.</p>
+
+      </sect>
+
+<!-- JFS: Bug #406300 -->
+      <sect id="xorg-8bit"><heading>No support for 8-bit displays in many applications</heading>
+
+      <p>After the upgrade to the Xorg and the latest libraries, X terminals
+      which can only represent colors 8 bits depth will not work. This is
+      because the Cairo 2D vector graphics library (<package/libcairo2/)
+      doesn't have 8-bit pseudocolor support. This library is used by the GNOME
+      and Xfce desktops as well as by many desktop applications compiled
+      with the Gtk2+ toolkit, such as <package/abiword/.</p>
+
+<!-- TODO: make this arch-specific ? This applies to remote terminals, so
+     it might not make sense to make it arch-specific ... -->
+<!-- Specific models mentioned in freedeskop's BTS, might not be complete:
+     - Tektronix XP117C X terminal,
+     - NCD: 19r X11, 256 color X terminal
+     - IBM: Netstation
+     - SUN: Ultra 10, Ultra 5, Ultra 60 (Solaris 8 with Xsun)
+     - SGI: Octane
+-->
+      <p>Known systems that are affected by this include some Sun machines and
+      X terminals from Tektronix, NCD, IBM and SGI, as well as some other
+      remote X windowing systems. You should configure these terminals to use
+      16-bit colour, if possible.</p>
+
+      <p>More information is available 
+      in Freedesktop's <url id="https://bugs.freedesktop.org/show_bug.cgi?id=4945"
+      name="bug #4945">.</p>
+
+      </sect>
+
+      <sect id="exim"> <heading>Upgrading from exim to exim4</heading>
+      <p>One of the packages that has been obsoleted by the &releasename;
+      release is the Mail Transfer Agent (MTA) <package/exim/, which has been replaced
+      by the completely new package <package/exim4/.</p>
+
+      <p><prgn/exim/ (version 3.xx) has been unmaintained upstream for years, and
+      Debian has dropped support for that version as well. If you are still using
+      <prgn/exim/ 3.xx, please upgrade your <package/exim/ installation to <package/exim4/ manually.
+      Since <package/exim4/ is already part of &oldreleasename;, you can choose to do the
+      upgrade on your &oldreleasename; system before the upgrade to &releasename;,
+      or after the &releasename; upgrade at your convenience. Just remember that
+      your old <package/exim/ package is not going to be upgraded and that it won't get
+      security support after support for &oldreleasename; has been discontinued.</p>
+
+      <p>Note that, depending on your configuration of <package/debconf/, you may not
+      be asked any configuration question during installation of <package/exim4/.
+      If no questions are asked, the system will default to a 'local delivery' setup.
+      Configuration is possible using the command <tt/dpkg-reconfigure exim4-config/.</p>
+
+      <p>The <package/exim4/ packages in Debian are extensively documented. The package's
+      home page is <url id="http://wiki.debian.org/PkgExim4"> on the Debian Wiki, and
+      the README file can be found at
+      <url id="http://pkg-exim4.alioth.debian.org/README/README.Debian.html"> and
+      inside the packages as well.</p>
+
+      <p>The README file has a chapter about Packaging, which explains the
+      different package variations we offer, and it has a chapter about
+      Updating from <prgn/Exim/ 3, which will help you in doing the actual
+      transition.</p>
+<!-- FIXME: update with decisions of (S)RMs might be needed -->
+      </sect>
+
+      <sect id="apache2"> <heading>Upgrading apache2</heading>
+        <p>Apache has been upgraded to the new version 2.2.
+        Although this shouldn't impact the average user,
+        there are some potential issues to be aware of.</p>
+
+        <p><url id="http://httpd.apache.org/docs/2.2/upgrading.html"> contains
+        the upstream changes. Please read this page, and remember that especially:
+        <list>
+        <item><p>all modules need to be recompiled</p></item>
+        <item><p>authorization modules have been resorted and renamed</p></item>
+        <item><p>some configuration options have been renamed</p></item>
+        </list></p>
+
+        <p>Debian-specific changes include that the string SSL is no longer defined,
+        as ssl is now supported by the default package.</p>
+
+        <p>If you are using the experimental ITK MPM (from the
+        <package/apache2-mpm-itk/ package), the cgi module will not be correctly
+        enabled by default. To properly enable it, you will need to manually
+        disable <tt/mod_cgid/ and enable <tt/mod_cgi/:
+        <example>
+# cd /etc/apache2/mods-enabled
+# rm cgid.conf cgid.load
+# ln -s ../mods-available/cgi.load .
+# /etc/init.d/apache2 force-reload
+        </example></p>
+
+      </sect>
+
+      <sect id="zope"> <heading>Upgrading Zope and Plone</heading>
+	<p>Zope and all related products have been updated. Many products were
+	also dropped from the distribution (either because they were obsoleted,
+	or because they are incompatible with the newer Zope, CMF or Plone).</p>
+	<p>Unfortunately there is no easy and guaranteed way to upgrade a
+	complex <prgn/zope/ or <prgn/plone/ server. Even though Plone includes
+	a migration tool, experience has shown that automatic migrations
+	can easily fail.</p>
+
+	<p>For this reason, users are recommended to set up their system so they
+	can continue to run the &oldreleasename; installation of Zope/Plone
+	alongside the new &releasename; versions while testing the migration.</p>
+	<p>The easiest and safest way to achieve this, is to make a copy of your
+	&oldreleasename; system to another hard disk or partition, and then
+	upgrade only one of the two copies. You can then use <prgn/chroot/ to
+	run the &oldreleasename; version in parallel to the &releasename;
+	version.</p>
+
+	<p>It is not possible to have the old and new versions of Zope/Plone
+	installed together on an &releasename; system, partly because the old
+	packages depend on <package/python2.3/ which cannot be installed
+	together with <package/python2.4/.</p>
+      </sect>
+
+      <sect id="tar"> <heading>Wildcard expansion (globbing) with GNU tar</heading>
+        <p>Previous versions of GNU <prgn/tar/ assumed shell-style globbing
+        when extracting files from or listing an archive. For example:
+        <example>
+tar xf foo.tar '*.c'
+        </example>
+        would extract all files whose names end in '.c'.  This behavior was not
+        documented and was incompatible with traditional <prgn/tar/
+        implementations. Therefore, starting from version 1.15.91, GNU
+        <prgn/tar/ no longer uses globbing by default.  For example, the above
+        invocation is now interpreted as a request to extract from the archive
+        the file named '*.c'.</p>
+        <p>See <file>/usr/share/doc/tar/NEWS.gz</file> for further information.</p>
+      </sect>
+
+      <sect id="nis"><heading>NIS and Network Manager</heading>
+        <p>The version of <prgn/ypbind/ included with <package/nis/ for
+        &releasename; contains support for Network Manager. This support causes
+        <prgn/ypbind/ to disable NIS client functionality when Network Manager
+        reports that the computer is disconnected from the network. Since Network
+        Manager will usually report that the computer is disconnected when it is
+        not in use, NIS users with NIS client systems should ensure that Network
+        Manager support is disabled on those systems.</p>
+        <p>This can be done by either uninstalling the <package/network-manager/
+        package, or editing <file>/etc/default/nis</file> to add <tt/-no-dbus/ to
+        <tt/YPBINDARGS/.</p>
+        <p>The use of <tt/-no-dbus/ is the default for new installs of Debian, but
+        was not the default in previous releases.</p>
+      </sect>
+
+      <sect id="php-globals"> <heading>Deprecated insecure php configurations</heading>
+        <p>For many years, turning on the <tt/register_globals/ settings in PHP
+        has been known to be insecure and dangerous, and this option has defaulted to
+        off for some time now. This configuration is
+        now finally deprecated on Debian systems as too dangerous.
+        The same applies to flaws in <tt/safe_mode/ and <tt/open_basedir/, which
+        have also been unmaintained for some time.</p>
+
+        <p>Starting with this release, the Debian security team does not provide
+        security support for a number of PHP configurations which are known to
+        be insecure. Most importantly, issues resulting from 
+        <tt/register_globals/ being turned on will no longer be addressed.</p>
+
+        <p>If you run legacy applications that require <tt/register_globals/,
+        enable it for the respective paths only, e.g. through the Apache
+        configuration file. More information is available in the
+        <file>README.Debian.security</file> file in the PHP
+        documentation directory (<file>/usr/share/doc/php4</file>,
+        <file>/usr/share/doc/php5</file>).</p>
+      </sect>
+
+<!-- JFS: Bug #400311 -->
+      <sect id="mozilla-security"> <heading>Security status of Mozilla products</heading>
+        <p>The Mozilla programs <package>firefox</package> and <package>thunderbird</package>
+        (rebranded in Debian to <package>iceweasel</package> and <package>icedove</package>, respectively),
+        are important tools for many users.
+        Unfortunately the upstream security policy is to urge users to update to
+        new upstream versions, which conflicts with Debian's policy of not shipping
+        large functional changes in security updates.
+        We cannot predict it today, but during the lifetime of &releasename; the
+        Debian Security Team may come to a point where supporting
+        Mozilla products is no longer feasible and announce
+        the end of security support for Mozilla products.
+        You should take this into account when deploying Mozilla and consider
+        alternatives available in Debian if the absence of security support would
+        pose a problem for you.</p>
+      </sect>
+
+<!-- JFS: Bug #400838 -->
+      <sect id="kde-desktop-changes"> <heading>KDE desktop</heading>
+        <p>KDE media handling has changed in the version available in
+        &releasename; from using <file>device:/</file> to <file>media:/</file>.
+        Some user configuration files might have stored <file>device:/</file>
+        links in them which should be adapted. Notably,
+        <file>~/.kde/share/apps/konqsidebartng/virtual_folders/services</file>
+        contains this reference and can be safely deleted as it will not be
+        created when setting up new users.
+
+        <p>There have been many changes in the KDE desktop environment from
+        the version shipped in &oldreleasename; to the version in
+        &releasename;, you can find more information in the <url
+        id="http://www.kde.org/announcements/announce-3.5.php" name="KDE
+        3.5 Release Notes">.</p>
+      </sect>
+
+<!-- JFS: Bug #387921 -->
+      <sect id="gnome-desktop-changes"> <heading>GNOME desktop changes and support</heading>
+        <p>If you used the GNOME desktop in &oldreleasename; you will not benefit
+        from some of the changes introduced in the default configuration in
+        Debian for &releasename;. In some extreme cases the GNOME desktop might
+        not properly handle your old configuration and might not behave properly.</p>
+
+        <p>If you have not heavily invested in configuring your GNOME desktop
+        you might want to move the <file>.gconf</file> directory in user's
+        home directories to a different name (such as <file>.gconf.old</file>)
+        so that it gets recreated, with the default configuration for
+        &releasename;, upon starting a new session.</p>
+
+        <p>With the release of &releasename;, Debian no longer contains packages for
+        most of the obsolete version 1 release of GNOME, although some packages
+        remain in order to support some Debian packages which have not yet
+        been updated to GNOME 2. Packages for GTK1.2 remain fully maintained.</p>
+
+        <p>There have been many changes in the GNOME desktop environment from
+        the version shipped in &oldreleasename; to the version in
+        &releasename;, you can find more information in the <url
+        id="http://www.gnome.org/start/2.14/notes/en/" name="GNOME
+        2.14 Release Notes">.</p>
+      </sect>
+
+<!-- FJP: Bug #398887 -->
+      <sect id="default-editor"> <heading>Default editor</heading>
+        <p>If you were using <prgn/vim/ as your default editor, this may
+	be changed to <prgn/nano/ during the upgrade.</p>
+
+        <p>Administrators who wish to change the default editor for all users
+        will have to update the alternatives system using:
+
+          <example>
+# update-alternatives --config editor
+          </example>
+        </p>
+
+        <p>Users wishing to change the default editor can define the
+        environment variable <em>EDITOR</em> by introducing the following lines
+        in their own profiles:
+
+          <example>
+EDITOR=vi
+export EDITOR
+alias editor=$EDITOR
+          </example>
+        </p>
+
+      </sect>
      </chapt>


      <chapt id="moreinfo">
	<heading>Aanvullende informatie over &debian;</heading>

      <sect id="morereading"> <heading>Aanvullende documentatie</heading>
	<p>Buiten deze Release Notities en de Installatiehandleiding is er
	aanvullende documentatie over &debian; beschikbaar vanuit het Debian
	Documentatie Project (DDP). De doelstelling van het DDP is om
	hoogwaardige documentatie te ontwikkelen voor gebruikers en
	ontwikkelaars van Debian. De documentatie omvat onder meer de Debian
	Handleiding, de Gids voor nieuwe Debian Ontwikkelaars en de Debian FAQ.
	Voor nadere informatie verwijzen wij u naar de <url id="&url-ddp;"
	name="website van het DDP">.</p>

	<p>Documentatie bij individuele pakketten wordt geïnstalleerd in
	<file>/usr/share/doc/<var>package</var></file>. Deze informatie kan
	o.a. omvatten: informatie over auteursrechten, Debian specifieke
	details en, indien aanwezig, documentatie van de auteurs.</p>
      </sect>


      <sect id="gethelp">
	<heading>Ondersteuning verkrijgen</heading>

	<p>Er zijn vele bronnen voor hulp, advies en ondersteuning voor
	gebruikers van Debian. Deze dienen echter pas te worden benut als
	zelfstandig onderzoek in documentatie over het onderwerp niets heeft
	opgeleverd. Deze sectie geeft een korte introductie van bronnen die van
	nut kunnen zijn voor nieuwe Debian gebruikers.</p>

      <sect1 id="lists">
	<heading>Mailinglijsten</heading>
	<p>De mailinglijsten die het meest interessant zijn voor gebruikers van
	Debian zijn debian-user (Engelstalig) en andere
	debian-user-<var>taal</var> mailinglijsten (in andere tabel).
	Informatie over deze mailinglijsten en details over het aanmelden
	daarvoor vindt u op <url id="&url-debian-list-archives;">. Zoek a.u.b.
	eerst in de archieven van de mailinglijsten naar een antwoord op uw
	vraag voordat u uw vraag stelt en volg ook de standaard etiquette voor
	mailinglijsten.</p>
      </sect1>

      <sect1 id="irc">
	<heading>Internet Relay Chat (IRC)</heading>

	<p>Debian heeft een IRC-kanaal dat gewijd is aan de ondersteuning van
	gebruikers van Debian. Dit kanaal bevindt zich op het IRC-netwerk van
	OFTC dat tot doel heeft om interactieve diensten beschikbaar te
	stellen aan gemeenschappen die op collaboratieve basis werken aan
	projecten. Stel om toegang te krijgen tot het kanaal uw favoriete
	IRC-programma in op &debian-irc-server; en meldt u aan voor
	#debian.</p>

	<p>Respecteer a.u.b. de richtlijnen van het kanaal en respecteer andere
	gebruikers. Kijk op de <url id="&url-irc-host;" name="website"> voor
	nadere informatie over OFTC.</p>
      </sect1>
      </sect>



      <sect id="bugs">
	<heading>Problemen rapporteren</heading>

	<p>Wij streven ernaar om van Debian GNU/Linux een besturingssysteem van
	hoge kwaliteit te maken. Dit betekent echter niet dat de pakketten die
	wij leveren volledig foutvrij zijn. In overeenstemming met de 'open
	ontwikkeling'-filosofie van Debian en als dienst aan onze gebruikers,
	bieden wij  volledig inzicht in problemen die gemeld zijn in ons eigen
	Bug Tracking System (BTS). Het BTS kan worden geraadpleegd op <url
	id="&url-bts;" name="bugs.debian.org">.</p>

	<p>Wij verzoeken u om eventuele problemen die u tegenkomt in de
	distributie of de programmatuur in de pakketten die daar onderdeel van
	uitmaken, te rapporteren zodat deze verholpen kunnen worden voor een
	volgende release. Voor het rapporteren van een probleem is een geldig
	e-mailadres vereist. We vragen dit zodat we problemen kunnen volgen en
	zodat pakketbeheerders contact kunnen opnemen met de indiener van een
	probleem als aanvullende informatie nodig is.</p>

	<p>U kunt een probleemrapport indienen met behulp van het programma
	<package>reportbug</package> of handmatig via e-mail. Nadere informatie
	over het Bug Tracking System en het gebruik daarvan vindt u op de
	referentiekaarten (beschikbaar in <file>/usr/share/doc/debian</file>
	als <package>doc-debian</package> is geïnstalleerd) of op de website
	van het <url id="&url-bts;" name="Bug Tracking System">.</p>
      </sect>


      <sect id="contributing">
	<heading>Bijdragen aan Debian</heading>

	<p>U hoeft geen expert te zijn om een bijdrage te kunnen leveren aan
	Debian. Door gebruikers te ondersteunen bij problemen op de
	verschillende <url id="&url-debian-list-archives;"
	name="mailinglijsten"> voor gebruikersondersteuning, levert u een
	bijdrage aan de gemeenschap. Het identificeren (en
	oplossen) van problemen gerelateerd aan de ontwikkeling van de
	distributie door deelname aan de <url id="&url-debian-list-archives;"
	name="mailinglijsten"> gewijd aan ontwikkeling, is eveneens zeer
	welkom. Als u een goed taalgevoel heeft, kunt u mogelijk een meer
	actieve bijdrage leveren door te helpen bij het schrijven van <url
	id="&url-ddp;" name="documentatie"> of bij het <url
	id="&url-debian-i18n;" name="vertalen"> van bestaande documentatie naar
	uw eigen taal.</p>

	<p>Als u meer tijd beschikbaar kunt stellen, zou u een deel van de
	verzameling Vrije Software binnen Debian kunnen beheren. Bijzonder
	behulpzaam is het wanneer zaken worden geadopteerd of onderhouden
	waarvan gebruikers hebben verzocht om die op te nemen in Debian; de
	'<url id="&url-wnpp;" name="Work Needing and Prospective Packages
	database">' bevat deze informatie. Als u interesse heeft in specifieke
	groepen, kunt u mogelijk voldoening vinden in het leveren van een
	bijdrage aan een van de deelprojecten binnen Debian, waaronder 'ports'
	naar een bepaald platform, <url id="&url-debian-jr;" name="Debian Jr.">
	en <url id="&url-debian-med;" name="Debian Med">.</p>

	<p>Hoe dan ook, als u, op wat voor manier dan ook (als gebruiker,
	ontwikkelaar, schrijver of vertaler) werk verzet binnen de Vrije
	Software gemeenschap, helpt u de Vrije Software beweging. Het leveren
	van een bijdrage geeft voldoening en is leuk en, doordat het u de
	gelegenheid biedt om nieuwe mensen ontmoeten, geeft het van binnen dat
	onbepaalde, warme gevoel.</p>
	</sect>
      </chapt>


    <appendix id="old-stuff">
    <heading>Beheer van uw &oldreleasename; systeem</heading>

       <p>Deze bijlage bevat informatie over hoe u zich ervan kunt verzekeren
       dat u &oldreleasename; pakketten kunt installeren of opwaarderen voordat
       u naar &releasename; migreert. Dit is slechts in enkele specifieke
       situaties nodig.</p>

       <sect id="old-upgrade">
       <heading>Uw &oldreleasename; systeem opwaarderen</heading>

	  <p>In principe is dit niet anders dan een willekeurige andere
	  opwaardering van &oldreleasename;. Het enige verschil is dat u er
	  eerst voor moet zorgen dat uw pakkettendatabase nog steeds
	  &oldreleasename; pakketten bevat. Instructies hiervoor vindt u in
	  <ref id="old-sources">.</p>

	  <p>Als u voor het opwaarderen van uw systeem gebruit maakt van een
	  Debian spiegelserver, zal automatisch worden opgewaardeerd tot de
	  meest recente tussenrelease van &oldreleasename;.</p>

       </sect>

       <sect id="old-sources">
       <heading>De lijst met bronnen voor APT controleren</heading>

	  <p>Als er regels voorkomen in uw <file>/etc/apt/sources.list</file>
	  die verwijzen naar 'stable', dan maakt u effectief al "gebruik" van
	  &releasename;. Indien u het commando <tt>apt-get update</tt> al heeft
	  uitgevoerd, is het met onderstaande procedure probleemloos mogelijk
	  om terug te gaan.</p>

	  <p>Als u echter ook al pakketten uit &releasename; heeft
	  geïnstalleerd, dan heeft het waarschijnlijk weinig zin om nog
	  pakketten uit &oldreleasename; te installeren. In dat geval zult u
	  zelf moeten beslissen of u wilt doorgaan of niet. Het is mogelijk om
	  pakketten terug te zetten naar hun &oldreleasename; versie, maar dat valt
	  buiten de scope van dit document.</p>

	  <p>Open (als root) het bestand <file>/etc/apt/sources.list</file> met
	  uw favoriete tekstverwerker en controleer alle regels die beginnen
	  met <tt>deb http:</tt> of <tt>deb ftp:</tt> op verwijzigingen naar
	  "<tt>stable</tt>". Vervang in deze regels <tt>stable</tt> door
	  <tt>&oldreleasename;</tt>.</p>

	  <p>Voor regels die beginnen met <tt>deb file:</tt> zult u zelf moeten
	  controleren of de locatie waarnaar zij verwijzen een &oldreleasename;
	  of een &releasename; archief bevat.</p>

	  <p><strong>Belangrijk!</strong> Wijzig geen regels die beginnen met
	  <tt>deb cdrom:</tt>. Als u dit wel doet, maakt dat de regel ongeldig
	  en zult u de CD opnieuw moeten inlezen met <prgn>apt-cdrom</prgn>. Er
	  is geen reden om verontrust te worden als een 'cdrom' bronregel
	  verwijst naar "<tt>unstable</tt>"; dit is, hoewel verwarrend,
	  normaal.</p>

	  <p>Als u wijzigingen heeft aangebracht, geef dan de opdracht
<example compact="compact">
# apt-get update
</example>
	  om de pakkettendatabase te vernieuwen.</p>
	</sect>
    </appendix>


  </book>
</debiandoc>

<!-- Keep this comment at the end of the file
Local Variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-namecase-general:t
sgml-general-insert-case:lower
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:2
sgml-indent-data:nil
sgml-declaration:nil
sgml-parent-document:nil
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
fill-column: 75
End:
-->
