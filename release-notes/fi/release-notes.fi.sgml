<!DOCTYPE debiandoc PUBLIC "-//DebianDoc//DTD DebianDoc//EN" [

  <!ENTITY % dynamicdata SYSTEM "../en/../dynamic.ent"> %dynamicdata;
  <!ENTITY % shareddata SYSTEM "../en/../release-notes.ent"> %shareddata;
  <!ENTITY docid "$Id: release-notes.fi.sgml,v 1.5 2007-04-11 16:25:05 tale Exp $">
]>
<debiandoc>
 <book>
  <titlepag>
   <title>
     &debian; &release; ("&releasename;"), &arch-title; julkistusmuistio
   </title>
   <author>
     <name>Josip Rodin, Bob Hilliard, Adam Di Carlo, Anne Bezemer, Rob 
     Bradford, Frans Pop (tällä hetkellä), Andreas Barth (tällä hetkellä), 
     Javier Fern&aacute;ndez-Sanguino Pe&ntilde;a (tällä hetkellä), Steve 
     Langasek (tällä hetkellä)</name><email></email>
   </author>
   <author>
     <name></name><email>debian-doc@lists.debian.org</email>
   </author>
   <version>
     &docid;

   </version>
  </titlepag>
  <toc detail="sect1">
 
 <chapt id="about">
  <heading>
    Johdanto
  </heading>
  <p>
    Tämän julkistusmuiston ensisijaisia tavoitteita on kertoa käyttäjille 
    Debian-jakelun tämän julkaisun suurista muutoksista, tarjota tietoa 
    turvallisesta päivityksestä edellisestä julkaisusta ja viimekseksi 
    varoittaa käyttäjiä mahdollisesti vastaantulevista seikoista 
    päivitettäessä tai käytettäessä julkaisua &releasename;.
  </p>
  <p>
    Huomaathan, että on mahdotonta luetella kaikkia tunnettuja seikkoija, ja 
    siksi valinta on tehty seikan odotetun näkyvyyden ja vaikutuksen 
    yhdistelmän pohjalta.
  </p>
  <p>
    Tämän julkaisun uusin versio on aina saatavilla osoitteesta <url 
    id="&url-release-notes;">. Jos lukemasi versio on kuukautta 
    vanhempi<footnote><p>Päiväys on PDF-version etusivulla ja HTML-version 
    sivun alatunnisteessa</p></footnote>, halunnet noutaa uusimman version.
  </p>
  <p>
    Huomaa, että tuemme ja dokumentoimme vain päivitykset edellisestä 
    Debianin versiosta (tässä tapauksessa päivitys versiosta 
    &oldreleasename;). Jos on päivitettävä vanhemmasta versiosta, ole hyvä 
    ja tutustu julkistusmuistion aikaisempiin painoksiin ja päivätä ensin 
    julkaisuun &oldreleasename;.
  </p>
  <sect id="bug_reports">
   <heading>
     Tämän ohjeen vioista ilmoittaminen
   </heading>
   <p>
     Kaikki tässä ohjeessa kuvatut päivityksen vaiheet on pyritty testaamaan 
     ja myöskin kaikki esiin tulevat pulmat on pyritty ennakoimaan.
   </p>
   <p>
     Jos kuitenkin uskot löytäneesi vian tästä ohjeistosta (väärää tai 
     puuttuvaa tietoa), ole hyvä ja tee vikailmoitus <url id="&url-bts;" 
     name="vianseurantajärjestelmään"> paketille 
     <package>release-notes</package>.
   </p>
  </sect>
  <sect id="upgrade_reports">
   <heading>
     Päivitysraporteilla avustaminen
   </heading>
   <p>
     Kaikki käyttäjiltä tuleva tieto päivityksestä julkaisusta 
     &oldreleasename; julkaisuun &&releasename; on tervetullutta. Jos haluat 
     avustaa, jaa kokemuksesi vikailmoituksella <url id="&url-bts;" 
     name="vianseurantajärjestelmään"> paketille 
     <package>upgrade-reports</package>. Pyydämme pakkaamaan kaikki liitteet 
     ohjelmalla <prgn>gzip</prgn>.
   </p>
   <p>
     Ilmoita seuraavat tiedot lähettäessäsi päivitysraporttia:
    <list>
     <item>
      <p>
        Pakettitietokannan tila päivitystä ennen ja jälkeen:  
        <prgn>dpkg</prgn>:n tietokannan tila on saatavilla tiedostossa 
        <file>/var/lib/dpkg/status</file> ja <prgn>aptitude</prgn>:n 
        pakettitilatieto on tiedostossa 
        <file>/var/lib/aptitude/pkgstates</file>. Ennen päivitystä olisi 
        pitänyt tehdä varmuuskopio kuten kerrottiin kohdassa <ref 
        id="data-backup">, mutta näiden tietojen varmuuskopiot löytyvät myös 
        hakemistosta <file>/var/backups</file>.
      </p>
     </item>
     <item>
      <p>
        Ohjelmalla <prgn>script</prgn> tehdyt istunnon lokit, kuten 
        kerrottiin kohdassa <ref id="record_session">.
      </p>
     </item>
     <item>
      <p>
        Ohjelman <prgn>aptitude</prgn> lokit tiedostosta 
        <file>/var/log/aptitude</file>.
      </p>
     </item>
    </list>
   </p>
   <p>
     Huomaa: lokeista olisi etsittävä ja poistettava arkaluontoiset ja/tai 
     luottamukselliset tiedot ennen niiden liittämistä vikailmoitukseen 
     koska se kirjataan julkiseen tietokantaan.
   </p>
  </sect>
  <sect id="sources">
   <heading>
     Tämän ohjeen lähteet
   </heading>
   <p>
     Tämä ohje tuotetaan sovelluksella 
     <package>debiandoc-sgml</package>. Julkaisumuistion lähdetekstit ovat 
     saatavilla <em>Debian Documentation Project</em>in 
     CVS-varastoalueelta. Yksittäisen tiedoston voi katsoa netistä <url 
     id="&url-cvs-release-notes;" name="selainkäyttöliittymällä"> jolloin 
     näkee myös sen muutoshistorian. Lisätietoja CVS:n käytöstä löytyy <url 
     id="&url-ddp-cvs-info;" name="Debian Documentation Projectin 
     CVS-sivuilta">.
   </p>
  </sect>
 </chapt>
 <chapt id="whats-new">
  <heading>
    Mitä uutta &debian; versiossa &release;
  </heading>
  <p>
    Tämä julkaisu lisää virallisen tuen AMD64-arkkitehtuurille, joka tukee 
    64-bittisiä suorittimia sekä Inteliltä (EM64T) että AMD:ltä 
    (AMD64). Edellisen julkaisun, &debian; 3.1 ("sarge"), aikana oli 
    saatavilla epävirallinen versio tästä siirroksesta. <![ %amd64 [ 
    Päivitys tästä epävirallisesta versiosta pitäisi onnistua tämän 
    julkistusmuistion avulla, mutta Debian ei virallisesti tue 
    päivitystä.]]>
  </p>
  <p>
    Virallinen tuki Motorola 680x0 ("m68k") -arkkitehtuurille on 
    lakkautettu, koska siirros ei täyttänyt Debianin julkaisupäälliköiden 
    asettamia kriteerejä. Tärkein syy oli tehokkuus ja rajoitettu ylävirran 
    tuki oleellisille työkaluketjun osille. Tästäkin huolimatta 
    m68k-siirroksen voi odottaa pysyvät aktiivisena ja käytettävissä 
    asennuksiin vaikkakaan se ei ole osa tätä virallista vakaata julkaisua.
  </p>
  <p>
    Virallisesti tuetut arkkitehtuurit &debian; versiossa &releasename; 
    ovat:
  </p>
  <p>
   <list>
    <item>
     <p>
       Intel x86 ("i386")
     </p>
    </item>
    <item>
     <p>
       Alpha ("alpha")
     </p>
    </item>
    <item>
     <p>
       SPARC ("sparc")
     </p>
    </item>
    <item>
     <p>
       PowerPC ("powerpc")
     </p>
    </item>
    <item>
     <p>
       ARM ("arm")
     </p>
    </item>
    <item>
     <p>
       MIPS ('mips' (big-endian) and 'mipsel' (little-endian))
     </p>
    </item>
    <item>
     <p>
       Intel Itanium ("ia64")
     </p>
    </item>
    <item>
     <p>
       HP PA-RISC ("hppa")
     </p>
    </item>
    <item>
     <p>
       S/390 ("s390")
     </p>
    </item>
    <item>
     <p>
       AMD64 ("amd64")
     </p>
    </item>
   </list>
  </p>
  <p>
    Lisätietoja siirroksen tilasta ja siirroskohtaisia tietoja voi lukea 
    sivulta <url id="&url-ports;" name="Debianin siirroksien www-sivuilta">.
  </p>
   <![ %secondrelease [

  <p>
    Tämä on vasta toinen virallinen &debian; julkistus &arch-title; 
    arkkitehtuurille. Mielestämme se on osoittautunut julkistamisen 
    arvoiseksi. Koska se ei ole ollut käytössä (eikä siis käyttäjien 
    testattavana) yhtä laajalti kuin muiden arkkitehtuurien versiot, saatat 
    törmätä vikoihin. Käytä <url id="&url-bts;" 
    name="vianseurantajärjestelmäämme"> vikailmoituksiin; muista mainita 
    vian olevan &architecture;-alustalla.
  </p>
   ]]><![ %arm [

  <sect id="new-arch">
   <heading>
     Mitä uutta siirrokselle &arch-title;?
   </heading>
   <p>
     RiscPC:n (RPC) tuki on epätäydellinen ja tullaan poistamaan etchin 
     jälkeen. Vaikkakin RiscPC-ydin on yhä tarjolla etchiin, ei asennin tue 
     tätä järjestelmää.
   </p>
   <p>
     Tuki Intelin IXP4xx-laitealustalle on lisätty. Asentimessa on tuki 
     Linksys NSLU2:lle, pienelle ja edulliselle laitteelle massamuistiksi 
     USB-liitäntään. Lisätietoja Debianista NSLU2:lla löytyy osoitteesta 
     <url id="http://www.cyrius.com/debian/nslu2/">. 
   </p>
   <p>
     Myöskin on lisätty tuki Intelin I/O Prosessor (IOP) 
     -laitealustalle. Tarkemmin sanoen, &debian; julkaisu &release; tukee 
     IOP 32x:ään perustuvia laitteita. Asennin tukee kahta IOP-piirillä 
     rakennettua Network Attached Storage (NAS) -laitetta: IO-Datan GLAN 
     Tank ja Thecus N2100. Katso <url id=" 
     http://www.cyrius.com/debian/iop/">.
   </p>
  </sect>
   ]]><![ %mips-mipsel [

  <sect id="new-arch">
   <heading>
     Mitä uutta siirrokselle &arch-title;?
   </heading>
    <![ %mipsel [

   <p>
     DECstationin tuki on epätäydellinen ja testaamaton etchissä ja tullaan 
     poistamaan kokonaan tämän julkaisun jälkeen. Tämä koskee molempia 
     DECStation-muunnoksia joita Debian aiemmin tuki, r3k-kn02 ja r4k-kn04.
   </p>
   <p>
     Asennukset MIPS-suorittimellisiin Cobalt-laitteisiin (Qube 2700, RaQ1, 
     Qube2, RaQ2) ovat nyt mahdollisia ilman sarjakonsolia. Oletusarvona 
     Cobalt-asennukset tehdään nyt SSH:n kautta. Katso lisätietoja 
     osoitteesta <url id="http://www.cyrius.com/debian/cobalt/">.
   </p>
    ]]><![ %mips [

   <p>
     Tuki SGI:n IP32-laitealustalle on lisätty. IP32-laitealusta muodostuu 
     SGI:n O2-malleista joissa on R5000-, R5200- tai 
     RM7000-suorittimet. Asennuksen voi tehdä ruutupuskuroidun 
     näytönohjaimen tai sarjakonsolin kautta.
   </p>
    ]]>

   <p>
     Tuki Broadcomin SB1A kehityskäyttöön tarkoitettulle emolevylle 
     BCM91480B ("BigSur"), jossa käytetään neliytimistä BCM1480-piiriä, on 
     lisätty. Tätä emolevyä tuetaan sekä big endian että little endian 
     -toimintatiloissa.
   </p>
   <p>
     Tuki Qemu-koneelle on lisätty. Qemu/MIPS-kone emuloi perinteistä ISA PC 
     -tyylistä konetta jossa on MIPS 4KC -suoritin.
   </p>
  </sect>
   ]]><![ %powerpc [

  <sect id="new-arch">
   <heading>
     Mitä uutta siirrokselle &arch-title;?
   </heading>
   <p>
     Tämä julkaisu lisää tuen 64-bittisille PowerPC-arkkitehtuureille (IBM 
     pSeries, Apple G5 powermacs). Tuki Applen arkkitehtuurin muunnokselle 
     Apus on poistettu; myöskään ei tueta Applen arkkitehtuurin muunnosta 
     Nubus.
   </p>
  </sect>
   ]]>

  <sect id="newdistro">
   <heading>
     Mitä uutta jakelussa?
   </heading>
   <p>
     Tämä Debianin julkaisu tuo mukanaan taas kerran enemmän ohjelmistoja 
     kuin edeltäjänsä &oldreleasename;. Jakelu sisältää yli &packages-new; 
     uutta pakettia, jolloin paketteja on yhteensä yli &packages-total;.  
     Useimmat jakelun ohjelmistoista on päivitetty: lähes &packages-updated; 
     ohjelmistopakettia (se on &packages-update-percent&nbsp;% version 
     &oldreleasename; paketeista). Lisäksi merkittävä määrä paketteja (yli 
     &packages-removed;, &packages-removed-percent;&nbsp;% &oldreleasename;n 
     paketeista) on poistettu jakelusta erinäisistä syistä. Näihin et tule 
     näkemään päivityksiä, ja ne merkitään "vanhentuneiksi" 
     paketinhallintatyökaluissa.
   </p>
   <p>
     Tässä julkaisussa &debian; vaihtaa XFree86:sta 7.1-julkaisuun 
     X.Orgista, joka tukee suurempaa määrää laitteistoa ja jossa on parempi 
     laitteistotunnistus. Tämä mahdollistaa Compizin käytön, joka on eräs 
     ensimmäisistä koontavista ikkunointiohjelmista 
     X-ikkunointijärjestelmälle, ottaen täyden hyödyn laitteiston 
     OpenGL-kiihdytyksestä tuetuilla laitteilla.
   </p>
   <p>
     &debian;in julkaisussa on taas mukana useita työpöytäsovelluksia ja 
     -ympäristöjä. Muiden muassa mukana on nyt työpöytäympäristö GNOME 
     2.14<footnote><p>Joitakin moduuleita on versiosta GNOME 
     2.16</p></footnote>, KDE 3.5.5a, ja Xfce 4.4. Myös toimistosovellukset 
     on päivitetty, mukaan lukien toimisto-ohjelmistot OpenOffice.org 2.0.4a 
     ja KOffice 1.6 sekä GNUcash 2.0.5, GNUmeric 1.6.3 ja Abiword 2.4.6.
   </p>
   <p>
     Muiden työpöytäsovellusten päivityksiin kuuluvat päivitys Evolutionin 
     versioon 2.6.3 ja Gaimin versioon 2.0. Myös Mozilla-ohjelmisto on 
     päivitetty, ja ja sen tärkeimpien sovellusten nimet vaihdettu: 
     <prgn>iceweasel</prgn> (versio 2.0.0.2) on tuotemerkitön 
     <prgn>Firefox</prgn>-selain ja <prgn>icedove</prgn> (versio 1.5) on 
     tuotemerkitön <prgn>Thunderbird</prgn> sähköpostiohjelma.
   </p>
   <p>
     Lukuisten muiden päivitysten lisäksi tässä julkaisussa on seuraavat 
     ohjelmapäivitykset:
   </p>
   <p>
    <list>
     <item>
      <p>
        GNU C kirjasto, versio 2.3.6
      </p>
     </item>
     <item>
      <p>
        GNU Compiler Collection 4.1 oletuskääntimenä
      </p>
     </item>
     <item>
      <p>
        ohjelmointikielten tulkkeja: Python 2.4, PHP 5.2
      </p>
     </item>
     <item>
      <p>
        palvelinohjelmia:
      </p>
      <p>
       <list>
        <item>
         <p>
           sähköpostipalvelimia: Exim 4.63 (uusien asennusten 
           oletussähköpostipalvelin), Postfix 2.3, Courier 0.53, Cyrus 2.2
         </p>
        </item>
        <item>
         <p>
           webbipalvelimia: Apache 2.2, fnord 1.10
         </p>
        </item>
        <item>
         <p>
           tietokantapalvelimia: MySQL 5.0.32, PostgreSQL 8.1
         </p>
        </item>
        <item>
         <p>
           OpenSSH-palvelin, versi 4.3
         </p>
        </item>
        <item>
         <p>
           nimipalvelimia: Bind 9.3, maradns 1.2
         </p>
        </item>
        <item>
         <p>
           hakemistopalvelin: OpenLDAP 2.3
         </p>
        </item>
       </list>
      </p>
     </item>
    </list>
   </p>
   <p>
     Virallinen &debian;-jakelu toimitetaan nyt 19 - 23 CD-levyllä (riippuen 
     arkkitehtuurista), ja lisäksi on vastaava määrä 
     lähdekoodi-CD-levyjä. Jakelun DVD-versio on myös saatavilla.
   </p>
   <sect1 id="pkgmgmt">
    <heading>
      Paketinhallinta
    </heading>
    <p>
      <prgn>aptitude</prgn> on suositeltavin ohjelma paketinhallintaan 
      päätteeltä. <prgn>aptitude</prgn> tukee useimpia 
      <prgn>apt-get</prgn>in komentorivitoimintoja ja lisäksi se on 
      osoittautunut paremmaksi riippuvuusratkaisijaksi kuin 
      <prgn>apt-get</prgn>. Jos käytät vielä <prgn>dselect</prgn>iä, 
      kannattaa vaihtaa <package>aptitude</package> paketinhallinnan 
      viralliseksi edustaohjelmaksi.
    </p>
    <p>
      Julkaisuun &releasename; on toteutettu kehittynyt ristiriitojen 
      ratkaisin <prgn>aptitude</prgn>:en. Se
       pyrkii löytämään parhaan ratkaisun havaitessaan pakettien välisten 
      riippuvuuksien muutosten aiheuttamia ristiriitoja.
    </p>
    <p>
      <em>Tietoturvallinen APT</em> on nyt saatavilla julkaisussa 
      &releasename;. Tämä ominaisuus lisää &debian;in tietoturvaa 
      helpottamalla vahvan salauksen käyttöä ja tukemalla digitaalisia 
      allekirjoituksia noudettujen pakettien todentamiseen. Tässä 
      julkaisussa on mukana <prgn>apt-key</prgn>-työkalu jolla lisätään 
      uusia avaimia apt:n avainrenkaaseen, jossa oletusarvona on vain 
      Debianin arkiston nykyinen allekirjoitusavain, joka tulee paketissa 
      <package>debian-archive-keyring</package>.
    </p>
    <p>
      Oletusasetuksilla <prgn>apt</prgn> varoittaa nyt jos paketteja 
      noudetaan tunnistamattomista lähteistä. Tulevat julkaisut saattavat 
      pakottaa kaikki paketit varmennettaviksi ennen 
      noutamista. Epävirallisten apt-varastoalueiden ylläpitäjiä kehoitetaan 
      luomaan salakirjoitusavain ja allekirjoittamaan Release-tiedostonsa, 
      sekä tarjoamaan tietoturvallisen tavan julkisten avaimiensa jakeluun.
    </p>
    <p>
      Lisätietoja: <manref section="8" name="apt">, luku <url 
      id="http://www.debian.org/doc/manuals/securing-debian-howto/ch7#s-deb-pack-sign" 
      name="Package signing in Debian"> <em>Securing Debian Manual</em>:issa 
      ja <url id="http://wiki.debian.org/SecureApt" name="Debian Wiki">.
    </p>
    <p>
      Toinen ohjelmaan <prgn>apt</prgn> lisätty ominaisuus on mahdollisuus 
      noutaa vain tiedoston <file>Packages</file> edellisen päivityksen 
      jälkeiset muutokset. Tästä ominaisuudesta kertoo lisää <ref 
      id="apt-pdiff">.
    </p>
   </sect1>
   <sect1 id="volatile">
    <heading>
      debian-volatile on nyt virallinen palvelu
    </heading>
    <p>
      <em>debian-volatile</em>:sta, joka esiteltiin epävirallisen palveluna 
      &oldreleasename;-julkaisun myötä, on nyt tullut virallinen 
      &debian;-palvelu.
    </p>
    <p>
      Tämä tarkoittaa nyt käytettävän 
      <tt>.debian.org</tt>-osoitetta<footnote><p>Vanha 
      <tt>volatile.debian.net</tt>-osoite pysyy vielä käytössä 
      toistaiseksi.</p></footnote>. Varmistuthan, että päivität 
      <file>/etc/apt/sources.list</file>-tiedostoa vastaavasti mikäli käytit 
      jo aiemmin tätä palvelua.
    </p>
    <p>
      <em>debian-volatile</em> antaa käyttäjien päivittää helposti vakaan 
      julkaisun sellaisia paketteja, joiden sisältämä tieto vanhenee 
      nopeasti. Esimerkkejä ovat virustutkaimien allekirjoitusluettelot tai 
      roskapostisuodatinten tunnistusjoukot. Lisätietoa ja luettelo 
      peileistä löytyy arkiston <url id="&url-debian-volatile" 
      name="www-sivulta">.
    </p>
   </sect1>
  </sect>
  <sect id="system-changes">
   <heading>
     Järjestelmän parannuksia
   </heading>
   <p>
     Jakeluun on tehty lukuisia muutoksia joista hyötyvät 
     &releasename;-julkaisun uudet asennukset, mutta jotka eivät välttämättä 
     tule automaattisesti käyttöön päivitettäessä julkaisusta 
     &oldreleasename;. Tämä osa on yleiskatsaus huomattavimpiin muutoksiin.
   </p>
   <p>
    <taglist>
     <tag>
       Ohjelmankehityksen peruspakettien prioriteettia on madallettu
     </tag>
     <item>
      <p>
        Useat ennen prioriteetilla <em>standard</em> olleet 
        ohjelmankehityspaketit ovat nyt prioriteetilla <em>optional</em>, 
        mikä tarkoittaa ettei niitä enää asenneta oletusarvona. Näihin 
        kuuluvat vakio C/C++-käännin, <package>gcc</package>, sekä joitakin 
        muita ohjelmia (<package>dpkg-dev</package>, 
        <package>flex</package>, <package>make</package>) ja 
        headers-tiedostoja (<package>libc6-dev</package>, 
        <package>linux-kernel-headers</package>).
      </p>
      <p>
        Jos nämä paketit halutaan järjestelmään, on helpoin tapa niiden 
        asentamiseen paketti <package>build-essential</package>, jonka 
        riippuvuudet saavat useimmat niistä asentumaan.
      </p>
     </item>
     <tag>
       SELinuxin prioriteetti on standard, mutta oletuksena on ettei sitä 
       oteta käyttöön
     </tag>
     <item>
      <p>
        SELinuxin tukeen tarvittavien pakettien prioriteetiksi on nostettu 
        <em>standard</em>. Tämän ansiosta ne oletusarvona asennetaan uusissa 
        asennuksissa. Jo asennettuun järjestelmään SELinux saadaan 
        asennettua komennolla:
       <example>
# aptitude install selinux-basics
       </example>
      </p>
      <p>
        Huomaa oletusarvon olevan, <em>ettei</em> SELinuxia oteta 
        käyttöön. Tietoa SELinuxin asetuksista ja käyttöönotosta löytyy <url 
        id="&url-wiki-selinux;" name="Debian Wikistä">.
      </p>
     </item>
     <tag>
       Uusi oletus inet-päätaustaprosessille
     </tag>
     <item>
      <p>
        Julkaisussa &releasename; oletus inet-päätaustaprosessille on 
        <package>openbsd-inetd</package> eikä  
        <package>netkit-inetd</package>. Sitä ei käynnistetä jos minkään 
        palvelun asetuksia ei ole tehty, mikä on oletustilanne. Uusi 
        oletuspäätaustaprosessi asennetaan automaattisesti päivityksessä.
      </p>
     </item>
     <tag>
       Oletus <prgn>vi</prgn>-kloonille on muuttunut
     </tag>
     <item>
      <p>
        Oletuksena asennettava <prgn>vi</prgn>-klooni on nyt supistettu 
        versio teksturista <prgn>vim</prgn> (<package>vim-tiny</package>) 
        eikä <package>nvi</package>.
      </p>
     </item>
     <tag>
       Muutoksia tiedostojärjestelmien <tt>ext2</tt>/<tt>ext3</tt> 
       oletusominaisuuksissa
     </tag>
     <item>
      <p>
        Uusia ext2 ja ext3 tiedostojärjestelmiä luotaessa ovat ominaisuudet 
        <em>dir_index</em> ja <em>resize_inode</em> oletusarvona 
        käytössä. Ensimmäinen ominaisuus nopeuttaa paljon tiedostoja 
        sisältävien hakemistojen käsittelyä; toinen mahdollistaa 
        tiedostojärjestelmän koon muuttamisen lennossa (ts. kun se on 
        liitettynä).
      </p>
      <p>
        Julkaisusta &oldreleasename; päivittävät voivat harkita 
        <em>dir_index</em>:in ottamista käyttöön ohjelmalla 
        <prgn>tune2fs</prgn><footnote><p>Ilmaisimen <em>filetype</em> 
        pitäisi olla jo asetettu useimmissa tiedostojärjestelmissä, paitsi 
        ehkä järjestelmissä jotka asennettiin ennen julkaisua 
        &oldreleasename;. </p></footnote>; Ominaisuutta 
        <em>resize_inode</em> ei voi ottaa käyttöön jos tiedostojärjestelmä 
        on jo tehty. Tiedostojärjestelmän ominaisuudet voi tarkistaa 
        komennolla <tt>dumpe2fs -h</tt>.
      </p>
     </item>
     <tag>
       Julkaisun &releasename; oletus merkkikoodaukselle on UTF-8
     </tag>
     <item>
      <p>
        Uusissa &debian; -asennuksissa merkkikoodauksen oletusarvo on 
        UTF-8. Moniaat sovellukset on myös asetettu käyttämään UTF-8:aa 
        oletuksena.
      </p>
      <p>
        Käyttäjät jotka päivittävät julkaisuun &releasename; ja haluavat 
        vaihtaa UTF-8:aan joutuvat tekemään ympäristön asetukset ja 
        maa-asetuston uudestaan. Järjestelmäkohtainen oletus voidaan vaihtaa 
        komennolla <tt>dpkg-reconfigure locales</tt>;. Valitse ensin 
        kielelle ja maalle sopiva UTF-8-maa-asetusta ja valitse se sitten 
        oletukseksi. Huomaa UTF-8:aan vaihtamisen tarkoittavan että joutunet 
        myös muuntamaan vanhoissa tiedostoissa merkistön UTF-8:ksi.
      </p>
      <p>
        Paketissa <package>utf8-migration-tool</package> on työkalu joka 
        ehkä helpottaa muunnosta. Tuo paketti on kuitenkin saatavilla vain 
        epävakaasta jakelusta koska se ei valmistunut ajoissa julkaisuun 
        &releasename;. Suositellaan ihan oikeasti tietojen ja asetusten 
        varmuuskopiointia ennen työkalun käyttöä.
      </p>
      <p>
        Huomaa että jotkin sovellukset eivät ehkä vielä toimi oikein 
        UTF-8-ympäristössä, enimmäkseen näyttöongelmien vuoksi.
      </p>
     </item>
    </taglist>
   </p>
   <p>
     <url id="http://wiki.debian.org/Sarge2EtchUpgrade" name="Debian Wiki"> 
     sisältää lisätietoja julkaisujen &oldreleasename; ja  &releasename; 
     välisistä eroista.
   </p>
  </sect>
  <sect id="kernel-changes">
   <heading>
     Suuria ytimeen liittyviä muutoksia
   </heading>
   <p>
     &debian; &release; toimitetaan ytimen versiolla &kernelversion; 
     kaikille arkkitehtuureille; julkaisu on silti enimmäkseen <![ 
     %defaulted-2.4 [ <footnote><p>Jotkin yksittäiset paketit eivät ehkä 
     enää toimi oikein 2.4-ytimellä; katso <ref 
     id="incompatible-2.4">.</p></footnote> ]]> yhteensopiva 2.4-ytimien 
     kanssa, mutta Debian ei enää toimita eikä tue 2.4-ytimen paketteja.
   </p>
   <p>
     Ytimessä itsessään ja ytimien paketoinnissa Debiania varten on 
     tapahtunut suuria muutoksia. Jotkin näistä muutoksista mutkistavat 
     päivitystä ja saattavat aiheuttaa pulmia käynnistettäessä järjestelmää 
     uudelleen kun on päivitetty julkaisuun &releasename;. Tämä osa sisältää 
     katsauksen tärkeimpiin muutoksiin; mahdollisista pulmista ja tietoa 
     niiden selvittämisestä on myöhemmissä luvuissa.
   </p>
    <![ %defaulted-2.4 [

   <p>
     Jos käytät nyt 2.4-ydintä, olisi <ref id="upgrade-to-2.6"> luettava 
     huolellisesti.
   </p>
    ]]>

   <sect1 id="kernel-packaging">
    <heading>
      Muutoksia ytimien paketoinnissa
    </heading>
    <p>
     <taglist>
      <tag>
        Uudet nimet ytimen paketeille
      </tag>
      <item>
       <p>
         Nimiavaruutta on siistitty muuttamalla kaikkien Linux-ydinten 
         pakettien nimet muodosta <package>kernel-*</package> muotoon 
         <package>linux-*</package>. Tämä helpottaa muiden kuin 
         Linux-ydinten lisäämistä Debianiin tulevaisuudessa.
       </p>
      </item>
       <![ %i386 [

      <tag>
        Arkkitehtuurin muunnos "386" korvattu "486":lla
      </tag>
      <item>
       <p>
         Koska tuki 80386-suorittimelle jätettiin pois julkaisun 
         &oldreleasename; jälkeen, on ytimen 386-malli myöskin jätetty jos 
         ja sen korvaa uusi 486-malli.
       </p>
      </item>
       ]]><![ %amd64 [

      <tag>
        Yksi yleiskäyttöinen ydin laitearkkitehtuurille &arch-title;
      </tag>
      <item>
       <p>
         Julkaisussa &oldreleasename; oli erilliset ytimen muunnokset 
         erilaisille tämän arkkitehtuurin suoritinperheille. Koska ydintä on 
         muutettu optimoitumaan automaattisesti järjestelmän 
         suorittimelle(-mille), ei enää ole todellista tarvetta erillisille 
         ytimen muunnoksille.
       </p>
      </item>
       ]]><![ %i386-amd64-ia64 [

      <tag>
        Vakioytimissä on usean suorittimen tuki
      </tag>
      <item>
       <p>
         Usean suorittimen järjestelmissä ei enää tarvita *-smp -mallia 
         olevaa Linux-ydintä. Laitearkkitehtuurilla &arch-title; 
         linux-image-paketeissa joissa ei ole -smp-päätettä on tuki sekä 
         yhden suorittimen että monen suorittimen järjestelmille. <![ %i386 
         [ (Ainoa poikkeus on 486-malli, joka tukee vain yhtä suoritinta.) 
         ]]>
       </p>
      </item>
       ]]><![ %mips [

      <tag>
        Ytimen r5k-ip22-mallin tuki loppunut
      </tag>
      <item>
       <p>
         Ydin IP22-koneille joissa on R5000-suoritin on poistettu koska 
         r4k-ip22-ydin tukee nyt IP22-koneita sekä R4x000- että 
         R5000-suorittimilla.
       </p>
      </item>
       ]]>

     </taglist>
    </p>
    <p>
      Mikäli mahdollista, on poistetuista paketeista tehty tyhjiä 
      siirtymäpaketteja asentamaan riippuvuuksien avulla uudet paketit.
    </p>
   </sect1>
   <sect1 id="kernel-initrd">
    <heading>
      Uudet käynnistyksen muistilevyjä tekevät apuohjelmat
    </heading>
     <![ %no-initrd [

    <p>
      Debianin ytimien asennuspaketit arkkitehtuurille &arch-title; eivät 
      vaadi käynnistyksen muistilevyä. Tästä syystä tämän osan tiedot eivät 
      ehkä ole kiinnostavia, mutta ne on otettu mukaan viitetiedoksi.
    </p>
     ]]>

    <p>
      <![ %uses-initrd [ Debianin ytimen asennuspaketit laitealustalle 
      &arch-title; vaativat käynnistyksen muistilevyn (initrd). ]]> Ytimen 
      muutoksien vuoksi julkaisussa &oldreleasename; käytettyä initrd:n 
      tekevää sovellusta <package>initrd-tools</package> ei voi enää käyttää 
      ja se on hylätty. Sitä korvaamaan on kehitetty kaksi uutta sovellusta:  
      <package>initramfs-tools</package> ja <package>yaird</package>. Näiden 
      toteutustavat ovat hyvin erilaiset; katsaus on saatavilla <url 
      id="http://wiki.debian.org/InitrdReplacementOptions" name="Debian 
      Wikissä">. Molemmat tekevät tiedostojärjestelmää <em>initramfs</em> 
      käyttävän initrd:n. Se on pakattu <prgn>cpio</prgn>-arkisto. Oletus ja 
      suositus on <package>initramfs-tools</package>.
    </p>
     <![ %uses-initrd [

    <p>
      Päivitys julkaisun &releasename; ytimeen asentaa oletusarvona paketin 
      <package>initramfs-tools</package>.  <![ %defaulted-2.4 [ Jos 
      päivitetään 2.4-ytimestä Debianin 2.6-ytimeen, on käytettävä pakettia 
      <package>initramfs-tools</package>. Paketin <package>yaird</package> 
      käyttäminen aiheuttaa linux-image-2.6 asennuksien epäonnistumisen jos 
      käytössä on 2.2- tai 2.4-ydin. ]]>
    </p>
    <p>
      Paketti <package>initrd-tools</package> on yhä mukana julkaisussa 
      &releasename; koska sitä tarvitaan päivitettäessä julkaisusta 
      &oldreleasename;. Se poistetaan ennen seuraavaa julkaisua.
    </p>
     ]]>

   </sect1>
   <sect1 id="kernel-udev">
    <heading>
      Ajoaikainen <file>/dev</file> hallinnointi ja laitteistotunnistus
    </heading>
    <p>
      Julkaisun &releasename; ytimissä ei ole enää tukea <tt>devfs</tt>:lle.
    </p>
    <p>
      <tt>devfs</tt>:n korvaa <package>udev</package>, joka on 
      käyttäjätasolla toimiva devfs:n kaltainen sovellus.
    </p>
    <p>
      <package>udev</package> liitetään hakemistoon <file>/dev</file> ja se 
      tekee hakemistoon ytimen tukemat laitteet. Se myös lisää ja poistaa 
      laitteita sitä mukaan kun ytimen moduuleita lisätään tai poistetaan, 
      ytimen lähettämien tapahtumien mukaan. <prgn>udev</prgn> on paljon 
      <tt>devfs</tt>:ää monikäyttöisempi ja tarjoaa muiden pakettien 
      käyttämiä palveluita. Näitä paketteja on esimerkiksi 
      <package>hal</package> (hardware abstraction layer).
    </p>
    <p>
      Yhdessä ytimen kanssa <package>udev</package> huolehtii myös 
      laitteistotunnistuksesta ja havaittuja laitteita vastaavien moduulien 
      lataamisesta. Tästä syystä <package>udev</package>:llä on ristiriita 
      <package>hotplug</package>:in kanssa. Julkaisussa &oldreleasename; 
      voitiin käyttää myös <package>discover</package>:ia moduulien 
      lataamiseen käynnistyksen aikana, mutta sen uusi versio julkaisussa 
      &releasename; ei enää tarjoa tätä toiminnallisuutta.<![ %not-s390 [ 
      X.Org käyttää vielä pakettia <package>discover</package> laitteistossa 
      olevan näytönohjaimen tunnistamiseen. ]]>
    </p>
     <![ %uses-initrd [

    <p>
      Asennettaessa Debianin ydin, asentuu oletusarvona paketti 
      <package>udev</package> koska paketilla 
      <package>initramfs-tools</package> on riippuvuus siihen.
    </p>
    <p>
      Paketin <package>udev</package> asennus on vältettävissä kääntämällä 
      räätälöity ydin joka ei käytä moduuleita tai käyttämällä muuta 
      käynnistyksen muistilevyn tuottavaa ohjelmaa, kuten pakettia 
      <package>yaird</package>. Paketti <package>initramfs-tools</package> 
      on kuitenkin suositeltu sovellus käynnistyksen muistilevyn tekoon.
    </p>
     ]]>

   </sect1>
  </sect>
 </chapt>
 <chapt id="installing">
  <heading>
    Asennusjärjestelmä
  </heading>
  <p>
    Debianin asennin on virallinen asennusjärjestelmä Debianille. Asennin 
    tarjoaa useita asennustapoja. Tiettyyn järjestelmään tarjolla olevat 
    tavat riippuvat arkkitehtuurista.
  </p>
  <p>
    Asentimen otokset julkaisulle &releasename; ja Asennusohje löytyvät <url 
    id="&url-installer;" name="Debianin seittisivustosta">.
  </p>
  <p>
    Asennusohje on myös mukana ensimmäisellä rompulla Debianin romppuissa 
    tiedostossa
   <example>
/doc/install/manual/<var>kieli</var>/index.html
        </example>
  </p>
  <p>
    Kannattaa tarkistaa myös debianin asentimen <url 
    id="&url-installer;index#errata" name="virheluettelosta"> tunnetut viat.
  </p>
   <![ %alpha [

  <p>
    Asentimella voidaan asentaa vain SRM-konsolia tukevia 
    alpha-järjestelmiä. Muista vaihtaa järjestelmä SRM:ään ennen asennuksen 
    aloittamista. Jos kone tukee vain AlphaBIOS/ARC-konsolia, on suositeltu 
    julkaisun &releasename; asennustapa asentaa ensin (pienin mahdollinen) 
    woody-järjestelmä, päivittää se julkaisuun &oldreleasename; ja lopuksi 
    julkaisuun &releasename;. Lisätietoja eri konsoleista löytyy <url 
    id="http://www.debian.org/ports/alpha" name="Debianin alpha-siirroksen 
    seittisivuilta">.
  </p>
   ]]><![ %sparc [

  <sect id="sparc_fb">
   <heading>
     Ruutupuskurin käytöstä laitealustalla &arch-title; 
   </heading>
   <p>
     Ruutupuskuria ei oletusarvona käytetä laitealustalla &arch-title; 
     useimmille näytönohjaimille näyttöpulmien vuoksi. Laitteilla jotka 
     eivät tue ruutupuskuria kunnolla voi olla näytön kuva olla r uma. Jos 
     asentimessa näkyy näyttöpulmia, voidaan asentimen käynnistystä kokeilla 
     parametrilla <tt>framebuffer=true</tt>. Kerro meille jos ruutupuskuria 
     ei oletusarvona käytetä mutta se toimii laitteistollasi.
   </p>
  </sect>
  <sect id="sparc_illegal_instruction">
   <heading>
     Käynnistyspulmia laitealustalla &arch-title; 
   </heading>
   <p>
     Useat käyttäjät ovat ilmoittaneet ettei asennusromppulta käynnistäminen 
     onnistu PROM:in <tt>boot cdrom</tt> -komennolla. Virheilmoitus on 
     "<tt>Illegal Instruction</tt>".
   </p>
   <p>
     Ilmeisin selitys tälle pulmalle on ettei se toimi koska koneessa oli 
     käynnissä Solaris josta tehtiin uudelleenkäynnistys asentimeen. Pulman 
     saa ratkaistua kytkemällä virrat kokonaan pois, ja käynnistää sitten 
     suoraan asennusrompulta.
   </p>
   <p>
     Pulmasta ilmoittivat erilaisten järjestelmien käyttäjät (nimittäin 
     Enterprise 450, Blade 2000, Fire V240, Enterprise 250 ja Blade 100 tätä 
     kirjoitettaessa), joten vian uskotaan olevan tyypillinen näille 
     malleille. Ilmoita jos havaitset vastaavia vikoja muilla laitteilla.
   </p>
  </sect>
   ]]>

  <sect id="inst-new">
   <heading>
     Mitä uutta asennusjärjestelmässä?
   </heading>
   <p>
     Debianin asenninta on kehitetty paljon sitten sen ensimmäisen 
     virallisen julkaisun &oldreleasename;:ssa. Laitetuki on parantunut ja 
     uusia jännittäviä ominaisuuksi on lisätty.
   </p>
   <p>
     Tässä julkistusmuistiossa luetellaan vain asentimen suuret 
     muutokset. Katsaus yksityiskohtaisiin muutoksiin &oldreleasename;:n 
     jälkeen löytyy julkaisun &releasename; beta- ja RC-julkaisuista, jotka 
     ovat saatavilla Debianin Asentimen <url id="&url-installer-news" 
     name="vanhoista uutisista">.
   </p>
   <sect1 id="inst-changes">
    <heading>
      Suuret muutokset
    </heading>
    <p>
     <taglist>
      <tag>
        Ei uudelleenkäynnistystä asennuksen aikana
      </tag>
      <item>
       <p>
         Aikaisemmin asennus tapahtui kahdessa vaiheessa: peruskokoonpanon 
         asentaminen käynnistyskelpoiseksi, jonka jälkeen järjestelmä 
         käynnistettin uudelleen ja tehtiin <prgn>base-config</prgn> joka 
         huolehti käyttäjätunnusten luomisesta, 
         pakettienhallintajärjestelmän asetuksista ja lisäpakettien 
         asennuksesta (käyttämällä taskseliä).
       </p>
       <p>
         &releasename;:ssä toinen vaihe sisältyy Debianin asentimeen. Tästä 
         on moniaita etuja, esimerkiksi parempi tietoturva ja se, että 
         uudelleenkäynnistyksen jälkeen asennuksen lopussa uudessa 
         järjestelmässä pitäisi jo olla oikea aikavyöhyke ja, jos 
         asennettiin työpöytäympäristö, käynnistyy suoraan graafisella 
         käyttöliittymäällä.
       </p>
      </item>
      <tag>
        UTF-8-merkistökoodaus on oletus uusissa järjestelmissä
      </tag>
      <item>
       <p>
         Asennin asettaa järjestelmän käyttämään UTF-8-merkistöä vanhempien 
         kielikohtaisten merkistöjen (kuten ISO-8859-1, EUC-JP tai KIO-8) 
         sijaan.
       </p>
      </item>
      <tag>
        Joustavampi levyosiointi
      </tag>
      <item>
       <p>
         Nyt on mahdollista tehdä tiedostojärjestelmiä LVM-levyniteille 
         ohjatussa osioinnissa.
       </p>
       <p>
         Asennin osaa myöskin salattujen tiedostojärjestelmien 
         teon. Tehtäessä osiot itse voidaan valita <tt>dm-crypt</tt> tai 
         <tt>loop-aes</tt>, käyttämällä tunnuslausetta tai satunnaista 
         avainta, ja muitakin asetuksia voi säätää. Käytettäessä ohjattua 
         osiointia asennin luo salatun LVM-osion joka sisältää muut 
         tiedostojärjestelmät (paitsi <file>/boot</file>) loogisina osioina.
       </p>
      </item>
       <![ %g-i [

      <tag>
        Graafinen käyttöliittymä
      </tag>
      <item>
        <![ %i386-amd64 [

       <p>
         Jos pidät enemmän graafisesta käyttöliittymästä, niin käynnistäpä 
         asennin komennolla <tt>installgui</tt>.
       </p>
        ]]><![ %powerpc [

       <p>
         Laitealustalle &arch-title; on saatavilla erillinen kokeellinen 
         asennusotos joka käyttää graafista käyttöliittymää. Sen tiedetään 
         toimivan useimmissa CHRP-järjestelmissä joissa on ATI:n 
         näytönohjain, mutta sitä ei ole riittävästi testattu 
         &arch-title;:llä otettavaksi mukaan tavallisiin asennusromppuihin.
       </p>
       <p>
         Jos haluat kokeilla graafista asenninta, etsi otosta "gtk-miniiso".
       </p>
        ]]>

       <p>
         Graafisen asentimen toiminnallisuus on melkein sama kuin 
         tavallisessa asentimessa, vain esitystapa on erilainen. Yksi 
         poikkeus löytyy: graafinen asennin ei tue salattujen osioiden tekoa 
         käyttämällä satunnaisia avaimia.
       </p>
       <p>
         Graafisen käyttöliittymän suurin etu on sen tuki useammalle 
         kielelle kuin tavallinen käyttöliittymä (newt). Tietoa graafisesta 
         asentimesta ja tärkeimmät erot graafisen ja tavallisen asentimen 
         välillä on kerrottu asennusohjeen liitteessä.
       </p>
       <p>
         Huom: graafinen käyttöliittymä ei ole saatavilla kaikille 
         arkkitehtuureille.
       </p>
      </item>
       ]]>

      <tag>
        Pelastustila
      </tag>
      <item>
       <p>
         Asentimella voidaan korjata järjestelmän vikoja, esimerkiksi jos se 
         ei käynnisty. Ensimmäiset vaiheet ovat kuten tavallisessa 
         asennuksessa, mutta asennin ei käynnistä levyn osiointia. Tilalla 
         on valikko pelastustoiminnon valinnoista.
       </p>
       <p>
         Pelastustila otetaan käyttöön käynnistämällä asennin komennolla 
         <tt>rescue</tt>, tai lisäämällä käynnistysparametri 
         <tt>rescue/enable=true</tt>.
       </p>
      </item>
      <tag>
        Sudon käyttö root-tunnuksen sijaan
      </tag>
      <item>
       <p>
         Expert-asennuksessa voidaan jättää root-tunnuksen luominen pois (se 
         lukitaan), ja tehdä <prgn>sudo</prgn>:n asetukset siten, että 
         ensimmäinen käyttäjä voi sen avulla hallinnoida järjestelmää.
       </p>
      </item>
      <tag>
        Noudettujen pakettien varmentaminen digitaalisella 
        allekirjoituksella
      </tag>
      <item>
       <p>
         Asentimen noutamista paketeista tarkistetaan nyt digitaalinen 
         allekirjoitus <prgn>apt</prgn>:lla, jolloin verkosta asennettavaan 
         järjestelmään on vaikeampi ujuttaa erheellisiä ohjelmia.
       </p>
      </item>
      <tag>
        Sähköpostin yksinkertaistetut asetukset
      </tag>
      <item>
       <p>
         Jos asennetaan "Tavallinen järjestelmä" (Standard system), asennin 
         tekee järjestelmän sähköpostipalvelimelle perusasetukset joissa on 
         sähköpostien toimitus vain paikallisesti. Sähköpostipalvelin ei ole 
         muiden samaan verkkoon kytkettyjen koneiden käytettävissä. Jos 
         haluat järjestelmän käsittelevän myös muuta sähköpostia (joko 
         lähettää tai vastaanottaa), on sähköpostin asetukset tehtävä 
         uudestaan asennuksen jälkeen.
       </p>
      </item>
      <tag>
        Työpöytäympäristön valinta
      </tag>
      <item>
       <p>
         Asennusjärjestelmä asentaa GNOME-työpöytäympäristön 
         oletustyöpöydäksi niille käyttäjille jotka käyttävät työpöytää.
       </p>
       <p>
         Käyttäjät voivat kuitenkin halutessaan asentaa helposti muita 
         työpöytäympäristöjä lisäämällä käynnistysparametreja: 
         <tt>tasks="standard, kde-desktop"</tt> KDE:lle ja 
         <tt>tasks="standard, xfce-desktop"</tt> Xfce:lle. Huomaa ettei tämä 
         toimi asennettaessa vain yhdeltä täydeltä romppuotokselta 
         asentamatta lisää paketteja verkosta; se toimii asennettaessa 
         DVD-otokselta tai millä muulla asesennustavalla tahansa.
       </p>
       <p>
         Saatavilla on myös erillisiä romppuotoksia jotka asentavat 
         oletusarvona KDE- tai Xfce-työpöytäympäristöt. 
       </p>
      </item>
       <![ %not-s390 [

      <tag>
        Uudet kielet
      </tag>
      <item>
       <p>
         Kiitos kääntäjien jättimäisen työpanoksen voidaan Debian nyt 
         asentaa 47 kielellä tekstikäyttöliittymää käyttävällä 
         asentimella. Tämä on kuusi kieltä enemmän kuin julkaisussa 
         &oldreleasename;. Tässä julkaisussa lisättyihin kieliin kuuluvat 
         valkovenäjä, esperanto, viro, kurdin kieli, makedonia, tagalog, 
         vietnami ja wolof. Kaksi kieltä on jätetty tästä julkaisusta pois 
         koska käännöksiä ei ole saatettu ajan tasalle: persia ja kymri.
       </p>
        <![ %g-i [

       <p>
         Käytettäessä graafista käyttöliittymää on tuettu yksitoista 
         lisäkieltä. Nämä kielet voidaan valita vain graafisessa 
         asentimessa, koska niiden merkistöä ei voi näyttää ei-graafisessa 
         ympäristössä. Uudet kielet ovat: bengali, dzonkha, 
         gud&zcaron;arati, hindi, georgia, khmer, katalaani, nepali, 
         pand&zcaron;abi, tamil ja thai.
       </p>
        ]]>

       <p>
         Käyttäjät jotka eivät halua mitään maa-asetustoa voivat nyt valita 
         maa-asetustoksi <em>C</em> asentimen kielen valinnassa. Lisätietoa 
         kielten kattavuudesta on saatavilla <url id="&url-d-i-i18n;" 
         name="asentimen kielten luettelosta">.
       </p>
      </item>
      <tag>
        Maa-asetuston ja aikavyöhykkeen yksinkertaistettu valinta
      </tag>
      <item>
       <p>
         Kielen, maan ja aikavyöhykkeen asettaminen on yksinkertaistettu 
         jotta käyttäjältä kyseltäisiin vähemmän. Nyt asennin arvaa 
         järjestelmän maan ja aikavyöhykkeen valitun kielen mukaan, tai 
         tarjoaa lyhyemmän valintaluettelon jos arvaaminen ei ole 
         mahdollista. Käyttäjät voivat tarvittaessa vieläkin valita 
         epämääräisiä kombinaatioita jos tarvetta on.
       </p>
      </item>
      <tag>
        Parannettu koko järjestelmän kotoistus
      </tag>
      <item>
       <p>
         Useimmat kansainvälisyyden ja kotoistuksen tehtävät jotka 
         <package>localization-config</package> teki aiemmin on nyt 
         sisällytetty Debianin vakioasentimeen tai paketteihin 
         itseensä. Tämä tarkoittaa kielen valinnan automaattisesti asentavan 
         tuolle kielelle välttämättömiä paketteja (sanakirjoja, ohjeita, 
         kirjasimia ...) sekä tavallisessa järjestelmässä että 
         työpöytäympäristössä. Asetuksia joita ei enää tehdä automaattisesti 
         on paperin koon valinta sekä jotkin edistyneet X Window:n 
         näppäimistöasetukset joillekin kielille.
       </p>
       <p>
         Huomaa kielikohtaisten pakettien asentuvan automaattisesti vain jos 
         ne ovat saatavilla asennuksen aikana.
       </p>
      </item>
       ]]>

     </taglist>
    </p>
   </sect1>
   <sect1 id="inst-auto">
    <heading>
      Asennuksen automatisointi
    </heading>
    <p>
      Useat edellisessä luvussa mainituista muutoksista tarkoittavat 
      muutoksia myös asentimen tuessa asennuksen automatisoinnille valmiita 
      vastauksia käyttämällä. Tämä tarkoittaa, että &oldreleasename;:n 
      asentimen kanssa toimineen valmiiden vastausten tiedoston ei voi 
      olettaa muutoksitta toimivan uuden asentimen kanssa.
    </p>
    <p>
      Hyvä uutinen on, että <url id="&url-install-manual;" 
      name="Asennusohjeessa"> on nyt liite jossa valmiiden vastausten käyttö 
      kuvataan seikkaperäisesti.
    </p>
    <p>
      &releasename;:in asennin tarjoaa muutamia jännittäviä uusia 
      ominaisuuksia joiden avulla asennuksen automatisointia voidaan lisätä 
      ja se on helpompaa. Lisäksi on tullut tuki edistyneelle osioinnille 
      käyttämään RAIDia, LVM:ää ja salattua LVM:ää. Katso asennusohjeesta 
      lisätietoja.
    </p>
   </sect1>
  </sect>
  <sect id="popcon">
   <heading>
     Pakettimittari
   </heading>
   <p>
     Asennusjärjestelmä tarjoaa taas asennettavaksi pakettimittaria eli 
     pakettia <package>popularity-contest</package>. Tätä pakettia ei 
     oletusarvoisesti asennettu julkaisussa &oldreleasename; mutta se 
     asennettiin sitä vanhemmissa julkaisuissa.
   </p>
   <p>
     Pakettimittari tuottaa Debian-projektille arvokasta tietoa jakelun 
     pakettien käytöstä. Pääasiassa tätä tietoa käytetään päätettäessä mihin 
     järjestykseen paketit sijoitetaan asennusrompuille, mutta usein sitä 
     käyttävät Debian-kehittäjät miettiessään ottaako ylläpidettäväkseen 
     pakettia jolla ei enää ole ylläpitäjää.
   </p>
   <p>
     Pakettimittarin tuottama tieto käsitellään nimettömänä. Toivomme 
     käyttäjien osallistuvan tähän viralliseen kyselyyn; näin autetaan 
     Debianin kehittämisessä.
   </p>
  </sect>
 </chapt>
 <chapt id="upgrading">
  <heading>
    Päivitys aikaisemmista versioista
  </heading>
  <sect id="backup">
   <heading>
     Valmistautuminen päivitykseen
   </heading>
   <p>
     Ehdotamme ennen päivitystä luettavaksi myös kohdan <ref 
     id="information">. Tuossa luvussa käsitellään mahdollisesti ilmeneviä 
     pulmia, jotka eivät liity suoranaisesti päivitykseen mutta voivat silti 
     olla tarpeellista tietää.
   </p>
   <sect1 id="data-backup">
    <heading>
      Ota varmuuskopio tiedostoista ja asetustiedoista
    </heading>
    <p>
      Ennen järjestelmän päivitystä on erittäin suositeltavaa 
      varmuuskopioida kaikki, tai kopioida talteen ainakin ne tiedostot ja 
      asetukset, joita ei ole varaa menettää. Päivitystyökalut ja -prosessi 
      ovat sangen luotettavia, mutta laitteistovika päivityksen aikana 
      saattaa rikkoa järjestelmän pahasti.
    </p>
    <p>
      Tärkeitä kopioitavia ovat hakemistopuut <file>/etc</file>, 
      <file>/var/lib/dpkg</file> ja komennon <tt>dpkg --get-selections 
      "*"</tt> tuloste (lainausmerkit ovat tärkeitä).
    </p>
    <p>
      Asennusprosessi ei itse muokkaa mitään 
      <file>/home</file>-hakemistossa. Jotkin sovellukset (esim. jotkin 
      Mozilla-ohjelmiston osat, ja GNOME- ja KDE-työpöytäympäristöt) 
      tunnetusti kirjoittavat käyttäjän asetusten päälle uudet oletusarvot 
      kun käyttäjä ensimmäisen kerran käynnistää sovelluksen uuden 
      version. Voi olla hyvä varmuuden vuoksi tehdä varmuuskopio 
      piilotiedostoista ja -hakemistoista ("pistetiedostot") käyttäjien 
      kotihakemistoissa. Varmuuskopio voi auttaa palauttamaan tai tekemään 
      uudestaan vanhat asetukset. Kannattanee kertoa tämä käyttäjillekin.
    </p>
    <p>
      Jokainen paketin asennustoiminto on suoritettava pääkäyttäjän 
      oikeuksilla, joten joko kirjaudutaan sisään käyttäjänä root tai 
      käytetään komentoja <prgn>su</prgn> tai <prgn>sudo</prgn> antamaan 
      tarvittavat oikeudet.
    </p>
    <p>
      Päivityksellä on muutamia reunaehtoja; ne olisi tarkistettava 
      huolellisesti ennen päivityksen tekemistä.
    </p>
   </sect1>
   <sect1>
    <heading>
      Kerro käyttäjille etukäteen
    </heading>
    <p>
      On hyvä kertoa etukäteen kaikille käyttäjille suunnitelluista 
      päivityksistä, vaikkakin <prgn>ssh</prgn>:n kautta järjestelmää 
      käyttävät eivät huomanne paljoakaan päivityksestä ja saattavat haluta 
      työskennellä päivityksen aikana.
    </p>
    <p>
      Haluttaessa varautua kaikkeen kopioidaan tai irrotetaan käyttäjien 
      osiot (<file>/home</file> ennen päivitystä.
    </p>
    <p>
      Luultavimmin joudutaan ydinkin päivittämään päivitettäessä julkaisuun 
      &releasename;, joten uudelleenkäynnistys on välttämätön. Tavallisesti 
      tämä tehdään kun päivitys on valmis.
    </p>
   </sect1>
   <sect1 id="recovery">
    <heading>
      Valmistaudu pelastustöihin
    </heading>
    <p>
      Koska julkaisujen &oldreleasename; ja &releasename; ytimissä on paljon 
      muutoksia ajureissa, laitteiston tunnistuksessa ja laitetiedostojen 
      nimeämisessä ja järjestyksessä, on hyvinkin mahdollista ettei 
      järjestelmä käynnisty ongelmitta päivityksen jälkeen. Paljon 
      tunnettuja pulmia on kirjattu tähän ja seuraaviin lukuihin tässä 
      julkistusmuistiossa.
    </p>
    <p>
      Tästä syystä on järkevää varmistua mahdollisuudesta toipua jos 
      järjestelmä ei enää käynnisty tai etähallittu järjestelmä ei käynnistä 
      verkkoyhteyttä.
    </p>
    <p>
      Päivitettäessä etäyhteydellä <prgn>ssh</prgn>:lla on hyvin 
      suositeltavaa tehdä tarpeelliset valmistelut jotta järjestelmään 
      pääsee etäyhteydellä sarjapäätteen kautta. On mahdollista että ytimen 
      päivityksen ja uudelleen käynnistyksen jälkeen joidenkin laitteiden 
      nimi muuttuu (kuten kertoo <ref id="device-reorder">) ja järjestelmän 
      asetukset on korjattava paikallisen konsolin kautta. Paikallista 
      konsolia saatetaan joutua käyttämään myös jos järjestelmä vahingossa 
      käynnistetään uudelleen kesken päivityksen.
    </p>
    <p>
      Ilmeisin ensimmäiseksi kokeiltava konsti on käynnistää vanhalla 
      ytimellä. Toisaalla tässä muistiossa kerrotuista syistä tämä ei 
      kuitenkaan välttämättä toimi.
    </p>
    <p>
      Jos se epäonnistuu, on oltava muu tapa käynnistää kone jotta siihen 
      pääsee käsiksi ja korjailemaan. Yksi mahdollisuus on erityinen 
      levyotos pelastuskäynnistykseen tai Linux live-romppu. Kun siltä on 
      käynnistetty, pitäisi juuritiedostojärjestelmä pystyä liittämään ja 
      komennolla <tt>chroot</tt> päästä sinne tutkimaan ja korjaamaan.
    </p>
    <p>
      Toinen mahdollisuus jota suosittelisimme on julkaisun &releasename; 
      Debian-asentimen <em>pelastustila</em>. Etuna asentimen käytössä on 
      mahdollisuus valita sen monista asennustavoista parhaiten tilanteeseen 
      sopiva. Lue lisätietoja kohdasta "Hajonneen järjestelmän korjaaminen" 
      <url id="&url-install-manual;" name="Asennusohjeen"> luvusta 8 ja 
      webbisivulta <url id="http://wiki.debian.org/DebianInstaller/FAQ" 
      name="Debian Installer FAQ">.
    </p>
     <![ %uses-initrd [

    <sect2 id="recovery-initrd">
     <heading>
       Komentotulkki vianjäljitykseen käynnistyksen aikana muistilevyn 
       avulla
     </heading>
     <p>
       Ohjelmassa <package>initramfs-tools</package> on komentotulkki 
       vianjäljitykseen <footnote><p>Tämä ominaisuus voidaan ottaa pois 
       käytöstä lisäämällä käynnistysparametreihin 
       <tt>panic=0</tt>.</p></footnote> sen tekemässä käynnistyksen 
       muistilevyssä. Jos esimerkiksi käynnistyksen muistilevy ei saa 
       liitettyä juuritiedostojärjestelmää, päädyt tähän 
       vianjäljityskomentotulkkiin jossa on peruskomennot vian jäljitykseen 
       ja ehkä sen korjaamiseen.
     </p>
     <p>
       Tarkistettavia perusjuttuja ovat: oikeat laitetiedostot hakemistossa 
       <file>/dev</file>; ladatut moduulit (<tt>cat /proc/modules</tt>); 
       komennon <prgn>dmesg</prgn> tulosteesta näkee ajureita ladatessa 
       tulleet virheet. Komennon <prgn>dmesg</prgn> tulosteesta näkee myös 
       mitkä laitetiedostot on liitetty mihinkin levyyn; tätä olisi 
       verrattava komennon <tt>echo $ROOT</tt> tulosteeseen jotta 
       varmistutaan juuritiedostojärjestelmän olevan sillä laitteella jossa 
       sen pitäisikin olla.
     </p>
     <p>
       Jos onnistut vian korjauksessa, <tt>exit</tt> poistuu 
       vianjäljityskomentotulkista ja jatkaa käynnistystä 
       virhekohdasta. Tietysti joudut myös korjaamaan perusvian ja tekemään 
       uuden käynnistyksen muistilevyn jotta seuraava käynnistys ei enää 
       epäonnistuisi.
     </p>
    </sect2>
     ]]>

   </sect1>
   <sect1 id="upgrade_preparations">
    <heading>
      Valmistele turvallinen ympäristö päivitykseen
    </heading>
    <p>
      Jakelun päivitys olisi tehtävä joko paikallisesti merkkipohjaisesta 
      virtuaalikonsolista (tai suoraan kytketystä sarjapäätteestä) tai 
      etäkäyttönä <prgn>ssh</prgn>-yhteyden kautta.
    </p>
    <p>
      Päivitettäessä etäyhteydellä suositellaan lisävarmistuksena 
      päivityksen tekemistä ohjelman <prgn>screen</prgn> 
      virtuaalikonsolissa. Tällöin katkenneen yhteyden jälkeen pääsee 
      turvallisesti takaisin ja päivitys ei keskeydy vaikka etäyhteys 
      katkeaisi. 
    </p>
    <p>
      <strong>Tärkeää!</strong>: Päivitystä <em>ei</em> pidä tehdä 
      pääteohjelmia <prgn>telnet</prgn>, <prgn>rlogin</prgn> tai 
      <prgn>rsh</prgn> käyttäen, tai X-istunnosta, jota hallinnoi 
      <prgn>xdm</prgn>, <prgn>gdm</prgn> tai <prgn>kdm</prgn> koneella, jota 
      päivitetään. Koska kaikki nämä palvelut voidaan sammuttaa päivityksen 
      aikana voi seurauksena olla <em>käyttökelvoton</em> järjestelmä, joka 
      on vain puoliksi päivitetty.
    </p>
   </sect1>
   <sect1 id="glibc-kernel">
    <heading>
      Tuki 2.2-ytimille on lopetettu
    </heading>
    <p>
      Mikäli käytössä on aikaisempi ydin kuin 2.4.1, täytyy ennen 
      <package>glibc</package>:n päivitystä päivittää (vähintään) 
      2.4-sarjaan. Tämä on tehtävä ennen päivityksen 
      aloittamista. Suositellaan päivitettäväksi suoraan julkaisussa 
      &oldreleasename; saatavilla olevaan 2.6.8-ytimeen eikä 2.4-ytimeen.
    </p>
   </sect1>
  </sect>
  <sect id="system-status">
   <heading>
     Järjestelmän tilan tarkistaminen
   </heading>
   <p>
     Tässä luvussa kuvattu päivitysprosessi on suunniteltu päivittämään 
     "puhdas" &oldreleasename; jossa ei ole kolmannen osapuolen 
     paketteja. Erityisesti on tunnettuja pulmia hakemistoon 
     <file>/usr/X11R6/bin/</file> ohjelmia asentavien kolmannen osapuolen 
     pakettien kanssa koska on siirrytty X.Org:n käyttöön (<ref 
     id="xorg">). Saatat haluta poistaa kolmannen osapuolen paketit 
     järjestelmästä ennen päivitystä jotta päivitysprosessin luotettavuus 
     paranisi.
   </p>
   <p>
     Tässä oletetaan myös, että järjestelmä on päivitetty viimeisimpään 
     &oldreleasename;:in päivitysversioon. Jos tätä ei ole tehty tai ei olla 
     varmoja onko se tehty, tee kuten <ref id="old-upgrade"> neuvoo.
   </p>
   <sect1>
    <heading>
      Tutki paketinhallinnan kesken olevat toimenpiteet
    </heading>
    <p>
      Joissakin tapauksissa saattaa <prgn>apt-get</prgn>:n käyttö 
      <prgn>aptitude</prgn> sijasta saada <prgn>aptitude</prgn> pitämään 
      pakettia "turhana" ja merkitsemään sen poistettavaksi. Ylipäätään 
      olisi varmistuttava järjestelmän olevan täysin ajan tasalla ja 
      "siisti" ennen päivityksen aloittamista.
    </p>
    <p>
      Tästä syystä olisi tutkittava onko <prgn>aptitude</prgn>:n 
      paketinhallinnassa kesken olevia toimenpiteitä. Jos paketinhallinta on 
      merkinnyt paketin poistettavaksi tai päivitettäväksi, se saattaa 
      haitata päivitystapahtumaa. Huomaa tämän korjaamisen olevan 
      mahdollista vain jos <file>sources.list</file> osoittaa yhä julkaisuun 
      <em>&oldreleasename</em>; eikä julkaisuun <em>stable</em> tai 
      <em>&releasename;</em>;. Katso <ref id="old-sources">.
    </p>
    <p>
      Tämä tehdään käynnistämällä <prgn>aptitude</prgn>:n käyttöliittymä ja 
      painamalla "g" ("Go"). Jos se näyttää toimintoja, ne olisi tutkittava 
      ja joko korjattava tai tehtävä ehdotetut toiminnot. Jos mitään 
      toimintoja ei ehdoteta näkyy ilmoitus "Mitään paketteja ei asenneta, 
      päivitetä tai poisteta".
    </p>
   </sect1>
   <sect1>
    <heading>
      APT-pinning pois käytöstä
    </heading>
    <p>
      Mikäli APTin asetukset on tehty asentamaan tiettyjä paketteja muusta 
      kuin vakaasta jakelusta (esim. testattavasta), on ehkä muutettava 
      APT-pinningin asetuksia (tiedostossa 
      <file>/etc/apt/preferences</file>), jotta paketit voidaan päivittää 
      siihen version, joka on uudessa vakaassa versiossa. Lisätietoa 
      APT-pinningistä kertoo <manref name="apt_preferences" section="5">.
    </p>
   </sect1>
   <sect1 id="package_status">
    <heading>
      Pakettien tilan tarkistus
    </heading>
    <p>
      On suositeltavaa tarkistaa kaikkien pakettien olevan päivityskelpoisia 
      ennen päivitystä, riippumatta päivitystavasta. Seuraava komento 
      näyttää paketit joiden tila on Half-Installed tai Failed-Config, tai 
      mikä tahansa virhetila.
     <example>
# dpkg --audit
          </example>
    </p>
    <p>
      Voit tutkia järjestelmän kaikkien pakettien tilan myös ohjelmilla 
      <prgn/dselect/, <prgn/aptitude/, tai komennoilla
     <example>
# dpkg -l | pager 
          </example>
      tai
     <example>
# dpkg --get-selections "*" &gt; ~/curr-pkgs.txt
          </example>
    </p>
    <p>
      On toivottavaa poistaa kaikki kiinnitykset ennen päivitystä. Päivitys 
      epäonnistuu jos jokin päivitykselle välttämätön paketti on 
      kiinnitetty.
    </p>
    <p>
      Huomaa <prgn>aptitude</prgn>:n käyttävän eri tapaa kuin 
      <prgn>apt-get</prgn> ja <prgn>dselect</prgn> kiinnitettyjen pakettien 
      rekisteröintiin.  <prgn>Aptitude</prgn>lla kiinnitetyt paketit voi 
      etsiä komennolla
     <example>
# aptitude search "~ahold" | grep "^.h"
          </example>
    </p>
    <p>
      Paketit, jotka on kiinnitetty <prgn>apt-get</prgn>illa, etsitään 
      komennolla
     <example>
# dpkg --get-selections | grep hold
          </example>
    </p>
    <p>
      Jos pakettia on paikallisesti muutettu ja käännetty uudelleen, eikä 
      sen nimeä ole muutettu tai versioon lisätty epookkia, on se 
      kiinnitettävä, jotta sitä ei päivitettäisi.
    </p>
    <p>
      Paketti voidaan pysyttää eli pistää <tt>hold</tt>-tilaan 
      <prgn>aptitude</prgn>:ssa tekemällä:
     <example>
# aptitude hold <var>paketin_nimi</var>
          </example>
      Tila <tt>hold</tt> poistetaan korvaamalla sana <tt>hold</tt> sanalla 
      <tt>unhold</tt>.
    </p>
    <p>
      Mikäli jotain tarvitsee korjata, on parasta varmistaa, että 
      <file>sources.list</file> viittaa edelleen &oldreleasename;-julkaisuun 
      kuten on selitetty kohdassa <ref id="old-sources">.
    </p>
   </sect1>
   <sect1 id="backports">
    <heading>
      Epäviralliset lähteet ja takaisinsiirrokset
    </heading>
    <p>
      Jos järjestelmässä on muita kuin Debianin paketteja, on huomattava 
      niitä ehkä poistettavan asennuksen aikana riippuvuuksien 
      ristiriitaisuuksien takia. Jos ne paketit asennettiin lisäämällä 
      ylimääräinen varastoalue tiedostoon 
      <file>/etc/apt/sources.list</file>, olisi tarkistettava jos tuo 
      varastoalue tarjoaa myös paketteja jotka on käännetty julkaisulle 
      &releasename; ja vaihdettava varastoalueen riviä vastaavasti samalla 
      kun muutetaan Debian-pakettien varastoalueiden rivejä.
    </p>
    <p>
      Jotkut ovat saattaneet asentaa &oldreleasename;-järjestelmään 
      pakettien epävirallisia vanhaan jakeluun sovitettuja "uudempia" 
      versioita jotka <em>ovat</em> Debianissa. Tällaiset paketit ovat 
      todennäköisimpiä aiheuttamaan pulmia asennuksen aikana koska ne 
      saattavat aiheuttaa tiedostoristiriitoja<footnote><p>Debianin 
      paketinhallintajärjestelmä ei normaalisti paketin poistavan tai 
      korvaavan toisen paketin omistamaa tiedostoa paitsi jos se on 
      määritelty tuon paketin korvaajaksi.</p></footnote>. Luvussa <ref 
      id="trouble"> on jonkin verran ohjeita tiedostoristiriitojen 
      käsittelystä mikäli niitä ilmenee.
    </p>
   </sect1>
  </sect>
  <sect id="handle-conflict">
   <heading>
     Pakettien merkintöjen poistaminen käsin
   </heading>
   <p>
     <prgn>aptitude</prgn>:a saa estettyä poistamasta joitakin paketteja 
     jotka asennettiin riippuvuuksien takia poistamalla niistä käsin 
     merkintä <em>auto</em>. Näitä paketteja ovat OpenOffice ja Vim 
     työpöytäasennuksissa:
    <example>
# aptitude unmarkauto openoffice.org vim  
</example>
   </p>
   <p>
     Ja 2.6-ytimet jos ne on asennettu ytimen metapaketinkautta:
    <example>
# aptitude unmarkauto $(dpkg-query -W 'kernel-image-2.6.*' | cut -f1)
</example>
   </p>
   <p>
     Huomaa: aptitudessa <em>auto</em>-merkinnällä olevat paketit löytää 
     komennolla:
    <example>
# aptitude search 'i~M &lt;paketin nimi&gt;'
</example>
   </p>
  </sect>
  <sect id="upgrade-process">
   <heading>
     APT-lähteiden valmistelu
   </heading>
   <p>
     Ennen päivityksen aloittamista täytyy <package>apt</package>in 
     asetustiedosto pakettiluetteloille <file>/etc/apt/sources.list</file> 
     asettaa kuntoon.
   </p>
   <p>
     <package>apt</package> tutkii kaikki paketit jotka löytyvät jonkun 
     "<tt>deb</tt>"-rivin kautta, ja asentaa sen paketin jossa versionumero 
     on suurin. Jos sama versio löytyy monen rivin kautta, käytetään ensin 
     ollutta riviä (näin menetellen kirjoitetaan ensin koneen oma 
     kiintolevy, sitten romput ja sitten HTTP/FTP-asennuspalvelimet jos 
     varastoalueita on useita).
   </p>
   <p>
     Julkaisuun viitataan usein sekä sen koodinimellä 
     (esim. &oldreleasename;, &releasename;) että sen tilannenimellä 
     (esim. vanhavakaa=oldstable, vakaa=stable, testattava=testing, 
     unstable=epävakaa). Koodinimellä viittaamisessa on se etu, että uusi 
     julkaisu ei koskaan pääse yllättämään, ja siksi tässä käytetään tätä 
     tapaa. Se tietenkin tarkoittaa, että julkaisutiedotteita joutuu itse 
     seuraamaan. Mikäli käytät tilannenimeä koodinimen sijaan, näet vain 
     suuren määrän päivityksiä paketteihin heti kun julkaisu on tapahtunut.
   </p>
   <sect1 id="network">
    <heading>
      APTin Internet-lähteiden lisäys
    </heading>
    <p>
      Oletusasetukset on tehty noutamaan asennuspaketit Debianin 
      Internetissä olevilta keskuspalvelimilta, mutta kannattaa muokata 
      tiedostoa <file>/etc/apt/sources.list</file> käyttämään muita 
      asennuspalvelimia. Kannattaa käyttää palvelinta, joka on verkossa 
      lähinnä.
    </p>
    <p>
      Debianin HTTP ja FTP-asennuspalvelimien osoitteet löytyvät osoitteesta 
      <url id="&url-debian-mirrors;"> (katso lukua "Full list of 
      mirrors"). HTTP-asennuspalvelimet ovat yleensä nopeampia kuin 
      FTP-palvelimet.
    </p>
    <p>
      Oletetaan esimerkiksi lähimmän Debianin asennuspalvelimen olevan 
      <tt>&url-debian-mirror-eg;/</tt>. Kun palvelinta tutkitaan selaimella 
      tai ftp-ohjelmalla, huomataan jakeluhakemistojen olevan järjestetyn 
      seuraavasti:
     <example>
&url-debian-mirror-eg;/dists/&releasename;/main/binary-&architecture;/...
&url-debian-mirror-eg;/dists/&releasename;/contrib/binary-&architecture;/...
           </example>
    </p>
    <p>
      Tätä asennuspalvelinta käytetään <prgn>apt</prgn>-ohjelmalla 
      lisäämällä seuraava rivi tiedostoon <file>sources.list</file>:
     <example>
deb &url-debian-mirror-eg; &releasename; main contrib
           </example>
    </p>
    <p>
      Huomaa, että "<tt>dists</tt>" lisätään automaattisesti, ja että 
      julkaisun nimen jälkeen tulevia argumentteja käytetään laventamaan 
      polku useiksi hakemistoiksi.
    </p>
    <p>
      Lisättyäsi uudet lähteet poista aikaisemmat "<tt>deb</tt>"-rivit 
      käytöstä tiedostossa <file>sources.list</file> lisäämällä 
      risuaitamerkki (<tt>#</tt>) rivin alkuun.
    </p>
   </sect1>
   <sect1 id="localmirror">
    <heading>
      APT:n paikallisten lähteiden lisäys
    </heading>
    <p>
      HTTP- tai FTP-asennuspalvelimien käyttämisen sijasta voi tiedostoa 
      <file>/etc/apt/sources.list</file> muokata käyttämään  pakettivarastoa 
      paikallisella levyllä (mahdollisesti NFS-levyä).
    </p>
    <p>
      Pakettivarasto voi olla esimerkiksi hakemistopuussa 
      <file>/var/ftp/debian/</file> sisältäen jakeluhakemistot seuraavasti:
     <example>
/var/ftp/debian/dists/&releasename;/main/binary-&architecture;/...
/var/ftp/debian/dists/&releasename;/contrib/binary-&architecture;/...
           </example>
    </p>
    <p>
      Tätä käytetään <prgn/apt/-järjestelmällä lisäämällä tiedostoon 
      <file>sources.list</file> tämä rivi:
     <example>
deb file:/var/ftp/debian &releasename; main contrib
           </example>
    </p>
    <p>
      Huomaa, että "<tt>dists</tt>" lisätään automaattisesti, ja että 
      julkaisun nimen jälkeen tulevia argumentteja käytetään laventamaan 
      polku useiksi hakemistoiksi.
    </p>
    <p>
      Lisättyäsi uudet lähteet poista aikaisemmat "<tt>deb</tt>"-rivit 
      käytöstä tiedostossa <file>sources.list</file> lisäämällä 
      risuaitamerkki (<tt>#</tt>) rivin alkuun.
    </p>
   </sect1>
   <sect1 id="cdroms">
    <heading>
      APT romppulähteiden lisäys
    </heading>
    <p>
      Haluttaessa käyttää <em>vain</em> romppuja, poistetaan 
      "<tt>deb</tt>"-rivit tiedostosta <file>/etc/apt/sources.list</file> 
      käytöstä lisäämällä risuaitamerkki (<tt>#</tt>) rivin alkuun.
    </p>
    <p>
      Varmista, että tiedostossa <file>/etc/fstab</file> oleva rivi liittää 
      romppuaseman liitoskohtaan <file>/cdrom</file> (<prgn>apt-cdrom</prgn> 
      vaatii liitoskohdan olevan nimenomaan <file>/cdrom</file>). Jos 
      esimerkiksi laite <file>/dev/hdc</file> on romppuasema, tiedostossa 
      <file>/etc/fstab</file> pitäisi olla tämän kaltainen rivi:
     <example>
/dev/hdc /cdrom auto defaults,noauto,ro 0 0
          </example>
    </p>
    <p>
      Huomaa ettei neljännen kentän sanojen <tt>defaults,noauto,ro</tt> 
      välissä saa olla <em>yhtään välilyöntiä</em>.
    </p>
    <p>
      Toimivuudesta varmistutaan asettamalla romppu asemaan ja suorittamalla 
      komennot
     <example>
# mount /cdrom    # tämä liittää rompun liitospisteeseen
# ls -alF /cdrom  # tämän pitäisi näyttää rompun juurihakemisto
# umount /cdrom   # tämä irrottaa rompun
          </example>
    </p>
    <p>
      Suorita seuraavaksi:
     <example>
# apt-cdrom add
          </example>
      jokaiselle käytettävälle Debianin asennusrompulle, jotta APTin 
      rompputietokantaan tulee kaikkien romppujen tiedot.
    </p>
   </sect1>
  </sect>
  <sect id="upgradingpackages">
   <heading>
     Pakettien päivitys
   </heading>
   <p>
     Suositeltu työkalu &debian; versiopäivityksiin on 
     paketinhallintatyökalu <prgn>aptitude</prgn>. Tämä työkalu tekee 
     pakettien asennuksia turvallisemmin kuin käytettäessä ohjelmaa 
     <prgn>apt-get</prgn> suoraan.
   </p>
   <p>
     On muistettava liittää kaikki tarvittavat tiedostojärjestelmät 
     (erityisesti juuri- ja <file>/usr</file>-tiedostojärjestelmät) luku- ja 
     kirjoitustilassa, komennolla kuten:
    <example>
# mount -o remount,rw /<var>liitoskohta</var>
          </example>
   </p>
   <p>
     Seuraavaksi varmistetaan, että APT:n lähteiden luettelossa (tiedostossa 
     <file>/etc/apt/sources.list</file>) viitataan joko julkaisuun 
     "<tt>&releasename;</tt>" tai jakeluun <tt>"stable"</tt>. Ei saa olla 
     viittauksia julkaisuun &oldreleasename;. Huomaa: romppuja vastaavat 
     rivit viittaavat usein jakeluun "<tt>unstable</tt>", vaikkakin tämä on 
     hämäävää niitä <em>ei saa</em> muuttaa.
   </p>
   <sect1 id="record_session">
    <heading>
      Istunnon "nauhoittaminen"
    </heading>
    <p>
      Ohjelman <prgn>/usr/bin/script</prgn> käyttöä tallentamaan loki 
      päivityksestä suositellaan vakavasti. Jos ilmenee vikoja, on 
      tapahtumista tallessa loki, josta tarvittaessa saadaan täsmällistä 
      tietoa vikailmoitukseen. Lokin tallennus käynnistetään komennolla:
     <example>
# script -t 2>~/upgrade-&releasename;.time -a ~/upgrade-&releasename;.script
          </example>
      tai vastaavaa. Älä tallenna lokitiedostoa tilapäisten tiedostojen 
      hakemistoon, kuten <file>/tmp</file> tai <file>/var/tmp</file> (näistä 
      hakemistoista tiedostot saatetaan poistaa päivityksen aikana tai 
      käynnistyksessä).
    </p>
    <p>
      Lokista näkee myös tiedot jotka ovat vierineet pois ruudulta. Vaihda 
      päätteeseen 2 (näppäilemällä <tt>Alt-F2</tt>) ja sisäänkirjautumisen 
      jälkeen voi komennolla <tt>less -R 
      ~root/upgrade-&releasename;.script</tt> katsoa lokitiedoston.
    </p>
    <p>
      Kun päivitys on valmis, voidaan komento <prgn>script</prgn> lopettaa 
      kirjoittamalla kehoitteeseen<tt>exit</tt>.
    </p>
    <p>
      Jos käytit <prgn>script</prgn>-komennolle tarkenninta <em>-t</em> voit 
      toistaa koko istunnon komennolla <prgn>scriptreplay</prgn>:
     <example>
# scriptreplay ~/upgrade-&releasename;.time ~/upgrade-&releasename;.script
          </example>
    </p>
   </sect1>
   <sect1 id="updating_lists">
    <heading>
      Pakettiluettelon päivitys
    </heading>
    <p>
      Ensin on noudettava luettelo uuden julkaisun saatavilla olevista 
      paketeista. Tämä tehdään komennolla:
    </p>
    <p>
     <example>
# aptitude update
	  </example>
    </p>
    <p>
      Suoritettaessa tämä komento ensimmäisen kerran uusien asennuslähteiden 
      lisäämisen jälkeen tulostuu muutamia asennuslähteiden saatavuuteen 
      liittyviä varoituksia. Nämä ovat harmittomia eikä niitä näy jos 
      komento suoritetaan uudelleen. 
    </p>
   </sect1>
   <sect1>
    <heading>
      Varmistu tilan riittävän päivitykseen
    </heading>
    <p>
      Ennen järjestelmän päivitystä on varmistettava kiintolevyllä olevan 
      riittävästi tilaa kun koko järjestelmän päivitys käynnistetään kuten 
      kertoo <ref id="upgrading_other">. Ensin jokainen asennuksessa 
      tarvittava paketti noudetaan hakemistoon 
      <file>/var/cache/apt/archives</file> (ja alihakemistoon 
      <file>partial/</file> noutamisen aikana), joten on varmistuttava 
      riittävästä tilasta <file>/var</file>-tiedostojärjestelmän 
      sisältävällä osiolla jotta järjestelmään asennettavat paketit mahtuvat 
      sinne tilapäisesti. Noudon jälkeen tarvittaneen enemmän tilaa muiden 
      tiedostojärjestelmien osioilla jotta voidaan asentaa sekä päivitetyt 
      paketit (joiden ohjelmat tai tiedostot saattavat olla isompia) että 
      uudet paketit jotka päivitys noutaa. Jos tilaa ei ole riittävästi, 
      saattaa päivitys jäädä kesken ja tästä voi olla vaikea toipua.
    </p>
    <p>
      Sekä <prgn>aptitude</prgn> että <prgn>apt</prgn> näyttävät 
      yksityiskohtaisesti asennukseen tarvittavan levytilan. Ennen 
      päivityksen tekemistä nämä arviot nähdään suorittamalla:
    </p>
    <p>
     <example>
# aptitude -y -s -f --with-recommends dist-upgrade
[ ... ]
XXX päivitettyä pakettia, XXX uutta asennusta, XXX poistettavaa ja XXX päivittämätöntä.
Tarvitsee noutaa xx.xMB/yyyMB arkistoista. Levytilaa kuluu AAAMB purkamisen jälkeen.
Noutaisi tai asentaisi tai poistaisi paketteja.
       </example>
    </p>
    <p>
      Jos riittävää tilaa päivitykseen ei ole, muista vapauttaa tilaa 
      etukäteen. Voidaan:
    </p>
    <p>
     <list>
      <item>
       <p>
         Poistaa paketit jotka on aiemmin noudettu asennusta varten 
         (hakemistosta <file>/var/cache/apt/archive</file>). Pakettien 
         välimuistin siivoaminen komennolla <prgn>apt-get clean</prgn> tai 
         <prgn>aptitude clean</prgn> poistaa kaikki aiemmin noudetut 
         pakettitiedostot.
       </p>
      </item>
      <item>
       <p>
         Poistamalla vanhat paketit joita ei enää käytetä. Jos 
         pakettimittari eli <prgn>popularity-contest</prgn> on asennettuna, 
         nähdään komennolla <prgn>popcon-largest-unused</prgn> luettelo 
         eniten tilaa vievistä käyttämättömistä paketeista. Myös komennoilla 
         <prgn>deborphan</prgn> tai <prgn>debfoster</prgn> voidaan etsiä 
         vanhentuneita paketteja (katso <ref id="obsolete">). Kolmas tapa on 
         katsoa <prgn>aptitude</prgn>:n käyttöliittymässä kohdasta 
         "Vanhentuneet ja paikalliset paketit".
       </p>
      </item>
      <item>
       <p>
         Poistamalla liikaa tilaa vieviä paketteja, joita ei nyt juuri 
         tarvita (ne voidaan asentaa takaisin päivityksen jälkeen). Paketit 
         jotka vievät eniten levytilaa saa luetteloitua komennolla 
         <prgn>dpigs</prgn> (saatavilla paketissa 
         <package>debian-goodies</package>) tai <prgn>wajig</prgn> 
         (suorittamalla komento <tt>wajig size</tt>).
       </p>
      </item>
      <item>
       <p>
         Siirrä tilapäisesti toiselle koneelle, tai poista pysyvästi, 
         järjestelmän lokitiedostoja hakemistosta <file>/var/log</file>.
       </p>
      </item>
     </list>
    </p>
    <p>
      Jotta paketteja voitaisiin turvallisesti poistaa, on parasta vaihtaa 
      <file>sources.list</file> viittaamaan takaisin julkaisuun 
      &oldreleasename; kuten <ref id="old-sources"> neuvoo.
    </p>
   </sect1>
   <sect1 id="minimal_upgrade">
    <heading>
      Suppea järjestelmän päivitys
    </heading>
    <p>
      Koska jotkin pakettien ristiriidat julkaisujen &oldreleasename; ja 
      &releasename; ovat välttämättömiä, poistaa <tt>aptitude 
      dist-upgrade</tt>:n suorittaminen suoraan suuria määrä säilytettäväksi 
      haluttavia paketteja. Tästä syystä suositellaan kaksivaiheista 
      päivitysprosessia, ensin suppea päivytys jotta päästään näistä 
      ristiriidoista ja sitten täysi <tt>dist-upgrade</tt>.
    </p>
    <p>
      Suorita ensimmäiseksi:
     <example>
# aptitude upgrade
          </example>
    </p>
    <p>
      Tämä komento päivittää paketit jotka voidaan päivittää poistamatta tai 
      asentamatta muita paketteja.
    </p>
    <p>
      Suppean päivityksen jälkeen tehdään:
     <example>
# aptitude install initrd-tools
          </example>
    </p>
    <p>
      Tässä päivitetään automaattisesti paketit <package>libc6</package> ja 
      <package>locales</package> ja riippuvuuksien ansiosta myös SELinuxin 
      tukikirjastot (<package>libselinux1</package>). Tässä kohtaa jotkin 
      käynnissä olevat palvelut sammutetaan ja käynnistetään 
      uudestaan. Näitä ovat <prgn>xdm</prgn>, <prgn>gdm</prgn> ja 
      <prgn>kdm</prgn>. Tästä seuraa paikallisten X11-istuntojen 
      katkeaminen.
    </p>
    <p>
      Seuraavaksi tehtävä riippuu asennetusta pakettijoukosta. Tämä 
      julkaisumuistio antaa yleisohjeita valittavasta menettelytavasta, 
      mutta on suositeltavaa tutkia kunkin tavan ehdottamia poistettavia 
      paketteja ennen jatkamista.
    </p>
    <p>
      Joitakin yleisiä paketteja jotka pitäisikin poistaa ovat 
      <package>base-config</package>, <package>hotplug</package>, 
      <package>xlibs</package>, <package>netkit-inetd</package>, 
      <package>python2.3</package>, <package>xfree86-common</package>, ja 
      <package>xserver-common</package>. Täydellisempi luettelo julkaisussa 
      &releasename; vanhentuneista paketeista on <ref id="obsolete">.
    </p>
    <sect2 id="minimal_upgrade_desktop">
     <heading>
       Työpöytäkoneen päivitys
     </heading>
     <p>
       Tämän päivitystapa on kokeiltu toimivaksi järjestelmässä jossa on 
       julkaisun &oldreleasename; tehtävä <tt>Työpöytäympäristö</tt> 
       asennettuna. Tämä päivitystapa johtanee parhaisiin tuloksiin tehtävän 
       <tt>Työpöytäympäristö</tt> asentaneissa järjestelmissä, tai jos 
       paketit <tt>gnome</tt> tai <tt>kde</tt> ovat asennettuina.
     </p>
     <p>
       Se luultavimmin <em>ei</em> ole oikea tapa jos paketteja 
       <package>libfam0c102</package> ja <package>xlibmesa-glu</package> ei 
       ole jo asennettu:
      <example>
# dpkg -l libfam0c102 | grep ^ii
# dpkg -l xlibmesa-glu | grep ^ii
          </example>
     </p>
     <p>
       Jos koko työpöytätehtävä on asennettuna, käynnistä:
      <example>
# aptitude install libfam0 xlibmesa-glu
	  </example>
     </p>
    </sect2>
    <sect2 id="minimal_upgrade_x_server">
     <heading>
       Päivitys jos järjestelmässä on joitakin X:n paketteja asennettuna
     </heading>
     <p>
       Järjestelmät joissa on joitakin X:n paketteja asennettuna mutta ei 
       koko työpöytätehtävää vaativat toisenlaisen päivitystavan. Tämä tapa 
       soveltuu yleensä järjestelmiin joissa on asennettuna paketti 
       <package>xfree86-common</package>, mukaan lukien jotkin 
       palvelinjärjestelmät joissa on <package>tasksel</package>:in 
       palvelintehtäviä asennettuna koska joihinkin näistä tehtävistä kuuluu 
       graafisia hallintatyökaluja. Tämä päivitystapa on luultavasti oikea 
       järjestelmissä joissa on X käytössä, mutta ei 
       <tt>Työpöytäympäristö</tt>-tehtävää.
      <example>
# dpkg -l xfree86-common | grep ^ii
        </example>
     </p>
     <p>
       Tarkista ensin ovatko paketit <package>libfam0c102</package> ja 
       <package>xlibmesa-glu</package> asennettuina.
      <example>
# dpkg -l libfam0c102 | grep ^ii
# dpkg -l xlibmesa-glu | grep ^ii
          </example>
     </p>
     <p>
       Jos paketti <package>libfam0c102</package> ei ole asennettuna, älä 
       käytä pakettia <package>libfam0</package> seuraavassa komennossa. Jos 
       paketti <package>xlibmesa-glu</package> ei ole asennettuna, älä käytä 
       sitä seuraavassa komennossa. <footnote><p>Tämä komento näyttää 
       tarvitaanko libfam0 ja xlibmesa-glu asennettuina, ja valitsee ne 
       puolestasi: <example># aptitude install x11-common \ $(dpkg-query 
       --showformat '${Package} ${Status}\n' -W libfam0c102 xlibmesa-glu \ | 
       grep 'ok installed$' | sed -e's/ .*//; s/c102//') </example> 
       </p></footnote>
      <example>
# aptitude install x11-common <var>libfam0</var> <var>xlibmesa-glu</var>
          </example>
     </p>
     <p>
       Huomaa että paketin <package>libfam0</package> asentaminen asentaa 
       myös File Alteration Monitorin (<package>fam</package>) sekä RPC 
       portmapperin (<package>portmap</package>) jos ne eivät vielä olleet 
       käytettävissä. Molemmat paketit ottavat käyttöön verkkopalvelun 
       vaikkakin se molempien asetuksissa voidaan sitoa (sisäiseen) 
       takaisinkytkentäverkkoliitäntään.
     </p>
    </sect2>
    <sect2 id="minimal_upgrade_server">
     <heading>
       Päivitys järjestelmässä jossa ei ole mitään X-tukea asennettuna
     </heading>
     <p>
       Jos järjestelmässä ei ole X:ää lainkaan, ei pitäisi tarvita 
       ylimääräisiä aptitude install -komentoja, ja voidaan siirtyä 
       seuraavaan vaiheeseen.
     </p>
    </sect2>
   </sect1>
   <sect1 id="upgrading_kernel">
    <heading>
      Ytimen päivittäminen
    </heading>
    <p>
      Paketin <package>udev</package> julkaisussa &releasename; oleva versio 
      ei tue ytimen 2.6.15:tta edeltäneitä versioita (eli ei tueta julkaisun 
      &oldreleasename; 2.6.8-ytimiä). Paketin <package>udev</package> versio 
      julkaisussa &oldreleasename; ei toimi kunnolla uusimpien ytimien 
      kanssa. Lisäksi julkaisun &releasename; 
      <package>udev</package>-version asentaminen pakottaa poistettavaksi 
      paketin <package>hotplug</package> jota Linux 2.4-ytimet käyttävät.
    </p>
    <p>
      Tästä seuraa, ettei edellinen ytimen paketti varmaankaan käynnisty 
      kunnolla tämän päivityksen jälkeen. Samoin on päivityksessä aikaikkuna 
      jossa <package>udev</package> on päivitetty mutta uusin ydin ei ole 
      asennettu. Jos järjestelmä käynnistettäisiin uudelleen tässä kohtaa, 
      kesken päivityksen, se ei ehkä pysty käynnistymään koska ajureita ei 
      tunnisteta oikein eikä ladata. (Katso kohdasta <ref 
      id="upgrade_preparations"> suositeltuja valmistautumistapoja tähän 
      mahdollisuuteen jos päivität etäyhteydellä.)
    </p>
    <p>
      Tästä syystä suositellaan tässä kohtaa päivitettäväksi pelkkä ydin, 
      paitsi jos järjestelmässä on asennettuna tehtävä 
      <tt>Työpöytäympäristö</tt> tai muita paketteja joista aiheutuisi 
      ei-hyväksyttävä määrä pakettien poistoja.
    </p>
    <p>
      Päivitystä jatketaan ytimen päivityksellä seuraavasti:
     <example>
# aptitude install linux-image-2.6-<var>malli</var>
          </example>
      Katso <ref id="kernel-metapackage"> miten selvitetään tarvittavan 
      ytimen paketin malli.
    </p>
    <p>
      Jos työpöytäympäristö on asennettuna, ei valitettavasti ole 
      mahdollista varmistaa uuden ytimen paketin tulevan asennetuksi heti 
      kun <package>udev</package> on asennettu. Tässä on tuntemattoman 
      mittainen aikaikkuna, jolloin järjestelmässä ei ole mitään täydellä 
      hotplug-tuelle varustettua ydintä asennettuna. Katso <ref 
      id="newkernel">  miten järjestelmän asetukset tehdään siten ettei olla 
      riippuvaisia hotplug-tuesta käynnistyksen aikana.
    </p>
   </sect1>
   <sect1 id="upgrading_other">
    <heading>
      Lopun järjestelmän päivitys
    </heading>
    <p>
      Nyt on kaikki valmista varsinaiseen koko järjestelmän 
      päivitykseen. Suorita komento:
    </p>
    <p>
     <example>
# aptitude dist-upgrade
	  </example>
    </p>
    <p>
      Tämä päivittää järjestelmän kokonaan, t.s. asentaa uusimman saatavilla 
      olevan version kaikista paketeista, ja ratkaisee kaikki mahdolliset 
      riippuvuuksien muutokset eri julkaisujen pakettien 
      välillä. Tarvittaessa asennetaan joitakin uusia paketteja 
      (tavallisesti uusia kirjastojen versioita tai uudelleennimettyjä 
      paketteja), ja poistetaan kaikki ristiriitoja aiheuttavat vanhentuneet 
      paketit.
    </p>
    <p>
      Päivitettäessa rompuilta pyydetään asettamaan tietyt romput asemaan 
      useissa kohdissa päivityksen aikana. Joudut mahdollisesti asettamaan 
      saman rompun monta kertaa; tämä johtuu eri rompuilla olevien pakettien 
      keskinäisistä riippuvuuksista.
    </p>
    <p>
      Asennettujen pakettien uudet versiot, joita ei voi asentaa
      muuttamatta toisen paketin asennusta, jätetään vanhaan versioonsa
      (tilana näytetään "pysytetty "). Tämä voidaan ratkaista joko
      valitsemalla <prgn>aptitude</prgn>:lla nämä paketit
      asennettaviksi tai suorittamalla <tt>aptitude -f install
      <var>paketti</var></tt>.
    </p>
   </sect1>
   <sect1 id="get_signatures">
    <heading>
      Pakettien digitaaliset allekirjoitukset
    </heading>
    <p>
      Päivityksen jälkeen voi uudella <prgn>apt</prgn> versiolla päivittää 
      pakettitiedot, joissa nyt on mukana uusi pakettien digitaalisen 
      allekirjoituksen tarkistava toiminto:
    </p>
    <p>
     <example>
# aptitude update
	  </example>
    </p>
    <p>
      Päivitys on jo noutanut ja ottanut käyttöön Debianin pakettivarastojen 
      allekirjoitusavaimet. Jos lisäät muita (epävirallisia) 
      pakettivarastoja, <prgn>apt</prgn> tulostaa varoituksia koska se ei 
      pysty varmistamaan niistä noudettujen pakettien olevan alkuperäisiä ja 
      ettei niitä ole muutettu. Lisätietoja löytyy kohdasta <ref 
      id="pkgmgmt">.
    </p>
    <p>
      Huomaat uutta <prgn>apt</prgn>:in versiota käyttäessäsi sen noutavan 
      pakettien muutokset (<tt>pdiff</tt>) eikä kokonaisia pakettien 
      hakemistoluetteloita. Tästä ominaisuudesta kertoo lisää <ref 
      id="apt-pdiff">.
    </p>
   </sect1>
   <sect1 id="trouble">
    <heading>
      Mahdollisia pulmia päivityksen aikana
    </heading>
    <p>
      Jos toiminto jossa käytetään ohjelmia <prgn>aptitude</prgn>, 
      <prgn>apt-get</prgn> tai <prgn>dpkg</prgn> epäonnistuu ja 
      virheilmoitus on
     <example>
E: Dynamic MMap ran out of room
</example>
      on välimuistin oletusarvona ollut koko liian pieni. Tämä voidaan 
      ratkaista joko poistamalla tai kommentoimalla tarpeettomia rivejä 
      tiedostosta <file>/etc/apt/sources.list</file> tai kasvattamalla 
      välimuistia. Välimuistia kasvatetaan asettamalla tiedostossa 
      <file>/etc/apt/sources.list</file> suurempi arvo asetukselle 
      <tt>APT::Cache-Limit</tt>. Seuraavalla komennolla tämä arvo asetetaan 
      arvoon jonka pitäisi olla riittävä päivitykselle:
     <example>
# echo 'APT::Cache-Limit "12500000";' >> /etc/apt/apt.conf
</example>
      Tässä oletettiin, ettei tuon muuttujan arvon asetusta ollut tuossa 
      tiedostossa ennestään.
    </p>
    <p>
      Toisinaan on välttämätöntä ottaa käyttöön 
      APT::Force-LoopBreak-valitsin APT:ssa, jotta voidaan tilapäisesti 
      poistaa välttämätön paketti, jonka poistamisesta muodostuu 
      Conflicts/Pre-Depends-silmukka. <prgn>aptitude</prgn> hälyttää tästä 
      ja keskeyttää päivityksen. Tämä voidaan kiertää antamalla 
      <prgn>aptitude</prgn>-ohjelman komentorivillä valitsin <tt>-o 
      APT::Force-LoopBreak=1</tt>.
    </p>
    <p>
      Järjestelmän riippuvuudet voivat olla niin pahasti rikki, että 
      tarvitaan käyttäjän toimenpiteitä. Tavallisesti pitää käyttää ohjelmaa 
      <prgn>aptitude</prgn> tai
     <example>
# dpkg --remove <var>paketin_nimi</var>
          </example>
      poistamaan joitakin kiusaa tekeviä paketteja, tai
     <example>
# aptitude --fix-broken install
# dpkg --configure --pending
          </example>
    </p>
    <p>
      Pahimmassa tapauksessa voidaan joutua pakottamaan uudelleenasennus 
      tämän tapaisella komennolla kuten
     <example>
# dpkg --install <var>/polku/paketin_nimi.deb</var>
          </example>
    </p>
    <p>
      Tiedostoristiriitoja ei pitäisi tulla päivitettäessä "puhtaasta" 
      &oldreleasename;-järjestelmästä, mutta niitä voi tulla mikäli 
      asennettuna on epävirallisia siirroksia vanhaan järjestelmään 
      (backports). Tiedostoristiriidasta tulee tämäntapaisia 
      virheilmoituksia:
     <example>
Unpacking <var>&lt;package-foo&gt;</var> (from <var>&lt;package-foo-file&gt;</var>) ...
dpkg: error processing <var>&lt;package-foo&gt;</var> (--install):
 trying to overwrite `<var>&lt;some-file-name&gt;</var>',
 which is also in package <var>&lt;package-bar&gt;</var>
dpkg-deb: subprocess paste killed by signal (Broken pipe)
 Errors were encountered while processing:
 <var>&lt;package-foo&gt;</var>
          </example>
    </p>
    <p>
      Tiedostoristiriidan ratkaisemista voi yrittää pakottamalla 
      poistettavaksi paketin joka mainitaan virheilmoituksen 
      <em>viimeisellä</em> rivillä:
     <example>
# dpkg -r --force-depends <var>paketin_nimi</var>
          </example>
    </p>
    <p>
      Korjausten jälkeen pitäisi päivitystä voida jatkaa aiemmin mainituilla 
      <tt>aptitude</tt>-komennoilla.
    </p>
    <p>
      Päivityksen aikana kysytään useiden pakettien asetusten teosta tai 
      asetusten muuttamisesta. Kun kysytään korvataanko hakemistoissa 
      <file>/etc/init.d</file> tai <file>/etc/terminfo</file> oleva tiedosto 
      tai <file>/etc/manpath.config</file> tiedosto ylläpitäjän versiolla, 
      on tavallisesti tarpeen vastata "kyllä", jotta varmistetaan 
      järjestelmän yhtenäisyys. Vanhat versiot voi aina ottaa takaisin 
      käyttöön, sillä ne tallenetaan päätteen <tt>.dpkg-old</tt> kera.
    </p>
    <p>
      Jos et ole varma mitä tehdä, kirjoita muistiin paketin tai tiedoston 
      nimi ja korjaa myöhemmin. Voit etsiä lokitiedostosta uudestaan 
      näkyviin mitä ruudulla luki päivityksen aikana.
    </p>
   </sect1>
  </sect>
  <sect id="newkernel">
   <heading>
     Ytimen ja siihen liittyvien pakettien päivittäminen
   </heading>
   <p>
     Tässä osassa kerrotaan miten ydin päivitetään ja mitä pulmia liittyy 
     tähän päivitykseen. Voidaan asentaa joko jokin Debianin tarjoamista 
     <package>linux-image-*</package> -paketeista tai kääntää räätälöity 
     ydin lähdekoodeista.
   </p>
    <![ %uses-initrd [

   <p>
     Huomaa suuren osan tästä osasta olettavan käytettäväksi jotain Debianin 
     moduuleja käyttävistä ytimistä kera pakettien 
     <package>initramfs-tools</package> ja <package>udev</package>. Jos 
     käytät räätälöityä ydintä joka ei vaadi käynnistyksen muistilevyä tai 
     jos käytät jotain muuta muistilevyn tuottavaa ohjelmaa, ei kaikki tieto 
     tässä ole tarpeellista.
   </p>
    ]]><![ %no-initrd [

   <p>
     Huomaa tässä osassa olevan paljon pakettien 
     <package>initramfs-tools</package> ja <package>udev</package> käyttöön 
     liittyvää tietoa. Koska Debianin ytimet laitealustalle &architecture; 
     eivät kuitenkaan käytä muistilevyä käynnistyksessä (initrd), jotkin 
     näistä tiedoista eivät ole tarpeellisia. Tiedot ovat kuitenkin mukana 
     koska <package>udev</package> saattaa olla asennettuna muista syistä.
   </p>
    ]]>

   <p>
     Huomaa että jos <package>udev</package> <em>ei</em> ole asennettuna 
     järjestelmään, on silti mahdollista käyttää pakettia 
     <package>hotplug</package> laitteistotunnistukseen.
   </p>
    <![ %defaulted-2.4 [

   <p>
     Jos nyt on käytössä 2.4-ydin, pitäisi <ref id="upgrade-to-2.6"> lukea 
     huolellisesti.
   </p>
    ]]>

   <sect1 id="kernel-metapackage">
    <heading>
      Ytimen metapaketin asennus
    </heading>
    <p>
      Tehtäessä dist-upgrade julkaisusta &oldreleasename; julkaisuun 
      &releasename; suositellaan suuresti linux-image-2.6-* -metapaketin 
      asentamista. Mahdollisesti dist-upgrade-toiminto asentaa tämän paketin 
      automaattisesti. Tästä voidaan varmistua suorittamalla:
     <example>
# dpkg -l "linux-image*" | grep ^ii
          </example>
    </p>
    <p>
      Jos komento ei tulosta mitään, on uusi linux-image-paketti asennettava 
      itse. Luettelon saatavilla olevista linux-image-2.6-paketeista näkee 
      komennolla: 
     <example>
# apt-cache search linux-image-2.6- | grep -v transition
          </example>
    </p>
    <p>
      Jos et varmasti tiedä mikä paketti pitäisi valita, suorita komento 
      <tt>uname -r</tt> ja etsi pakettia jonka nimi on samantapainen. Jos 
      uname esimerkiksi tulostaa "2.4.27-3-686", suositellaan asennettavaksi 
      paketti <package>linux-image-2.6-686</package>. <![ %i386 [ (Note that 
      the 386 flavor no longer exists; if you are currently using the 386 
      kernel flavor, you should install the 486 flavor instead.) ]]> Voit 
      myös katsoa pitkän kuvauksen joka paketista komennolla 
      <prgn>apt-cache</prgn> ja sen avulla valita paras saatavilla oleva 
      paketti. Esimerkiksi:
     <example>
# apt-cache show linux-image-2.6-686
          </example>
    </p>
    <p>
      Kannattaa käyttää komentoa <tt>aptitude install</tt> sen 
      asentamiseen. Kun tämä uusi ydin on asennettu, pitää järjestelmä 
      käynnistää uudelleen ensimmäisen tilaisuuden tullen, jotta uuden 
      ytimen hyödyt saadaan käyttöön.
    </p>
    <p>
      Jännitystä haluaville on tarjolla helppo tapa tehdä oma räätälöity 
      ydin &debian;-järjestelmälle. Asennetaan 
      <package>kernel-package</package> ja luetaan ohjeet hakemistosta 
      <file>/usr/share/doc/kernel-package</file>.
    </p>
   </sect1>
   <sect1 id="upgrade-from-2.6">
    <heading>
      2.6-ytimen päivittäminen
    </heading>
    <p>
      Jos nyt on käytössa 2.6-ydin julkaisusta &oldreleasename; tapahtuu 
      tämä päivitys automaattisesti kun tehdään järjestelmäpakettien täysi 
      päivitys (kuten kertoo <ref id="upgradingpackages">).
    </p>
    <p>
      Jos mahdollista, on eduksi päivittää ydinpaketti erillään täydestä 
      <tt>dist-upgrade</tt> -päivityksestä. Tämä pienentää väliaikaisesti 
      käynnistyskelvottoman järjestelmän mahdollisuutta. <ref 
      id="upgrading_kernel"> on kuvaus tästä toimenpiteestä. Huomaa, että 
      tämä olisi tehtävä suppean kohdassa <ref id="minimal_upgrade"> kuvatun 
      päivityksen jälkeen.
    </p>
    <p>
      Tämä voidaan tehdä myös käytettäessä räätälöityä ydintä haluttaessa 
      käyttää julkaisussa &releasename; saatavilla olevaa ydintä. Jos ytimen 
      versio ei ole tuettu paketissa <package>udev</package> suositellaan 
      päivitystä suppean päivityksen jälkeen. Jos versio on tuettu paketissa 
      <package>udev</package> on turvallista odottaa täyden päivyksen 
      jälkeiseen tilanteeseen.
    </p>
   </sect1>
    <![ %defaulted-2.4 [

   <sect1 id="upgrade-from-2.4">
    <heading>
      2.4-ytimen päivittäminen
    </heading>
    <p>
      Jos käytössä on 2.4-ydin, ja järjestelmä tunnistaa laitteet 
      <package>hotplug</package>:in avulla, olisi asennettava julkaisun 
      &oldreleasename; 2.6-sarjan ydin ennen kuin päivitystä 
      yritetään. Varmista 2.6-ytimen käynnistyvän ja kaikkien laitteiden 
      tulevan tunnistetuksi oikein ennen kuin yritetään päivitystä. Paketti 
      <package>hotplug</package> poistetaan järjestelmästä (tilalle tulee 
      <package>udev</package>) kun tehdään täysi järjestelmän päivitys. Jos 
      ydintä ei päivitetä tätä ennen ei järjestelmä ehkä käynnisty kunnolla 
      tästä alkaen. Kun päivitys julkaisun &oldreleasename; 2.6-sarjan 
      ytimeen on tehty, voidaan ydin päivittää kuten kertoo <ref 
      id="upgrade-from-2.6">.
    </p>
    <p>
      Jos järjestelmä ei käytä 
      <package>hotplug</package>:ia<footnote><p>Järjestelmän tarvitsemat 
      ytimen moduulit saadaan ladattua kiinteästi sopivilla tiedoston 
      <file>/etc/modules</file> asetuksilla.</p></footnote> voidaan ytimen 
      päivitystä lykätä kunnes koko järjestelmän päivitys on tehty, kuten 
      kertoo <ref id="upgrading_other">. Kun järjestelmä on päivitetty 
      voidaan tehdä seuraava (vaihdetaan ydinpaketin nimi laitteistolle 
      parhaiten sopivaan korvaamalla <em>&lt;malli&gt;</em>):
     <example>
# aptitude install linux-image-2.6-&lt;malli&gt;
        </example>
    </p>
   </sect1>
    ]]>

   <sect1 id="device-reorder">
    <heading>
      Laitenumeroiden uusjako
    </heading>
    <p>
      Julkaisussa &releasename; on aikaisempia julkaisuita varmatoimisempi 
      laitteistotunnistus. Tästä saattaa kuitenkin seurata muutoksia 
      laitteiden löytymisjärjestyksessä, jolloin laitenimien järjestyskin 
      muuttuu. Jos esimerkiksi koneessa on kaksi verkkoliitäntää joissa on 
      eri laiteajurit, saattavat laitteet eth0 ja eth1 vaihtaa 
      paikkaa. Huomaa uuden laitteistotunnistuksen tarkoittavan, että jos 
      esimerkiksi vaihdetaan ethernet-kortti käynnissä olevassa 
      &releasename;-järjestelmässä, saa uusi korttikin uuden laitenimen.
    </p>
    <p>
      Verkkoliitännöille voidaan järjestyksen vaihtuminen välttää 
      <package>udev</package>:in säännöillä, tarkemmin sanoen tiedoston 
      <file>/etc/udev/rules.d/z25_persistent-net.rules</file> 
      määrityksillä<footnote><p>Siellä olevat säännöt on tuottanut 
      automaattisesti komentotiedosto 
      <file>/etc/udev/rules.d/z45_persistent-net-generator.rules</file> 
      jotta verkkoliitännöillä olisi pysyvät nimet. Poistamalla tämä 
      symbolinen linkki saadaan pysyvien nimen antaminen verkkoliitännöille 
      <package>udev</package>:ssä pois käytöstä.</p></footnote>. Toinen 
      mahdollisuus on työkalulla <prgn>ifrename</prgn> sitoa fyysiset 
      laitteet annettuihin nimiin käynnistyksen aikana. Lisätietoa on  
      <manref section="8" name="ifrename"> ja <manref section="5" 
      name="iftab">. Näitä kahta vaihtoehtoa (<package>udev</package> ja 
      <prgn>ifrename</prgn>) ei pitäisi käyttää samaan aikaan.
    </p>
    <p>
      Massamuistilaitteilla laitenimien uusjako on vältettävissä paketilla 
      <package>initramfs-tools</package> ja säätämällä se lataamaan 
      massamuistien laiteajurit samassa järjestyksessä kuin ne on nyt 
      ladattu. Tämä tehdään määrittämällä massamuistimoduulien 
      latausjärjestys tutkimalla komennon <prgn>lsmod</prgn> 
      tulostusta. <prgn>lsmod</prgn> luettelee moduulit käänteisessä 
      järjestyksessä, eli luettelon ensimmäinen moduuli on ladattu 
      viimeiseksi. Huomaa että tämä toimii vain laitteille jotka ydin 
      numeroi vakaassa järjestyksessä (kuten PCI-laitteet).
    </p>
    <p>
      Moduulien poistaminen ja lataaminen uudelleen käynnistyksen jälkeen 
      kuitenkin vaikuttaa tähän järjestykseen. Ytimessä saattaa myös olla 
      joitakin ajureita kiinteästi liitettyinä, ja näiden nimet eivät näy 
      komennon <prgn>lsmod</prgn> tulosteessa. Näiden ajurien nimet ja 
      latausjärjestyksen voi ehkä selvittää tutkimalla tiedostoa 
      <file>/var/log/kern.log</file>, tai komennon <prgn>dmesg</prgn> 
      tulosteesta.
    </p>
    <p>
      Lisää näiden moduulien nimet tiedostoon 
      <file>/etc/initramfs-tools/modules</file> siinä järjestyksessä jossa 
      ne tulisi ladata käynnistyksen aikana. Joidenkin moduulien nimi on 
      saattanut muuttua julkaisuiden &oldreleasename; ja &releasename; 
      välissä. Esimerkiksi moduulista sym53c8xx_2 on tullut sym53c8xx.
    </p>
    <p>
      Tämän jälkeen on käynnistyksen muistilevyn otos (tai otokset) tehtävä 
      uudestaan komennolla <tt>update-initramfs -k all</tt>.
    </p>
    <p>
      Kun julkaisun &releasename; ydin ja <prgn>udev</prgn> ovat ajossa, 
      voidaan järjestelmän asetukset tehdä siten, että levyihin viitataan 
      nimellä joka ei riipu laiteajurien latausjärjestyksestä. Nämä nimet 
      ovat hakemistopuussa <file>/dev/disk/</file>.
    </p>
   </sect1>
    <![ %ia64 [

   <sect1>
    <heading>
      Sarjaliitäntöjen numerointi muuttuu
    </heading>
    <p>
      Käytettäessä HP:n konetta ja MP-sarjakonsoliporttia (liitin nimeltä 
      "console" kolmipäisessä kaapelissa), tämä ytimen päivitys rikkoo 
      konsolin!
    </p>
    <p>
      Uudelleen käynnistettäessä näkyy ilmoitus "Loading initrd...." mutta 
      siihen hyytyy. Huomaa, että järjestelmissä joissa on vanhentunut 
      laiteohjelmisto ilmenee samanlaisia oireita, vaikka vika liittyykin 
      ytimen epäyhteensopivuuksin (katso <ref id="upgrade-to-2.6">).
    </p>
    <p>
      Ole hyvä ja lue seuraava ennen päivitystä.
    </p>
    <p>
     <list>
      <item>
       <p>
         Konsolilaite muuttuu nimestä <file>ttyS0</file> nimelle 
         <file>ttyS1</file>, <file>ttyS2</file>, tai <file>ttyS3</file> 
         joten
        <list>
         <item>
          <p>
            Muokkaa tiedostoa <file>/etc/inittab</file> lisäämällä 
            getty-rivi laitteelle <file>/dev/ttyS1</file> (rx4640, rx5670, 
            rx7620, rx8620, Superdome), <file>/dev/ttyS2</file> (rx1600), 
            tai <file>/dev/ttyS3</file> (rx2600).
          </p>
         </item>
         <item>
          <p>
            Muokkaa tiedostoa <file>/etc/securetty</file> lisäämällä 
            <file>ttyS1</file>, <file>ttyS2</file>, tai <file>ttyS3</file>.
          </p>
         </item>
         <item>
          <p>
            Jätä tiedostoissa <file>/etc/inittab</file> ja 
            <file>/etc/securetty</file> olleet <file>ttyS0</file> -rivit 
            ennalleen jotta voit yhä käynnistää vanhoja ytimiä.
          </p>
         </item>
        </list>
       </p>
      </item>
      <item>
       <p>
         Muokkaa tiedostoa <file>/etc/elilo.conf</file> poistamalla kaikki 
         "console=" tarkentimet.
       </p>
      </item>
      <item>
       <p>
         Asenna käynnistyslatain uusilla asetuksilla suorittamalla komento 
         <prgn>elilo</prgn>.
       </p>
      </item>
      <item>
       <p>
         Käynnistä uudelleen ja valitse EFI-käynnistyksen huoltovalikosta 
         täsmälleen yksi laite konsolitulostukseen, syöttöön ja standard 
         erroriin. Käynnistä sitten kone virtakytkimestä jotta muutokset 
         tulevat voimaan.
       </p>
       <p>
         Käytettäessä MP-konsolia, varmistu valittavan laite jonka polussa 
         on "Acpi(HWP0002,700)/Pci(...)/Uart".
       </p>
      </item>
     </list>
    </p>
    <p>
      Yksityiskohtaisempaa tietoa muutoksista ja vianjäljityksen vinkkejä on 
      saatavilla osoitteesta <url 
      id="http://lists.debian.org/debian-ia64/2005/01/msg00008.html">.
    </p>
   </sect1>
    ]]><![ %uses-initrd [

   <sect1 id="boot-timing">
    <heading>
      Käynnistystoimintojen ajoitus
    </heading>
    <p>
      Jos <package>initramfs-tools</package>in tekemää muistilevyä käytetään 
      järjestelmän käynnistämiseen, tekee <package>udev</package> joissakin 
      tapauksissa laitetiedostot liian myöhään, eli 
      käynnistyskomentotiedostot eivät voi vielä käyttää niitä.
    </p>
    <p>
      Tavalliset oireet ovat käynnistyksen epäonnistuminen koska 
      juuritiedostojärjestelmää ei voi liittää ja päädytään 
      virheenjäljityskomentotulkkiin, mutta kun myöhemmint tarkistetaan, 
      kaikki tarvittavat laitteet ovat hakemistossa <file>/dev</file>. Ilmiö 
      on havaittu kun juuritiedostojärjestelmä on USB-levyllä tai 
      RAID-pakalla.
    </p>
    <p>
      Vian voi kiertää käynnistyksen parametrilla 
      <tt>rootdelay=<var>9</var></tt>. Aikakatkaisun aikaa (sekunneissa) voi 
      joutua säätämään.
    </p>
   </sect1>
    ]]>

  </sect>
  <sect id="nownownow">
   <heading>
     Muistettavaa ennen seuraavaa käynnistystä
   </heading>
   <p>
     Kun <tt>aptitude dist-upgrade</tt> on valmis, "muodollinen" päivitys on 
     suoritettu, mutta on joitain muita tehtäviä joista on huolehdittava 
     <em>ennen</em> seuraavaa käynnistystä.
   </p>
   <sect1 id="convert-devfs">
    <heading>
      Siirtyminen pois devfs:stä
    </heading>
    <p>
      Debian-ytimet eivät enää tue <tt>devfs</tt>:ää, joten <tt>devfs</tt>:n 
      käyttäjien on korjattava järjestelmäänsä itse ennen kuin julkaisun 
      &releasename; ydin käynnistetään.
    </p>
    <p>
      Jos merkkijono "devfs" esiintyy tiedostossa <file>/proc/mounts</file>, 
      on <prgn>devfs</prgn> todennäköisesti käytössä. Kaikki asetustiedostot 
      joissa käytetään devfs:n käyttämiä nimiä on muutettava käyttämään 
      udev-nimiä. Tiedostoja joissa devfs-nimiä todennäköisimmin käytetään 
      ovat <file>/etc/fstab</file>, <file>/etc/lilo.conf</file>, 
      <file>/boot/grub/menu.lst</file>ja <file>/etc/inittab</file>.
    </p>
    <p>
      Lisää tietoja mahdollisista pulmista löytyy vikailmoituksesta <url 
      id="http://bugs.debian.org/341152" name="#341152">.
    </p>
   </sect1>
    <![ %sparc [

   <sect1 id="missingdrivers">
    <heading>
      Käynnistyksen muistilevystä mahdollisesti puuttuvista ajureista
    </heading>
    <p>
      Julkaisun &releasename; ytimissä ei vielä ole täyttä sysfs-tukea 
      natiiville sparc sbus-väylälle. <package>initramfs-tools</package> 
      luottaa tähän lisätessään levyohjainten ajureita käynnistyksen 
      muistilevyyn. Jos ajuria ei ole muistilevyssä, järjestelmä ei ehkä 
      käynnisty.
    </p>
    <p>
      Käytettäessä <tt>esp</tt>- tai <tt>qlogicpti</tt>-moduuleita 
      kiintolevyajureina, on tuo moduuli lisättävä tiedostoon 
      <file>/etc/initramfs-tools/modules</file> ja tehtävä käynnistyksen 
      muistilevy uudestaan ennen kuin järjestelmä käynnistetään 
      uudelleen. Käynnistyksen muistilevy voidaan tehdä komennolla:
     <example>
# update-initramfs -u -k all
          </example>
    </p>
   </sect1>
    ]]><![ %hppa [

   <sect1 id="missingdrivers">
    <heading>
      Käynnistyksen muistilevystä mahdollisesti puuttuvista ajureista
    </heading>
    <p>
      Julkaisun &releasename; ei vielä ole täyttä sysfs-tukea natiiville 
      HP-väylälle. <package>initramfs-tools</package> luottaa tähän 
      lisätessään levyohjainten ajureita käynnistyksen muistilevyyn. Jos 
      ajuria ei ole muistilevyssä, järjestelmä ei ehkä käynnisty.
    </p>
    <p>
      Käytettäessä <tt>lasi700</tt>- tai <tt>zalon7xx</tt>-moduuleita 
      kiintolevyajureina, on tuo moduuli lisättävä tiedostoon 
      <file>/etc/initramfs-tools/modules</file> ja tehtävä käynnistyksen 
      muistilevy uudestaan ennen kuin järjestelmä käynnistetään 
      uudelleen. Käynnistyksen muistilevy voidaan tehdä komennolla:
     <example>
# update-initramfs -u -k all
          </example>
    </p>
   </sect1>
    ]]><![ %i386-amd64 [

   <sect1 id="rerunlilo">
    <heading>
      Käynnistetään lilo uudestaan
    </heading>
    <p>
      Jos käynnityslataimena on käytössä <package>lilo</package> (se on 
      joidenkin asennusten oletuskäynnistyslatain julkaisussa 
      &oldreleasename;) suositellaan vakavasti <prgn>lilo</prgn>:n 
      käynnistämistä uudelleen asennuksen jälkeen:
     <example>
# /sbin/lilo
          </example>
    </p>
    <p>
      Huomaa tämän olevan välttämätöntä vaikkei ydintä olisikaan päivitetty, 
      koska <prgn>lilo</prgn>:n toinen vaihe muuttuu paketin päityksessä.
    </p>
    <p>
      Tutki myös tiedosto <file>/etc/kernel-img.conf</file> ja varmistu 
      siellä olevan <em>do_bootloader = Yes</em>. Tämä pakottaa 
      käynnistyslataimen suoritettavaksi uudelleen aina kun ydin on 
      päivitetty.
    </p>
    <p>
      Jos <prgn>lilo</prgn>:a suoritettaessa ilmenee pulmia, tutki 
      juurihakemistossa <file>/</file> olevat symboliset linkit tiedostoihin 
      <file>vmlinuz</file> ja <file>initrd</file> ja tiedoston 
      <file>/etc/lilo.conf</file> sisältö, jotta nämä vastaavat toisiaan.
    </p>
    <p>
      Mikäli ei muisteta suorittaa <prgn>lilo</prgn>:a ennen järjestelmän 
      käynnistämistä uudelleen tai jos vahingossa käynnistetään ennen kuin 
      tämä on päästy itse tekemään, ei järjestelmä ehkä käynnisty. Lilon 
      kehoitteen sijasta näkyy käynnistettäessä vain 
      <em>LI</em><footnote><p>Lisätietoa <prgn>lilo</prgn>:n käynnistyksen 
      virhekoodeista kertoo <url 
      id="http://tldp.org/HOWTO/Bootdisk-HOWTO/a1483.html" name="The Linux 
      Bootdisk HOWTO">.</p></footnote>. Katso kohdasta <ref id="recovery"> 
      neuvoja miten tästä toivutaan.
    </p>
   </sect1>
    ]]><![ %s390 [

   <sect1 id="s390-config">
    <heading>
      S/390 laitteistoasetukset
    </heading>
    <p>
      Kaikkien S/390 laitteiden asetuksia ei pystytä tekemään 
      automaattisesti. Julkaisun &releasename; ytimille uusi työkaluohjelma 
      <package>sysconfig-hardware</package> tekee laitteiden asetukset 
      oikein. Harmillisesti työkalun ja sen asetustiedostojen ohjeita ei 
      vielä ole saatavilla. <package>sysconfig-hardware</package>:n 
      asetustiedostot ovat hakemistossa <file>/etc/sysconfig/</file>.
    </p>
    <p>
      Erityisesti jos järjestelmässä on nyt ajossa 2.4-ydin, saattaa 
      asetusten teko oikein olla haaasteellista. Jos tarvitset apua, käytä 
      <url id="http://lists.debian.org/debian-s390" name="Debian S/390 
      -sähköpostilistaa">.
    </p>
    <p>
      Asenna ensin työkalu ja tee uudestaan käynnistyksen muistilevy koska 
      työkalun mukana tulee komentotiedostoja jotka on lisättävä 
      muistilevyyn:
     <example>
# aptitude install sysconfig-hardware
# update-initramfs -u -k all
	  </example>
    </p>
    <sect2 id="s390-dasd">
     <heading>
       Levyjen asetukset
     </heading>
     <p>
       Tämä tehdään muokkaamalla tiedostoa 
       <file>/etc/zipl.conf</file>. sysconfig-työkalu voi käyttää 
       laitepolkua juurilaitteeseen sen käyttöönottamiseksi, mistä syystä 
       tämä polku on välitettävä ytimelle 
       käynnistysparametreissa. Tavalliselle DASD:lle polku muodostetaan 
       seuraavasti:
      <example>
&lt;bus&gt;-&lt;device&gt;
	  </example>
       Parametrille <tt>root</tt> on levyosio lisättävä polkuun. Niinpä jos 
       DASD on <tt>0.0.0122</tt> on <file>root=/dev/dasda1</file> tilalle 
       lisättävä seuraava <tt>parameters</tt>-rivi tiedostoon 
       <tt>/etc/zipl.conf</tt>:
      <example>
root=/dev/disks/by-path/ccw-0.0.0122-part1
	  </example>
       Tai toinen tapa on määrittää parametrilla <tt>enable</tt> käyttöön 
       otettava laite, tässä tapauksessa osio:
      <example>
root=/dev/dasda1 enable=ccw-0.0.0122
	  </example>
       Käytettävät polut saattavat olla erilaisia eri 
       laitteille. Esimerkiksi zFCP-kuityväylällä olevaan ohjaimessa 
       oleville levyille polku muodostavat väylä, laite, ajuri, wwpn ja 
       lun. RAID1:lle parametrit näyttäisivät tältä (kaikki samalla 
       rivillä):
      <example>
root=/dev/md0 enable=ccw-0.0.2900-zfcp-0x21000020371c93a5:0
enable=ccw-0.0.2900-zfcp-0x21000020371d8f94:0
	  </example>
     </p>
     <p>
       Muut DASD-laitteet (ne DADS:t joita ei tarvita 
       juuritiedostojärjestelmään) otetaan käyttöön hakemiston 
       <file>/etc/sysconfig/hardware/</file> 
       asetustiedostoilla. Tavalliselle DASD:lle riittää riittää tehdä 
       <prgn>touch</prgn> tiedostolle jonka nimessä on laitepolku:
      <example>
# cd /etc/sysconfig/hardware
# touch config-ccw-0.0.0122
	  </example>
       zFCP-kuituväylällä olevien laiteohjeinten levyille yksittäiset 
       laitteet luetteloidaan tiedostossa. Käytetään samaa esimerkkiä kuin 
       yllä ja luodaan tiedosto <file>config-ccw-0.0.2900</file> jonka 
       sisällöksi tulee (toinen laite tynkänä lukukelpoisuuden 
       säilyttämiseksi):
      <example>
ZFCP_DEVICES=(0x21000020371c93a5:0x0000000000000000 0x2100...:0x...)
	  </example>
     </p>
    </sect2>
    <sect2 id="s390-other">
     <heading>
       Verkkolaitteiden asetukset
     </heading>
     <p>
       Verkkolaitteet otetaan käyttöön hakemiston 
       <file>/etc/sysconfig/hardware/</file> 
       tiedostoilla. ctc-verkkolaitteelle jonka lukukanava on 
       <tt>0.0.0a00</tt> ja tulostuskanava  <tt>0.0.0a01</tt> ja 
       käytettäessä S/390-yhteyskäytäntöä, luotaisiin 
       tiedosto<file>config-ccw-0.0.0a00</file> onka sisällöksi tulee:
      <example>
CCWGROUP_CHANS=(0.0.0a00 0.0.0a01)
CTC_PROTOCOL=0
	  </example>
       qeth-verkkolaitteelle jossa on layer2-tila käytössä, tämä olisi 
       tiedosto <file>config-ccw-0.0.0600</file>:
      <example>
CCWGROUP_CHANS=(0.0.0600 0.0.0601 0.0.0602)
QETH_OPTIONS=(layer2)
	  </example>
     </p>
     <p>
       Tuetut valinnat ctc:lle ovat: <tt>CTC_PROTOCOL</tt> ja 
       <tt>CTC_BUFFER</tt>; ja qeth:lle: <tt>QETH_PORTNAME</tt>, 
       <tt>QETH_PORTNO</tt> ja <tt>QETH_OPTIONS</tt>.
     </p>
     <p>
       Koska S/390-verkkolaitteilla ei ole pysyvää MAC-osoitetta, ei ole 
       mahdollista käyttää <package>udev</package>:in kiinteää laitteiden 
       nimeämistä. Sen sijaan voidaan asetustiedostoon lisätä 
       <tt>INTERFACE_NAME</tt> liitännän nimeämiseksi.
     </p>
    </sect2>
   </sect1>
    ]]>

   <sect1 id="mdadm">
    <heading>
      mdadm:n päivitys
    </heading>
    <p>
      mdadm tarvitsee nyt asetustiedoston kootakseen MD-pakat (RAID) 
      käynnistyksen muistilevyltä ja järjestelmän alkuasetusten teon 
      aikana. Varmistu lukeneesi ja toimivasi tiedoston 
      <file>/usr/share/doc/mdadm/README.upgrading-2.5.3.gz</file> ohjeiden 
      mukaan kun paketti on päivitetty <strong> ja ennen kuin käynnistetään 
      uudelleen</strong>. Tämän tiedoston uusin versio on saatavilla 
      osoitteesta <url 
      id="http://svn.debian.org/wsvn/pkg-mdadm/mdadm/trunk/debian/README.upgrading-2.5.3?op=file">; 
      siitä olisi etsittävä apua pulmatilanteissa.
    </p>
   </sect1>
  </sect>
  <sect id="for_next">
   <heading>
     Valmistautuminen seuraavaan julkaisuun
   </heading>
   <p>
     Päivityksen jälkeen voidaan valmistautua seuraavaan julkaisuun useilla 
     toimenpiteillä.
   </p>
   <p>
    <list>
     <item>
      <p>
        Käytettäessä <prgn>grub</prgn>-käynnistyslatainta, muokataan 
        tiedostoa <file>/etc/kernel-img.conf</file> ja vaihdetaan komennon 
        <prgn>update-grub</prgn> sijainti vaihtamalla 
        <file>/sbin/update-grub</file> tilalle 
        <file>/usr/sbin/update-grub</file>.
      </p>
     </item>
     <item>
      <p>
        Jos uuden ytimen metapaketti asentui koska vanhassa ytimessä oli 
        riippuvuus siihen, se merkitään automaattisesti asennetuksi. Tämä 
        olisi korjattava komennolla:
       <example>
# aptitude unmarkauto $(dpkg-query -W 'linux-image-2.6-*' | cut -f1)
</example>
      </p>
     </item>
     <item>
      <p>
        Poista julkaisun &oldreleasename; ytimen metapaketit komennolla:
       <example>
# aptitude purge kernel-image-2.6-&lt;flavor&gt;
</example>
      </p>
     </item>
     <item>
      <p>
        Siirrä kaikki ytimen asetukset tiedostosta 
        <file>/etc/network/options</file> tiedostoon 
        <file>/etc/sysctl.conf</file>.
      </p>
     </item>
     <item>
      <p>
        Poista vanhentuneet ja käyttämättömät paketit kuten kertoo <ref 
        id="obsolete">. Olisi tarkistettava mitä asetustiedostoja ne 
        käyttävät ja harkittava pakettien poistamista tarkentimella 
        <tt>--purge</tt> jolloin poistetaan myös asetustiedostot.
      </p>
     </item>
    </list>
   </p>
  </sect>
  <sect id="obsolete">
   <heading>
     Vanhentuneet paketit
   </heading>
   <p>
     Julkaisussa &releasename; tulee useita tuhansia uusia paketteja mutta 
     se myös poistaa käytöstä ja jättää pois yli kaksi tuhatta vanhaa 
     pakettia jotka olivat julkaisussa &oldreleasename;. Mitään 
     päivitystapaa ei tarjota näille vanhentuneille paketeille. Vaikkakaan 
     ei ole mitään estettä vanhentuneen paketin käytön jatkamiselle, 
     Debian-projekti tavallisesti lopettaa tietoturvapäivitysten teon 
     paketille vuoden &releasename;in julkistuksen jälkeen<footnote><p>Tai 
     kunnes seuraava julkistus tehdään. Tavallisesti tuetaan vain kahta 
     vakaata julkaisua samalla kertaa.</p></footnote>, eikä tavallisesti 
     tarjoa muuta tukea tänä aikana. Suositellaan paketin korvaamista 
     saatavilla olevalla vaihtoehdolla, jos sellainen on.
   </p>
   <p>
     Pakettien poistamiselle jakelusta on monia syitä: alkuperäinen tekijä 
     ei ehkä enää ylläpidä niitä; ei ole enää Debian-kehittäjää joka 
     ylläpitäisi pakettia; toiminnallisuuden on korvannut toinen ohjelmisto 
     (tai uusi versio); tai niitä ei pidetä enää soveliaina julkaisuun 
     &releasename; vikojen takia. Jälkimmäisessä tapauksessa paketit 
     saattavat vielä olla "epävakaassa" jakelussa.
   </p>
   <p>
     Päivitetyssä järjestelmässä olevien vanhentuneiden pakettien löytäminen 
     on helppoa, koska paketinhallintajärjestelmän edustaohjelmat 
     merkitsevät ne vanhentuneiksi. Käytettäessä ohjelmaa 
     <prgn>aptitude</prgn> on luettelo näistä paketeista kohdassa 
     "Vanhentuneet ja paikalliset paketit". Ohjelmassa <prgn>dselect</prgn> 
     on samantapainen luettelo, mutta sen sisältö saattaa hieman 
     poiketa. Vielä on huomattava, että jos on itse asennettu paketteja 
     komennolla <prgn>aptitude</prgn> julkaisussa &oldreleasename;, 
     järjestelmä muistaa mitkä paketit on itse asennettu ja merkitsee 
     vanhentuneiksi paketit jotka on asennettu vain itse asennettujen 
     pakettien riippuvuuksien takia ja joita ei enää tarvita jos paketti on 
     poistettu. Lisäksi <prgn>aptitude</prgn>, toisin kuin 
     <prgn>deborphan</prgn>, ei merkitse vanhentuneiksi paketteja jotka on 
     asennettu itse, kuten se tekee paketeille jotka asennettiin 
     riippuvuuksien takia.
   </p>
   <p>
     On lisääkin työkaluja joilla etsiä vanhentuneita paketteja, kuten 
     <prgn>deborphan</prgn>, <prgn>debfoster</prgn> tai 
     <prgn>cruft</prgn>. Ohjelmaa <prgn>deborphan</prgn> suositellaan 
     suuresti, vaikkakin se (oletusasetuksilla) ilmoittaa vain 
     vanhentuneista kirjastoista: osastoissa "libs" tai "oldlibs" olevista 
     paketeista joita mikään muu paketti ei käytä. Älä poista miettimättä 
     näiden työkalujen ilmoittamia paketteja, erityisesti käytettäessä 
     ärhäköitä ei-oletusasetuksia joilla on taipumus tuottaa vääriä 
     positiivisia. Poistettaviksi ehdotettujen pakettien tutkimista itse 
     suositellaan suuresti (t.s. niiden sisältö, koko ja kuvaus) ennen 
     poistamista.
   </p>
   <p>
     <url id="&url-bts;" name="Debianin Vianjäljitysjärjestelmä"> kertoo 
     usein lisätietoa paketin poistamisen syistä. Olisi tutkittava sekä 
     paketin omat arkistoidut vikailmoitukset että arkistoidut 
     vikailmoitukset <url 
     id="&url-bts;cgi-bin/pkgreport.cgi?pkg=ftp.debian.org&#38;archive=yes" 
     name="ftp.debian.org -pseudopaketille">.
   </p>
   <sect1 id="dummy">
    <heading>
      Siirtymäpaketit
    </heading>
    <p>
      Jotkin julkaisun &oldreleasename; paketeista on jaettu useisiin 
      paketeihin julkaisussa &releasename;, usein helpottamaan järjestelmän 
      ylläpitoa. Päivitystä on tällaisissa tapauksissa usein helpotettu 
      lisäämällä julkaisuun &releasename; "siirtymäpaketteja": tyhjiä 
      paketteja joilla on sama nimi kuin julkaisun &oldreleasename; vanhalla 
      paketilla ja riippuvuuksia jotka aikaansaavat uusien pakettien 
      asentumisen. Näitä "siirtymäpaketteja" voi pitää vanhentuneina 
      päivityksen jälkeen ja ne voidaan turvallisesti poistaa.
    </p>
    <p>
      Useimpien (mutta ei kaikkien) siirtymäpakettien tarkoitus ilmenee 
      kuvauksesta. Siirtymäpakettien kuvaukset eivät kuitenkaan ole 
      samanmuotoisia, joten myös <prgn>deborphan</prgn> <tt>--guess</tt> 
      -tarkentimilla saattaa auttaa niitä löytämään. Huomaa joidenkin 
      siirtymäpakettien tarkoituksena olevan seurata ohjelman kullakin 
      hetkellä saatavilla olevaa versiota, eikä näitä tulisi poistaa 
      päivityksen jälkeen.
    </p>
   </sect1>
  </sect>
 </chapt>
 <chapt id="information">
  <heading>
    Hyvä tietää julkaisusta &releasename;
  </heading>
  <sect id="problems">
   <heading>
     Mahdollisia pulmia
   </heading>
   <p>
     Joskus muutoksilla on sivuvaikutuksia joita ei järkevästi voi välttää, 
     tai ne paljastavat vikoja muualla. Tässä kerrotaan tietoomme tullet 
     pulmat. Lue myös errata, kyseisten pakettien ohjeet, vikailmoitukset ja 
     muu kohdan <ref id="morereading"> tieto.
   </p>
   <sect1 id="udev">
    <heading>
      udev:iin liittyviä laitepulmia
    </heading>
    <p>
      Vaikka <package>udev</package> on testattu laajalti, saattaa joidenkin 
      laitteiden kanssa tulla vähäisiä korjausta vaativia pulmia. Yleisimmät 
      pulmat ovat laitteen muuttuneet oikeudet ja/tai omistaja. Joissakin 
      tapauksissa laitetta ei oletusarvona luoda 
      (esim. <file>/dev/video</file> ja <file>/dev/radio</file>).
    </p>
    <p>
      <package>udev</package>:ssa on asetuksia joilla näitä pulmia voidaan 
      käsitellä. Katso lisätietoja man-sivulta <manref section="8" 
      name="udev"> ja tiedostosta <file>/etc/udev</file>.
    </p>
   </sect1>
    <![ %defaulted-2.4 [

   <sect1 id="incompatible-2.4">
    <heading>
      Jotkin sovellukset eivät ehkä enää toimi 2.4-ytimellä.
    </heading>
    <p>
      Jotkin julkaisun &releasename; sovellukset eivät ehkä enää toimi 
      2.4-ytimellä, esimerkiksi koska ne tarvitsevat <tt>epoll()</tt>-tuen, 
      jota ei ole 2.4-ytimissä. Nuo sovellukset joko eivät toimi lainkaan 
      tai eivät toimi oikein ennen kuin järjestelmä käynnistetään 
      2.6-ytimellä.
    </p>
    <p>
      Eräs esimerkki on HTTP-välipalvelin <package>squid</package>.
    </p>
   </sect1>
    ]]>

   <sect1 id="window-scaling">
    <heading>
      Joihinkin verkko-osoitteisiin ei pääse TCP:llä
    </heading>
    <p>
      Ytimen versiosta 2.6.17 alkaen Linux käyttää ärhäkkäästi TCP-ikkunan 
      koon kerrointa, joka on määritelty RFC 1323:ssa. Jotkin palvelimet 
      toimivat väärin, ja ilmoittavat väärän ikkunakoon. Katso lisätietoja 
      vikailmoituksista <url id="http://bugs.debian.org/381262" 
      name="#381262"> ja <url id="http://bugs.debian.org/395066" 
      name="#395066">.
    </p>
    <p>
      Nämä pulmat voi tavallisesti kiertää kahdella tavalla: joko asetetaan 
      suurin sallittu TCP-ikkunan koko pienempään arvoon (suositellaan) tai 
      otetaan TCP-ikkunan koon kerroin pois käytöstä (ei suositella). Katso 
      esimerkkikomentoja <url 
      id="http://www.debian.org/devel/debian-installer/errata" 
      name="Debianin asentimen errata-sivulta">.
    </p>
    <p>
    </p>
   </sect1>
    <![ %i386 [

   <sect1 id="poweroff">
    <heading>
      Automaattinen sähköjen sammutus lakkaa toimimasta
    </heading>
    <p>
      Joissakin vanhahkoissa koneissa <tt>shutdown -h</tt> ei ehkä enää 
      sammuta sähköjä (ainoastaan ajaa järjestelmän alas). Näin käy koska 
      olisi käytettävä apm:ää. Lisäämällä <tt>acpi=off apm=power_off</tt> 
      ytimen komentoriville esim. <package>grub</package>:in tai 
      <package>lilo</package>:n asetustiedostoissa pitäisi korjata 
      vika. Katso lisätietoja vikailmoituksesta <url 
      id="http://bugs.debian.org/390547" name="#390547">.
    </p>
   </sect1>
    ]]>

   <sect1 id="apt-pdiff">
    <heading>
      APT:n pakettien hakemistotiedostojen päivitys hidastunut
    </heading>
    <p>
      Oletusarvona julkaisun &releasename; <prgn>apt</prgn> käyttää uutta 
      tapaa APT:n pakettien hakemistotiedostojen päivittämiseen (kun 
      suoritetaan <tt>aptitude update</tt>). Uusi tapa noutaa tiedostojen 
      muutokset (eikä kokonaisia hakemistotiedostoja) 
      <tt>pdiff</tt>-tiedostoina. Uuden tavan pitäisi käyttää vähemmän 
      kaistanleveyttä ja olla nopeampi useimmissa 
      järjestelmissä. Harmittavasti sillä voi olla myös päinvastainen 
      vaikutus eli päivitykset hidastuvat harvoin päivitettävissä 
      järjestelmissä joissa on nopea verkkoyhteys (tai asennuspalvelin hyvin 
      lähellä). Muutostiedostojen limittäminen saattaa olla aikaavievempää 
      kuin koko hakemistotiedoston noutaminen. Tämän ominaisuuden saa pois 
      käytöstä lisäämällä rivi <tt>Acquire::Pdiffs "false";</tt> 
      asetustiedostoon <file>/etc/apt/apt.conf</file>.
    </p>
    <p>
      Tämä muutos vaikuttaa eniten &debian;in <em>epävakaan</em> ja 
      <em>testattavan</em> jakelun käyttäjiin koska näissä pakettivarastot 
      muuttuvat. Julkaisun &releasename; käyttäjät huomaavat tämän 
      ominaisuuden lähinnä päivittäessään tietoturvapäivitysten 
      varastoalueen hakemistoa.
    </p>
   </sect1>
    <![ %i386 [

   <sect1 id="hp-acpi">
    <heading>
      Joidenkin HP:n läppärimallien ACPI-tuki poistettu käytöstä julkaisun 
      &releasename; ytimessä
    </heading>
    <p>
      Joissakin HP:n läppärimalleissa ACPI BIOS ei ole yhteensopiva 
      julkaisun &releasename; Linux 2.6.18 -ytimen kanssa, mikä estäisi 
      tuulettimien kierrosluvun nostamisen ja johtaisi tarpeettomaan 
      ylikuumenemiseen. Lisäksi voi käydä niin, että tuulettimet eivät 
      käynnisty lepotilan jälkeen. Näistä syistä ydin poistaa ACPI-tuen 
      käytöstä itse havaitessaan tietyt ACPI BIOS-versiot. Tunnetuja malleja 
      joihin tämä muutos vaikuttaa ovat HP nx6125, nx6120, nx6325, nc6120 ja 
      nc6000.
    </p>
    <p>
      Näiden mallien käyttäjät jotka tarvitsevat ACPI-tukea voivat asentaa 
      Linux 2.6.19 tai uudemman ytimen. Katso Debianin vikailmoituksia <url 
      id="http://bugs.debian.org/404143" name="#404143"> ja <url 
      id="http://bugs.debian.org/400488" name="#400488">, Linux Kernelin 
      vikailmoituksia <url 
      id="http://bugzilla.kernel.org/show_bug.cgi?id=5534" name="#5534"> ja 
      <url id="http://bugzilla.kernel.org/show_bug.cgi?id=7122" 
      name="#7122"> jos tarvitaan lisätietoja.
    </p>
   </sect1>
    ]]>

   <sect1 id="asynchronous-network-start">
    <heading>
      Verkon käynnistystoimien asynkronisuus voi aiheuttaa oikkuja
    </heading>
    <p>
      Järjestelmissä joissa käytetään <package>udev</package>:iä lataamaan 
      verkkoliitäntöjen ajurit saattaa käydä niin, että 
      <package>udev</package>:in tahdistamattoman toiminnan seurauksena 
      ajuri ei ole vielä ladattuna kun <prgn>/etc/init.d/networking</prgn> 
      suoritetaan järjestelmää käynnistettäessä. Vaikkakin 
      <tt>allow-hotplug</tt>:n lisääminen tiedostoon 
      <file>/etc/network/interfaces</file> (<tt>auto</tt>:n lisäksi) 
      varmistaa että verkkoliitäntä otetaan käyttöön kunhan se on 
      käytettävissä, ei ole varmaa että tämä on saatu tehtyä siihen mennessä 
      kun käynnistyksessä aloitetaan verkkopalveluiden käynnistys. Jotkut 
      palvelut saattavat toimia väärin jos verkkoliitäntä puuttuu.
    </p>
   </sect1>
    <![ %not-s390 [

   <sect1 id="wpa">
    <heading>
      Vaikeuksia käytettäessä WPA-turvattua langatonta verkkoa
    </heading>
    <p>
      Julkaisussa &oldreleasename; paketti <package>wpasupplicant</package> 
      toimi järjestelmän palveluna, jonka asetukset tehtiin tiedostoissa 
      <file>/etc/default/wpasupplicant</file> ja käyttäjän tekemässä 
      tiedostossa <file>/etc/wpasupplicant.conf</file>.
    </p>
    <p>
      Julkaisussa &releasename; on tiedosto 
      <file>/etc/init.d/wpasupplicant</file> poistettu ja Debian-paketti 
      käyttää nyt tiedostoa <file>/etc/network/interfaces</file>, samaan 
      tapaan kuin muutkin paketit kuten 
      <package>wireless-tools</package>. Tämä tarkoittaa ettei 
      <package>wpasupplicant</package> enää suoraan tarjoa 
      järjestelmäpalvelua.
    </p>
    <p>
      Katso ohjeita wpasupplicantin asetuksista tiedostosta 
      <file>/usr/share/doc/wpasupplicant/README.modes.gz</file>, jossa on 
      esimerkkejä 
      <file>/etc/network/interfaces</file>-tiedostoista. Päivitettyä tietoa 
      paketin <package>wpasupplicant</package> käytöstä Debianissa kertoo 
      <url id="http://wiki.debian.org/WPA" name="Debian Wiki">.
    </p>
   </sect1>
    ]]>

   <sect1 id="partitionenc">
    <heading>
      Pulmia tiedostonimien ei-ASCII-merkkeistä
    </heading>
    <p>
      Liitetyissä vfat-, ntfs- tai iso9660-tiedostojärjestelmissä joissa 
      tiedostojen nimissä on ei-ASCII-merkkejä tulee virheitä tiedostonimiä 
      käytettäessä, jos liitettäessä ei ole käytetty tarkenninta 
      utf8. Oireena saattaa olla seuraava virhe: " Invalid or incomplete 
      multibyte or wide character". Eräs mahdollinen ratkaisu on käyttää 
      liitosvalitsimena <tt>defaults,utf8</tt> vfat-, ntfs- ja 
      iso9660-tiedostojärjestelmille kun niiden tiedostonimissä on 
      ei-ASCII-merkkejä.
    </p>
    <p>
      Huomaa ettei Linux-ydin tue aakkoslajeja erottelematonta 
      tiedostonimien käsittelyä vfat-tiedostojärjestelmässä käytettäessä 
      tarkenninta <tt>utf8</tt>.
    </p>
   </sect1>
    <![ %amd64 [

   <sect1 id="nvidia-iommu">
    <heading>
      Tiedon tuhoutumista käytettäessä NVidian piirisarjan 
      laitteisto-IOMMU:ta
    </heading>
    <p>
      NVidian piirisarjoja käyttävissä &arch-title;-laitteissa joissa on yli 
      3 Gt muistia on havaittu vika, joka aiheuttaa satunnaista tiedon 
      tuhoutumista käytettäessä laitteista-IOMMU:ta. Linux-ytimen kehittäjät 
      ja laitevalmistajat tutkivat vielä vikaa, eikä virallista korjausta 
      ole vielä julkistettu. Käyttäjiä neuvotaan turvaamaan tietonsa 
      ottamalla pois käytöstä laitteisto-IOMMU lisäämällä ytimen 
      käynnistysvalitsimiin <tt>iommu=soft</tt> kunnes oikea korjaus löytyy.
    </p>
    <p>
      Lisää tietoja mahdollisista pulmista löytyy vikailmoituksesta <url 
      id="http://bugs.debian.org/341152" name="#341152"> ja Linuxin ytimen 
      viasta <url id="http://bugzilla.kernel.org/show_bug.cgi?id=7768" 
      name="#7768">.
    </p>
   </sect1>
    ]]>

  </sect>
   <![ %defaulted-2.4 [

  <sect id="upgrade-to-2.6">
   <heading>
     Päivitys 2.6-ytimeen
   </heading>
   <p>
     2.6-ytimissä on suuria muutoksia 2.4-ytimiin verrattuna. Moduulien 
     nimiä on muutettu ja useita ajureita on osittain tai joskus kokonaan 
     kirjoitettu uudelleen. Päivitys 2.6-ytimeen aikaisemmasta versiosta on 
     niin muodoin puuha johon on suhtauduttava vakavasti. Tämä osa pyrkii 
     tiedottamaan joistakin eteen tulevista pulmista.
   </p>
   <p>
     Jos käännät oman ytimen lähdekoodeista, varmistu paketin 
     <package>module-init-tools</package> asentumisesta ennen kuin 2.6-ydin 
     käynistetään. Tämä paketti on <package>modutils</package>:in korvaaja 
     2.6-ytimille. Jos asennat jonkin Debianin 
     <package>linux-image</package>-paketeista, tämä paketti asentuu 
     automaattisesti riippuvuuksien ansiosta.
   </p>
   <p>
     Jos käytössä on <em>LVM</em>, on asennettava myös paketti 
     <package>lvm2</package> ennen 2.6-ytimen käynnistämistä koska se ei 
     suoraan tue LVM1:stä. LVM1-levyniteitä käsitellään 
     <package>lvm2</package> yhteensopivuuskerroksen kautta (moduuli 
     dm-mod). Paketti <package>lvm10</package> voidaan jättää asennetuksi; 
     käynnistyskomentotiedostot tunnistavat mikä ydin on käytössä ja 
     suorittavat sopivan version.
   </p>
   <p>
     Jos tiedostossa <file>/etc/modules</file> on tietueita (luettelo 
     käynnistyksessä ladattavista moduuleista), huomaa joidenkin moduulien 
     nimien muuttuneen. Tiedostoon on päivitettävä moduulien uudet nimet.
   </p>
    <![ %i386 [

   <p>
     Joillakin SATA-levyohjaimilla asemaa vastaava laite ja levyosiot 
     saattavat muuttua: ennen <file>/dev/hdX</file> ja jälkeen 
     <file>/dev/sdX</file>. Jos näin käy, on tiedostoa 
     <file>/etc/fstab</file> ja käynnistyslataimen asetuksia  muokattava 
     vastaavasti. Jos muutokset tehdään väärin, järjestelmä ei käynnisty 
     oikein<footnote><p>Ydin käynnistetään mutta juuritiedostojärjestelmän 
     liittäminen epäonnistuu, virheilmoitus on <em>waiting for root file 
     system</em> ja sen jälkeen <em>unable to mount /dev/hdX ..not 
     found</em>. Korjaamiseen voidaan käyttää <prgn>initramfs</prgn>:n 
     komentotulkkia, kun ensin tunnetaan uudet laitenimet katsomalla ytimen 
     käynnistysviesteitä tai tutkimalla hakemistoa 
     <file>/dev/disk/</file>.</p></footnote>.
   </p>
    ]]><![ %ia64 [

   <p>
     HP Itanium-koneet joissa on vanha laiteohjelmisto eivät ole 
     yhteensopivia julkaisun &releasename; 2.6-ytimien kanssa. Tämä 
     tarkoittaa, että koneeseen olisi päivitettävä uusin laiteohjelmisto 
     ennen ytimen päivitystä. Tämä suositellaan tehtäväksi ennen 
     järjestelmän päivitystä, koska jos käytössä jo on 2.6-ydin päivitetään 
     se automaattisesti uusimpaan ytimeen järjestelmää päivitettäessä (katso 
     <ref id="upgrading_other">). Jos näin ei tehdä on tuloksena kone joka 
     ei käynnisty.
   </p>
    ]]>

   <p>
     Kun 2.6-ydin on asennettu, mutta ennen kuin käynnistetään uudelleen, on 
     varmistuttava pelastusmahdollisuuden olevan käytettävissä. Ensin 
     varmistutaan käynnistyslataimen asetuksissa olevan sekä uusi ydin että 
     vanha toimiva 2.4-ydin. Olisi myös katsottava, että käytettävissä on 
     "pelastuslevyke" tai "pelastusromppu", siltä varalta että 
     käynnistyslataimen väärät asetukset estävät vanhan ytimen 
     käynnistämisen.
   </p>
    <![ %not-s390 [

   <sect1 id="2.6-keyboard">
    <heading>
      Näppäimistön asetukset
    </heading>
    <p>
      2.6-ytimien ärhäköin muutos on syöttökerroksen perusteellinen 
      muutos. Muutos saa kaikki näppäimistöt näyttämään "tavallisilta" 
      PC-näppäimistöiltä. Tämä tarkoittaa, että jos nyt on valittuna muun 
      tyyppinen näppäimistö (esim. USB-MAC tai Sun-näppäimistö), ei 
      näppäimistö luultavimmin toimi kun on on käynnistetty uudella 
      2.6-ytimellä.
    </p>
    <p>
      Jos koneeseen saa SSH-yhteyden muualta, voidaan pulma ratkaista 
      komennolla <tt>dpkg-reconfigure console-data</tt>, valitsemalla 
      "Select keymap from full list" ja ottamalla käyttöön "pc"-näppäimistö.
    </p>
    <p>
      Jos tämä sattuu konsolin näppäimistölle, on luultavasti muutettava 
      myös X Window Systemin näppäimistöasetuksia. Tämä voidaan tehdä joko 
      komennolla <tt>dpkg-reconfigure xserver-xorg</tt> tai muokkaamalla 
      suoraan tiedostoa <file>/etc/X11/xorg.conf</file>. Älä unohda lukea 
      ohjeita joihin viitataan kohdasa <ref id="nownownow">.
    </p>
     <![ %i386 [

    <p>
      Tämä pulma on epätodennäköinen &arch-title;-koneissa, koska kaikkien 
      PS/2- ja useimpien USB-näppäimistöjen asetukset on jo tehty 
      "tavallisina" pc-näppäimistöinä.
    </p>
     ]]><![ %not-i386 [

    <p>
      Huomaa että käytettäessä USB-näppäimistöä, sen asetukset voivat olla 
      joko "tavallisen" PC-näppäimistön tai 
      USB-MAC-näppäimistön. Ensimmäisessä tapauksessa puheena ollut pulma ei 
      esiinny.
    </p>
     ]]>

   </sect1>
   <sect1 id="2.6-mouse">
    <heading>
      Hiiren asetukset
    </heading>
    <p>
      Taas syöttökerroksen perusteellisen muutoksen johdosta on ehkä tehtävä 
      X Window Systemin ja paketin <package>gpm</package> asetukset 
      uudelleen jos hiiri ei toimi kun on päivitetty 
      2.6-ytimeen. Todennäköisin syy on, että laite jonka kautta hiiren 
      tiedot luetaan on vaihtunut. Myös eri moduulien lataaminen saattaa 
      olla tarpeen.
    </p>
     <![ %sparc [

    <p>
      Jos X:n asetuksissa nyt on <file>/dev/sunmouse</file>, on tilalle 
      luultavasti vaihdettava <file>/dev/psaux</file>.
    </p>
     ]]>

   </sect1>
   <sect1 id="2.6-sound">
    <heading>
      Ääniasetukset
    </heading>
    <p>
      2.6-ytimille suositellaan ALSA-ääniajureita eikä vanhempia 
      OSS-ajureita. ALSA-ääniajurit ovat oletusarvona moduuleita. Jotta 
      äänet toimisivat, on äänilaitteelle sopivat ALSA-moduulit 
      ladattava. Yleensä tämä tapahtuu automaattisesti jos paketin 
      <package>alsa-base</package> lisäksi on asennettuna joko 
      <package>hotplug</package> tai <package>discover</package>. Lisäksi 
      paketti <package>alsa-base</package> pistää "mustalle listalle" 
      OSS-moduulit jotta <prgn>hotplug</prgn> tai <prgn>discover</prgn> 
      eivät lataisi niitä. Jos OSS-moduuleita on tietueina tiedostossa 
      <file>/etc/modules</file>, olisi ne poistettava.
    </p>
   </sect1>
    ]]>

  </sect>
   ]]>

  <sect id="xorg">
   <heading>
     XFree86:stä X.Orgiin siirtyminen
   </heading>
   <p>
     Siirryttäessä X.Orgiin tarvitaan muutamia rakenteellisia muutoksia. Jos 
     kaikki asennetut paketit ovat Debianista ja myös mukana julkaisussa 
     &releasename; pitäisi päivityksen sujua ongelmitta. Kokemus on 
     kuitenkin osoittanut olevan muutamia muutoksia joista on hyvä olla 
     tietoinen, koska niistä saattaa tulla pulmia päivityksen aikana.
   </p>
   <p>
     Tärkein muutos on, että hakemisto <file>/usr/X11R6/bin</file> on 
     poistettu ja on jäljellä vain symbolisena linkkinä hakemistoon 
     <file>/usr/bin</file>. Tämä tarkoittaa että hakemiston on oltava tyhjä 
     kun uudet paketit asennetaan. Uusissa paketeissa on ristiriita 
     useimpiin paketeihin jotka käyttivät hakemistoa 
     <file>/usr/X11R6/bin</file>, mutta joissakin tapauksissa on puututtava 
     päivitykseen. Muista ettei järjestelmän päivitystä pidä tehdä 
     X-istunnosta.
   </p>
   <p>
     Jos päivitys keskeytyy X.Orgin asennuksen aikana, olisi tarkistettava 
     onko tiedostoja vielä jäänyt hakemistoon 
     <file>/usr/X11R6/bin</file>. Sitten voidaan komennolla <tt>dpkg -S</tt> 
     selvittää mikä Debianin paketti asensi tuon tiedoston (jos sellainen 
     paketti on), ja poistaa nuo paketit komennolla <tt>dpkg 
     --remove</tt>. Kirjoita muistiin mitkä paketit poistit, jotta voit 
     myöhemmin asentaa korvaavat paketit. Ennen päivityksen jatkamista on 
     poistettava kaikki tiedostot hakemistosta <file>/usr/X11R6/bin</file>.
   </p>
   <p>
     Sivulta <url id="http://wiki.debian.org/Xorg69To7"> voit lukea lisää 
     yksityiskohtia ja muita asioita.
   </p>
  </sect>
  <sect id="xorg-8bit">
   <heading>
     Useissa sovelluksissa ei ole tukea 8-bittisille näytöille
   </heading>
   <p>
     Kun on päivitetty X.Orgiin ja uusimpiin kirjastoihin, lakkaavat vain 
     8-bittisiin väreihin pystyät X-päätteet toimimasta. Tämä koska Cairo 2D 
     -vektorigrafiikkakirjastossa (<package>libcairo2</package>) ei ole 
     8-bittisen pseudovärin tukea. Tätä kirjastoa käyttävät GNOME- ja 
     Xfce-työpöytäympäristöt sekä monet Gtk2+-työkalupakilla käännetyt 
     työpöytäsovellukset, kuten <package>abiword</package>.
   </p>
   <p>
     Koneet joihin tämän tiedetään vaikuttavan ovat jotkin Sun-koneet ja 
     X-päätteet joiden valmistaja on Tektronix, NCD, IBM tai SGI, sekä 
     jotkin muut etäkäytettävät X-ikkunointijärjestelmät. Nämä laitteet 
     olisi jos mahdollista vaihdettava käyttämään 16-bittisiä värejä.
   </p>
   <p>
     Lisätietoja löytyy Freedesktopin <url 
     id="https://bugs.freedesktop.org/show_bug.cgi?id=4945" name="viasta 
     #4945">.
   </p>
  </sect>
  <sect id="exim">
   <heading>
     Päivitys eximistä exim4:ään
   </heading>
   <p>
     Yksi julkaisun &releasename; myötä vanhentuneista paketeista on 
     sähköpostin välitysohjelma (MTA) <package>exim</package>, jonka korvaa 
     kokoaan uusi paketti <package>exim4</package>.
   </p>
   <p>
     <prgn>exim</prgn> (versio 3.xx) on ollut vailla yläjuoksun ylläpitäjää 
     useita vuosia, ja myös Debian on lopettanut tuon version tukemisen. Jos 
     vieläkin käytät <prgn>exim</prgn>in versiota 3.xx, päivitä 
     <package>exim</package>-asennus pakettiin <package>exim4</package> 
     itse. Koska <package>exim4</package> on mukana jo julkaisussa 
     &oldreleasename;, voidaan päivitys tehdä julkaisussa &oldreleasename; 
     ennen kuin päivitetään julkaisuun &releasename; tai kun on päivitetty 
     julkaisuun &releasename;, miten paremmin sopii. On muistettava, ettei 
     vanhaa <package>exim</package>-pakettia päivitetä ja ettei siihen tule 
     tietoturvapäivityksiä kun julkaisun &oldreleasename; tuki loppuu.
   </p>
   <p>
     Huomaa että <package>debconf</package>in asetuksista riippuu 
     esitetäänkö <package>exim4</package>:n asennuksen aikana mitään 
     kysymyksiä. Jos mitään ei kysytä, järjestelmän oletusarvo on "vain 
     paikallinen sähköpostien toimitus". Mieleisensä asetukset voi tehdä 
     komennolla <tt>dpkg-reconfigure exim4-config</tt>.
   </p>
   <p>
     <package>exim4</package>-pakettien ohjeistus Debianissa on 
     runsas. Paketin kotisivu on <url id="http://wiki.debian.org/PkgExim4"> 
     Debianin Wikissä, ja README-tiedosto löytyy osoitteesta <url 
     id="http://pkg-exim4.alioth.debian.org/README/README.Debian.html"> sekä 
     asennuspaketista.
   </p>
   <p>
     README-tiedostossa on luku paketoinnista, jossa selitetään tarjottujen 
     pakettien erot, ja siinä on luku "Updating from <prgn>Exim</prgn> 3", 
     joka neuvoo varsinaisessa siirtymisessä.
   </p>
  </sect>
  <sect id="apache2">
   <heading>
     Apache2:n päivitys
   </heading>
   <p>
     Apache on päivitetty uuteen versioon 2.2 Vaikkakaan tämän ei pitäisi 
     vaikuttaa keskivertokäyttäjään, muutamista potentiaalisista seikoista 
     kannattaa olla tietoinen.
   </p>
   <p>
     <url id="http://httpd.apache.org/docs/2.2/upgrading.html"> sisältää 
     ylävirran muutokset. Ole hyvä ja lue tämä sivu. Muistutamme erityisesti 
     seuraavista:
    <list>
     <item>
      <p>
        kaikki moduulit täytyy kääntää uudelleen
      </p>
     </item>
     <item>
      <p>
        valtuutusmoduulit on järjestelty ja nimetty uudelleen
      </p>
     </item>
     <item>
      <p>
        joitain asetuksia on uudelleennimetty
      </p>
     </item>
    </list>
   </p>
   <p>
     Debianin omiin muutoksiin lukeutuu se, että merkkijonoa SSL ei enää 
     määritetä koska oletuspaketti tukee nyt ssl:ää.
   </p>
   <p>
     Jos käytetään kokeellista ITK MPM:ää (paketista 
     <package>apache2-mpm-itk</package>), ei cgi-moduulia oteta 
     oletusarvoilla oikealla tavalla käyttöön. Se saadaan oikealla tavalla 
     käyttöön ottamalla pois käytöstä <tt>mod_cgid</tt> ja ottamalla 
     käyttöön <tt>mod_cgi</tt>:
    <example>
# cd /etc/apache2/mods-enabled
# rm cgid.conf cgid.load
# ln -s ../mods-available/cgi.load .
# /etc/init.d/apache2 force-reload
        </example>
   </p>
  </sect>
  <sect id="zope">
   <heading>
     Zopen ja Plonen  päivittäminen
   </heading>
   <p>
     Zope ja kaikki siihen liittyvät tuotteet on päivitetty. Useita 
     tuotteita myöskin jätettiin jakelusta pois (joko vanhentuneita tai 
     koska ne eivät olleet yhteensopivia uuden Zopen, CMF:n tai Plonen 
     kanssa).
   </p>
   <p>
     Valitettavasti ei ole helppoa ja takuuvarmaa tapaa monimutkaisen 
     <prgn>zope</prgn>- tai <prgn>plone</prgn>-palvelimen 
     päivittämiseen. Vaikka Plonessa on mukana siirtymistyökalu, on kokemus 
     osoittanut automaattisten siirtymisten helposti epäonnistuvan.
   </p>
   <p>
     Tästä syystä käyttäjille suositellaan järjestelmän asetusten tekoa 
     siten, että voidaan jatkaa julkaisun &oldreleasename; 
     Zope/Plone-asennuksen käyttöä julkaisun &releasename; versioiden 
     rinnalla kun siirtymistä testaillaan.
   </p>
   <p>
     Helpoin ja turvallisin tapa on kopioida julkaisun &oldreleasename; 
     järjestelmä toiselle kiintolevylle tai osiolle, ja päivittää sitten 
     vain toinen kopioista. Siten voidaan ohjelmalla <prgn>chroot</prgn> 
     avulla ajaa julkaisun &oldreleasename; versiota julkaisun &releasename; 
     rinnalla. 
   </p>
   <p>
     Ei ole mahdollista asentaa sekä vanhoja että uusia Zope/Plone-versioita 
     julkaisun &releasename; järjestelmään, osittain koska vanhoissa 
     paketeissa on riippuvuus pakettiin <package>python2.3</package> joka ei 
     voi olla asennettuna yhdessä paketin <package>python2.4</package> 
     kanssa.
   </p>
  </sect>
  <sect id="tar">
   <heading>
     Jokerimerkkien lavennus GNU tar:issa
   </heading>
   <p>
     GNU <prgn>tar</prgn>:n aikaisemmat versiot olettivat samanlaisen 
     jokerimerkkien laventamisen kuin komentotulkissa purettaessa arkistoa 
     tai näytettäessä arkiston listaus. Esimerkiksi:
    <example>
tar xf foo.tar '*.c'
        </example>
     purkaisi kaikki tiedostot joiden nimen lopussa on ".c". Tätä 
     toiminnallisuutta ei kerrottu käyttöohjeissa ja se ei ollut 
     yhteensopiva perinteisten <prgn>tar</prgn>-toteutusten kanssa. Tästä 
     syystä alkaen versiosta 1.15.91, GNU <prgn>tar</prgn> oletusarvona ei 
     enää lavenna jokerimerkkejä. Esimerkiksi yllä ollut komento 
     tarkoittaisi nyt että arkistosta puretaan tiedosto nimeltä "*.c".
   </p>
   <p>
     Katso lisätietoja tiedostosta <file>/usr/share/doc/tar/NEWS.gz</file>.
   </p>
  </sect>
  <sect id="nis">
   <heading>
     NIS ja Network Manager
   </heading>
   <p>
     Ohjelman <prgn>ypbind</prgn> julkaisun &releasename; paketissa 
     <package>nis</package> oleva versio tukee Network Manageria. Tämä tuki 
     saa <prgn>ypbind</prgn>:in ottamaan pois käytöstä NIS-asiakasohjelman 
     kun Network Manager ilmoittaa tietokoneen irroitetun verkosta. Koska 
     Network Manager tavallisesti ilmoittaa tietokoneen irroitetun verkosta 
     kun se ei ole käytössä, NIS-käyttäjien joilla on 
     NIS-asiakasjärjestelmiä pitäisi varmistua Network Managerin tuen olevan 
     pois käytöstä noissa järjestelmissä.
   </p>
   <p>
     Tämä voidaan tehdä joko poistamalla paketti 
     <package>network-manager</package> tai muokkaamalla tiedostoon 
     <file>/etc/default/nis</file> lisäys <tt>-no-dbus</tt> kohtaan 
     <tt>YPBINDARGS</tt>.
   </p>
   <p>
     Uusissa Debian-asennuksissa oletusarvo on <tt>-no-dbus</tt>, mutta näin 
     ei ollut aikaisemmissa julkaisuissa.
   </p>
  </sect>
  <sect id="php-globals">
   <heading>
     Ei-tietoturvalliset php-asetukset hylätty
   </heading>
   <p>
     Useiden vuosien ajan on tiedetty PHP:n asetuksen 
     <tt>register_globals</tt> käytössä olevan tietoturvaongelmia ja sen 
     olevan vaarallinen, ja tämän asetuksen oletusarvo ollut "pois käytöstä" 
     jo jonkin aikaa. Tämä asetus on nyt lopultakin hylätty 
     Debian-järjestelmissä koska se on liian vaarallinen. Sama pätee 
     vikoihin lisäosissa <tt>safe_mode</tt> ja <tt>open_basedir</tt>, jotka 
     ovat lisäksi ollet vailla ylläpitoa jo jonkin aikaa.
   </p>
   <p>
     Tästä julkaisusta alkaen Debianin tietoturvan tarkastusryhmä ei enää 
     tarjoa tietoturvatukea lukuisille tunnetusti tietoturvattomille 
     PHP-asetuksille. Tärkein seikka on, että asetuksen 
     <tt>register_globals</tt> käytöstä aiheutuvia pulmia ei enää käsitellä.
   </p>
   <p>
     Jos käytössä on vanhoja sovelluksia jotka vaativat asetuksen 
     <tt>register_globals</tt>, ota se käyttöön vain noiden sovellusten 
     poluilla, esim. Apachen asetustiedoston avulla. Lisätietoja on 
     tiedostossa <file>README.Debian.security</file> PHP-ohjeiden 
     hakemistossa (<file>/usr/share/doc/php4</file>, 
     <file>/usr/share/doc/php5</file>).
   </p>
  </sect>
  <sect id="mozilla-security">
   <heading>
     Mozilla-tuotteiden tietoturvatilanne
   </heading>
   <p>
     Mozilla-sovellukset <package>firefox</package> and 
     <package>thunderbird</package> (jotka on Debianissa nimetty uudelleen 
     <package>iceweasel</package> ja <package>icedove</package>) ovat 
     tärkeitä työkaluja useille käyttäjille. Valitettavasti ylävirran 
     tietoturvakäytäntö on saada käyttäjät päivittämään uuteen versioon, 
     joka on ristiriidassa Debianin käytännön kanssa, jonka mukaan suuria 
     toiminnallisia muutoksia ei toimiteta tietoturvapäivityksissä. Emme voi 
     ennustaa tätä nyt, mutta &releasename;-julkaisun elinaikana Debianin 
     tietoturvaryhmä voi joutua siihen tilanteeseen, jossa 
     Mozilla-tuotteiden tukeminen ei enää ole järkevää, ja julistaa 
     Mozilla-tuotteiden tietoturvatuen päättyneeksi. Tämä kannattaa ottaa 
     huomioon otettaessa Mozillaa käyttöön sekä harkita Debianissa 
     saatavilla olevia vaihtoehtoja mikäli tietoturvatuen puute saattaisi 
     muodostua ongelmaksi.
   </p>
  </sect>
  <sect id="kde-desktop-changes">
   <heading>
     KDE-työpöytäympäristö
   </heading>
   <p>
     Taltioiden käsittely KDE:ssä on muuttujut julkaisussa &releasename; 
     olevassa versiossa. Nyt ei käytetä <file>device:/</file> vaan 
     <file>media:/</file>. Joissakin käyttäjän asetustiedostoissa on 
     saatettu tallentaa <file>device:/</file>-linkkejä ja ne olisi 
     muokattava. Erityisesti tiedostossa 
     <file>~/.kde/share/apps/konqsidebartng/virtual_folders/services</file> 
     on tämä viite ja tiedosto voidaan turvallisesti poistaa koska sitä ei 
     luoda uusille käyttäjille.
   </p>
   <p>
     KDE-työpöytäympäristössä on tehty paljon muutoksia julkaisusta 
     &oldreleasename; julkaisuun &releasename;. Lisätietoja kertoo <url 
     id="http://www.kde.org/announcements/announce-3.5.php" name="KDE 3.5 
     Release Notes">.
   </p>
  </sect>
  <sect id="gnome-desktop-changes">
   <heading>
     GNOME-työpöytäympäristön muutokset ja tuki
   </heading>
   <p>
     Jos käytit GNOME-työpöytäympäristöä julkaisussa &oldreleasename; ei 
     joistakin Debianin julkaisussa &releasename; mukaan tulleista 
     oletusasetuksista ole hyötyä. Ääritapauksissa GNOME-työpöytäympäristö 
     ei ehkä käsittele asetuksiasi kunnolla eikä toimi oikein.
   </p>
   <p>
     Jos et ole nähnyt kauheasti vaivaa GNOME-työpöytäympäristön asetuksien 
     teossa, halunnet siirtää hakemiston <file>.gconf</file> käyttäjän 
     kotihakemistosta toiselle nimelle (esimerkiksi tiedostoksi 
     <file>.gconf.vanha</file>) jotta se luodaan uudestaan, tällä kertaa 
     julkaisun &releasename; oletusasetuksilla uutta istuntoa 
     käynnistettäessä.
   </p>
   <p>
     Julkaisussa &releasename; Debianissa ei enää ole paketteja suurimmalle 
     osalle vanhentuneesta GNOME:n versiosta 1. Joitakin paketteja on 
     säilytetty tukemaan niitä Debianin paketteja joita ei vielä ole 
     päivitetty GNOME:n versioon 2. GTK1.2:n paketit ovat yhä kokonaan 
     ylläpidettyjä.
   </p>
   <p>
     GNOME:n työpöytäympäristössä on tehty paljon muutoksia julkaisusta 
     &oldreleasename; julkaisuun &releasename;. Lisätietoja kertoo <url 
     id="http://www.gnome.org/start/2.14/notes/en/" name="GNOME 2.14 Release 
     Notes">.
   </p>
  </sect>
  <sect id="default-editor">
   <heading>
     Oletusmuokkain
   </heading>
   <p>
     Jos käytit <prgn>vim</prgn>:iä oletusmuokkaimena, voidaan 
     <prgn>nano</prgn> vaihtaa tilalle päivityksen aikana.
   </p>
   <p>
     Ylläpitäjät jotka haluavat vaihtaa oletusmuokkaimen kaikille 
     käyttäjille joutuvat päivittämään vaihtoehtojärjestelmää komennolla:
    <example>
# update-alternatives --config editor
          </example>
   </p>
   <p>
     Käyttäjä joka haluaa vaihtaa oletusmuokkainta voi määrittää 
     ympäristömuuttujan <em>EDITOR</em> lisäämällä seuraavat rivit omaan 
     profiiliinsa:
    <example>
EDITOR=vi
export EDITOR
alias editor=$EDITOR
          </example>
   </p>
  </sect>
 </chapt>
 <chapt id="moreinfo">
  <heading>
    Lisätietoja käyttöjärjestelmästä &debian;
  </heading>
  <sect id="morereading">
   <heading>
     Lisää lukemista
   </heading>
   <p>
     Tämän julkaisumuistion ja asennusoppaan lukemisen jälkeen &debian; 
     järjestelmän opiskeluun on tarjolla Debian Dokumentaatiprojekti 
     (DDP). Sen tarkoituksena on luoda korkealaatuista ohjeistusta Debianin 
     käyttäjille ja kehittäjille. Saatavilla olevia ohjeita ovat Debian 
     Reference, Debian New Maintainers Guide ja Debian FAQ, sekä useita 
     muita. Yksityiskohtaiset tiedot saatavilla olevasta aineistosta 
     löytyvät <url id="&url-ddp" name="DDP:n seittisivustosta">.
   </p>
   <p>
     Yksittäisten pakettien ohjeistus on asennettu hakemistoon 
     <file>/usr/share/doc/<var>paketti</var></file>, tähän voi kuulua 
     tekijänoikeustietoa, Debianiin liittyviä yksityiskohtia ja alkuperäisen 
     tekijän ohjeistus.
   </p>
  </sect>
  <sect id="gethelp">
   <heading>
     Apua löytyy
   </heading>
   <p>
     Apua, neuvoja ja tukea Debianin käyttäjille on saatavilla monelta 
     taholta, mutta näitä olisi käytettävä vasta kun aiheesta saatavilla 
     olevan ohjeistuksen huolellinen tutkiminen ei ole auttanut. Tässä 
     luvussa kerrotaan johdannonomaisesti uusille Debianin käyttäjille 
     mahdollisesti hyödyllisistä välineistä.
   </p>
   <sect1 id="lists">
    <heading>
      Postilistat
    </heading>
    <p>
      Debianin käyttäjille kiinnostavimmat sähköpostilistat ovat debian-user 
      (englanninkielinen) ja muut debian-user-<var>kieli</var>-listat 
      (useille muille kielille). Tietoa näistä postituslistoista ja ohjeet 
      listalle liittymiseen löytyy osoitteesta <url 
      id="&url-debian-list-archives;">. Ole hyvä ja tarkista listojen 
      arkistoista onko kysymykseesi jo vastattu ennen kuin lähetät 
      kysymyksesi listalle. Noudata myös tavanomaisia <url 
      id="http://www.cs.tut.fi/~jkorpela/jakelulistat.html" 
      name="sähköpostilistojen käyttäytymissääntöjä">.
    </p>
   </sect1>
   <sect1 id="irc">
    <heading>
      IRC
    </heading>
    <p>
      Debianilla on käyttäjien tukeen ja auttamiseen tarkoitettu IRC-kanava 
      OFTC-IRC-verkossa, joka tarjoaa tiedonvälitystä yhteistyötä tekevälle 
      vapaiden ohjelmien yhteisölle. Pääset kanavalle menemällä 
      haluamallassi IRC-asiakasohjelmalla palvelimelle &debian-irc-server; 
      ja liittymällä kanavalle #debian.
    </p>
    <p>
      Noudata kanavan ohjeistusta ja kunnioita muiden käyttäjien 
      mielipiteitä. Lisää tietoa OFTC:stä löytyy projektin <url 
      id="&url-irc-host;" name="seittisivustolta">.
    </p>
   </sect1>
  </sect>
  <sect id="bugs">
   <heading>
     Vioista ilmoittaminen
   </heading>
   <p>
     Ponnistelemme, jotta Debian GNU/Linux olisi korkealaatuinen 
     käyttöjärjestelmä, mikä ei kuitenkaan tarkoita tekemiemme 
     ohjelmapakettien olevan kokonaan vailla vikoja. Julkinen vikatietokanta 
     sopii Debianin avoimeen kehitystyöhön. Palvelemme käyttäjiämme 
     tarjoamalla kaikki tiedot ilmoitetuista vioista omassa 
     vianseurantajärjestelmässämme (BTS, Bug Tracking System), joka on 
     käytettävissä selaimella osoitteessa <url id="&url-bts;" 
     name="bugs.debian.org">.
   </p>
   <p>
     Jos löydät vian jakelusta tai sen osana olevasta paketoidusta 
     ohjelmasta, ole hyvä ja ilmoita siitä, jotta se saadaan kunnolla 
     korjattua seuraavissa versioissa. Vikailmoituksen laatijalla on oltava 
     toimiva sähköpostiosoite. Tämä siksi, että vikoja voidaan seurata ja 
     kehittävät voivat tarvittaessa pyytää lisätietoja.
   </p>
   <p>
     Vikailmoitus voidaan lähettää ohjelmalla <package>reportbug</package> 
     tai lähettämällä suoraan sähköpostia. Lisää tietoja 
     vianseurantajärjestelmästä ja sen käyttöohjeita voi lukea hakemiston 
     <file>/usr/share/doc/debian</file> ohjetiedostoista mikäli 
     <package>doc-debian</package> on asennettu tai netistä osoitteesta <url 
     id="&url-bts;" name="Vianseurantajärjestelmä">.
   </p>
  </sect>
  <sect id="contributing">
   <heading>
     Debianin avustaminen
   </heading>
   <p>
     Debianin avustamiseksi ei tarvitse olla asiantuntija. Auttamalla 
     käyttäjiä selvittämään ongelmatilanteet <url 
     id="&url-debian-list-archives;" name="postilistoilla"> tuet 
     yhteisöä. Jakelun kehittämiseen liittyvien ongelmien tunnistaminen (ja 
     mikä tärkeintä ratkaiseminen) osallistumalla kehittäjien <url 
     id="&url-debian-list-archives;" name="postilistojen"> keskusteluun on 
     myös erittäin hyödyllistä. Auta Debiania säilyttämään laatu hyvänä <url 
     id="&url-bts;" name="lähettämällä vikailmoituksia"> ja auta kehittäjiä 
     löytämään ja korjaamaan viat. Jos kirjoittaminen sujuu, haluaisit ehkä 
     avustaa aktiivisemmin auttamalla <url id="&url-ddp;" name="ohjeiden"> 
     kirjoittamisessa tai <url id="&url-debian-i18n;" name="kääntämällä"> jo 
     tehtyjä ohjeita äidinkielellesi.
   </p>
   <p>
     Jos voit panostaa enemmän aikaa, voit ylläpitää vapaiden ohjelmien 
     kokoelman osaa Debianissa. Erityisen hyödyllistä on ottaa vastuulleen 
     tai ylläpitää toivottuja lisäyksiä Debianiin, seittisivusto <url 
     id="&url-wnpp;" name="Apua tarvitsevat paketit"> tarjoaa tästä 
     yksityiskohtaisempaa tietoa. Jos mielenkiintosi kohteina ovat tietyt 
     kohderyhmät, saatat ilahtua voidessasi avustaa Debianin osaprojekteja 
     kuten <url id="&url-debian-jr;" name="Debian Jr."> ja <url 
     id="&url-debian-med;" name="Debian Med">.
   </p>
   <p>
     Jos työskentelet vapaiden ohjelmien yhteisössä millä tahansa tavalla, 
     käyttäjänä, ohjelmoijana, kirjailijana tai kääntäjänä, olet jo 
     tukemassa vapaiden ohjelmien aatetta. Avustaminen on palkitsevaa ja 
     hauskaa sekä auttaa tutustumaan uusiin kavereihin ja siitä tulee hyvä 
     olo.
   </p>
  </sect>
 </chapt>
 <appendix id="old-stuff">
  <heading>
    &oldreleasename;-järjestelmän hallinnointi
  </heading>
  <p>
    Tässä liitteessä neuvotaan miten varmasti saadaan asennettua tai 
    päivitettyä julkaisun &oldreleasename; paketteja ennen päivitystä 
    julkaisuun &releasename;. Tämän pitäisi olla tarpeellista vain 
    erikoistilanteissa.
  </p>
  <sect id="old-upgrade">
   <heading>
     &oldreleasename;-järjestelmän päivitys
   </heading>
   <p>
     Periaatteeltaan tämä ei eroa muista tekemistäsi julkaisun 
     &oldreleasename; päivityksistä. Ainoa ero on että ensin on 
     varmistuttava pakettiluettelon yhä sisältävän julkaisun 
     &oldreleasename; paketteja kuten selitetään kohdassa <ref 
     id="old-sources">.
   </p>
   <p>
     Jos päivität järjestelmän Debianin asennuspalvelinta käyttäen, se 
     päivitetään automaattisesti viimeisimpään julkaisun &oldreleasename; 
     korjauspäivitykseen.
   </p>
  </sect>
  <sect id="old-sources">
   <heading>
     Asennuspalvelimien luettelon tarkistaminen
   </heading>
   <p>
     Jos tiedostossa <file>/etc/apt/sources.list</file> on rivejä jotka 
     viittaavat jakeluun "stable", on julkaisu &releasename; käytännössä jo 
     käytössä. Jos komento <tt>apt-get update</tt> on jo suoritettu, voidaan 
     palata vanhaan tilanteeseen vaivattomasti seuraavassa selitettävällä 
     tavalla.
   </p>
   <p>
     Jos julkaisusta &releasename; on jo asennettu paketteja, ei luultavasti 
     ole järkeä asentaa enää paketteja julkaisusta  &oldreleasename;. Tässä 
     tapauksessa on tehtävä päätös jatketaanko vai ei. Pakettien 
     palauttaminen vanhaan versioon on mahdollista, mutta sitä ei käsitellä 
     tässä.
   </p>
   <p>
     Muokkaa tiedostoa <file>/etc/apt/sources.list</file> 
     mielimuokkaimellasi (käyttäjänä root) ja tarkista kaikilta riveiltä 
     joiden alussa on <tt>deb http:</tt> tai <tt>deb ftp:</tt> onko niillä 
     viittaus jakeluun "<tt>stable</tt>". Jos on, vaihda <tt>stable</tt> 
     tilalle <tt>&oldreleasename;</tt>.
   </p>
   <p>
     Jos on rivejä jotka alkavat <tt>deb file:</tt>, on sinun tarkistettava 
     onko niiden osoittamassa paikassa julkaisun &oldreleasename; vai 
     julkaisun &releasename; varastoalue.
   </p>
   <p>
     <strong>Tärkeää!</strong> Älä muuta mitään riviä jonka alussa on 
     <tt>deb cdrom:</tt>. Rivin muuttaminen tekee siitä kelvottoman ja 
     komento <prgn>apt-cdrom</prgn> on suoritettava uudelleen. Älä huoli jos 
     "cdrom"-rivillä viitataan jakeluun "<tt>unstable</tt>". Tämä on 
     normaalia vaikkakin hämäävää.
   </p>
   <p>
     Mikäli olet tehnyt muutoksia, tallenna tiedosto ja suorita
    <example>
# apt-get update
          </example>
     pakettiluettelon päivittämiseksi.
   </p>
  </sect>
 </appendix>
</book>
</debiandoc>
