<!DOCTYPE debiandoc PUBLIC "-//DebianDoc//DTD DebianDoc//EN" [
  <!entity % dynamicdata  SYSTEM "../dynamic.ent"       > %dynamicdata;
  <!entity % shareddata   SYSTEM "../release-notes.ent" > %shareddata;
  <!entity docid "$Id: release-notes.fi.sgml,v 1.3 2005-06-01 16:32:17 jseidel Exp $">
]>

<!-- original version: 1.9 -->

<debiandoc>
  <book>
  <titlepag>
    <title>&debian; &release; (`&releasename'), &arch-title; julkistusmuistio</title>
      <author>
        <name>Josip Rodin, Bob Hilliard, Adam Di Carlo, Anne Bezemer, Rob
        Bradford (current)</name><email></email>
      </author>
      <author>
        <name></name><email>debian-doc@lists.debian.org</email>
      </author>
      <author>
        <name>Suomennos Tapio Lehtonen</name>
        <email>tale@debian.org</email>
      </author>
      <version>&docid;</version>
    </titlepag>
    <toc detail="sect1">
      <chapt id="about"><heading>Mitä uutta julkistusmuistiossa</heading>
       
        <p>[Tämän kirjoitelman uusin versio on aina saatavilla osoitteesta
        <url id="&url-release-notes;">. Jos versiosi on enemmän kuin 
        kuukauden ikäinen, halunnet noutaa uusimman version.]</p>

        <p>Huomaa aikaisemmissa julkistusmuistion painoksissa neuvotun myös
        järjestelmän päivitys vanhoista versioista. Tämä kuitenkin mutkisti
        ohjeistusta, joten päätimme käsitellä vain päivityksiä &debian;
        versiosta 3.0 ('woody'). Jos on päivitettävä vanhemmasta versiosta,
        ole hyvä ja tutustu julkistusmuistion aikaisempiin painoksiin.</p>

      </chapt>
      <chapt id="whats-new"><heading>Mitä uutta &debian; versiossa &release;</heading>

        <p>Tuettujen arkkitehtuurien luettelo ei ole muuttunut
        aikaisemmasta julkaisusta &debian; 3.0 ('woody). Tässä luetellaan
        kaikki tämän julkistuksen arkkitehtuurit.</p>

        <p>
          <list>
            <item><p>Intel x86 ('i386')</p></item>
            <item><p>Motorola 680x0 ('m68k')</p></item>
            <item><p>Alpha ('alpha')</p></item>
            <item><p>SPARC ('sparc')</p></item>
            <item><p>PowerPC ('powerpc')</p></item>
            <item><p>ARM ('arm')</p></item>
            <item><p>MIPS ('mips' (Big endian) ja 'mipsel' (Little endian))</p></item>
            <item><p>Intel Itanium ('ia64')</p></item>
            <item><p>HP PA-RISC ('hppa')</p></item>
            <item><p>S/390 ('s390')</p></item>
          </list>
        </p>

<![ %not-i386 [ 
          
<!-- i386 doesn't have a port page - or do they now? -->

          <p>Lisätietoja siirroksen tilasta ja siirroskohtaisia tietoja voi
          lukea sivulta <url id="&url-ports;" name="Debian port web
          pages">.</p>

]]>

<![ %hppa %s390 %mips %mipsel %ia64 [ 

          <p>Tämä on vasta toinen virallinen &debian; julkistus
          &arch-title; arkkitehtuurille. Mielestämme se on osoittautunut
          julkistamisen arvoiseksi. Koska se ei ole ollut käytössä 
          (eikä siis käyttäjien testattavana) yhtä laajalti kuin muiden
          arkkitehtuurien versiot, saatat törmätä vikoihin. Käytä <url
          id="&url-bts;" name="vianseurantajärjestelmäämme">
          vikailmoituksiin; muista mainita vian olevan &architecture;
          -alustalla. </p>

]]>

          <p>&debian; &release; arkkitehtuurille &arch-title; käyttää
          ytimen versiota &kernelversion;.</p>

          <p>&debian; &release; for the &arch-title; architecture ships with
          kernel version &kernelversion;.</p>
<![ %available-2.6 [
          
          <p>Arkkitehtuurille &arch-title; on myös 2.6-ydin saatavilla,
          ytimen versio on &kernelversion-2.6;. Huomaa Debianin
          2.6.8-ytimien asennuspakettien sisältävän 2.6.8.1 ytimen
          ja valikoiman muita lisäyksiä.</p>

]]>
        
        <sect id="newinst"><heading>Mitä uutta asennusjärjestelmässä?</heading>

          <p>Vanha &debian; asennusjärjestelmä on korvattu kokonaan uudella
          asennusjärjestelmällä <prgn>debian-installer</prgn>. Uusi
          asennusjärjestelmä on suunniteltu modulaariseksi ja on siis
          kehitetty laajennettavaksi. 

          <p>Asennusjärjestelmän uusia ominaisuuksia ovat muun muassa
          käynnistäminen USB flash-muisteilta, mahdollisuus
          valita <prgn>aptitude</prgn>:n pakettien asentamiseksi
          järjestelmän ensimmäisellä käynnistyskerralla ja tuki
          <prgn>XFS</prgn>-tiedostojärjestelmälle ja <prgn>LVM</prgn>
          (levyniteiden hallintatyökalu).</p>

          <p>Tarkemmin uudesta Debianin asennusjärjestelmästä kerrotaan
          Debian Installation Guidessa joka on mukana ensimmäisellä
          rompulla tai osoitteessa <url
          id="&url-install-manual;">. Installation Guiden liite B, <url
          id="http://koti.mbnet.fi/~tlehtone/Asennus-howto/apb.html"
          name="Asennus-Howto">, on suomennettu.</p>

<![ %i386 [ 

          <p>Asennettavia ytimiä on saatavilla eri "vivahteina". Jokainen
          vivahde tukee erilaista laitteistojoukkoa. &debian; versiossa
          &release; arkkitehtuurille &arch-title; saatavilla olevat
          vivahteet ovat:</p>

          <p>
            <taglist>
              <tag>vanilla</tag>
              <item><p>Debianin vakioydin. Tämä sisältää melkein kaikki
              Linuxin tukemat ajurit moduuleina. Mukana on ajurit
              verkkolaitteille, SCSI-laitteille, äänikorteille
              Video4Linux-laitteille jne. "Vanilla" vivahde sisältää yhden
              boot, yhden root ja kaksi ajurilevykettä. </p></item>

              <tag>speakup</tag>
              <item><p>Tämä on melkein sama kuin yllä oleva vanilla-ydin,
              mutta braille-näyttöjen tuki on mukana. Luettelo kaikista
              tuetuista malleista löytyy brlttyn ohjeista. Tämä vivahde
              sisältää yhden boot, yhden root ja yhden ajurilevykkeen
              levyotokset. </p></item>

            </taglist>
<!-- FJP: I feel the info about floppies should be removed from this table as
          floppies are no longer the most used installation method. -->

          <p>Ytimen asetukset sisältävät tiedostot näille vivahteille
          löytyvät kunkin hakemistosta tiedostosta nimeltä
          "kernel-config".</p>


]]>

<!-- FJP: Maybe a short description of available installation methods could be
          added here: floppy, CD (netinst/business-card/full set), netboot,
          hd-media, USB-stick. -->

<![ %available-2.6 [ 

          <p>2.6-ydintä käyttävä asennin on saatavilla arkkitehtuurille
          &arch-title;. Lisätietoa sen käytöstä on luettavissa installation
          guidessa.</p>

]]>          
           
        </sect>
        <sect id="newdistro"><heading>Mitä uutta jakelussa?</heading> 
           
           <p>Useita aptin edustaohjelmia on kehitelty woodyn
           julkaisusyklin aikana korvaamaan vanhentuva, paljon parjattu
           mutta yhä suosittu <package>dselect</package>. Kiinnostuneet
           käyttäjät tutkailkoon paketteja <package>aptitude</package> ja
           <package>synaptic</package>. </p>

           <p>Tämä &debian; versio sisältää paljon parannetun XFree86
           version 4.3, jossa on laajempi laitteistotuki, parempi
           laitteiston tunnistus ja parannettu tuki Xineraman ja
           3D-kiihdytyksen tapaisille kehittyneille teknologioille.</p>

           <p>&debian; on tässä versiossa suuntautunut työpöytäkäyttöön
           enemmän kuin koskaan aiemmin, mukana on nyt GNOME 2.8 ja KDE
           3.2. Mukana on myös ensimmäistä kertaa kokonainen
           toimisto-ohjelmisto Openoffice.Org 1.1. Muita version mukana
           tulevia työkaluohjelmia ovat Evolution työryhmäohjelma ja GAIM
           pikaviestin. </p>

           <p>Virallinen &debian; jakelu muodostuu nyt kolmestatoista 
           asennusrompusta ja samasta määrästä lähdekoodiromppuja. Myös
           DVD-versio jakelusta on nyt saatavilla. </p></sect>
      
      </chapt>

      <chapt id="installing"><heading>Uudet asennukset</heading>

        <p>Lue installation manual jos teet uuden
        Debian-asennuksen. Käsikirja on saatavilla virallisella rompulla:

        <example>        
          /dists/&releasename;/main/disks-&architecture;/current/doc/install.txt
          (or .html)
        
        </example></p>

        <p>tai Internetistä osoitteesta: <url id="&url-install-manual;">.</p>

        <p>Vanha &debian; asennusjärjestelmä nimeltä
        <prgn>boot-floppies</prgn> on korvattu uudella modulaarisella ja
        monipuolisemmalla asennusjärjestelmällä nimeltä
        <prgn>debian-installer</prgn>.</p>
         

      </chapt>


      <chapt id="upgrading"><heading>Päivitys aikaisemmista versioista</heading>

<!-- For doc-writers' convenience:
Debian Supported
release: architectures:

1.3.1 or less i386
2.0           i386,m68k
2.1	      i386,m68k,alpha,sparc
2.2	      i386,m68k,alpha,sparc,powerpc,arm
3.0	        + hppa s390 mips mipsel ia64
-->

        <sect id="information"><heading>Detailed Changes to the System</heading>

<!-- Controversial, disabled for now, please translate though
        <sect1 id="german-quotes"><heading>Vaikeuksia saksalaisten
        lainausmerkkien kanssa</heading>
        
          <p>Saksalaistyylisten kielien maa-asetustot (esim. de_DE@euro)
          käyttävät valitettavasti huonolta näyttäviä aloittavia
          lainausmerkkejä. Olemme pitäneet tämän ennallaan jotta
          yhteensopivuus muiden Linux-jakeluiden kanssa säilyy, ja toivomme
          tämän tulevan korjatuksi tulevaisuudessa. Suosittelemme
          siirtymistä UTF-8 maa-asetustoon (esim. de_DE@euro.UTF-8), joka
          tukee saksankieltä täysin oikeanlaisten lainausmerkkien kera ja
          tukee paremmin muita kieliä Unicoden käytön ansiosta. 

          <p>Vaihda järjestelmän käyttämä maa-asetusta komennolla:
          <example>dpkg-reconfigure locales</example></p>

-->  
       	<sect1 id="syntax"><heading>Tärkeitä ohjelman toiminnan
       	muutoksia</heading>

          <p>Debian pyrkii välttämään alkuperäisen ohjelmoijan koodin
          muuttamista, minkä vuoksi muutokset alkuperäisessä ohjelmassa
          ovat mukana myös &debian;-versiossa. Tämä saattaa aiheuttaa
          ohjelman toiminnan muuttumisen &debian;:in versioiden
          välillä.</p>

          <p><em>Mistään muutoksista ei ole vielä ilmoitettu.</em></p>

        </sect1>
        
        </sect>
        <sect id="backup"><heading>Valmistautuminen päivitykseen</heading>

          <p>Ennen järjestelmän päivitystä on erittäin suositeltavaa
          varmuuskopioida kaikki, tai kopioida talteen ainakin ne tiedostot
          tai asetukset joita ei ole varaa menettää. Päivitystyökalut ja
          -prosessi ovat sangen luotettavia, mutta laitteistovika
          päivityksen aikana saattaa rikkoa järjestelmän pahasti.</p>

          <p>Tärkeitä kopioitavia ovat hakemistopuut <file>/etc</file>,
          <file>/var/lib/dpkg</file> ja komennon <tt>dpkg --get-selections
          \*</tt> tuloste.</p>

          <p>On hyvä kertoa etukäteen kaikille käyttäjille suunnitelluista
          päivityksistä, vaikkakin SSH:n kautta järjestelmää käyttävät
          eivät huomanne paljoakaan päivityksesta ja saattavat haluta
          työskennellä päivityksen aikana. Haluttaessa varautua kaikkeen
          kopioidaan tai irroitetaan käyttäjien osiot (<file>/home</file>)
          ennen päivitystä. Normaalisti ei uudelleenkäynnistys ole
          välttämätön.</p>

          <p>Jakelun päivitys olisi tehtävä joko paikallisesti
          merkkipohjaisesta virtuaalikonsolista (tai suoraan kytketystä
          sarjapäätteestä) tai etäkäyttönä <prgn/ssh/:n kautta.

          <p><em/Tärkeää/: Päivitystä <em/ei/ pidä tehdä pääteohjelmia
          <prgn/telnet/, <prgn/rlogin/ tai <prgn/rsh/ käyttäen, tai
          X-istunnosta jota hallinnoi <prgn/xdm/, <prgn/gdm/ tai <prgn/kdm/
          koneella jota päivitetään. Koska kaikki nämä palvelut voidaan
          sammuttaa päivityksen aikana voi seurauksena olla
          <em/käyttökelvoton/ järjestelmä joka on vain puoliksi
          päivitetty.</p>

	<sect1><heading>APT-pinning pois käytöstä</heading>

          <p>Mikäli APTin asetukset on tehty asentamaan tiettyjä paketteja
          muusta kuin vakaasta jakelusta (esim. testattavasta), on ehkä
          muutettava APT-pinningin asetuksia (tiedostossa
          <file>/etc/apt/apt.conf</file>) jotta voidaan päivittää paketit
          siihen version joka on uudessa vakaassa versiossa. Lisätietoa
          APT-pinningistä kertoo <manref name="apt_preferences"
          section="5">.</p>
        
<!-- FJP: Couldn't the advise to hold such packages prevent the upgrade of e.g.
          libc6 if the package depends on the old version! -->
        </sect1>


        <sect1><heading>Pakettien tilan tarkistus</heading>

          <p>On suositeltavaa tarkistaa kaikkien pakettien olevan
          päivityskelpoisia ennen päivitystä, riippumatta
          päivitystavasta. Seuraava komento näyttää paketit joiden tila on
          Half-Installed tai Failed-Config, tai mikä tahansa virhetila.

          <example>
        
            # dpkg --audit
          
          </example></p>
 
          <p>Voit tutkia järjestelmän kaikkien pakettien tilan myös
          ohjelmilla <prgn/dselect/, <prgn/aptitude/, tai komennoilla

          <example>
         
            # dpkg -l | pager 

          </example></p>

          <p>tai

          <example>
         
            # dpkg --get-selections &gt; ~/curr-pkgs.txt

          </example></p>

          <p>On tarkoituksenmukaista poistaa kaikki kiinnitykset ennen
          päivitystä. Jos jokin päivitykselle oleellinen paketti on
          kiinnitetty eli tilassa hold, päivitys epäonnistuu. Kiinnitetyt
          paketit voi etsiä komennolla

          <example>
         
            # dpkg --audit
       
          </example></p>

          <p>Jos pakettia on paikallisesti muutettu ja käännetty uudelleen,
          eikä sen nimeä ole muutettu tai versioon lisätty epookkia, on se
          kiinnitettävä jotta sitä ei päivitettäisi. Paketti kiinnitetään
          esimerkiksi komennolla <prgn/aptitude/, tähän tapaan:

      	  <example>
      	  aptitude hold | unhold &lt;package&gt;
      	  </example>
    	    </p>
        </sect1>

        <sect1><heading>SSH-käyttäjille huomioitavaa</heading>

          <p>Kaupallinen SSH paketissa <package/ssh/ ennen versiota 2.2 tai
          paketissa <package/ssh-nonfree/ versiossa 2.2 on korvattu
          DFSG-vapaalla paketilla <package/ssh/ (OpenSSH) tässä
          versiossa. Kaupallinen SSH-ohjelmisto ei ole enää
          mukana. Paketissa <package/ssh/ on mukana Debconf-kysymys joka
          muokkaa asetukset OpenSSH:n käyttämään muotoon.</p>

        <sect1><heading>Hakemistot joihin on ehkä kiinnitettävä huomiota</heading>

          <p>Hakemiston <file>/etc/rcS.d</file> on oltava olemassa ennen
          päivitystä; paketin <package/libc6/ asennus epäonnistuu jos
          hakemistoa ei ole.</p>

          <p>Hakemisto <file>/usr/share/doc/</file> (jos se on olemassa) ei
          saisi olla symbolinen linkki (esim. hakemistoon
          <file>/usr/doc</file>), koska se rikkoo muutamia
          paketteja. Kuitenkin symbolinen linkki <file>/usr/doc</file>
          hakemistoon <file>/usr/share/doc</file> on sallittu. Jos käytät
          symbolista linkki, huomaa lukuisten ilmoitusten
          <file>/usr/doc</file> -hakemistoista joita ei voi poistaa olevan
          normaaleja, ja voit turvallisesti olla välittämättä
          niistä. </p></sect1></sect>


        <sect id="upgrade-process"><heading>APT-lähteiden valmistelu</heading>

          <p>Suositeltu tapa on päivittää ohjelmalla <prgn/aptitude/ kuten
          seuraavassa neuvotaan. Sisäänrakennettu riippuvuuksien tutkiminen
          mahdollistaa sujuvat päivitykset ja helpot asennukset.</p>

          <p>Kaikki pakettien asennustoiminnot on suoritettava pääkäyttäjän
          oikeuksilla, joko kirjaudutaan sisään käyttäjänä root tai
          käytetään <prgn/su/ tai <prgn/sudo/ tarvittavien oikeuksien
          saamiseen.</p>

          <p>Ennen päivityksen käynnistämistä on <package/apt/:in
          pakettivarastojen asetukset tehtävä tiedostoon
          <file>/etc/apt/sources.list</file>.</p>

          <p><package/apt/ huomioi kaikki paketit jotka löytyvät jonkin
          "<tt>deb</tt>"-rivin kautta, ja asentaa paketin jolla on suurin
          versionumero, asettaen etusijalle ensimmäisenä olleen rivin (jos
          on useita pakettivarastoja, kirjoitetaan tiedostoon ensimmäiseksi
          koneen oma kiintolevy, sitten romput, sitten
          HTTP/FTP-asennuspalvelimet).</p>

         <sect1 id="network"><heading>APTin Internetlähteiden lisäys</heading>

           <p>Oletusasetukset on tehty noutamaan asennuspaketit Debianin
           Internetissä olevilta keskuspalvelimilta, mutta kannattaa
           muokata tiedostoa <file>/etc/apt/sources.list</file> käyttämään
           muita asennuspalvelimia. Kannattaa käyttää palvelinta joka on
           verkossa lähinnä. </p>

<!-- FJP: Why is 'default configuration' relevant here? We are talking about
          upgrading existing installations; we really have no idea what
          apt-sources users will have set up here (maybe just a Woody CD-set).
          Note: D-I sets the default configuration to a mirror based on
          the selected country and not the 'main' servers. -->

           <p>Debianin HTTP ja FTP-asennuspalvelimien osoitteet löytyvät
           osoitteesta <url id="&url-debian-mirrors;"> (katso lukua "Full
           list of mirrors"). HTTP-asennuspalvelimet ovat yleensä nopeampia
           kuin FTP-palvelimet.</p>

<!-- FJP: 'Otherwise' does not refer back to anything here, so I deleted it
          (unless the intention was to refer to local intr_a_net HTTP
          servers in the previous para). -->

           <p>Oletetaan esimerkiksi lähimmän Debianin asennuspalvelimen
           olevan <tt>&url-debian-mirror-eg;/</tt>. Kun palvelinta
           tutkitaan selaimella tai ftp-ohjelmalla, huomataan
           jakeluhakemistojen olevan järjestetyn seuraavasti: 

           <example>
           
             &url-debian-mirror-eg;/dists/stable/main/binary-&architecture;/...
             &url-debian-mirror-eg;/dists/stable/contrib/binary-&architecture;/...
       
           </example></p>

           <p>Tätä asennuspalvelinta käytetään <prgn/apt/-järjestelmällä
           lisäämällä seuraava rivi tiedostoon <file/sources.list/:

           <example>
           
             deb &url-debian-mirror-eg; &releasename; main contrib
 
           </example></p>

           <p>Meta: Mitä toi alkulause tarkoittaa? Version nimen jälkeen
           tulevat jakeluiden nimet laventavat hakupolun viittaamaan
           useisiin hakemistoihin.</p>

           <p>Note that the `<tt>dists</tt>' is added implicitly, and the
           arguments after the release name are used to expand the path into
           multiple directories.</p>

           <p>Lisättyäsi uudet lähteet poista aikaisemmat "<tt/deb/"-rivit
           käytöstä tiedostossa <file/sources.list/ lisäämällä
           risuaitamerkki (<tt/#/) rivin alkuun.</p>

           <p>Kaikki asennuksessa tarvittavat verkosta noudettavat paketit
           talletetaan hakemistoon <file>/var/cache/apt/archives</file> (ja
           noutamisen aikana alihakemistoon <file>partial/</file>), joten
           on varmistettuttava hakemistossa olevan riittävästi tilaa ennen
           kuin asennus aloitetaan. Kohtuullisen laaja Debian-asennus
           tarvitsee ainakin 300Mt noudettavia tiedostoja.</p>

         </sect1>

         <sect1 id="localmirror"><heading>APT paikallisten lähteiden lisäys</heading>

           <p>HTTP- tai FTP-asennuspalvelimien käyttämisen sijasta voi
           tiedostoa <file>/etc/apt/sources.list</file> muokata käyttämään
           pakettivarastoa paikallisella levyllä (mahdollisesti
           NFS-levyä).</p>

           <p>Pakettivarasto voi olla esimerkiksi hakemistopuussa
           <file>/var/ftp/debian/</file> sisältäen jakeluhakemistot
           seuraavasti:

           <example>
           
             /var/ftp/debian/dists/stable/main/binary-&architecture;/...
             /var/ftp/debian/dists/stable/contrib/binary-&architecture;/...
           
           </example></p>

           <p>Tätä käytetään <prgn/apt/-järjestelmällä lisäämällä
           tiedostoon <file/sources.list/ tämä rivi:

           <example>
             deb file:/var/ftp/debian &releasename; main contrib
           </example></p>

           <p>Meta: Mitä toi alkulause tarkoittaa? Version nimen jälkeen
           tulevat jakeluiden nimet laventavat hakupolun viittaamaan
           useisiin hakemistoihin.</p>

           <p>Lisättyäsi uudet lähteet poista aikaisemmat "<tt/deb/"-rivit
           käytöstä tiedostossa <file/sources.list/ lisäämällä
           risuaitamerkki (<tt/#/) rivin alkuun.</p></sect1>

        <sect1 id="cdroms"><heading>APT romppulähteiden lisäys</heading>

<!-- FJP: Are these instructions also valid for adding DVD's? -->

          <p>Tarkista aikaisemmista ohjeista onko uusin versio paketeista
          <package/apt/ ja <package/dpkg/ asennettava ensin.</p>
<!-- FJP: See above [...], as described above is a bit double.
          Also, I don't think the need to update the package tools and how
          to do that has been descibed 'above' yet. -->

          <p>Haluttaessa käyttää <em/vain/ romppuja, poistetaan
          "<tt/deb/"-rivit tiedostosta <file>/etc/apt/sources.list</file>
          käytöstä lisäämällä risuaitamerkki (<tt/#/) rivin alkuun.</p> 

          <p>Varmistu tiedostossa <file>/etc/fstab</file> olevan rivi
          liittämään romppuasema liitoskohtaan <file>/cdrom</file>
          (<prgn/apt-cdrom/ vaatii liitoskohdan olevan nimenomaan
          <file>/cdrom</file>). Jos esimerkiksi laite <file>/dev/hdc</file>
          on romppuasema, tiedostossa <file>/etc/fstab</file> pitäisi
          olla tämän kaltainen rivi:

          <example>
             
             /dev/hdc /cdrom auto defaults,noauto,ro 0 0
             
          </example></p>

          <p>Huomaa ettei neljännen kentän sanojen
          <tt>defaults,noauto,ro</tt> välissä saa olla <em/yhtään
          välilyöntiä/.</p>

          <p>Toimivuudesta varmistutaan asettamalla romppu asemaan ja
          suorittamalla komennot

          <example>
 
            mount /cdrom (liittää rompun liitoskohtaan)
            ls -alF /cdrom (pitäisi näyttää rompun juurihakemisto)
            umount /cdrom (irrottaa rompun)
     
          </example></p>

          <p>Suorita seuraavaksi:

          <example>
            apt-cdrom add
          </example></p>

          <p>jokaiselle käytettävälle Debianin asennusrompulle, jotta APT:n
          rompputietokantaan tulee kaikkien romppujen tiedot.</p>

        </sect1>
        </sect>

	<sect id="upgradingpackages"><heading>Pakettien päivitys</heading>

          <p>Suositeltu työkalu &debian; versiopäivityksiin on
          paketinhallintatyökalu <prgn>aptitude</prgn>. Tämä työkalu tekee
          pakettien asennuksia turvallisemmin kuin käytettäessä ohjelmaa
          <prgn>apt-get</prgn> suoraan.</p>

          <p>On muistettava liittää kaikki tarvittavat tiedostojärjestelmät
          (erityisesti juuri- ja <file>/usr</file>-tiedostojärjestelmät)
          luku- ja kirjoitustilassa, komennolla kuten 

          <example>
            mount -o remount,rw /<var>liitoskohta</var>
          </example></p>

          <p>Seuraavaksi varmistetaan, että APT:n lähteiden luettelossa
          (tiedostossa <file>/etc/apt/sources.list</file>) viitataan
          vakaaseen jakeluun <tt>"stable"</tt> eikä siihen viitata
          koodinimellä (esim. <tt>&oldreleasename;</tt>).</p>

          <p>Ohjelman <prgn>/usr/bin/script</prgn> käyttöä tallettamaan
          loki päivityksestä suositellaan vakavasti. Jos ilmenee vikoja, on
          tapahtumista tallessa loki, josta tarvittaessa saadaan täsmällistä
          tietoa vikailmoitukseen. Lokin talletus käynnistetään komennolla

          <example>
            script -a ~/upgrade-to-sarge.typescript
          </example></p>

          <p>Älä talleta lokitiedostoa tilapäisten tiedostojen hakemistoon,
          kuten <file>/tmp</file> tai <file>/var/tmp</file> (näistä
          hakemistoista tiedostot saatetaan poistaa päivityksen aikana tai
          käynnistyksessä).</p>

          <p>Seuraavaksi on paketti <package>aptitude</package>
          asennettava. Tämä tehdään komennolla</p>

	  <p><example>
	  apt-get install aptitude
	  </example></p>

          <p>Kunhan APT:n asetukset on tehty kuten yllä kerrottiin, asentaa
          tämä &releasename; version paketista <prgn>aptitude</prgn>.</p> 
<!-- FJP: Will it really? Haven't we have just instructed users to point
          everything to the new release? -->

          <p>Ensin <prgn>aptitude</prgn>:n on noudettava luettelo uuden
          version uusista ja päivitetyistä paketeista. Tämä tehdään
          komentamalla:</p> 

	  <p><example>
	  aptitude update
	  </example></p>

          <p>Kun <prgn>aptitude</prgn> on kerännyt tiedot kaikista
          saatavilla olevista paketeista, on järjestelmä melkein valmis
          päivitettäväksi kokonaan.</p>
<!-- FJP: Why 'almost'? The next command will perform the upgrade.
          'Almost' implies the user needs to do something else first... -->

	  <p><example>
	  aptitude -f --with-suggests --with-recommends dist-upgrade
	  </example></p>

          <p>Tämä päivittää järjestelmän kokonaan, t.s. asentaa uusimman
          saatavilla olevan version kaikista paketeista, ja ratkaisee
          kaikki mahdolliset riippuvuuksien muutokset eri versioiden
          pakettien välillä. Tarvittaessa asennetaan joitakin uusia
          paketteja (tavallisesti uusia kirjastojen versioita tai
          uudelleennimettyjä paketteja), ja poistetaan kaikki ristiriitoja
          aiheuttavat vanhentuneet paketit (kuten
          <package>console-tools-libs</package>).</p>

          <p>Päivitettäessa rompuilta pyydetään asettamaan tietyt romput
          asemaan useissa kohdissa päivityksen aikana. Joudut mahdollisesti
          asettamaan saman rompun monta kertaa; tämä johtuu riippuvuuksista
          eri rompuilla olevien pakettien välillä.</p>

          <p>Asennettujen pakettien uudet versiot joita ei voi asentaa
          muuttamatta toisen paketin asennusta jätetään vanhaan versioonsa
          (tilana näytetään "pysytetty "). Tämä voidaan ratkaista joko
          valitsemalla <prgn>aptitude</prgn>:lla nämä paketit
          asennettaviksi tai suorittamalla <tt>aptitude -f install
          &lt;paketti&gt;</tt>. </p>

          <p>Valitsin <tt/--fix-broken/ (tai vain <tt/-f/) saa
          <package/apt/:n yrittämään puuttuvien riippuvuuksien
          korjaamista. <package/apt/ ei salli puuttuvia pakettien
          riippuvuuksia järjestelmässä.</p>

        <sect1 id="trouble"><heading>Mahdollisia pulmia päivityksen aikana tai jälkeen</heading>

          <p>Toisinaan on välttämätöntä ottaa käyttöön APT::Force-LoopBreak
          -valitsin APT:ssa jotta voidaan tilapäisesti poistaa välttämätön
          paketti jonka poistamisesta muodostuu Conflicts/Pre-Depends
          -silmukka. <prgn/aptitude/ hälyttää tästä ja keskeyttää
          päivityksen. Tämä voidaan kiertää antamalla <tt>-o
          APT::Force-LoopBreak=1</tt> <prgn/aptitude/:n komentorivillä.</p>

          <p>Järjestelmän riippuvuudet voivat olla niin pahasti rikki, että
          tarvitaan käyttäjän toimenpiteitä. Tavallisesti pitää käyttää
          ohjelmaa <prgn/aptitude/ tai 

          <example>
          
            dpkg --remove <var>packagename</var>
          
          </example></p>

          <p>poistamaan joitakin kiusaa tekeviä paketteja, tai 
 
          <example>

            aptitude --fix-broken install
            dpkg --configure --pending

          </example></p>

          <p>Pahimmassa tapauksessa voidaan joutua pakottamaan
          uudelleenasennus tämän tapaisella komennolla:

          <example>

            dpkg --install /path/to/packagename.deb

          </example></p>

          <p>Korjausten jälkeen pitäisi päivitystä voida jatkaa aiemmin
          mainituilla <tt/dist-upgrade/ -komennoilla.</p>

          <p>Päivityksen aikana kysytään useiden pakettien asetusten teosta
          tai asetusten muuttamisesta. Kun kysytään korvataanko
          hakemistoissa <file>/etc/init.d</file> tai
          <file>/etc/terminfo</file> oleva tiedosto tai
          <file>/etc/manpath.config</file> tiedosto ylläpitäjän versiolla,
          on tavallisesti tarpeen vastata "kyllä" jotta varmistetaan
          järjestelmän yhtenäisyys. Vanhat versiot voi aina ottaa takaisin
          käyttöön, sillä ne talltetaan sukunimen <tt/.dpkg-old/ kera. </p>

          <p>Jos et ole varma mitä tehdä, kirjoita muistiin paketin tai
          tiedoston nimi ja korjaa myöhemmin. Voit etsiä lokitiedostosta
          uudestaan näkyviin mitä ruudulla luki päivityksen
          aikana.</p></sect1>

        <sect1 id="nownownow"><heading>Muistettavaa ennen seuraavaa käynnistystä</heading>

          <p>Kun <tt>aptitude dist-upgrade</tt> on valmis, "virallinen"
          päivitys on suoritettu, mutta on joitain muita tehtäviä joista on
          huolehdittava <em/ennen/ seuraavaa käynnistystä.</p>

          <p>Lue tiedostosta
          <file>/usr/share/doc/xfree86-common/README.Debian-upgrade.gz</file>
          lisätietoja X Window -järjestelmän pakettien päivityksestä. Tämä
          on tarpeellista kaikkien aikaisempien Debianin versioiden
          käyttäjille. Yhteenvetona: tuo tiedosto pitää lukea.</p>

        <sect2 id="newkernel"><heading>Ytimen päivittäminen</heading>

          <p>Huomaa, että yllä tehdyt toimenpiteet <em/eivät/ päivittäneet
          Linux-ydintä. Haluat ehkä tehdä sen itse, joko asentamalla jonkin
          <package/kernel-image-*/ -paketin tai kääntämällä oman ytimen
          lähdekoodeista.</p> 
          
	  <![ %available-2.6 [

         <p>&debian; toimitetaan ytimellä &kernelversion; joka on
         2.4-sarjasta, vanhasta vakaasta Linux-ytimien sarjasta. Haluat
         ehkä käyttää 2.6-sarjan ydintä paremman laitetuen tai parantuneen
         suorityskyvyn vuoksi.</p>

]]>
         
         <p>Ydintä päivitettäessä on ensimmäiseksi valittava
         prosessoriarkkitehtuurille parhaiten sopiva ydin. Luettelon
         asennettavissa olevista ytimistä saa komennolla

<!-- FJP: s/subarchitecture/subarchitecture and processor/ ??? -->

         <example>
           
           apt-cache search ^kernel-image

         </example></p>
         
         <p>Olisi käytettävä komentoa <tt/aptitude install/ sen
         asentamiseen. Kun tämä uusi ydin on asennettu, olisi järjestelmä
         käynnistettävä ensimmäisen tilaisuuden tullen jotta sen edut
         saadaan käyttöön.</p>

         <p>Seikkailunhaluisemmille on tarjolla helppo &debian; menetelmä
         oman räätälöidyn ytimen kääntämiseen. Asennetaan työkalukokoelma
         <package>kernel-package</package> ja seurataan ohjeita tiedostossa
         <file>/usr/share/doc/kernel-package</file>.</p>

         </sect2></sect1></sect>

      </chapt>


      <chapt id="moreinfo">

        <heading>Lisätietoja käyttöjärjestelmästä &debian;</heading>

        <sect id="morereading"> <heading>Lukemista</heading>

        <p>Tämän julkaisumuistion ja installation guiden lukemisen jälkeen
        &debian; järjestelmän opiskeluun on tarjolla Debian
        Dokumentaatiprojekti (DDP). Sen tarkoituksena on luoda
        korkealaatuista ohjeistusta Debianin käyttäjille ja
        kehittäjille. Saatavilla olevia ohjeita ovat Debian Guide, Debian
        New Maintainers Guide ja Debian FAQ, sekä useita
        muita. Yksityiskohtaiset tiedot saatavilla olevasta aineistosta
        löytyvät DDP:n seittisivustosta osoitteesta <url
        id="&url-ddp">.</p>

        <p>Yksittäisten pakettien ohjeistus on asennettu hakemistoon
        <file>/usr/share/doc/<var>paketti</var></file>, tähän voi kuulua
        tekijänoikeustietoa, Debianiin liittyviä yksityiskohtia ja
        alkuperäisen tekijän ohjeistus.</p>

      </sect> 
      
      <sect id="gethelp"> 
        <heading>Apua löytyy</heading> 
      
        <p>Apua, neuvoja ja tukea Debianin käyttäjille on saatavilla
        monelta taholta, mutta näitä olisi käytettävä vasta kun aiheesta
        saatavilla olevan ohjeistuksen huolellinen tutkiminen ei ole
        auttanut. Tässä luvussa kerrotaan johdannonomaisesti uusille
        Debianin käyttäjille mahdollisesti hyödyllisistä välineistä.</p>

      <sect1 id="lists">
        <heading>Postituslistat</heading> <p>Debianin käyttäjille
        kiinnostavimmat sähköpostilistat ovat debian-user
        (englanninkielinen) ja muut debian-user-<var/kieli/ -listat (muille
        kielille). Tietoa näistä postituslistoista ja ohjeet listalle
        liittymiseen löytyy osoitteesta <url
        id="&url-debian-list-archives;">. Ole hyvä ja tarkista listojen
        arkistoista onko kysymykseesi jo vastattu ennen kuin lähetät
        kysymyksesi listalle. Noudata myös tavanomaisia <url
        id="http://www.cs.tut.fi/~jkorpela/jakelulistat.html"
        name="sähköpostilistojen käyttäytymissääntöjä">.</p>

      <sect1 id="irc">
        <heading>Internet Relay Chat</heading> 
        
        <p>Debianilla on käyttäjien tukeen ja auttamiseen tarkoitettu
        IRC-kanava Open Projects -IRC-verkossa. Open Projects tarjoaa
        tiedonvälitystä yhteistyötä tekevälle vapaiden ohjelmien
        yhteisölle. Pääset kanavalle menemällä haluamallassi
        IRC-asiakasohjelmalla palvelimelle &opn-irc-server; ja liittymällä
        kanavalle #debian.</p>

        <p>Noudata kanavan ohjeistusta ja kunnioita muiden käyttäjien
        mielipiteitä. Lisää tietoa Open Projecsista löytyy projektin <url
        id="&url-opn;" name="seittisivustosta">.</p>

      </sect1>
      </sect> 

      <sect id="bugs">
        <heading>Vikailmoitusten tekeminen</heading>

        <p>Ponnistelemme jotta Debian GNU/Linux olisi korkealaatuinen
        käyttöjärjestelmä, mikä ei kuitenkaan tarkoita tekemiemme
        ohjelmapakettien olevan kokonaan vailla vikoja. Palvelemme
        käyttäjiämme tarjoamalla kaikki tiedot ilmoitetuista vioista omassa
        vianseurantajärjestelmässämme (BTS), joka on käytettävissä
        selaimella osoitteessa <url id="&url-bts;"
        name="bugs.debian.org">. Julkinen vikatietokanta sopii Debianin
        avoimeen kehitystyöhön.</p>
        
<!-- FJP: I propose to replace the last sentence by:
        Consistent with Debian's 'open development' philosophy and as a 
        service to our users, we provide all the information on reported bugs
        at our own Bug Tracking System (BTS). The BTS is browseable at
        <url id="&url-bts;" name="bugs.debian.org">.
-->

        <p>Jos löydät vian jakelusta tai sen osana olevasta paketoidusta
        ohjelmasta, ole hyvä ja ilmoita siitä jotta se saadaan kunnolla
        korjattua seuraavissa versioissa. Vikailmoituksen laatijalla on
        oltava toimiva sähköpostiosoite, tämä jotta vikoja voidaan seurata
        ja kehittävät voivat ottaa yhteyttä tarvitessaan lisätietoja. 

        <p>Vikailmoitus voidaan lähettää ohjelmalla
        <package>reportbug</package> tai lähettämällä itse
        sähköposti. Lisää tietoja vianseurantajärjestelmästä ja sen
        käyttöohjeita voi lukea hakemiston
        <file>/usr/share/doc/debian</file> ohjetiedostoista tai netistä
        osoitteesta <url id="&url-bts;"
        name="Vianseurantajärjestelmä">.</p>
<!-- FJP: The 'bug' program and package are obsolete. -->

      </sect>

      <sect id="contributing">
        <heading>Debianin avustaminen</heading>

        <p>Debianin avustajan ei tarvitse olla asiantuntija. Auttamalla
        käyttäjiä selvittämään ongelmatilanteet <url
        id="&url-debian-list-archives;" name="postituslistoilla"> tuet
        yhteisöä. Jakelun kehittämiseen liittyvien ongelmien tunnistaminen
        (ja mikä tärkeintä ratkaiseminen) osallistumalla kehittäjien <url
        id="&url-debian-list-archives;" name="postituslistojen">
        keskusteluun on myös erittäin hyödyllistä. Auta Debiania
        säilyttämään laatu hyvänä <url id="&url-bts;" name="lähettämällä
        vikailmoituksia"> ja auta kehittäjiä löytämään ja korjaamaan
        viat. Jos kirjoittaminen sujuu, haluaisit ehkä avustaa
        aktiivisemmin auttamalla <url id="&url-ddp;" name="ohjeiden">
        kirjoittamisessa tai <url id="&url-debian-i18n;"
        name="kääntämällä"> jo tehtyjä ohjeita äidinkielellesi.</p>

        <p>Jos voit panostaa enemmän aikaa, voit ylläpitää vapaiden
        ohjelmien kokoelman osaa Debianin jäsenenä. Erityisen hyödyllistä
        on ottaa vastuulleen tai ylläpitää toivottuja lisäyksiä Debianiin,
        seittisivusto <url id="&url-wnpp;" name="Apua tarvitsevat paketit">
        tarjoaa tästä yksityiskohtaisempaa tietoa. Jos mielenkiintosi
        kohteina ovat tietyt kohderyhmät, saatat ilahtua voidessasi avustaa
        Debianin osaprojekteja kuten <url id="&url-debian-jr;" name="Debian
        Jr."> ja <url id="&url-debian-med;" name="Debian Med">.</p>

        <p>Jos työskentelet vapaiden ohjelmien yhteisössä millä tahansa
        tavalla, käyttäjänä, ohjelmoijana, kirjailijana tai kääntäjänä,
        olet jo tukemassa vapaiden ohjelmien aatetta. Avustaminen on
        palkitsevaa ja hauskaa sekä auttaa tutustumaan uusiin kavereihin ja
        siitä tulee hyvä olo.</p>

    </chapt>
  </book>
</debiandoc>

<!-- Keep this comment at the end of the file
Local Variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-namecase-general:t
sgml-general-insert-case:lower
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:2
sgml-indent-data:nil
sgml-declaration:nil
sgml-parent-document:nil
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
fill-column: 75
End:
-->

