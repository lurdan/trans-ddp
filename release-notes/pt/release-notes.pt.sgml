<!DOCTYPE debiandoc PUBLIC "-//DebianDoc//DTD DebianDoc//EN" [

  <!ENTITY % dynamicdata SYSTEM "../en/../dynamic.ent"> %dynamicdata;
  <!ENTITY % shareddata SYSTEM "../en/../release-notes.ent"> %shareddata;
  <!ENTITY docid "$Id: release-notes.pt.sgml,v 1.10 2007-04-04 09:10:38 fjp Exp $">
]>
<debiandoc>
 <book>
  <titlepag>
   <title>
     Notas do lançamento do &debian; &release; ("&releasename;"), 
     &arch-title;
   </title>
   <author>
     <name>Josip Rodin, Bob Hilliard, Adam Di Carlo, Anne Bezemer, Rob 
     Bradford (actual), Frans Pop (actual), Andreas Barth 
     (actual)</name><email></email>
   </author>
   <author>
     <name></name><email>debian-doc@lists.debian.org</email>
   </author>
   <version>
     &docid;

   </version>
  </titlepag>
  <toc detail="sect1">
 
 <chapt id="about">
  <heading>
    Introdução
  </heading>
  <p>
    The primary goals of these Release Notes are to inform users of major 
    changes in this release of the &debian; distribution, to provide 
    information on how to upgrade safely from the previous release to the 
    current release and finally to inform users of known potential issues 
    they could encounter when upgrading to or using the &releasename; 
    release.
  </p>
  <p>
    Repare que é impossível listar todos os problemas conhecidos, deste modo 
    uma selecção foi feita baseada na combinação da frequência e impacto 
    desses problemas.
  </p>
  <p>
    The most recent version of this document is always available at <url 
    id="&url-release-notes;">. If the version you are reading is more than a 
    month old<footnote><p>as listed on the front page of the PDF version and 
    in the footer of the online HTML version</p></footnote>, you might wish 
    to obtain the latest version.
  </p>
  <p>
    Por favor note que apenas suportamos e documentamos a actualização a 
    partir do anterior lançamento de Debian (neste caso, a actualização a 
    partir de &oldreleasename;). Se necessitar actualizar a partir de 
    lançamentos mais antigos sugerimos-lhe que leia as edições anteriores 
    das notas de lançamento para actualizar primeiro para &oldreleasename;.
  </p>
  <sect id="bug_reports">
   <heading>
     Relatar erros neste documento
   </heading>
   <p>
     Nós tentamos testar todos os diferentes passos de actualização 
     descritos neste documento e também tentamos antecipar todos os 
     possíveis problemas que os nossos utilizadores possam encontrar.
   </p>
   <p>
     Nevertheless, if you think you have found any bug in this documentation 
     (incorrect information or information that is missing), please file a 
     bug in the <url id="&url-bts;" name="bug tracking system"> against the 
     <package>release-notes</package> package.
   </p>
  </sect>
  <sect id="upgrade_reports">
   <heading>
     Contribuir com relatórios de actualização
   </heading>
   <p>
     Qualquer informação vinda dos utilizadores, acerca de actualizações a 
     partir da &oldreleasename; para &releasename;, é bem-vinda. Se está 
     disposto a partilhar informação por favor arquive um bug, com os seus 
     resultados, no <url id="&url-bts;" name="sistema de seguimento de bugs 
     (bts)"> contra o pacote <package>upgrade-reports</package>.
   </p>
   <p>
     Por favor forneça as seguintes informações quando submeter o seu 
     relatório de actualização:
    <list>
     <item>
      <p>
        The status of your package database before and after the upgrade: 
        <prgn>dpkg</prgn>'s status database available at 
        <file>/var/lib/dpkg/status</file> and <prgn>aptitudes</prgn>'s 
        package state information, available at 
        <file>/var/lib/aptitude/pkgstates</file>. You should have made a 
        backup before the upgrade as described at <ref id="data-backup">, 
        but you can also find backups of this information in 
        <file>/var/backups</file>.
      </p>
     </item>
     <item>
      <p>
        Logs da sessão utilizando o <package>script</package>, conforme é 
        descrito em <ref id="record_session">.
      </p>
     </item>
     <item>
      <p>
        O status da sua base de dados de pacotes antes e depois da 
        actualização, utilizando o procedimento de backup descrito em <ref 
        id="backup">.
      </p>
     </item>
     <item>
      <p>
        Os seus logs do aptitude, disponíveis em 
        <file>/var/log/aptitude</file>.
      </p>
     </item>
    </list>
   </p>
   <p>
     Nota: você deve gastar algum tempo para rever e remover qualquer 
     informação sensível e/ou confidencial dos logs antes de a incluir num 
     relatório de bug já que a informação será publicada numa base de dados 
     pública.
   </p>
  </sect>
  <sect id="sources">
   <heading>
     Fontes para este documento
   </heading>
   <p>
     This document uses <package>debiandocsgml</package>. Its sources are 
     available in the CVS of the <em>Debian Documentation Project</em>. You 
     can use the <url id="&url-cvs-release-notes;" name="web interface"> to 
     access its files individually through the web and see their 
     changes. For more information on how to access the CVS please consult 
     the <url id="&url-ddp-cvs-info;" name="Debian Documentation Project CVS 
     pages">.
   </p>
  </sect>
 </chapt>
 <chapt id="whats-new">
  <heading>
    Novidades na &debian; &release;
  </heading>
  <p>
    This release adds official support for the AMD64 architecture which 
    supports 64-bit processors from both Intel (EM64T) and AMD 
    (AMD64). During the previous release, &debian; 3.1 ('sarge'), an 
    unofficial version of this port was available. <![ %amd64 [ Upgrading 
    from this unofficial version should be possible using these Release 
    Notes, but is not officially supported by Debian. ]]>
  </p>
  <p>
    O suporte oficial para a arquitectura Motorola 680x0 ('m68k') foi 
    abandonado pois não correspondia aos critérios definidos pelos Debian 
    Release Managers. As razões que tiveram maior peso foram a performance e 
    o limitado suporte upstream a componentes 'toolchain' essenciais. No 
    entanto, é esperado que o 'port' m68k se mantenha activo e disponível 
    para instalação, mesmo que não seja parte deste lançamento oficial da 
    versão estável.
  </p>
  <p>
    Seguem-se as arquitecturas suportadas oficialmente pela &debian; 
    &releasename;:
  </p>
  <p>
   <list>
    <item>
     <p>
       Intel x86 ('i386')
     </p>
    </item>
    <item>
     <p>
       Alpha ('alpha')
     </p>
    </item>
    <item>
     <p>
       SPARC ('sparc')
     </p>
    </item>
    <item>
     <p>
       PowerPC ('powerpc')
     </p>
    </item>
    <item>
     <p>
       ARM ('arm')
     </p>
    </item>
    <item>
     <p>
       MIPS ('mips' (big-endian) and 'mipsel' (little-endian))
     </p>
    </item>
    <item>
     <p>
       Intel Itanium ('ia64')
     </p>
    </item>
    <item>
     <p>
       HP PA-RISC ('hppa')
     </p>
    </item>
    <item>
     <p>
       S/390 ('s390')
     </p>
    </item>
    <item>
     <p>
       AMD64 ('amd64')
     </p>
    </item>
   </list>
  </p>
  <p>
    Pode obter mais informação sobre o estado do 'port', bem como informação 
    mais especifica para a sua arquitectura em <url id="&url-ports;" 
    name="Debian port web pages">.
  </p>
   <![ %secondrelease [

  <p>
    Este é apenas o segundo lançamento oficial do &debian; para a 
    arquitectura &arch-title;. Sentimos que teve já suficientes provas para 
    ser lançada. No entanto, como não teve ainda a exposição (e como tal 
    testada pelos utilizadores) que outras arquitecturas tiveram, pode 
    encontrar alguns 'bugs'. Por favor utilize o nosso link <url 
    id="&url-bts;" name="bug tracking system"> para reportar quaisquer 
    problemas; certifique-se que menciona o facto de o 'bug' se encontrar na 
    plataforma &architecture;.
  </p>
   ]]><![ %arm [

  <sect id="new-arch">
   <heading>
     What's new for &arch-title;?
   </heading>
   <p>
     RiscPC (RPC) support is incomplete and will be removed after 
     etch. While a kernel for RiscPC is still provided in etch, the 
     installer doesn't support this system.
   </p>
   <p>
     Support for Intel's IXP4xx platform has been added. The installer 
     includes support for the Linksys NSLU2, a small and inexpensive device 
     which allows the usage of attached storage through USB. More 
     information about Debian on the NSLU2 can be found at <url 
     id="http://www.cyrius.com/debian/nslu2/">.
   </p>
   <p>
     Support has also been added for Intel's I/O Processor (IOP) 
     platform. Specifically, &debian; &release; supports IOP 32x based 
     devices. Two Network Attached Storage (NAS) devices based on an IOP 
     chip are supported in the installer: the GLAN Tank from IO-Data and the 
     Thecus N2100. See <url id="http://www.cyrius.com/debian/iop/">.
   </p>
  </sect>
   ]]><![ %mips-mipsel [

  <sect id="new-arch">
   <heading>
     What's new for &arch-title;?
   </heading>
    <![ %mipsel [

   <p>
     DECstation support is incomplete and untested in etch and will be 
     removed completely after this release. This includes both DECstation 
     variants previously supported in Debian, r3k-kn02 and r4k-kn04.
   </p>
   <p>
     Installations on MIPS based Cobalt machines (Qube 2700, RaQ1, Qube2, 
     RaQ2) are now possible without the use of a serial console. By default, 
     installations on Cobalt are now done via SSH. See <url 
     id="http://www.cyrius.com/debian/cobalt/"> for more information.
   </p>
    ]]><![ %mips [

   <p>
     Support for SGI's IP32 platform has been added. The IP32 platform 
     consists of SGI O2 machines with R5000, R5200 or RM7000 
     processors. Installation is possible via frame buffer or the serial 
     console.
   </p>
    ]]>

   <p>
     Support for Broadcom's SB1A evaluation board BCM91480B ("BigSur"), 
     which is based on the BCM1480 quad-core chip, has been added, both to 
     the kernel and the installer. This board is supported both in little 
     and big endian mode.
   </p>
   <p>
     Support for a Qemu machine has been added. The Qemu/MIPS machine 
     emulates a classic ISA PC style machine with a MIPS 4Kc CPU.
   </p>
  </sect>
   ]]>

  <sect id="newdistro">
   <heading>
     O que há de novo na distribuição?
   </heading>
   <p>
     Este novo lançamento da Debian vem com muito mais software que a sua 
     predecessora &oldreleasename;;, a distribuição inclui mais de 6,200 
     novos pacotes, num total de mais de 18,000 pacotes. . A maior parte do 
     software na distribuição foi actualizado: mais de 10,500 pacotes de 
     software (isto é 67% de todos os pacotes da &oldreleasename;). Também 
     um número significativo de pacotes (mais de 3400, 22% dos pacotes na 
     &oldreleasename;) foram removidos da distribuição por várias 
     razões. Não verá quaisquer actualizações para estes pacotes e estes 
     serão marcados como obsoletos nos 'front-ends' dos gestores de pacotes.
   </p>
   <p>
     With this release, &debian; switches from XFree86 to the 7.1 release of 
     X.Org, which includes support for a greater range of hardware and 
     better autodetection. This allows the use of Compiz, which is one of 
     the first compositing window managers for the X Window System, taking 
     full advantage of hardware OpenGL acceleration for supported devices.
   </p>
   <p>
     &debian; again ships with several desktop applications and 
     environments. Among others it now includes the desktop environments 
     GNOME 2.14<footnote><p>with some modules from GNOME 
     2.16</p></footnote>, KDE 3.5.5a, and Xfce 4.4. Productivity 
     applications have also been upgraded, including the office suites 
     OpenOffice.org 2.0.4a and KOffice 1.6 as well as GNUcash 2.0.5, 
     GNUmeric 1.6.3 and Abiword 2.4.6.
   </p>
   <p>
     Updates of other desktop applications include the upgrade to Evolution 
     2.6.3 and Gaim 2.0. The Mozilla suite has also been updated, with a 
     rename of the main programs: <prgn>iceweasel</prgn> (version 2.0.0.2) 
     is the unbranded <prgn>Firefox</prgn> web browser and 
     <prgn>icedove</prgn> (version 1.5) is the unbranded 
     <prgn>Thunderbird</prgn> mail client.
   </p>
   <p>
     Among many others, this release also includes the following software 
     updates:
   </p>
   <p>
    <list>
     <item>
      <p>
        the GNU C library, version 2.3.6
      </p>
     </item>
     <item>
      <p>
        the GNU Compiler Collection 4.1 as default compiler
      </p>
     </item>
     <item>
      <p>
        language interpreters: PHP 5.2, Python 2.4
      </p>
     </item>
     <item>
      <p>
        software de servidor:
      </p>
      <p>
       <list>
        <item>
         <p>
           servidores de e-mail: Exim 4.63 (servidor de email por omissão 
           para novas instalações), Portfiz 2.3, Courier 0.53, Cyrus 2.2.
         </p>
        </item>
        <item>
         <p>
           servidores web: Apache 2.2, fnord 1.10
         </p>
        </item>
        <item>
         <p>
           servidores de base de dados: MySQL 5.0.32, PostgreSQL 8.1
         </p>
        </item>
        <item>
         <p>
           the OpenSSH server, version 4.3
         </p>
        </item>
        <item>
         <p>
           name servers: Bind 9.3, maradns 1.2
         </p>
        </item>
        <item>
         <p>
           servidor de directório: OpenLDAP 2.3
         </p>
        </item>
       </list>
      </p>
     </item>
    </list>
   </p>
   <p>
     O <prgn>aptitude</prgn> é o programa preferido para a gestão de pacotes 
     através da consola. O<prgn>aptitude</prgn> suporta a maior parte das 
     operações em comandos de linha do <prgn>apt-get</prgn> e provou 
     resolver as dependências de um modo mais eficaz que o 
     <prgn>apt-get</prgn>. . Se estiver ainda a utilizar o 
     <prgn>dselect</prgn>, deverá passar para o <package>aptitude</package> 
     como 'frontend' oficial para a gestão de pacotes.
   </p>
   <p>
     A distribuição &debian; oficial agora é lançada com 19 a 23 CDs de 
     binários (dependendo da arquitectura) e um número identico de CDs com o 
     código-fonte. Também está disponível uma versão da distribuição em DVD.
   </p>
   <sect1 id="secureapt">
    <heading>
      Secure APT
    </heading>
    <p>
      <em>Secure APT</em> is now available in &releasename;. This feature 
      adds extra security to &debian; systems by easily supporting strong 
      cryptography and digital signatures to validate downloaded 
      packages. This release includes the <prgn>apt-key</prgn> tool for 
      adding new keys to apt's keyring, which by default includes only the 
      current Debian archive signing key, provided in the 
      <package>debian-archive-keyring</package> package.
    </p>
    <p>
      In its default configuration, <prgn>apt</prgn> will now warn if 
      packages are downloaded from sources that are not 
      authenticated. Future releases might force all packages to be verified 
      before downloading them. Administrators of unofficial apt repositories 
      are encouraged to generate a cryptographic key and sign their Release 
      files, as well as providing a secure way to distribute their public 
      keys.
    </p>
    <p>
      For more information please read <manref section="8" name="apt">, the 
      <url 
      id="http://www.debian.org/doc/manuals/securing-debian-howto/ch7#s-deb-pack-sign" 
      name="Package signing in Debian"> chapter of the <em>Securing Debian 
      Manual</em> and the <url id="http://wiki.debian.org/SecureApt" 
      name="Debian Wiki">.
    </p>
   </sect1>
   <sect1 id="volatile">
    <heading>
      debian-volatile é agora um serviço oficial
    </heading>
    <p>
      The <em>debian-volatile</em> service that was introduced as an 
      unofficial service with the release of &oldreleasename; has now become 
      an official &debian; service.
    </p>
    <p>
      This means that it now uses a <tt>.debian.org</tt> 
      address<footnote><p>The old <tt>volatile.debian.net</tt> address will 
      also remain valid for the time being. </p></footnote>. Please make 
      sure to update your <file>/etc/apt/sources.list</file> accordingly if 
      you were already using this service.
    </p>
    <p>
      <em>debian-volatile</em> allows users to easily update stable packages 
      that contain information that quickly goes out of date. Examples are a 
      virus scanner's signatures list or a spam filter's pattern set. For 
      more information and a list of mirrors, please see the archive's <url 
      id="&url-debian-volatile;" name="web page">.
    </p>
   </sect1>
  </sect>
  <sect id="system-changes">
   <heading>
     Melhorias no sistema
   </heading>
   <p>
     Ocorreram um número de alterações na distribuição de que irão 
     beneficiar as novas instalações da &releasename;, mas poderão não ser 
     automaticamente aplicadas ás actualizações a partir da 
     &oldreleasename;. Esta secção dá uma panorâmica das alterções mais 
     relevantes.
   </p>
   <p>
    <taglist>
     <tag>
       Foi baixada a prioridade dos pacotes para desenvolvimento básico
     </tag>
     <item>
      <p>
        Um número de pacotes de desenvolvimento que costumava ter prioridade 
        <em>standard</em> têm agora prioridade <em>opcional</em>, o que 
        significa que já não serão, por omissão, instalados. Isto inclui o 
        compilador padrão C/C++, <package>gcc</package>, assim como outro 
        software (<package>dpkg-dev</package>, <package>flex</package>, 
        <package>make</package>) e cabeçalhos de desenvolvimento 
        (<package>libc6-dev</package>, 
        <package>linux-kernel-headers</package>.
      </p>
      <p>
        Se você deseja ter este pacotes no seu sistema, a maneira mais fácil 
        dos instalar é instalar o <package>build-essential</package>, que 
        irá trazer a maioria deles.
      </p>
     </item>
     <tag>
       SELinux com prioridade standard, mas não activado por omissão
     </tag>
     <item>
      <p>
        Os pacotes necessários para suporte SELinux foram promovidos à 
        prioridade <em>standard</em>. Isto significa que serão instalados 
        por omissão durante as novas instalações. Para sistemas já 
        existentes você pode instalar SELinux utilizando:
       <example>
# aptitude install selinux-basics
       </example>
      </p>
      <p>
        Note that SELinux support is <em>not</em> enabled by 
        default. Information on setting up and enabling SELinux can be found 
        on the <url id="&url-wiki-selinux;" name="Debian Wiki">.
      </p>
     </item>
     <tag>
       Novo superdaemon inet, por omissão
     </tag>
     <item>
      <p>
        The default inet superdaemon for &releasename; is 
        <package>openbsd-inetd</package> instead of 
        <package>netkit-inetd</package>. It will not be started if no 
        services are configured, which is true by default. The new default 
        daemon will be installed automatically on upgrade.
      </p>
     </item>
     <tag>
       O clone, por omissão, do <prgn>vi</prgn> foi alterado
     </tag>
     <item>
      <p>
        O clone do <prgn>vi</prgn> instalado por omissão é agora uma versão 
        compacta do <prgn>vim</prgn> (<package>vim-tiny</package>) em vez do 
        <package>nvi</package>
      </p>
     </item>
     <tag>
       Alterações nas funcionalidades por omissão de 
       <tt>ext2</tt>/<tt>ext3</tt>
     </tag>
     <item>
      <p>
        Os novos sistemas de ficheiros ext2 e ext3 serão criados com as 
        funcionalidades <em>dir_index</em> e <em>resize_inode</em> ligadas 
        por omissão. A primeira funcionalidade acelera as operações em 
        directórios com muitos ficheiros; a segunda torna possível 
        redimensionar um sistema de ficheiros on-line (i.e. enquando está 
        montado).
      </p>
      <p>
        Os utilizadores que actualizem a partir de &oldreleasename; podem 
        considerar acrescentar manualmente a flag <em>dir_index</em> 
        utilizando o <prgn>tune2fs</prgn><footnote><p>A flag 
        <em>filetype</em> já deve estar definida na maioria dos sistemas de 
        ficheiros, excepto possivelmente em sistemas instalados antes da 
        &oldreleasename;. </p></footnote>; a flag <em>resize_inode</em> não 
        pode ser acrescentada a um sistema de ficheiros existente. É 
        possível verificar que flags estão definidas para um sistema de 
        ficheiros utilizando <tt>dumpe2fs -h</tt>.
      </p>
     </item>
     <tag>
       A codificação por omissão para a &releasename; é UTF-8
     </tag>
     <item>
      <p>
        The default encoding for new &debian; installations is UTF-8. A 
        number of applications will also be set up to use UTF-8 by default.
      </p>
      <p>
        Users upgrading to &releasename; that wish to switch to UTF-8 will 
        need to reconfigure their environment and locale definitions. The 
        system-wide default can be changed using <tt>dpkg-reconfigure 
        locales</tt>; first select a UTF-8 locale for your language and 
        country and then set that as default. Note that switching to UTF-8 
        means that you will probably also need to convert existing files 
        from your previous (legacy) encoding to UTF-8.
      </p>
      <p>
        O pacote <package>utf8-migration-tool</package> contém uma 
        ferramenta que poderá ajudar a migração, no entanto o pacote apenas 
        está disponível em 'unstable' já que não ficou pronto a tempo para a 
        &releasename;. É recomendado fazer backup dos seus dados e 
        configurações antes de utilizar a ferramenta.
      </p>
      <p>
        Note that some applications may not yet work correctly in a UTF-8 
        environment, mostly due to display issues.
      </p>
     </item>
    </taglist>
   </p>
   <p>
     O <url id="http://wiki.debian.org/Sarge2EtchUpgrade" name="Debian 
     Wiki"> tem alguma informação adicional acerca das alterações entre 
     &oldreleasename; e &releasename;.
   </p>
  </sect>
  <sect id="kernel-changes">
   <heading>
     Major kernel-related changes
   </heading>
   <p>
     &debian; &release; ships with kernel version &kernelversion; for all 
     architectures; the release is still mostly<footnote><p>Some individual 
     packages may no longer work correctly with a 2.4 kernel; see <ref 
     id="incompatible-2.4">.</p></footnote> compatible with 2.4 kernels, but 
     Debian no longer provides or supports 2.4 kernel packages.
   </p>
   <p>
     There have been major changes both in the kernel itself and in the 
     packaging of the kernel for Debian. Some of these changes complicate 
     the upgrade procedure and can potentially result in problems while 
     rebooting the system after the upgrade to &releasename;. This section 
     gives an overview of the most important changes; potential issues and 
     information on how to work around them is included in later chapters.
   </p>
    <![ %defaulted-2.4 [

   <p>
     If you are currently using a 2.4 kernel, you should read <ref 
     id="upgrade-to-2.6"> carefully.
   </p>
    ]]>

   <sect1 id="kernel-packaging">
    <heading>
      Changes in kernel packaging
    </heading>
    <p>
     <taglist>
      <tag>
        Kernel packages renamed
      </tag>
      <item>
       <p>
         All Linux kernel packages have been renamed from <tt>kernel-*</tt> 
         to <tt>linux-*</tt> to clean up the namespace. This will make it 
         easier to include non-Linux kernels in Debian in the future.
       </p>
      </item>
       <![ %i386 [

      <tag>
        Flavor "386" replaced with "486"
      </tag>
      <item>
       <p>
         Support for the 80386 sub-architecture for Intel x86 has been 
         dropped in &releasename;. The 386 kernel flavor is no longer 
         supported and has been replaced by the new 486 flavor.
       </p>
      </item>
       ]]><![ %amd64 [

      <tag>
        Single generic kernel for &arch-title;
      </tag>
      <item>
       <p>
         In &oldreleasename; there were separate kernel flavors for 
         different processor families of this architecture. Because of 
         changes in the kernel which will automatically optimize the kernel 
         for the processor(s) in the system, there is no longer any real 
         need for seperate kernel flavors.
       </p>
      </item>
       ]]><![ %i386-amd64-ia64 [

      <tag>
        Os kernels standard contém funcionalidades SMP
      </tag>
      <item>
       <p>
         Multiprocessor systems no longer require an <tt>*-smp</tt> flavor 
         of the Linux kernel. For &arch-title;, <tt>linux-image</tt> 
         packages without the <tt>-smp</tt> suffix support both uniprocessor 
         and multiprocessor systems. <![ %i386 [ (The one exception is the 
         486 flavor, which only supports a single processor.) ]]>
       </p>
      </item>
       ]]><![ %mips [

      <tag>
        r5k-ip22 kernel flavor dropped
      </tag>
      <item>
       <p>
         The kernel image for IP22 machines with an R5000 CPU has been 
         dropped because the r4k-ip22 image now supports IP22 machines with 
         either an R4x000 or an R5000 CPU.
       </p>
      </item>
       ]]>

     </taglist>
    </p>
    <p>
      Where possible, dummy transition packages that depend on the new 
      packages have been provided for the dropped packages.
    </p>
   </sect1>
   <sect1 id="kernel-initrd">
    <heading>
      New utilities to generate initrds
    </heading>
     <![ %no-initrd [

    <p>
      The Debian kernel image packages for &arch-title; do not require an 
      initrd for booting the system. This means that the information in this 
      section may not be relevant for you, but is still included for 
      reference.
    </p>
     ]]>

    <p>
      <![ %uses-initrd [ The Debian kernel image packages for &arch-title; 
      require an initrd for booting the system. ]]> Because of changes in 
      the kernel, the utility used to generate initrds in &oldreleasename;, 
      <package>initrd-tools</package> can no longer be used and has been 
      deprecated. Two new utilities have been developed that replace it: 
      <package>initramfs-tools</package> and <package>yaird</package>. The 
      concepts behind the new utilities are very different; an overview is 
      available on the <url 
      id="http://wiki.debian.org/InitrdReplacementOptions" name="Debian 
      Wiki">. Both will generate an initrd using the <em>initramfs</em> file 
      system, which is a compressed <prgn>cpio</prgn> archive. The default 
      and recommended utility is <package>initramfs-tools</package>.
    </p>
     <![ %uses-initrd [

    <p>
      Upgrading to an &releasename; kernel will cause 
      <package>initramfs-tools</package> to be installed by default. <![ 
      %defaulted-2.4 [ If you are upgrading from a 2.4 kernel to a 2.6 
      Debian kernel, you must use <package>initramfs-tools</package>. Using 
      <package>yaird</package> will cause linux-image-2.6 installations to 
      fail if you are running a 2.2 or 2.4 kernel. ]]>
    </p>
    <p>
      The package <package>initrd-tools</package> is still included in 
      &releasename; because it is needed for upgrades from 
      &oldreleasename;. It will be dropped for the next release.
    </p>
     ]]>

   </sect1>
   <sect1 id="kernel-devfs">
    <heading>
      Dynamic <file>/dev</file> management
    </heading>
    <p>
      &releasename; kernels no longer provide support for <tt>devfs</tt>.
    </p>
    <p>
      The replacement for <tt>devfs</tt> is <package>udev</package>.
    </p>
    <p>
      <package>udev</package> is a userspace implementation of devfs. It is 
      mounted over the <file>/dev</file> directory and will populate that 
      directory with devices supported by the kernel. It will also 
      dynamically add and remove devices as kernel modules are loaded or 
      unloaded respectively, based on events generated by the 
      kernel. <prgn>udev</prgn> is a lot more versatile than <tt>devfs</tt> 
      and offers services that are used by other packages like 
      <package>hal</package> (hardware abstraction layer).
    </p>
     <![ %uses-initrd [

    <p>
      If you install a Debian kernel image, <package>udev</package> will be 
      installed by default as <package>initramfs-tools</package> depends on 
      it.
    </p>
    <p>
      You can avoid installing <package>udev</package> by compiling a custom 
      non-modular kernel or by using an alternative initrd generator, such 
      as <package>yaird</package>. However, 
      <package>initramfs-tools</package> is the recommended initrd 
      generator. ]]>
    </p>
   </sect1>
  </sect>
 </chapt>
 <chapt id="installing">
  <heading>
    Sistema de Instalação
  </heading>
  <p>
    O Instalador Debian é o sistema oficial de instalação da Debian. Oferece 
    variados métodos de instalação. Que métodos encontram-se disponíveis 
    para instalar no seu sistema depende da sua arquitectura.
  </p>
  <p>
    Images of the installer for &releasename; can be found together with the 
    Installation Guide on the <url id="&url-installer;" name="Debian 
    website">.
  </p>
  <p>
    O Guia de Instalação está também incluído no primeiro CD/DVD do conjunto 
    oficial de CD/DVDs Debian, em:
   <example>
/doc/install/manual/<var>language</var>/index.html
        </example>
  </p>
  <p>
    Pode também querer verificar a <url id="&url-installer;index#errata" 
    name="errata"> do debian-installer para ver uma lista de problemas 
    conhecidos.
  </p>
   <![ %alpha [

  <p>
    The installer can only be used to install on alpha systems which support 
    the SRM console. Be sure to switch your system to SRM before starting 
    the installation. If your machine supports only the AlphaBIOS/ARC 
    console, the recommended way to install &releasename; is to first 
    install a (minimal) woody system, the upgrade to &oldreleasename; and 
    finally to &releasename;. For more information about the different 
    consoles please read the references on the <url 
    id="http://www.debian.org/ports/alpha" name="Debian alpha port web 
    pages">.
  </p>
   ]]><![ %sparc [

  <sect id="sparc_fb">
   <heading>
     Problemas com 'framebuffer' em &arch-title;
   </heading>
   <p>
     Devido aos problemas de visualização em alguns sistemas, o suporte ao 
     'framebuffer' está por omissão desactivado para a maioria das placas 
     gráficas de &arch-title;. Pode assim resultar numa má visualização em 
     sistemas que suportem devidamente o 'framebuffer'. Se detectar 
     problemas com a visualização no instalador pode tentar arrancar o mesmo 
     com o parâmetro <tt>framebuffer=true</tt>. Por favor avise-nos se o 
     'framebuffer' não for utilizado por omissão, mas funcione correctamente 
     no seu hardware.
   </p>
  </sect>
  <sect id="sparc_illegal_instruction">
   <heading>
     Issues with booting on &arch-title;
   </heading>
   <p>
     It has been reported by several users that the installation CD fails to 
     boot successfully upon the '<tt>boot cdrom</tt>' PROM command, 
     displaying the error '<tt>Illegal Instruction</tt>'.
   </p>
   <p>
     The apparent explanation for this problem is that it doesn't work 
     because the machine had previously been rebooted from Solaris. The 
     workaround is to power the machine off fully, and then boot it directly 
     into the installation CD.
   </p>
   <p>
     The problem was reported by users of various systems (namely, 
     Enterprise 450, Blade 2000, Fire V240, Enterprise 250 and Blade 100 at 
     the time of writing), so it is believed to be generic. Please let us 
     know if you observe similar issues with your hardware.
   </p>
  </sect>
   ]]>

  <sect id="inst-new">
   <heading>
     O que há de novo no novo sistema de instalação?
   </heading>
   <p>
     Houve um grande desenvolvimento no instalador Debian desde o seu 
     primeiro lançamento oficial com o nome de &oldreleasename; resultando 
     tanto em melhorias no suporte de hardware bem como em excitantes novas 
     funcionalidades.
   </p>
   <p>
     In these Release Notes we'll only list the major changes in the 
     installer. If you are interested in an overview of the detailed changes 
     since &oldreleasename;, please check the release announcements for the 
     &releasename; beta and RC releases available from the Debian 
     Installer's <url id="&url-installer-news;" name="news history">.
   </p>
   <sect1 id="inst-changes">
    <heading>
      Grandes alterações
    </heading>
    <p>
     <taglist>
      <tag>
        Não é necessário reiniciar o sistema durante a instalação
      </tag>
      <item>
       <p>
         Previously, the installation was split into two parts: setting up 
         the base system and making it bootable, followed by a reboot and 
         after that the execution of <prgn>base-config</prgn> which would 
         take care of things like user setup, setup of the package 
         management system and installation of additional packages (using 
         tasksel).
       </p>
       <p>
         Para a &releasename; o segundo estádio foi integrado no próprio 
         instalador Debian. Consegue-se assim algumas vantagens, incluindo o 
         aumento da segurança e o facto de que após o reinicio do sistema no 
         final da instalação o novo sistema deverá já ter o fuso horário 
         correcto, e ainda, se instalou um ambiente de Desktop, este irá ser 
         iniciado pela interface gráfica do utilizador.
       </p>
      </item>
      <tag>
        Codificação UTF-8 por omissão para novos sistemas
      </tag>
      <item>
       <p>
         O instalador irá configurar os sistemas de modo a utilizarem a 
         codificação UTF-8 em vez das codificações especificas antigas (como 
         ISO-8859-1, EUC-JP ou KOI-8).
       </p>
      </item>
      <tag>
        Modo de criar partições mais flexível
      </tag>
      <item>
       <p>
         É agora possível criar sistemas de ficheiros num volume LVM 
         utilizando o modo de criação de partições assistido.
       </p>
       <p>
         O instalador é também capaz de criar sistemas de ficheiros 
         encriptados. Ao utilizar a criação de partições manual, terá a 
         opção de escolher entre <tt>dm-crypt</tt> e <tt>loop-aes</tt>, 
         utilizando uma palavra-chave ou uma chave aleatória, e pode ainda 
         afinar várias outras opções. Ao utilizar a criação de partições 
         assistida o instalador cria uma partição encriptada LVM que contém 
         qualquer outro sistema de ficheiros (excepto <file>/boot</file>) 
         como volume lógico.
       </p>
      </item>
       <![ %g-i [

      <tag>
        Interface gráfica de utilizador
      </tag>
      <item>
        <![ %i386-amd64 [

       <p>
         Se preferir uma interface gráfica de utilizador tente arrancar o 
         instalador com <tt>installgui</tt>.
       </p>
        ]]><![ %powerpc [

       <p>
         Para a arquitectura &arch-title; uma imagem do instalador 
         utilizando interface gráfica está disponível em separado numa base 
         experimental. Sabe-se que funciona com a maioria dos sistemas CHRP 
         que possuem placas gráficas ATI, mas não foi ainda suficientemente 
         testada na arquitectura &arch-title; de modo a o incluir nos CDs 
         normais de instalação.
       </p>
       <p>
         Se quiser experimentar o instalador gráfico procure a imagem 
         "gtk-miniiso".
       </p>
        ]]>

       <p>
         A funcionalidade do instalador gráfico é praticamente a mesma do 
         instalador normal, apenas a apresentação difere. Existe uma única 
         excepção: a interface gráfica não suporta a criação de partições 
         encriptadas utilizando chaves aleatórias.
       </p>
       <p>
         A maior vantagem do interface gráfico com o utilizador é que 
         suporta mais idiomas do que o interface usual com o utilizador 
         (newt). Informação acerca do instalador gráfico e da maioria das 
         diferenças entre o instalador gráfico e o usual são documentadas 
         num apêndice no guia de instalação.
       </p>
       <p>
         Nota: a interface gráfica do utilizador não está disponível para 
         todas as arquitecturas.
       </p>
      </item>
       ]]>

      <tag>
        Modo de recuperação
      </tag>
      <item>
       <p>
         Pode utilizar o instalador para resolver problemas com o seu 
         sistema, por exemplo quando o mesmo se recusa a arrancar. Os 
         primeiros passos serão idênticos a uma instalação normal, no 
         entanto o instalador não irá iniciar o programa responsável pela 
         criação de partições. Em vez disso oferecerá um menu com opções de 
         recuperação.
       </p>
       <p>
         Active o modo de recuperação arrancando o instalador com 
         <tt>rescue</tt>, ou adicionando o parâmetro de arranque 
         <tt>rescue/enable=true</tt>.
       </p>
      </item>
      <tag>
        Utilização do sudo em vez da conta de root
      </tag>
      <item>
       <p>
         Durante instalações avançadas pode escolher não definir uma conta 
         de root (esta será bloqueada), mas alternativamente definir 
         <prgn>sudo</prgn> de modo a que o primeiro utilizador possa usá-lo 
         para a administração do sistema.
       </p>
      </item>
      <tag>
        Verificação criptográfica de download de pacotes
      </tag>
      <item>
       <p>
         Packages downloaded with the installer are now cryptographically 
         checked using <prgn>apt</prgn>, making it more difficult to 
         compromise a system being installed over the network.
       </p>
      </item>
      <tag>
        Configuração simplificada do mail
      </tag>
      <item>
       <p>
         If the "standard system" is installed, the installer sets up a 
         basic configuration for the system's mail server which will only 
         provide for local e-mail delivery. The mail server will be 
         unavailable to other systems connected to the same network. If you 
         want to configure your system to handle e-mail not local to the 
         system (either to send e-mail or to receive it), you will have to 
         reconfigure the mail system after installation.
       </p>
      </item>
      <tag>
        Escolha de Desktop
      </tag>
      <item>
       <p>
         O sistema de instalação irá instalar um desktop GNOME como o 
         desktop por omissão se o utilizador pedir um.
       </p>
       <p>
         No entanto, os utilizadores que desejam instalar ambientes de 
         desktop alternativos podem fazê-lo facilmente acrescentanto os 
         parâmetros de arranque: <tt>tasks="standard, kde-desktop"</tt> para 
         o KDE <tt>tasks="standard, xfce-desktop"</tt> para o Xfce. Note que 
         isto não irá funcionar quando instalar a partir de uma imagem de CD 
         completa utilizando um mirror na rede como uma fonte de pacotes 
         adicional; irá funcionar quando utilizar uma imagem de DVD ou 
         qualquer outro método de instalação.
       </p>
       <p>
         Existem também, disponíveis, imagens de CD distintas que instalam, 
         por omissão, o ambiente de desktop KDE ou o Xfce.
       </p>
      </item>
       <![ %not-s390 [

      <tag>
        Novos idiomas
      </tag>
      <item>
       <p>
         Thanks to the huge efforts of translators, Debian can now be 
         installed in 47 languages using the text-based installation user 
         interface. This is six languages more than in 
         &oldreleasename;. Languages added in this release include 
         Belarusian, Esperanto, Estonian, Kurdish, Macedonian, Tagalog, 
         Vietnamese and Wolof. Due to lack of translation updates, two 
         languages have been dropped in this release: Persian and Welsh.
       </p>
        <![ %g-i [

       <p>
         Se for utilizado o interface gráfico, são suportadas onze idiomas 
         adicionais. Estes idiomas apenas podem ser escolhidos utilizando 
         este instalador já que os seus conjuntos de caracteres não podem 
         ser apresentados num ambiente não-gráfico. Os novos idiomas são: 
         Bengali, Dzongkha, Gujarati, Hindi, Geórgio, Khmer, Malayalam, 
         Nepalês, Punjabi, Tamil e Tailandês.
       </p>
        ]]>

       <p>
         Os utilizadores que não desejem utilizar qualquer locale podem 
         agora escolher <em>C</em> como o seu locale preferido na escolha de 
         idioma no instalador. Mais informação acerca da cobertura de 
         idiomas está disponível na <url id="&url-d-i-i18n;" name="lista de 
         idiomas do d-i">.
       </p>
      </item>
      <tag>
        Escolha simplificada da localização e fuso horário
      </tag>
      <item>
       <p>
         Configuration of language, countries and timezones has been 
         simplified to reduce the amount of information needed from the 
         user. The installer will now guess what the system's country and 
         timezone is based on the language selected, or will provide a 
         limited selection if it cannot. Users can still introduce obscure 
         combinations if need be.
       </p>
      </item>
      <tag>
        Localização para todo o sistema melhorada
      </tag>
      <item>
       <p>
         Most of the internationalization and localization tasks that were 
         previously handled by the <package>localization-config</package> 
         tool are now included in the stock Debian installer or in packages 
         themselves. This means that selection of a language will 
         automatically install packages necessary for that language 
         (dictionaries, documentation, fonts...) in both standard and 
         desktop environments. Configuration that is no longer handled 
         automatically includes the papersize configuration and some 
         advanced X Windows keyboard settings for some languages.
       </p>
       <p>
         Note that language-specific packages will only be installed 
         automatically if they are available during the installation.
       </p>
      </item>
       ]]>

     </taglist>
    </p>
   </sect1>
   <sect1 id="inst-auto">
    <heading>
      Instalação automatizada
    </heading>
    <p>
      Muitas das alterações mencionadas na secção anterior implicam também 
      alterações no suporte ao instalador para a instalação automática 
      utilizando ficheiros pré-configurados. Significa que não pode esperar 
      que ficheiros pré-configurados que funcionem com o instalador da 
      &oldreleasename; funcionem também com o novo instalador sem qualquer 
      modificação.
    </p>
    <p>
      As boas notícias são que o <url id="&url-install-manual;" name= 
      "Installation Guide"> têm agora um apêndice separado com documentação 
      extensiva sobre como utilizar a pré-configuração.
    </p>
    <p>
      O instalador da versão &releasename; introduz algumas novas 
      funcionalidades excitantes que permitem um maior e mais fácil 
      automatização das instalações. Adiciona também suporte para a criação 
      de partições avançada utilizando RAID, LVM e LVM encriptada. veja a 
      documentação para mais detalhes.
    </p>
   </sect1>
  </sect>
  <sect id="popcon">
   <heading>
     Concurso de popularidade
   </heading>
   <p>
     O sistema de instalação irá novamente oferecer-se para instalar o 
     pacote <package>popularity-contest</package>. Este pacote não foi, por 
     omissão, instalado na &oldreleasename; mas era instalado em lançamentos 
     mais antigos.
   </p>
   <p>
     O <package>popularity-contest</package> fornece informação valiosa ao 
     Projecto Debian sobre quais os pacotes na distribuição que estão 
     actualmente em uso. Esta informação é usada principalmente para decidir 
     a ordem de inclusão dos mesmos em CD-ROMs de instalação, mas também 
     para ser consultada por Debian 'developers' para decidirem a adopção ou 
     não de um pacote que deixa de possuir um 'maintainer'.
   </p>
   <p>
     Information from <package>popularity-contest</package> is processed 
     anonymously. We would appreciate it if you would participate in this 
     official survey, helping to improve Debian.
   </p>
  </sect>
 </chapt>
 <chapt id="upgrading">
  <heading>
    Actualizações a partir de lançamentos anteriores
  </heading>
  <sect id="backup">
   <heading>
     Preparar para a actualização
   </heading>
   <p>
     We suggest that before upgrading you also read the information in <ref 
     id="information">. That chapter covers potential issues not directly 
     related to the upgrade process but which could still be important to 
     know about before you begin.
   </p>
   <sect1 id="data-backup">
    <heading>
      Salvaguardar quaisquer dados ou informação de configuração
    </heading>
    <p>
      Antes de actualizar o seu sistema é fortemente recomendado que efectue 
      um cópia de segurança total, ou pelo menos salvaguardar quaisquer 
      dados ou informações de configuração que não esteja disposto a 
      perder. As ferramentas de actualização e o processo são bastante 
      fiáveis, mas uma falha de hardware durante a actualização poderia 
      resultar num sistema extremamente danificado.
    </p>
    <p>
      A principal informação que quererá salvaguardar é o conteúdo de 
      <file>/etc</file>, <file>/var/lib/dpkg</file> e saída de <tt>dpkg 
      --get-selections "*"</tt> (as aspas são importantes).
    </p>
    <p>
      O processo de actualização enquanto decorre não altera nada no seu 
      directório <file>/home</file>. No entanto, algumas aplicações (por 
      exemplo artes do conjunto Mozilla, e os ambientes de desktop GNOME e 
      KDE) são conhecidas por sobreporem as definições pessoais existentes 
      pelas novas definições por omissão quando uma nova versão da aplicação 
      é iniciada pela primeira vez por um utilizador. Como precaução, pode 
      querer uma cópia de segurança dos ficheiros e directório escondidos 
      ("dotfiles") nos directórios dos utilizadores. Esta cópia de segurança 
      pode ajudá-lo a recuperar ou recriar as antigas definições. Pode 
      também querer informar os utilizadores sobre isto.
    </p>
    <p>
      Qualquer operação de instalação de um pacote terá que ser efectuada 
      com privilégios de super-utilizador, assim ou inicie a sessão como 
      root ou use <prgn>su</prgn> ou <prgn>sudo</prgn> para ganhar os 
      direitos de acesso necessários.
    </p>
    <p>
      Esta actualização possui poucas condições prévias, deverá verificá-las 
      antes de iniciar a actualização.
    </p>
   </sect1>
   <sect1>
    <heading>
      Informar os utilizadores com antecedência
    </heading>
    <p>
      É sensato informar todos os utilizadores com antecedência sobre 
      quaisquer actualização que estiver a planear, apesar dos utilizadores 
      que acedam ao sistema via uma ligação <prgn>ssh</prgn> pouco devem 
      notar durante a actualização, e devem conseguir continuar a trabalhar.
    </p>
    <p>
      Se quiser tomar precauções extra, faça uma cópia de segurança ou 
      desmonte as partições dos utilizadores (<file>/home</file>) antes de 
      actualizar.
    </p>
    <p>
      Você provelmente terá de fazer uma actualização do kernel para 
      &releasename;, por isso usualmente será necessário 
      reiniciar. Tipicamente, isto será feito após a actualização ter 
      terminado.
    </p>
   </sect1>
   <sect1 id="upgrade_preparations">
    <heading>
      Prepare a safe environment for the upgrade
    </heading>
    <p>
      A actualização da distribuição deve ser efectuada localmente a partir 
      de uma consola virtual de texto (ou directamente ligada a um terminal 
      série), ou remotamente através de uma ligação <prgn>ssh</prgn>.
    </p>
    <p>
      In order to gain extra safety margin when upgrading remotely, we 
      suggest that you run upgrade processes in the virtual console provided 
      by the <prgn>screen</prgn> program which enables safe reconnection and 
      ensures the upgrade process is not interrupted even if the remote 
      connection process fails.
    </p>
    <p>
      Se está a actualizar remotamente através de uma ligação 
      <prgn>ssh</prgn> é altamente recomendado que você tome as precauções 
      necessárias para ser capaz de aceder ao servidor através de um 
      terminal série remoto. Existem hipóteses de que, após actualizar o 
      kernel e reiniciar, alguns dispositivos sejam renomeados (conforme é 
      descrito em <ref id="device-reorder">) e você terá de corrigir a 
      configuração do sistema através duma consola local. Além disso, se o 
      sistema for reiniciado acidentalmente a meio de uma actualização 
      existem hipóteses que você necessite de recuperar utilizando uma 
      consola local.
    </p>
    <p>
      <strong>Importante!</strong> <em>Não</em> deve actualizar através de 
      <prgn>telnet</prgn>, <prgn>rlogin</prgn>, <prgn>rsh</prgn>, ou a 
      partir de uma sessão X gerida por <prgn>xdm</prgn>, <prgn>gdm</prgn> 
      ou <prgn>kdm</prgn> etc na máquina que estiver a actualizar. Isto 
      porque cada um dos serviços podem ser terminados durante esta 
      actualização, o que pode resultar num sistema <em>inacessível</em> que 
      ficou apenas com a actualização a meio.
    </p>
   </sect1>
   <sect1 id="glibc-kernel">
    <heading>
      O suporte para 2.2-kernels foi abandonado
    </heading>
    <p>
      In case you run a kernel prior to 2.4.1, you need to upgrade to (at 
      least) the 2.4-series before upgrading <package>glibc</package>. This 
      should be done before starting the upgrade. It is recommended that you 
      directly upgrade to the 2.6.8 kernel available in &oldreleasename;, 
      instead of upgrading to a 2.4 kernel.
    </p>
   </sect1>
  </sect>
  <sect id="system-status">
   <heading>
     A verificar o estado do sistema
   </heading>
   <p>
     The upgrade process described in this chapter has been designed for 
     upgrades from "pure" &oldreleasename; systems without third-party 
     packages. It may be wise to remove these packages first.
   </p>
   <p>
     Este procedimento assume que o seu sistema foi actualizado até ao 
     último ponto da versão &oldreleasename;. Se não tiver feito esta 
     actualização ou não tem a certeza, siga as instruções em <ref 
     id="old-upgrade">.
   </p>
   <sect1>
    <heading>
      Rever as acções pendentes no gestor de pacotes
    </heading>
    <p>
      In some cases, the use of <prgn>apt-get</prgn> for installing packages 
      instead of <prgn>aptitude</prgn> might make <prgn>aptitude</prgn> 
      consider a package as "unused" and schedule it for removal. In 
      general, you should make sure the system is fully up-to-date and 
      "clean" before proceeding with the upgrade.
    </p>
    <p>
      Because of this you should review if there are any pending actions in 
      the package manager <prgn>aptitude</prgn>. If a package is scheduled 
      for removal or update in the package manager, it might impact 
      negatively on the upgrade procedure. Note that correcting this is only 
      possible if your <file>sources.list</file> still points to 
      <em>&oldreleasename</em>; and not to <em>stable</em> or 
      <em>&releasename;</em>; see <ref id="old-sources">.
    </p>
    <p>
      Para fazer isto, você tem de correr o interface do utilizador do 
      <prgn>aptitude</prgn> e carregar em 'g' ("Go"). Se mostrar quaisquer 
      acções, você deve revê-las e, ou corrigi-las ou implementar as acções 
      sugeridas. Se não forem sugeridas acções deve ser-lhe apresentada uma 
      mensagem a dizer "Nenhum pacote está marcado para ser instalado, 
      removido ou actualizado".
    </p>
   </sect1>
   <sect1>
    <heading>
      Desactivar o APT pinning
    </heading>
    <p>
      Se configurou o APT para instalar determinados pacotes a partir de uma 
      distribuição que não a estável (por ex. a partir da testing), pode ter 
      que alterar a sua configuração de APT pinning (armazenada em 
      <file>/etc/apt/preferences</file>) para permitir a actualização de 
      pacotes para versões existentes na nova versão estável. Mais 
      informação sobre APT pinning pode ser encontrada em <manref 
      section="5" name="apt_preferences">.
    </p>
   </sect1>
   <sect1 id="package_status">
    <heading>
      Verificar o estado dos pacotes
    </heading>
    <p>
      Independentemente do método usado para a actualização, é recomendado 
      que primeiro verifique o estado de todos os pacotes, e verificar que 
      todos os pacotes estão em modo de actualização. O seguinte comando 
      listará todos os pacotes que possuem o estado Metade-Instalado 
      (Half-Installed) ou Configuração-Falhada (Failed-Config), e aqueles 
      que apresentem qualquer erro no estado.
     <example>
# dpkg --audit
          </example>
    </p>
    <p>
      Pode também inspeccionar o estado de todos os pacotes no seu sistema 
      utilizando <prgn>dselect</prgn>, <prgn>aptitude</prgn>, ou comandos 
      como
     <example>
# dpkg -l | pager 
          </example>
      ou
     <example>
# dpkg --get-selections "*" &gt; ~/curr-pkgs.txt
          </example>
    </p>
    <p>
      É desejável que remova todos os bloqueios ('holds') antes da 
      actualização. Se algum pacote essencial à actualização estiver 
      bloqueado, a actualização irá falhar.
    </p>
    <p>
      Note que o <prgn>aptitude</prgn> utiliza um método diferente para 
      registar os pacotes que estejam bloqueados pelo <prgn>apt-get</prgn> e 
      do <prgn>dselect</prgn>. Pode identificar pacotes bloqueados para o 
      <prgn>aptitude</prgn> com
     <example>
# aptitude search "~ahold" | grep "^.h"
          </example>
    </p>
    <p>
      Se quiser verificar que pacotes tem bloqueados para o 
      <prgn>apt-get</prgn> deverá utilizar
     <example>
# dpkg --get-selections | grep hold
          </example>
    </p>
    <p>
      Se alterar e recompilar localmente um pacote e não o renomear ou 
      colocar numa versão modificada, terá que o bloquear para prevenir que 
      o mesmo seja alterado.
    </p>
    <p>
      O estado bloqueado "hold" do pacote para o <prgn>aptitude</prgn> pode 
      ser alterado utilizando (substitua <tt>hold</tt> por <tt>unhold</tt> 
      para remover o estado bloqueado "hold"):
     <example>
# aptitude hold <var>package_name</var>
          </example>
    </p>
    <p>
      Se existe alguma coisa que necessita de corrigir, o melhor é 
      certificar-se que o seu ficheiro <file>sources.list</file> continua a 
      apontar para a versão &oldreleasename; como é explicado em <ref 
      id="old-sources">.
    </p>
   </sect1>
   <sect1 id="backports">
    <heading>
      Fontes não oficiais e 'backports'
    </heading>
    <p>
      Se possuir pacotes não-Debian no seu sistema, deverá saber que estes 
      podem ser removidos durante a actualização, devido a conflito de 
      dependências. Se estes pacotes foram instalados adicionando um arquivo 
      de pacotes extra ao seu <file>/etc/apt/sources.list</file>, deverá 
      verificar se aquele arquivo também oferece pacotes compilados para a 
      versão &releasename; e altere a linha da fonte de acordo com o mesmo 
      tipo de linhas de fontes para os pacotes Debian.
    </p>
    <p>
      Some users may have unofficial backported "newer" versions of packages 
      that <em>are</em> in Debian installed on their &oldreleasename; 
      system. Such packages are most likely to cause problems during an 
      upgrade as they may result in file conflicts<footnote><p>Debian's 
      package management system normally does not allow a package to remove 
      or replace a file owned by another package unless it has been defined 
      to replace that package.</p></footnote>. Section <ref id="trouble"> 
      has some information on how to deal with file conflicts if they should 
      occur.
    </p>
   </sect1>
  </sect>
  <sect id="handle-conflict">
   <heading>
     Desmarcar pacotes manualmente
   </heading>
   <p>
     Para prevenir o <prgn>aptitude</prgn> de remover alguns pacotes que 
     foram pedidos através das dependências, você necessita de manualmente 
     desmarca-los como pacotes <em>auto</em>. Isto inclui o OpenOffice e o 
     Vim para instalações de desktop:
    <example>
# aptitude unmarkauto openoffice.org vim  
</example>
   </p>
   <p>
     E as imagens do kernel 2.6 se as instalou utilizando um meta-pacote de 
     kernel:
    <example>
# aptitude unmarkauto $(dpkg-query -W 'kernel-image-2.6*' | cut -f1)
</example>
   </p>
   <p>
     Note: You can review which packages are marked as <em>auto</em> in 
     aptitude by running:
    <example>
# aptitude search 'i~M &lt;package name&gt;'
</example>
   </p>
  </sect>
  <sect id="upgrade-process">
   <heading>
     Preparar as fontes para o APT
   </heading>
   <p>
     Antes de iniciar a actualização deverá configurar o ficheiro de 
     configuração do <package>apt</package> para listas de pacotes, 
     <file>/etc/apt/sources.list</file>.
   </p>
   <p>
     O <package>apt</package> irá considerar todos os pacotes que podem ser 
     encontrados através de qualquer linha "<tt>deb</tt>", e instalará o 
     pacote com o número de  versão mais elevado, dando prioridade às 
     primeiras linhas mencionadas (deste modo, em caso de múltiplos locais 
     de 'mirrors', tipicamente deverá ter primeiro um disco local, depois 
     CD-ROMs e então 'mirrors' HTTP/FTP).
   </p>
   <p>
     Uma versão pode regularmente ser referida por outra através do seu nome 
     de código (por ex. &oldreleasename;, &releasename;) e pelo seu nome de 
     estado (por ex. oldstable, stable, testing, unstable). Referir-se a uma 
     versão pelo seu nome de código tem a vantagem que que nunca será 
     surpreendido por uma nova versão e por esta razão é o método utilizado 
     aqui. Significa com certeza que terá de observar as notas de lançamento 
     para as versões. Se pelo contrário utilizar o nome de estado, verá 
     apenas carregamentos de actualizações para os pacotes disponíveis assim 
     que uma saída de versão é lançada.
   </p>
   <sect1 id="network">
    <heading>
      Acrescentar fontes APT da Internet
    </heading>
    <p>
      A configuração por omissão é definida para instalação a partir de um 
      servidor Debian principal, mas poderá desejar modificar o 
      <file>/etc/apt/sources.list</file> para utilizar outros 'mirrors', de 
      preferência um 'mirror' proveniente de local mais perto de si.
    </p>
    <p>
      Endereços de 'mirrors' Debian HTTP ou FTP podem ser encontrados em 
      <url id="&url-debian-mirrors;"> (veja na secção "Lista completa de 
      'mirrors'"). OS 'mirrors' HTTP são geralmente mais rápidos do que os 
      'mirrors' FTP.
    </p>
    <p>
      Por exemplo, suponha que o 'mirror' Debian mais perto é 
      <tt>&url-debian-mirror-eg;/</tt>. Quando inspeccionar aquele 'mirror' 
      com um navegador web ou um programa FTP, irá notar que os directórios 
      principais estão organizados desta forma:
     <example>
&url-debian-mirror-eg;/dists/&releasename;/main/binary-&architecture;/...
&url-debian-mirror-eg;/dists/&releasename;/contrib/binary-&architecture;/...
           </example>
    </p>
    <p>
      Para utilizar este 'mirror' com o <prgn>apt</prgn>, terá de 
      acrescentar esta linha ao seu ficheiro <file>sources.list</file>:
     <example>
deb &url-debian-mirror-eg; &releasename; main contrib
           </example>
    </p>
    <p>
      Note que `<tt>dists</tt>' é implicitamente adicionado, e que os 
      argumentos que se seguem ao nome da versão são utilizados para 
      expandir o caminho em múltiplos directórios.
    </p>
    <p>
      Depois de adicionar novas fontes, desactive as linhas antigas 
      "<tt>deb</tt>" existentes em <file>sources.list</file>, colocando um 
      cardinal (<tt>#</tt>) em frente às mesmas.
    </p>
    <p>
      Qualquer pacote necessário para a instalação que tenha sido obtido 
      pela rede é armazenado em <file>/var/cache/apt/archives</file> (e no 
      directório <file>partial/</file> durante o download), deverá assim 
      certificar-se que possui espaço suficiente antes de iniciar a 
      instalação. Com uma instalação Debian razoavelmente estendida pode 
      esperar um download de cerca de 300 MB.
    </p>
   </sect1>
   <sect1 id="localmirror">
    <heading>
      Acrescentar fontes APT para um 'mirror' local
    </heading>
    <p>
      Em vez de usar os 'mirrors' HTTP ou FTP de pacotes, pode desejar 
      modificar o <file>/etc/apt/sources.list</file> de modo a usar um 
      mirror num disco local (possivelmente montado sobre NFS).
    </p>
    <p>
      Por exemplo, o seu 'mirror' de pacotes poderá estar sob 
      <file>/var/ftp/debian/</file> e pode ter directórios principais como 
      estes:
     <example>
/var/ftp/debian/dists/&releasename;/main/binary-&architecture;/...
/var/ftp/debian/dists/&releasename;/contrib/binary-&architecture;/...
           </example>
    </p>
    <p>
      Para usar com o <prgn>apt</prgn>, acrescente esta linha ao seu 
      ficheiro <file>sources.list</file>:
     <example>
deb file:/var/ftp/debian &releasename; main contrib
           </example>
    </p>
    <p>
      Note que `<tt>dists</tt>' é implicitamente adicionado, e que os 
      argumentos que se seguem ao nome da versão são utilizados para 
      expandir o caminho em múltiplos directórios.
    </p>
    <p>
      Depois de adicionar novas fontes, desactive as linhas antigas 
      "<tt>deb</tt>" existentes em <file>sources.list</file>, colocando um 
      cardinal (<tt>#</tt>) em frente às mesmas.
    </p>
   </sect1>
   <sect1 id="cdroms">
    <heading>
      Acrescentar uma fonte APT de CD-ROM ou DVD
    </heading>
    <p>
      Se quiser utilizar CDs tem <em>apenas</em> que comentar as linhas 
      "<tt>deb</tt>" existentes em <file>/etc/apt/sources.list</file> 
      colocando um cardinal (<tt>#</tt>) em frente das mesmas.
    </p>
    <p>
      Certifique-se que existe uma linha em <file>/etc/fstab</file> que 
      permita a montagem da sua drive CD-ROM no ponto de montagem 
      <file>/cdrom</file> (o ponto de montagem exacto <file>/cdrom</file> é 
      necessário para o <prgn>apt-cdrom</prgn>). Por exemplo, se 
      <file>/dev/hdc</file> for a sua drive CD-ROM, o 
      <file>/etc/fstab</file> deverá conter uma linha como esta:
     <example>
/dev/hdc /cdrom auto defaults,noauto,ro 0 0
          </example>
    </p>
    <p>
      Note que entre as palavras <tt>defaults,noauto,ro</tt> encontradas no 
      quarto campo <em>não</em> deverão existir <em>espaços</em>.
    </p>
    <p>
      Para verificar que tal funciona, insira um CD e tente correr
     <example>
# mount /cdrom    # montará o CD no ponto de montagem
# ls -alF /cdrom  # mostrará o directório root do CD
# umount /cdrom   # desmontará o CD
          </example>
    </p>
    <p>
      A seguir, corra:
     <example>
# apt-cdrom add
          </example>
      para cada CD-ROM de Binários Debian que possua, para adicionar 
      informação de cada CD à base de dados APT.
    </p>
   </sect1>
  </sect>
  <sect id="upgradingpackages">
   <heading>
     Actualizar pacotes
   </heading>
   <p>
     A forma recomendada para actualizar pacotes de lançamentos anteriores 
     &debian; é o gestor de pacotes <prgn>aptitude</prgn>. Este programa 
     produz decisões mais seguras sobre as instalações de pacotes do que 
     correr o <prgn>apt-get</prgn> directamente.
   </p>
   <p>
     Não se esqueça de montar todas as partições necessárias (nomeadamente a 
     partição root e <file>/usr</file>) em modo de leitura-escrita, com um 
     comando como:
    <example>
# mount -o remount,rw /<var>ponto_montagem</var>
          </example>
   </p>
   <p>
     De seguida deverá confirmar novamente que as entradas das fontes do APT 
     (em <file>/etc/apt/sources.list</file>), se referem a 
     "<tt>&releasename;</tt>" ou a "<tt>stable</tt>". Não deverão haver 
     quaisquer entradas de fontes que apontem para &oldreleasename;. Note: 
     as linhas das fontes para um CD-ROM normalmente irão referir-se a 
     "<tt>unstable</tt>"; embora isto possa ser confuso, você <em>não</em> o 
     deverá alterar.
   </p>
   <sect1 id="record_session">
    <heading>
      Gravar a sessão
    </heading>
    <p>
      É-lhe fortemente recomendado que utilize o programa 
      <prgn>/usr/bin/script</prgn> para gravar uma transcrição da sessão de 
      actualização. Assim caso ocorra qualquer problema, terá o relatório 
      sobre o que aconteceu, e se necessário poderá fornecer informação 
      exacta sob a forma de um relatório de erro. Para iniciar a gravação, 
      escreva:
     <example>
# script -t 2>~/upgrade-&releasename;.time -a ~/upgrade-&releasename;.script
          </example>
      ou qualquer coisa similar. Não coloque o ficheiro transcrito num 
      directório temporário como <file>/tmp</file> ou <file>/var/tmp</file> 
      (os ficheiros nesses directórios são apagados durante a actualização 
      ou durante uma reinicialização).
    </p>
    <p>
      O transcrito permitir-lhe-á também rever informação que tenha sido 
      passada para fora do ecrã. Alterne para VT2 (utilizando 
      <tt>Alt-F2</tt>) e, depois de iniciar a sessão, utilize <tt>less 
      ~root/upgrade-&releasename;.script</tt> para ver o ficheiro.
    </p>
    <p>
      Depois de ter completado a actualização, pode parar o 
      <prgn>script</prgn> escrevendo <tt>exit</tt>na consola.
    </p>
    <p>
      Se você utilizou a opção <em>-t</em> para o <prgn>script</prgn> você 
      pode utilizar o programa <prgn>scriptreplay</prgn> para reproduzir 
      toda a sessão:
     <example>
# scriptreplay ~/upgrade-&releasename;.time ~/upgrade-&releasename;.script
          </example>
    </p>
   </sect1>
   <sect1 id="updating_lists">
    <heading>
      Actualizar a lista de pacotes
    </heading>
    <p>
      Primeiro necessita ser obtida a lista de pacotes disponíveis para o 
      novo lançamento. Isto é feito ao executar:
    </p>
    <p>
     <example>
# aptitude update
	  </example>
    </p>
    <p>
      Ao correr isto pela primeira vez as novas fontes são actualizadas irão 
      escrever alguns avisos relacionados com a disponibilidade das 
      fontes. Estes avisos são inofensivos e não irão aparecer se correr 
      novamente o comando.
    </p>
   </sect1>
   <sect1>
    <heading>
      Certifique-se que possui espaço suficiente para a actualização
    </heading>
    <p>
      Terá que se certificar que possui suficiente espaço em disco antes de 
      actualizar completamente a sua versão como descrito em <ref 
      id="upgrading_other">. Necessitará primeiro de suficiente espaço em 
      disco na partição que albergará <file>/var/</file> para descarregar 
      temporariamente os pacotes que serão instalados no seu sistema. Depois 
      de os descarregar, necessitará provavelmente de mais espaço noutras 
      partições de modo a instalar esses pacotes anteriormente descarregados 
      (que podem conter binários de grande dimensão), e novos pacotes que 
      serão obtidos na actualização. Se o seu sistema não possui suficiente 
      espaço pode acabar com uma actualização incompleta de recuperação 
      difícil.
    </p>
    <p>
      Ambos o <prgn>aptitude</prgn> e o <prgn>apt</prgn> irão mostrar 
      informação detalhada sobre o espaço em disco necessário para a 
      instalação. Antes de efectuar a actualização do sistema, pode ver esta 
      estimativa, correndo:
    </p>
    <p>
     <example>
# aptitude -y -s -f --with-recommends dist-upgrade
[ ... ]
XXX actualizados, XXX novos instalados , XXX a remover e XXX não actualizados.
Necessário obter xx.xMB/yyyMB de arquivos. Depois da descompressão AAAMB serão usados.
Serão descarregados/instalados/removidos pacotes.
       </example>
    </p>
    <p>
      Se não tiver espaço suficiente para a actualização, certifique-se que 
      liberta suficiente espaço antes da mesma. Poderá:
    </p>
    <p>
     <list>
      <item>
       <p>
         Remove packages that have been previously downloaded for 
         installation (at <file>/var/cache/apt/archive</file>). Cleaning up 
         the package cache by running <prgn>apt-get autoclean</prgn> or 
         <prgn>aptitude autoclean</prgn> will remove unused package 
         files. If that does not give you enough space, you can clean up the 
         package cache further by running <prgn>apt-get clean</prgn> or 
         <prgn>aptitude clean</prgn>.
       </p>
      </item>
      <item>
       <p>
         Remover pacotes antigos que já não utiliza. Se tiver instalado o 
         <prgn>popularity-contest</prgn>, você pode utilizar o 
         <prgn>popcon-largest-unused</prgn> para listar os pacotes que não 
         estão já em utilização e que ocupam mais espaço. Você pode também 
         utilizar o <prgn>deborphan</prgn> ou o <prgn>debfoster</prgn> para 
         procurar pacotes obsoletos (veja <ref id="obsolete">). Em 
         alternativa você pode iniciar o <prgn>aptitude</prgn> em "modo 
         visual" e procurar pacotes obsoletos sob "Pacotes Obsoletos e 
         Criados Localmente".
       </p>
      </item>
      <item>
       <p>
         Remova pacotes que estejam a ocupar demasiado espaço, e que não 
         estejam a ser necessários (pode sempre reinstalá-los depois da 
         actualização). Pode listar os pacotes que ocupam o maior espaço em 
         disco com <prgn>dpigs</prgn> (disponível no pacote 
         <package>debian-goodies</package> ou com <prgn>wajig</prgn> 
         (correndo <tt>wajig size</tt>).
       </p>
      </item>
      <item>
       <p>
         Mova temporariamente para outro sistema, ou remova permanentemente, 
         os relatórios de sistema residentes em <file>/var/log/</file>.
       </p>
      </item>
     </list>
    </p>
    <p>
      Note que de modo para remover pacotes em segurança, é aconselhável 
      mudar o seu <file>sources.list</file> de novo para &oldreleasename; 
      conforme é explicado em <ref id="old-sources">.
    </p>
   </sect1>
   <sect1 id="minimal_upgrade">
    <heading>
      Actualização minima do sistema
    </heading>
    <p>
      Because of certain necessary package conflicts between 
      &oldreleasename; and &releasename;, running <tt>aptitude 
      dist-upgrade</tt> directly will often remove large numbers of packages 
      that you will want to keep. We therefore recommend a two-part upgrade 
      process, first a minimal upgrade to overcome these conflicts, then a 
      full <tt>dist-upgrade</tt>.
    </p>
    <p>
      First, run:
     <example>
# aptitude upgrade
          </example>
    </p>
    <p>
      This has the effect of upgrading those packages which can be upgraded 
      without requiring any other packages to be removed or installed.
    </p>
    <p>
      Follow the minimal upgrade with:
     <example>
# aptitude install initrd-tools
          </example>
    </p>
    <p>
      This step will automatically upgrade <package>libc6</package> and 
      <package>locales</package> and will pull in SELinux support libraries 
      (<package>libselinux1</package>). At this point, some running services 
      will be restarted, including <prgn>xdm</prgn>, <prgn>gdm</prgn> and 
      <prgn>kdm</prgn>, as a consequence local X11 sessions will be 
      disconnected.
    </p>
    <p>
      The next step will vary depending on the set of packages that you have 
      installed. These release notes give general advice about which method 
      should be used, but if in doubt, it is recommended that you examine 
      the package removals proposed by each method before proceeding.
    </p>
    <p>
      Some common packages that are expected to be removed include 
      <package>base-config</package>, <package>hotplug</package>, 
      <package>xlibs</package>, <package>netkit-inetd</package>, 
      <package>python2.3</package>, <package>xfree86-common</package>, and 
      <package>xserver-common</package>. For a more complete list of 
      packages obsoleted in &releasename;, see <ref id="obsolete">.
    </p>
    <sect2 id="minimal_upgrade_desktop">
     <heading>
       Upgrading a desktop system
     </heading>
     <p>
       This upgrade path has been verified to work on systems with the sarge 
       <tt>desktop</tt> task installed. It is probably the method that will 
       give the best results on systems with the <tt>desktop</tt> task 
       installed, or with the <tt>gnome</tt> or <tt>kde</tt> packages 
       installed.
     </p>
     <p>
       It is probably <em>not</em> the correct method to use if you do not 
       already have the <package>libfam0c102</package> and 
       <package>xlibmesa-glu</package> packages installed:
      <example>
# dpkg -l libfam0c102 | grep ^ii
# dpkg -l xlibmesa-glu | grep ^ii
          </example>
     </p>
    </sect2>
    <sect2 id="minimal_upgrade_x_server">
     <heading>
       Upgrading a system with some X packages installed
     </heading>
     <p>
       Systems with some X packages installed, but not the full 
       <tt>desktop</tt> task, require a different method. This method 
       applies in general to systems with <package>xfree86-common</package> 
       installed, including some server systems which have 
       <package>tasksel</package> server tasks installed as some of these 
       tasks include graphical management tools. It is likely the correct 
       method to use on systems which run X, but do not have the full 
       <tt>desktop</tt> task installed.
      <example>
# dpkg -l xfree86-common | grep ^ii
        </example>
     </p>
     <p>
       First, check whether you have the <package>libfam0c102</package> and 
       <package>xlibmesa-glu</package> packages installed.
      <example>
# dpkg -l libfam0c102 | grep ^ii
# dpkg -l xlibmesa-glu | grep ^ii
          </example>
     </p>
     <p>
       If you do not have <package>libfam0c102</package> installed, do not 
       include <package>libfam0</package> in the following commandline. If 
       you do not have <package>xlibmesa-glu</package> installed, do not 
       include it in the following commandline. <footnote><p>This command 
       will determine whether you need libfam0 and xlibmesa-glu installed, 
       and auto-select them for you: <example># aptitude install x11-common 
       \ $(dpkg-query --showformat '${Package} ${Status}\n' -W libfam0c102 
       xlibmesa-glu \ | grep 'ok installed$' | sed -e's/ .*//; s/c102//') 
       </example> </p></footnote>
      <example>
# aptitude install <var>libfam0</var> <var>xlibmesa-glu</var> x11-common
          </example>
     </p>
     <p>
       Note que fazer isto também instala o File Alteration Monitor 
       (<package>fam</package>) assim como o 'portmapper RPC' 
       (<package>portmap</package>) se ainda não estiver disponível no seu 
       sistema. Ambos os pacotes irão habilitar um novo serviço de rede no 
       sistema embora ambos possam ser configurados para ficarem ligados ao 
       dispositivo de rede loopback (interno).
     </p>
    </sect2>
    <sect2 id="minimal_upgrade_server">
     <heading>
       Upgrading a system with no X support installed
     </heading>
     <p>
       On a system with no X, no additional aptitude install command should 
       be required, and you can move on to the next step.
     </p>
    </sect2>
   </sect1>
   <sect1 id="upgrading_kernel">
    <heading>
      Upgrading the kernel
    </heading>
    <p>
      If your system does not have the <tt>desktop</tt> task installed, or 
      other packages that would cause an unacceptable number of package 
      removals, it is recommended that you upgrade the kernel at this 
      point. The reason for this is that the next step will install the 
      latest <package>udev</package> and remove <package>hotplug</package>, 
      removing hotplug support for Linux kernels before 2.6.15 at some point 
      during the <tt>dist-upgrade</tt>. Although this should not remove any 
      kernels you currently have installed, in some cases your previous 
      kernel will not detect and load drivers for all hardware if booted 
      without compatible hotplug support. See <ref 
      id="upgrade_preparations"> for recommendations on preparing for this 
      possibility if you are upgrading remotely.
    </p>
    <p>
      To proceed with this kernel upgrade, run:
     <example>
# aptitude install linux-image-2.6-<var>flavor</var>
          </example>
      See <ref id="newkernel"> for help in determining which flavor of 
      kernel package you should install.
    </p>
    <p>
      In the desktop case, it is unfortunately not possible to ensure the 
      new kernel package is installed immediately after the new 
      <package>udev</package> is installed, so there is a window of unknown 
      length when your system will have no kernel installed with full 
      hotplug support. See <ref id="newkernel"> for information on 
      configuring your system to not depend on hotplug for booting.
    </p>
   </sect1>
   <sect1 id="upgrading_other">
    <heading>
      Actualizar do restante sistema
    </heading>
    <p>
      Está agora pronto para continuar a actualização da parte 
      principal. Execute:
    </p>
    <p>
     <example>
# aptitude dist-upgrade
	  </example>
    </p>
    <p>
      Isto irá executar a actualização completa do sistema, i.e. instalar as 
      versões mais recentes disponíveis de todos os pacotes, e resolverá 
      todas as possíveis alterações de dependências entre pacotes em 
      lançamentos diferentes. Se necessário, irá instalar alguns novos 
      pacotes (normalmente novas versões de bibliotecas, ou pacotes 
      renomeados), e remover quaisquer pacotes em conflito e obsoletos.
    </p>
    <p>
      Quando a actualização for feita a partir de um conjunto de CD-ROMs, 
      ser-lhe-á pedido que insira CDs específicos num determinado ponto 
      durante a actualização. Pode ter que inserir o mesmo CD múltiplas 
      vezes, isto devido a pacotes interrelacionados que foram distribuídos 
      pelos CDs.
    </p>
    <p>
      Novas versões dos pacotes actualmente instalados que não possam ser 
      actualizadas sem alterar o estado de instalação de outro pacote serão 
      deixadas na sua versão actual (visíveis como "held back"). Isto pode 
      ser resolvido ou usando o <prgn>aptitude</prgn> de modo a escolher 
      estes pacotes para instalação ou tentando <tt>aptitude -f install 
      <var>pacote</var></tt>.
    </p>
   </sect1>
   <sect1 id="get_signatures">
    <heading>
      Getting package signatures
    </heading>
    <p>
      After the upgrade, with the new version of <prgn>apt</prgn> you can 
      now update your package information, which will include the new 
      package signature checking mechanism:
    </p>
    <p>
     <example>
# aptitude update
	  </example>
    </p>
    <p>
      The upgrade will have already retrieved and enabled the signing keys 
      for Debian's package archives. If you add other (unofficial) package 
      sources, <prgn>apt</prgn> will print warnings related to its inability 
      to confirm that packages downloaded from them are legitimate and have 
      not been tampered with. For more information please see <ref 
      id="secureapt">.
    </p>
    <p>
      You will notice that, since you are using the new version of 
      <prgn>apt</prgn>, it will download package differences files 
      (<tt>pdiff</tt>) instead of the full package index list. For more 
      information on this feature please read <ref id="apt-pdiff">.
    </p>
   </sect1>
   <sect1 id="trouble">
    <heading>
      Possíveis problemas durante a actualização
    </heading>
    <p>
      Se uma operação a utilizar o <prgn>aptitude</prgn>, 
      <prgn>apt-get</prgn> ou <prgn>dpkg</prgn>falha com o erro
     <example>
E: Dynamic MMap ran out of room
</example>
      o espaço de cache, por omissão, é insuficiente. Pode resolver tanto 
      pela remoção ou comentado as linhas que não necessita em 
      <file>/etc/apt/sources.list</file> ou aumentando a dimensão da 
      cache. A dimensão da cache pode ser aumentada pela definição de 
      <tt>APT::Cache-Limit</tt> em <file>/etc/apt/apt.conf</file>. O 
      seguinte comando definirá para um valor que deverá ser suficiente para 
      a actualização:
     <example>
# echo 'APT::Cache-Limit "12500000";' >> /etc/apt/apt.conf
</example>
      Assume que não tem ainda nenhuma variável definida neste ficheiro.
    </p>
    <p>
      Por vezes é necessário activar a opção APT::Force-LoopBreak no APT 
      para ser possível remover temporariamente um pacote essencial devido a 
      um ciclo de Conflitos/Pré-Dependências. O <prgn>aptitude</prgn> irá 
      alertá-lo disto e abortará a actualização. Pode contornar o problema 
      especificando a opção <tt>APT::Force-LoopBreak=1</tt> na linha de 
      comandos do <prgn>aptitude</prgn>.
    </p>
    <p>
      É possível que uma estrutura de dependências do sistema se torne 
      corrupta de modo a necessitar de intervenção manual. Normalmente isto 
      significa usar o <prgn>aptitude</prgn> ou
     <example>
# dpkg --remove <var>nome_de_pacote</var>
          </example>
      para eliminar alguns dos pacotes que estão a prejudicar, ou
     <example>
# aptitude --fix-broken install
# dpkg --configure --pending
          </example>
    </p>
    <p>
      Em casos extremos poderá ter que forçar a reinstalação com um comando 
      como
     <example>
# dpkg --install <var>/path/to/package_name.deb</var>
          </example>
    </p>
    <p>
      Os conflitos de ficheiros não ocorrem se estiver a actualizar a partir 
      de um sistema &oldreleasename; "puro", mas pode acontecer se tiver 
      instalado 'backports' não-oficiais. Um conflito de ficheiros pode 
      resultar no seguinte erro:
     <example>
A desempacotar <var>&lt;package-name&gt;</var> (de <var>&lt;package-foo&gt;</var>) ...
dpkg: erro ao processar <var>&lt;package-name-for-foo&gt;</var> (--install):
 a tentar sobrescrever `<var>&lt;some-file-name&gt;</var>',
 que também está no pacote <var>&lt;package-bar&gt;</var>dpkg-deb: subprocesso paste morto pelo sinal ('pipe' quebrado)
 <var>&lt;package-foo&gt;</var>
          </example>
    </p>
    <p>
      Pode tentar resolver um conflito de ficheiro, efectuando a remoção 
      forçada do pacote mencionado na <em>última</em> linha da mensagem de 
      erro:
     <example>
# dpkg -r --force-depends <var>nome_de_pacote</var>
          </example>
    </p>
    <p>
      Depois de corrigir as coisas, deverá ser capaz de continuar a 
      actualização repetindo os comandos <tt>aptitude</tt> descritos atrás.
    </p>
    <p>
      Durante a actualização, ser-lhe-ão colocadas questões relacionadas com 
      a configuração ou re-configuração de vários pacotes. Quando lhe for 
      perguntado se algum ficheiros dos directórios <file>/etc/init.d</file> 
      ou <file>/etc/terminfo</file>, ou o ficheiro 
      <file>/etc/manpath.config</file> deve ser substituído pela versão do 
      'maintainer' do pacote, normalmente é necessário responder 
      afirmativamente para garantir a consistência do sistema. Pode sempre 
      reverter à versão anterior, já que estas serão gravadas com uma 
      extensão <tt>.dpkg-old</tt>.
    </p>
    <p>
      Se tiver dúvidas sobre o que responder, anote o nome do pacote ou 
      ficheiro e resolva as coisas mais tarde. Pode procurar o ficheiro 
      transcrito de modo a rever a informação que esteve no ecrã durante a 
      actualização.
    </p>
   </sect1>
  </sect>
  <sect id="newkernel">
   <heading>
     Actualizar o seu kernel e pacotes relacionados
   </heading>
   <p>
     Deverá actualizar o kernel do Linux separadamente do resto dos seus 
     pacotes. Pode querer fazê-lo você mesmo, ou através da instalação de um 
     dos pacotes <package>linux-image-*</package> ou através da compilação 
     de um kernel personalizado a partir do código fonte. Por favor leia a 
     informação nesta secção sobre potenciais problemas com a actualização 
     do kernel.
   </p>
    <![ %defaulted-2.4 [

   <p>
     If you are currently using a 2.4 kernel, you should also read <ref 
     id="upgrade-to-2.6"> carefully.
   </p>
    ]]>

   <sect1>
    <heading>
      Instalar o meta-pacote do kernel
    </heading>
    <p>
      Quando executa uma actualização de versão (dist-upgrade) da 
      &oldreleasename; para &releasename;, é fortemente recomendado que 
      instale um novo meta-pacote linux-image-2.6-*. Este pacote pode ser 
      instalado automaticamente pelo processo dist-upgrade. Pode verificar 
      isto ao correr:
     <example>
# dpkg -l "linux-image*" | grep ^ii
          </example>
    </p>
    <p>
      Se não vê nenhum 'output' poderá ter que instalar um novo pacote 
      linux-image manualmente. Para ver uma lista de meta-pacotes 
      linux-image-2.6 disponíveis corra:
     <example>
# apt-cache search linux-image-2.6- | grep -v transition
          </example>
    </p>
    <p>
      If you are unsure about which package to select, run <tt>uname -r</tt> 
      and look for a package with a similar name. For example, if you see 
      '2.4.27-3-686', it is recommended that you install 
      <package>linux-image-2.6-686</package>. <![ %i386 [ (Note that the 386 
      flavor no longer exists; if you are currently using the 386 kernel 
      flavor, you should install the 486 flavor instead.) ]]> You may also 
      use <prgn>apt-cache</prgn> to see a long description of each package 
      in order to help choose the best one available. For example:
     <example>
# apt-cache show linux-image-2.6-686
          </example>
    </p>
    <p>
      Deverá então utilizar <tt>aptitude install</tt> para o instalar. Uma 
      vez que este novo kernel esteja instalado deverá reinicializar na 
      primeira oportunidade para obter os benefícios disponibilizados pela 
      nova versão do kernel.
    </p>
    <p>
      Para os mais aventurosos existe um modo fácil de compilar o seu kernel 
      personalizado na &debian;. Instale a ferramenta 
      <package>kernel-package</package> e leia a documentação em 
      <file>/usr/share/doc/kernel-package</file>.
    </p>
   </sect1>
   <sect1 id="upgrade-from-2.6">
    <heading>
      Actualizar a partir de um kernel 2.6
    </heading>
    <p>
      Se você está actualmente a correr um kernel da série 2.6 da 
      &oldreleasename; esta actualização irá tomar lugar automaticamente 
      após você tiver feito uma actualização completa dos pacotes de sistema 
      (conforme é descrito em <ref id="upgradingpackages">).
    </p>
    <p>
      Tenha em conta que a versão do <prgn>udev</prgn> na &releasename; não 
      suporta as versões do kernel anteriores à 2.6.15 (que inclui os 
      kernels da &oldreleasename;). Da mesma forma a versão do 
      <prgn>udev</prgn> na &oldreleasename; não irá funcionar correctamente 
      com os kernels mais recentes. Como consequência, o anterior pacote de 
      kernel provavelmente não irá arrancar correctamente após esta 
      actualização. Da mesma forma, existe um período de tempo durante a 
      actualização no qual o <prgn>udev</prgn> foi actualizado mas não o 
      kernel mais recente. Se o sistema for reiniciado nesta altura, a meio 
      da actualização, poderá não arrancar.
    </p>
    <p>
      Consequently, you might want to upgrade to the latest kernel before 
      doing the full upgrade. Before you can upgrade to the 2.6 series 
      kernel available in &releasename; you will have to upgrade to the 
      latest version of <package>initrd-tools</package>. To upgrade the 
      kernel before the upgrade, take all the steps up to and including the 
      steps related to the a minimal upgrade of the system, as described in 
      <ref id="minimal_upgrade">. Once the package 
      <package>initrd-tools</package> has been upgraded after those steps, 
      you can do the following (changing the kernel package name to the one 
      most suited to your system by substituting <em>&lt;flavor&gt;</em>):
     <example>
# aptitude install linux-image-2.6-&lt;flavor&gt;
        </example>
    </p>
    <p>
      Este passo também irá actualizar o <package>libc6</package>, instalar 
      o <prgn>udev</prgn>, e remover o <package>base-config</package> e o 
      <package>hotplug</package>.
    </p>
    <p>
      Você pode também tomar este passo se está a utilizar o seu próprio 
      kernel personalizado e quiser utilizar o kernel disponível na 
      &releasename;. Se a sua versão do kernel não for suportada pelo 
      <prgn>udev</prgn> então é recomendado que você actualize após a 
      actualização minima. Se a sua versão for suportada pelo 
      <prgn>udev</prgn> você pode esperar em segurança até depois da 
      actualização completa do sistema.
    </p>
   </sect1>
    <![ %defaulted-2.4 [

   <sect1 id="upgrade-from-2.4">
    <heading>
      Actualizar a partir de um kernel 2.4
    </heading>
    <p>
      If you have a 2.4 kernel installed, and your system relies on 
      <package>hotplug</package> for its hardware detection you should first 
      upgrade to a 2.6 series kernel from &oldreleasename; before attempting 
      the upgrade. Make sure that the 2.6 series kernel boots your system 
      and all your hardware is properly detected before you perform the 
      upgrade. The <package>hotplug</package> package is removed from the 
      system (in favor of <package>udev</package>) when you do a full system 
      upgrade. If you do not do the kernel upgrade before this your system 
      might not boot up properly from this point on. Once you have done an 
      upgrade to a 2.6 series kernel in &oldreleasename; you can do a kernel 
      upgrade as described in <ref id="upgrade-from-2.6">.
    </p>
    <p>
      Se o seu sistema não se baseia no 
      <package>hotplug</package><footnote><p>Você pode ter os módulos do 
      kernel necessários para o seu sistema a serem carregados estaticamente 
      através de uma configuração apropriada em 
      <file>/etc/modules</file></p></footnote> você pode atrasar a 
      actualização do kernel para após ter feito uma actualização completa 
      do sistemam, conforme é descrito em <ref id="upgrading_other">. Uma 
      vez que o seu sistema tenha sido actualizado você pode fazer o 
      seguinte (alterando o nome do pacote do kernel para o mais adequado ao 
      seu sistema substituindo <em>&lt;flavor&gt;</em>):
     <example>
# aptitude install linux-image-2.6-&lt;flavor&gt;
        </example>
    </p>
   </sect1>
    ]]>

   <sect1 id="device-reorder">
    <heading>
      Reordenação da enumeração de dispositivos
    </heading>
    <p>
      A &releasename; oferece um mecanismo mais robusto para a descoberta de 
      hardware do que nos lançamentos anteriores. No entanto, isto poderá 
      causar alterações na ordem pela qual os dispositivos são descobertos 
      no seu sistema, afectando a ordem na qual os nomes dos mesmos são 
      atribuídos. Por exemplo, se possuir duas placas de rede que estejam 
      associadas a dois controladores diferentes, os dispositivos a que se 
      referem eth0 e eth1 podem ser trocados. Por favor note que o novo 
      mecanismo significa que se por ex. trocar as placas de rede num 
      sistema &releasename; existente, a nova placa de rede também obterá um 
      novo nome de interface.
    </p>
    <p>
      For network devices, you can avoid this reordering by using 
      <prgn>udev</prgn> rules, more specifically, through the definitions at 
      <file>/etc/udev/rules.d/z25_persistent-net.rules</file><footnote><p>The 
      rules there are automatically generated by the script 
      <file>/etc/udev/rules.d/z45_persistent-net-generator.rules</file> to 
      have persistent names for network interfaces. Delete this symlink to 
      disable persistent device naming for NICs by 
      <prgn>udev</prgn>.</p></footnote>. Alternatively you can use the 
      <prgn>ifrename</prgn> utility to bind physical devices to specific 
      names at boot time. See <manref section="8" name="ifrename"> and 
      <manref section="5" name="iftab"> for more information. The two 
      alternatives (<prgn>udev</prgn> and <prgn>ifrename</prgn>) should not 
      be used at the same time.
    </p>
    <p>
      For storage devices, you can avoid this reordering by using 
      <package>initramfs-tools</package> and configuring it to load storage 
      device driver modules in the same order they are currently loaded. To 
      do this, identify the order the storage modules on your system were 
      loaded by looking at the output of 
      <prgn>lsmod</prgn>. <prgn>lsmod</prgn> lists modules in the reverse 
      order that they were loaded in, i.e., the first module in the list was 
      the last one loaded. Note that this will only work for devices which 
      the kernel enumerates in a stable order (like PCI devices).
    </p>
    <p>
      No entanto, remover e voltar a carregar os módulos após o arranque 
      inicial afectará esta ordem. O kernel pode também ter alguns 
      controladores estaticamente ligados ('linked'), e estes nomes podem 
      não aparecer no 'output' de <prgn>lsmod</prgn>. Pode conseguir 
      decifrar estes nomes de controladores e carregá-los pela ordem, ao ver 
      o ficheiro <file>/var/log/kern.log</file>, ou o 'output' de 
      <prgn>dmesg</prgn>.
    </p>
    <p>
      Adicione estes nomes de módulos a 
      <file>/etc/initramfs-tools/modules</file> pela ordem em que os mesmos 
      deverão ser carregados durante o arranque. Alguns nomes de módulos 
      podem ter sido alterados entre a versão &oldreleasename; e 
      &releasename;. Por exemplo, sym53c8xx_2 passou a sym53c8xx.
    </p>
    <p>
      You will then need to regenerate your initramfs image(s) by executing 
      <tt>update-initramfs -u -k all</tt>.
    </p>
    <p>
      Once you are running a &releasename; kernel and <prgn>udev</prgn>, you 
      may reconfigure your system to access disks by an alias that is not 
      dependent upon driver load order. These aliases reside in the 
      <file>/dev/disk/</file> hierarchy.
    </p>
   </sect1>
    <![ %ia64 [

   <sect1>
    <heading>
      Reordenação dos dispositivos de série (serial)
    </heading>
    <p>
      Se tem uma máquina HP e está a usar a porta da consola de série MP (o 
      conector marcado como "console" no cabo de 3-cabeças), esta 
      actualização de kernel irá tornar a consola inoperactiva!
    </p>
    <p>
      Ao reiniciar, o sistema irá mostrar a mensagem "Loading initrd...." 
      mas irá parar aqui. Note que os sistemas com firmware desactualizado 
      irão mostrar sintomas idênticos, embora o problema relacionado com as 
      incompatibilidades com o kernel (veja <ref id="upgrade-to-2.6">).
    </p>
    <p>
      Por favor leia a seguinte informação antes da actualização.
    </p>
    <p>
     <list>
      <item>
       <p>
         O dispositivo de consola irá mudar de <file>ttyS0</file> para 
         <file>ttyS1</file>, <file>ttyS2</file>, ou <file>ttyS3</file> por 
         isso
        <list>
         <item>
          <p>
            Edite <file>/etc/inittab</file> e adicione uma entrada getty 
            para <file>/dev/ttyS1</file> (rx4640, rx5670, rx7620, rx8620, 
            Superdome), <file>/dev/ttyS2</file> (rx1600), ou 
            <file>/dev/ttyS3</file> (rx2600).
          </p>
         </item>
         <item>
          <p>
            Edite <file>/etc/securetty</file> e adicione <file>ttyS1</file>, 
            <file>ttyS2</file>, ou <file>ttyS3</file>.
          </p>
         </item>
         <item>
          <p>
            Deixe as entradas <file>ttyS0</file> existentes em 
            <file>/etc/inittab</file> e em <file>/etc/securetty</file> de 
            modo a poder arrancar com kernels antigos.
          </p>
         </item>
        </list>
       </p>
      </item>
      <item>
       <p>
         Edite <file>/etc/elilo.conf</file> e remova qualquer argumento 
         "console=".
       </p>
      </item>
      <item>
       <p>
         Corra <prgn>elilo</prgn> para instalar o gestor de arranque com a 
         nova configuração.
       </p>
      </item>
      <item>
       <p>
         Reinicie o sistema e utilize a opção do menu de manutenção de 
         arranque EFI para seleccionar exactamente um dispositivo para 
         consola de 'output', 'input' e erros standards. Efectue depois um 
         arranque a frio para que as alterações surtam efeito.
       </p>
       <p>
         Para a consola MP seja cuidadoso ao seleccionar o dispositivo com 
         "Acpi(HWP0002,700)/Pci(...)/Uart" no caminho (path).
       </p>
      </item>
     </list>
    </p>
    <p>
      Mais detalhes sobre estas alterações e dicas para resolução de 
      problemas estão disponíveis em <url 
      id="http://lists.debian.org/debian-ia64/2005/01/msg00008.html">.
    </p>
   </sect1>
    ]]>

  </sect>
  <sect id="nownownow">
   <heading>
     Coisas a fazer antes de reinicializar
   </heading>
   <p>
     Quando o <tt>aptitude dist-upgrade</tt> tiver terminado, a actualização 
     "formal" estará completa, mas existem algumas coisas com as quais é 
     preciso ter atenção <em>antes</em> da próxima reinicialização.
   </p>
   <sect1 id="convert-devfs">
    <heading>
      Converting from devfs
    </heading>
    <p>
      Debian kernels no longer include support for <tt>devfs</tt>, so 
      <tt>devfs</tt> users will need to convert their systems manually 
      before booting an &releasename; kernel.
    </p>
    <p>
      If you see the string 'devfs' in <file>/proc/mounts</file>, you are 
      most likely using <tt>devfs</tt>. Any config files that reference 
      <tt>devfs</tt>-style names will need to be adjusted to use 
      <package>udev</package>-style names. Files that are likely to refer to 
      <tt>devfs</tt>-style device names include <file>/etc/fstab</file>, 
      <file>/etc/lilo.conf</file>, <file>/boot/grub/menu.lst</file>, and 
      <file>/etc/inittab</file>.
    </p>
    <p>
      Mais informação sobre problemas potencias está disponível nos 
      relatórios de erro (bug reports) <url 
      id="http://bugs.debian.org/341152" name="#341152">.
    </p>
   </sect1>
    <![ %sparc [

   <sect1 id="missingdrivers">
    <heading>
      Possíveis drivers em falta em initrd
    </heading>
    <p>
      Os kernels da &releasename; ainda não têm suporte completo para sysfs 
      para o sparc sbus nativo. O <package>initramfs-tools</package> 
      baseia-se nisto para incluir drivers para controladores de disco no 
      initrd. Se um driver não for incluido no initrd, o seu sistema pode 
      falhar no arranque.
    </p>
    <p>
      Se o seu sistema utiliza o módulo <tt>esp</tt> ou o <tt>qlogicpti</tt> 
      para aceder aos seus discos rígidos, você irá necessitar desse módulo 
      em <file>/etc/initramfs-tools/modules</file> e gerar novamente o 
      initrd antes de reiniciar o seu sistema. O initrd pode ser novamente 
      gerado utilizando:
     <example>
# update-initramfs -u -k all
          </example>
    </p>
     ]]><![ %hppa [

   </sect1>
   <sect1 id="missingdrivers">
    <heading>
      Possíveis drivers em falta em initrd
    </heading>
    <p>
      Os kernels da &releasename; ainda não têm suporte completo para sysfs 
      para o HP bus nativo. O <package>initramfs-tools</package> baseia-se 
      nisto para incluir drivers para controladores de disco no initrd. Se 
      um driver não for incluido no initrd, o seu sistema pode falhar no 
      arranque.
    </p>
    <p>
      Se o seu sistema utiliza o módulo <tt>lasi700</tt> ou o 
      <tt>zalon7xx</tt> para aceder aos seus discos rígidos, você irá 
      necessitar desse módulo em <file>/etc/initramfs-tools/modules</file> e 
      gerar novamente o initrd antes de reiniciar o seu sistema. O initrd 
      pode ser novamente gerado utilizando:
     <example>
# update-initramfs -u -k all
          </example>
    </p>
   </sect1>
    ]]><![ %i386-amd64 [

   <sect1 id="rerunlilo">
    <heading>
      Corra novamente o lilo
    </heading>
    <p>
      If you are using <package>lilo</package> as your bootloader (it is the 
      default bootloader for some installations of &oldreleasename;) it is 
      strongly recommended that you rerun <prgn>lilo</prgn> after the 
      upgrade:
     <example>
# /sbin/lilo
          </example>
    </p>
    <p>
      Notice this is needed even if you did not upgrade your system's 
      kernel, as <prgn>lilo</prgn>'s second stage will change due to the 
      package upgrade.
    </p>
    <p>
      Além disso, reveja o conteúdo do seu <file>/etc/kernel-img.conf</file> 
      e assegure-se que tem nele <em>do_bootloader = Yes</em>. Dessa forma o 
      gestor de arranque irá ser corrido novamente sempre após uma 
      actualização do kernel.
    </p>
    <p>
      Se você encontrar quaisquer problemas quando correr o 
      <prgn>lilo</prgn> reveja os links simbólicos em <file>/</file> para 
      <file>vmlinuz</file> e <file>initrd</file>, assim como o conteúdo do 
      seu <file>/etc/lilo.conf</file> por discrepâncias.
    </p>
    <p>
      Se se esqueceu de correr novamente <prgn>lilo</prgn> antes de 
      reiniciar ou o sistema for reiniciado acidentalmente antes de você 
      poder fazer isto manualmente, o seu sistema pode não arrancar. Em vez 
      da prompt do lilo, você apenas verá <em>LI</em> quando arrancar o 
      sistema<footnote><p>Para mais informação acerca dos códigos de erro do 
      <prgn>lilo</prgn> por favor veja <url 
      id="http://tldp.org/HOWTO/Bootdisk-HOWTO/a1483.html" name="The Linux 
      Bootdisk HOWTO">.</p></footnote>. De modo a recuperar disto você terá 
      de arrancar com um disco de instalação no modo <em>rescue</em>. Para 
      mais informação acerca de como fazer isto por favor reveja o <url 
      id="http://wiki.debian.org/DebianInstaller/FAQ" name="DebianInstaller 
      FAQ">.
    </p>
   </sect1>
    ]]><![ %s390 [

   <sect1 id="s390-config">
    <heading>
      S/390 hardware configuration
    </heading>
    <p>
      Not all S/390 hardware can be configured automatically. For the 
      &releasename; kernels a new utility 
      <package>sysconfig-hardware</package> is used to correctly set up 
      devices. Unfortunately documentation for this utility and its 
      configuration files is not yet available. The configuration files for 
      <package>sysconfig-hardware</package> can be found under 
      <file>/etc/sysconfig/</file>.
    </p>
    <p>
      Especially if your system is currently running a 2.4 kernel, getting 
      the configuration right can be a challenge. If you need any help, feel 
      free to contact the <url id="http://lists.debian.org/debian-s390" 
      name="Debian S/390 mailing list">.
    </p>
    <p>
      First install the utility and regenerate the initramfs initrd as the 
      utility provides some scripts that need to be included in the initrd:
     <example>
# aptitude install sysconfig-hardware
# update-initramfs -u -k all
	  </example>
    </p>
    <sect2 id="s390-dasd">
     <heading>
       Configuration for disks
     </heading>
     <p>
       This is done by modifying <file>/etc/zipl.conf</file>. The sysconfig 
       utility can use the device path to the root device to enable it, 
       which means that this path needs to be passed in the kernel boot 
       parameters. For a regular dasd, the path is composed as follows:
      <example>
&lt;bus&gt;-&lt;device&gt;
	  </example>
       For the <tt>root</tt> parameter the partition needs to be appended to 
       the path. So if your dasda is <tt>0.0.0122</tt>, instead of 
       <file>root=/dev/dasda1</file> you would include the following in the 
       <tt>parameters</tt> line in <tt>/etc/zipl.conf</tt>:
      <example>
root=/dev/disks/by-path/ccw-0.0.0122-part1
	  </example>
       Or, alternatively you can use the <tt>enable</tt> parameter to 
       specify the device to be enabled; in that case the partition:
      <example>
root=/dev/dasda1 enable=ccw-0.0.0122
	  </example>
       The paths to be used can vary for different devices. For example, for 
       disks on a zFCP fiberchannel host adapter, the path consists of bus, 
       device, driver, wwpn and lun. The parameters for a RAID1 would look 
       like (on a single line):
      <example>
root=/dev/md0 enable=ccw-0.0.2900-zfcp-0x21000020371c93a5:0
enable=ccw-0.0.2900-zfcp-0x21000020371d8f94:0
	  </example>
     </p>
     <p>
       Other dasd devices (dasds not needed to bring up the root file system 
       are enabled through configuration files in 
       <file>/etc/sysconfig/hardware/</file>. For a regular dasd, you just 
       need to touch a file with the device path in its name:
      <example>
# cd /etc/sysconfig/hardware
# touch config-ccw-0.0.0122
	  </example>
       For disks on a zFCP fiberchannel host adapter the individual devices 
       are listed inside the file. Using the same example as above, create a 
       file <file>config-ccw-0.0.2900</file> containing (second device 
       truncated for readability):
      <example>
ZFCP_DEVICES=(0x21000020371c93a5:0x0000000000000000 0x2100...:0x...)
	  </example>
     </p>
    </sect2>
    <sect2 id="s390-other">
     <heading>
       Configuration for network devices
     </heading>
     <p>
       Network devices are enabled through configuration files in 
       <file>/etc/sysconfig/hardware/</file>. For a ctc network device with 
       read channel <tt>0.0.0a00</tt> and write channel <tt>0.0.0a01</tt> 
       and using the S/390 protocol, you would create a file 
       <file>config-ccw-0.0.0a00</file> containing:
      <example>
CCWGROUP_CHANS=(0.0.0a00 0.0.0a01)
CTC_PROTOCOL=0
	  </example>
       For a qeth network device with layer2 mode enabled, this could be a 
       file <file>config-ccw-0.0.0600</file>:
      <example>
CCWGROUP_CHANS=(0.0.0600 0.0.0601 0.0.0602)
QETH_OPTIONS=(layer2)
	  </example>
     </p>
     <p>
       Supported options for ctc are: <tt>CTC_PROTOCOL</tt> and 
       <tt>CTC_BUFFER</tt>; and for qeth: <tt>QETH_PORTNAME</tt>, 
       <tt>QETH_PORTNO</tt> and <tt>QETH_OPTIONS</tt>.
     </p>
     <p>
       As network devices on S/390 do not have a stable MAC address, it is 
       not possible to use <prgn>udev</prgn> persistent device 
       naming. Instead you can add an option <tt>INTERFACE_NAME</tt> in the 
       configuration file to rename an interface.
     </p>
    </sect2>
   </sect1>
    ]]>

   <sect1 id="mdadm">
    <heading>
      A actualizar o mdadm
    </heading>
    <p>
      O mdadm precisa agora de um ficheiro de configuração para montar 'MD 
      arrays' (RAID) a partir a ramdisk inicial e durante a sequência de 
      inicialização do sistema. Por favor leia e siga as instruções em 
      <file>/usr/share/doc/mdadm/README.upgrading-2.5.3.gz</file> depois de 
      o pacote ter sido actualizado e <strong>depois de ter reiniciado o 
      sistema</strong>. A última versão deste ficheiro está disponível em 
      <url 
      id="http://svn.debian.org/wsvn/pkg-mdadm/mdadm/trunk/debian/README.upgrading-2.5.3?op=file">; 
      por favor consulte-o em caso de problemas.
    </p>
   </sect1>
  </sect>
  <sect id="for_next">
   <heading>
     Preparar para o próximo lançamento
   </heading>
   <p>
     Após a actualização existem várias coisas que você pode fazer para se 
     preparar para o próximo lançamento.
   </p>
   <p>
    <list>
     <item>
      <p>
        Se está a utilizar o <prgn>grub</prgn>, edite 
        <file>/etc/kernel-img.conf</file> e ajuste a localização do programa 
        <prgn>update-grub</prgn> alterando <file>/sbin/update-grub</file> 
        para <file>/usr/sbin/update-grub</file>.
      </p>
     </item>
     <item>
      <p>
        If the new kernel image metapackage was pulled in as a dependency of 
        the old one, it will be marked as automatically installed, which 
        should be corrected:
       <example>
# aptitude unmarkauto $(dpkg-query -W 'linux-image-2.6-*' | cut -f1)
</example>
      </p>
     </item>
     <item>
      <p>
        Remova os meta-pacotes do kernel da &oldreleasename; correndo:
       <example>
# aptitude purge kernel-image-2.6-&lt;flavor&gt;
</example>
      </p>
     </item>
     <item>
      <p>
        Mova quaisquer valores das configurações do kernel em 
        <file>/etc/network/options</file> para 
        <file>/etc/sysctl.conf</file>.
      </p>
     </item>
     <item>
      <p>
        Remova os pacotes obsoletos e não utilizados conforme é descrito em 
        <ref id="obsolete">. Você deve rever que ficheiros de configuração 
        eles utilizam e considerar purgar os pacotes ou remover os seus 
        ficheiros de configuração.
      </p>
     </item>
    </list>
   </p>
  </sect>
  <sect id="obsolete">
   <heading>
     Pacotes obsoletos
   </heading>
   <p>
     Ao introduzir vários milhares de novos pacotes, a &releasename; também 
     remove e omite mais de dois milhares de antigos pacotes que estavam na 
     &oldreleasename;. Não fornece um caminho de actualização para estes 
     pacotes obsoletos. Ao mesmo tempo que nada o impede de continuar a usar 
     um pacote obsoleto enquanto o desejar, o projecto Debian irá 
     normalmente descontinuar o suporte de segurança para o mesmo um ano 
     depois do lançamento da &releasename; <footnote><p>Ou enquanto não 
     existir outro lançamento durante esse tempo. Tipicamente são suportados 
     dois lançamentos estáveis ao mesmo tempo.</p></footnote> e não irá 
     fornecer normalmente outro suporte durante o mesmo. É recomendado 
     substitui-lo por alternativas disponíveis, se existirem é recomendado.
   </p>
   <p>
     Existem muitas razões para que pacotes possam ter sido retirados da 
     distribuição: não serem mais mantidos 'upstream'; não existir mais um 
     Debian 'Developer' interessado em manter os pacotes; a funcionalidade 
     que estes fornecem ter sido ultrapassada por outro software diferente 
     (ou uma nova versão); ou deixados de serem considerados adequados para 
     a &releasename; devido a bugs neles. No último caso, os pacotes podem 
     no entanto continuar a estarem presentes na distribuição "unstable".
   </p>
   <p>
     A detecção dos pacotes que num sistema actualizado são obsoletos é 
     fácil pelo facto dos 'front-ends' dos gestor de pacotes os marcarem. Se 
     estiver a usar o <prgn>aptitude</prgn>, verá a lista destes pacotes na 
     entrada "Pacotes obsoletos e criados localmente". O 
     <prgn>dselect</prgn> disponibiliza uma secção idêntica mas a lista que 
     apresenta pode ser diferente. Do mesmo modo se usou o 
     <prgn>aptitude</prgn> para manualmente instalar pacotes na 
     &oldreleasename;, ele irá seguir o caminho desses pacotes que instalou 
     manualmente e será capaz de marcar como obsoletos os pacotes obtidos 
     por dependências apenas que não são já necessárias pela remoção do 
     pacote. Também o <prgn>aptitude</prgn>, ao contrário do 
     <prgn>deborphan</prgn> não irá marcar como pacotes obsoletos que 
     instalou manualmente, em oposição aos que foram instalados 
     automaticamente através de dependências.
   </p>
   <p>
     Existem ferramentas adicionais que pode utilizar para descobrir pacotes 
     obsoletos tais como <prgn>deborphan</prgn>, <prgn>debfoster</prgn> ou 
     <prgn>cruft</prgn>. O <prgn>deborphan</prgn> é fortemente recomendado, 
     no entanto este irá (em modo por omissão) apenas reportar as 
     bibliotecas obsoletas: pacotes nas secções "libs" ou "oldlibs" que não 
     sejam usadas por outros pacotes. Não remova cegamente os pacotes que 
     estas ferramentas apresentam, especialmente se estiver a utilizar 
     opções agressivas que são sujeitas à produção de falsos positivos. É 
     altamente recomendável que reveja manualmente os pacotes sugeridos para 
     remoção (por ex. o seu conteúdo, dimensão e descrição) antes de os 
     remover.
   </p>
   <p>
     O <url id="&url-bts;" name="Debian Bug Tracking System"> frequentemente 
     fornece informação adicional sobre a razão da remoção do pacote. Deverá 
     rever ambos os relatórios de erro do pacote e os relatórios de erros 
     arquivados para o <url 
     id="&url-bts;cgi-bin/pkgreport.cgi?pkg=ftp.debian.org&#38;archive=yes" 
     name="ftp.debian.org pseudo-package">.
   </p>
   <sect1 id="dummy">
    <heading>
      Pacotes 'dummy'
    </heading>
    <p>
      Alguns pacotes da &oldreleasename; foram separados em vários pacotes 
      da &releasename;, principalmente para melhorar a manutenção do 
      sistema. Para facilitar a actualização em alguns casos, a 
      &releasename; fornece pacotes "dummy": pacotes vazios que têm o mesmo 
      nome que o pacote antigo na &oldreleasename; com dependências que 
      provocam a instalação de novos pacotes. Estes pacotes "dummy" são 
      considerados pacotes obsoletos depois da actualização e podem ser 
      seguramente removidos.
    </p>
    <p>
      A maior parte (mas nem todas) das descrições dos pacotes 'dummy' 
      indicam o seu propósito. As descrições dos pacotes para os pacotes 
      'dummy' não são uniformes, no entanto pode achar as opções 
      <tt>--guess</tt> do <prgn>deborphan</prgn> úteis para as detectar no 
      seu sistema. Note que alguns pacotes 'dummy' não têm como fim serem 
      removidos depois de uma actualização, em vez disso, são usadas para 
      seguir o caminho das actuais versões disponíveis de um programa ao 
      longo do tempo.
    </p>
   </sect1>
  </sect>
 </chapt>
 <chapt id="information">
  <heading>
    Problemas a estar atento em  &releasename;
  </heading>
  <sect id="problems">
   <heading>
     Potenciais problemas
   </heading>
   <p>
     Por vezes, as alterações trazem efeitos secundários que não podem ser 
     facilmente evitados, ou activam erros (bugs) noutro lado. São aqui 
     documentadas essas questões que foram detectadas. Por favor leia também 
     a errata, a documentação de pacotes relevantes, relatórios de erro e 
     outra documentação mencionada em <ref id="morereading">.
   </p>
   <sect1 id="udev">
    <heading>
      Problems with devices related to udev
    </heading>
    <p>
      Apesar do <package>udev</package> ter sido testado extensivamente, 
      pode experimentar pequenos problemas com alguns dispositivos que terão 
      de ser corrigidos. O mais comum desses problemas é a alteração das 
      permissões e/ou 'ownership' de um dispositivo. Em alguns casos um 
      dispositivo pode não ser criado por omissão 
      (e.g. <file>/dev/video</file> e <file>/dev/radio</file>).
    </p>
    <p>
      O <package>udev</package> fornece mecanismos de configuração para 
      gerir estes problemas. Veja <manref section="8" name="udev"> e 
      <file>/etc/udev</file> para mais informação.
    </p>
   </sect1>
    <![ %defaulted-2.4 [

   <sect1 id="incompatible-2.4">
    <heading>
      Some applications may no longer work with a 2.4 kernel
    </heading>
    <p>
      Some applications in &releasename; may no longer work with a 2.4 
      kernel, for example because they require <tt>epoll()</tt> support, 
      which is not available in 2.4 kernels. Such applications may either 
      not work at all or not work correctly until the system has been 
      rebooted with a 2.6 kernel.
    </p>
    <p>
      One example is the HTTP proxy <package>squid</package>.
    </p>
   </sect1>
    ]]>

   <sect1 id="window-scaling">
    <heading>
      Determinado site web não pode ser alcançado via TCP
    </heading>
    <p>
      Desde o 2.6.17, que o Linux utiliza agressivamente o redimensionamento 
      da janela TCP que é especificado no RFC 1323. Alguns servidores 
      apresentam um comportamento não funcional e apresentam eles próprios 
      dimensões erradas das janelas. Por favor veja os bugs <url 
      id="http://bugs.debian.org/381262" name="#381262"> e <url 
      id="http://bugs.debian.org/395066" name="#395066"> para mais 
      informações.
    </p>
   </sect1>
    <![ %i386 [

   <sect1 id="poweroff">
    <heading>
      O encerramento automático deixou de funcionar
    </heading>
    <p>
      Em alguns sistemas mais antigos o <tt>shutdown -h</tt> pode deixar de 
      desligar o sistema (apenas pará-lo). Isto acontece devido ao uso 
      necessário do apm neste ponto. Adicionar <tt>acpi=off 
      apm=power_off</tt> à linha de comando do kernel, e.g. nos ficheiros de 
      configuração do <package>grub</package> ou <package>lilo</package> 
      deverá corrigir esta questão. Por favor veja o erro <url 
      id="http://bugs.debian.org/390547" name="#390547"> para mais 
      informação.
    </p>
   </sect1>
    ]]>

   <sect1 id="apt-pdiff">
    <heading>
      Slower updates of APT package index files
    </heading>
    <p>
      By default, the new <prgn>apt</prgn> uses a new way to update APT 
      package index files (when you run <tt>apt-get update</tt>) which 
      downloads differences files (instead of the full package index file) 
      called <tt>pdiff</tt>. This new feature should use less bandwidth and 
      be faster for most systems. Unfortunately, the opposite effect of 
      making the updates slower can happen on systems with fast network 
      connections (or a very nearby mirror) which are infrequently updated, 
      as it might take more time for the system to merge the differences 
      files than to download a full package index. One can disable the new 
      mechanisms by adding <tt>Acquire::Pdiffs "false";</tt> to the 
      <file>/etc/apt/apt.conf</file> configuration file.
    </p>
    <p>
      This change mostly affects users of the <em>unstable</em> and 
      <em>testing</em> branch of &debian;, due to the changing nature of the 
      archive for those users. Users of &releasename; will notice this 
      feature mainly when updating their package archive with their sources 
      for security updates.
    </p>
   </sect1>
    <![ %i386 [

   <sect1 id="hp-acpi">
    <heading>
      Suporte ACPI desabilitado para alguns modelos de portáteis HP no 
      kernel do &releasename
    </heading>
    <p>
      Alguns modelos de portáteis HP têm uma BIOS ACPI que é incompatível 
      com o kernel 2.6.18 que é distribuido na &releasename;, que previnaria 
      que as ventoínhas de girarem levando a um stress de aquecimento 
      desnecessário. Além disso, as ventoínhas podem não funcionar depois do 
      sistema ter sido suspenso. Por isso o kernel desabilita internamente o 
      suporte para ACPI quando detecta certas versões da BIOS ACPI. Os 
      modelos conhecidos por serem afectados por esta mudança incluem os 
      modelos HP nx6125, nx6120, nx6325, nc6120 e nc6000.
    </p>
    <p>
      Os utilizadores que necessitarem de suporte ACPI nesses sistemas podem 
      instalar um kernel 2.6.19 ou posterior. Para mais informação por favor 
      veja o bug Debian <url id="http://bugs.debian.org/404143" 
      name="#404143"> e o <url id="http://bugs.debian.org/400488" 
      name="#400488">, e os bugs do  kernel Linux <url 
      id="http://bugzilla.kernel.org/show_bug.cgi?id=5534" name="#5534"> and 
      <url id="http://bugzilla.kernel.org/show_bug.cgi?id=7122" 
      name="#7122">.
    </p>
   </sect1>
    ]]>

  </sect>
   <![ %defaulted-2.4 [

  <sect id="upgrade-to-2.6">
   <heading>
     Actualizar para um kernel 2.6
   </heading>
   <p>
     A série de kernels 2.6 contém alterações importantes a partir da série 
     2.4. Os módulos foram renomeados e muitos 'drivers' foram parcial ou 
     muitas vezes totalmente reescritos. A actualização para um kernel 2.6 a 
     partir de uma versão anterior não é um processo para ser encarado 
     levianamente. Esta secção procura alertá-lo para alguns problemas que 
     poderá enfrentar.
   </p>
   <p>
     Se compilar o seu próprio kernel a partir das fontes, certifique-se que 
     instala o <package>module-init-tools</package> antes de reiniciar o 
     sistema com o kernel 2.6. Este pacote substitui o 
     <package>modutils</package> para os kernels 2.6. Se instalar um dos 
     pacotes Debian <package>linux-image</package>, este será instalado 
     automaticamente porque causa das dependências.
   </p>
   <p>
     Se usar <em>LVM</em>, deverá também instalar <package>lvm2</package> 
     antes de reiniciar já que o kernel 2.6 não suporta directamente 
     LVM1. Para aceder os volumes LVM1, é utilizado o 'layer' de 
     compatibilidade do <package>lvm2</package> (o módulo dm-mod). Pode 
     deixar o <package>lvm10</package> instalado; os 'init scripts' 
     detectarão que kernel está a ser utilizado e executará a versão 
     apropriada.
   </p>
   <p>
     Se tiver entradas no ficheiro <file>/etc/modules</file> (a lista dos 
     módulos tem que ser carregada durante o arranque do sistema), tenha em 
     atenção que alguns nomes de módulos podem ter sido alterados. Se isto 
     acontecer terá que actualizar este ficheiro com os novos nomes dos 
     módulos.
   </p>
    <![ %i386 [

   <p>
     Para alguns controladores de discos SATA, o dispositivo atribuído a uma 
     'drive' e ás suas partições podem ser variar de <file>/dev/hdX</file> a 
     <file>/dev/sdX</file>. Se isto acontecer, terá que modificar, de 
     acordo, o seu <file>/etc/fstab</file> e a configuração do gestor de 
     arranque. A menos que estas alterações sejam feita correctamente, o seu 
     sistema pode não arrancar com sucesso<footnote><p>O kernel irá arrancar 
     mas irá falhar ao montar o sistema de ficheiros raiz e irá abortar com 
     um erro <em>waiting for root filesystem</em> seguido de <em>unable to 
     mount /dev/hdX ..not found</em>. Você pode utilizar a shell 
     <prgn>initramfs</prgn> para corrigir este problema, depois de 
     identificar os nomes acabados de atribuir dos dispositivos nas 
     mensagens de arranque do kernel ou revendo o conteúdo de 
     <file>/dev/disk</file>.</p></footnote>.
   </p>
    ]]><![ %ia64 [

   <p>
     HP Itanium systems running older firmware are incompatible with the 2.6 
     kernel in &releasename;. That means you should upgrade your system to 
     the latest firmware before upgrading your kernel. It is recommended you 
     do this before the system upgrade, as if you are already running a 2.6 
     kernel you will automatically retrieve the latest kernel when upgrading 
     the rest of the system (see <ref id="upgrading_other">). Failing to do 
     this will result in an system that does not boot.
   </p>
    ]]>

   <p>
     Assim que tiver instalado o seu kernel 2.6, mas antes de reiniciar, 
     assegure-se de que possui um método de recuperação. Primeiro, 
     certifique-se que a configuração do gestor de arranque tem entradas 
     tanto para o novo kernel como para o antigo, e funcional kernel 
     2.4. Deverá também assegurar-se ter a certeza que tem uma disquete 
     "rescue" ou cdrom à mão, no caso de uma configuração errada do gestor 
     de arranque impedi-lo de arrancar com o kernel antigo.
   </p>
    <![ %not-s390 [

   <sect1 id="2.6-keyboard">
    <heading>
      Configurar o teclado
    </heading>
    <p>
      As mais invasivas alterações nos kernels 2.6 é a mudança fundamental 
      da camada de input ('input layer'). Esta alteração faz com que todos 
      os teclados pareçam um teclado de PC "normal". Isto significa que se 
      actualmente possuir um teclado diferente do teclado seleccionado (por 
      ex. configurar USB-MAC ou Sun keyboard), irá provavelmente acabar com 
      um teclado não funcional depois da reinicialização com um kernel 2.6.
    </p>
    <p>
      Se conseguir ligar-se por SSH à sua máquina a partir de outro sistema, 
      pode resolver esta questão correndo <tt>dpkg-reconfigure 
      console-data</tt>, escolhendo a opção "Seleccionar mapa de teclado de 
      uma lista completa" e seleccionando um teclado "pc".
    </p>
    <p>
      Se o seu teclado foi afectado na consola, provavelmente também terá 
      que reconfigurar o seu teclado para o X Window System. Pode fazer isto 
      correndo <tt>dpkg-reconfigure xserver-xorg</tt> ou editando 
      directamente <file>/etc/X11/xorg.conf</file>. Não se esqueça de ler a 
      documentação referida em <ref id="nownownow">.
    </p>
     <![ %i386 [

    <p>
      Esta questão em princípio não afectará a arquitectura &arch-title; 
      pelo facto de todos os teclados PS/2 e a maioria dos USB serem já 
      configurados como teclados PC "normal".
    </p>
     ]]><![ %not-i386 [

    <p>
      Note que se estiver a usar um teclado USB, este pode ser configurado 
      tanto como um teclado PC "normal" ou um teclado USB-MAC. No primeiro 
      caso não será afectado por este assunto.
    </p>
     ]]>

   </sect1>
   <sect1 id="2.6-mouse">
    <heading>
      Configurar o rato
    </heading>
    <p>
      De novo, pelas alterações da 'input layer', pode ter que reconfigurar 
      o X Window System e o <package>gpm</package> se o seu rato não 
      funcionar depois de passar para um kernel 2.6. A causa mais provável é 
      que o dispositivo obtém a informação a partir de um rato que 
      mudou. Pode também ter que carregar módulos diferentes.
    </p>
     <![ %sparc [

    <p>
      Se tem o seu X actualmente configurado para 
      <file>/dev/sunmouse</file>, terá provavelmente que alterar para 
      <file>/dev/psaux</file>.
    </p>
     ]]>

   </sect1>
   <sect1 id="2.6-sound">
    <heading>
      Configurar o som
    </heading>
    <p>
      Para a série de kernels 2.6 os 'drivers' de som ALSA são recomendados 
      em detrimento dos antigos 'drivers' de som OSS. Os 'drivers' de som 
      ALSA são fornecidos, por omissão, como módulos. De modo a que o som 
      funcione, precisam ser carregados os módulos ALSA apropriados para o 
      seu hardware de som. De um modo geral isto acontece automaticamente, 
      se adicionalmente possuir além do pacote <package>alsa-base</package>, 
      ou o pacote <package>hotplug</package> ou o pacote 
      <package>discover</package> instalado. O pacote 
      <package>alsa-base</package> também torna os módulos OSS "blacklisted" 
      para impedir que o <prgn>hotplug</prgn> e o <prgn>discover</prgn> os 
      carreguem. Se tiver módulos OSS na lista em <file>/etc/modules</file>, 
      deverá removê-los.
    </p>
   </sect1>
    ]]>

  </sect>
   ]]>

  <sect id="xorg">
   <heading>
     Transição de XFree86 para X.Org
   </heading>
   <p>
     A transição para o X.Org involve algumas mudanças estruturais. No caso 
     de todos os pacotes instalados serem da Debian e também estarem 
     incluídos na &releasename;, a actualização deverá correr sem 
     problemas. No entanto, a experiência mostrou que existem algumas 
     alterações a ter em conta, já que podem causar problemas durante a 
     actualização.
   </p>
   <p>
     A alteração mais importante é que <file>/usr/X11R6/bin</file> foi 
     abandonado e apenas se mantém um link simbólico para 
     <file>/usr/bin</file>. Isto significa que este directório tem que estar 
     vazio na altura em que forem instalados os novos pacotes. Os novos 
     pacotes criam conflito com a maioria dos pacotes utilizados em 
     <file>/usr/X11R6/bin</file>, mas em alguns casos a intervenção manual 
     pode ser necessária. Por favor lembre-se de não correr actualização da 
     distribuição a partir de sessão X.
   </p>
   <p>
     Nm caso da actualização abortar durante a instalação do X.Org, deverá 
     verificar se os ficheiros ainda se mantêm em 
     <file>/usr/X11R6/bin</file>. pode então usar o <tt>dpkg -S</tt> para 
     descobrir que pacote Debian instalou esse ficheiro (se algum), e 
     remover esses pacotes com <tt>dpkg --remove</tt>. Por favor tome nota 
     dos pacotes que remova, todos os ficheiros em 
     <file>/usr/X11R6/bin</file> têm que ser removidos.
   </p>
   <p>
     Por favor leia <url id="http://wiki.debian.org/Xorg69To7"> para mais 
     detalhes e outras questões.
   </p>
  </sect>
  <sect id="xorg-8bit">
   <heading>
     No support for 8-bit displays in many applications
   </heading>
   <p>
     After the upgrade to the Xorg and the latest libraries, X terminals 
     which can only represent colors 8 bits depth will not work. This is 
     because the Cairo 2D vector graphics library 
     (<package>libcairo2</package>) doesn't have 8-bit pseudocolor 
     support. This library is used by the GNOME and Xfce desktops as well as 
     by many desktop applications compiled with the Gtk2+ toolikt, such as 
     <package>abiword</package>.
   </p>
   <p>
     Known systems that are affected by this include X terminals from 
     Tektronix, NCD, IBM, and SGI and some Sun machines, as well as some 
     other remote X windowing systems. You should configure these terminals 
     to use 16-bit colour, if possible.
   </p>
   <p>
     More information is available in Freedesktop's <url 
     id="https://bugs.freedesktop.org/show_bug.cgi?id=4945" name="bug 
     #4945">.
   </p>
  </sect>
  <sect id="exim">
   <heading>
     Actualização de exim para exim4
   </heading>
   <p>
     Um dos pacotes que foi tornado obsoleto pela lançamento do 
     &releasename; é o Mail Transfer Agent (MTA) <package>exim</package>, 
     que foi substituído pelo pelo pacote completamente novo 
     <package>exim4</package>.
   </p>
   <p>
     O <prgn>exim</prgn> (version 3.xx) não tem sido mantido pelos autores 
     originais à alguns anos, e a Debian, do mesmo modo, abandonou o suporte 
     a esta versão. Se ainda estiver a usar o <prgn>exim</prgn> 3.xx, por 
     favor actualize manualmente a sua instalação do <package>exim</package> 
     para o <package>exim4</package>. Uma vez que o <package>exim4</package> 
     já faz parte da &oldreleasename;, você pode escolher efectuar a 
     actualização no seu sistema &oldreleasename; antes de actualizar para 
     &releasename;, ou depois de actualização para &releasename; conforme a 
     sua conveniência. Lembre-se apenas que o pacote <package>exim</package> 
     antigo não vai ser actualizado e que não irá ter o suporte de segurança 
     depois do &oldreleasename; ter sido descontinuado.
   </p>
   <p>
     Note that, depending on your configuration of 
     <package>debconf</package>, you may not be asked any configuration 
     question during installation of <package>exim4</package>. If no 
     questions are asked, the system will default to a 'local delivery' 
     setup. Configuration is possible using the command <tt>dpkg-reconfigure 
     exim4-config</tt>.
   </p>
   <p>
     Os pacotes <package>exim4</package> da Debian estão extensamente 
     documentados. A página do pacote é <url 
     id="http://wiki.debian.org/PkgExim4"> no Wiki Debian, e o ficheiro 
     README pode ser encontrado em <url 
     id="http://pkg-exim4.alioth.debian.org/README/README.Debian.html"> 
     assim como também dentro do pacote.
   </p>
   <p>
     O ficheiro README possui um capítulo 'Packaging' que explica as 
     diferentes variações de pacotes que oferecemos, e tem também um 
     capítulo 'Updating' acerca de como como actualizar a partir do 
     <prgn>Exim</prgn> 3, que o irá ajudar a efectuar a transição.
   </p>
  </sect>
  <sect id="apache2">
   <heading>
     Actualização do apache2
   </heading>
   <p>
     O apache foi actualizado para a nova versão 2.2. Embora não deva 
     existir impacto para o utilizador médio, existem algumas questões 
     potenciais a ter em conta.
   </p>
   <p>
     O <url id="http://httpd.apache.org/docs/2.2/upgrading.html"> contem as 
     alterações 'upstream'. Por favor leia esta página e lembre-se 
     especificamente :
    <list>
     <item>
      <p>
        todos os módulos precisam de ser recompilados
      </p>
     </item>
     <item>
      <p>
        os módulos de autorização tem que se reactivados e renomeados
      </p>
     </item>
     <item>
      <p>
        as mesmas opções de configuração tem que ser renomeadas
      </p>
     </item>
    </list>
   </p>
   <p>
     As alterações especificas da Debian incluem que a string SSL deixe de 
     ser definida, pois o suporte ssl não é mais suportado como pacote por 
     omissão.
   </p>
   <p>
     If you are using the experimental ITK MPM (from the 
     <package>apache2-mpm-itk</package> package), the cgi module will not be 
     correctly enabled by default. To properly enable it, you will need to 
     manually disable <tt>mod_cgid</tt> and enable <tt>mod_cgi</tt>:
    <example>
# cd /etc/apache2/mods-enabled
# rm cgid.conf cgid.load
# ln -s ../mods-available/cgi.load .
# /etc/init.d/apache2 force-reload
        </example>
   </p>
  </sect>
  <sect id="zope">
   <heading>
     Upgrading Zope and Plone
   </heading>
   <p>
     Zope and all related products have been updated. Many products were 
     also dropped from the distribution (either because they were obsoleted, 
     or because they are incompatible with the newer Zope, CMF or Plone.
   </p>
   <p>
     Unfortunately there is no easy and guaranteed way to upgrade a complex 
     <prgn>zope</prgn> or <prgn>plone</prgn> server. Even though Plone 
     includes a migration tool, experience has shown that automatic 
     migrations can easily fail.
   </p>
   <p>
     For this reason, users are recommended to set up their system so they 
     can continue to run the &oldreleasename; installation of Zope/Plone 
     alongside the new &releasename; versions while testing the migration.
   </p>
   <p>
     The easiest and safest way to achieve this, is to make a copy of your 
     &oldreleasename; system to another hard disk or partition, and then 
     upgrade only one of the two copies. You can then use 
     <prgn>chroot</prgn> to run the &oldreleasename; version in parallel to 
     the &releasename; version.
   </p>
   <p>
     For Zope, you may also be able to keep the old packages installed on 
     your &releasename; system. For most packages this is possible as they 
     use a different name space. To keep the old versions, you will need to 
     package holding as documented in <ref id="package_status">. This method 
     is not possible for Plone because the <package>zope-cmfplone</package> 
     package is not versioned.
   </p>
  </sect>
  <sect id="tar">
   <heading>
     Wildcard expansion (globbing) with GNU tar
   </heading>
   <p>
     Previous versions of GNU <prgn>tar</prgn> assumed shell-style globbing 
     when extracting files from or listing an archive. For example:
    <example>
tar xf foo.tar '*.c'
        </example>
     would extract all files whose names end in '.c'. This behavior was not 
     documented and was incompatible with traditional <prgn>tar</prgn> 
     implementations. Therefore, starting from version 1.15.91, GNU 
     <prgn>tar</prgn> no longer uses globbing by default. For example, the 
     above invocation is now interpreted as a request to extract from the 
     archive the file named '*.c'.
   </p>
   <p>
     See <file>/usr/share/doc/tar/NEWS.gz</file> for further information.
   </p>
  </sect>
  <sect id="nis">
   <heading>
     NIS and Network Manager
   </heading>
   <p>
     The version of <prgn>ypbind</prgn> included with <package>nis</package> 
     for &releasename; contains support for Network Manager. This support 
     causes <prgn>ypbind</prgn> to disable NIS client functionality when 
     Network Manager reports that the computer is disconnected from the 
     network. Since Network Manager will usually report that the computer is 
     disconnected when it is not in use, NIS users with NIS client systems 
     should ensure that Network Manager support is disabled on those 
     systems.
   </p>
   <p>
     This can be done by either uninstalling the 
     <package>network-manager</package> package, or editing 
     <file>/etc/default/nis</file> to add <tt>-no-dbus</tt> to 
     <tt>YPBINDARGS</tt>.
   </p>
   <p>
     The use of <tt>-no-dbus</tt> is the default for new installs of Debian, 
     but was not the default in previous releases.
   </p>
  </sect>
  <sect id="php-globals">
   <heading>
     Depreciadas configurações inseguras de php
   </heading>
   <p>
     Durante alguns anos, activar as opções de <tt>register_globals</tt> no 
     PHP foi tomado como inseguro e perigoso, esta opção foi desactivada à 
     algum tempo por omissão. Esta configuração está agora finalmente 
     depreciada nos sistemas Debian por ser demasiado perigosa. O mesmo se 
     aplica a falhas em <tt>safe_mode</tt> e <tt>open_basedir</tt>, que não 
     têm sido mantidas à algum tempo.
   </p>
   <p>
     A partir desta versão , a equipa de segurança da Debian não fornece 
     suporte de segurança a uma quantidade de configurações PHP conhecidas 
     como inseguras. Mais importante ainda, questões resultantes da 
     activação de <tt>register_globals</tt> não serão mais atendidas.
   </p>
   <p>
     Se estiver a correr aplicações 'legacy' que requeiram 
     <tt>register_globals</tt>, active-a apenas para o caminho (path) 
     respectivo, e.g. através do ficheiro de configuração do Apache. Mais 
     informação está disponível em <file>README.Debian.security</file> no 
     directório da documentação PHP (<file>/usr/share/doc/php4</file>, 
     <file>/usr/share/doc/php5</file>).
   </p>
  </sect>
  <sect id="mozilla-security">
   <heading>
     Estado da segurança dos produtos Mozilla
   </heading>
   <p>
     Os programas Mozilla <package>firefox</package> e 
     <package>thunderbird</package> (em Debian sob nova marca 
     <package>icewaesel</package> e <package>icedove</package>, 
     respectivamente), são ferramentas importantes para muitos 
     utilizadores. Infelizmente a política de segurança dos autores 
     originais impele os utilizadores a actualizar para novas versões 
     originais, o que entra em conflito com a política Debian de não enviar 
     grandes alterações funcionais nas actualizações de segurança. Não o 
     podemos prever hoje, mas durante o período de vida da &releasename;, a 
     equipa de segurança Debian pode chegar a um ponto onde o suporte aos 
     produtos Mozilla deixe de ser comportável e anunciar o fim do suporte 
     de segurança para os produtos Mozilla. Você deverá ter isto em conta 
     quando instalar o Mozilla e considerar as alternativas disponíveis na 
     Debian se a ausência de suporte de segurança é algo que constitui um 
     problema para si.
   </p>
  </sect>
  <sect id="kde-desktop-changes">
   <heading>
     Desktop KDE
   </heading>
   <p>
     O manuseamento de media no KDE foi alterado na versão disponível no 
     &releasename; de utilizar <file>device:/</file> para 
     <file>media:/</file>. Alguns ficheiros de configuração dos utilizadores 
     podem ter guardado links <file>device:/</file> que devem ser 
     adaptados. Notávelmente, 
     <file>~/.kde/share/apps/konqsidebartng/virtual_folders/services</file> 
     contém esta referência e pode ser apagado em segurança já que não irá 
     ser criado ao instalar novos utilizadores.
   </p>
   <p>
     Ocorreram muitas alterações no ambiente de desktop KDE desde a versão 
     lançada na &oldreleasename; para a versão no &releasename;, você pode 
     encontrar mais informação nas <url 
     id="http://www.kde.org/announcements/announce-3.5.php" name="Notas de 
     Lançamento do KDE 3.5">.
   </p>
  </sect>
  <sect id="gnome-desktop-changes">
   <heading>
     Alterações e suporte do desktop GNOME
   </heading>
   <p>
     Se você utilizou o desktop GNOME na &oldreleasename; não irá beneficiar 
     de algumas das alterações introduzidas na configuração por omissão em 
     Debian para a &releasename; Em alguns casos extremos o desktop GNOME 
     pode não lidar correctamente com a sua antiga configuração e pode não 
     se comportar correctamente.
   </p>
   <p>
     Se não investiu significativamente na configuração do seu desktop GNOME 
     pode querer mover o directório <file>.gconf</file> nos directórios 
     'home' dos utilizadores para um novo diferente (tal como 
     <file>.gconf.old</file>) de modo a ser recriado, com a configuração por 
     omissão para a &releasename;, e depois iniciar uma nova sessão.
   </p>
   <p>
     Com o lançamento da &releasename;, Debian já não contém pacotes para a 
     versão 1 do lançamento do GNOME, na sua maioria obsoleta. Embora se 
     mantenham alguns pacotes de modo a suportar alguns pacotes Debian que 
     ainda não foram actualizados para GNOME 2. Os pacotes para GTK1.2 
     mantêm-se totalmente mantidos.
   </p>
   <p>
     Ocorreram muitas alterações no ambiente de desktop GNOME desde a versão 
     lançada na &oldreleasename; até à versão na &releasename;, pode 
     encontrar mais informação nas <url 
     id="http://www.gnome.org/start/2.14/notes/en/" name="Notas de 
     Lançamento do GNOME 2.14">.
   </p>
  </sect>
  <sect id="default-editor">
   <heading>
     Editor por omissão
   </heading>
   <p>
     Se utilizava o <prgn>vim</prgn> como o seu editor por omissão, durante 
     a actualização, este pode ter sido alterado para o <prgn>nano</prgn>.
   </p>
   <p>
     Os administradores que desejem alterar o editor por omissão para todos 
     os utilizadores terão de actualizar as alternativas do sistema 
     utilizando:
    <example>
# update-alternatives --config editor
          </example>
   </p>
   <p>
     Os utilizadores que desejem alterar o editor por omissão podem definir 
     a variável de ambiente <em>EDITOR</em> introduzindo as seguintes linhas 
     nos seus próprios perfis:
    <example>
EDITOR=vi
export EDITOR
alias editor=$EDITOR
          </example>
   </p>
  </sect>
 </chapt>
 <chapt id="moreinfo">
  <heading>
    Mais informação sobre a &debian;
  </heading>
  <sect id="morereading">
   <heading>
     Leitura adicional
   </heading>
   <p>
     Além destas notas de lançamento e do guia de instalação, mais 
     documentação sobre &debian; está disponível a partir do Debian 
     Documentation Project (DDP), cujo objectivo é criar documentação de 
     alta qualidade para os utilizadores da Debian e 'developers'. Está 
     disponível documentação, incluindo o Debian Reference, guia para novos 
     'Maintainers' Debian, e Debian FAQ, e muito mais. Para detalhes 
     completos sobre estes recursos existentes veja <url id="&url-ddp;" 
     name="DDP website">.
   </p>
   <p>
     A documentação para pacotes individuais está instalada em 
     <file>/usr/share/doc/<var>package</var></file>, pode conter informação 
     sobre direitos de autor, detalhes específicos da Debian e qualquer 
     documentação 'upstream'.
   </p>
  </sect>
  <sect id="gethelp">
   <heading>
     Procurar ajuda
   </heading>
   <p>
     Existem muitas fontes de ajuda, conselhos e suporte para os 
     utilizadores de Debian, mas estas devem ser apenas consideradas se a 
     investigação na documentação sobre determinado assunto tiver sido 
     esgotada em todas as fontes. Esta secção fornece uma curta introdução 
     sobre estas fontes que podem ser muito úteis para novos utilizadores 
     Debian.
   </p>
   <sect1 id="lists">
    <heading>
      Listas de mail
    </heading>
    <p>
      As listas de mail mais interessantes para os utilizadores Debian são a 
      debian-user list (em Inglês) e outras listas 
      debian-user-<var>idioma</var> (para outros idiomas). Para mais 
      informação sobre estas listas e detalhes sobre como as subscrever veja 
      <url id="&url-debian-list-archives;">. Por favor verifique os arquivos 
      antes de colocar uma questão e adira á etiqueta da lista.
    </p>
   </sect1>
   <sect1 id="irc">
    <heading>
      Internet Relay Chat (IRC)
    </heading>
    <p>
      Debian tem um canal de IRC dedicado ao suporte e ajuda aos 
      utilizadores de Debian localizado na rede de IRC OFTC, que existe para 
      fornecer serviços interactivos a comunidades com projectos 
      'peer-directed'. Para aceder ao canal, aponte o seu cliente de IRC 
      favorito para &debian-irc-server; e junte-se ao #debian.
    </p>
    <p>
      Por favor siga as linhas de conduta do canal, respeitando os outros 
      utilizadores. Para mais informação sobre a OFTC visite <url 
      id="&url-irc-host;"name="website">.
    </p>
   </sect1>
  </sect>
  <sect id="bugs">
   <heading>
     Reportar erros
   </heading>
   <p>
     Ansiamos por fazer da Debian GNU/Linux um sistema operativo de alta 
     qualidade, no entanto isto não significa que os pacotes que fornecemos 
     sejam totalmente livres de erros. Em consistência com a filosofia da 
     Debian de "desenvolvimento livre" e como um serviço para os nossos 
     utilizadores, fornecemos toda a documentação sobre relatórios de erros 
     no nosso Bug Tracking System (BTS). A BTS é pesquisável em <url 
     id="&url-bts;" name="bugs.debian.org">.
   </p>
   <p>
     Se encontrar um bug na distribuição ou no software empacotado que seja 
     parte dela, por favor relate-o para que possa ser corrigido 
     adequadamente para os lançamentos futuros. Relatar bugs requer um 
     endereço de email válido. Nós pedimo-lo para que possamos seguir bugs e 
     os 'developers' possam entrar em contacto com quem os submeteu, caso 
     seja necessária informação adicional.
   </p>
   <p>
     Pode submeter um relatório de erro usando o programa 
     <package>reportbug</package> ou manualmente através do email. Pode ler 
     mais sobre o Bug Tracking System e como o usar lendo os cartões de 
     referência (disponíveis em <file>/usr/share/doc/debian</file> se tiver 
     instalado o <package>doc-debian</package>) ou online em <url 
     id="&url-bts;" name="Bug Tracking System">.
   </p>
  </sect>
  <sect id="contributing">
   <heading>
     Contribuir para a Debian
   </heading>
   <p>
     Você não necessita de ser um especialista para contribuir para a 
     Debian. Aa assistir outros utilizadores com problemas nas várias <url 
     id="&url-debian-list-archives;" name="listas"> de suporte aos 
     utilizadores está a contribuir para a comunidade. Identificar (e também 
     resolver) problemas relacionados com o desenvolvimento da distribuição 
     através da participação nas <url id="&url-debian-list-archives;" 
     name="listas"> de desenvolvimento é também extremamente útil. Para 
     manter a distribuição de alta qualidade de Debian <url id="&url-bts;" 
     name="submeta bugs"> e ajude os 'developers' a segui-los e a 
     corrigi-los. Se tiver jeito com as palavras pode contribuir mais 
     activamente ajudando-nos a escrever <url id="&url-ddp;" 
     name="documentação"> ou a <url id="&url-debian-i18n;" name="traduzir"> 
     a documentação existente para o seu próprio idioma.
   </p>
   <p>
     Se pode dedicar mais tempo, pode gerir uma peça da colecção de Software 
     Livre dentro da Debian. Especialmente útil para nós é a adopção ou 
     manutenção de items requeridos por pessoas para inclusão da Debian, o 
     <url id="&url-wnpp;" name="Work Needing and Prospective Packages 
     database"> detalha esta informação. Se possui interesse em grupos 
     específicos então pode achar agradável a contribuição em alguns 
     sub-projectos Debian que incluem 'ports' para arquitecturas 
     particulares, <url id="&url-debian-jr;" name="Debian Jr."> e <url 
     id="&url-debian-med;" name="Debian Med">.
   </p>
   <p>
     Em todo o caso, se estiver a trabalhar na comunidade de software livre 
     de alguma maneira, como utilizador, programador, escritor ou tradutor, 
     está realmente a ajudar o esforço de software livre. A contribuição é 
     recompensadora e divertida, assim como lhe permite conhecer novas 
     pessoas dando-lhe aquela estranha sensação quente por dentro.
   </p>
  </sect>
 </chapt>
 <appendix id="old-stuff">
  <heading>
    Gerir o seu sistema &oldreleasename;
  </heading>
  <p>
    Este apêndice contém informação sobre como ter a certeza que pode 
    instalar e actualizar os pacotes da &oldreleasename; antes que actualize 
    para a &releasename;. Deverá ser apenas necessário em situações 
    específicas.
  </p>
  <sect id="old-upgrade">
   <heading>
     Actualizar o seu sistema &oldreleasename;
   </heading>
   <p>
     Basicamente não é diferente de outra actualização da &oldreleasename; o 
     que tem vindo a fazer. A única diferença é que primeiro necessita de se 
     certificar que a sua lista de pacotes ainda contém os pacotes 
     &oldreleasename; como explicado em <ref id="old-sources">.
   </p>
   <p>
     If you upgrade your system using a Debian mirror, it will automatically 
     be upgraded to the latest &oldreleasename; point release.
   </p>
  </sect>
  <sect id="old-sources">
   <heading>
     Verificar a sua lista de fontes
   </heading>
   <p>
     Se alguma das linhas do seu <file>/etc/apt/sources.list</file> se 
     refere a 'stable', está efectivamente a "usar" a &releasename;. Se já 
     correu <tt>apt-get update</tt>, pode ainda voltar atrás sem problemas 
     seguindo o procedimento abaixo indicado.
   </p>
   <p>
     Se já instalou pacotes da &releasename;, então provavelmente não fará 
     muito sentido a instalação de pacotes da &oldreleasename;. Neste caso 
     terá que decidir se quer continuar ou não. É possível baixar de versão 
     nos pacotes, mas este aspecto não é coberto aqui.
   </p>
   <p>
     Abra o ficheiro <file>/etc/apt/sources.list</file> com  seu editor 
     favorito (como root) e verifique todas as linhas que iniciam por 
     <tt>deb http:</tt> ou <tt>deb ftp:</tt> que referenciem a 
     "<tt>stable</tt>". Se encontrar alguma altere de <tt>stable</tt> para 
     <tt>&oldreleasename;</tt>.
   </p>
   <p>
     Se tiver algumas linhas que iniciam por <tt>deb file:</tt>, terá que 
     verificar se o local para onde se referem contém o arquivo 
     &oldreleasename; ou &releasename;.
   </p>
   <p>
     <strong>Importante!</strong> Não altere nenhuma linha que comece por 
     <tt>deb cdrom:</tt>. Ao fazê-lo pode invalidar a linha e terá que 
     correr o <prgn>apt-cdrom</prgn> de novo. Não se alarme se uma linha da 
     fonte 'cdrom' refere <tt>unstable</tt>". Apesar de confuso, é normal.
   </p>
   <p>
     Se efectuar algumas alterações, grave o ficheiro e execute-o
    <example>
# apt-get update
          </example>
     para refrescar a lista de pacotes.
   </p>
  </sect>
 </appendix>
</book>
</debiandoc>
