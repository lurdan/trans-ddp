<!-- CVS revision of this document "$Revision: 1.4 $"  -->
<!-- CVS revision of original english document "1.11"  -->

<chapt id="gnupg">GnuPG

<p>
Véase <file>/usr/share/doc/gnupg/README.gz</file> para una información
más detallada o consulte <tt>man gpg</tt>. 

<sect>Instalar Gnu PG
<p>
Lea el manual de GNU privacy (en Woody, <package>gnupg-doc</package>).
<example>
# gpg --gen-key                   # genera una clave nueva
# gpg --gen-revoke mi_usuario_ID  # genera una clave de revocación para
                                  # mi_usuario_ID
# host -l pgp.net | grep www|less # busca los servidores de claves pgp
</example>
Por el momento, buenos servidores de claves son:
<example>
keyserver wwwkeys.eu.pgp.net
keyserver wwwkeys.pgp.net
</example>
Debe tener cuidado de no crear más de dos subclaves.  Si lo hace, los
servidores de claves de pgp.net corromperán la clave.  Asimismo,
únicamente se debe especificar un servidor de claves en
<file>$HOME/.gnupg/options</file>.
<p>
Desgraciadamente, los siguientes servidores ya no funcionan más:
<example>
keyserver search.keyserver.net
keyserver pgp.ai.mit.edu
</example>

</sect>

<sect>Usar GnuPG
<p>
Manejo de archivos:
<example>
$ gpg  [opciones]  comando [args]
$ gpg {--armor|-a} {--sign|-s} archivo          # firma el 'archivo' en
                                                # el archivo.asc
$ gpg --clearsign archivo                       # firma el 'archivo'
                                                # sin cifrarlo
$ gpg --clearsign --not-dash-escaped patchfile  # firma patchfile sin
                                                # cifrar 
$ gpg --verify archivo                          # verifica el 'archivo'
                                                # firmado sin cifrar
$ gpg -o archivo.firm {-b|--detach-sig} archivo # crea firma separada
$ gpg --verify archivo.firm archivo         # verifica el 'archivo'
                                            # con ayuda del archivo.firm
$ gpg -o archivo_cifrador {--recipient|-r} nombre {--encrypt|-e} archivo 
        # cifrado con clave pública para el destinario nombre
$ gpg -o archivo_cifrador {--symmetric|-c} archivo # cifrado simétrico
$ gpg -o archivo --decrypt archivo_cifrador        # descifrado
</example>
</sect>

<sect>Administrar GnuPG
<p>
Administración de claves:
<example>
$ gpg --edit-key ID_usuario       # "help" para ayuda interactiva
$ gpg -o archivo --exports        # exporta todas las claves al
                                  # 'archivo' 
$ gpg --imports archivo           # importa todas las claves del
                                  # 'archivo'
$ gpg --send-keys ID_usuario      # envía la clave del ID_usuario al
                                  # servidor de claves
$ gpg --recv-keys ID_usuario      # recibe la clave del ID_usuario del
                                  # servidor de claves
$ gpg --list-keys ID_usuario      # lista las claves del ID_usuario
$ gpg --list-sigs ID_usuario      # lista las firmas del ID_usuario
$ gpg --check-sigs ID_usuario     # verifica la firma del ID_usuario
$ gpg --fingerprint ID_usuario    # verifica la huella dactilar del
                                  # ID_usuario
$ gpg --list-sigs | grep '^sig' | grep '[User id not found]' \
  | awk '{print $2}' | sort -u | xargs gpg --recv-keys 
              # obtiene claves desconocidas
              # actualiza las claves para todas las firmas desconocidas.
</example>
Códigos de confiabilidad:
<example>
-         No se asignó/evaluó confiabilidad del poseedor.
e         Ha fallado la evaluación de confiabilidad.
q         No existe suficiente información para realizar la evaluación.
n         No confiar nunca en esta clave.
m         Relativamente confiable.
f         Totalmente confiable.
u         Plenamente confiable.
</example>
</sect>

<sect>Uso con Mutt
<p>
Agregar lo siguiente al <file>~/.muttrc</file> para evitar que GnuPG -un
programa muy 'pesado'- arranque automáticamente y sólamente se active al
pulsar la tecla 'S' en el menú del índice.
<example>
macro index S ":toggle pgp_verify_sig\n"
set pgp_verify_sig=no
</example>
</sect>

</chapt>

