<!-- CVS revision of this document "$Revision: 1.2 $"  -->
<!-- CVS revision of original english document "1.14"  -->
<chapt id="woody">Transición hacía Woody

<p>
<sect>Preparación para la transición
<p>
Una actualización hacía la version "testing" via la Red es posible mediante el
siguiente método (lo mejor es hacer un script como el siguiente
<url id="http://qref.sourceforge.net/quick/examples/go-woody" 
name="go-woody"> para lanzar el proceso en un solo comando):
<example>
# cd /etc/apt
# cp -f sources.list sources.old 
# :&gt;sources.list  
# cd /
# apt-setup noprobe 
 ... select http or ftp
# cd /etc/apt
# grep -e "^deb " sources.list             &gt;sources.deb
# grep -e "^deb-" sources.list             &gt;sources.src
# sed -e "s/^d/#d/" \
&gt;  /usr/share/doc/apt/examples/sources.list 
&gt;  &gt;sources.list
# sed -e "s/stable/testing/"  \
&gt;  sources.deb &gt;&gt;sources.list
# apt-get update
# apt-get install apt apt-utils
# cat &gt;preferences &lt;&lt;EOF
&gt; Package: *
&gt; Pin: release a=testing
&gt; Pin-Priority: 700
&gt; 
&gt; Package: *
&gt; Pin: release a=unstable
&gt; Pin-Priority: 70
&gt;
&gt; EOF
# sed -e "s/stable/unstable/" sources.deb \
&gt;  &gt;&gt;sources.list
# sed -e "s/stable/unstable/" sources.src | \
&gt; sed -e "s/^deb-/#deb-/"  &gt;&gt;sources.list
</example>
Una guía para <file>/etc/apt/preferences</file> (consulte <manref
name="apt_preferences" section="5">):
<example>
track stable:            cambiar  Pin-Priority de testing  a  80
track testing:           dejar como está (instalar unstable por /unstable)
track testing(unstable): cambiar  Pin-Priority de unstable a  600
track unstable(testing): cambiar  Pin-Priority de unstable a  800
</example>
Esta tabla sirve para decidir el orden de la variable Pin-Priority según el orden de aparición 
(de arriba a abajo) y esto siguiendo el orden de transición de una versión distribuable a una versión "freeze".
<p>
Asegúrese de configurar <prgn>apt</prgn> para utilizar un proxy, si necesario, configurando
la variable <tt>http_proxy</tt> o completando la valor http en el fichero <file>/etc/apt/apt.conf</file>.
<p>
La procedimiento descrito en esta sección solo actualiza <prgn>apt</prgn> y los paquetes necesarios
para evitar problemas de dependencias.
<p>
Since this upgrade method uses <prgn>apt-get</prgn>, its handling of 
<em>recommends</em> and <em>suggests</em> is limited. 
Read <ref id="depends"> and use <prgn>dselect</prgn> instead to achieve 
fine-grained control.
</sect>

<sect>Actualización a Woody
<p>
Después de la preparación precedente utilize los comandos:
<example>
# apt-get update # siempre lanzar este comando antes del "upgrade" 
 ... este comando sirve para actualizar todo el sistema con los paquetes sugeridos.
# apt-get -u dist-upgrade
 ... para actualizar el sistema y guardar la configuración dselect actual.
# apt-get -u dselect-upgrade       # utiliza la configuración dselect para actualizar 
</example>
</sect>

<sect>Configuración de Woody
<p>
Esto no sera necesario a medida que Woody se mejore.
<p>
Para un sistema recientemente instalado con Woody, edite el fichero <file>/etc/apt/sources.list</file>,
 <file>/etc/apt/apt.conf</file>, y <file>/etc/apt/preferences</file> 
para conseguir la misma estructura que la descrita en las secciones precedentes.
</sect>

<sect id="spy"><file>sources.list</file> Optimizado
<p>
Optimize <file>sources.list</file> probando la respuesta (latency) y anchura de banda (bandwidth) de cada sitio.
Ejemplo utilizando apt-spy:
<example>
# apt-get install apt-spy
# cd /etc/apt ; mv sources.list sources.list.org
# apt-spy -d testing -l sources.apt
</example>
</sect>

</chapt>
