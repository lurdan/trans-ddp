<!-- CVS revision of this document "$Revision: 1.12 $"  -->
<!-- CVS revision of original english document "1.43"  -->
<chapt id="woody">Aggiornare una distribuzione  a <tt>stable</tt>, <tt>testing</tt> o <tt>unstable</tt>

<![%f-ref;[
<p>
Le note ufficiali di rilascio per l'aggiornamento si trovano presso
<url id="&stable-release;">
e
<url id="&testing-release;"> (lavoro in corso).

<p>
L'aggiornamento alle distribuzioni 
<tt>stable</tt>, <tt>testing</tt> o <tt>unstable</tt>
può richiedere vari passaggi, 
nel seguente ordine:

<list>
 <item> Aggiornamento a Woody (se il sistema è antecedente ad esso)
 <item> Aggiornamenti a <tt>stable</tt>
 <item> Aggiornamenti a <tt>testing</tt>
 <item> Aggiornamenti a <tt>unstable</tt>
</list> 

Debian non supporta gli aggiornamenti che saltino i rilasci intermedi.
]]>


<sect id="woody-transition">Aggiornare da Potato a Woody
<p>
Questa procedura separatamente perchè l'APT di Potato non aveva tutte
le funzioni descritte nella pagina di manuale attuale.
<manref name="apt_preferences" section="5">.
<p>
Dopo aver inserito i puntatori per Woody in
<file>/etc/apt/sources.list</file>,
aggiornate APT ed i pacchetti fondamentali alle versioni di Woody
facendo quanto segue.
<example>
# apt-get update
# apt-get install libc6 perl libdb2 debconf
# apt-get install apt apt-utils dselect dpkg
</example>
Poi aggiornate il resto del sistema a Woody.
<example>
# apt-get upgrade
# apt-get dist-upgrade
</example>


<sect id="testing-transition">Preparazione per l'aggiornamento
<p>
Potete eseguire l'aggiornamento da una distribuzione all'altra
prendendo i pacchetti dalla rete.
Ciò può essere fatto come segue.
<p>
Procuratevi una lista pulita di depositi per <tt>stable</tt>:
<example>
# cd /etc/apt
# cp -f sources.list sources.list.old 
# :&gt;sources.list  
# apt-setup noprobe 
</example>
Se volete aggiornare a <tt>testing</tt>, allora aggiungete i riferimenti
a <tt>testing</tt> a questa nuova lista.
Se volete farlo a <tt>unstable</tt>, aggiungete i riferimenti
ad <tt>unstable</tt>.
<example>
# cd /etc/apt
# grep -e "^deb " sources.list  &gt;srcs
# :&gt;sources.list
# cp -f srcs sources.list
# sed -e "s/stable/testing/" srcs &gt;&gt;sources.list
# sed -e "s/stable/unstable/" srcs &gt;&gt;sources.list
# apt-get update
# apt-get install apt apt-utils
</example>

Vedere <ref id="apt-install"> per l'arte della messa a punto di
<file>/etc/apt/sources.list</file> e <file>/etc/apt/preferences</file>.
<p>
</sect>

<sect id="upgrade-system">Aggiornamento
<p>
Dopo aver impostato appropriatamente <file>/etc/apt/sources.list</file> e
<file>/etc/apt/preferences</file> come descritto sopra,
potete iniziare l'aggiornamento.
<p>
Notate che il tracciamento della distribuzione <tt>testing</tt> di &debian;
può avere come effetto colaterale il ritardo nell'installazione dei pacchetti
contenenti correzioni per la sicurezza, poicè detti pacchetti vengono caricati
su <tt>unstable</tt> e solo dopo un lasso di tempo migrano in <tt>testing</tt>.
<p>
Vedere <ref id="package"> per le basi e 
<ref id="apt-trouble"> se incontrate problemi.

<sect1>Usare <prgn>dselect</prgn>
<p>
Se un sistema ha molti pacchetti, inclusi i pacchetti <tt>-dev</tt>, ecc., 
il metodo seguente tramite <prgn>dselect</prgn> è il metodo di scelta per un più
raffinato controllo sui pacchetti.
<example>
# dselect update  # da fare sempre prima di un aggiornamento
# dselect select  # sceglie i pacchetti addizionali
</example>
Quando <prgn>dselect</prgn> parte, tutti i pacchetti correnti verranno
selezionati. <prgn>dselect</prgn> potrà mostrarvi pacchetti addizionali basati
su <tt>Dipende</tt>, <tt>Suggerisce</tt>, e <tt>Raccomanda</tt>.
Se non volete altri pacchetti, basta pigiare <tt>Q</tt> per uscire di nuovo
da <prgn>dselect</prgn>.
<example>
# dselect install
</example>
Dovrete rispondere ad alcune domande sulla configurazione dei pacchetti
durante questa perte del processo, per cui tenete con voi i vostri appunti e
prendetevi del tempo per questa parte. Vedere <ref id="dselect">.
<p>
Usate <prgn>dselect</prgn>. <strong>Funziona sempre :)</strong>

<![%f-ref;[
<sect1>Usare <prgn>apt-get</prgn>
<p>
<example>
# apt-get update
# apt-get -t stable upgrade
# apt-get -t stable dist-upgrade
# apt-get -t testing upgrade
# apt-get -t testing dist-upgrade
# apt-get -t unstable upgrade
# apt-get -t unstable dist-upgrade
</example>
Una volta che il vostro sistema ha raggiunto Sarge, è consigliabile usare
<prgn>aptitude</prgn> al posto di <prgn>apt-get</prgn>.
(<prgn>aptitude</prgn> accetta molte delle opzioni che accetta anche
<prgn>apt-get</prgn>,
comprese quelle sopra.)
<p>
Per aggiornare e seguire le impostazioni date da <prgn>dselect</prgn>:
<example>
# apt-get dselect-upgrade
</example>
<p>
Vedere <ref id="depends">.
]]>
</sect>



</chapt>
