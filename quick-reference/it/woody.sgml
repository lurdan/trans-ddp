<!-- CVS revision of this document "$Revision: 1.4 $"  -->
<!-- CVS revision of original english document "1.14"  -->
<chapt id="woody">Passare a Woody 
<p>
<sect>Preparazione
<p>
L'aggiornamento a "testing" tramite la rete può essere eseguito come
segue (lanciate lo script <url
id="http://qref.sourceforge.net/quick/examples/go-woody"
name="go-woody"> per fare questo con un unico comando):
<example>
# cd /etc/apt
# cp -f sources.list sources.old 
# :&gt;sources.list  
# cd /
# apt-setup noprobe 
 ... seleziona http o ftp
# cd /etc/apt
# grep -e "^deb " sources.list             &gt;sources.deb
# grep -e "^deb-" sources.list             &gt;sources.src
# sed -e "s/^d/#d/" /usr/share/doc/apt/examples/sources.list &gt;sources.list
# sed -e "s/stable/testing/"  sources.deb &gt;&gt;sources.list
# apt-get update
# apt-get install apt apt-utils
# cat &gt;preferences &lt;&lt;EOF
&gt; Package: *
&gt; Pin: release a=testing
&gt; Pin-Priority: 700
&gt; 
&gt; Package: *
&gt; Pin: release a=unstable
&gt; Pin-Priority: 70
&gt;
&gt; EOF
# sed -e "s/stable/unstable/" sources.deb &gt;&gt;sources.list
# sed -e "s/stable/unstable/" sources.src | \
&gt; sed -e "s/^deb-/#deb-/"                 &gt;&gt;sources.list
</example>
Linee guida per /etc/apt/preferences (vedere "man apt_preferences"):
<example>
Se sei su stable: cambia la Pin-Priority di testing ad 80 
Se sei su testing: mantienilo così com'è (installa unstable da 
  /unstable) 
Se sei su testing(unstable): cambia la Pin-Priority di unstable a 600
Se sei su unstable(testing): cambia la Pin-Priority di unstable a 800
</example>
Le linee guida per la scelta della Pin-Priority muovono dall'alto
verso il basso nella tabella precedente, man mano che il tempo passa,
dal momento immediatamente successivo al rilascio di una distribuzione
fino al momento del freeze della successiva.
<p>
Impostate apt per l'uso di un proxy impostando la variabile di
ambiente http_proxy, oppure impostate il file
<file>/etc/apt/apt.conf</file>.
<p>
Il metodo appena descritto aggiorna solamente apt ed un numero
limitato di altri pacchetti, per evitare problemi di dipendenze.
</sect>

<sect>Aggiornamento a woody
<p>
Dopo aver eseguito la preparazione precedente:
<example>
# apt-get update # eseguitelo sempre prima dell'upgrade 
 ... per aggiornare l'intero sistema seguendo le selezioni suggerite 
# apt-get -u dist-upgrade 
 ... per aggiornare seguendo le impostazioni correnti di dselect 
(nuovo metodo, migliore) 
# apt-get -u dselect-upgrade # utilizza le impostazioni di dselect 
</example>
</sect>

<sect>Configurare Woody
<p>
Con i miglioramenti di woody, ciò potrebbe no essere più necessario.
<p>
Se avete un sistema woody installato di fresco, modificate
<file>/etc/apt/sources.list</file>, <file>/etc/apt/apt.conf</file>, e
<file>/etc/apt/preferences</file> per ottenere la stessa struttura
descritta nella sezione precedente.
</sect>

<sect id="spy">Ottimizzare sources.list
<p>
Ottimizzate sources.list provando ogni sito per latenza e larghezza di
banda.
<example>
# apt-get install apt-spy
# cd /etc/apt ; mv sources.list sources.list.org
# apt-spy -d testing -l sources.apt
</example>
</sect>

</chapt>
