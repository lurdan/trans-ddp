<!-- CVS revision of this document "$Revision: 1.13 $"  -->
<!-- CVS revision of original english document "1.22"  -->
<chapt id="gnupg">GnuPG

<p>
Riferimenti:
<list compact>
<item><manref name="gpg" section="1">. 
<item><file>&dochome;gnupg/README.gz</file>
<item><em>GNU privacy handbook</em> in 
 <file>&dochome;gnupg-doc/GNU_Privacy_Handbook/</file> 
 (installate il pacchetto <package>gnupg-doc</package>)
</list>

<sect>Installazione di GnuPG
<p>
<example>
# gpg --gen-key                         # genera una nuova chiave
# gpg --gen-revoke <var>mio_user_ID</var>          # genera una chiave di revoca 
per mio_user_ID
# host -l pgp.net | grep www|less       # cerca i pgp keyserver
</example>
Un buon keyserver predefinito impostato in <file>$HOME/.gnupg/gpg.conf</file>
(o la vechia locazione <file>$HOME/.gnupg/options</file> contiene:
<example>
keyserver hkp://subkeys.pgpg.net
</example>
Bisogna fare attenzione a <strong>non</strong> creare più di due sottochiavi,
altrimenti i keyservers su pgp.net <strong>corromperanno</strong> la vostra chiave. 
Usate il <package>gnupg</package> più recente (>1.2.1-2) per maneggiare queste sottochiavi 
corrotte. Vedere <url id="&gpg-subkeys;">.
<p>
</sect>
<sect>Uso di GnuPG
<p>
Gestione dei file:
<example>
$ gpg  [opzioni]  <var>comando  [argomenti]</var>
$ gpg {--armor|-a} {--sign|-s} <var>file</var> # firma un file in file testo <var>file</var>.asc
$ gpg --clearsign <var>file</var>              # firma un messaggio
$ gpg --clearsign --not-dash-escaped <var>patchfile</var>  # firma in chiaro una patch
$ gpg --verify <var>file</var>                 # verifica un <var>file</var> firmato in chiaro
$ gpg -o <var>file.sig</var> {-b|--detach-sign} <var>file</var>    # crea una firma staccata
$ gpg --verify <var>file.sig</var> <var>file</var> # verifica <var>file</var> con <var>file.sig</var>
$ gpg -o <var>crypt_file</var> {--recipient|-r} <var>nome</var> {--encrypt|-e} <var>file</var> 
        # Criptatura mediante chiave pubblica destinata a nome
$ gpg -o <var>crypt_file</var> {--symmetric|-c} <var>file</var> # criptatura simmetrica
$ gpg -o <var>file</var> --decrypt crypt_file  # decrittatura
</example>
</sect>
<sect>Gestione di GnuPG
<p>
Gestione delle chiavi:

<example>
$ gpg --edit-key <var>ID_utente</var>  # "help" per aiuto, interattivo
$ gpg -o <var>file</var> --exports     # esporta tutte le chiavi in <var>file</var> 
$ gpg --imports <var>file</var>        # importa tutte le chiavi da <var>file</var>
$ gpg --send-keys <var>ID_utente</var> # invia le chiavi di <var>ID_utente</var> al keyserver
$ gpg --recv-keys <var>ID_utente</var> # recupera la chiave di <var>ID_utente</var> dal keyserver
$ gpg --list-keys <var>ID_utente</var> # elenca le chiavi dello <var>ID_utente</var>
$ gpg --list-sigs <var>ID_utente</var> # elenca le firme dello <var>ID_utente</var>
$ gpg --check-sigs<var>ID_utente</var> # verifica le firme dello <var>ID_utente</var>
$ gpg --fingerprint<var>ID_utente</var> # verifica il fingerprint dello <var>ID_utente</var>
$ gpg --list-sigs | grep '^sig' | grep '[User id not found]' \
  | awk '{print $2}' | sort -u | xargs gpg --recv-keys 
  # prende le chiavi sconosciute
  # aggiorna le chiavi per tutte le firme sconosciute.
$ gpg --refresh-keys                # aggiorna il keyring locale
</example>
Codice di confidenza:
<example>
-         Nessun codice assegnato / non ancora calcolato.
e         Il calcolo della confidenza è fallito.
q         Informazioni insufficienti per il calcolo.
n         Non confidare mai su detta chiave.
m         Confidenza parziale.
f         Confidenza totale.
u         Confidenza finale.
</example>
Quanto segue carica la mia chiave "<var>A8061F32</var>" al keyserver popolare
<tt>hkp://subkeys.pgp.net</tt>:
<example>
$ gpg --keyserver hkp://subkeys.pgp.net --send-keys <var>A8061F32</var>
</example>
</sect>

<sect>Usare GnuPG con altre applicazioni
<p>
<sect>Uso con Mutt
<p>
Aggiungete le righe seguenti a <file>~/muttrc</file> per evitare che uno GnuPG troppo lento
venga lanciato automaticamente, ma solo quando necessario, premendo `<tt>S</tt>' al menu.
<example>
macro index S ":toggle pgp_verify_sig\n"
set pgp_verify_sig=no
</example>

<sect1 id="vimgpg">Uso con Vim
<p>
Aggiungete il contenuto di <file>_vimrc</file>, ottenuto dalla <url id="&examples;"
name="sottodirectory degli esempi"> in <file>~/.vimrc</file> per far girare GnuPG 
in modo trasparente.

</chapt>
