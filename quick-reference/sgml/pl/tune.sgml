<!-- CVS revision of this document "# Revision is not used here.#"  -->
<!-- CVS revision of original english document "1.155"  -->

<chapt id="tune">Dostrajanie systemu &debian;
<p>
Ten rozdział opisuje tylko podstawy konfiguracji systemu, z użyciem narzędzi
linii poleceń. Powinieneś najpierw przeczytać
<ref id="install">.  
<p>
Jeśli chcesz się dowiedzieć czegoś o bezpieczeństwie, przeczytaj 
<url id="&securing-debian-howto;" name="Securing Debian Manual">,
który znajduje się w pakiecie 
<package>&p-securing-debian-howto;</package>.

<sect id="init-hints">Inicjalizacja systemu
<p>
&debian; używa systemu skryptów inicjalizacyjnych System V.
Dobrym wprowadzeniem jest lektura <ref id="init">.

<sect1 id="init-defaults">Dostosowywanie skryptów startowych do własnych
potrzeb.
<p>
Najprostszym sposobem na kontrolowanie zachowania systemu inicjalizującego
jest zmiana przypisań zmiennych środowiskowych w pliku nazwanym tak jak 
skrypt, a znajdującym się w katalogu <file>/etc/default/</file>.
<footnote>
Pliki w <file>/etc/default/</file> zawierają <strong>tylko</strong>
przypisania zmiennych środowiskowych.
Każdy plik jest wchłaniany przez skrypt inicjalizujący odpowiedni dla niego
w taki sposób, że te przypisania nadpisują jakiekolwiek domyślne ustawienia
zmiennych środowiskowych w skrypcie.
Wybór tego katalogu jest <url id="&etc-defaults;" name="typowy"> dla
systemu &debian;. W gruncie rzeczy jest to odpowiednik 
<file>/etc/sysconfig</file> znanego z systemu RedHat i innych dystrybucji.
</footnote>
Na przykład, <file>/etc/default/hotplug</file> może zostać użyty do
kontrolowania pracy <file>/etc/init.d/hotplug</file>.
<file>/etc/default/rcS</file> może zostać wykorzystany do dostrojenia 
ustawień dla <prgn>motd</prgn>, <prgn>sulogin</prgn>, itp. podczas startu
systemu.
<p>
Jeśli zmieniając te zmienne nie możesz otrzymać pożądanego rezultatu,
możesz zmodyfikować skrypt inicjalizujący; to również pliki konfiguracyjne.

<sect1 id="syslogd">Logowanie komunikatów systemowych
<p>
Zachowanie programu logującego może być modyfikowane poprzez
<file>/etc/syslog.conf</file>.
Sprawdź pakiet <package>colorize</package> jeśli szukasz programu do
kolorowania logów systemowych. 
Zobacz także <manref name="syslogd" section="8"> oraz
<manref name="syslog.conf" section="5">.
</sect1>

<sect1 id="hdtune">Optymalizacja sprzętu
<p>
Istnieje kilka ustawień sprzętowych, których optymalizację &debian;
pozostawia w gestii administratora.
<list>
<item><package>hdparm</package>
 <list compact>
<item>Optymalizacja dostępu dysku twardego. Bardzo skuteczna.
<item>Niebezpieczne. Przeczytaj <manref name="hdparm" section="8"> przed
użyciem.
<item><tt>hdparm -tT <var>/dev/hda</var></tt>, aby sprawdzić szybkość dostępu
do dysku.
<item><tt>hdparm -q -c3 -d1 -u1 -m16 <var>/dev/hda</var></tt>, aby
przyspieszyć działanie nowoczesnego dysku IDE. (Może być niebezpieczne.)
</list>

<item><package>setcd</package>
 <list compact>
<item>Optymalizacja dostępu napędu płyt kompaktowych.
<item><tt>setcd -x <var>2</var></tt>, aby zmniejszyć prędkość do <var>2</var>x.
<item>Zobacz <manref name="setcd" section="1">.
 </list>

<item><package>setserial</package>
 <list compact>
<item>Zbiór narzędzi do konfiguracji portu szeregowego.
 </list>

<item><package>scsitools</package>
 <list compact>
<item>Zbiór narzędzi do konfiguracji urządzeń SCSI.
 </list>

<item><package>memtest86</package>
 <list compact>
<item>Zbiór narzędzi do testowania pamięci RAM.
 </list>

<item><package>hwtools</package>
 <list compact>
<item>Zbiór narzędzi do niskopoziomowej konfiguracji sprzętu.
  <list compact>
   <item><prgn>irqtune</prgn>: zmienia priorytet IRQ, aby zapewnić go tym urządzeniom,
   które wymagają wyższego priorytetu i szybkiego obsłużenia ( np. porty
   szeregowe, modemy). Możliwe jest nawet trzykrotne zwiększenie
   przepustowości modemu/portu szeregowego.
   <item><prgn>scanport</prgn>: skanuje adresy I/O od 0x100 do 0x3ff w celu znalezienia
   zainstalowanych urządzeń ISA.
   <item><prgn>inb</prgn>: narzędzie odczytujące porty I/O i wyświetlające otrzymane
   wyniki w formacie binarnym i szesnastkowym.
  </list>

 </list>

<item><package>schedutils</package>
 <list compact>
<item> Narzędzie do zmiany ustawień programu szeregującego jądra Linuksa
(scheduler).
<item>Zawiera <prgn>taskset</prgn>, <prgn>irqset</prgn>, <prgn>lsrt</prgn>, 
 oraz <prgn>rt</prgn>.
<item>W połączeniu z <prgn>nice</prgn> i <prgn>renice</prgn> 
 (nie będącymi częścią tego pakietu), pozwalają na pełną kontrolę parametrów
 programu szeregującego.
 </list>
</list>
<p>
Montowanie systemu plików z opcją <tt>noatime</tt> jest także bardzo skutecznym
rozwiązaniem w przyspieszaniu odczytu plików. Zobacz
<manref name="fstab" section="5"> i <manref name="mount" section="8">.
<p>
Niektóre urządzenia mogą być konfigurowane bezpośrednio przez jądro Linuksa,
poprzez system plików proc. Zobacz <ref id="proc-sys">.
<p>
W Debianie istnieje wiele narzędzi przeznaczonych dla konkretnego sprzętu.
Wiele z nich związanych jest z laptopami. Oto lista interesujących pakietów
dostępnych w Debianie:
<list compact>
<item><package>tpconfig</package> - Program do konfiguracji urządzeń typu touchpad
<item><package>apmd</package> - Konfiguracja zaawansowanego zarządzania energią  (APM)
<item><package>acpi</package> - Wyświetla informacje o urządzeniach z ACPI
<item><package>acpid</package> - Narzędzie konfiguracji ACPI
<item><package>lphdisk</package> - Przygotowuje partycję hibernacyjną dla
Phoenix NoteBIOS
<item><package>sleepd</package> - Usypia laptopa, gdy jest nieużywany
<item><package>noflushd</package> - Pozwala bezczynnym dyskom na wolniejszy obrót
<item><package>big-cursor</package> - Większy kursor w X-ach
<item><package>acme</package> - Obsługa „multimedialnych przycisków” w
laptopie
<item><package>tpctl</package> - Narzędzie konfiguracji IBM ThinkPad
<item><package>mwavem</package> - Obsługa modemów Mwave/ACP
<item><package>toshset</package> - Umożliwia dostęp do większości ustawień
sprzętowych laptopów Toshiba
<item><package>toshutils</package> - Narzędzia dla laptopów Toshiba
<item><package>sjog</package> - Program do obsługi „Jog Dial” na laptopach
Sony Vaio
<item><package>spicctrl</package> - Program do ustawiania parametrów ekranu LCD
w laptopach Sony Vaio
</list>
ACPI jest nowszym systemem zarządzania energią niż APM.
<p>
Niektóre z wymienionych pakietów wymagają specjalnych modułów jądra. W
większości wypadków są one dołączone do najnowszych źródeł jądra. Jednak w razie
problemów będziesz musiał zainstalować najnowszą łatkę dla jądra.

<sect>Ograniczenia dostępu

<sect1 id="loginctrl">Ograniczenia dostępu poprzez PAM
<p>
PAM (Pluggable Authentication Modules) pozwala kontrolować w jaki sposób
użytkownicy logują się do systemu.  
<example>
/etc/pam.d/*             # pliki konfiguracyjne PAM
/etc/pam.d/login         # plik konfiguracyjny PAM dla programu login
/etc/security/*          # ustawienia modułów PAM
/etc/securetty           # terminale, na których może pracować root (login)
/etc/login.defs          # ustawienia programu login (login)
</example>
<p>
Zmień zawartość <file>/etc/pam.d/login</file> tak, jak poniżej, jeśli chcesz
aby dostęp do terminala (również konsoli) nie był warunkowany hasłem.
Używaj na własną odpowiedzialność.
<example>
#auth       required   pam_unix.so nullok
auth       required   pam_permit.so
</example>
Podobne sztuczki mogą być zastosowane dla <prgn>xdm</prgn>,
<prgn>gdm</prgn>, ... , aby uzyskać analogiczną funkcjonalność w X-ach.
<p>
Z drugiej strony, jeśli chcesz wymusić na użytkownikach politykę wyboru
bezpiecznych haseł, zainstaluj <package>cracklib2</package> i ustaw parametry
w pliku <file>/etc/pam.d/passwd</file> następująco:
<example>
password required       pam_cracklib.so retry=3 minlen=6 difok=3
</example>
Możesz także, podczas aktywacji konta, ustawić hasło jednokrotnego użytku, co
zmusi użytkownika do jego zmiany przy pierwszym logowaniu.
Aby uzyskać taki efekt, użyj polecenia <prgn>passwd</prgn> z opcją
<tt>-e</tt>. Zobacz <manref name="passwd" section="1">.
<p>
Maksymalna ilość procesów może być ustalona poprzez 
<tt>ulimit -u 1000</tt> w powłoce Bash albo poprzez edycję
<file>/etc/security/limits.conf</file>, elementu PAM. Inne limity, jak np
<tt>core</tt> mogą być ustawione w sposób analogiczny. Początkowa wartość
zmiennej <prgn>PATH</prgn> może być ustawiona w pliku <file>/etc/login.defs</file>
zanim jeszcze zostaną uruchomione skrypty startowe danej powłoki.
<p>
Dokumentacja dla PAM jest dostępna w pakiecie
<package>libpam-doc</package>.<em>Linux-PAM System
Administrator's Guide</em> zawiera informacje dotyczące konfiguracji PAM,
dostępnych modułów itp. Dokumentacja zawiera także <em>The Linux-PAM
Application Developers' Guide</em> oraz <em>The Linux-PAM Module Writers'
Guide.</em>
</sect1>

<sect1 id="wheel">„Dlaczego GNU <prgn>su</prgn> nie obsługuje grupy <tt>wheel</tt>”
<p>
Jest to słynne zdanie w dokumentacji <tt>info su</tt> , napisane przez
Richarda M. Stallmana. Ale nie obawiaj się, obecne <prgn>su</prgn> w
Debianie używa PAM, więc można ograniczyć możliwość używania
<prgn>su</prgn> do dowolnej grupy używając <prgn>pam_wheel.so</prgn> w pliku
<file>/etc/pam.d/su</file>. Poniższy przykład ilustruje ustawienie grupy
<tt>adm</tt> analogicznie do <tt>wheel</tt> z systemów BSD oraz umożliwia
używanie <prgn>su</prgn> bez podawania hasła dla członków tej grupy.
<example>
# konfiguracja anty-RMS w /etc/pam.d/su
auth       required   pam_wheel.so group=adm

# Członkowie grupy wheel mogą wywoływać su bez podawania hasła
auth       sufficient pam_wheel.so trust group=adm
</example>

<sect1>Przeznaczenie standardowych grup
<p>
Oto kilka interesujących grup:
<list compact>
<item><tt>root</tt> grupa jest domyślnym odpowiednikiem grupy wheel dla
<prgn>su</prgn>, jeśli <prgn>pam_wheel.so</prgn> jest użyte bez podania
argumentu <tt>group=</tt>.
<item><tt>adm</tt> członkowie grupy mogą czytać logi systemowe. 
<item><tt>cdrom</tt> grupa może zostać użyta, aby nadać użytkownikom 
          prawa dostępu do napędu CD-ROM.  
<item><tt>floppy</tt> grupa może zostać użyta, aby nadać użytkownikom
        prawa dostępu do napędu dyskietek.
<item><tt>audio</tt> grupa może zostać użyta, aby nadać użytkownikom 
        prawa dostępu do urządzeń audio.
<item><tt>src</tt> grupa jest właścicielem kodu źródłowego umieszczonego w 
        <file>/usr/src</file>. Może być użyta, aby nadać użytkownikom
          możliwość zarządzania kodem źródłowym systemu.
<item><tt>staff</tt> grupa służąca do nauki administracji systemem.
</list>
<p>
Aby uzyskać kompletną listę zobacz część FAQ w 
<url id="&securing-debian-howto;" name="Securing Debian Manual">,
który w Woodym może być także znaleziony w pakiecie
<package>&p-securing-debian-howto;</package>.
Także nowe <package>&p-base-passwd;</package> (>3.4.6) zawierają
wiarygodną listę: <file>&f-users-and-groups;</file>.

<sect1 id="sudo">Bezpieczniejsza praca &ndash <prgn>sudo</prgn>
<p>
Używam <prgn>sudo</prgn> do ochrony przed własną głupotą.
Osobiście uważam, że używanie <prgn>sudo</prgn> jest lepszą alternatywą 
niż ciągła praca w systemie na koncie użytkownika root.
<p>
Zainstaluj <prgn>sudo</prgn> i skonfiguruj go poprzez edycję <file>
<url id="&examples;" name="/etc/sudoers"></file>.
Zapoznaj się także z możliwościami <tt>sudo</tt> w pliku 
<file>&dochome;sudo/OPTIONS</file>.
<p>
Przykładowa konfiguracja zapewnia członkom grupy staff uprawnienia do
wykonywania dowolnych poleceń jako root poprzez <prgn>sudo</prgn>, natomiast
członkom grupy src prawo do wykonywania jedynie niektórych poleceń z takimi
uprawnieniami.
<p>
Zaletą <prgn>sudo</prgn> jest to, że do zalogowania potrzebuje jedynie
podania hasła użytkownika, a dodatkowo monitoruje aktywność użytkownika. Jest to dobry
sposób, aby dać pewną władzę młodym administratorom. Na przykład:
<example>
$ sudo chown -R <var>myself</var>:<var>mygrp</var> .
</example>
<p>
Oczywiście, jeżeli znasz hasło root-a (jak większość domowych użytkowników),
dowolne polecenie może zostać wydane jako root z Twojego konta użytkownika:
<example>
$ su -c "shutdown -h now"
Password:
</example>
(Wiem, że powinienem ograniczyć przywileje <prgn>sudo</prgn> konta admin, ale
ponieważ jest to mój domowy serwer, jeszcze się tym nie przejmowałem.)
<p>
Inny program umożliwiający zwykłym użytkownikom uruchamianie poleceń z
uprawnieniami root-a możesz znaleźć w pakiecie <package>super</package>.
</sect1>
    
<sect1 id="tcpd">Ograniczenia dostępu do usług
<p>
Internetowy <em>super-serwer</em>, <prgn>inetd</prgn>, jest uruchamiany
podczas startu systemu z <file>/etc/rc2.d/S20inetd</file> (dla RUNLEVEL=2),
który jest dowiązaniem symbolicznym do pliku <file>/etc/init.d/inetd</file>.
W skrócie, <prgn>inetd</prgn> umożliwia uruchomienie jednego demona, który
w razie potrzeby uruchamia inne, zmniejszając w ten sposób obciążenie systemu.
<p>
Gdy <prgn>inetd</prgn> przyjmuje zgłoszenie, sprawdza protokół i nazwę
żądanej usługi przeszukując bazę danych w plikach <file>/etc/protocols</file> 
oraz <file>/etc/services</file>. Następnie, wyszukuje odpowiedzialną za obsługę
zgłoszenia usługę w <file>/etc/inetd.conf</file> jeśli jest to zwyczajna
usługa internetowa, natomiast w <file>/etc/rpc.conf</file> jeśli jest to
usługa Sun-RPC.
<p>
Mając na względzie bezpieczeństwo, wyłącz zbędne usługi w pliku
<file>/etc/inetd.conf</file>.
Usługi Sun-RPC są wykorzystywane przez NFS oraz inne programy oparte na RPC.
<p>
Czasami <prgn>inetd</prgn> nie przekazuje kontroli do żądanej usługi
bezpośrednio, lecz uruchamia demona TCP/IP <prgn>tcpd</prgn> przekazując
mu nazwę usługi jako argument. W tym wypadku <prgn>tcpd</prgn> uruchomi
żądaną usługę dopiero po zgłoszeniu tego do logów systemowych oraz
zanalizowaniu plików <file>/etc/host.deny</file> i
<file>/etc/host.allow</file>.
<p>
Jeśli masz problemy ze zdalnym dostępem w aktualnej dystrybucji &debian;,
skomentuj zapis „ALL: PARANOID” w <file>/etc/host.deny</file>, jeśli taki zapis
się tam znajduje.
<p>
Aby uzyskać bardziej szczegółowe informacje zobacz
<manref name="inetd" section="8">,  
<manref name="inetd.conf" section="5">, 
<manref name="protocols" section="5">,  
<manref name="services" section="5">,  
<manref name="tcpd" section="8">,  
<manref name="hosts_access" section="5">, i
<manref name="hosts_options" section="5">. 
<p>
Aby uzyskać informacje o Sun-RPC zobacz
<manref name="rpcinfo" section="8"> , 
<manref name="portmap" section="8">, i
<file>&f-portmap;</file>.

<sect1 id="ldap">Centralne uwierzytelnianie &ndash; LDAP
Użyj Lightweight Directory Access Protocol (LDAP).
<p>
Zasoby:
<list compact>
<item><url id="&openldaphome;" name="OpenLDAP">
<item>OpenLDAP Admin Guide w pakiecie <package>openldap-guide</package>
<item>LDP: <url id="&ldap-linux-howto;" name="LDAP Linux HOWTO">
<item>LDP: <url id="&ldap-implementation-howto;" name="LDAP Implementation HOWTO">
<item><url id="&ldap-use1;" name="OpenLDAP, extensive use reports">
<item><url id="&ldap-use2;" name="Open LDAP with Courier IMAP and Postfix">
</list>
</sect>


<sect id="cdrw">Nagrywarki CD
<p>
Nagrywarki CD z interfejsem ATAPI/IDE stały się w ostatnim czasie bardzo
popularne. Są miłym rozwiązaniem archiwizowania danych i wykonywania kopii
zapasowych w sytuacji, gdy wystarcza &lt; 640MB pojemności nośnika. Aby
uzyskać najbardziej wiarygodne informacje, zobacz LDP <url id="&cd-writing-howto;
" name="CD-Writing-HOWTO">.

<sect1>Wstęp
<p>
Po pierwsze, każde zakłócenie danych wysłanych do nagrywarki może spowodować
nieodwracalne uszkodzenie płyty CD. Zaopatrz się w nagrywarkę z jak
największym rozmiarem bufora. Jeśli pieniądze nie są problemem, zamiast
wersji ATAPI/IDE zdecyduj się na wersję SCSI. Jeśli możesz wybierać pomiędzy
IDE, zdecyduj się na wersję podłączaną do slotu PCI (na płycie głównej)
zamiast do slotu ISA (jak karta SB16 itp.).
<p>
W jądrach Linuksa 2.2 i 2.4 nagrywarka IDE musi być uzupełniona sterownikami
IDE-SCSI, zamiast zwykłego sterownika IDE dla napędów CD.
Również ogólny sterownik SCSI ( SCSI generic driver) musi zostać
uaktywniony. Są na to dwa sposoby, zakładając że jądra rozpowszechniane były z
aktualnymi dystrybucjami (jak te z marca 2001).
</sect1>

<sect1>Sposób 1: moduły jądra + <prgn>lilo</prgn>
<p>
Dodaj poniższe linie do pliku <file>/etc/lilo.conf</file> jeśli używasz
standardowego jądra rozpowszechnianego z systemem Debian. Jeśli użytych jest
kilka opcji, pozostaw między nimi znak spacji.
<example>
append="hd<var>x</var>=ide-scsi ignore=hd<var>x</var>"
</example>
W tym przykładzie nagrywarka jest dostępna poprzez sterownik ide-scsi, a
oznaczony parametrem <tt>hd<var>x</var></tt>, gdzie 
<var>x</var> oznacza jedno z poniższych:
<example>
hda          master na pierwszym porcie IDE
hdb          slave na pierwszym porcie IDE
hdc          master na drugim porcie IDE
hdd          slave na drugim porcie IDE
hde ... hdh  napęd na zewnętrznym porcie IDE lub ATA66/100 IDE
</example>
Wpisz następujące polecenia jako root po zakończeniu konfiguracji.
<example>
# lilo
# shutdown -r now
</example>
</sect1>


<sect1>Sposób 2: ponowna kompilacja jądra
<p>
Debian używa <prgn>make-kpkg</prgn> do tworzenia jądra. Użyj różnych
<tt>--append_to_version</tt> z <prgn>make-kpkg</prgn> aby zbudować 
wiele obrazów jądra. Zobacz <ref id="kernel">.
<p>
Użyj następujących ustawień podczas <tt>make menuconfig</tt>:
<list>
<item>bzImage
<item>Wyłącz sterownik IDE CD, (niekoniecznie, ale to prostsze rozwiązanie)
<item>Dołącz do jądra obsługę ide-scsi i sg lub ustaw je jako moduły
</list>
</sect1>

<sect1>Czynności po konfiguracji
<p>
Wsparcie jądra dla nagrywarki może być uaktywnione podczas startu systemu
poprzez następujące polecenia:
<example>
# echo ide-scsi &gt;&gt;/etc/modules
# echo sg       &gt;&gt;/etc/modules
# cd /dev; ln -sf scd0 cdrom
</example>
Ręczna inicjalizacja może być wykonana przez:
<example>
# modprobe ide-scsi
# modprobe sg
</example>
Po restarcie możesz sprawdzić swoją konfigurację:
<example>
$ dmesg|less
# apt-get install cdrecord
# cdrecord -scanbus
</example>
<p>
[Per Warren Dodge] Czasami może wystąpić konflikt między <tt>ide-scsi</tt> i
<tt>ide-cd</tt>, jeśli masz zarówno CD-ROM jak i napęd CD-R/RW. Możesz
wtedy spróbować dodać poniższą linię do swojego <file>/etc/modutils/aliases</file>,
uruchomić <prgn>update-modules</prgn> i zrestartować system.
<example>
pre-install      ide-scsi      modprobe ide-cd
</example>
Polecenie to nakazuje załadowanie sterownika IDE przed <tt>ide-scsi</tt>. Sterownik
IDE <tt>ide-cd</tt> przejmuje kontrolę nad urządzeniem ATAPI CD-ROM &mdash;
wszystkim, co nie zostało mu nakazane do <strong>zignorowania</strong>. W ten
sposób <tt>ide-scsi</tt> przejmuje kontrolę tylko nad zignorowanymi
urządzeniami.
</sect1>

<sect1>Obrazy startowe płyt CD
<p>
Aby nagrać katalog <file>target-directory</file> jako <file>cd-image.raw</file>
(startowy, Joliet z TRANS.TBL; jeśli płyta nie ma być bootowalna, usuń opcje
<tt>-b</tt> i <tt>-c</tt>), włóż dyskietkę startową do stacji dyskietek i:
<example>
# dd if=<var>/dev/fd0</var> <var>target-directory/boot.img</var> 
# mkisofs -r -V <var>volume_id</var> -b <var>boot.img</var> -c <var>bootcatalog</var> 
-J -T \ -o <var>cd-image.raw</var> <var>target_directory/</var>
</example>
<p>
Śmiesznym kruczkiem może być zrobienie startowego CD-ROM z systemem DOS. 
Jeśli obraz zwyczajnej dyskietki startowej jest we wspomnianym pliku 
<file><var>boot.img</var></file>,
przy restarcie płyta zadziała jak gdyby dosowa dyskietka startowa była w
napędzie dyskietek. Może być to jeszcze ciekawsze, jeśli wykorzystasz
freeDOS.
<p>
Zawartość obrazu tej płyty może być sprawdzona poprzez zamontowanie jej jako
urządzenie loop.
<example>
# mount -t iso9660 -o ro,loop <var>cd-image.raw</var> /cdrom
# cd /cdrom
# mc
# umount /cdrom
</example>
</sect1>

<sect1>Wypalanie płyty (R, RW):
<p>
Najpierw porównajmy (zakładając podwójną prędkość napędu) z:
<example>
# nice --10 cdrecord -dummy speed=2 dev=0,0 <var>disk.img</var>
</example>
Następnie, jeśli wszystko poszło OK, wypalimy płytę CD-R:
<example>
# nice --10 cdrecord -v -eject speed=2 dev=0,0 <var>disk.img</var>
</example>
Albo CD-RW:
<example>
# nice --10 cdrecord -v -eject blank=fast speed=2 dev=0,0 <var>disk.img</var>
</example>
Niektóre napędy CD-RW działają lepiej z:
<example>
# nice --10 cdrecord -v blank=all speed=2 dev=0,0 <var>disk.img</var>
</example>
i następnie:
<example>
# nice --10 cdrecord -v -eject speed=2 dev=0,0 <var>disk.img</var>
</example>
Te dwa kroki są niezbędne, aby zapobiec pokrywaniu się faz zerowania płyty i
wypalania. Wartość argumentów dla <prgn>nice</prgn> może także wymagać
pewnej regulacji.
</sect1>

<sect1>Wykonanie obrazu z posiadanej płyty CD
<p>
Niektóre płyty CD-R i komercyjne CD zawierają specjalne, błędne sektory,
które uniemożliwiają ich kopiowanie przez <prgn>dd</prgn> (płyta Windows 98
jest jedną z nich). Pakiet <package>cdrecord</package> udostępnia polecenie
<prgn>readcd</prgn>. Użyj go do skopiowania zawartości płyty do pliku. Jeśli
to plik z danymi, zamontuj go i wykonaj <prgn>df</prgn> aby uzyskać jego
rzeczywisty rozmiar. Podziel liczbę bloków przez 2 ( 1 blok = 1024 bajty)
aby uzyskać ilość sektorów na CD ( 1 sektor = 2048 bajty). Uruchom
<prgn>readcd</prgn> z niezbędnymi opcjami i użyj obrazu płyty do wypalenia
następnej.
<example>
# readcd dev=<var>target</var>,<var>lun</var>,<var>scsibusno</var> # select function 11
</example> 
Zwykle można ustawić wszystkie trzy parametry jako 0. Ilość sektorów podana
przez <prgn>readcd</prgn> jest zazwyczaj zbyt duża, użyj podanej powyżej
metody aby uzyskać dokładniejsze wyniki.
<p>
Powinno zostać zauważone, że użycie <prgn>dd</prgn> z płytami CD-ROM 
stwarza pewne problemy. Pierwsze uruchomienie <prgn>dd</prgn> spowoduje
komunikat błędu i może wytworzyć krótszy obraz dysku, utraciwszy końcową
jego część. Drugie uruchomienie <prgn>dd</prgn> może utworzyć większy obraz
płyty ze „śmieciami” dołączonymi na końcu, jeśli rozmiar danych nie został
podany. Tylko drugie uruchomienie <prgn>dd</prgn> wraz z podaniem poprawnego
rozmiaru danych, bez wyciągania CD, po otrzymaniu komunikatu błędu wydaje się
działać poprawnie. Jeśli na przykład rozmiar obrazu płyty wyświetlony przez
<prgn>df</prgn> wynosi <tt>46301184</tt> bloki, użyj dwukrotnie następującego
polecenia aby otrzymać prawidłowy obraz (jest to informacja, uzyskana
przeze mnie empirycznie):
<example>
# dd if=/dev/cdrom of=cd.img bs=2048 count=$((46301184/2))
</example>
</sect1>

<sect1>Obrazy Debian CD
<p>
Aby otrzymać najnowsze informacje na temat płyt z Debianem, odwiedź
<url id="&debian-cd;" name="stronę Debian CD">. 
<p>
Jeśli posiadasz szybkie połączenie internetowe, pomyśl o instalacji poprzez
sieć, używając:
<list compact>
<item>kilku <url id="&debian-floppyinst;" name="obrazów dyskietek">.
<item><url id="&debian-netinst;" name="małego startowego obrazu CD">.
</list>
<p>
Jeśli nie posiadasz szybkiego połączenia z Internetem, pomyśl o zakupie płyt
CD od <url id="&debian-venders;" name="dystrybutora CD">.
<p>
Proszę, nie zajmuj niepotrzebnie łącza ściągając obraz standardowego CD,
chyba że jesteś testerem płyt (nawet nową metodą jigdo).
<p>
Jedną z niewielu, godną uwagi płytą jest <url id="&knoppix;" name="KNOPPIX - 
Live Linux Filesystem On CD">.
Z tą płytą uruchomisz w pełni działającego Debiana bez potrzeby instalowania
go na twardym dysku.

<!-- old document section
$ export CVSROOT=anonymous@cvs.debian.org:/cvs/debian-boot
$ cvs co debian-cd
</example>
Following is a summary of CD image creation. 
<example>
# apt-get install debian-cd
# cd /etc/debian-cd
# vim CONF.sh
$ . CONF.sh
$ make distclean
$ make status
$ make list COMPLETE=1 SIZELIMIT1=555000000 SRCSIZELIMIT=665000000
$ make official_images
 or if you want only binary images :
$ make bin-official_images
-->
</sect1>

<sect1>Wykonywanie kopii systemu na płytach CD-R
<p>
Aby skopiować kluczowe pliki konfiguracyjne i dane na płyty CD-R, użyj
przykładowego skryptu backup <file><url id="examples/"
name="backup"></file>.
Zobacz także <ref id="archiving"> i <ref id="diff-backup">.
</sect1>

<sect1>Kopiowanie CD z muzyką
<p>
Nie testowane przeze mnie:
<example>
# apt-get install cdrecord cdparanoia
# cdparanoia -s -B
# cdrecord dev=0,0,0 speed=2 -v -dao -eject defpregap=1 -audio *.wav
</example>
albo,
<example>
# apt-get install cdrdao #disk at once
# cdrdao read-cd --device /dev/cdrom --paranoia-mode 3 my_cd # read cd
# cdrdao write --device /dev/cdrom --speed 8 my_cd    # wypal nowy CD
</example>
<prgn>cdrdao</prgn> wykonuje prawdziwą kopię (żadnych przerw, itp...)
</sect1>
</sect>

<sect id="x">X
<p>
X Window System jest zapewnione dzięki <url id="&xfree86home;" name="Xfree86">.
Istnieją dwie główne wersje serwera X dostępne dla Debiana:
XFree86 Version 3.3 (XF3) i XFree86 Version serii 4.x (XF4), obie
oparte o specyfikację X11R6 wg. <url id="&xorghome;" name="X.Org">.
<p>
Podstawowe informacje nt. X możesz uzyskać z <manref name="X" section="7">,
LDP <url id="&xwindowuser-howto;" name="XWindow-User-HOWTO">, oraz 
<url id="&remote-xapps-howto;" name="Remote X Apps mini-HOWTO">.  
Informacje specyficzne dla Debiana, przeznaczone dla jego użytkowników, 
przeczytaj w <file>&f-x-deb-faq;</file> dostarczanym w pakiecie 
<package>xfree86-common</package>.
Zawiera interesujące uwagi na temat przypisywania różnych funkcji do
klawiszy autorstwa Brandena Robinsona.
<p>
<taglist>
<tag><ref id="xsrvr">
<item>program na lokalnym hoście, zajmujący się wyświetlaniem X-ów na
monitorze użytkownika, jest także odpowiedzialny za obsługę poleceń z klawiatury
i myszy.
<tag><ref id="xclnt">
<item>program na (zdalnym lub lokalnym) hoście, który uruchamia
oprogramowanie zgodne z X.
</taglist>
Zauważ, że jest to odwrócenie rozumienia słowa serwer i klient przyjętego w
innych kontekstach.
<p>
Istnieje kilka dróg, aby „X serwer” (strona wyświetlająca) przyjął zdalne
połączenie od „klienta X” (strona oprogramowania).

<list>
<item>Wykorzystanie <prgn>xhost</prgn> 
<list compact>
<item>mechanizm listy hostów (bardzo niebezpieczny).
<item>niezaszyfrowany protokół (narażony na podsłuchiwanie).
<item>Nie używaj go, jeśli możesz.
<item>Zobacz <ref id="xhost"> i <manref name="xhost" section="1x">.
</list>
<item>Wykorzystanie <strong><prgn>xauth</prgn></strong>
<list compact>
<item>mechanizm cookies (niebezpieczny, ale lepszy niż <prgn>xhost</prgn>).
<item>niezaszyfrowany protokół (narażony na podsłuchiwanie).
<item>używaj go jedynie dla połączeń lokalnych, gdyż nie obciąża procesora
tak jak <prgn>ssh -X</prgn>.
<item>Zobacz <ref id="ss-xsu"> i <manref name="xauth" section="1x">.
</list>
<item>Wykorzystanie <prgn>xdm</prgn>, <prgn>wdm</prgn>, <prgn>gdm</prgn>, 
 <prgn>kdm</prgn>, ...
<list compact>
<item>mechanizm cookies (równie niebezpieczny jak <prgn>xauth</prgn>).
<item>Zobacz <manref name="xdm" section="1x"> i
 <manref name="Xsecurity" section="7">, aby zdobyć podstawowe informacje nt.
kontroli dostępu do X.
<item>Zobacz <manref name="wdm" section="1x">, <manref name="gdm" section="8">, 
i <manref name="kdm.options" section="5"> dla dalszych informacji, jeśli te
programy są zainstalowane.
<item>Zobacz <ref id="sys-v"> aby zorientować się jak wyłączyć
<prgn>xdm</prgn>, by logować się w trybie tekstowym bez usuwania pakietu
<prgn>xdm</prgn>.
</list>
<item>Wykorzystanie <strong><prgn>ssh -X</prgn></strong>
<list compact>
<item>mechanizm podłączania portów poprzez secure shell (<strong>bezpieczne</strong>).
<item>zaszyfrowany protokół (strata zasobów, gdy używane lokalnie).
<item>używaj w połączeniach zdalnych.
<item>Zobacz <ref id="xssh">.
</list>
</list>
Wszystkie metody połączeń zdalnych, za wyjątkiem wykorzystywania
<prgn>ssh</prgn>, wymagają włączonych połączeń TCP/IP w X serwerze. Zobacz
<ref id="xtcp">.

<sect1 id="x-system">Pakiety związane z X
<p>
Istnieje kilka (meta)pakietów, które zapewniają prostą instalację X Window
System w Woodym. 
<taglist>
<tag><package>x-window-system-core</package>
<item>
Ten metapakiet dostarcza kluczowe składniki dla pojedynczej stacji roboczej,
na której uruchomiony ma być X Window System. Dostarcza biblioteki, X serwer
(<package>xserver-xfree86</package>), zestaw czcionek, jak również 
kilka podstawowych klientów X i programów użytkowych.

<tag><package>x-window-system</package> 
<item>
Ten metapakiet dostarcza praktycznie wszystkich składników X Window System
rozwijanych przez XFree86 Project, jak również zbiór popularnych kiedyś
dodatkowych programów. (Zauważ, że ten pakiet zależy od 
<package>x-window-system-core</package>, <package>twm</package> oraz 
<package>xdm</package>, tak więc w przypadku jego instalacji
<package>x-window-system-core</package> nie musi zostać oddzielnie
wyznaczony do zainstalowania)

<tag><package>xserver-common-v3</package> 
<item>
Pliki i programy użytkowe wspólne dla serwerów X XFree86 3.x (XF3)

<tag><package>xserver-*</package> 
<item>
Dodano pakiety serwera XF3, aby obsłużyć sprzęt z różnych powodów 
nie obsługiwany przez nowy serwer XF4 (<package>xserver-xfree86</package>). 
Niektóre stare karty ATI mach64 nie są
obsługiwane przez XF4, zaś inne karty graficzne zawieszają się w wersji XF4
dostępnej wraz z Woodym, itp. (Aby obejrzeć dostępne pakiety wykonaj
<tt>apt-cache search xserver-|less</tt>.
Wszystkie z tych serwerów XF3 zależą od pakietu <package>xserver-common-v3</package>.)
</taglist>
<p>
W większości przypadków <package>x-window-system</package> jest odpowiednim
pakietem do zainstalowania.
(Jeśli chcesz logować się w trybie tekstowym, upewnij się że wyłączyłeś
usługę <package>xdm</package> tak, jak opisano to w części <ref id="no-x-start">.)

<sect1 id="hdetect-x">Wykrywanie sprzętu dla X 
<p>
Aby wykryć swój sprzęt podczas konfiguracji X-ów, zainstaluj następujące
pakiety przed instalacją X Window System:
<list>
<item><package>discover</package> &ndash; narzędzie identyfikacji sprzętu.
<item><package>mdetect</package> &ndash; autodetekcja myszy.
<item><package>read-edid</package> &ndash; gromadzenie informacji sprzętowej
o monitorach VESA PnP.
</list>

<sect1 id="xsrvr">X serwer
<p>
Zobacz <manref name="XFree86" section="1x"> aby uzyskać informację o X
serwerze.
<p>
Uruchom X serwer z lokalnej konsoli:
<example>
$ startx -- :&lt;display&gt; <var>vtXX</var>
e.g.:
$ startx -- :1 vt8 -bpp 16
... uruchom na vt8 podłączonym do localhost:1 w trybie 16 bpp
</example>
Argumenty podane po <tt>--</tt> są przekazywane X serwerowi.
<p>
Jeśli używasz skryptu <file>~/.xserverrc</file> do konfigurowania uruchomienia X,
pamiętaj aby wykonać <tt>exec</tt> na prawidłowym X serwerze.
W przeciwnym wypadku może on wolno się uruchamiać i zamykać. Na przykład:
<example>
#!/bin/sh
exec /usr/bin/X11/X -dpi 100 -nolisten tcp
</example>

<sect2 id="config-x4">Konfiguracja serwera X (wersja 4)
<p>
Aby skonfigurować (lub przekonfigurować) serwer XF4,
<example>
# dpkg-reconfigure --priority=low xserver-common
# dpkg-reconfigure --priority=low xserver-xfree86
</example>
co utworzy plik <file>/etc/X11/XF86Config-4</file>, po czym skonfiguruj
X-y używając skryptu <prgn>dexconf</prgn>.

<sect2 id="config-x3">Konfiguracja serwera X (wersja 3)
<p>
Aby skonfigurować (lub przekonfigurować) serwer XF3 na przykład dla karty
ATI mach64,
<example>
# dpkg-reconfigure --priority=low xserver-common-v3
# dpkg-reconfigure --priority=low xserver-mach64
</example>
co utworzy plik <file>/etc/X11/XF86Config</file>, po czym skonfiguruj
X-y używając skryptu <prgn>xf86config-v3</prgn>.

<sect2 id="manual-config-x">Ręczna konfiguracja serwera X,
<p>
Dla Woodiego modyfikując ustawienia w <file>/etc/X11/XF86Config-4</file> 
<strong>nie zmieniaj
zawartości pliku konfiguracyjnego pomiędzy liniami</strong>:
<!-- FIXME for XF3 -->
<example>
### BEGIN DEBCONF SECTION
[ciach]
### END DEBCONF SECTION
</example>
<p>
Zamiast tego <strong>dodaj własne opcje przed tym tekstem</strong>. Na
przykład, aby użyć innej karty graficznej dodaj podobne linie na
<em>początku</em> pliku:
<example>
Section "Device"
  Identifier        "Moje Urzadzenie"
  Driver            "ati"
  Option            "NoAccel"
EndSection

Section "Screen"
  Identifier  "Mój Ekran"
  Device      "Moje Urządzenie"
  Monitor     "Generic Monitor"
  DefaultDepth 24
  Subsection "Display"
    Depth       8
    Modes       "1280x960" "1152x864" "1024x768" "800x600" "640x480"
  EndSubsection
  Subsection "Display"
    Depth       16
    Modes       "1280x960" "1152x864" "1024x768" "800x600" "640x480"
  EndSubsection
  Subsection "Display"
    Depth       24
    Modes       "1280x960" "1152x864" "1024x768" "800x600" "640x480"
  EndSubsection
EndSection

Section "ServerLayout"
    Identifier        "Custom"
    Screen            "Mój Ekran"
    InputDevice       "Generic Keyboard" "CoreKeyboard"
    InputDevice       "Configured Mouse" "CorePointer"
EndSection
</example>

<p>
Dla Sarge (<tt>testing</tt> w momencie pisania tych słów), jeśli chcesz
wraz z aktualizacją zatrzymać własne modyfikacje pliku
<file>/etc/X11/XF86Config</file>, uruchom następujące polecenia jako root:
<example>
# cp /etc/X11/XF86Config-4 /etc/X11/XF86Config-4.custom
# md5sum /etc/X11/XF86Config-4 &gt; /var/lib/xfree86/XF86Config-4.md5sum
# dpkg-reconfigure xserver-xfree86
</example>
By poprawić <strong>wygląd czcionek</strong>, musisz przeedytować
plik <file>/etc/X11/XF86Config-4</file> tak jak opisano to w <ref id="xfs-tt">.
<!--
<p>
For XF3, in order to achieve <strong>font de-uglification</strong>,
you need to edit the order of <tt>FontPath</tt> in
<file>/etc/X11/XF86Config</file>
while adding <tt>:unscaled</tt> as follows.
<example>
FontPath        "/usr/X11R6/lib/X11/fonts/misc:unscaled"
FontPath        "/usr/X11R6/lib/X11/fonts/100dpi:unscaled"
FontPath        "/usr/X11R6/lib/X11/fonts/75dpi:unscaled"
FontPath        "/usr/X11R6/lib/X11/fonts/Type1"
FontPath        "/usr/X11R6/lib/X11/fonts/Speedo"
FontPath        "/usr/X11R6/lib/X11/fonts/misc"
FontPath        "/usr/X11R6/lib/X11/fonts/100dpi"
FontPath        "/usr/X11R6/lib/X11/fonts/75dpi"
</example>
<p>
If you use xfs serves fonts via a Unix Domain Socket, you may also edit
<tt>catalogue</tt> entry of <file>/etc/X11/fs/config</file> as:
<example>
catalogue = /usr/X11R6/lib/X11/fonts/misc:unscaled,
            /usr/X11R6/lib/X11/fonts/100dpi:unscaled,
            /usr/X11R6/lib/X11/fonts/75dpi:unscaled,
            /usr/X11R6/lib/X11/fonts/Type1,
            /usr/X11R6/lib/X11/fonts/Speedo,
            /usr/X11R6/lib/X11/fonts/misc,
            /usr/X11R6/lib/X11/fonts/100dpi,
            /usr/X11R6/lib/X11/fonts/75dpi,
</example>
<p>
These <tt>:unscaled</tt> tricks are depreciated in new XF4 and no longer
needed.
-->
<!-- per /usr/share/doc/xfree86-common/README.fonts.gz in 4.2.1 -->
<p>
Sprawdź również inne części konfiguracji X. Złe ustawienia monitora mogą
być istotniejszą przyczyną bólu głowy niż złe czcionki, więc upewnij się,
że odświeżanie jest ustawione na tak wysokie jakie potrafi obsłużyć monitor
(85 Hz jest wspaniałe, 75 Hz jest OK, a 60 Hz to tragedia).

<sect1 id="xclnt">Klienty X
<p>
Większość klientów X może być uruchomiona poleceniem podobnym do:
<example>
client $ xterm -geometry 80x24+30+200 -fn 6x10 -display <var>hostname</var>:0 &amp;
</example>
Dodatkowe argumenty oznaczają:
<list>
<item><tt>-geometry <var>SZER</var>x<var>WYS</var>+<var>XOFF</var>+<var>YOFF</var></tt>: 
początkowy rozmiar i pozycję okna programu.

<item><tt>-fn <var>NAZWAFONTU</var></tt>: czcionkę służącą do wyświetlania
tekstu.
 <tt><var>NAZWAFONTU</var></tt> może przyjmować wartość:
<list compact>
<item>a14: Normalny rozmiar
<item>a24: Duży rozmiar czcionki
<item>... (sprawdź dostępne czcionki za pomocą <tt>xlsfont</tt>.)
</list>
<item><tt>-display <var>displayname</var></tt>: nazwa X serwera, który ma zostać użyty. 
 <tt><var>displayname</var></tt> może przyjmować wartość:
<list compact>
<item><tt><var>hostname</var>:<var>D.S</var></tt> oznacza ekran
<tt><var>S</var></tt> na monitorze  <tt><var>D</var></tt> komputera
<tt><var>hostname</var></tt>; X serwer dla tego
monitora nasłuchuje na porcie TCP 6000+D

<item><tt><var>host</var>/unix:<var>D.S</var></tt> oznacza ekran
<tt><var>S</var></tt> na monitorze <var>D</var> hosta <tt><var>host</var></tt>;
X-serwer dla tego monitora nasłuchuje na porcie typu UNIX.
<file>/tmp/.X11-unix/XD</file> (więc jest dostępny tylko z <tt><var>host</var></tt>).

<item><tt><var>:D.S</var></tt> jest równoważne do
<tt><var>host</var>/unix:<var>D.S</var></tt>, gdzie <tt><var>host</var></tt>
to nazwa lokalnego hosta.
</list>
</list>
<p>
Domyślna wartość zmiennej <tt><var>displayname</var></tt> dla klientów X 
(oprogramowanie), może być ustawiona poprzez zmienną środowiskową DISPLAY.
Można to osiągnąć przez np. uruchomienie następujących skryptów przed
klientem X:
<example>
$ export DISPLAY=:0
   # Domyślne ustawienie, lokalna maszyna, pierwszy screen
$ export DISPLAY=<var>hostname.fulldomain.name</var>:0.2
$ export DISPLAY=localhost:0
</example>
Start Xów może być dostosowany do własnych potrzeb za pomocą
<file>~/.xinitrc</file>. Np:
<example>
xrdb -load $HOME/.Xresources
xsetroot -solid gray &amp;
xclock -g 50x50-0+0 -bw 0 &amp;
xload -g 50x50-50+0 -bw 0 &amp;
xterm -g 80x24+0+0 &amp;
xterm -g 80x24+0-0 &amp;
twm
</example>
Tak jak opisano to w <ref id="custom-x">, zastępuje to wszystko, co dzieje
się podczas uruchomienia <prgn>Xsession</prgn> przez <prgn>startx</prgn>. 
Używaj <file>~/.xsession</file>, a z powyższego sposobu korzystaj jedynie w
ostateczności.
Zobacz <manref name="xsetroot" section="1x">,
<manref name="xset" section="1x"> i <ref id="xresources">.
</sect1>

<sect1 id="x-session">Sesje X
<p>
Sesja X (X-serwer + klient X) może być rozpoczęta poprzez:
<list compact>
<item><prgn>startx</prgn>: skrypt obudowujący <prgn>xinit</prgn>, służący do
       uruchomienia sesji z terminala tekstowego. Jeśli plik
       <file>~/.xinitrc</file> nie istnieje, <file>/etc/X11/Xsession</file>
       jest wywoływany przez <file>/etc/X11/xinit/xinitrc</file>.
<item><prgn>xdm</prgn>, <prgn>gdm</prgn>, <prgn>kdm</prgn>, lub
      <prgn>wdm</prgn>: demon uruchamiający X-serwer i klientów,
       umożliwiający logowanie w GUI.
      <file>/etc/X11/Xsession</file> jest uruchamiany bezpośrednio.
</list>
Tryb tekstowy może być udostępniony, jak to opisano w <ref id="no-x-start">.

<sect2 id="custom-x">Personalizowane sesje X.
<p>
Domyślny skrypt startowy <file>/etc/X11/Xsession</file> jest kombinacją
<file>/etc/X11/Xsession.d/50xfree86-common_determine-startup</file> oraz
<file>/etc/X11/Xsession.d/99xfree86-common_start</file>.
<p>
Na przebieg wykonania <file>/etc/X11/Xsession</file> wpływają ustawienia z
<file>/etc/X11/Xsession.options</file>. Jego głównym zadaniem jest
uruchomienie za pomocą <prgn>exec</prgn> pierwszego istniejącego programu
znajdującego się na następującej liście:
<enumlist compact>
<item><file>~/.xsession</file> lub <file>~/.Xsession</file>, jeśli istnieje.
<item><file>/usr/bin/x-session-manager</file>, jeśli istnieje.
<item><file>/usr/bin/x-window-manager</file>, jeśli istnieje.
<item><file>/usr/bin/x-terminal-emulator</file>, jeśli istnieje.
</enumlist>
<p>
Dokładne znaczenie tych poleceń jest uzależnione od alternatywnych ustawień
systemu &debian;, opisanych w <ref id="alternatives">.
Na przykład:
<example>
# update-alternatives --config x-session-manager
... lub
# update-alternatives --config x-window-manager
</example>
Aby wybrać domyślny menedżer okien X, jednocześnie zachowując GNOME i KDE,
zamień plik <file>/etc/X11/Xsession.d/50xfree86-common_determine-startup</file>
z plikiem dostarczonym w drugim raporcie o błędzie na 
<url id="&bug-xfree;"> (mam nadzieję, że zostanie to szybko naprawione)
i wyedytuj <file>/etc/X11/Xsession.options</file> jak następuje:
<example>
# /etc/X11/Xsession.options
#
# opcje konfiguracyjne dla /etc/X11/Xsession
# Wyjaśnienie dostępnych opcji znajdziesz w Xsession.options(5)
# Default enabled
allow-failsafe
allow-user-resources
allow-user-xsession
use-ssh-agent
# Domyślnie wyłączone (włącz odkomentowując)
do-not-use-x-session-manager
#do-not-use-x-window-manager
</example>
<p>
Bez wspomnianych powyżej zmian w systemie pakiety
<package>gnome-session</package> i <package>kdebase</package> zapewniają
funkcjonalność menedżera sesji. Usunięcie ich, umożliwia ustawienie jako 
domyślnego innego menedżera okien. 
<p>
W systemie, gdzie <file>/etc/X11/Xsession.options</file> zawiera linię
<tt>allow-user-xsession</tt> bez poprzedzających jej znaków, każdy
użytkownik, który stworzy <file>~/.xsession</file> lub
<file>~/.Xsession</file> będzie mógł dostosować działanie
<file>/etc/X11/Xsession</file>.
<p>
Ostatnie polecenie w pliku <file>~/.xsession</file> powinno przyjmować
formę: <tt>exec <var>some-window/session-manager</var></tt>, aby
uruchomić ulubiony menedżer sesji.
<p>
Dobry przykład skryptu  <file>~/.xsession</file> jest podany w
<file>&f-xsession;</file>.
<p>
Używam tego skryptu do wybierania menedżera okien, dostępu do ekranu i
obsługiwanego języka dla poszczególnych użytkowników. Przeczytaj także
<ref id="s-w-manager">, <ref id="ss-xsu"> i <ref id="x-cjk">.
<p>
Jeśli chcesz by kilka klientów X startowało automatycznie, zobacz przykłady
z <ref id="xclnt"> i wywołuj je z <file>~/.xsession</file> zamiast
<file>~/.xinitrc</file>.
<p>
Dodatkowe zasoby X dla poszczególnych użytkowników są przechowywane w
<file>~/.Xresources</file>. Przeczytaj <ref id="xresources">.
<p>
Dostosowania mapy klawiatury i funkcji klawiszy myszy również można dokonać
w skryptach startowych użytkownika. Przeczytaj <ref id="xmodmap">.

<sect2 id="s-w-manager">Startowanie sesji X dla użytkownika.
<p>
Podążając za wytycznymi, opisanymi w <ref id="custom-x">,
wybrany przez użytkownika menedżer sesji/okien może być uaktywniony
poprzez zainstalowanie odpowiedniego pakietu i odpowiednie zmiany pod
koniec pliku <file>~/.xsession</file>.
(Osobiście lubię <package>blackbox</package>/<package>fluxbox</package>
z powodu ich prostego stylu i szybkości.):

<list>
<item>domyślny menedżer sesji X 
<list compact>
<item>Przeczytaj <ref id="alternatives">
<item><tt>exec /usr/bin/x-session-manager</tt>
</list>
<item>domyślny menedżer okien X 
<list compact>
<item>Przeczytaj <ref id="alternatives">.
<item><tt>exec /usr/bin/x-window-manager</tt>
</list>

<item>Menadżer sesji GNOME (przeładowany)
<list compact>
<item>Zainstaluj pakiet: <package>gnome-session</package>
<item><tt>exec /usr/bin/gnome-session</tt>
</list>

<item>Menadżer sesji KDE (przeładowany)
<list compact>
<item>Zainstaluj pakiet: <package>kdebase</package> (lub 
<package>kdebase3</package> dla KDE3)
<item><tt>exec /usr/bin/kde2</tt>
</list>

<item>Blackbox window manager (lekki, szybki).
<list compact>
<item>Zainstaluj pakiet: <package>blackbox</package>
<item><tt>exec /usr/bin/blackbox</tt>
</list>

<item>Fluxbox window manager (lekki, nowy blackbox).
<list compact>
<item>Zainstaluj pakiet: <package>fluxbox</package>
<item><tt>exec /usr/bin/fluxbox</tt>
</list>

<item>Xfce window manager (podobny do Mac OS-X, SUN CDE).
<list compact>
<item>Zainstaluj pakiet: <package>xfce</package>
<item><tt>exec /usr/bin/xfwm</tt>
</list>

<item>IceWM window manager (mały, alternatywa dla GNOME)
<list compact>
<item>Zainstaluj pakiet: <package>icewm</package>
<item><tt>exec /usr/bin/X11/icewm</tt>
</list>

<item>FVWM2 virtual window manager (mały, podobny do Win95)
<list compact>
<item>Zainstaluj pakiet: <package>fvwm</package>
<item><tt>exec /usr/bin/fvwm2</tt>
</list>

<item>Windowmaker window manager (trochę jak NexT)
<list compact>
<item>Zainstaluj pakiet: <package>wmaker</package>
<item><tt>exec /usr/bin/wmaker</tt>
</list>

<item>Enlightenment window manager (przeładowany)
<list compact>
<item>Zainstaluj pakiet: <package>enlightenment</package>
<item><tt>exec /usr/bin/enlightenment</tt>
</list>

</list>
Przeczytaj <url id="&windomanagerhome;" name="Window Managers for X">.


<sect2 id="kde-gnome">Ustawianie KDE i GNOME
<p>
Aby otrzymać w pełni funkcjonalne środowiska KDE lub GNOME, przydatne są
poniższe metapakiety:
<list compact>
<item>KDE: zainstaluj pakiet <package>kde</package>
<item>GNOME: zainstaluj pakiet <package>gnome</package>
</list>
Instalacja tych pakietów za pomocą narzędzi korzystających ze zmiennych
<tt>recommends</tt>, takich jak <prgn>dselect</prgn> i <prgn>aptitude</prgn>,
zaopatrzy Cię w większy wybór oprogramowania niż instalacja tylko za
pomocą <prgn>apt-get</prgn>.
<p>
Jeśli chcesz logować się w trybie tekstowym wyłącz menedżera
wyświetlania X, takiego jak <package>kdm</package>, <package>gdm</package>,
i <package>wdm</package>, które mogą zostać zainstalowane poprzez
zależności, jak opisano to w <ref id="no-x-start">.
<p>
Jeśli GNOME ma się uruchamiać domyślnie, zamiast KDE, upewnij się jak
właściwie skonfigurować <prgn>x-session-manager</prgn>, co opisano w
<ref id="alternatives">.

<sect1 id="xtcp">Używanie X'ów poprzez TCP/IP
<p>
Ponieważ zdalne połączenie TCP/IP bez szyfrowania można stosunkowo łatwo
podsłuchiwać, domyślne ustawienia X w aktualnej wersji systemu &debian;
nie udostępnia gniazda TCP/IP. Rozważ użycie <prgn>ssh</prgn>, jeśli
zależy Ci na zdalnym połączeniu ( zobacz <ref id="xssh">). 
<p>
Metoda opisana tutaj nie jest zalecana, chyba że stosowana jest w bardzo
bezpiecznym środowisku, za dobrym firewallem i tylko wtedy jeśli wszyscy
użytkownicy są godni zaufania. Użyj tego polecenia, aby sprawdzić obecne
ustawienia X serwera dotyczące gniazd TCP/IP:
<example>
# find /etc/X11 -type f -print0 | xargs -0 grep nolisten
/etc/X11/xinit/xserverrc:exec /usr/bin/X11/X -dpi 100 -nolisten tcp
</example>
Usuń <tt>-nolisten</tt> aby przywrócić nasłuch poprzez TCP/IP.
</sect1>
 
<sect1 id="xhost">Zdalne połączenie z X &ndash; <prgn>xhost</prgn>
<p>
<prgn>xhost</prgn> umożliwia dostęp wyznaczonym hostom. Jest to bardzo
niebezpieczne. Poniższa linia wyłącza sprawdzanie hostów i pozwala na
połączenie skądkolwiek, jeśli dozwolone są połączenia TCP/IP ( przeczytaj
 <ref id="xtcp">):
<example>
$ xhost +
</example>
Możesz ponownie uaktywnić sprawdzanie hostów poprzez:
<example>
$ xhost -
</example>
<p>
<prgn>xhost</prgn> nie rozróżnia użytkowników na zdalnych maszynach.
Oprócz tego adresy hostów mogą być oszukane (spoofing).
<p>
Powinno unikać się tej metody, szczególnie jeśli jesteś podłączony do
sieci niegodnej zaufania (np. PPP dialup ). Przeczytaj
<manref name="xhost" section="1x">.
</sect1>

<sect1 id="xssh">Zdalne połączenie z X &ndash; <prgn>ssh</prgn>
<p>
<prgn>ssh</prgn> zapewnia bezpieczny sposób połączenia lokalnego X
serwera z programem uruchomionym na zdalnej maszynie.
<list>
<item>Ustaw pozycje <tt>X11Forwarding</tt> i <tt>AllowTcpForwarding</tt>
na <tt>yes</tt> w pliku <file>/etc/ssh/sshd_config</file> zdalnego hosta,
jeśli chcesz uniknąć podawania tych opcji w lini poleceń.
<item>Uruchom X serwer na zdalnej maszynie.
<item>Otwórz <prgn>xterm</prgn> na lokalnym komputerze.
<item>Uruchom <prgn>ssh</prgn>, aby ustanowić połączenie ze stroną zdalną.  
<example>
localname @ localhost $ ssh -q -X -l loginname remotehost.domain
Password:
.....
</example>
<item>Uruchom aplikacje X po stronie zdalnej.
<example>
loginname @ remotehost $ gimp &
</example>
</list>
Metoda ta umożliwia wyświetlanie wyjścia zdalnego klienta X, jak gdyby
komunikował się on lokalnie poprzez gniazda UNIX.
</sect1>

<sect1 id="xtermfaq">Emulator terminala X &ndash; <prgn>xterm</prgn>
<p>
Dowiedz się wszystkiego o <prgn>xterm</prgn>: <url id="&xtermfaq;">.
</sect1>

<sect1 id="xresources">Zasoby X
<p>
Dużo starszych programów dla X, jak <prgn>xterm</prgn>, używa bazy danych 
zasobów X do konfiguracji własnego wyglądu. Plik <file>~/.Xresources</file> 
jest używany do przechowywania specyfikacji zasobów użytkownika. Jego
zawartość jest automatycznie dołączana do domyślnych zasobów X podczas
logowania. Zasoby dla całego systemu przechowywane są
w <file>/etc/X11/Xresources/*</file> i domyślne ustawienia aplikacji
w <file>/etc/X11/app-defaults/*</file>. Użyj tych ustawień jako
wyjściowych.
<p>
Oto parę przydatnych ustawień dla twojego pliku
<file>~/.Xresources</file>:
<example>
! Ustaw czcionkę do bardziej czytelnego rozmiaru 9x15
XTerm*font: 9x15

! Wyświetl pasek przewijania
XTerm*scrollBar: true

! Ustaw rozmiar bufora na 1000 linii
XTerm*saveLines: 1000

! Duży ekran kterm
KTerm*VT100*fontList: -*-fixed-medium-r-normal--24-*,\
 -*-gothic-medium-r-normal--24-*,\
 -*-mincho-medium-r-normal--24-*

</example>
Aby zmiany te weszły w życie natychmiast, dodaj je do bazy danych zasobów
poleceniem:
<example>
xrdb -merge ~/.Xresources
</example>
Zobacz <manref name="xrdb" section="1x">.

<sect1 id="xmodmap">Mapy klawiatury i mapowanie myszy w X
<p>
Program <prgn>xmodmap</prgn> jest używany do edycji i wyświetlania mapę
modyfikacji klawiatury i tablicę klawiszy, które są używane przez aplikacje
klienckie do zamiany zdarzeń klawiaturowych na funkcje w X.
<example>
$ xmodmap -pm
 ... wyświetla aktualną mapę modyfikacji
$ xmodmap -pk | pager
 ... wyświetla aktualną tablicę mapy klawiszy
$ xmodmap -e "pointer = 3 2 1" # ustawia myszkę dla leworęcznych.
$ xmodmap ~/.xmodmaprc # ustawia klawiaturę korzystając z ~/.xmodmaprc
</example>
Jest to najczęściej ładowane ze skryptu startowego sesji użytkownika, 
<file>~/.xsession</file>.
<!--
User-customized keymaps and pointer button mappings in X can be
specified in <file>~/.xmodmaprc</file>.
-->
<p>
By zobaczyć kody klawiszy (<tt>keycode</tt>), użyj <prgn>xev</prgn>
i naciskaj klawisze.
By znaleźć znaczenie klawiszy <tt>keysym</tt>, spójrz do definicji z pliku 
<file>/usr/include/X11/keysymdef.h</file>.  Wszystkie definicje 
nazywane są jako <tt>XK_</tt> poprzedzające nazwy funkcji.
<p>
Zobacz <manref name="xmodmap" section="1x">.

<sect1 id="ss-xsu">Zdobywanie uprawnień administratora w X
<p>
Jeśli program z GUI musi być uruchomiony z uprawnieniami administratora użyj
następującej procedury.<strong>Nigdy nie uruchamiaj X serwera
bezpośrednio z konta roota</strong>, aby uniknąć problemów z
bezpieczeństwem.
<p>
Uruchom X serwer jako zwykły użytkownik i otwórz okno programu
<prgn>xterm</prgn>.
Potem:
<example>
$ XAUTHORITY=$HOME/.Xauthority
$ export XAUTHORITY
$ su root
Password:*****
# printtool &
</example>
Używając tego sposobu by zyskać prawa użytkownika innego niż root,
upewnij się, że <file>~/.Xauthority</file> jest dostępny do odczytu dla
grupy tego użytkownika.
<p>

<!-- this section moved up -->

Aby zautomatyzować te sekwencje poleceń, utwórz plik
<file>~/.xsession</file> na koncie użytkownika zawierający linie:
<example>
# To sprawia, że X-y działają, kiedy za pomocą su staję się root'em.
if [ -z "$XAUTHORITY" ]; then
        XAUTHORITY=$HOME/.Xauthority
        export XAUTHORITY
fi
unset XSTARTUP
# Jeśli jakieś menedżery okien/sesji są wybrane, odkomentuj następujące
# linie i dostosuj je do swoich potrzeb.
#XSTARTUP=/usr/bin/blackbox
# To uruchomi program x-window/session-manager
if [ -z "$XSTARTUP" ]; then
  if [ -x /usr/bin/x-session-manager ]; then
    XSTARTUP=x-session-manager
  elif [ -x /usr/bin/x-window-manager ]; then
    XSTARTUP=x-window-manager
  elif [ -x /usr/bin/x-terminal-emulator ]; then
    XSTARTUP=x-terminal-emulator
  fi
fi
# Uruchom automatycznie wybrany menedżer okien/sesji X
exec $XSTARTUP
</example>
Następnie uruchom <prgn>su</prgn> (nie <tt>su -</tt>) w oknie programu
<prgn>xterm</prgn>.  Teraz programy uruchamiane z tego
<prgn>xterma</prgn> będą wyświetlać się temu użytkownikowi, podczas
gdy pracować będą z prawami administratora. 
Działa to tak długo, jak długo domyślny plik
<file>/etc/X11/Xsession</file> jest wykonywany. Jeśli użytkownik zmienił
swoje środowisko edytując <file>~/.xinit</file> lub <file>~/.xsession</file>,
to wymieniona zmienna środowiskowa <tt>XAUTHORITY</tt> musi być w nich
odpowiednio zmieniona.

<p>Opcjonalnie, <package>sudo</package> może być wykorzystane dla
zautomatyzowania tej sekwencji poleceń:
<example>
$ sudo xterm
... lub
$ sudo -H -s
</example>
W tym wypadku plik <file>/root/.bashrc</file> powinien zawierać:
<example>
if [ $SUDO_USER ]; then
    sudo -H -u $SUDO_USER xauth extract - $DISPLAY | xauth merge -
fi
</example>
Działa to poprawnie nawet gdy katalog domowy użytkownika jest na NFS,
ponieważ root nie odczytuje jego <file>.Xauthority</file>.
<p>
Jest kilka pakietów przeznaczonych specjalnie dla tego celu:
<package>kdesu</package>, <package>gksu</package>, <package>gksudo</package>,
<package>gnome-sudo</package>, i <package>xsu</package>.  Parę
innych metod może być użytych do osiągnięcia podobnych rezultatów:
utworzenie dowiązania symbolicznego z pliku <file>/root/.Xauthority</file> do
użytkownika, użycie skryptu <url id="&suxhome;" name="sux">; lub
wpisanie „<tt>xauth merge ~<var>USER_RUNNING_X</var>/.Xauthority</tt>” w
plikach startowych administratora.
<p>
Przeczytaj więcej na <url id="&deb-dev-su;" name="debian-devel mailing list">.
</sect1>

<sect1 id="xfs-tt">Czcionki TrueType dla X
<p>
Standardowy <prgn>xfs</prgn> z XFree86-4 poprawnie współpracuje z
czcionkami TrueType. Jeśli natomiast korzystasz z XFree86-3 musisz
zainstalować osobny pakiet, taki jak <prgn>xfs-xtt</prgn>.
<p>
Musisz upewnić się, że wszystkie programy, które mają korzystać z
czcionek TrueType zostały połączone z libXft
lub libfreetype (prawdopobnie nie musisz się o to martwić, jeśli korzystasz
z prekompilowanych pakietów .deb).
<p>
Na początku przygotuj obsługę czcionek:
<list compact>
<item>Zainstaluj pakiety <package>x-ttcidfont-conf</package> i
<package>defoma</package>. To pozwoli zautomatyzować tworzenie plików 
<file>fonts.scale</file> i <file>fonts.dir</file>.
<example>
# apt-get install x-ttcidfont-conf
</example>
<item>Zmień część <tt>Section "Files"</tt> w pliku 
<file>/etc/X11/XF86Config-4</file> tak jak podano poniżej:
<example>
Section "Files"
    FontPath  "/var/lib/defoma/x-ttcidfont-conf.d/dirs/TrueType"
    FontPath  "/usr/share/fonts/truetype"
    FontPath  "/usr/lib/X11/fonts/CID"
    FontPath  "/usr/lib/X11/fonts/Speedo"
    FontPath  "/usr/lib/X11/fonts/misc"
    FontPath  "/usr/lib/X11/fonts/cyrillic"
    FontPath  "/usr/lib/X11/fonts/100dpi:unscaled"
    FontPath  "/usr/lib/X11/fonts/75dpi:unscaled"
    FontPath  "/usr/lib/X11/fonts/Type1"
EndSection
</example>
Pierwsza linia ustawi XFree86 by korzystało z czcionek TrueType, które
zainstalujesz z pakietów systemu &debian;.
Wpisz z Type1 jest przesunięty na dół, gdyż XFree86 wyświetla je dość
słabo.
Opcja <tt>:unscaled</tt> dla czcionek bitmapowych powinna być zbędna
w nowszych XF4, ale zostawiłem ją dla pewności.
<!-- per /usr/share/doc/xfree86-common/README.fonts.gz in 4.2.1 -->
<p>
By zachować własne modyfikacje <file>/etc/X11/XF86Config-4</file> postępuj
zgodnie z instrukcjami z <ref id="manual-config-x">.
</list>
<p>
Następnie zainstaluj pakiety z fontami (DFSG):
<list compact>
<item>Zachodnie czcionki TrueType:
<list compact>
<item><package>ttf-bitstream-vera</package>: A set of high-quality
TrueType fonts created by Bitstream, Inc.
<footnote>
Dostępne od dystrybucji Sarge.
</footnote>
<item><package>ttf-freefont</package>: A set of free high-quality
TrueType fonts covering the UCS character set.
<item><package>ttf-thryomanes</package>: A TrueType Unicode font
covering Latin, Greek, Cyrillic and IPA.
</list>
<item>Czcionki azjatyckie:
<list compact>
<item><package>tfm-arphic-bsmi00lp</package>: Chinese Arphic "AR PL
Mingti2L Big5" TrueType font TeX font metric data
<item><package>tfm-arphic-bkai00mp</package>: Chinese Arphic "AR PL
KaitiM Big5" TrueType font TeX font metric data
<item><package>tfm-arphic-gbsn00lp</package>: Chinese Arphic "AR PL
SungtiL GB" TrueType font TeX font metric data
<item><package>tfm-arphic-gkai00mp</package>: Chinese Arphic "AR PL
KaitiM GB" TrueType font TeX font metric data
<item><package>ttf-baekmuk</package>: Korean Baekmuk series TrueType fonts
<item><package>hbf-jfs56</package>: Chinese Jianti Fangsong 56x56 bitmap
font (GB2312) for CJK
<item><package>hbf-cns40-b5</package>: Chinese Fanti Song 40x40 bitmap
font (Big5) for CJK
<item><package>hbf-kanji48</package>: Japanese Kanji 48x48 bitmap font
(JIS X-0208) for CJK
</list>
</list>
 <!-- Need to watch Japanese font issue -->

<p>
Ponieważ wybór <strong>Wolnych</strong> czcionek jest dosyć
ograniczony, dobrym rozwiązaniem może być równoczesna instalacja
ich komercyjnych odpowiedników.
Aby uczynić ich instalację łatwiejszą, stworzono kilka pakietów:
<list compact>
<item><package>ttf-commercial</package>
<item><package>msttcorefonts (>1.1.0)</package> 
<footnote>Pakiet w Woodym nie działa z powodu zmiany strony 
internetowej Microsoftu w sierpniu 2002 roku. Użyj wersji z Sarge, nawet
gdy używasz Woodiego.
</footnote>
</list>
Będziesz miał naprawdę duży wybór czcionek, jeśli połączysz użycie
swoich <strong>Wolnych</strong> czcionek z innymi, komercyjnymi.
<p>
Wszystkie te pakiety czcionek powinny działać bez żadnych dodatkowych
poleceń i powinny być dostępne dla wszystkich programów X, które używają
czcionek systemowych. W ich skład wchodzą Xterm, Emacs i większość
aplikacji spoza KDE i GNOME.
<p>
Teraz uruchom <prgn>xfontsel</prgn> i wybierz jakąkolwiek czcionkę TrueType
z menu fndry. W menu "fmly" powinieneś zobaczyć wiele aktywnych wpisów.
<p>
Dla KDE2.2 i GNOME1.4 (z libgdxft0, które jest pewnym obejściem by czcionki
w GTK 1.2 były antyaliasowane), potrzeba ustawienia dodatkowo Xft1.
Xft1 jest bardzo przestarzałe i praktycznie potrzebne tylko dla GNOME1.4
i KDE2.2. W pliku <file>/etc/X11/XftConfig</file> dodaj następującą linię
<example>
    dir "/var/lib/defoma/x-ttcidfont-conf.d/dirs/TrueType"
</example>
<p>
przed innymi katalogami.
<footnote>
Nie posiadam żadnego oprogramowania korzystającego z xft1 więc nie jestem
pewien czy potrzeba zrestartować X by te zmiany odniosły skutek. Pamiętam,
że bodajże "xftcache" powinien uaktualnić bufor Xft1, ale byłoby dobrze
jakby ktoś to potwierdził.
</footnote>
<p>
Dla GNOME2 i KDE3 (wszystkie wydania po Sarge), musisz ustawić 
<package>fontconfig</package>, który jest wykorzystywany przez Xft2 do
odnajdywania czcionek.
<footnote>
<package>Fontconfig</package> <strong>nie</strong> istnieje w Woodym.
</footnote>
Nie powinno być potrzeby instalacji żadnych dodatków do tego, ponieważ
wszystkie pakiety używające <package>fontconfig</package> już od niego 
zależą (pośrednio).
<p>
Na początek zajrzyj do <file>/etc/fonts/fonts.conf</file>.  Powinna tam być
linia taka jak poniżej.  Jeśli jej nie ma, otwórz 
<file>/etc/fonts/local.conf</file> i dodaj 
<example>
    &lt;dir&gt;/var/lib/defoma/x-ttcidfont-conf.d/dirs/TrueType&lt;/dir&gt;
</example>
zaraz po linii &lt;fontconfig&gt;.
<p>
<package>Fontconfig</package> powinien wykryć to od razu i 
"fc-list" powinien wyświetlać nowe czcionki. Kolejną przyjemną możliwością 
<package>fontconfig</package>, jest fakt, że możesz umieścić czcionki w 
<file>~/.fonts/</file> i wszystkie programy powinny od razu mieć do nich
dostęp.
<p>
Jeśli ręcznie doinstalujesz nowy zestaw czcionek bez używania pakietu
z systemu &debian;, uruchom
<example>
# xset fp rehash
</example>
by XFree86 przeglądnęło zawartość katalogu ponownie i dodało nowe czcionki.

<sect1 id="ss-browser">Przeglądarka WWW w X
<p>
Jest kilka graficznych przeglądarek stron WWW w Woodym:
<list compact>
<item><package>mozilla</package> The Mozilla (nowa)
<item><package>galeon</package> przeglądarka oparta o Mozillę z Gnome UI (nowa)
<item><package>konqueror</package> przeglądarka dla KDE
<item><package>dillo</package> przeglądarka w GTK
<item><package>amaya-gtk</package> przeglądarka wzorcowa W3C
<item><package>amaya-lesstif</package> przeglądarka wzorcowa W3C
<item><package>netscape-...</package> (dużo, stare)
<item><package>communicator-...</package> (dużo, stare)
<item>...
</list>
Wersja pakietu <package>mozilla</package> musi odpowiadać wersji
wymaganej przez pakiet <package>galeon</package>.  Chociaż różnią się
one interfejsem użytkownika, to korzystają z tego samego mechanizmu
renderowania stron HTML Gecko.
<p>
Wtyczki dla przeglądarek takich, jak <package>mozilla</package> i
<package>galeon</package> mogą być uaktywnione poprzez ręczną instalację
odpowiednich plikow „<tt>*.so</tt>” w katalogu z wtyczkami i ponowne
uruchomienie przeglądarki.
<p>
Popularne wtyczki:
<list compact>
<item>wtyczka Javy: zaistaluj „J2SE” z <url id="&javasunhome;">.
<item>wtyczka Flash: zainstaluj „Macromedia Flash Player 5” z
 <url id="&flashhome;">.
<item><package>freewrl</package>: przeglądarka VRML i wtyczka dla
Netscape'a
<item>...
</list>
</sect1>

<!-- CJK and X moved to bottom with different name to locale section -->

</sect>

<sect id="ssh">SSH
<p>
SSH (Secure SHell) zapewnia bezpieczny sposób połączeń internetowych.
Wersja SSH stanowiąca wolne oprogramowanie nazywa się OpenSSH i jest dostępna
w systemie &debian; jako pakiet <package>ssh</package>.

<sect1 id="ssh-basics">Podstawy SSH
<p>
Najpierw zainstaluj serwer i klienta OpenSSH.
<example>
# apt-get update && apt-get install ssh
</example>
Jeśli serwer
OpenSSH ma być uruchamiany, to nie może istnieć plik
<file>/etc/ssh/sshd_not_to_be_run</file>.
<p>
SSH zapewnia dwa protokoły identyfikacji:
<list>
<item>Pierwszy protokół SSH: 
 <list compact>
<item>Jedynie Potato obsługuje ten protokół.
<item>dostępne metody identyfikacji:
  <list compact>
<item>RSAAuthentication: oparta na kluczu RSA użytkownika
<item>RhostsAuthentication: oparta na .rhosts (niebezpieczna, wyłączona)
<item>RhostsRSAAuthentication: oparta na kombinacji .rhosts i kluczy RSA (wyłączona) 
<item>ChallengeResponseAuthentication: oparta o mechanizm RSA challenge-response
<item>PasswordAuthentication: oparta na hasłach
  </list>
 </list>
<item>Drugi protokół SSH: 
 <list compact>
<item>podstawowy dla systemów post-Woody 
<item>dostępne metody identyfikacji:
  <list compact>
<item>PubkeyAuthentication: oparta o klucz publiczny
<item>HostbasedAuthentication: oparta o <file>.rhosts</file> lub
 <file>/etc/hosts.equiv</file>, w połączeniu z metodą klucza publicznego (wyłączona).
<item>ChallengeResponseAuthentication: oparta o mechanizm challenge-response
<item>PasswordAuthentication: oparta na hasłach
  </list>
 </list>
</list>

<p>
Jeśli używasz Woodiego lub systemu innego niż &debian;, to zwróć uwagę na te
różnice.
<p>
Przeczytaj <file>/usr/share/doc/ssh/README.Debian.gz</file>,
<manref name="ssh" section="1">, 
<manref name="sshd" section="8">,
<manref name="ssh-agent" section="1">, i
<manref name="ssh-keygen" section="1"> dla dalszych informacji.

<p>
Główne pliki konfiguracyjne to:

<list>

<item><file>/etc/ssh/ssh_config</file>: Ustawienia domyślne klienta SSH.
Przeczytaj <manref name="ssh" section="1">.  Ważne uwagi, pozycje:

 <list compact>
<item><tt>Host</tt>: Ogranicza następujące po nim deklaracje ( aż do
następnego wystąpienia Host) jedynie do komputerów pasujących do wzorca
podanego po danym słowie kluczowym.
<item><tt>Protocol</tt>: Określa wersje protokołu SSH.
Domyślnie to „2,1”.
<item><tt>PreferredAuthentications</tt>: Określa metodę identyfikacji
klienta SSH2. Domyślna wartość to
„hostbased,publickkey,keyboard-interactive,password”.
<item><tt>PasswordAuthentication</tt>: Jeśli chcesz logować się używając
hasła, upewnij się, że pole to nie jest ustawione na <tt>no</tt>.
<item><tt>ForwardX11</tt>: Domyślnie wyłączone. Nadrzędna wobec tego
ustawienia jest opcja wiersza poleceń „<tt>-X</tt>”.
 </list>

<item><file>/etc/ssh/sshd_config</file>: Domyślne ustawienia serwera SSH.
Przejrzyj też <manref name="sshd" section="8">.  Pozycje godne uwagi:

 <list compact>
<item><tt>ListenAddress</tt>: określa lokalny adres, na którym <prgn>sshd</prgn>
powinien nasłuchiwać. Dozwolona jest więcej niż jedna opcja.
<item><tt>AllowTcpForwarding</tt>: Domyślnie wyłączone.  
<item><tt>X11Forwarding</tt>: Domyślnie wyłączone.  
 </list>

<item><file>$HOME/.ssh/authorized_keys</file>: lista domyślnych kluczy
publicznych, które zostały użyte przez klientów do połączenia na dane konto
na tym komputerze.
Zobacz <manref name="ssh-keygen" section="1">.

<item><file>$HOME/.ssh/identity</file>: 
Zobacz <manref name="ssh-add" section="1">
oraz <manref name="ssh-agent" section="1">.
</list>

<p>
Rozpoczęcie połączenia przez klienta <prgn>ssh</prgn>.
<example>
$ ssh username@hostname.domain.ext
$ ssh -1 username@hostname.domain.ext # Wymusza używanie SSH w wersji 1  
$ ssh -1 -o RSAAuthentication=no -l username foo.host
    # wymusza używanie haseł SSH1
$ ssh -o PreferredAuthentications=password -l username foo.host
    # wumusza używanie haseł SSH2
</example>
Z punktu widzenia użytkownika <prgn>ssh</prgn> działa jako sprytniejszy i
bezpieczniejszy odpowiednik programu <prgn>telnet</prgn> ( nie zarzuci nas
np. ^]).

</sect1>

<sect1 id="ssh-forward">Przekierowywanie portów dla tuneli SMTP/POP3
<p>
Aby utworzyć potok łączący port 25 komputera <var>zdalny-serwer</var> i port
4025 na komputerze lokalnym, oraz potok łączący port 110 komputera
<var>zdalny-serwer</var> z portem 4110 lokalnej maszyny, poprzez
<prgn>ssh</prgn>, wykonaj na lokalnej maszynie:
<example>
# ssh -q -L 4025:zdalny-serwer:25 4110:zdalny-serwer:110 \
           użytkownik@zdalny-serwer
</example>
Jest to bezpieczny sposób na nawiązywanie połączenia z serwerami SMTP/POP3 w
Internecie. Ustaw <tt>AllowTcpForwarding</tt> na <tt>yes</tt> w pliku
<file>/etc/ssh/sshd_config</file> zdalnego komputera.
</sect1>

<sect1 id="ssh-rsa">Połączenia z mniejszą ilością haseł &ndash; RSA
<p>
Można uniknąc konieczności pamiętania hasła dla każdego używanego zdalnego
komputera używając RSAAuthentication (protokół SSH1) lub
PubkeyAuthentication (protokół SSH2).
<p>
Na zdalnym systemie ustaw odpowiednio pozycje
„RSAAuthentication yes” lub „PubkeyAuthentication yes”, w
<file>/etc/ssh/sshd_config</file>.
<p>
Następnie wygeneruj klucze identyfikacyjne lokalnie i zainstaluj klucz
publiczny na zdalnym systemie:
<example>
$ ssh-keygen          # RSAAuthentication: klucz RSA1 dla SSH1
$ cat .ssh/identity.pub   | ssh użytkownik1@zdalny \
        "cat - &gt;&gt;.ssh/authorized_keys"
...
$ ssh-keygen -t rsa   # PubkeyAuthentication: Klucz RSA dla SSH2
$ cat .ssh/id_rsa.pub | ssh użytkownik1@zdalny \
        "cat - &gt;&gt;.ssh/authorized_keys"
...
$ ssh-keygen -t dsa   # PubkeyAuthentication: klucz DSA dla SSH2
$ cat .ssh/id_dsa.pub | ssh użytkownik1@zdalny \
        "cat - &gt;&gt;.ssh/authorized_keys"
</example>
Można później zmienić hasło za pomocą polecenia „<tt>ssh-keygen -p</tt>”.
Sprawdź ustawienia testując połączenie. W razie nieprawidłowości skorzystaj
z polecenia „<tt>ssh -v</tt>”.
<p>
Możesz dodać opcje do pozycji w <prgn>authorized_keys</prgn>, aby ograniczyć
uprawnienia hostów i użyć odpowiedniego polecenia. Po dalsze informacje
sięgnij do <manref name="sshd" section="8">.
<p>
Zauważ, że SSH2 obsługuje <tt>HostbasedAuthentication</tt>. Aby uaktywnić
ten mechanizm, musisz zmienić wartość zmiennej
<tt>HostbasedAuthentication</tt> na <tt>yes</tt> zarówno w pliku
<file>/etc/ssh/sshd_config</file> po stronie serwera, jak i w plikach
<file>/etc/ssh/ssh_config</file> lub <file>$HOME/.ssh/config</file> na
komputerze klienta.
</sect1>

<sect1 id="ssh-client">Radzenie sobie z innymi klientami SSH
<p>
Istnieje parę klientów SSH na platformy inne niż Unix.
<taglist>
<tag>Windows
<item><url id="&puttyhome;" name="puTTY"> (GPL)
<tag>Windows (cygwin)
<item>SSH w <url id="&cygwinhome;" name="cygwin"> (GPL)
<tag>Macintosh Classic
<item><url id="&macsshhome;" name="macSSH"> (GPL) [Zauważ, że Mac OS X
zawiera OpenSSH; użyj <tt>ssh</tt> w aplikacji Terminala]
</taglist>
Zobacz także <url id="&sfdochome;" name="SourceForge.net, site documentation">, 
„6. CVS Instructions”.

<sect1 id="ssh-agent">Ustawianie <prgn>ssh-agent</prgn>
<p>
Bezpieczniej jest chronić swój klucz SSH hasłem. Jeśli nie zostało ono
ustawione, użyj polecenia <tt>ssh-keygen -p</tt> aby to zmienić.
<p>
Umieść swój klucz publiczny (np <file>~/.ssh/id_rsa.pub</file>) w pliku
<file>~/.ssh/authorized_keys</file> na zdalnym hoście, używając połączenia
opartego o hasła, tak jak to opisano w <ref id="ssh-rsa">.
<example>
$ ssh-agent bash # lub uruchom zamiast tego  zsh/tcsh/pdksh
$ ssh-add ~/.ssh/id_rsa
Enter passphrase for /home/osamu/.ssh/id_rsa:
Identity added: /home/osamu/.ssh/id_rsa (/home/osamu/.ssh/id_rsa)
$ scp <var>foo</var> <var>user@remote.host:foo</var>
 ... nie potrzebne tu jest moje hasło :-)
$^D
 ... przerywanie sesji ssh-agent
</example>
Dla X-serwera, standardowe skrypty startowe systemu &debian; uruchamiają
<prgn>ssh-agent</prgn> jako proces macierzysty. Musisz więc jedynie
uruchomić jednokrotnie <prgn>ssh-add</prgn>.
<p>
Dla dalszych informacji przeczytaj <manref name="ssh-agent" section="1"> i
<manref name="ssh-add" section="1">.
</sect1>

<sect1 id="ssh-trouble">Rozwiązywanie problemów z SSH
<p>
Jeśli masz problemy, sprawdź prawa dostępu do plików konfiguracyjnych i
uruchom <prgn>ssh</prgn> z opcją „<tt>-v</tt>”.
<p>
Użyj parametru „<tt>-P</tt>” jeśli jesteś rootem i masz problem z
firewallem; pozwala to uniknąć korzystania z portów 1&ndash;1023.
<p>
Jeśli zdalne połączenie <prgn>ssh</prgn> nagle przestaje działać, może być
to spowodowane działaniami administratora, a najbardziej, prawdopodobną zmianą
w <prgn>host_key</prgn>. Po upewnieniu się, że nie jest to jednak sprytna
próba włamania poprzez podszywanie się za zdalnej maszyny, możesz odzyskać
połączenie usuwając pozycje <prgn>host_key</prgn>
z <file>$HOME/.ssh/known_hosts</file> na lokalnej maszynie.
</sect1>

</sect>

<sect id="mail">Poczta
<p>
Konfiguracja poczty dzieli się na 3 kategorie:
<list>
<item>mail transfer agent (program przesyłający pocztę - MTA): 
 <prgn>exim</prgn>, <prgn>postfix</prgn>, 
 <prgn>sendmail</prgn>, <prgn>qmail</prgn>, <prgn>ssmtp</prgn>,
 <prgn>nullmailer</prgn>, ...
<item>pocztowe programy użytkowe: <prgn>procmail</prgn>, <prgn>fetchmail</prgn>,
<prgn>mailx</prgn>, ...
<item>mail user agent (klient poczty - MUA): <prgn>mutt</prgn>,
<prgn>emacs</prgn>+<prgn>gnus</prgn>,...
</list>

<sect1>Agenci transportu poczty (MTA)
<p>
Aby mieć w pełni wyposażony MTA użyj <package>exim</package>. Zasoby:
<list compact>
<item>pakiety <package>exim-doc</package> i <package>exim-doc-html</package>
<item><url id="&eximhome;">
</list>
Jeśli troszczysz się o bezpieczeństwo, to jedyną rozsądną alternatywą jest
<package>postfix</package>. <package>sendmail</package> i
<package>qmail</package>, są również dostępne jako pakiety systemu &debian;,
ale ich używanie nie jest polecane.
<p>
Jeśli nie potrzebujesz „relay capability” MTA, jak to jest w przypadku np.
laptopów, możesz rozważyć użycie rozwiązań mniejszego kalibru:
<list compact>
<item><prgn>ssmtp</prgn>: wymaga połączenia SMTP i obsługuje aliasy, lub
<item><prgn>nullmailer</prgn>: potrafi kolejkować, ale nie obsługuje aliasów.
</list>
Obecnie uważam, że <prgn>exim</prgn> jest bardziej odpowiedni nawet dla
mojej stacji roboczej, będącej właśnie laptopem.
<p>
Musisz usunąć <prgn>exim</prgn> aby zainstalować w/w pakiety, gdyż
zachodzi pomiędzy nimi konflikt:
<example>
# dpkg -P --force-depends exim
# apt-get install nullmailer         # lub ssmtp
</example> 

<sect2 id="exim-smart">Smarthost
<p>
Jeśli używasz <prgn>exim</prgn>a na komputerze, który jest podłączony
poprzez jakieś łącze konsumenckie, upewnij się, że wysyłasz pocztę przez
tak zwany smarthost oferowany przez Twojego dostawcę lub innych.
<footnote>
Musisz przestrzegać tej reguły dla każdego komputera podłączonego przez
łącze wdzwaniane, DSL, telewizję kablową czy sieć lokalną z routerem.
Nawet jeśli posiadasz publiczne IP od swojego dostawcy, nadal powinieneś
przestrzegać tej reguły. Większość stacji i serwerów domowych podpada pod
tę kategorię.
</footnote>
Jest kilka dobrych powodów by tak robić:
<list compact>
<item>by upewnić się, że list doszedł, ponieważ serwer Twojego dostawcy
najczęściej posiada lepsze połączenie.
<item>by zapobiec przesyłania wiadomości bezpośrednio
z <strong>dynamicznego adresu IP</strong>, który prawdopodobnie zostanie
zablokowany przez listy spamerskie połączeń wdzwanianych.
<item>by zaoszczędzić przepustowość połączenia lokalnego w przypadku
wysyłania wiadomości do wielu odbiorców.
</list>
<p>
Jedynymi dopuszczalnymi wyjątkami są:
<list compact>
<item>sytuacje awaryjne, jeśli usługa SMTP Twojego dostawcy nie działa.
<item>eksperymenty w celach edukacyjnych.
<item>posiadanie komputera z profesjonalnym hostingiem.
</list>

<sect2 id="exim-base">Podstawowa konfiguracja Exima
<p>
Aby używać <prgn>exim</prgn> jako MTA, ustaw odpowiednie opcje w:
<example>
/etc/exim/exim.conf     „eximconfig”  tworzenie i edycja
/etc/inetd.conf         zakomentuj smtp by używać serwera exim w trybie demon
/etc/email-addresses    Dodawanie listy fałszywych adresów
sprawdź filtry, używając exim -brw, -bf, -bF, -bV, ... etc.
</example>

<sect2 id="addr-catchall">Wyłapywanie poczty dla nieistniejących adresów w Eximie
<p>
W <file>/etc/exim/exim.conf</file> (Woody lub później),
w części DIRECTORS, pod koniec (za 'lokalny użytkownik: przekierowanie')
dodaj przekierowanie pasujące do wszystkich adresów, które poprzednie
przekierowania nie mogły objąć (przez Miquela van Smoorenburga):
<example>
catchall:
  driver = smartuser
    new_address = <var>webmaster@mydomain.com</var>
</example>
<p>
Jeśli chce się mieć bardziej szczegółowy opis każdej wirtualnej domeny itp.
dodaj następujące linie pod koniec pliku <file>/etc/exim/exim.conf</file> (nie
sprawdzone).
<example>
*@yourdomain.com ${lookup{$1}lsearch*{/etc/email-addresses} \
        {$value}fail} T
</example>
Następnie umieść pozycje „*” w pliku <file>/etc/email-addresses</file>.
</sect2>

<sect2 id="addr-rewrite">Zamiana adresów dla poczty wychodzącej poczty w Eximie
<p>
<!-- Derrick 'dman' Hudson dman@dman.ddts.net -->
Selektywna zamiana adresów dla wychodzącej poczty, aby otrzymać poprawnie
nagłówki „From: ”, może być osiągnięta w programie <prgn>exim</prgn> dzięki
odpowiedniej konfiguracji pod koniec pliku <file>/etc/exim/exim.conf</file>:
<example>
*@komp1.gdzieś.dyndns.org \
  "${if eq {${lookup{$1}lsearch{/etc/passwd}{1}{0}}} {1}  \
   {$0}{$1@gdzieś.dyndns.org}}"  frFs
</example>
Ta regułka zamienia wszystkie adresy pasujące do <tt>*@komp1.gdzieś.dyndns.org</tt>.
<enumlist>
<item>Najpierw sprawdza w pliku <file>/etc/password</file> czy część lokalna ($1)
jest użytkownikiem czy nie.
<item>Jeśli to lokalny użytkownik, przepisuje adres w takiej postaci w
jakiej występował.
<item>Jeśli nie, podmienia nazwę domeny.
</enumlist>

<sect2 id="smtp-aauth">Konfigurowanie autoryzacji SMTP w Eximie
<p>
Niektórzy usługodawcy SMTP, jak np. yahoo.com, wymagają autoryzacji SMTP.
Skonfiguruj <file>/etc/exim/exim.conf</file> następująco:
<example>
remote_smtp:
  driver = smtp
  authenticate_hosts = smtp.mail.yahoo.com
...

smarthost:
  driver = domainlist
  transport = remote_smtp
  route_list = "* smtp.mail.yahoo.com bydns_a"
...

plain:
  driver = plaintext
  public_name = PLAIN
  client_send = "^cmatheson3^this_is_my_password"
</example>
Nie zapomnij o dwóch znakach cudzysłowia w ostatniej lini

<sect1 id="fetchmail">Pobieranie poczty &ndash; Fetchmail
<p>
<prgn>fetchmail</prgn> jest uruchamiany w trybie demona, aby pobrać pocztę
z konta POP3 u ISP do lokalnego systemu pocztowego. Konfiguracja:
<example>
/etc/init.d/fetchmail   
/etc/rc?.d/???fetchmail uruchom update-rc.d fetchmail default priority 30
/etc/fetchmailrc        plik konfiguracyjny (chown 600, własność fetchmaila)
</example>
<p>
Uruchomienie <prgn>fetchmaila</prgn> jako demona wywoływanego 
ze skryptu <prgn>init.d</prgn> w Potato może być kłopotliwe 
(w Woodym jest już inaczej). Zobacz
<url id="&examples;" name="przykładowe skrypty">.
<p>
Jeśli nagłówki poczty elektronicznej są zanieczyszczone znakiem ^M z 
winy Twojego ISP,
dodaj „stripcr” do opcji w pliku <file>$HOME/.fetchmailrc</file>:
<example>
options fetchall no keep stripcr
</example>
</sect1>

<sect1 id="procmail">Przetwarzanie poczty &ndash; Procmail
<p>
<prgn>procmail</prgn> spełnia rolę lokalnego MDA oraz programu filtrującego.
Należy stworzyć plik <file>$HOME/.procmailrc</file> dla każdego konta, które z
niego korzysta. Przykłady <url id="&examples;" name="_procmailrc">
</sect1>

<sect1 id="mutt">Odczytywanie poczty &ndash; Mutt
<p>
Użyj <prgn>mutt</prgn> jako czytnika poczty ( mail user agent (MUA)) w
połączeniu z <prgn>vim</prgn>.
Dostosuj do własnych potrzeb edytując plik<file>~/.muttrc</file>; na przykład:

<example>
# używaj trybu wizualnego i „gq” do formatowania cytatów
set editor="vim -c 'set tw=72 et ft=mail'"
#
# usuwanie nagłówków wzięte z podręcznika (Sven's Draconian header weeding)
#
ignore *
unignore from: date subject to cc
unignore user-agent x-mailer
hdr_order from subject to cc date user-agent x-mailer
auto_view application/msword
....
</example>
<p>
Użyj następujących wpisów w plikach <file>/etc/mailcap</file> lub
<file>$HOME/.mailcap</file>, aby przeglądać załączniki w formatach HTML i MS
Word.
<example>
text/html; lynx -force_html &percnt;s; needsterminal;
application/msword; /usr/bin/antiword '&percnt;s'; copiousoutput;
description="Microsoft Word Text"; nametemplate=&percnt;s.doc
</example>

</sect1>

</sect>

<sect id="l10n">Lokalizacja
<p>
&debian; jest projektem międzynarodowym, obsługującym rosnącą ilość języków
itp. Ta część wymieni kilka obszarów różnic językowych, które &debian;
obecnie obsługuje. Następne zaś skupią się na <strong>lokalizacji</strong>,
procesie uzyskania wejścia i wyjścia programów w wybranym języku, jak
również stosowania wybranych konwencji drukowania daty, liczb i symboli
monetarnych, jak również innych różnic, jakie mogą występować na skutek
stosowania systemu &debian; w Twoim regionie.

<sect1 id="languages">Podstawy lokalizacji
<p>
Jest kilka aspektów lokalizowania systemu &debian; i obsługi języków
narodowych.

<sect2 id="keyboard">Lokalizacja klawiatury
<p>
&debian; jest rozpowszechniany z blisko dwoma tuzinami map klawiatur. 
W Woodym możesz zmienić ustawienia klawiatury poprzez:

<list compact>
<item><tt>dpkg-reconfigure --priority=low console-data # console</tt>
<item><tt>dpkg-reconfigure --priority=low xserver-xfree86   # XF4</tt>
<item><tt>dpkg-reconfigure --priority=low xserver-common-v3 # XF3</tt>
</list>
</sect2>

<sect2 id="data-stream">Lokalizacja danych
<p>
Szeroka gama oprogramowania dostępnego jako pakiety Debiana wspiera obsługę
znaków graficznych różnych od standardu US-ASCII poprzez zmienną
środowiskową LC_CTYPE, udostępnianą przez mechanizm <strong>locale</strong>
w glibc
   
    <list compact>
    <item>8-bit clean: praktycznie wszystkie programy
     <item>inne zestawy znaków Latin (np. ISO-8859-1 lub ISO-8859-2):
     większość programów
     <item>wielobajtowe języki, jak Chiński, Japoński czy Koreański: wiele
     nowych programów
    </list>
</sect2>

<sect2 id="display">Lokalizacja wyświetlania
<p>
X-y mogą wyświetlać każde kodowanie, włączając UTF-8, i obsługują wszystkie
czcionki. Zawierają się w tym nie tylko wszystkie czcionki 8-bitowe, ale także
16-bitowe - np. chińska, japońska czy koreańska. Obsługa wielobajtowych
zestawów znaków przy wprowadzaniu danych jest zapewniona przez mechanizm
<ref id="x-input">. Zobacz <ref id="x-cjk"> i <ref id="x-utf-8">.
<p>
Wyświetlanie japońskiego kodu EUC jest także możliwe w konsoli graficznej,
poprzez pakiet <package>kon2</package>. Jest także alternatywny program,
używający konsoli framebuffera, pakiet <package>jfbterm</package>. W tych
środowiskach sposób zapewnienia wejścia kompatybilnego z językiem japońskim
musi być zapewniony przez programy użytkowe. Użyj pakietu
<package>egg</package> dla Emacsa lub <package>jvim</package> dla Vima.
<p>
Instalacja czcionek innych niż Unicode dla X pomoże wyświetlać dokumenty
z jakimkolwiek kodowaniem. Więc nie przejmuj się zbytnio kodowaniem
czcionek.
</sect2>

<sect2 id="translation">Lokalizacja komunikatów i dokumentacji


<p>
Dostępne są tłumaczenia wielu komunikatów i dokumentów wyświetlanych w
systemie &debian; takich, jak komunikaty błędów, standardowe wyjście
programów, menu oraz strony podręcznika systemowego. Obecnie istnieją strony
podręcznika w języku  niemieckim, hiszpańskim, fińskim, francuskim,
węgierskim, włoskim, japońskim, koreańskim, polskim, portugalskim, chińskim
oraz rosyjskim - wszystkie one są dostępne w pakietach
<tt>manpages-<var>LANG</var></tt> (gdzie <var>LANG</var> jest dwuliterowym
kodem ISO kraju. Użyj <tt>apt-cache search manpages-|less</tt> aby otrzymać
listę dostępnych pakietów.)
<p>
Aby korzystać z przetłumaczonych stron podręcznika, użytkownik musi ustawić
zmienną środowiskową LC_MESSAGES na odpowiednią wartość. W przypadku 
języka włoskiego LC_MESSAGES musi zostać ustawione na <tt>it</tt>. Wtedy
<prgn>man</prgn> będzie szukał włoskiego tłumaczenia w pliku
<file>/usr/share/man/it/</file>.
</sect2>
</sect1>

<sect1 id="locales">Locales
<p>
Debian oferuje mechanizm <strong>locale</strong>. Pozwala on programom na
dostosowanie wyjścia i możliwości w zależności od ustawień systemowych
takich, jak używany zestaw znaków, format wyświetlania daty i godziny,
symbol waluty itp. Na przykład, zakładając występowanie zarówno
angielskich (amerykańskich) jak i niemieckich locales w Twoim systemie, 
komunikat błędu może być wyświetlany w wielu językach:
<example>
$ LANG="en_US" cat foo
cat: foo: No such file or directory
$ LANG="de_DE" cat foo
cat: foo: Datei oder Verzeichnis nicht gefunden
</example>
Glibc oferuje tą funkcjonalność dla programów jako bibliotekę.
Zobacz <manref name="locale" section="7">.

<sect1 id="base-locale">Wprowadzenie do locales
<p>
Pełny opis locale składa się z trzech części: <tt>xx_YY.ZZZZ</tt>.
<list compact>
<item><strong><tt>xx</tt></strong>: kod języka w ISO 639 (małe litery)
<item><strong><tt>YY</tt></strong>: kod kraju w ISO 3166 (wielkie litery)
<item><strong><tt>ZZZZ</tt></strong>: zestaw kodów, np. ustawienia znaków
lub identyfikator kodowania.
</list>
<p>
Kody języków i krajów możesz znaleźć w opisie w <tt>info gettext</tt>.
<p>
Zwróć uwagę, że część opisująca kody może zostać wewnętrznie znormalizowana
poprzez usunięcie wszystkich znaków <tt>-</tt> i zamianę liter na małe
w celu większej kompatybilności,
Typowe zestawy kodów to:
<list compact>
  <item><strong>UTF-8</strong>: Unikod (Unicode) dla wszystkich regionów,
  głównie w 1-3 oktetach (de facto nowy standard)
  <item><strong>ISO-8859-1</strong>: zachodnia Europa (de facto stary standard) 
  <item><strong>ISO-8859-2</strong>: wschodnia Europa (bośniacki,
  chorwacki, czeski, węgierski, polski, rumuński, serbski, słowacki, słoweński)
  <item><strong>ISO-8859-3</strong>: maltański
  <item><strong>ISO-8859-5</strong>: macedoński i serbski
  <item><strong>ISO-8859-6</strong>: arabski
  <item><strong>ISO-8859-7</strong>: grecki
  <item><strong>ISO-8859-8</strong>: hebrajski
  <item><strong>ISO-8859-9</strong>: turecki
  <item><strong>ISO-8859-11</strong>: tajski (=TIS-620)
  <item><strong>ISO-8859-13</strong>: łotewski, litewski, maori
  <item><strong>ISO-8859-14</strong>: walijski
  <item><strong>ISO-8859-15</strong>: zachodnia Europa z obsługą euro
  <item><strong>KOI8-R</strong>: rosyjski
  <item><strong>KOI8-U</strong>: ukraiński
  <item><strong>CP1250</strong>: czeski, węgierski, polski (MS Windows)
  <item><strong>CP1251</strong>: bułgarski, białoruski (MS Windows)
  <item><strong>eucJP</strong>: japoński w stylu Unix (=ujis)
  <item><strong>eucKR</strong>: koreański w stylu Unix 
  <item><strong>GB2312</strong>: uproszczony chiński w stylu Unix 
  (=GB, =eucCN) dla zh_CN
  <item><strong>Big5</strong>: tradycyjny chiński dla zh_TW  
  <item><strong>sjis</strong>: japoński w stylu Microsoft (Shift-JIS)
</list>
Znaczenie podstawowych systemów kodowania:
<list compact>
<item><strong>ASCII</strong>: 7 bitów (0-0x7f)
<item><strong>ISO-8859-?</strong>: 8 bitów (0-0xff)
<item><strong>ISO-10646-1</strong>: Universal Character Set (UCS) 
(31 bitów, 0-0x7fffffff)
<item><strong>UCS-2</strong>: Pierwsze 16 bitów UCS jako proste 2 oktety
(Unicode: 0-0xffff)
<item><strong>UCS-4</strong>: UCS jako proste 4 oktety (UCS: 0-0x7fffffff)
<item><strong>UTF-8</strong>: UCS zakodowany w 1-6 oktetach 
(głównie w 3 oktetach)
<item><strong>ISO-2022</strong>: 7 bitów (0-0xff) z sekwencjami escape.
ISO-2022-JP jest najpopularniejszym kodowaniem dla japońskich wiadomości.
<item><strong>EUC</strong>: 8 bitów + 16 bitów kombinacji (0-0xff), 
styl Unix
<item><strong>Shift-JIS</strong>: 8 bitów + 16 bitów kombinacji
(0-0xff), styl Microsoft.
</list>
ISO-8859-?, EUC, ISO-10646-1, UCS-2, UCS-4 i UTF-8 dla znaków 7 bitowych 
wspóldzielą te same kody wraz z ASCII.  EUC i Shift-JIS używa znaków
wysokich bitów (0x80-0xff) dla zaznaczenia, że część kodowania jest 16
bitowa. UTF-8 również używa znaków wysokich bitów (0x80-0xff) by zaznaczyć
sekwencje znaków spoza 7 bitów i jest to najbardziej powszechny system
kodowania znaków spoza ASCII.
<p>
Zwróć uwagę na różnicę w kolejności bajtów w implementacjach Unikodu:
<list compact>
<item><strong>Standard  UCS-2, UCS-4</strong>: big endian
<item><strong>Microsoft UCS-2, UCS-4</strong>: little endian dla ix86 
(zależne od komputera)
</list>
Więcej możesz dowiedzieć się we
<url id="&intro-i18n;" name="Wprowadzeniu do i18n">.
  	

<sect1 id="activate-locales">Aktywacja wsparcia locale
<p>
&debian; <strong>nie</strong> jest instalowany z wszystkimi możliwymi
prekompilowanymi wersjami locales . Sprawdź plik <file>/usr/lib/locale</file>,
aby zobaczyć, które locale (poza domyślnym „C”), są obecne w Twoim systemie.
Jeśli potrzebujesz takiego, który nie jest dostępny masz dwie możliwości:
<list compact>
<item>Dodaj pożądane locale do pliku <file>/etc/locale.gen</file>, następnie
uruchom <prgn>locale-gen</prgn> jako root aby je skompilować. Przeczytaj
<manref name="locale-gen" section="8"> i strony wymienione w jego części
„SEE ALSO”.
<item>Uruchom <tt>dpkg-reconfigure locales</tt>, aby ponownie skonfigurować
pakiet <package>locales</package>. A jeśli nie jest jeszcze zainstalowany,
to instalacja wywoła interfejs programu debconf, aby pozwolić Ci wybrać
potrzebne locale i skompilować bazę danych.

<!--  XXX FIXME XXX
 <item>Run <prgn>localedef</prgn> manually from user account to compile
   the locale database and use it by setting
   <tt>LOC_PATH</tt>
   environment variable.  For example for <tt>en_GB.UTF-8</tt>:
   <example>
$ localedef -v -c -i en_GB -f UTF-8 <var>somewhere/</var>en_GB.UTF-8
$ export LOC_PATH=<var>somewhere/</var>
   </example>
 -->
</list>

<sect1 id="env-locale">Uaktywnienie określonego locale.
<p>
Następujące zmienne środowiskowe są używane, aby dostarczyć ustawień
locale dla programów:
<enumlist>
<item>LANGUAGE: Ta zmienna składa się z oddzielonej dwukropkami listy locale
w porządku ważności. Używaj wyłącznie, jeśli POSIX locale jest ustawione do
wartości innej niż „C” [w Woodym; wersja Potato jest zawsze ważniejsza od
POSIX locale]. (rozszerzenie GNU)
<item>LC_ALL: Jeśli nie przyjmuje wartości NULL, wartość ta jest użyta dla
      categories. (POSIX.1) Zwykle „” (null).
<item>LC_*: Jeśli nie przyjmuje wartości NULL, wartość ta jest użyta dla
odpowiedniej kategorii (POSIX.1). Zwykle „C”.
<p>
Dostępne zmienne LC_*:
 <list compact>
<item>LC_CTYPE: Konwersja czcionki i wielkości liter.
<item>LC_COLLATE: Porządek sortowania.
<item>LC_TIME: Format wyświetlania daty i godziny.
<item>LC_NUMERIC: Wyświetlanie liczb nie związanych z walutą
<item>LC_MONETARY: Formaty walutowe.
<item>LC_MESSAGES: Format wiadomości informacyjnych, diagnostycznych oraz
określających interakcje programu.
<item>LC_PAPER: Rozmiar papieru.
<item>LC_NAME: Format nazw.
<item>LC_ADDRESS: Format wyświetlania adresu i lokalizacji.
<item>LC_TELEPHONE: Format wyświetlania numeru telefonu.
<item>LC_MEASUREMENT: Jednostki miary (metryczna lub inna)
<item>LC_IDENTIFICATION: Metadata o ustawieniach locale.
 </list>
<item>LANG: Jeśli nie przyjmuje wartości NULL i LC_ALL jest niezdefiniowane,
wartość wszystkich niezdefiniowanych kategorii LC_* jest ustawiana na tą
wartość. (POSIX.1) Zwykle „C”.

</enumlist>
Zauważ, że niektóre programy (np. Netscape 4) ignorują ustawienia LC_*.
<p>
Program <prgn>locale</prgn> może wyświetlać ustawienia locale i dostępne
locale; przeczytaj <manref name="locale" section="1">. (Zapamiętaj: <tt>locale
-a</tt> podaje wszystkie locale, o których istnieniu wie; <em>nie</em>
oznacza to, że wszystkie są dostępne! Zobacz <ref id="activate-locales">.)

<sect1 id="ISO-locale">Format daty ISO 8601
<p>
Locale obsługuje międzynarodowy standard formatu daty
<tt>yyyy-mm-dd</tt> (ISO 8601) poprzez locale <tt>en_DK</tt>, &mdash;
Angielski w Danii, co jest żartem :-)
Wydaje się działać jedynie w trybie tekstowym w <prgn>ls</prgn>.

<!-- beyond locale moved to below -->

<sect1 id="iso-8859-1">Przykład dla US (ISO-8859-2)
<p>
Dodaj poniższe linie do pliku <file>~/.bash_profile</file>:
<example>
LC_CTYPE=en_US.ISO-8859-1
export LC_CTYPE
</example>

<sect1 id="france">Przykład dla Francji, z walutą Euro (ISO-8859-15)
<p>
Dodaj poniższe linie do pliku <file>~/.bash_profile</file>:
<example>
LANG=fr_FR@euro
export LANG
LC_CTYPE=fr_FR@euro
export LC_CTYPE
</example>
<p>
Skonfiguruj klawiaturę jako francuskie „AZERTY”, jak to opisano w <ref
id="keyboard"> i dodaj francuskie strony podręcznika systemowego
instalując <package>manpages-fr</package>. Prawy Alt w US to
Alt-Gr w Europie. Naciśnięcie tych klawiszy razem z innymi
tworzy liczne znaki diakrytyczne oraz znaki specjalne. Np Alt-Gr+E 
odpowiada za znak Euro.
<p>
Większość języków zachodnio-europejskich może być skonfigurowana
podobnie.
<p>
Zobacz <url id="&debian-euro-support;" name="Debian Euro HOWTO">, jak
dodać obsługę nowej waluty Euro oraz
<url id="&debian-fr-howto;" 
name="Utiliser et configurer Debian pour le français"> 
po więcej informacji w języku francuskim.

<sect1 id="x-cjk">Przykład wielojęzykowego systemu X window
<p>
Ustawmy wielojęzykowy system X window, który będzie jednocześnie obsługiwał
japoński, angielski, niemiecki i francuski z kodowaniami EUC, UTF-8 i 
ISO-8859-1 w różnych konsolach.
<p>
Pokażę sposób dostosowania z użyciem systemu menu Debiana. Szczegóły tego
systemu możesz znaleźć w <url id="&f-menu;">. W przykładzie stworzę również 
skrót do przeglądarki <prgn>mozilla</prgn>.
 <footnote>
W tym przykładzie zostały wykorzystane dwa obejścia błędów sytępujących
w menedżerze okien <prgn>blackbox</prgn> w roku 2003. Używam <tt>sh -c</tt> 
w poleceniu. Również wpis <file>~/.menu/*</file> jest nieużywany,
a w zamian wykorzystane zostało <file>/etc/menu/*</file>.
 </footnote>

<list>
<item>dodaj obsługę japońskiego ja_JP.eucJP oraz reszty potrzebnych locale 
metodą opisaną w <ref id="l10n"> (dla wszystkich).

<item>zainstaluj system konwersji oraz słownik Kana-to-Kanji (dla japońskiego):
  <list compact>
  <item><package>canna</package> &ndash; lokalny serwer (licencja „free
beer”), lub
  <item><package>freewnn-jserver</package> &ndash; sieciowy serwer
  (Public Domain)
  </list>

 <item>zainstaluj mechanizmy japońskiego wejścia (dla japońskiego):
  <list compact>
  <item><package>kinput2-canna</package>&ndash; dla X-ów, lub
  <item><package>kinput2-canna-wnn</package>&ndash; dla X-ów, i
  <item><package>egg</package>&ndash; działa bezpośrednio z Emacsem
  nawet w trybie tekstowym (opcjonalnie).
  </list>

 <item>terminale odpowiednio przystosowane (dla wszystkich):
  <list compact>
  <item><package>xterm</package> &ndash; X (dla ISO-8859-1 i UTF-8),
  <item><package>kterm</package> &ndash; X (dla japońskiego EUC) i
  <item><package>mlterm</package> &ndash; X (wielojęzykowy).
  </list>

 <item>dodaj wszystkie wymagane czcionki (dla wszystkich)
 
 <item>stwórz plik <file>~/.xsession</file> dla ustawień zależnych od
 użytkownika tak jak to opisano w <ref id="custom-x"> (dla wszystkich):

<example>
#!/bin/sh
# To sprawia, że X-y działają gdy przeloguję się na roota za pomocą su.
if [ -z "$XAUTHORITY" ]; then
        XAUTHORITY=$HOME/.Xauthority
        export XAUTHORITY
fi

# Ustawianie odpowiedniego środowiska przez system menu Debiana.
# Resetowanie locale
unset LC_CTYPE LC_NUMERIC LC_TIME LC_COLLATE LC_MONETARY LC_MESSAGES
unset LC_PAPER LC_NAME LC_ADDRESS LC_TELEPHONE LC_MEASUREMENT
unset LC_IDENTIFICATION LC_ALL LANG LANGUAGE PAGER
# ustawienie domyślnego locale w X
LANG=C
# eksportowanie locale
export LC_CTYPE LC_NUMERIC LC_TIME LC_COLLATE LC_MONETARY LC_MESSAGES
export LC_PAPER LC_NAME LC_ADDRESS LC_TELEPHONE LC_MEASUREMENT
export LC_IDENTIFICATION LC_ALL LANG LANGUAGE PAGER
###
# uaktywnianie japońskiej metody wejściowej z kinput2
kinput2 &
XMODIFIERS="@im=kinput2"
export XMODIFIERS
# A może blackbox window manager (leciutki)
exec /usr/bin/blackbox
#exec xfwm
#exec wmaker
</example>

<item>ustaw locale dla konsoli w <file>~/.bash_profile</file> (dla
wszystkich)
<item>jeśli istnieją to usuń ustawienia locale z <file>~/.bashrc</file>
(dla wszystkich)

<item>utwórz kilka plików w <file>/etc/menu/</file> (dla wszystkich).
 <list compact>
 <item><file>/etc/menu/xterm-local</file>: (dodaj nowe wpisy do menu)
 <footnote>
Użyj nazwy pliku, która nie konfliktuje z żadną nazwą pakiety.
 </footnote>
<example>
?package(xterm):\
 needs=x11\
 section=XShells\
 longtitle="XTerm: terminal emulator (en_US.ISO-8859-1)"\
 title="XTerm (en_US.ISO-8859-1)"\
 command="sh -c 'LC_ALL=en_US.ISO-8859-1 xterm'"
?package(xterm):\
 needs=x11\
 section=XShells\
 longtitle="XTerm: terminal emulator (de_DE.ISO-8859-1)"\
 title="XTerm (de_DE.ISO-8859-1)"\
 command="sh -c 'LC_ALL=de_DE.ISO-8859-1 xterm -T xterm-de'"
?package(xterm):\
 needs=x11\
 section=XShells\
 longtitle="XTerm: terminal emulator for X with Unicode support (Japanese)"\
 title="UXTerm (ja_JP.UTF-8)"\
 command="sh -c 'LC_ALL=ja_JP.UTF-8 uxterm'"
</example>
 <item><file>/etc/menu/kterm</file>: (nadpisanie domyślnych ustawień)
 <footnote>
Użyj nazwy pliku konfliktującej z nazwą pakietu.
 </footnote>
<example>
?package(kterm):\
 needs="x11"\
 section="XShells"\
 command="sh -c 'LC_ALL=ja_JP.eucJP PAGER=w3m /usr/X11R6/bin/kterm -xim'" \
 title="Kanji Terminal"
?package(kterm):\
 needs="x11"\
 section="XShells"\
 command="sh -c 'LANG=ja_JP.eucJP \
      LC_MESSAGES=en_US.ISO-8859-1 PAGER=w3m /usr/X11R6/bin/kterm -xim'" \
      title="Kanji Terminal (bilingal)"
</example>
 <item><file>/etc/menu/mozilla-local</file>: (dodaj nowy skrót)
 <footnote>
Ukośnik w <tt>section="/"</tt> uaktywnia wpis w menu głównym, a początkowa
spacja w <tt>title=" Mozilla Navigator"</tt> sprawia, że wpis znajduje się
na górze listy.
 </footnote>
<example>
?package(mozilla-browser):needs="x11" section="/" \
 title=" Mozilla Navigator" command="mozilla-1.5" hints="Web browsers" \
  icon=/usr/share/pixmaps/mozilla.xpm
</example>
 <item>uruchom <prgn>update-menus</prgn> z konta administratora.
 </list>
 <item>dodaj następujące linie do <file>~/.muttrc</file> (dla japońskiego):

<example>
# Obsługa UTF-8 nie jest popularna w powszechnym japońskim środowisku EMACS
# 7 bitowe kodowanie iso-2002-jp jest prostsze dla wszystkich.
# domyślna kolejność kodowań = us-ascii --&gt; iso-8859-1 --&gt; iso-2022-jp
set send_charset="us-ascii:iso-8859-1:iso-2022-jp"
set allow_8bit=no
</example>
 <item>uaktywnij XIM <prgn>kinput2</prgn> dla aplikacji w X-ach (dla japońskiego) 
  <list compact>
  <item>dodaj <tt>*inputMethod: kinput2</tt> i 
  <tt>KTerm*VT100*OpenIm: true</tt> do Twojego pliku <file>~/.Xresources</file>
  (wygląda na to, że Debian załatwia to jakoś automatycznie).

  <item>Niektóre programy, jak np. <prgn>mlterm</prgn> pozwalają także na
  ustawianie <tt>*inputMethod:</tt> i innych informacji dynamicznie,
  podczas działania (naciśnij <strong>Ctrl-MouseButton-3</strong> w <prgn>mlterm</prgn>).
  </list>
 <item>uruchom X poprzez <tt>startx</tt> lub menedżer wyświetlania
  (<prgn>xdm</prgn>, <prgn>gdm</prgn>, <prgn>kdm</prgn>, 
   <prgn>wdm</prgn>, ...) (dla wszystkich).
 <item>uruchom program kompatybilne z językiem japońskim takie, jak
  VIM6, (x)emacs21, mc-4.5, mutt-1.4, ... w <prgn>kterm</prgn> (dla
  japońskiego).
  (Emacs wydaje się najpopularniejszy, aczkolwiek osobiście go nie
  używam).
 <item>naciśnij <strong>Shift+Space</strong> aby włączyć/wyłączyć japoński
 tryb wejścia (dla japońskiego).
 <item>przeczytaj przetłumaczone strony podręcznika systemowego
 wprowadzając polecenie w zlokalizowanej konsoli (dla wszystkich).
</list>
Obsługa innych języków CJK opisana jest w następnych rozdziałach oraz pod
adresem <url id="&suse-cjk;" name="SuSE pages for CJK">.

<sect1 id="x-input">Alternatywne metody wejścia X
<!-- I need feed back from Chinese and Korean people for here -->
<p>
Jest wiele innych pakietów oferujących alternatywne metody wejścia dla X:
<example>
Język      LC_CTYPE     XIM serwer XMODIFIERS              klawisz startowy
japoński   ja_JP*       kinput2    "@im=kinput2"           Shift-Space
koreański  ko_KR*       ami        "@im=Ami"               Shift-Space
chiński(T) zh_TW.Big5   xcin       "@im=xcin-zh_TW.big5"   Ctrl-Space
chiński(S) zh_CN.GB2312 xcin       "@im=xcin-zh_CN.GB2312" Ctrl-Space
</example>
<p>
Japońska metoda wejściowa <prgn>kinput2</prgn> jest dostarczana przez
pakiety <package>kinput2-canna-wnn</package>, <package>kinput2-canna</package>
i <package>kinput2-wnn</package>. By były użyteczne wymagają serwerów
słownikowych takich jak <package>canna</package> oraz 
<package>freewnn-jserver</package>.

<!--
<p>
Korean and Chinese may also use dictionary server such as
<package>freewnn-kserver</package> and
<package>freewnn-cserver</package> too.
-->

<sect1 id="x-term">Emulatory terminali X
<p>
Jest wiele konsoli X wspierających zwykłe kodowanie 8-bitowe jeśli
odpowiednie pakiety z czcionkami są zainstalowane.
<list compact>
  <item><package>xterm</package> &ndash; The X terminal emulator
  <item><package>gnome-terminal</package> &ndash; <package>xterm</package>
   dla Gnome
  <item><package>konsole</package> &ndash; <package>xterm</package>
   dla KDE
  <item><package>rxvt</package> &ndash; VT102 terminal (lżejszy)
  <item><package>aterm</package> &ndash; VT102 dla Afterstep WM
  <item><package>eterm</package> &ndash; VT102 dla Enlightment WM
  <item><package>wterm</package> &ndash; VT102 dla WindowMaker WM
</list>
<p>
Wielobajtowe kodowania dla konsol X wspiera
<package>xterm</package> poprzez kodowanie UTF-8 (<ref id="x-utf-8">).
Nad wsparciem dla innych tradycyjnych kodowań trwają prace (2003).
Następujące pakiety oferują wsparcie dla tradycyjnych kodowań:
<list compact>
  <item><package>aterm-ml</package> &ndash; wielojęzykowy
  <item><package>kterm</package> &ndash; wielojęzykowy (japoński, ...)
  <item><package>rxvt-ml</package> &ndash; wielojęzykowy
  <item><package>wterm-ml</package> &ndash; wielojęzykowy
  <item><package>cxterm-big5</package> &ndash; chiński (Trad., Big5)
  <item><package>cxterm-gb</package> &ndash; chiński (Simp., GB)
  <item><package>cxterm-ks</package> &ndash; chiński (KS)
  <item><package>cxterm-jis</package> &ndash; japoński
  <item><package>hanterm-classic</package> &ndash; koreański (Hangul)
  <item><package>hanterm-xf</package> &ndash; koreański (Hangul)
  <item><package>hztty</package> &ndash; chiński (GB, Big5, zW/HZ)
</list>
Dla <prgn>kterm</prgn> (i prawdopodobnie innych), możesz uaktywnić 
XIM poprzez menu klikając środkowy klawisz myszy.

<sect1 id="x-utf-8">Obsługa UTF-8 w emulatorach terminali X
<p>
Dla XFree86 4.x obsługa UTF-8 w emulatorze terminala X dostarczana jest
przez program <prgn>uxterm</prgn> z pakietu <package>xterm</package>. 
Uaktywnia wsparcie dla wszystkich języków. Jest on swego rodzaju nakładką
nad <manref name="xterm" section="1">, która wywołuje go z odpowiednio
ustawionym zasobem X "UXTerm".
<p>
Przykładowo by uaktywnić wyświetlanie ładnych, dużych znaków angielskich,
rosyjskich, japońskich, chińskich oraz koreańskich, po zainstalowaniu
odpowiednich czcionek dodaj do swojego <file>~/.Xresources</file> 
następujące linie:
<example>
! set large font
UXTerm*font: -misc-fixed-medium-r-normal-*-18-120-100-100-c-90-iso10646-1
! Use XIM for Japanese
*inputMethod: kinput2
</example>
Następnie tak jak to opisano w <ref id="xresources">, uruchom 
<tt>xrdb -merge ~/.Xresources</tt> by uaktualnić swoje zasoby X.
<p>
Większość popularnych programów konsolowych takich jak 
<package>vim</package>, <package>mutt</package> i 
<package>emacs</package> zostały ostatnio dostosowane do kodowania UTF-8 
(Woody-Sarge). Jednakże program <package>mc</package> nadal nie jest zgodny
z UTF-8, a tylko czysty 8-bitowo. Jeśli edytujesz 7-bitową część ASCII
pliku o nieznanym lub mieszanym kodowaniu, to bezpieczniej jest używać
oprogramowania niewspierającego locale.
<p>
Zobacz <url id="&unicode-howto;" name="The Unicode HOWTO">.

<sect1 id="fb-utf-8">Przykład UTF-8 w terminalu framebuffer
<p>
Wsparcie UTF-8 na terminalu FB jest zapewnione przez <package>bterm</package>
używany w <package>debian-installer</package>.

<sect1 id="beyond-locale">Poza locales
<p>
Kiedy po raz pierwszy starasz się skonfigurować <strong>narodowe
środowisko językowe</strong> zastanów się nad użyciem <prgn>tasksel</prgn>
lub <prgn>aptitude</prgn>, aby dowiedzieć się jakie pakiety są
instalowane, wybierając odpowiadające im funkcje lokalizacyjne.
Wybór pakietów jest przydatny nawet w systemie wielojęzycznym. Jeśli
napotkasz konflikty podczas instalacji z Twoim ostrożnie skonfigurowanym
systemem, unikaj instalowania pakietu powodującego konflikt. Możliwe, że
będziesz musiał użyć <prgn>update-alternative</prgn> aby przywrócić
oryginalny stan dla niektórych poleceń, gdyż instalowane mogły mieć
wyższy priorytet od istniejących.
<p>
Ważne nowe programy używają glibc 2.2 i przeważnie są
umiędzynarodowione. Więc specjalnie zlokalizowane wersje, jak
<prgn>jvim</prgn> dla VIM, mogą nie być potrzebne, gdyż wymagana
funkcjonalność jest oferowana przez wersję 6.0 <prgn>vima</prgn> w X-ach.
Chociaż z tym różnie bywa. Np. <prgn>jvim</prgn> posiada wersję
skompilowaną z bezpośrednim wsparciem dla japońskiej metody wejściowej
(<prgn>canna</prgn>) nawet w terminalu tekstowym i lepiej rozwiązuje
niektóre problemy specyficzne dla japońskiego, więc wciąż możesz na 
niego reflektować :-)
<p>
Programy mogą potrzebować konfiguracji wykraczającej poza
<tt>locale</tt> aby zapewnić komfortowe środowisko pracy. Pakiet
<package>language-env</package> i jego polecenie
<prgn>set-language-env</prgn> w istotny sposób ułatwiają ten proces.
<p>
Zobacz także dokument o internacjonalizacji, <url id="&intro-i18n;" 
name="Introduction to i18n">. Przeznaczony jest głównie dla programistów,
ale przydatny może być również dla administratorów.
</sect1>

</sect>
</chapt>

