<!-- CVS revision of this document "# Revision is not used here.#"  -->
<!-- CVS revision of original english document "1.37"  -->
<chapt id="woody">Uaktualnianie dystrybucji do wersji <tt>testowej</tt>

<![%f-ref;[
<p>
Oficjalne informacje o wydaniach uaktualnień są umieszczone na
stronie <url id="&stable-release;">
oraz
<url id="&testing-release;"> (w przygotowaniu).

<p>
Aktualizacja systemu do wersji <tt>testowej/niestabilnej</tt> przebiega według
następującego schematu:
<list>
  <item>aktualizacja systemu APT do wersji Woody, jeśli twój system
  to Potato, ponieważ stara wersja APT nie posiada cech opisanych
  w <manref name="apt_preferences" section="5"> w Woodym.
  <item>zmiana pliku <file>/etc/apt/sources.list</file> i
  <file>/etc/apt/preferences</file>, by odnosiły się do repozytoriów
  „testing”. Możesz też dodać, jeśli tylko chcesz, odniesienia do „unstable”.
  <item> aktualizacja listy pakietów oraz instalacja dowolnego, dającego
  się zaktualizować pakietu.
</list>
]]>

<sect id="woody-transition">Przejście do APT z Woodiego
<p>
Aktualizacja sieciowa systemu APT i kilka pakietów podstawowych do wersji
Woody, jeśli nadal używasz Potato, może być wykonana jak poniżej, po dodaniu
źródła wersji <tt>stabilnej</tt> do pliku <file>/etc/apt/sources.list</file>.
<example>
# apt-get update
# apt-get install libc6 perl libdb2 debconf
# apt-get install apt apt-utils dselect dpkg
</example>

<sect id="testing-transition">Przygotowanie do przejścia (z wersji <tt>stabilnej</tt> na
<tt>testową</tt>)
<p>Przejście na dystrybucję <tt>testową</tt> Debiana ma pewien skutek uboczny -
trzeba dłużej czekać na uaktualnienia bezpieczeństwa. Ostrzeżono Cię -
wybór należy do Ciebie.
<p>
Aktualizacja sieciowa do wersji <tt>testowej</tt> może przebiegać w następujący
sposób (uruchom skrypt <url id="&examples;" name="go-woody">, by wykonać
poniższe czynności jednym poleceniem):
<p>
Wyczyść istniejący plik <file>sources.list</file>:
<example>
# cd /etc/apt
# cp -f sources.list sources.old
# :&gt;sources.list
</example>
<p>
Pobierz czystą listę repozytoriów dla wersji <tt>stabilnej</tt>:
<example>
# cd /
# apt-setup noprobe
 ... wybierz repozytoria dostępne przez HTTP lub FTP
</example>
<p>
Dodaj sekcję wersji <tt>testowej</tt> do nowej listy.
Linie <tt>deb-src</tt> są zakomentowane.
<example>
# cd /etc/apt
# grep -e "^deb " sources.list  &gt;sources.deb
# grep -e "^deb-" sources.list  &gt;sources.src
# sed -e "s/stable/testing/"  sources.deb \
     &gt;&gt;sources.list
# sed -e "s/stable/testing/" sources.src | \
     sed -e "s/^deb-/#deb-/"  &gt;&gt;sources.list

# apt-get update
# apt-get install apt apt-utils
# cat &gt;preferences &lt;&lt;EOF
 Package: *
 Pin: release a=testing
 Pin-Priority: 600
 
 Package: *
 Pin: release a=unstable
 Pin-Priority: 50

 EOF
</example>
<p>
Ewentualnie możesz dodać odnośniki do archiwów wersji <tt>niestabilnej</tt>.
<example>
# sed -e "s/stable/unstable/" sources.deb \
     &gt;&gt;sources.list
# sed -e "s/stable/unstable/" sources.src | \
     sed -e "s/^deb-/#deb-/"  &gt;&gt;sources.list
</example>
<p>
Zobacz <ref id="apt-install">, gdzie opisana jest sztuka
dopieszczania plików <file>/etc/apt/sources.list</file>
i <file>/etc/apt/preferences</file>.
<p>
Możesz teraz uaktualnić pakiety, używając jednego ze sposobów opisanych poniżej.
</sect>

<sect id="upgrade-system">Aktualizacja systemu
<p>
Po prawidłowym ustawieniu plików <file>/etc/apt/sources.list</file>
i <file>/etc/apt/preferences</file>, system jest gotowy do przejścia
na wersję <tt>testową</tt>. Przeczytaj rozdział <ref id="package">,
by zapoznać się z podstawami, oraz <ref id="apt-trouble">, jeśli
będziesz miał problemy.

<sect1>Najlepiej do aktualizacji jest użyć programu <prgn>dselect</prgn>
<p>
Jeśli system posiada wiele pakietów mających w nazwach <tt>-dev</tt>, itp.,
poniższa metoda z użyciem <prgn>dselect</prgn> jest zalecana do właściwej
kontroli pakietów.
<example>
# dselect update # rób to zawsze przed aktualizacją
# dselect select # wybierz pakiety oznaczone „suggests” i „recommends”
</example>
Zaraz po uruchomieniu <prgn>dselect</prgn> wybierze aktualnie zainstalowane
pakiety. Może Cię zapytać o dodatkowe pakiety, których
nazwy weźmie z pól <tt>depends</tt>, <tt>suggests</tt> oraz <tt>recommends</tt>.
Jeśli nie chcesz dodawać żadnych pakietów, wciśnij <tt>Q</tt>, by opuścić
program <prgn>dselect</prgn>.
<example>
# dselect install
</example>
Będziesz jeszcze musiał odpowiedzieć na pytania stawiane przez konfiguratory
pakietów podczas tego procesu, więc przygotuj swoje notatki i poświęć tej
części trochę czasu. Zobacz też <ref id="dselect">.
<p>
Używaj <prgn>dselect</prgn>. <strong>To zawsze działa :).</strong>

<![%f-ref;[
<sect1>Niezalecany sposób aktualizacji przy użyciu <prgn>apt-get</prgn>
<p>
<strong>Użycie <prgn>apt-get</prgn>, które jest opisane poniżej, ma dużo
większe możliwości, ale <em>nie</em> jest zalecane do aktualizacji
systemu.</strong>
]]>

Jeśli musisz aktualizować bez użycia <prgn>dselect</prgn>, rozważ
skorzytanie z <prgn>aptitude</prgn> oraz z innych programów.

<![%f-ref;[
<p>
Jeśli w systemie znajduje się niewiele pakietów lub w archiwach Debiana
nie zaszło dużo zmian, poniższe polecenia mogą być wystarczające.
<example>
# apt-get update # rób to zawsze przed aktualizacją
... by uaktualnić system z zależnościami („depends”):
# apt-get upgrade
 ... by uaktualnić całą dystrybucję wraz z zależnościami:
# apt-get -u dist-upgrade
 ... lub by uaktualnić i zastosować dotychczasowe ustawienia dselect (nowe, lepsze):
# apt-get -u dselect-upgrade         # użyj ustawień dselect
</example>
<p>
Ponieważ ten sposób aktualizacji używa <prgn>apt-get</prgn>,
wybieranie pakietów <em>zalecanych</em> i <em>sugerowanych</em> jest
ograniczone.
Zobacz <ref id="depends">.
]]>

</sect>

</chapt>
