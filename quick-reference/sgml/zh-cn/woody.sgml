<!-- CVS revision of this document "# Revision is not used here.#"  -->
<!-- CVS revision of original english document "1.43"  -->

<chapt id="woody">发行版升级到 <tt>stable</tt>、<tt>testing</tt> 或 <tt>unstable</tt>

<![%f-ref;[
<p>
升级的官方发布通知位于
<url id="&stable-release;">
和
<url id="&testing-release;">(不断更新中)。

<p>
将系统升级到 <tt>stable</tt>、<tt>testing </tt> 或 <tt>unstable</tt> 需要几个步骤，而且必须按照下面的顺序：
 <list>
  <item>升级到 Woody (如果你的系统比 Woody 要旧)
  <item>升级到 <tt>stable</tt>
  <item>升级到 <tt>testing</tt>
  <item>升级到 <tt>unstable</tt>
 </list>

Debian 不支持省略中间发布的升级

 ]]>
<sect id="woody-transition">从 Potato 升级到 Woody
<p>
由于 Potato 版中的 APT 没有目前 <manref name="apt_preferences" section="5"> man 手册页所描述的所有功能，因此需要独立描述该过程。
<p>
在仅将 Woody 源放到 <file>/etc/apt/sources.list</file> 后，
通过下面的方法升级 APT 系统和所需要的核心包到 Woody：
<example>
# apt-get update
# apt-get install libc6 perl libdb2 debconf
# apt-get install apt apt-utils dselect dpkg
</example>
然后升级剩下的系统到 Woody。
<example>
# apt-get upgrade
# apt-get dist-upgrade
</example>


<sect id="testing-transition">准备升级工作
<p>
你可以用通过网络获取软件包的方式来将一个版本升级到另外的一个版本。
这可以通过如下的方法来做。
<p>
生成一个干净的 <tt>stable</tt> 版存储列表：
<p>
<example>
# cd /etc/apt
# cp -f sources.list sources.list.old 
# :&gt;sources.list  
# apt-setup noprobe 
</example>
如果你想升级到 <tt>testing</tt> ，你需要增加  <tt>testing</tt>  版的存储源到这个新的列表。
如果你想升级到 <tt>unstable</tt> ，你还需要增加 <tt>unstable</tt> 版的存储源。
<example>
# cd /etc/apt
# grep -e "^deb " sources.list &gt;srcs
# :&gt;sources.list
# cp -f srcs sources.list
# sed -e "s/stable/testing/" srcs &gt;&gt;sources.list
# sed -e "s/stable/unstable/" srcs &gt;&gt;sources.list 
# apt-get update
# apt-get install apt apt-utils
</example>

调整 <file>/etc/apt/sources.list</file> 和 <file>/etc/apt/preferences</file> 的艺术请参阅 <ref id="apt-install"> 。 
</sect>

<sect id="upgrade-system">升级
<p>
在按照描述的方法正确的设置 <file>/etc/apt/sources.list</file> 和 <file>/etc/apt/preferences</file> 文件后，你便可以开始升级了。
<p>
请注意，升级到 &debian; <tt>testing</tt> 版有一个负面影响，包含安全补丁的软件包更新将会非常缓慢。因为这些软件包首先会被上载到 <tt>unstable</tt>，稍后才会移植到 <tt>testing</tt>。
<p>
软件包的实质性信息请参见 <ref id="package">，如果你遇到问题，请查看 <ref id="apt-trouble">。 

<sect1>使用 <prgn>dselect</prgn>
<p>
如果系统在许多软件包都包含了 <tt>-dev</tt> 等软件包，推荐使用下面的 <prgn>dselect</prgn> 操作方法进行控制软件包的细化操作。
<example>
# dselect update  # 升级前请先完成这步
# dselect select  # 选择附加软件包
</example>
运行 <prgn>dselect</prgn> 时当前所有软件包均被选中，<prgn>dselect</prgn> 会提示你基于 <tt>Depends</tt>，<tt>Suggests</tt> 和 <tt>Recommends</tt> 的附加软件包，如果不想添加任何软件包，只需输入 <tt>Q</tt> 退出 <prgn>dselect</prgn>。
<example>
# dselect install
</example>
在安装过程中，必须回答一些有关软件包配置的问题，准备好你的笔记本花点时间处理它们。参阅 <ref id="dselect">。
<p>
使用 <prgn>dselect</prgn>。<strong>它能干得不赖 :)</strong>

<![%f-ref;[
<sect1>使用 <prgn>apt-get</prgn>
<p>
<example>
# apt-get update
# apt-get -t stable upgrade
# apt-get -t stable dist-upgrade
# apt-get -t testing upgrade
# apt-get -t testing dist-upgrade
# apt-get -t unstable upgrade
# apt-get -t unstable dist-upgrade
</example>
一旦你的系统到达 Sarge ，使用 <prgn>aptitude</prgn> 代替 <prgn>apt-get</prgn> 是明智的。(<prgn>aptitude</prgn> 接受 <prgn>apt-get</prgn> 所接受的许多选项，包括上面列出的那些选项。)
<p>
升级到目前 <prgn>dselect</prgn> 的设置：
<example>
# apt-get dselect-upgrade
</example>
<p>
参阅 <ref id="depends">。
]]>
</sect>


</chapt>

