<!-- CVS revision of original english document "1.29"  -->
<!--Line width ruler (ruler uses 78 characters) 34567890123456789012345-->

<chapt id="edit">Editores

<sect id="pop-editor">Editores populares
<p> Linux ofrece muchas alternativas en cuanto a editores de texto. Citemos
algunos:
<list compact>
<item><prgn>gim</prgn>: poderoso y pequeño editor patrimonio del BSD. Del
inglés, VI iMproved.
<item><prgn>emacs</prgn>: el editor definitivo patrimonio del GNU.  Original
de RMS (Richard M. Stallman).
<item><prgn>xemacs</prgn>: Emacs: La Próxima Generación, originaria de Lucid.
<item><prgn>mcedit</prgn>: editor GNU para principiantes. Idéntico al editor
interno del mc. Véase <ref id="mcedit">
<item><prgn>ae</prgn>: pequeño editor que trae por defecto Potato. Evítelo.
<item><prgn>nano</prgn>: pequeño editor GNU que trae por defecto Woody. Emula
a <prgn>pico</prgn>. 
<item><prgn>joe</prgn>: para los nostálgicos usuarios del WordStar o
TurboPascal.
<item><prgn>jed</prgn>: editor rápido, con múltiples funciones, basado en
menúes y con las combinaciones de teclas de emacs.
<item><prgn>jove</prgn>: editor muy pequeño con las combinaciones de teclas de
emacs.
<item><prgn>nvi</prgn>: el nuevo vi.  Totalmente compatible con el vi original.
</list>
<p>
Utilice el comando <tt>update-alternatives --config editor</tt> para cambiar
el editor por defecto. Asimismo, muchos programas utilizan las variables
de entorno <tt>EDITOR</tt> o
<tt>VISUAL</tt> para decidir qué editor utilizar.  Véase <ref id="mcedit">.
<p>
Vale la pena mencionar también algunos editores de texto basados en X:
<list compact>
<item><prgn>gvim</prgn>: Vim con GUI (paquetes <package>vim</package> y 
<package>vim-gtk</package>)
<item><prgn>emacs</prgn>:  el Único y Verdadero Emacs (autodetecta X). 
<item><prgn>xemacs</prgn>:  Emacs de la próxima generación (autodetecta X). 
</list>
Estos comandos aceptan las opciones estándar tales como 
<tt>-fn <var>a24</var></tt>, que facilitan la vida a gente grande como
yo :)  Véase <ref id="xclnt">.
</sect> 

<sect id="bin-editor">Editores de rescate
<p>
Existen unos pocos editores situados en <file>/bin/</file>. Debería
instalarse uno de ellos para facilitar la edición de archivos cuando
<file>/usr/</file> no se encuentre accesible.
<p>
<list compact>
<item><package>elvis-tiny</package>: editor vi mínimo (<prgn>vi</prgn>
para comenzar)
<item><package>nano-tiny</package>:  editor mínimo
(<prgn>nano-tiny</prgn> para comenzar)
<item><package>nano</package>:  editor mínimo (<prgn>nano</prgn> para comenzar) (Sarge)
<item><package>ed</package>:         editor mínimo (siempre allí pero
difícil de usar)
</list>
<p>
<sect>Emacs y Vim

<sect1>Comandos útiles en Vim
<p>
Lea el "archivo de ayuda principal de VIM" presionando &lt;F1&gt; mientras
ejecuta el programa.
<example>
&lt;F1&gt;           Ayuda
&lt;esc&gt;          Retorno al modo normal
V              Modo visual
i              Modo edición
:              Modo línea de comandos
:set tw=72     Establecer el ancho de texto en 72
&lt;F11&gt;          Modo edición (pegar)
:r! date -R    Inserta la fecha según la RFC-822
q<var>a</var>             Grabar lo que se escribe en el registro <var>a</var>
q              Detiene la grabación
@<var>a</var>             Ejecutar lo que se escribió en el registro <var>a</var>
:edit <var>loquesea.txt</var>  Edite otro archivo cargando <var>loquesea.txt</var>
:wnext         Grabar el archivo actual y editar el siguiente archivo
</example>

<tt>q</tt> y <tt>@</tt> pueden utilizarse para grabar y reproducir
macros sencillas.  Por ejemplo, para crear una macro que inserte
etiquetas HTML para cursiva alrededor de una palabra escriba
<tt>qii&lt;i&gt;^[ea&lt;/i&gt;^[q</tt> (donde <tt>^[</tt> es la tecla
ESC). Entonces, al escribir <tt>@i</tt> al inicio de una palabra se le
añadirán la etiquetas &lt;i&gt; y &lt;/i&gt;.
<p>
Véase también <ref id="vimgpg">.
</sect1>

<sect1>Comandos útiles en Emacs
<p>
<example>
&lt;F1&gt;                Ayuda
&lt;F10&gt;               Menú
C-u M-! date -R     Inserta la fecha RFC-822 
</example>
</sect1>

<sect1>Ejecutando el editor
<p>
<example>
Iniciar el editor:                  emacs nom_archivo   vim nom_archivo
Iniciar el modo compatible con vi:                      vim -C
Iniciar el modo no compatible con vi:                   vim -N
Iniciar con el compilador por defecto: emacs -q         vim -N -u NONE
</example>
</sect1>

<sect1 id="editkey">Resumen de los comandos del editor (Emacs, Vim)
<p>
<example>
Salir:                              C-x C-c             :qa /:wq /:xa /:q!
Volver al modo comando:             C-g                 &lt;esc&gt;
Retroceder (flecha izquierda):      C-b                 h
Avanzar (flecha derecha):           C-f                 l
Siguiente (flecha hacia abajo):     C-n                 j
Anterior (flecha hacia arriba):     C-p                 k
Comienzo de línea (^):              C-a                 0
Final de línea ($):                 C-e                 $
Comandos múltiples:                 C-u nnn cmd         :nnn cmd
Comandos múltiples:                 M-número cmd
Guardar archivo:                    C-x C-s             :w archivo
Comienzo del búfer:                 M-&lt;              1G
Final del búfer:                    M-&gt;              G
Avanzar 1 pantalla:                 C-v                 ^F
Avanzar 1/2 pantalla:                                   ^D
Avanzar una 1 línea:                                    ^E
Retroceder 1 pantalla:              M-v                 ^B
Retroceder 1/2 pantalla:                                ^U
Retroceder 1 línea:                                     ^Y
Ir a la otra ventana:               M-C-v
Borrar bajo el cursor:              C-d                 x
Borrar desde el cursor al final de la línea: 
                                    C-k                 D
Búsqueda incremental hacia adelante: C-s
Búsqueda incremental hacia atrás:    C-r
Buscar hacia adelante:              C-s enter           /
Buscar hacia atrás:                 C-r enter           ?
Búsqueda incremental exp. reg:      M-C-s
Búsqueda incremental hacia atrás exp. reg: M-C-r
Buscar expresión regular:           M-C-s enter         /
Búsqueda hacia atrás exp. reg:      M-C-r enter         ?    
Ayuda:                              C-h C-h             :help
Ayuda Apropos:                      C-h a
Ayuda combinaciones de teclas       C-h b               :help [tecla]
Ayuda Info:                         C-h i
Ayuda modo mayor:                   C-h m
Ayuda tutorial:                     C-h t               :help howto
Deshacer:                           C-                  u
Rehacer:                            C-f                 ^R
Marcar posición del cursor:         C-@                 m{a-zA-Z}
Intercambiar marca y posición:      C-x C-x
Ir a la marca del archivo actual:                       '{a-z}
Ir a la marca en cualquier archivo:                     '{A-Z}
Copiar región:                      M-w                 {visual}y
Borrar región:                      C-w                 {visual}d
Copiar y conservar en el búfer:     C-y                 <![%FIXME;[p y ? XXX FIXME]]>
Pegar desde el siguiente búfer:     M-y                 p
Convertir una región en mayúsculas: C-x C-u             {visual}U
Convertir una región en minúsculas: C-x C-l             {visual}u
Insertar un carácter especial:      C-q numoctal/tecla  ^V decimal/tecla
Reemplazar:                         M-x replace-string  :&percnt;s/aaa/bbb/g
Reemplazar expreg:                  M-x replace-regexp  :&percnt;s/aaa/bbb/g
Buscar y reemplazar:                M-&percnt;                 :&percnt;s/aaa/bbb/gc
Buscar y reemplazar:                M-x query-replace
Buscar y reemplazar exp. reg:       M-x query-replace-regexp
Abrir archivo:                      C-x C-f             :r archivo
Guardar archivo:                    C-x C-s             :w
Guardar todos los búferes:          C-x s               :wa
Guardar como:                       C-x C-w archivo     :w archivo
Pedir un búfer:                     C-x b
Listar búferes:                     C-x C-b             :buffers
Cambiar a sólo lectura:             C-x C-q             :set ro
Pedir y eliminar búfer:             C-x k
División vertical:                  C-x 2               :split
División horizontal:                C-x 3               :vsplit (ver. 6)
Moverse a otra ventana:             C-x o               ^Wp
Eliminar esta ventana:              C-x 0               :q
Eliminar otra(s) ventana(s):        C-x 1               ^Wo
Ejecutar shell en bg:               M-x compile
Matar shell en bg:                  M-x kill-compilation 
Ejecutar make:                                          :make Makefile
Analizar mensaje de error:          C-x`                :echo errmsg
Ejecutar shell y grabar:            M-x shell           :!script -a tmp
...clean BS, ...                                   :!col -b &lt;tmp &gt;record
...guardar/recordar grab. del shell: C-x C-w record     :r record
Ejecutar shell:                     M-! sh              :sh
Ejecutar comando:                   M-! cmd             :!cmd
Ejecutar comando e insertar:        C-u M-! cmd         :r!cmd
Ejecutar filtro:                    M-| archivo         {visual}:w archivo
Ejecutar filtro e insertar:         C-u M-| filter      {visual}:!filter
Mostrar opción                                          :se[t] {option}?
Volver opción a valor predeterminado                    :se[t] {option}&
Resetea opción booleana                                 :se[t] no{option}
Conmutar una opción booleana                            :se[t] inv{option}
Ajustar el texto en 72 columnas                         :se tw=72
No ajustar texto                                        :se tw=0
Sangrado automático                                     :se ai
Expandir tabulación                                     :se et
Especificar comentario (correo)                    :se comments=n:&gt;,n:\|

Ejecutar GDB                        M-x gdb                        
Describe el modo GDB                C-h m                          
Saltar una línea                    M-s
Siguiente línea                     M-n
Saltar una instrucción (stepi)      M-i                            
Finalizar el marco de la pila actual C-c C-f                        
Continuar                           M-c                            
up arg frames                       M-u                            
down arg frames                     M-d                            
Copiar número a partir del punto, insertar al final   
                                    C-x &                          
Colocar un punto de ruptura         C-x SPC                        
</example>
</sect1>

<sect1>Configuración de Vim
<p>
Para utilizar todas las características de Vim y el resaltado de sintáxis
incluya las siguientes líneas en el <file>~/.vimrc</file> o
<file>/etc/vimrc</file>:
<example>
set nocompatible
set nopaste
set pastetoggle=&lt;f11&gt;
syn on
</example>
El modo 'paste' permite evitar que el sangrado automático interfiera con las
operaciones pegar/cortar en una terminal o consola. Es mejor que escribir
simplemente ":set noai".
<p>
Véase <ref id="vimgpg"> para integración con GnuPG.
</sect1>

<sect1>Ctags
<p>
<tt>apt-get install exuberant-ctags</tt> y ejecute <prgn>ctags</prgn> sobre los archivos
fuente. En vim escriba <tt>:tag <var>nombre_función</var></tt> para ir a la
línea donde comienza <var>nombre_función</var>.  Las marcas funcionan para C,
C++, Java, Python y muchos otros lenguajes de programación. 
<p>
Emacs utiliza las mismas ctags.

</sect1>

<sect1>Convertir un porción de texto seleccionado en código HTML
<p>
<tt>so \$VIMRUNTIME/syntax/2html.vim</tt> desde el modo comando de Vim
convertirá el texto seleccionado en código HTML.  Guárdelo como
<tt>:w archivo.html</tt> y luego escriba
<tt>:q</tt>.  Útil cuando se programa en C, etc.
</sect1>

<sect1>Dividir la pantalla con <prgn>vim</prgn> puede editar múltiples
archivos en un entorno de múltiples ventanas.  Escriba ":help usr_08.txt" para
más detalles.
<p>
Para dividir la pantalla para mostrar diferentes archivos, escriba en
la línea de comandos de vi:
<example>
:split otro-archivo
:vsplit otro-archivo
</example>
o en la línea de comandos del shell:
<example>
$ vi -o archivo1.txt archivo.txt    # División horizontal
$ vi -O archivo1.txt archivo2.txt   # División vertical
</example>
en ambos casos se podrá trabajar con múltiples ventanas.
<example>
$ vimdiff archivo.txt~ archivo.txt
$ gvimdiff archivo.txt~ archivo.txt # en X
</example>
proporcionan una vista muy cómoda para comparar un archivo con su copia
de respaldo. En SGML analiza las etiquetas y por lo tanto resulta muy
útil cuando se trata de comparar traduciones.
<p>
Movimientos del cursor especiales con los comandos Ctrl-W:
<example>
Ctrl-W +      incrementar el tamaño de una ventana
Ctrl-W -      disminuir el tamaño de una ventana
Ctrl-W h      ir a la ventana izquierda
Ctrl-W j      ir a la ventana inferior
Ctrl-W k      ir a la ventana superior
Ctrl-W l      ir a la ventana derecha
...
</example>
Los siguientes comandos permiten controlar el desplazamiento de la
pantalla:
<example>
:set scrollbind
:set noscrollbind
</example>
</sect1>

</sect>

</chapt>
