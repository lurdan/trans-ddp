<!-- CVS revision of this document "# Revision is not used here.#"  -->
<!-- CVS revision of original english document "1.43"  -->
<!-- Last complete proofreading (and comparing with the original english
     file) was done for rev. 1.32 (en). -->
<chapt id="woody">Aktualisieren einer Distribution auf <tt>stable</tt>,
                  <tt>testing</tt> oder <tt>unstable</tt>

<![%f-ref;[
<p>
Offizielle Hinweise für die Aktualisierung finden sich unter 
<url id="&stable-release;">
und
<url id="&testing-release;"> (befindet sich in Arbeit).

<p>
Eine Systemaktualisierung auf die <tt>stable</tt>-, <tt>testing</tt>-
oder <tt>unstable</tt>-Distribution kann verschiedene Schritte in der
angegebenen Reihenfolge erfordern:

<list>
 <item>Aktualisierung auf Woody (wenn das System älter als Woody ist)
 <item>Aktualisierung auf <tt>stable</tt>
 <item>Aktualisierung auf <tt>testing</tt>
 <item>Aktualisierung auf <tt>unstable</tt>
</list> 

Debian unterstützt keine Aktualisierungen, die einzelne Veröffentlichungen
übergehen.

]]>


<sect id="woody-transition">Aktualisierung von Potato auf Woody
<p>
Dies wird separat beschrieben, da Potato's APT nicht über alle in der
aktuellen <manref name="apt_preferences" section="5">-Handbuchseite
beschriebenen Fähigkeiten verfügt.
<p>
Nach dem Einbinden von Woody-Verweisen (und keinen anderen) zu
<file>/etc/apt/sources.list</file> werden APT und benötigte Kernpakete auf
Woody-Versionen wie folgt aktualisiert: 
<example>
# apt-get update
# apt-get install libc6 perl libdb2 debconf
# apt-get install apt apt-utils dselect dpkg
</example>
Danach wird der Rest des Systems auf Woody aktualisiert:
<example>
# apt-get upgrade
# apt-get dist-upgrade
</example>


<sect id="testing-transition">Vorbereitung einer Aktualisierung
<p>
Die Aktualisierung einer Distribution auf eine andere kann durch
Herunterladen der Pakete aus dem Netzwerk wie folgt durchgeführt werden.
<p>
Erzeugen einer sauberen Liste von Paket-Depots für <tt>stable</tt>:
<example>
# cd /etc/apt
# cp -f sources.list sources.list.old
# :&gt;sources.list
# apt-setup noprobe 
</example>
Soll auf <tt>testing</tt> aktualisiert werden, so sind
<tt>testing</tt>-Quellen zu dieser neuen Liste hinzuzufügen.
Soll auf <tt>unstable</tt> aktualisiert werden, so sind auch
<tt>unstable</tt>-Quellen hinzuzufügen.
<example>
# cd /etc/apt
# grep -e "^deb " sources.list &gt;srcs
# :&gt;sources.list  
# cp -f srcs sources.list
# sed -e "s/stable/testing/" srcs &gt;&gt;sources.list
# sed -e "s/stable/unstable/" srcs &gt;&gt;sources.list
# apt-get update
# apt-get install apt apt-utils
</example>

Vergleiche <ref id="apt-install"> für die Kunst des Tunings von
<file>/etc/apt/sources.list</file> und <file>/etc/apt/preferences</file>.
</sect>

<sect id="upgrade-system">Aktualisierung
<p>
Nach den korrekten Anpassungen von <file>/etc/apt/sources.list</file> und 
<file>/etc/apt/preferences</file>, wie oben beschrieben, kann mit der
Aktualisierung begonnen werden.
<p>
Das Verwenden der <tt>testing</tt>-Distribution von &debian; kann den
Nebeneffekt haben, dass Sicherheitsupdates nur langsam eingespielt werden,
da solche Pakete nach <tt>unstable</tt> hochgeladen werden und erst später
nach <tt>testing</tt> gelangen.
<p>
Man vergleiche mit
<ref id="package"> für die Grundlagen und sollten dabei Fehler auftreten
mit <ref id="apt-trouble">.

<sect1>Verwendung von <prgn>dselect</prgn>
<p>
Wenn ein System zahlreiche Pakete enthält, die <tt>-dev</tt>-Pakete, etc.
nutzen, wird die im Folgenden beschriebene Vorgehensweise mittels
<prgn>dselect</prgn> empfohlen, da hier eine feinere Kontrolle der Pakete
möglich ist.
<example>
# dselect update # muss vor jeder Aktualisierung ausgeführt werden
# dselect select # Auswahl zusätzlicher Pakete
</example>
All Ihre aktuellen Pakete werden ausgewählt, wenn <prgn>dselect</prgn>
startet. <prgn>dselect</prgn> verlangt dabei eventuell nach zusätzlichen
Paketen, basierend auf <tt>Abhängigkeiten</tt>, <tt>Vorschlägen</tt> und
<tt>Empfehlungen</tt>. Möchten Sie keine Pakete hinzufügen, drücken Sie
einfach <tt>Q</tt>, um <prgn>dselect</prgn> erneut zu beenden.
<example>
# dselect install
</example>
Sie werden einige Paket-Konfigurationsfragen während dieses Teils des
Prozesses beantworten müssen, halten Sie also Ihre Notizen bereit und planen
Sie genug Zeit dafür ein. Vergleiche <ref id="dselect">.
<p>
Nutzen Sie <prgn>dselect</prgn>. <strong>Dies funktioniert immer :)</strong>

<![%f-ref;[
<sect1>Verwendung von <prgn>apt-get</prgn>
<p>
<example>
# apt-get update
# apt-get -t stable upgrade
# apt-get -t stable dist-upgrade
# apt-get -t testing upgrade
# apt-get -t testing dist-upgrade
# apt-get -t unstable upgrade
# apt-get -t unstable dist-upgrade
</example>
Wenn erst einmal Sarge läuft, ist es ratsam
<prgn>aptitude</prgn> statt <prgn>apt-get</prgn> zu verwenden.
(<prgn>aptitude</prgn> akzeptiert viele der Optionen von
<prgn>apt-get</prgn>, inklusive der obigen.)
<p>
Zum Aktualisieren unter Beibehaltung der aktuellen
<prgn>dselect</prgn>-Einstellungen:
<example>
# apt-get dselect-upgrade
</example>
<p>
Man vergleiche <ref id="depends">.
]]>
</sect>


</chapt>
