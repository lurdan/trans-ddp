<?xml version="1.0" encoding="UTF-8"?>

<!-- -*- DocBook -*- -->
<!DOCTYPE book PUBLIC "-//OASIS//DTD DocBook XML V4.2//EN"
    "/usr/share/sgml/docbook/dtd/xml/4.2/docbookx.dtd" [
 <!ENTITY % sgml.features "IGNORE">
 <!ENTITY % xml.features  "INCLUDE">
 <!ENTITY % dbcent PUBLIC
      "-//OASIS//ENTITIES DocBook Character Entities V4.2//EN"
      "/usr/share/sgml/docbook/dtd/xml/4.2/dbcentx.mod"> %dbcent;
 <!ENTITY % commondata     SYSTEM "common.ent"      > %commondata;
 <!ENTITY % popcon         SYSTEM "popcon.ent"      > %popcon;
 <!ENTITY % datadate1      SYSTEM "datadatepop.ent" > %datadate1;
 <!ENTITY % pkgsize        SYSTEM "pkgsize.ent"     > %pkgsize;
 <!ENTITY % datadate2      SYSTEM "datadatesize.ent"> %datadate2;
 <!ENTITY % urlsdata       SYSTEM "urls.ent"        > %urlsdata;
]>
<book lang="ja">
  <bookinfo>
    <title>Debianリファレンス</title>
    <author> <firstname>修</firstname> <surname>青木</surname> </author>
<authorinitials>OA</authorinitials>
    <abstract>
      <para>This book is free; you may redistribute it and/or modify it under the terms
of the GNU General Public License of any version compliant to the Debian
Free Software Guidelines (DFSG). (日本語による参考説明:本書はフリーです；
Debianフリーソフトウェアガイドライン(DFSG)に適合するいかなるバージョンのGNU General Public
Licenseの条件の下ででも再配布や改変をすることを許可します。)</para>
    </abstract>
    <copyright>
      <year>2007-2009</year>
      <holder>Osamu Aoki(青木 修)</holder>
    </copyright>
    <legalnotice>
      <para>本Debianリファレンス(第2版) (&build-date;) はシステムインストール後のユーザ案内書として、Debian
システムの広範な概論を提供します。本書は非開発者を対象にシェルコマンド例を通してシステム管理の多くの局面を説明します。</para>
    </legalnotice>
  </bookinfo>
  <preface id="_preface">
    <title>序章</title>
    <simpara>この<ulink
url="&debianreferenceversionc;">Debianリファレンス(第2版)</ulink>(&build-date;)はシステムインストール後のユーザ向け案内書としてDebianのシステム管理に関する概論の提供を目指しています。</simpara>
    <simpara>本書が対象とする読者は、<ulink url="&gnu;">GNU</ulink>/<ulink
url="&linux;">Linux</ulink>システムがどう機能するかを理解するのに、シェルスクリプトぐらいは学ぶ気はあるが、全てのCのソースまで読む気がない人です。</simpara>
    <section id="_disclaimer">
      <title>免責事項</title>
      <simpara>一切保証は致しません。全ての商標はそれぞれの商標の所有者の財産です。</simpara>
      <simpara>Debianシステム自体は動く標的です。このため最新状況を反映した正確な記述は困難です。現行の不安定版のDebianシステムを用いて本書は記していますが、皆様が読まれる時点ではすでに記載内容が古くなっているでしょう。</simpara>
      <simpara>本書はあくまで二次的参考文献として扱ってください。本書は正式の案内書を置き換えません。著者及び本書への貢献者は本書中の誤謬や欠落や曖昧さが引き起こす結果に一切責任を負いません。</simpara>
    </section>
    <section id="_what_is_debian">
      <title>Debianとはなにか</title>
      <simpara><ulink
url="&debianproject;">Debianプロジェクト</ulink>はフリーなオペレーティングシステムを作ろうという共通目的を持った個人の集団です。そのディストリビューションは次の特徴があります:</simpara>
      <itemizedlist>
        <listitem>
          <simpara>
ソフトウェアの自由へのコミットメント: <ulink
url="&debiansocialcontreguidelinesdfsg;">Debian社会契約とDebianフリーソフトウエアガイドライン(DFSG)</ulink>。
</simpara>
        </listitem>
        <listitem>
          <simpara>
インターネット上の分散型の無償ボランティア活動: <ulink
url="&httpwwwdebianorg;">http://www.debian.org</ulink>
</simpara>
        </listitem>
        <listitem>
          <simpara>
多数のプリコンパイルされた高品質のソフトウエア。
</simpara>
        </listitem>
        <listitem>
          <simpara>
セキュリティアップデートへの平易なアクセス提供による、安定性とセキュリティの重視。
</simpara>
        </listitem>
        <listitem>
          <simpara>
不安定版<literal>unstable</literal>やテスト版<literal>testing</literal>アーカイブによる、最新のソフトウエアへの円滑なアップグレードの重視。
</simpara>
        </listitem>
        <listitem>
          <simpara>
多数のサポートされたハードウエアーアーキテクチャー。
</simpara>
        </listitem>
      </itemizedlist>
      <simpara>Debianの中のフリーソフトウエア構成要素は、<ulink url="&gnu;">GNU</ulink>や<ulink
url="&linux;">Linux</ulink>や<ulink url="&bsd;">BSD</ulink>や<ulink
url="&x;">X</ulink>や<ulink url="&isc;">ISC</ulink>や<ulink
url="&apache;">Apache</ulink>や<ulink
url="&ghostscript;">Ghostscript</ulink>や<ulink
url="&commonunixprintingsystem;">Common Unix Printing System </ulink>や<ulink
url="&samba;">Samba</ulink>や<ulink url="&gnome;">GNOME</ulink>や<ulink
url="&kde;">KDE</ulink>や<ulink url="&mozilla;">Mozilla</ulink>や<ulink
url="&openofficeorg;">OpenOffice.org</ulink>や<ulink
url="&vim;">Vim</ulink>や<ulink url="&tex;">TeX</ulink>や<ulink
url="&latex;">LaTeX</ulink>や<ulink url="&docbook;">DocBook</ulink>や<ulink
url="&perl;">Perl</ulink>や<ulink url="&python;">Python</ulink>や<ulink
url="&tcl;">Tcl</ulink>や<ulink url="&java;">Java</ulink>や<ulink
url="&ruby;">Ruby</ulink>や<ulink url="&php;">PHP</ulink>や<ulink
url="&berkeleydb;">Berkeley DB</ulink>や<ulink
url="&mysql;">MySQL</ulink>や<ulink
url="&postgresql;">PostgreSQL</ulink>や<ulink
url="&exim;">Exim</ulink>や<ulink url="&postfix;">Postfix</ulink>や<ulink
url="&mutt;">Mutt</ulink>や<ulink url="&freebsd;">FreeBSD</ulink>や<ulink
url="&openbsd;">OpenBSD</ulink>や<ulink url="&planj;">Plan
9</ulink>やその他の多くの独立のフリーソフトウエアのプロジェクトに由来します。Debianはこの多種多様なフリーソフトウエアを1つのシステムにまとめ上げます。</simpara>
    </section>
    <section id="_about_this_document">
      <title>本書について</title>
      <section id="_guiding_rules">
        <title>編集指針</title>
        <simpara>本書の作成にあたり次の編集指針を守りました:</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
他に良い文書があれば(著者裁量で)詳述しない
</simpara>
          </listitem>
          <listitem>
            <simpara>
概論を提供し枝葉末節は省略する(<emphasis role="strong">全体像</emphasis>)
</simpara>
          </listitem>
          <listitem>
            <simpara>
簡潔(<emphasis role="strong">KISS</emphasis>)
</simpara>
          </listitem>
          <listitem>
            <simpara>
非GUIツールとコンソールを重視する。(<emphasis role="strong">シェル例示</emphasis>を使用)
</simpara>
          </listitem>
          <listitem>
            <simpara>
車輪の再発明をしない。(<emphasis role="strong">既存の参考文献</emphasis>へのポインターの利用)
</simpara>
          </listitem>
          <listitem>
            <simpara>
客観的であるようにする。(<ulink url="&popcon;">popcon</ulink>等の利用)
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>私はシステムの階層的側面やその低層を明らかにしようとしました。</simpara>
      </section>
      <section id="_prerequisites">
        <title>前提条件</title>
        <simpara>読者はサポート情報を次より自ら取得するべきです(重要性の高いものからの順に列挙):</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
一般的情報は<ulink
url="&httpwwwdebianorg;">http://www.debian.org</ulink>にあるDebianサイト。
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>/usr/share/doc/&lt;package_name&gt;</literal>"ディレクトリ下にある文書。
</simpara>
          </listitem>
          <listitem>
            <simpara>
Unixスタイルの<emphasis role="strong">manページ</emphasis>: "<literal>dpkg -L
&lt;package_name&gt; |grep '/man/man.*/'</literal>"。
</simpara>
          </listitem>
          <listitem>
            <simpara>
GNUスタイルの<emphasis role="strong">infoページ</emphasis>: "<literal>dpkg -L
&lt;package_name&gt; |grep '/info/'</literal>"。
</simpara>
          </listitem>
          <listitem>
            <simpara>
バグレポート: <ulink
url="&httpbugsdebianorgpackage_name;">http://bugs.debian.org/&lt;package_name&gt;</ulink>。
</simpara>
          </listitem>
          <listitem>
            <simpara>
変化中の事や特定案件に関しては、<ulink
url="&httpwikidebianorg;">http://wiki.debian.org/</ulink>にあるDebianのWiki。
</simpara>
          </listitem>
          <listitem>
            <simpara>
<ulink url="&httptldporg;">http://tldp.org/</ulink>
にあるLinux文書プロジェクト(TLDP)のHOWTO文書。
</simpara>
          </listitem>
          <listitem>
            <simpara>
<ulink url="&httpwwwunixorg;">http://www.unix.org/</ulink>にあるOpen GroupのThe
UNIX System Home PageにあるSingle UNIX Specification、
</simpara>
          </listitem>
          <listitem>
            <simpara>
<ulink
url="&httpwikipediaorg;">http://wikipedia.org/</ulink>にあるWikipediaのフリーの百科事典。
</simpara>
          </listitem>
        </itemizedlist>
        <note>
          <simpara>詳細な文書を読むには、"<literal>-doc</literal>"をサフィックスとする対応する文書パッケージをインストールする必要があるかもしれません。</simpara>
        </note>
      </section>
      <section id="_conventions">
        <title>文書様式</title>
        <simpara>次のような、<literal>bash</literal>(1)シェルコマンド例示と点の後ろの箇条書き形式で本書は書かれています。</simpara>
        <screen># &lt;rootアカウントからのコマンド&gt;
$ &lt;ユーザアカウントからのコマンド&gt;
</screen>
        <itemizedlist>
          <listitem>
            <simpara>
&lt;なすべき事の叙述&gt;
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>これらのシェルプロンプトは使われるアカウントを区別します。これはちょうど環境変数として:
"<literal>PS1='\$'</literal>"と"<literal>PS2='
'</literal>"を設定した場合に相当します。これらの環境変数値はあくまで本書の読みやすさのためで、実際のインストール済みシステではほとんど見かけません。</simpara>
        <note>
          <simpara>"<literal>PS1='\$'</literal>"と"<literal>PS2='
'</literal>"という環境変数値の意味は<literal>bash</literal>(1)を参照下さい。</simpara>
        </note>
        <simpara>本文中に引用される<emphasis
role="strong">コマンドの断片</emphasis>はダブルクォーテションマーク間にタイプライタフォントで書き"<literal>aptitude
safe-upgrade</literal>"のように表現されます。</simpara>
        <simpara>本文中に設定ファイルから引用された<emphasis
role="strong">文字データ</emphasis>はダブルクォーテションマーク間にタイプライタフォントで書き"<literal>deb-src</literal>"のように表現されます。</simpara>
        <simpara><emphasis
role="strong">コマンド</emphasis>はその名前をタイプライタフォントで書き、場合によってはその後ろにmanページのセクション番号を括弧中に入れて書き<literal>bash</literal>(1)のように表現されます。読者は次の様にタイプして情報を得るように心がけてください。</simpara>
        <screen>$ man 1 bash</screen>
        <simpara><emphasis
role="strong">manページ</emphasis>はその名前をタイプライタフォントで書き、その後ろにmanページのセクション番号を括弧中に入れて書き<literal>sources.list</literal>(5)のように表現されます。読者は次の様にタイプして情報を得るように心がけてください。</simpara>
        <screen>$ man 5 sources.list</screen>
        <simpara><emphasis
role="strong">infoページ</emphasis>はダブルクォーテションマーク間にタイプライタフォントというコマンドの断片形式で書き"<literal>info
make</literal>"のように表現されます。読者は次の様にタイプして情報を得るように心がけてください。</simpara>
        <screen>$ info make</screen>
        <simpara><emphasis
role="strong">ファイル名</emphasis>はダブルクォーテションマーク間にタイプライタフォントで書き"<literal>/etc/passwd</literal>"のように表現されます。読者は次の様にタイプして情報を得るように心がけてください。</simpara>
        <screen>$ sensible-pager "/etc/passwd"</screen>
        <simpara><emphasis
role="strong">ディレクトリ名</emphasis>はダブルクォーテションマーク間にタイプライタフォントで書き"<literal>/etc/init.d/</literal>"のように表現されます。読者は次の様にタイプして情報を得るように心がけてください。</simpara>
        <screen>$ mc "/etc/init.d/"</screen>
        <simpara><emphasis
role="strong">パッケージ名</emphasis>はその名をタイプライタフォントで書き"<literal>/etc/init.d/</literal>"のように表現されます。読者は次の様にタイプして情報を得るように心がけてください。</simpara>
        <screen>$ dpkg -L vim
$ apt-cache show vim
$ aptitude show vim</screen>
        <simpara><emphasis
role="strong">文書</emphasis>は、その場所のファイル名でダブルクォーテションマーク間にタイプライタフォントで書き"<literal>/usr/share/doc/sysv-rc/README.runlevels.gz</literal>"や"<literal>/usr/share/doc/base-passwd/users-and-groups.html</literal>"のように表現されたり、その場所の<ulink
url="&url;">URL</ulink>で<ulink
url="&httpwwwdebianorg;">http://www.debian.org</ulink>のように表現されます。読者は次の様にタイプして情報を得るように心がけてください。</simpara>
        <screen>$ zcat "/usr/share/doc/sysv-rc/README.runlevels.gz" | sensible-pager
$ sensible-browser "/usr/share/doc/base-passwd/users-and-groups.html"
$ sensible-browse "http://www.debian.org"</screen>
        <simpara><emphasis
role="strong">環境変数</emphasis>は、頭に"<literal>$</literal>"がついた名前をダブルクォーテションマーク間にタイプライタフォントで書き、"<literal>$TERM</literal>"のように表現されます。読者は次の様にタイプして情報を得るように心がけてください。</simpara>
        <screen>$ echo "$TERM"</screen>
      </section>
      <section id="_the_popcon">
        <title>Popcon</title>
        <simpara><ulink
url="&popcon;">Popcon</ulink>のデータは各パッケージの客観的人気の指標として提示されいます。それがダウンロードされた日付は&pop-date;で、
&pop-packages;を越すバイナリパッケージ数と&pop-architectures;のアーキテクチャーにまたがる&pop-submissions;つの提出レポートからなります。</simpara>
        <note>
          <simpara><literal>&arch;</literal>の不安定版<literal>unstable</literal>アーカイブは現在高々&all-packages;つのパッケージしか含みません。Popconデータは多くの古い設置システムからのレポートを含みます。</simpara>
        </note>
        <simpara>"votes"を意味する"V:"が前についたPopconの数は"100 *
(PCで最近実行されたパッケージに関するpopcon提出)/(全popcon提出)"として計算される。</simpara>
        <simpara>"installs"を意味する"I:"が前についたPopconの数は"100 *
(PCにインストールされているパッケージに関するpopcon提出)/(全popcon提出)"として計算される。</simpara>
        <note>
          <simpara>Popconの数字はパッケージの重要性の絶対指標と考えるべきでない。統計を曲げる多くの因子があります。例えば、Popconに参加しているシステムの一部は"<literal>/bin</literal>"などのディレクトリをシステム性能向上のために"<literal>noatime</literal>"オプションでマウントすることで当該システムから"vote"することを実質的に禁止しているかもしれません。</simpara>
        </note>
      </section>
      <section id="_the_package_size">
        <title>パッケージサイズ</title>
        <simpara>各パッケージの客観的指標としてパッケージサイズデータも提供されます。それは"<literal>apt-cache
show</literal>"や"<literal>aptitude
show</literal>"コマンドが(現在の<literal>&arch;</literal>アーキテクチャー上の<literal>unstable</literal>リリース上で)表示する"<literal>Installed-Size:</literal>"です。サイズはKiB(<ulink
url="&kibibyte;">Kibibyte</ulink> = 1024バイト単位)で表示されます。</simpara>
        <note>
          <simpara>小さなパッケージサイズのパッケージは<literal>unstable</literal>リリース中の当該パッケージが内容のある他パッケージを依存関係でインストールするためのダミーパッケージだからかもしれません。</simpara>
        </note>
      </section>
      <section id="_bug_reports">
        <title>バグ報告</title>
        <simpara>何か問題を発見した場合には、<literal>debian-reference</literal>パッケージに対して<literal>reportbug</literal>(1)を用いてバグ報告をしてください。プレーンテキストバージョンかソースに対する"<literal>diff
-u</literal>"による修正提案を含めてください。</simpara>
      </section>
    </section>
    <section id="_some_quotes_for_new_users">
      <title>新規ユーザへの引用文</title>
      <simpara>新規ユーザを啓蒙するDebianのメーリングリストで見つけた興味深い引用文を記します:</simpara>
      <itemizedlist>
        <listitem>
          <simpara>
"This is Unix.  It gives you enough rope to hang yourself."
「これはUnixです。首を括るのに十分なロープをあてがってくれますよ。」 --- Miquel van Smoorenburg
<literal>&lt;miquels at cistron.nl&gt;</literal>
</simpara>
        </listitem>
        <listitem>
          <simpara>
"Unix IS user friendly...  It's just selective about who its friends are."
「Unixはユーザフレンドリーです... 誰にフレンドリーにするかに人見知りするだけです。」 --- Tollef Fog Heen
<literal>&lt;tollef at add.no&gt;</literal>
</simpara>
        </listitem>
      </itemizedlist>
    </section>
  </preface>
  <chapter id="_gnu_linux_tutorials">
    <title>GNU/Linuxチュートリアル</title>
    <simpara>コンピュータシステムを学ぶことは新しい外国語を学ぶことに似ていると考えます。チュートリアルブックは有用ですが、実際に自ら使って学ぶことが必要です。円滑なスタートが出きるように、いくつかの基本的なポイントを説明します。</simpara>
    <simpara><ulink url="&debian;">Debian</ulink> <ulink url="&gnu;">GNU</ulink>/<ulink
url="&linux;">Linux</ulink> の強力なデザインは <ulink
url="&multiuser;">マルチユーザ</ulink>、 <ulink url="&multitasking;">マルチタスク</ulink>
という <ulink url="&unix;">Unix</ulink> オペレーティングシステムに由来します。これら Unix と GNU/Linux
の特徴や類似点の強力さを活用することを覚えましょう。</simpara>
    <simpara>Unix対象の文書を避けたり、GNU/Linuxに関する文書だけに頼ることは、有用な情報を見逃すことになるので止めましょう。</simpara>
    <simpara>一般的なシステム管理に関する良好なオンラインリソースは、Debianのnon-freeアーカイブに<literal>rutebook</literal>パッケージ
(popcon: &pop-rutebook;)としてある"<ulink
url="&ruteuserstutorialandexposition;">Ruteユーザのためのチュートリアルと解説書(Rute User's
Tutorial and Exposition)</ulink>" が提供しています。</simpara>
    <note>
      <simpara><ulink url="&unixlike;">Unix
的</ulink>システムをコマンドラインツールで少々使った経験があれば、私がここで説明することはすべてご存知でしょう。リアリティーチェックと記憶を呼び戻すのにこれを使ってください。</simpara>
    </note>
    <section id="_console_basics">
      <title>コンソールの基礎</title>
      <section id="_the_shell_prompt">
        <title>シェルプロンプト</title>
        <simpara><ulink url="&xwindowsystem;">X
Windowシステム</ulink>を<literal>gdm</literal>等のディスプレイマネージャとともにインストールした場合以外には、システム起動の際に文字のloginスクリーンが現れます。あなたのホスト名が<literal>foo</literal>と仮定すると、loginプロンプトは次です:</simpara>
        <screen>foo login:</screen>
        <simpara><ulink url="&gnome;">GNOME</ulink>や<ulink url="&kde;">KDE</ulink>のような<ulink
url="&gui;">GUI</ulink>環境をインストールした場合には、Ctrl-Alt-F1とすることでloginプロンプトが出て、Alt-F7とすることでGUI環境に戻れます(詳細は下記の<xref
linkend="_virtual_consoles"/>参照)。</simpara>
        <simpara>loginプロンプトであなたのユーザ名(例えば<literal>penguin</literal>)を打鍵しEnterキーを押します。さらにあなたのパスワードを打鍵しEnterキーを再び押します。</simpara>
        <note>
          <simpara>Unixの伝統に従い、Debianシステムではユーザ名とパスワードに関して大文字小文字の区別をします。ユーザ名は通常小文字のみから選ばれます。最初のユーザアカウントは通常インストールの際に作られます。追加のユーザアカウントはrootによって<literal>adduser</literal>(8)を用いて作られます。</simpara>
        </note>
        <simpara>"<literal>/etc/motd</literal>" (本日のメッセージ:Message Of The
Day)に保存されている歓迎メッセージとコマンドプロンプトで次のように表示しシステムが起動されます。</simpara>
        <screen>Debian GNU/Linux lenny/sid foo tty1
foo login: penguin
Password:
Last login: Sun Apr 22 09:29:34 2007 on tty1
Linux snoopy 2.6.20-1-amd64 #1 SMP Sun Apr 15 20:25:49 UTC 2007 x86_64

The programs included with the Debian GNU/Linux system are free software;
the exact distribution terms for each program are described in the
individual files in /usr/share/doc/*/copyright.

Debian GNU/Linux comes with ABSOLUTELY NO WARRANTY, to the extent
permitted by applicable law.
foo:~$</screen>
        <simpara>ここで、歓迎メッセージの主要部分は"<literal>/etc/motd.tail</literal>"ファイルを編集することでカスタマイズできます。最初の行は"<literal>uname
-snrvm</literal>"用いたシステム情報から生成されます。</simpara>
        <simpara>これであなたは<ulink url="&shell;">シェル</ulink>の中にいます。シェルはあなたからのコマンドを解釈します。</simpara>
      </section>
      <section id="_the_shell_prompt_under_x">
        <title>Xの下でのシェルプロンプト</title>
        <simpara>インストールの際に"Desktop environment"タスクを選定し<ulink
url="&gnome;">GNOME</ulink>の<literal>gdm</literal>とともに<ulink
url="&xwindowsystem;">X
Windowシステム</ulink>をインストールした場合には、システムの起動するとグラフィカルなloginプロンプトのスクリーンが表示されます。あなたのユーザ名とパスワードを入力することで非特権ユーザアカウントにloginできます。タブ(tab)を用いたりマウスの第一クリックを用いるとユーザ名とパスワードの間を行き来できます。</simpara>
        <simpara><literal>gnome-terminal</literal>(1)や<literal>rxvt</literal>(1)や<literal>xterm</literal>(1)のような<literal>x-terminal-emulator</literal>プログラムをXの下で起動するとシェルプロンプトが得られます。GNOMEデスクトップ環境下では、"Applications"
→ "Accessories" → "Terminal"とクリックしてもうまくいきます。</simpara>
        <simpara>次の<xref linkend="_virtual_consoles"/>も参照ください.</simpara>
        <simpara>デスクトップ環境(例えば<literal>fluxbox</literal>)次第ではメニューの起点がよく分からないことがあります。そんな時はスクリーンの中央を(右)クリックしてメニューが表示されることを期待しましょう。</simpara>
      </section>
      <section id="_the_root_account">
        <title>rootアカウント</title>
        <simpara>rootアカウントは<ulink
url="&superuser;">スーパーユーザ</ulink>とか特権ユーザとも呼ばれます。このアカウントからは次のようなシステム管理活動ができます。</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
ファイルのパーミッションによらずシステム上のいかなるファイルに関して、読み・書き・削除をする。
</simpara>
          </listitem>
          <listitem>
            <simpara>
システム上のいかなるファイルに関して、ファイルの所有者やパーミッションを設定する。
</simpara>
          </listitem>
          <listitem>
            <simpara>
システム上の非特権ユーザのパスワードを設定する。
</simpara>
          </listitem>
          <listitem>
            <simpara>
パスワード無しにいかなるアカウントにもloginする。
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>rootアカウントの権限を使うには、この無制限の権限ゆえ配慮と責任ある行動が求められます。</simpara>
        <warning>
          <simpara>rootのパスワードを他人に決して教えてはいけない。</simpara>
        </warning>
        <note>
          <simpara>ファイル(Debianシステムにとってはファイルの一種であるCD-ROM等のハードウエアデバイスも含む)のパーミッションは、非rootユーザによるそのファイルの使用やアクセスをできなくなくすることがあります。この様な状況の下ではrootアカウントを使うことが簡便なテスト法ですが、問題解決はファイルのパーミッションとユーザのグループのメンバーシップを適切に設定する必要があります(<xref
linkend="_filesystem_permissions"/>参照)。</simpara>
        </note>
      </section>
      <section id="_the_root_shell_prompt">
        <title>rootシェルプロンプト</title>
        <simpara>rootのパスワードを使ってrootのシェルプロンプトを使えるようにする基本的な方法を次に記します。</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
文字ベースのloginプロンプトで、単に<literal>root</literal>と入力する。
</simpara>
          </listitem>
          <listitem>
            <simpara>
GNOMEデスクトップ環境下で、"Applications" → "Accessories" → "Root Terminal"とクリックする。
</simpara>
          </listitem>
          <listitem>
            <simpara>
何らかのユーザのシェルプロンプトから、"<literal>su -l</literal>"と入力する。(現ユーザの環境を一切引き継がない。)
</simpara>
          </listitem>
          <listitem>
            <simpara>
何らかのユーザのシェルプロンプトから、"<literal>su</literal>"と入力する。(現ユーザの環境をある程度引き継ぐ。)
</simpara>
          </listitem>
        </itemizedlist>
      </section>
      <section id="_gui_system_administration_tools">
        <title>GUIのシステム管理ツール</title>
        <simpara>デスクトップのメニューがGUIのシステム管理ツールを適切な権限とともに自動的に起動しない場合、<literal>gnome-terminal</literal>(1)や<literal>rxvt</literal>(1)や<literal>xterm</literal>(1)のようなXターミナルエミュレータのrootシェルプロンプトから起動できます。</simpara>
        <warning>
          <simpara><literal>gdm</literal>(1)等のディスプレイマネージャのプロンプトに<literal>root</literal>と入力して、Xディスプレイ/セッションマネージャをrootアカウントのもとで決して起動してはいけません。</simpara>
        </warning>
        <warning>
          <simpara>クリチカルな情報が表示されている際には、あなたのXスクリーンを覗き見られるかもしれないのでリモートの信頼できないGUIプログラムを決して実行してはいけません。</simpara>
        </warning>
      </section>
      <section id="_virtual_consoles">
        <title>仮想コンソール</title>
        <simpara>デフォルトのDebianシステムでは、6つの切り替え可能な<ulink
url="&vtbaalike;">VT100様</ulink>の文字コンソールがあり、Linuxホスト上で直接コマンドシェルを起動できるようになっています。GUI環境下でない場合は、<literal>Left-Alt-key</literal>と<literal>F1</literal>
—
<literal>F6</literal>の中の一つのキーを同時に押すことで仮想コンソール間の切り替えができます。仮想ターミナルそれぞれに独立したアカウントでログインすることができ、。マルチユーザ環境を提供します。このマルチユーザ環境はUnixの偉大な機能で、癖になります。</simpara>
        <simpara>X
Windowシステムの下では、<literal>Ctrl-Alt-F1</literal>キーを押す、つまり<literal>left-Ctrl-key</literal>と<literal>left-Alt-key</literal>と<literal>F1-key</literal>キーを同時に押すと文字コンソール1にアクセスできます。通常仮想コンソール7で実行されているX
Windowシステムへは<literal>Alt-F7</literal>を押すことにより戻れます。</simpara>
        <simpara>これとは別の方法もあります。今と違う仮想ターミナルへ、例えば仮想ターミナル1への変更は次でできます:</simpara>
        <screen># chvt 1</screen>
      </section>
      <section id="_how_to_leave_the_command_prompt">
        <title>コマンドプロンプトからの退出方法</title>
        <simpara>コマンドプロンプトで<literal>Ctrl-D</literal>、つまり<literal>left-Ctrl-key</literal>と<literal>d-key</literal>の同時押しをするとシェルでのアクティビティーを終了できます。文字コンソールの場合は、こうするとloginプロンプト戻ります。これらのコントロール文字は通常"control
D"と大文字を使って表記されますが、Shiftキーを押す必要はありません。また<literal>Ctrl-D</literal>に関する簡略表記<literal>^D</literal>も使われます。この代わりに"exit"とタイプすることができます。</simpara>
        <simpara><literal>x-terminal-emulator</literal>(1)にあっては、このようにすることで<literal>x-terminal-emulator</literal>
のウインドーが閉じることができます。</simpara>
      </section>
      <section id="_how_to_shutdown_the_system">
        <title>シャットダウンの方法</title>
        <simpara>ファイル操作の際にパーフォーマンス向上のためにメモリへの<ulink
url="&cachingdata;">データのキャッシュ</ulink>がされる他の現代的なOSと同様に、Debianシステムでも電源を安全に切る前に適切なシャットダウン手順を取る必要があります。これはすべてのメモリ上の変更を強制的にディスクに書き出しすことで、ファイルの完全性を維持するためです。ソフトウエアによる電源コントロールができる場合、シャットダウン手続きはシステムの電源を自動的に落とします。(これがうまくいかない時には、シャットダウン手続きの後で数秒間電源ボタンを押す必要があるかもしれません。)</simpara>
        <simpara>通常のマルチユーザモード下では、rootコマンドプロンプトから次によってシステムのシャットダウンをします:</simpara>
        <screen># shutdown -h now</screen>
        <simpara>シングルユーザモード下では、rootコマンドプロンプトから次によってシステムのシャットダウンをします:</simpara>
        <screen># poweroff -i -f</screen>
        <simpara>この他に、"<literal>/etc/inittab</literal>"に"<literal>ca:12345:ctrlaltdel:/sbin/shutdown
-t1 -a -h
now</literal>"と書かれていれば、<literal>Ctrl-Alt-Delete</literal>(<literal>left-Ctrl-key</literal>と<literal>left-Alt-Key</literal>と<literal>Delete</literal>の同時押し)を入力するシャットダウン方法もあります。</simpara>
      </section>
      <section id="_recovering_a_sane_console">
        <title>まともなコンソールの回復</title>
        <simpara>例えば"<literal>cat
&lt;some-binary-file&gt;</literal>"のような変な事をした後でスクリーンが無茶苦茶になった場合、コマンドプロンプトに"<literal>reset</literal>"と入力してください。このときコマンドを入力してもスクリーンには読み取れる表示がされないかもしれません。"<literal>clear</literal>"とすればスクリーンが消去できます。</simpara>
      </section>
      <section id="_additional_package_suggestions_for_the_newbie">
        <title>初心者向け追加パッケージの提案</title>
        <simpara>デスクトップ環境タスク抜きの最小限インストレーションDebianシステムですら基本的なUnix機能は提供されますが、コマンドラインやcursesに基づく<literal>mc</literal>や<literal>vim</literal>等のいくつかの文字ターミナルパッケージを<literal>aptitude</literal>(8)を使って追加インストールすることを初心者の最初の一歩としてお薦めします。</simpara>
        <screen># aptitude update
...
# aptitude install mc vim sudo
...</screen>
        <simpara>既にこれらのパッケージがインストールされている場合には何もインストールされません。</simpara>
        <table id="listofinterestineprogrampackages" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>興味あるテキストモードのプログラムパッケージのリスト。</title>
          <tgroup cols="4">
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="288" align="left"/>
            <thead>
              <row>
                <entry>
    パッケージ
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    サイズ
    </entry>
                <entry>
    説明
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/mc"> <literal>mc</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/mc">&pop-mc;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/m/mc.html">&size-mc;</ulink></entry>
                <entry>
    テキストモードの全画面ファイルマネージャ
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/sudo"> <literal>sudo</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/sudo">&pop-sudo;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/s/sudo.html">&size-sudo;</ulink></entry>
                <entry>
    ユーザに限定的なroot権限を与えるプログラム
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/vim"> <literal>vim</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/vim">&pop-vim;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/v/vim.html">&size-vim;</ulink></entry>
                <entry>
    UnixテキストエディタVi IMproved(改良版Vi)、プログラマーのためのテキストエディタ(標準版)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/vim-tiny">
<literal>vim-tiny</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/vim-tiny">&pop-vimtiny;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/v/vim-tiny.html">&size-vimtiny;</ulink></entry>
                <entry>
    UnixテキストエディタVi IMproved(改良版Vi)、プログラマーのためのテキストエディタ(軽量版)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/emacs21">
<literal>emacs21</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/emacs21">&pop-emacscb;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/e/emacs21.html">&size-emacscb;</ulink></entry>
                <entry>
    GNUプロジェクトEmacs、Lispに基づく拡張可能なテキストエディタ(21版)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/emacs22">
<literal>emacs22</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/emacs22">&pop-emacscc;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/e/emacs22.html">&size-emacscc;</ulink></entry>
                <entry>
    GNUプロジェクトEmacs、Lispに基づく拡張可能なテキストエディタ(22版)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/w3m"> <literal>w3m</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/w3m">&pop-wdm;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/w/w3m.html">&size-wdm;</ulink></entry>
                <entry>
    テキストモードWWWブラウザ
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/gpm"> <literal>gpm</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/gpm">&pop-gpm;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/g/gpm.html">&size-gpm;</ulink></entry>
                <entry>
    テキストコンソール上のUnix式のカットアンドペースト(daemon)
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>いくつかの参考資料を読むのも良いことです。</simpara>
        <table id="listofinformativentationpackages" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>有用な文書パッケージのリスト。</title>
          <tgroup cols="4">
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="288" align="left"/>
            <thead>
              <row>
                <entry>
    パッケージ
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    サイズ
    </entry>
                <entry>
    説明
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/doc-debian">
<literal>doc-debian</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/doc-debian">&pop-docdebian;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/d/doc-debian.html">&size-docdebian;</ulink></entry>
                <entry>
    Debianプロジェクトの文書、(Debian FAQ)他
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/debian-policy">
<literal>debian-policy</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/debian-policy">&pop-debianpolicy;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/d/debian-policy.html">&size-debianpolicy;</ulink></entry>
                <entry>
    Debianポリシーマニュアルと関連文書
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/developers-reference">
<literal>developers-reference</literal> </ulink></entry>
                <entry><ulink
url="http://bugs.debian.org/developers-reference">&pop-developersreference;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/d/developers-reference.html">&size-developersreference;</ulink></entry>
                <entry>
    Debian開発者のためのガイドラインと情報
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/maint-guide">
<literal>maint-guide</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/maint-guide">&pop-maintguide;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/m/maint-guide.html">&size-maintguide;</ulink></entry>
                <entry>
    Debian新メンテナ向けガイド
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/debian-history">
<literal>debian-history</literal> </ulink></entry>
                <entry><ulink
url="http://bugs.debian.org/debian-history">&pop-debianhistory;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/d/debian-history.html">&size-debianhistory;</ulink></entry>
                <entry>
    Debianプロジェクトの歴史
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/debian-faq">
<literal>debian-faq</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/debian-faq">&pop-debianfaq;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/d/debian-faq.html">&size-debianfaq;</ulink></entry>
                <entry>
    Debian FAQ(よくある質問集)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/doc-linux-text">
<literal>doc-linux-text</literal> </ulink></entry>
                <entry><ulink
url="http://bugs.debian.org/doc-linux-text">&pop-doclinuxtext;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/d/doc-linux-text.html">&size-doclinuxtext;</ulink></entry>
                <entry>
    Linux HOWTOとFAQ(テキスト版)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/doc-linux-html">
<literal>doc-linux-html</literal> </ulink></entry>
                <entry><ulink
url="http://bugs.debian.org/doc-linux-html">&pop-doclinuxhtml;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/d/doc-linux-html.html">&size-doclinuxhtml;</ulink></entry>
                <entry>
    Linux HOWTOとFAQ(HTML版)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/sysadmin-guide">
<literal>sysadmin-guide</literal> </ulink></entry>
                <entry><ulink
url="http://bugs.debian.org/sysadmin-guide">&pop-sysadminguide;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/s/sysadmin-guide.html">&size-sysadminguide;</ulink></entry>
                <entry>
    Linuxシステム管理者ガイド
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/rutebook">
<literal>rutebook</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/rutebook">&pop-rutebook;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/r/rutebook.html">&size-rutebook;</ulink></entry>
                <entry>
    Linux: Ruteユーザのためのチュートリアルと解説書(non-free)
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>これらのパッケージはrootのシェルプロンプトから次のコマンドを発行すればインストールできます。</simpara>
        <screen># aptitude install package_name</screen>
      </section>
      <section id="_an_extra_user_account">
        <title>追加のユーザアカウント</title>
        <simpara>次の練習のためにあなたのメインのユーザアカウントを使いたくない場合には、例えば<literal>fish</literal>という追加のユーザアカウントを作成できます。rootシェルプロンプトで次のように入力します。</simpara>
        <screen># adduser fish</screen>
        <itemizedlist>
          <listitem>
            <simpara>
すべての質問に返事をする
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>こうすることで<literal>fish</literal>という名前の新しいアカウントが作られます。練習の後で、このユーザとそのホームディレクトリは次のようのすれば削除できます:</simpara>
        <screen># deluser --remove-home fish</screen>
      </section>
      <section id="_sudo_configuration">
        <title>sudoの設定</title>
        <simpara>ラップトップPC上のデスクトップのDebianシステム等のような典型的単一ユーザワークステーションでは次のような単純な<literal>sudo</literal>(8)の設定をして、非特権ユーザ(例えば<literal>penguin</literal>)に管理者権限を(rootパスワードではなく)ユーザ自身のパスワードで与えることがよくあります。</simpara>
        <screen># echo "penguin  ALL=(ALL) ALL" &gt;&gt; /etc/sudoers</screen>
        <simpara>このトリックの使用は、単一ユーザワークステーション上であなた自身が管理者でユーザである際のみに限るべきです。</simpara>
        <warning>
          <simpara>システムセキュリティ上非常に悪い事態を招くので、マルチユーザワークステーション上の通常ユーザアカウントに対してこの様な設定をしてはいけません。</simpara>
        </warning>
        <caution>
          <simpara>上記例のような<literal>penguin</literal>のパスワードとアカウントはrootパスワードやrootアカウント同様の保護が必要です。</simpara>
        </caution>
        <caution>
          <simpara>この文脈上の管理者権限はワークステーションに関するシステム管理業務をする権限を与えられた人に属します。そのような権限と能力を持っていなければ、あなたの会社の管理部門の管理職や上司とはいえこのような権限を与えてはいけません。</simpara>
        </caution>
        <note>
          <simpara>特定デバイスや特定ファイルへのアクセスの権限を与えるには、<literal>sudo</literal>(8)をつかって得た<literal>root</literal>権限を用いるのではなく、<emphasis
role="strong">group</emphasis>を使って限定的アクセス与えることを考えるべきです。</simpara>
        </note>
        <note>
          <simpara><literal>sudo</literal>(8)を使ってもう少し工夫された注意深い設定をすれば、共有システム上の他のユーザにrootパスワードを教えること無く限定的管理権限を許可することができます。こうすることは、誰が何をしたかを明らかにするので、複数の管理者がいるホストにおける責任の所在を明らかにします。ただ、誰にもそんな権限を与えたく無いかもしれません。</simpara>
        </note>
      </section>
      <section id="_play_time">
        <title>お遊びの時間</title>
        <simpara>非特権ユーザアカウントを使う限り全くリスク無くDebianシステムでお遊びをする準備万端です。</simpara>
        <simpara>何故なら、たとえデフォルトのインストール後ですらDebianシステムは非特権ユーザがシステムに損害を与えられないように的確なファイルパーミッションが設定されているからです。もちろん悪用可能な穴が残っているかもしれませんが、こんな問題まで心配する人はこのセクションを読んでいるべきではなく、<ulink
url="&securingdebianmanual;">Securing Debian Manual</ulink>を読むべきです。</simpara>
        <simpara>Debianシステムを<ulink url="&unixlike;">Unix的</ulink>システムとして以下で学びましょう:</simpara>
        <itemizedlist>
          <listitem>
            <simpara><xref linkend="_unix_like_filesystem"/>(基本コンセプト)。
</simpara>
          </listitem>
          <listitem>
            <simpara><xref linkend="_midnight_commander_mc"/>(サバイバル手法)。
</simpara>
          </listitem>
          <listitem>
            <simpara><xref linkend="_the_basic_unix_like_work_environment"/>(基本手法)。
</simpara>
          </listitem>
          <listitem>
            <simpara><xref linkend="_the_simple_shell_command"/>(シェルのメカニズム)。
</simpara>
          </listitem>
          <listitem>
            <simpara><xref linkend="_unix_like_text_processing"/>(文字処理手法)。
</simpara>
          </listitem>
        </itemizedlist>
      </section>
    </section>
    <section id="_unix_like_filesystem">
      <title>Unix-likeファイルシステム</title>
      <simpara>GNU/Linuxや他の<ulink url="&unixlike;">Unix的</ulink>オペレーティングシステムでは、<ulink
url="&files;">ファイル</ulink>は<ulink
url="&directories;">ディレクトリ</ulink>に整理されています。すべてのファイルやディレクトリは、"<literal>/</literal>"を根(root)に持つ一本の大きな木(ツリー)のようにアレンジされています。</simpara>
      <simpara>この様なファイルやディレクトリはいくつかのデバイスに展開することができます。あるデバイス上にあるファイルシステムを大きなファイルツリーにマウントするのに<literal>mount</literal>(8)が使われます。その逆に、それを切り離すのに<literal>umount</literal>(8)が使われます。最近のLinuxカーネルでは、<literal>mount</literal>(8)をオプションとともに用いると、ファイルツリーの一部を別のところと結びつけたり、共有・非共有・従属・バインド不可としてファイルシステムをマウントもできます。各ファイルシステムごとの使用可能なマウントオプションは"<literal>/share/doc/linux-doc-2.6.*/Documentation/filesystems/</literal>"にあります。</simpara>
      <simpara>Unixシステム上の<emphasis role="strong">ディレクトリ</emphasis>は、一部の他システム上では<emphasis
role="strong">フォルダ</emphasis>と呼ばれます。Unixシステム上では"<literal>A:</literal>"のような<emphasis
role="strong">ドライブ</emphasis>というコンセプトが無いこと覚えておいてください。単一のファイルシステムがあって、そこにすべてが含まれています。これはWindowsと比べた際の大きな利点です。</simpara>
      <section id="_unix_file_basics">
        <title>Unixファイルの基礎</title>
        <simpara>Unixファイルの基礎は以下です:</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
ファイル名は<emphasis
role="strong">大文字と小文字を区別</emphasis>します。"<literal>MYFILE</literal>"と"<literal>MyFile</literal>"は異なるファイルです。
</simpara>
          </listitem>
          <listitem>
            <simpara>
<emphasis
role="strong">rootディレクトリ</emphasis>はフィルシステムの根(root)を意味して、単に"<literal>/</literal>"と記載されます。これをrootユーザのhomeディレクトリ"<literal>/root</literal>"とは混同しないでください。
</simpara>
          </listitem>
          <listitem>
            <simpara>
全てのディレクトリには<emphasis
role="strong">"<literal>/</literal>"以外</emphasis>の文字・記号からなる名前がついています。rootディレクトリは例外で、その名前は"<literal>/</literal>"("スラッシュ"とか"rootディレクトリ"と読まれます)でその名前を変えることはできません。
</simpara>
          </listitem>
          <listitem>
            <simpara>
各ファイルやディレクトリは、たどっていくとファイルに到達するディレクトリの列が示される、<emphasis
role="strong">完全に記述したファイル名</emphasis>とか<emphasis
role="strong">絶対ファイル名</emphasis>とか<emphasis
role="strong">パス</emphasis>により指定されます。これらの3つの表現は同義語です。
</simpara>
          </listitem>
          <listitem>
            <simpara>
全ての<emphasis
role="strong">完全に記述したファイル名</emphasis>は"<literal>/</literal>"ディレクトリで始まり、ファイル名中の各ディレクトリやファイル名の間には"<literal>/</literal>"がはさまります。最初の"<literal>/</literal>"は
ディレクトリ名です。その他の"<literal>/</literal>"は、次のサブディレクトリとの区別をします。そして最後には実際のファイルの名前がきます。ちょっと混乱しそうですので、次の<emphasis
role="strong">完全に記述したファイル名</emphasis> の例をご覧ください:
"<literal>/usr/share/keytables/us.map.gz</literal>"。
一方このベース名である、"<literal>us.map.gz</literal>"だけをファイル名と呼ぶ人もあります。
</simpara>
          </listitem>
          <listitem>
            <simpara>
root
ファイルシステムは"<literal>/etc/</literal>"や"<literal>/usr/</literal>"のような複数の枝を持ちます。これらのサブディレクトリもまた"<literal>/etc/init.d/</literal>"や"<literal>/usr/local/</literal>"のように、さらにサブディレクトリに枝別れします。これらの全体をまとめて<emphasis
role="strong">ディレクトリツリー</emphasis>と呼びます。絶対ファイル名はツリーの根元("<literal>/</literal>")から枝の先
(ファイル) までの経路として考えることもできます。また、あたかもディレクトリツリーを<emphasis
role="strong">家系</emphasis>図のように人が話すのを聞いたことがあるでしょう。あたかもそれぞれのサブディレクトリに<emphasis
role="strong">親</emphasis>があるとし、パスはファイルの完全な祖先の系図のように表現します。root
ディレクトリではない他の場所から始まる相対パスもあります。ディレクトリ"<literal>../</literal>"は親ディレクトリを参照していることを覚えておきましょう。このような呼び方はディレクトリのような構造を持つ他の階層的ツリー状のデータ構造体でもよく使われます。
</simpara>
          </listitem>
          <listitem>
            <simpara>
ハードディスクのような物理デバイスに対応したパス名の要素は存在しません。ここが、パス名に"<literal>C:\</literal>"のようなデバイス名が含まれる<ulink
url="&rtbb;">RT-11</ulink>や<ulink url="&cpm;">CP/M</ulink>や<ulink
url="&openvms;">OpenVMS</ulink>や<ulink url="&msdos;">MS-DOS</ulink>や<ulink
url="&amigaos;">AmigaOS</ulink>や<ulink url="&microsoftwindows;">Microsoft
Windows</ulink>と違う点です。(但し、通常のファイルシステム中に物理デバイスを示すディレクトリ項目はあります。<xref
linkend="_filesystem_internals"/>参照。)
</simpara>
          </listitem>
        </itemizedlist>
        <note>
          <simpara>ほとんど全ての文字や記号をファイル名中に<emphasis
role="strong">使えます</emphasis>が、実際そうすることは賢明ではありません。スペースやタブや改行や他の特殊文字:<literal>{
} ( ) [ ] ' ` " \ / &gt; &lt; | ; ! # &amp; ^ * % @
$</literal>はコマンドラインで特別な意味を持つので避けるべきです。名前の中の単語間には、ピリオドやハイフンや下線を選んで区別しましょう。各語頭を"<literal>LikeThis</literal>"のように語頭を大文字にすることもできます。経験を積んだLinuxのユーザはファイル名中にスペースが入ることを避けます。</simpara>
        </note>
        <note>
          <simpara>"root"と言う言葉は"rootユーザ"と言う意味でも"rootディレクトリ"意味でも使われます。それがいずれかは使われている文脈から明かです。</simpara>
        </note>
        <note>
          <simpara><emphasis role="strong">パス</emphasis>と言う言葉は上述の<emphasis
role="strong">完全に記述したファイル名</emphasis>に関して使われるばかりではなく<emphasis
role="strong">コマンドサーチパス</emphasis>にも使われます。どちらの意味かは文脈から明かです。</simpara>
        </note>
        <simpara>ファイル階層について詳細に学ぶ最も良い方法は、Filesystem Hierarchy
Standard("<literal>/usr/share/doc/debian-policy/fhs/fhs-2.3.txt.gz</literal>"や<literal>hier</literal>(7))に記述されています。手始めとして次の事実を覚えるべきです。</simpara>
        <table id="listofusageofkeydirectories" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>重要ディレクトリの使い方のリスト。</title>
          <tgroup cols="2">
            <colspec colwidth="144" align="left"/>
            <colspec colwidth="360" align="left"/>
            <thead>
              <row>
                <entry>
    ディレクトリ
    </entry>
                <entry>
    使い方
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>/</literal>
                </entry>
                <entry>
    "<literal>/</literal>"だけだとrootディレクトリを表します。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/etc/</literal>
                </entry>
                <entry>
    ここはシステム全体の設定ファイルを置く場所です。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/var/log/</literal>
                </entry>
                <entry>
    ここはシステムのログファイルを置く場所です。 
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/home/</literal>
                </entry>
                <entry>
    ここは全ての非特権ユーザのホームディレクトリがあるディレクトリです。
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </section>
      <section id="_filesystem_internals">
        <title>ファイルシステムの内側</title>
        <simpara><emphasis role="strong">Unix の伝統</emphasis>に従い、Debian/Linux
システムはハードディスクや他のストレージデバイス上に存在する物理データを表す<ulink
url="&filesystem;">ファイルシステム</ulink>を提供し、コンソールスクリーンやリモートのシリアルコンソールなどのハードウェアデバイスとの相互作用が"<literal>/dev/</literal>"の下に統一された形式で表されています。</simpara>
        <simpara>Debian/Linuxシステム上の、各々のファイルやディレクトリや名前付きパイプ(2つのプログラムがデータを共有する方法)や物理デバイスは、それぞれの所有者(owner)やデータが所属するグループ(group)や最終アクセス時間などの付帯属性(attribute)を記述する<ulink
url="&inode;">inode</ulink>と呼ばれるデータ構造を持ちます。 Debian GNU/Linux システムでの inode 構造
の正確な定義を知るには、"<literal>/usr/include/linux/fs.h</literal>" をご覧ください。
ほとんど全てをファイルシステム表現しようというアイデアはUnixの発明でしたし、現代的なLinuxカーネルはこのアイデアを一歩進めています。コンピュータ上で実行されているプロセス情報さえファイルシステム中に見つけられます。</simpara>
        <simpara>このような物理的実体と内部プロセスの抽象的かつ統一された表現は非常にパワフルなので、多くの全く異なるデバイスに同じコマンドを使用して同種の操作が行えます。実行中のプロセスに繋がった特殊なファイルにデータを書き込むことでカーネルが如何に動作するかまで変更できます。</simpara>
        <tip>
          <simpara>ファイルツリーや物理的実体の間の関係を確認する必要がある際には、<literal>mount</literal>(8)を引数無しで実行してください。</simpara>
        </tip>
      </section>
      <section id="_filesystem_permissions">
        <title>ファイルシステムのパーミッション</title>
        <simpara><ulink url="&unixlike;">Unix的</ulink>システムの<ulink
url="&filesystempermissions;">ファイルシステムのパーミッション</ulink>は次の3つの影響されるユーザのカテゴリのために定義されています: </simpara>
        <itemizedlist>
          <listitem>
            <simpara>
ファイルを所有する<emphasis role="strong">ユーザ(user)</emphasis>(<emphasis
role="strong">u</emphasis>)
</simpara>
          </listitem>
          <listitem>
            <simpara>
ファイルが所属する<emphasis role="strong">グループ(group)</emphasis>中の他ユーザ(<emphasis
role="strong">g</emphasis>)
</simpara>
          </listitem>
          <listitem>
            <simpara>
"世界"や"全員"とも呼ばれる、全<emphasis role="strong">他ユーザ(other)</emphasis>(<emphasis
role="strong">o</emphasis>)
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>ファイルでは、それぞれに対応するパーミッションは次のようになります:</simpara>
        <itemizedlist>
          <listitem>
            <simpara><emphasis role="strong">読み(read)</emphasis> (<emphasis
role="strong">r</emphasis>): ファイル内容確認可能
</simpara>
          </listitem>
          <listitem>
            <simpara><emphasis role="strong">書き(write)</emphasis> (<emphasis
role="strong">w</emphasis>): ファイル内容変更可能
</simpara>
          </listitem>
          <listitem>
            <simpara><emphasis role="strong">実行(execute)</emphasis> (<emphasis
role="strong">x</emphasis>): ファイルをコマンド実行可能
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>ディレクトリでは、対応するパーミッションはそれぞれ次のようになります:</simpara>
        <itemizedlist>
          <listitem>
            <simpara><emphasis role="strong">読み(read)</emphasis> (<emphasis
role="strong">r</emphasis>): ディレクトリ内容リスト可能
</simpara>
          </listitem>
          <listitem>
            <simpara><emphasis role="strong">書き(write)</emphasis> (<emphasis
role="strong">w</emphasis>): ディレクトリへのファイルの追加削除可能
</simpara>
          </listitem>
          <listitem>
            <simpara><emphasis role="strong">実行(execute)</emphasis> (<emphasis
role="strong">x</emphasis>): ディレクトリ内のファイルへのアクセス可能
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>ここで、ディレクトリに関する<emphasis
role="strong">実行(execute)</emphasis>許可とはディレクトリ内のファイルへの読みを許可するのみならず、サイズや変更時間のようなアトリビュート閲覧を許可します。</simpara>
        <simpara>ファイルやディレクトリのパーミッション情報他を表示するには、<literal>ls</literal>(1)が使われます。"<literal>-l</literal>"オプション付きでこれを実行すると、次の情報がこの順序で表示されます:</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
<emphasis role="strong">ファイルのタイプ</emphasis>(最初の文字)
</simpara>
          </listitem>
          <listitem>
            <simpara>
ファイルのアクセス<emphasis
role="strong">パーミッション</emphasis>(次の9文字。ユーザとグループと他者の順にそれぞれに対して3文字から構成されている) 
</simpara>
          </listitem>
          <listitem>
            <simpara>
ファイルへの<emphasis role="strong">ハードリンク数</emphasis>
</simpara>
          </listitem>
          <listitem>
            <simpara>
ファイルを所有する<emphasis role="strong">ユ-ザー(user)</emphasis>の名前
</simpara>
          </listitem>
          <listitem>
            <simpara>
ファイルが所属する<emphasis role="strong">グループ(group)</emphasis>
</simpara>
          </listitem>
          <listitem>
            <simpara>
ファイルの<emphasis role="strong">サイズ</emphasis>(文字数、バイト)
</simpara>
          </listitem>
          <listitem>
            <simpara>
ファイルの<emphasis role="strong">日時</emphasis>(mtime)
</simpara>
          </listitem>
          <listitem>
            <simpara>
ファイルの<emphasis role="strong">名前</emphasis>。
</simpara>
          </listitem>
        </itemizedlist>
        <table id="listofthefirstchacteroflsloutput" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>"<literal>ls -l</literal>"の出力の最初の文字のリスト</title>
          <tgroup cols="2">
            <colspec colwidth="144" align="left"/>
            <colspec colwidth="360" align="left"/>
            <thead>
              <row>
                <entry>
    文字
    </entry>
                <entry>
    意味
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>-</literal>
                </entry>
                <entry>
    通常ファイル
    </entry>
              </row>
              <row>
                <entry>
                  <literal>d</literal>
                </entry>
                <entry>
    ディレクトリ
    </entry>
              </row>
              <row>
                <entry>
                  <literal>l</literal>
                </entry>
                <entry>
    シムリンク
    </entry>
              </row>
              <row>
                <entry>
                  <literal>c</literal>
                </entry>
                <entry>
    文字デバイス名
    </entry>
              </row>
              <row>
                <entry>
                  <literal>b</literal>
                </entry>
                <entry>
    ブロックデバイス名
    </entry>
              </row>
              <row>
                <entry>
                  <literal>p</literal>
                </entry>
                <entry>
    名前付きパイプ
    </entry>
              </row>
              <row>
                <entry>
                  <literal>s</literal>
                </entry>
                <entry>
    ソケット
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>rootアカウントから<literal>chown</literal>(1)を使用することでファイルの所有者を変更します。ファイルの所有者又はrootアカウントから<literal>chgrp</literal>(1)を使用することでファイルのグループを変更します。ファイルの所有者又はrootアカウントから<literal>chmod</literal>(1)を使用することでファイルやディレクトリのアクセス権を変更します。<literal>foo</literal>ファイルの操作の基本的文法は次の通り: </simpara>
        <screen># chown &lt;newowner&gt; foo
# chgrp &lt;newgroup&gt; foo
# chmod  [ugoa][+-=][rwxXst][,...] foo</screen>
        <simpara>例えば、ディレクトリツリーの所有者をユーザ<literal>foo</literal>に変更し、グループ<literal>bar</literal>で共有する場合、rootアカウントから次のコマンドを実行します:</simpara>
        <screen># cd /some/location/
# chown -R foo:bar .
# chmod -R ug+rwX,o=rX .</screen>
        <simpara>更に特殊なパーミッションビットが3つ存在します:</simpara>
        <itemizedlist>
          <listitem>
            <simpara><emphasis role="strong">セットユーザID</emphasis> (ユーザの<emphasis
role="strong">x</emphasis>に代えて<emphasis role="strong">s</emphasis>か<emphasis
role="strong">S</emphasis>)。
</simpara>
          </listitem>
          <listitem>
            <simpara><emphasis role="strong">セットグループID</emphasis> (グループの<emphasis
role="strong">x</emphasis>に代えて<emphasis role="strong">s</emphasis>か<emphasis
role="strong">S</emphasis>)。
</simpara>
          </listitem>
          <listitem>
            <simpara><emphasis role="strong">スティッキビット</emphasis> (他ユーザの<emphasis
role="strong">x</emphasis>に代えて<emphasis role="strong">t</emphasis>か<emphasis
role="strong">T</emphasis>)。
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>ここで、これらのビットの"<literal>ls -l</literal>"のアウトプットはこれらの出力によってかくされた実行ビットが<emphasis
role="strong">非設定(unset)</emphasis>の場合<emphasis
role="strong">大文字</emphasis>となります。</simpara>
        <simpara><emphasis
role="strong">セットユーザID</emphasis>を実行ファイルにセットすると、ユーザはファイルの所有者ID(例えば、<emphasis
role="strong">root</emphasis>) を使って実行ファイルを実行することを許可されます。同様に、<emphasis
role="strong">セットグループID</emphasis>を実行ファイルにセットすると、ユーザはファイルのグループID(例えば、<emphasis
role="strong">root</emphasis>)
を使って実行ファイルを実行することを許可されます。これらの設定はセキュリティを破壊するリスクを引き起こすので、これらのビットを有効にするには特別な注意が必要です。</simpara>
        <simpara><emphasis
role="strong">セットグループID</emphasis>sをディレクトリに対して有効にすると、ディレクトリに作成した全ファイルがディレクトリの<emphasis
role="strong">グループ</emphasis>に所属するという<ulink
url="&bsdlike;">BSD的</ulink>ファイル生成手法が有効になります。 </simpara>
        <simpara><emphasis
role="strong">スティッキビット</emphasis>をディレクトリに対して有効にすると、ディレクトリにあるファイルがファイルの所有者以外から削除されるのを防ぎます。"<literal>/tmp</literal>"やグループの書き込み可能なディレクトリなどのworld-writable
なディレクトリにあるファイルの内容を安全にするためには、<emphasis
role="strong">書き込み</emphasis>パーミッションを無効にするだけでなく、ディレクトリに<emphasis
role="strong">スティッキビット</emphasis>もセットする必要があります。さもなければ、ディレクトリに書き込みできるユーザにより、ファイルが削除され、同じ名前で新しいファイルが作成されることを許してしまいます。</simpara>
        <simpara>ファイルパーミッションの興味ある例を次にいくつか示します。</simpara>
        <screen>$ ls -l /etc/passwd /etc/shadow /dev/ppp /usr/sbin/exim4
crw------- 1 root root   108, 0 2007-04-29 07:00 /dev/ppp
-rw-r--r-- 1 root root     1427 2007-04-16 00:19 /etc/passwd
-rw-r----- 1 root shadow    943 2007-04-16 00:19 /etc/shadow
-rwsr-xr-x 1 root root   700056 2007-04-22 05:29 /usr/sbin/exim4
$ ls -ld /tmp /var/tmp /usr/local /var/mail /usr/src
drwxrwxrwt 10 root root  4096 2007-04-29 07:59 /tmp
drwxrwsr-x 10 root staff 4096 2007-03-24 18:48 /usr/local
drwxrwsr-x  4 root src   4096 2007-04-27 00:31 /usr/src
drwxrwsr-x  2 root mail  4096 2007-03-28 23:33 /var/mail
drwxrwxrwt  2 root root  4096 2007-04-29 07:11 /var/tmp</screen>
        <simpara><literal>chmod</literal>(1)を用いて、ファイルパーミッションを記述するためのもう一つの数字モードが存在します。この数字モードは8進数を使った3桁から4桁の数字を用います。 </simpara>
        <table id="thenumericmodefoinchmodbcommands" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title><literal>chmod</literal>(1)コマンドで用いられるファイルパーミッションの数字モード。</title>
          <tgroup cols="2">
            <colspec colwidth="144" align="left"/>
            <colspec colwidth="360" align="left"/>
            <thead>
              <row>
                <entry>
    数字
    </entry>
                <entry>
    意味
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
    1桁目(任意)
    </entry>
                <entry>
    <emphasis role="strong">セットユーザID</emphasis> (=4)と<emphasis
role="strong">セットグループID</emphasis> (=2)と<emphasis
role="strong">スティキービット</emphasis> (=1)の和
    </entry>
              </row>
              <row>
                <entry>
    2桁目
    </entry>
                <entry>
    <emphasis role="strong">ユーザ</emphasis>に関して、<emphasis
role="strong">読み(read)</emphasis> (=4)と<emphasis
role="strong">書き(write)</emphasis> (=2)と<emphasis
role="strong">実行(execute)</emphasis> (=1)ファイル許可の和
    </entry>
              </row>
              <row>
                <entry>
    3桁目
    </entry>
                <entry>
    <emphasis role="strong">グループ</emphasis>に関して、同上
    </entry>
              </row>
              <row>
                <entry>
    4桁目
    </entry>
                <entry>
    <emphasis role="strong">ユーザ</emphasis>に関して、同上
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>これは複雑に聞こえるかもしれませんが、実際は本当にシンプルです。"<literal>ls
-l</literal>"コマンドの出力の最初の数列(2〜10列)を見て、それをファイルパーミッションのバイナリ表記(2進数)("-"を"0"、"rwx"を"1""-")として読むと、この数字モードの値はファイルパーミッションの8進数表現として意味を持ちます。例えば、次を試してみてください:</simpara>
        <screen>$ touch foo bar
$ chmod u=rw,go=r foo
$ chmod 644 bar
$ ls -l foo bar
-rw-r--r-- 1 penguin penguin 17 2007-04-29 08:22 bar
-rw-r--r-- 1 penguin penguin 12 2007-04-29 08:22 foo</screen>
        <tip>
          <simpara>シェルスクリプトから"<literal>ls
-l</literal>"で表示される情報にアクセスする必要がある際には、<literal>test</literal>(1)や<literal>stat</literal>(1)や<literal>readlink</literal>(1)のような適切なコマンドの使用を考えるべきです。シェル組込みコマンドの"<literal>[</literal>"や"<literal>test</literal>"を使うのも手です。</simpara>
        </tip>
      </section>
      <section id="_control_of_permissions_for_newly_created_files_umask">
        <title>新規作成ファイルのパーミッションのコントロール:umask</title>
        <simpara>新規作成ファイルのやディレクトリに適用されるパーミッションは<literal>umask</literal>シェル組込みコマンドを使うことにより制限できます。<literal>dash</literal>(1)か<literal>bash</literal>(1)か<literal>builtins</literal>(7)をご覧ください。 </simpara>
        <screen> (file permissions) = (requested file permissions) &amp; ~(umask value)</screen>
        <table id="theumaskvalueexamples" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title><emphasis role="strong">umask</emphasis>値の例。</title>
          <tgroup cols="4">
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="288" align="left"/>
            <thead>
              <row>
                <entry>
    umask
    </entry>
                <entry>
    使い方
    </entry>
                <entry>
    作成されるファイルパーミッション
    </entry>
                <entry>
    作成されるディレクトリパーミッション
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>0022</literal>
                </entry>
                <entry>
    ユーザのみにより書込み可
    </entry>
                <entry>
                  <literal>-rw-r--r--</literal>
                </entry>
                <entry>
                  <literal>-rwxr-xr-x</literal>
                </entry>
              </row>
              <row>
                <entry>
                  <literal>0002</literal>
                </entry>
                <entry>
    グループにより書込み可
    </entry>
                <entry>
                  <literal>-rw-rw-r--</literal>
                </entry>
                <entry>
                  <literal>-rwxrwxr-x</literal>
                </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>Debianシステムはユーザ専用グループ(UPG)方式がデフォルト方式です。新しいユーザがシステムに追加される毎にUPGは作成されます。UPGはそのグループを作成したユーザと同じ名前を持ち、そのユーザがUPGの唯一のメンバーです。UPG方式では、全ユーザが各自専用のグループを持つのでumaskを<literal>0002</literal>と設定しても安全です。(一部Unix系システムでは全一般ユーザを1つの<emphasis
role="strong"><literal>users</literal></emphasis>グループに所属させることがよく行われます。そのような場合には安全のため<literal>0022</literal>とumaskを設定しましょう。)</simpara>
      </section>
      <section id="_permissions_for_groups_of_users_group">
        <title>ユーザのグループ(group)のパーミッション</title>
        <simpara>グループのパーミッションを特定ユーザに適用するには、"<literal>sudo
vigr</literal>"を用いてそのユーザをグループのメンバーにする必要があります。</simpara>
        <note>
          <simpara>もし"<literal>auth optional
pam_group.so</literal>"行が"<literal>/etc/pam.d/common-auth</literal>"に書き加えれ、"<literal>/etc/security/group.conf</literal>"に対応する設定がされていれば、実際のユーザのグループメンバーシップは動的に割り当てられます。(<xref
linkend="_authentication"/>参照。)</simpara>
        </note>
        <simpara>ハードウエアデバイスはDebianシステム上では一種のファイルでしかありません。CD-ROMやUSBメモリスティックのようなデバイスをユーザアカウントからアクセスするのに問題があった場合にはそのユーザを適切なグループのメンバーにしましょう。</simpara>
        <simpara>いくつかのシステムが供給するグループはそのメンバーに<literal>root</literal>権限無しに特定のファイルやデバイスにアクセスすることを可能にします。</simpara>
        <table id="listofnotablesysupsforfileaccess" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>ファイルアクセスのためにシステムが供給する特記すべきグループのリスト。</title>
          <tgroup cols="2">
            <colspec colwidth="144" align="left"/>
            <colspec colwidth="360" align="left"/>
            <thead>
              <row>
                <entry>
    グループ
    </entry>
                <entry>
    アクセスできるファイルやデバイス
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>dialout</literal>
                </entry>
                <entry>
    シリアルポート ("<literal>/dev/ttyS[0-3]</literal>")への全面的かつ直接のアクセス。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>dip</literal>
                </entry>
                <entry>
    信頼できるピアーに<emphasis
role="strong">ダイヤルアップIP</emphasis>接続をするためのシリアルポートへの制限付きアクセス。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>cdrom</literal>
                </entry>
                <entry>
    CD-ROMやDVD+/-RWのドライバ。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>audio</literal>
                </entry>
                <entry>
    音声デバイス。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>video</literal>
                </entry>
                <entry>
    映像デバイス。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>scanner</literal>
                </entry>
                <entry>
    スキャナ。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>adm</literal>
                </entry>
                <entry>
    システムモニタのログ。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>staff</literal>
                </entry>
                <entry>
    下級管理業務のためのディレクトリ:"<literal>/usr/local</literal>"、"<literal>/home</literal>"。
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <tip>
          <simpara>モデムの設定をしたりどこにでも電話したり等するには<literal>dialout</literal>グループに所属する必要があります。もし信頼できるピアーに関する事前定義された設定ファイル"<literal>/etc/ppp/peers/</literal>"が<literal>root</literal>によって作成されていると、<literal>dip</literal>グループに属するだけで<literal>pppd</literal>(8)や<literal>pon</literal>(1)や<literal>poff</literal>(1)コマンドを用いて<emphasis
role="strong">ダイヤルアップIP</emphasis>接続が作成できます。</simpara>
        </tip>
        <simpara>いくつかのシステムが供給するグループはそのメンバーに<literal>root</literal>権限無しに特定のコマンドを実行することを可能にします。</simpara>
        <table id="listofnotablesysommandexecutions" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>特定コマンド実行のためにシステムが供給する特記すべきグループのリスト。</title>
          <tgroup cols="2">
            <colspec colwidth="144" align="left"/>
            <colspec colwidth="360" align="left"/>
            <thead>
              <row>
                <entry>
    グループ
    </entry>
                <entry>
    実行可能なコマンド
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>sudo</literal>
                </entry>
                <entry>
    パスワード無しに<literal>sudo</literal>を実行。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>lpadmin</literal>
                </entry>
                <entry>
    プリンターのデータベースからプリンターを追加・変更・削除するコマンドの実行。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>plugdev</literal>
                </entry>
                <entry>
    USBメモリのような着脱可能なデバイスに関して<literal>pmount</literal>(1)を実行。
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>システムが供給するユーザやグループの完全なリストは、<literal>base-passwd</literal>パッケージが供給する"<literal>/usr/share/doc/base-passwd/users-and-groups.html</literal>"の中にある最新バージョンの"Users
and Groups"文書を参照ください。</simpara>
        <simpara>ユーザやグループシステムを管理するコマンドは<literal>passwd</literal>(5)や<literal>group</literal>(5)や<literal>shadow</literal>(5)や<literal>newgrp</literal>(1)や<literal>vipw</literal>(8)や<literal>vigr</literal>(8)や<literal>pam_group</literal>(8)を参照ください。</simpara>
      </section>
      <section id="_timestamps">
        <title>タイムスタンプ</title>
        <simpara>GNU/Linuxファイルのタイムスタンプには3種類あります。</simpara>
        <table id="listoftypesoftimestamps" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>タイムスタンプのタイプのリスト。</title>
          <tgroup cols="2">
            <colspec colwidth="144" align="left"/>
            <colspec colwidth="360" align="left"/>
            <thead>
              <row>
                <entry>
    タイプ
    </entry>
                <entry>
    意味
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <emphasis role="strong">mtime</emphasis>
                </entry>
                <entry>
    ファイル内容変更時間(<literal>ls -l</literal>)
    </entry>
              </row>
              <row>
                <entry>
                  <emphasis role="strong">ctime</emphasis>
                </entry>
                <entry>
    ファイル状態変更時間(<literal>ls -lc</literal>)
    </entry>
              </row>
              <row>
                <entry>
                  <emphasis role="strong">atime</emphasis>
                </entry>
                <entry>
    ファイル最終アクセス時間 (<literal>ls -lu</literal>)
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara><emphasis role="strong">ctime</emphasis>はファイル作成日時でないことに注意しましょう。</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
ファイルが上書きされると、ファイルの<emphasis role="strong">mtime</emphasis>と<emphasis
role="strong">ctime</emphasis>と<emphasis
role="strong">atime</emphasis>の属性すべてが変更されます。
</simpara>
          </listitem>
          <listitem>
            <simpara>
ファイルの所有者や許可の変更をすると、ファイルの<emphasis role="strong">ctime</emphasis>や<emphasis
role="strong">atime</emphasis> アトリビュートを変えます。
</simpara>
          </listitem>
          <listitem>
            <simpara>
ファイルを読むとファイルの<emphasis
role="strong">atime</emphasis>が変更されます。Debianシステム上のファイルを単に読むだけで<emphasis
role="strong">inode</emphasis>中の<emphasis
role="strong">atime</emphasis>情報を更新する書込みオペレーションが通常引き起こされることを覚えておいてください。ファイルシステムを"<literal>noatime</literal>"や"<literal>relatime</literal>"オプションを用いてマウントすることでシステムはこのようなオペレーションをしなくなるので、ファイルへの読みアクセスを高速化できます。ハードディスクの活動を抑えパワーの節約ができるのでこの様な設定はラップトップに推奨されます。<literal>mount</literal>(8)参照。
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>既存ファイルのタイムスタンプを変更するには<literal>touch</literal>(1)コマンドを使ってください。</simpara>
        <simpara>タイムスタンプに関して、現代の英語ロケール("<literal>en_US.UTF-8</literal>")では古い英語ロケール("<literal>C</literal>")と違った文字列が<literal>ls</literal>コマンドから出力されます。</simpara>
        <screen>$ LANG=en_US.UTF-8  ls -l foo
-rw-r--r-- 1 penguin penguin 3 2008-03-05 00:47 foo
$ LANG=C  ls -l foo
-rw-r--r-- 1 penguin penguin 3 Mar  5 00:47 foo</screen>
        <tip>
          <simpara>"<literal>ls -l</literal>"の出力のカスタマイズは<xref
linkend="_customized_display_of_time_and_date"/>参照下さい。</simpara>
        </tip>
      </section>
      <section id="_links">
        <title>リンク</title>
        <simpara>"<literal>foo</literal>"というファイルを異なるファイル名"<literal>bar</literal>"に結びつけるのには2つの方法があります。</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
<ulink url="&hardlink;">ハードリンク</ulink>は既存のファイルに対する重複した名前です(<literal>ln foo
bar</literal>)。
</simpara>
          </listitem>
          <listitem>
            <simpara>
<ulink
url="&symboliclink;">シンボリックリンク</ulink>または"シムリンク"は名前により他のファイルを指し示す特別なファイルです(<literal>ln
-s foo bar</literal>)。
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>リンク数の変化と<literal>rm</literal>コマンドの結果の微妙な違いについての次の例をご覧ください。 </simpara>
        <screen>$ echo "Original Content" &gt; foo
$ ls -li foo
2398521 -rw-r--r-- 1 penguin penguin 17 2007-04-29 08:15 foo
$ ln foo bar     # hard link
$ ln -s foo baz  # symlink
$ ls -li foo bar baz
2398521 -rw-r--r-- 2 penguin penguin 17 2007-04-29 08:15 bar
2398538 lrwxrwxrwx 1 penguin penguin  3 2007-04-29 08:16 baz -&gt; foo
2398521 -rw-r--r-- 2 penguin penguin 17 2007-04-29 08:15 foo
$ rm foo
$ echo "New Content" &gt; foo
$ ls -li foo bar baz
2398521 -rw-r--r-- 1 penguin penguin 17 2007-04-29 08:15 bar
2398538 lrwxrwxrwx 1 penguin penguin  3 2007-04-29 08:16 baz -&gt; foo
2398540 -rw-r--r-- 1 penguin penguin 12 2007-04-29 08:17 foo
$ cat bar
Original Content
$ cat baz
New Content</screen>
        <simpara>ハードリンクは同一ファイルシステム内に作れ、<literal>ls</literal>(1)コマンドに"<literal>-i</literal>"オプションを使って表示されるinode番号が同じです。</simpara>
        <simpara>シンボリックリンクは上の例に示したように、常にファイルアクセスパーミッション"<literal>rwxrwxrwx</literal>"を持ちますので、シンボリックリンクが指すファイルのアクセスパーミッションが有効ファイルアクセスパーミッションとなります。</simpara>
        <caution>
          <simpara>もし特段の理由がないなら複雑なシンボリックリンクやハードリンクを作らない方が一般的には良いでしょう。シンボリックリンクの論理的組み合わせがファイルシステム中でループになっているという悪夢を引き起こすかもしれません。</simpara>
        </caution>
        <note>
          <simpara>もしハードリンクを使う特段の理由がなければ、ハードリンクよりシンボリックリンクを使う方が一般的には良いでしょう。</simpara>
        </note>
        <simpara>"<literal>.</literal>"ディレクトリは、それ自身が中にあるディレクトリとリンクしていますので、新しいディレクトリリンク数は2から始まります。"<literal>..</literal>"ディレクトリは親ディレクトリとリンクしているので、ディレクトリのリンク数は新しいサブディレクトリの増加に伴い増加します。</simpara>
        <simpara>もし最近あなたがWindowsからLinuxに移動してきたなら、Unixのファイル名のリンクはWindows上でもっとも似ている"shortcuts"との比較で如何にうまくできているかにすぐ気づくでしょう。ファイルシステム中に実装されているのでアプリケーションからはリンクされたファイルなのかオリジナルなのかの区別がつきません。ハードリンクの場合は実際全く違いはありません。</simpara>
      </section>
      <section id="_named_pipes_fifos">
        <title>名前付きパイプ(FIFO)</title>
        <simpara><ulink
url="&namedpipe;">名前付きパイプ</ulink>は、パイプのように働くファイルです。何かをファイルに入れると、もう一方の端からそれが出てきます。こうしてこれはFIFOまたはFirst-In-First-Out(先入れ先出し)と呼ばれます。つまり、最初にパイプに入れられたものが最初にもう一方の端から出てきます。</simpara>
        <simpara>名前付きパイプに書き込んむ場合、パイプに書き込んむプロセスは情報がパイプから読み出されるまで終了しません。名前付きパイプから読み出す場合、読み出すプロセス何か読み込むものが無くなるまで終了するのを待ちます。パイプのサイズは常に
0 です。 -- 名前付きパイプはデータを保存せず、
シェルの"<literal>|</literal>"のように2つのプロセスをリンクするだけです。しかし、このパイプは名前を持つので、2つのプロセスは同じコマンドラインになくても良いし、同じユーザにより実行される必要さえありません。パイプはUnixの非常に影響力ある発明でした。</simpara>
        <simpara>次を実行して試してください:</simpara>
        <screen>$ cd; mkfifo mypipe
$ echo "hello" &gt;mypipe &amp; # put into background
[1] 8022
$ ls -l mypipe
prw-r--r-- 1 penguin penguin 0 2007-04-29 08:25 mypipe
$ cat mypipe
hello
[1]+  Done                    echo "hello" &gt;mypipe
$ ls mypipe
mypipe
$ rm mypipe</screen>
      </section>
      <section id="_sockets">
        <title>ソケット</title>
        <simpara>ソケットはインターネットのコミュニケーションやデータベースやオペレーティングシステム自身によって頻繁に使われます。ソケットは名前つきパイプ(FIFO)に似ており、異なるコンピュータ間でさえプロセス間の情報交換を可能にします。ソケットにとって、これらのプロセスは同時に実行する必要も、同じ祖先プロセスの子供である必要もありません。これは<ulink
url="&theinterprocesscommunicationipc;">プロセス間通信(IPC)</ulink>の終端点です。ネットワーク越しで異なるホストの間で情報の交換をすることも可能です。2つの典型的なソケットは、<ulink
url="&theinternetsocket;">インターネットソケット</ulink>と<ulink
url="&theunixdomainsocket;">Unixドメインソケット</ulink>です。</simpara>
        <tip>
          <simpara>"<literal>netstat -an</literal>"を実行すると特定のシステム上のソケットの全般状況がよく分かります。</simpara>
        </tip>
      </section>
      <section id="_device_files">
        <title>デバイスファイル</title>
        <simpara><ulink
url="&devicefiles;">デバイスファイル</ulink>は、システム上のハードディスク、ビデオカード、ディスプレイ、キーボードなどの物理デバイス又は仮想デバイス等を意味します。仮想デバイスの例として"<literal>/dev/console</literal>"として表されるコンソールがあります。</simpara>
        <table id="thedevicetypes" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>デバイスのタイプ</title>
          <tgroup cols="2">
            <colspec colwidth="144" align="left"/>
            <colspec colwidth="360" align="left"/>
            <thead>
              <row>
                <entry>
    デバイスのタイプ
    </entry>
                <entry>
    意味
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <emphasis role="strong">文字デバイス</emphasis>
                </entry>
                <entry>
    一度に1つの文字づつアクセスする、デバイスから書き込みや読み込みを行うデータの最小単位が文字(バイト)であるデバイスです。 
    </entry>
              </row>
              <row>
                <entry>
                  <emphasis role="strong">ブロックデバイス</emphasis>
                </entry>
                <entry>
    ブロックと呼ばれる複数の文字を含む比較的大きな大きな単位でアクセスされるデバイスです。ハードディスクはブロックデバイスです。
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>デバイスファイルの読み書きが可能ですが、人間にとっては意味不明のバイナリデータがファイル中に多分含まれています。データを直接デバイスファイルに書き込むことは時々ハードウェアの接続に関するトラブルシュートに役立ちます。例えば、プリンタデバイス"<literal>/dev/lp0</literal>"にテキストファイルをダンプしたり、
適切なシリアルポート"<literal>/dev/ttyS0</literal>"にモデムコマンドを送ることができます。しかし、注意深くやらないと、大災害をもたらすことがあります。くれぐれも気をつけてください。 </simpara>
        <note>
          <simpara>通常のプリンターへのアクセスは<literal>lp</literal>(1)を使いましょう。</simpara>
        </note>
        <simpara><literal>ls</literal>(1)を次のように実行するとデバイスノード番号が表示されます:</simpara>
        <screen>$ ls -l /dev/hda /dev/ttyS0 /dev/zero
brw-rw---- 1 root cdrom   3,  0 2007-04-29 07:00 /dev/hda
crw-rw---- 1 root dialout 4, 64 2007-04-29 07:00 /dev/ttyS0
crw-rw-rw- 1 root root    1,  5 2007-04-29 07:00 /dev/zero</screen>
        <simpara>上記で:</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
"<literal>/dev/hda</literal>"はメジャーデバイス番号3とマイナーデバイス番号0を持ちます。これは<literal>disk</literal>グループに所属するユーザにより、読み書きアクセスが可能です。
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>/dev/ttyS0</literal>"
はメジャーデバイス番号4とマイナーデバイス番号64を持ちます。これは<literal>dialout</literal>グループに所属するユーザにより、読み書きアクセスが可能です。
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>/dev/zero</literal>"
はメジャーデバイス番号1とマイナーデバイス番号5を持ちます。これは誰によっても読み書きアクセスが可能です。
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>Linux
2.6システムでは、"<literal>/dev/</literal>"の下のファイルは<literal>udev</literal>(7)メカニズムで自動的に生成されます。 </simpara>
      </section>
      <section id="_special_device_files">
        <title>特別なデバイスファイル</title>
        <simpara>いくつかの特別なデバイスファイルがあります。</simpara>
        <table id="listofspecialdevicefiles" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>スペシャルなデバイスファイルのリスト。</title>
          <tgroup cols="3">
            <colspec colwidth="108" align="left"/>
            <colspec colwidth="108" align="left"/>
            <colspec colwidth="288" align="left"/>
            <thead>
              <row>
                <entry>
    デバイスファイル
    </entry>
                <entry>
    アクション
    </entry>
                <entry>
    レスポンス
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>/dev/null</literal>
                </entry>
                <entry>
    読み
    </entry>
                <entry>
    "行末(EOF)文字"を返します。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/dev/null</literal>
                </entry>
                <entry>
    書き
    </entry>
                <entry>
    底なしのデータのゴミ捨て場です。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/dev/zero</literal>
                </entry>
                <entry>
    読み
    </entry>
                <entry>
    "<literal>\0</literal> (NUL)文字"を返します(ASCIIの数字のゼロとは違います)。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/dev/random</literal>
                </entry>
                <entry>
    読み
    </entry>
                <entry>
    真の乱数発生機から真のエントロピーのあるランダムな文字を返す。(遅い)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/dev/urandom</literal>
                </entry>
                <entry>
    読み
    </entry>
                <entry>
    暗号学的にセキュアな擬似乱数発生機からランダムな文字を返す。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/dev/full</literal>
                </entry>
                <entry>
    書き
    </entry>
                <entry>
    ディスクフル(ENOSPC)エラーを返す。
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>以上はシェルのリディレクションとともによく使われます。(<xref
linkend="_typical_command_sequences_and_shell_redirection"/>参照)。</simpara>
      </section>
      <section id="_procfs_and_sysfs">
        <title>procfsとsysfs</title>
        <simpara><ulink url="&procfs;">procfs</ulink>と<ulink
url="&sysfs;">sysfs</ulink>は"<literal>/proc</literal>"や"<literal>/sys</literal>"上にマウントされる仮想ファイルシステムであり、カーネルの内部データ構造をユーザスペースにさらけ出します。言い換えると、オペレーティングシステムのオペレーションへの便利なのぞき窓となると言う意味で仮想といえます。</simpara>
        <simpara>"<literal>/proc</literal>"ディレクトリ中には、システム上で実行されている各プロセスに対応したそのプロセスID(PID)の名前がついたサブディレクトリ他があります。プロセス情報をアクセスする<literal>ps</literal>(1)のようなシステムユーティリティはこのディレクトリ構造からその情報を得ています。</simpara>
        <simpara>"<literal>/proc/sys/</literal>"の下のディレクトリには実行時のカーネル変数を変更するインターフェースがあります。(専用の<literal>sysctl</literal>(8)コマンドもしくはその起動/設定ファイル"<literal>/etc/sysctrl.conf</literal>"によっても同様のことができます。)</simpara>
        <note>
          <simpara>Linuxカーネルが"Too many open files"とエラーを出力することがあります。rootのシェルから、例えば"<literal>echo
"65536" &gt;
/proc/sys/fs/file-max</literal>"等と"<literal>file-max</literal>"の値をより大きな値に増加することで解決できます。(古いカーネルではこれが必要でした。)</simpara>
        </note>
        <simpara>特にあるファイル - "<literal>/proc/kcore</literal>" -
に気づくと、パニックになる人がよくいます。これは一般に巨大です。これは(おおよそ)コンピュータのメモリの内容のコピーです。これは kernel
をデバッグするのに用いられます。コンピュータのメモリを指す仮想ファイルなので、そのサイズに関して心配する必要は全くありません。</simpara>
        <simpara>"<literal>/sys</literal>"の下のディレクトリはカーネルから引き出されたデータ構造、その属性、それらの関連を含んでいます。一部カーネル変数を実行時に変更する機構もまた含まれたりします。</simpara>
        <simpara><literal>linux-doc-2.6.*</literal>パッケージで供給されるLinuxカーネル文書("<literal>/usr/share/doc/linux-doc-2.6.*/Documentation/filesystems/*</literal>")中の"<literal>proc.txt(.gz)</literal>"や"<literal>sysfs.txt(.gz)</literal>"や関連する他の文書を参照下さい。</simpara>
      </section>
    </section>
    <section id="_midnight_commander_mc">
      <title>ミッドナイトコマンダー(MC)</title>
      <simpara><ulink url="&midnightcommandermc;">Midnight Commander (MC)</ulink>はLinux
コンソールや他の端末環境のためのGNU製"スイス軍ナイフ"です。標準Unixコマンドを習うよりもより簡単なメニューを使ったコンソール経験が初心者にもできます。</simpara>
      <simpara>"<literal>mc</literal>"と名づけられた Midnight Commanderパッケージをインストールする必要があります。</simpara>
      <screen>$ sudo aptitude install mc</screen>
      <simpara>Debian
システムを探検するために<literal>mc</literal>(1)コマンドを使いましょう。これは学習するための最良の方法です。カーソルキーとエンターキーを使うだけでいくつかの主要な場所を探検してください。</simpara>
      <itemizedlist>
        <listitem>
          <simpara>
"<literal>/etc</literal>"とサブディレクトリ。
</simpara>
        </listitem>
        <listitem>
          <simpara>
"<literal>/var/log</literal>"とサブディレクトリ。
</simpara>
        </listitem>
        <listitem>
          <simpara>
"<literal>/usr/share/doc</literal>"とサブディレクトリ。
</simpara>
        </listitem>
        <listitem>
          <simpara>
"<literal>/sbin</literal>"と"<literal>/bin</literal>"。
</simpara>
        </listitem>
      </itemizedlist>
      <section id="_customization_of_mc">
        <title>MCのカスタム化</title>
        <simpara>終了時に作業ディレクトリをMCに変更させそのディレクトリへcdさせるためには、"<literal>~/.bashrc</literal>"を次を含むように変更しましょう:</simpara>
        <screen>. /usr/share/mc/bin/mc.sh</screen>
        <simpara>この理由は<literal>mc</literal>(1) ("<literal>-P</literal>"オプション項目)
を参照下さい(今言っていることがよく分からないなら、これは後日しても大丈夫です。)</simpara>
      </section>
      <section id="_starting_mc">
        <title>MCの始動</title>
        <simpara>MCは次のようにして始動できます:</simpara>
        <screen>$ mc</screen>
        <simpara>MCを使うとメニューを通じた最小限のユーザの努力で全てのファイル操作の面倒が見られます。ヘルプ表示を出すには、ただF1を押すだけです。カーソルキーとファンクションキーの操作だけでMCを使えます。</simpara>
        <note>
          <simpara><literal>gnome-terminal</literal>(1)のようなコンソールでは、ファンクションキーのキーストロークがコンソールプログラムに横取りされる事があります。<literal>gnome-terminal</literal>の場合、"Edit"
→ "Keyboard Shortcuts"とするとこの機能を無効にできます。</simpara>
        </note>
        <simpara>もし文字化け表示がされる文字エンコーディング問題に出会った際には、MCのコマンドラインに"<literal>-a</literal>"を加えると解消する事があります。</simpara>
        <simpara>これでもMCの表示の問題が解消しない際には、<xref linkend="_the_terminal_configuration"/>を参照下さい。</simpara>
      </section>
      <section id="_file_manager_in_mc">
        <title>MCのファイルマネージャ</title>
        <simpara>2つのディレクトリパネルがありそれぞれファイルリストを含むのが標準です。他の便利なモードとしては、右側のウィンドウを"information"
とセットしてファイルアクセス権情報などを表示するモードがあります。次にいくつかの不可欠なキーストロークを示します。<literal>gpm</literal>(8)デーモンを実行すると、Linuxの文字ターミナルでマウスも使えます。(MC
で通常の挙動のカットアンドペーストをさせるには、shiftキーを押してください。) </simpara>
        <table id="thekeybindingsofmc" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>MCのキーバインディング</title>
          <tgroup cols="2">
            <colspec colwidth="144" align="left"/>
            <colspec colwidth="360" align="left"/>
            <thead>
              <row>
                <entry>
    キー
    </entry>
                <entry>
    キーバインディング
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>F1</literal>
                </entry>
                <entry>
    ヘルプメニュー
    </entry>
              </row>
              <row>
                <entry>
                  <literal>F3</literal>
                </entry>
                <entry>
    内部ファイルビューア
    </entry>
              </row>
              <row>
                <entry>
                  <literal>F4</literal>
                </entry>
                <entry>
    内部エディタ
    </entry>
              </row>
              <row>
                <entry>
                  <literal>F9</literal>
                </entry>
                <entry>
    プルダウンメニューを有効にする
    </entry>
              </row>
              <row>
                <entry>
                  <literal>F10</literal>
                </entry>
                <entry>
    MCを終了する 
    </entry>
              </row>
              <row>
                <entry>
                  <literal>Tab</literal>
                </entry>
                <entry>
    二つのウィンドウの間を移動する 
    </entry>
              </row>
              <row>
                <entry><literal>Insert</literal>もしくは<literal>Ctrl-T</literal>
    </entry>
                <entry>
    コピーのような複数ファイル操作のため、ファイルにマークをする
    </entry>
              </row>
              <row>
                <entry>
                  <literal>Del</literal>
                </entry>
                <entry>
    ファイルの削除 (気をつけましょう -- MCを安全削除モードに設定) 
    </entry>
              </row>
              <row>
                <entry>
    カーソルキー
    </entry>
                <entry>
    自明
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </section>
      <section id="_command_line_tricks_in_mc">
        <title>MC のコマンドライントリック</title>
        <itemizedlist>
          <listitem>
            <simpara>
<literal>cd</literal>コマンドは選択されたスクリーンに表示されたディレクトリを変更します。
</simpara>
          </listitem>
          <listitem>
            <simpara><literal>Ctrl-Enter</literal>と<literal>Alt-Enter</literal>はファイル名をコマンドラインにコピーします。コマンドライン編集と一緒に<literal>cp</literal>(1)や<literal>mv</literal>(1)コマンドで御使用ください。
</simpara>
          </listitem>
          <listitem>
            <simpara><literal>Alt-Tab</literal>はシェルファイル名の自動展開の選択肢を表示します。
</simpara>
          </listitem>
          <listitem>
            <simpara>
MCの引数で両ウインドウの開始ディレクトリを指定できます。例えば"<literal>mc /etc /root</literal>"。
</simpara>
          </listitem>
          <listitem>
            <simpara><literal>Esc</literal> + <literal>n-key</literal> → <literal>Fn</literal>
(つまり、<literal>Esc</literal> + <literal>1</literal> →
<literal>F1</literal>、等々、<literal>Esc</literal> + <literal>0</literal> →
<literal>F10</literal>)
</simpara>
          </listitem>
          <listitem>
            <simpara>
<literal>Esc</literal>をキーの前に押すのは<literal>Alt</literal>をキーと同時に押すのと同様の効果があります。つまり、<literal>Esc</literal>
+ <literal>c</literal>
は<literal>Alt-C</literal>と同じです。<literal>Esc</literal>はメタキーとよばれ時々"<literal>M-</literal>"と表記されます。
</simpara>
          </listitem>
        </itemizedlist>
      </section>
      <section id="_the_internal_editor_in_mc">
        <title>MCの内部エディタ</title>
        <simpara>MC
の内部エディタは興味深いカットアンドペースト機構を持ちます。<literal>F3</literal>キーを押すと、選択範囲の開始としてマークし、次に<literal>F3</literal>を押すと、選択範囲の終了としてマークし、選択範囲を強調します。そしてカーソルを動かすことができます。F6を押すと、選択範囲はカーソルの位置に移動します。F5を押すと、選択範囲はコピーされ、カーソルの位置に挿入されます。<literal>F2</literal>を押すとファイルをセーブします。<literal>F10</literal>を押すと選択範囲はなくなります。ほとんどのカーソルキーは直感的に働きます。 </simpara>
        <simpara>このエディタは直接ファイルに関しても起動できます:</simpara>
        <screen>$ mc -e filename_to_edit
$ mcedit filename_to_edit</screen>
        <simpara>これはマルチモードエディタではありませんが、複数の Linux コンソール上で使用すると同じ効果を発揮させされます。ウィンドウ間のコピーを行うには、
Alt-&lt;n&gt;キーを押して仮想コンソールを切替えて、"File→Insert file"や"File→Copy to
file"を用いてファイルの一部を他のファイルに動かします。</simpara>
        <simpara>この内部エディタはお好きな他の外部エディタと置き換えが可能です。</simpara>
        <simpara>また、多くのプログラムは使用するエディタを決定するために環境変数"<literal>$EDITOR</literal>"や"<literal>$VISUAL</literal>"を使用します。最初<literal>vim</literal>(1)や<literal>nano</literal>(1)が使いにくい場合には"<literal>~/.bashrc</literal>"に次に示す行を追加してエディタを"<literal>mcedit</literal>"に設定するのも一計です。</simpara>
        <screen>...
export EDITOR=mcedit
export VISUAL=mcedit
...</screen>
        <simpara>できればこれは"<literal>vim</literal>"に設定することを推奨します。</simpara>
        <simpara><literal>vim</literal>(1)が使いにくい場合には、<literal>mcedit</literal>(1)をほとんどのシステム管理業務のために使い続けられます。</simpara>
      </section>
      <section id="_the_internal_viewer_in_mc">
        <title>MCの内部ビューア</title>
        <simpara>非常に小さなビューアです。文書内の単語を検索するための素晴らしいツールです。私は"<literal>/usr/share/doc</literal>"ディレクトリ内のファイルに対していつもこれを使います。これは
大量にあるLinux情報をブラウズするための最速の方法です。このビューアはこのように直接起動できます。</simpara>
        <screen>$ mc -v path/to/filename_to_view
$ mcview path/to/filename_to_view</screen>
      </section>
      <section id="_auto_start_features_of_mc">
        <title>MCの自動起動機能</title>
        <simpara>ファイルの上でEnterを押すと、適切なプログラムがファイル内容を処理します(<xref
linkend="_customizing_program_to_be_started"/>参照)。これは非常に便利な MC の機能です。</simpara>
        <table id="thereactiontotheenterkeyinmc" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>キー入力へのMCの反応</title>
          <tgroup cols="2">
            <colspec colwidth="144" align="left"/>
            <colspec colwidth="360" align="left"/>
            <thead>
              <row>
                <entry>
    ファイルタイプ
    </entry>
                <entry>
    enterキーへの反応
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
    実行ファイル
    </entry>
                <entry>
    コマンド実行
    </entry>
              </row>
              <row>
                <entry>
    manファイル
    </entry>
                <entry>
    ビューアソフトに内容をパイプする
    </entry>
              </row>
              <row>
                <entry>
    htmlファイル
    </entry>
                <entry>
    ウエッブブラウザに内容をパイプする
    </entry>
              </row>
              <row>
                <entry>
    "<literal>*.tar.gz</literal>"や"<literal>*.deb</literal>"ファイル
    </entry>
                <entry>
    サブディレクトリであるかのように内容を表示
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>これらのビューアや仮想ファイルの機能を有効にするためには、閲覧可能なファイルには実行可能と設定されていてはいけません。<literal>chmod</literal>(1)コマンドを使うか、MC
のファイルメニュー経由で状態を変更してください。</simpara>
      </section>
      <section id="_ftp_virtual_filesystem_of_mc">
        <title>MCのFTP仮想ファイルシステム</title>
        <simpara>MCをInternet越しでのFTPを用いたファイルアクセスに使えます。<literal>F9</literal>を押してメニューに行き、"<literal>p</literal>"を押してFTP仮想ファイルシステムを有効にします。"<literal>username:passwd@hostname.domainname</literal>"の形式でURLを入力すると、あたかもローカルにあるかのようにリモートディレクトリを取得します。</simpara>
        <simpara>"[http.us.debian.org/debian]"をURLとしてDebianアーカイブを覗いてみましょう。</simpara>
      </section>
    </section>
    <section id="_the_basic_unix_like_work_environment">
      <title>基本のUnix的作業環境</title>
      <simpara>MCはほとんど全てのことを可能にしますが、シェルプロンプトから実行されるコマンドラインツールの使用方法について学び、Unix的な作業環境に親しむのは非常に重要なことです。</simpara>
      <section id="_the_login_shell">
        <title>loginシェル</title>
        <simpara>ログインシェルは<literal>chsh</literal>(1)を使えば選択できます。</simpara>
        <table id="list-of-shell-programs" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>シェルプログラムのリスト。</title>
          <tgroup cols="5">
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="216" align="left"/>
            <thead>
              <row>
                <entry>
    パッケージ
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    サイズ
    </entry>
                <entry>
    POSIXシェル
    </entry>
                <entry>
    説明
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/bash"> <literal>bash</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/bash">&pop-bash;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/b/bash.html">&size-bash;</ulink></entry>
                <entry>
    はい
    </entry>
                <entry><ulink url="&bash;">Bash</ulink>:GNU Bourne Again SHell(事実上の標準シェル)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/tcsh"> <literal>tcsh</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/tcsh">&pop-tcsh;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/t/tcsh.html">&size-tcsh;</ulink></entry>
                <entry>
    いいえ
    </entry>
                <entry><ulink url="&tenexcshell;">TENEX C Shell</ulink>:拡張バージョンの<ulink
url="&berkeleycsh;">Berkeley csh</ulink>。
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/dash"> <literal>dash</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/dash">&pop-dash;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/d/dash.html">&size-dash;</ulink></entry>
                <entry>
    はい
    </entry>
                <entry>
    Debianの<ulink url="&almquistshell;">Almquistシェル</ulink>。シェルスクリプトに好適。
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/zsh"> <literal>zsh</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/zsh">&pop-zsh;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/z/zsh.html">&size-zsh;</ulink></entry>
                <entry>
    はい
    </entry>
                <entry><ulink url="&zshell;">Z shell</ulink>:多くの拡張された標準シェル。
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/pdksh"> <literal>pdksh</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/pdksh">&pop-pdksh;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/p/pdksh.html">&size-pdksh;</ulink></entry>
                <entry>
    はい
    </entry>
                <entry>
    A public domain version of the <ulink url="&kornshell;">Kornシェル</ulink>.
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/csh"> <literal>csh</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/csh">&pop-csh;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/c/csh.html">&size-csh;</ulink></entry>
                <entry>
    いいえ
    </entry>
                <entry><ulink url="&openbsd;">OpenBSD</ulink>のCシェル、<ulink
url="&berkeleycsh;">Berkeley csh</ulink>の1バージョン。
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/sash"> <literal>sash</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/sash">&pop-sash;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/s/sash.html">&size-sash;</ulink></entry>
                <entry>
    はい
    </entry>
                <entry>組み込みコマンド付きの<ulink
url="&standaloneshell;">独立シェル</ulink>。(標準の"<literal>/bin/sh</literal>"には向きません。)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/ksh"> <literal>ksh</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/ksh">&pop-ksh;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/k/ksh.html">&size-ksh;</ulink></entry>
                <entry>
    はい
    </entry>
                <entry>
    真のAT&amp;Tバージョンの<ulink url="&kornshell;">Kornシェル</ulink>。
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/rc"> <literal>rc</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/rc">&pop-rc;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/r/rc.html">&size-rc;</ulink></entry>
                <entry>
    いいえ
    </entry>
                <entry>
    <ulink url="&attplanj;">AT&amp;T Plan 9</ulink>の<ulink
url="&rcshell;">rcシェル</ulink>の実装。
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/posh"> <literal>posh</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/posh">&pop-posh;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/p/posh.html">&size-posh;</ulink></entry>
                <entry>
    はい
    </entry>
                <entry>
    ポリシー準拠の通常シェル。<literal>pdksh</literal>の派生。
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>このチュートリアル章内では、インタラクティブなシェルは常に<literal>bash</literal>です。</simpara>
      </section>
      <section id="_customizing_bash">
        <title>Bashのカスタム化</title>
        <simpara><literal>bash</literal>(1)の動作は"<literal>~/.bashrc</literal>"でカスタマイズできます。例えば次を"<literal>~/.bashrc</literal>"に加えます:</simpara>
        <screen># CD upon exiting MC
. /usr/share/mc/bin/mc.sh

# set CDPATH to good one
CDPATH=.:/usr/share/doc:~/Desktop/src:~/Desktop:~
export CDPATH

PATH="${PATH}":/usr/sbin:/sbin
# set PATH so it includes user's private bin if it exists
if [ -d ~/bin ] ; then
  PATH=~/bin:"${PATH}"
fi
export PATH

EDITOR=vim
export EDITOR</screen>
        <tip>
          <simpara><literal>bash</literal>に関する更なるカスタマイズ方法は、<xref
linkend="_system_tips"/>中の<xref linkend="_colorized_commands"/>等にあります。</simpara>
        </tip>
      </section>
      <section id="_special_key_strokes">
        <title>特別のキーストローク</title>
        <simpara><ulink
url="&unixlike;">Unix的</ulink>環境下では、特別の意味を持ったいくつかのキーストロークがあります。通常のLinuxの文字ターミナルでは左側の<literal>Ctrl</literal>や<literal>Alt</literal>キーのみが期待にそって機能することに配慮下さい。次に特記すべき暗記するべきキーストロークを記します。</simpara>
        <table id="listofkeybindingsforbash" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>Bashのキーバインディングのリスト。</title>
          <tgroup cols="2">
            <colspec colwidth="144" align="left"/>
            <colspec colwidth="360" align="left"/>
            <thead>
              <row>
                <entry>
    キー
    </entry>
                <entry>
    キーバインディング
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>Ctrl-U</literal>
                </entry>
                <entry>
    カーソルの前の1行を消去する。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>Ctrl-H</literal>
                </entry>
                <entry>
    カーソルの前の1文字を削除する。 
    </entry>
              </row>
              <row>
                <entry>
                  <literal>Ctrl-D</literal>
                </entry>
                <entry>
    入力を終了する。(シェルを使用中の場合、シェルを終了する) 
    </entry>
              </row>
              <row>
                <entry>
                  <literal>Ctrl-C</literal>
                </entry>
                <entry>
    実行中のプログラムを終了する。 
    </entry>
              </row>
              <row>
                <entry>
                  <literal>Ctrl-Z</literal>
                </entry>
                <entry>
    一時的にプログラムをバックグラウンドジョブに入れ停止する。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>Ctrl-S</literal>
                </entry>
                <entry>
    スクリーンへの出力を停止する。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>Ctrl-Q</literal>
                </entry>
                <entry>
    スクリーンへの出力を再開する。 
    </entry>
              </row>
              <row>
                <entry>
                  <literal>Ctrl-Alt-Del</literal>
                </entry>
                <entry>
    システムをリブート/停止する、<literal>inittab</literal>(5)参照。
    </entry>
              </row>
              <row>
                <entry><literal>Left-Altキー</literal> (もしくは、<literal>Windowsキー</literal>)
    </entry>
                <entry>
    Emacsおよび同様のUIでのメタキー
    </entry>
              </row>
              <row>
                <entry>
                  <literal>Up-arrow</literal>
                </entry>
                <entry>
    <literal>bash</literal>でコマンド履歴の検索開始。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>Ctrl-R</literal>
                </entry>
                <entry>
    <literal>bash</literal>でインクリメンタルなコマンド履歴検索の開始。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>Tab</literal>
                </entry>
                <entry>
    <literal>bash</literal>のコマンドラインでファイル名の入力を完結する。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>Ctrl-V</literal> <literal>Tab</literal>
                </entry>
                <entry>
    <literal>bash</literal>のコマンドラインで<literal>Tab</literal>を展開することなく入力する。
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <tip>
          <simpara>ターミナルの<literal>Ctrl-S</literal>機能は<literal>stty</literal>(1)で無効にできます。</simpara>
        </tip>
      </section>
      <section id="_unix_style_mouse_operations">
        <title>Unix流のマウス操作</title>
        <simpara>Unix流のマウス操作は3ボタンマウスが基本です。</simpara>
        <table id="listofunixstylemouseoperations" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>Unix流のマウス操作のリスト</title>
          <tgroup cols="2">
            <colspec colwidth="144" align="left"/>
            <colspec colwidth="360" align="left"/>
            <thead>
              <row>
                <entry>
    アクション
    </entry>
                <entry>
    レスポンス
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
    マウスの左クリックアンドドラッグ
    </entry>
                <entry>
    選択とクリップボードへのコピー。
    </entry>
              </row>
              <row>
                <entry>
    左クリック
    </entry>
                <entry>
    選択開始点の選択。
    </entry>
              </row>
              <row>
                <entry>
    右クリック
    </entry>
                <entry>
    選択終了点の選択とクリップボードへのコピー。
    </entry>
              </row>
              <row>
                <entry>
    中クリック
    </entry>
                <entry>
    クリップボードをカーソル位置に挿入。
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>最近のホイールマウスの真ん中のホイールは中マウスボタンと見なされ、中クリックに使えます。2ボタンマウス状況では左右のボタンの同時押しが中クリックとして使えます。Linuxの文字コンソールでマウスを使うには<literal>gpm</literal>(8)をデーモンで実行する必要があります。</simpara>
      </section>
      <section id="_the_pager">
        <title>ページャ</title>
        <simpara><literal>less</literal>(1)は機能拡張されたページャ(ファイル内容のブラウザ)です。"<literal>h</literal>"
と入力するとヘルプが表示されます。これは、<literal>more</literal>(1) よりもはるかに機能があり、"<literal>eval
$(lesspipe)</literal>"または"<literal>eval
$(lessfile)</literal>"とシェルの開始スクリプト中で実行することで更に機能拡充されます。詳しくは、"<literal>/usr/share/doc/lessf/LESSOPEN</literal>"を参照下さい。"<literal>-R</literal>"オプションを用いると生の
option allows
raw文字出力が許可され、ANSIカラーエスケープシーケンスが有効になります。<literal>less</literal>(1)参照。</simpara>
      </section>
      <section id="_the_text_editor">
        <title>テキストエディタ</title>
        <simpara>Unix的システムで人気のある、<ulink url="&vim;">Vim</ulink>か<ulink
url="&emacs;">Emacs</ulink>プログラムのいずれかのバリアントに習熟するべきです。</simpara>
        <simpara>著者としてはVimコマンドに慣れることは正しいことだと考えています。なぜならViエディタはLinux/Unixの世界では必ず存在するからです。(実際はオリジナルの<literal>vi</literal>か、新しい<literal>nvi</literal>がどこででも見つけられるプログラムです。これにもかかわらずVimを著者が初心者のために選んだのは、より強力かつ動作が充分似ているのと、<literal>F1</literal>キーを通じてヘルプが表示されるからです。)</simpara>
        <simpara>これとは違い、<ulink url="&emacs;">Emacs</ulink>か<ulink
url="&xemacs;">XEmacs</ulink>をエディタとして選ぶのも、特にプログラムをするには、非常に良い選択です。Emacsには、ニュースリーダ機能、ディレクトリの編集機能、メール機能他の、過多な機能があります。プログラミングやシェルスクリプトの編集に使うときは、作業中のフォーマットをインテリジェントに認識し助力をしようとします。Linux上で必要なプログラムはEmacsだけと考える人もいます。Emacsを今10分間学ぶことは将来何時間もの節約になります。Emacsを学ぶ際にはGNUのEmacsマニュアルを持っておくことを高く推薦します。</simpara>
        <simpara>これら全てのプログラムには練習しながら学べるようにチュータリングプログラムが普通付いてきます。Vimを"<literal>vim</literal>"とタイプして起動し、F1キーを押しましょう。最初の35行を読みましょう。カーソルを"<literal>|tutor|</literal>"に移動し<literal>Ctrl-]</literal>を押してオンラインの訓練コースを始めましょう。</simpara>
        <note>
          <simpara>VimやEmacsのような良いエディタは、正しいフォント設定がされたUTF-8ロケールの下の正しいオプションを使ったx-terminal-emulatorを使うと、UTF-8や他のエギゾチックなエンコーディングのテキストを正しく扱えます。マルチバイトテキストに関するそれぞれの文書を参照下さい。</simpara>
        </note>
      </section>
      <section id="_setting_a_default_text_editor">
        <title>デフォルトのテキストエディタの設定</title>
        <simpara>Debianにはいくつかの異なったエディタがあります。上述のように<literal>vim</literal>パッケージをインストールすることを推薦します。</simpara>
        <simpara>Debianではシステムのデフォルトのエディタへの統一されたアクセスを"<literal>/usr/bin/editor</literal>"コマンドを通じて提供しているので、他のプログラム(例えば<literal>reportbug</literal>(1)等)が起動できます。設定変更は:</simpara>
        <screen>$ sudo update-alternatives --config editor</screen>
        <simpara>著者が"<literal>/usr/bin/vim.tiny</literal>"より"<literal>/usr/bin/vim.basic</literal>"を初心者に推薦するのはシンタクスハイライトをサポートしているからです。</simpara>
        <tip>
          <simpara>多くのプログラムは"<literal>$EDITOR</literal>"か"<literal>$VISUAL</literal>"という環境変数を使ってどのエディタを使うかを決めます(<xref
linkend="_the_internal_editor_in_mc"/>と<xref
linkend="_customizing_program_to_be_started"/>参照)。Debianシステムの整合性のために、これらを"<literal>/usr/bin/editor</literal>"と設定しましょう。(歴史的には"<literal>$EDITOR</literal>"は"<literal>ed</literal>"で、"<literal>$VISUAL</literal>"は"<literal>vi</literal>"でした。)</simpara>
        </tip>
      </section>
      <section id="_customizing_vim">
        <title>Vimのカスタム化</title>
        <simpara><literal>vim</literal>(1)の挙動は"<literal>~/.vimrc</literal>"を使ってカスタマイズできます。例えば著者は次を使ってます:</simpara>
        <screen>" -------------------------------
" Local configuration
"
set nocompatible
set nopaste
set pastetoggle=&lt;f2&gt;
syn on
if $USER == "root"
 set nomodeline
 set noswapfile
else
 set modeline
 set swapfile
endif
" filler to avoid the line above being recognized as a modeline
" filler
" filler</screen>
      </section>
      <section id="_recording_the_shell_activities">
        <title>シェル活動の記録</title>
        <simpara>シェルコマンドの出力はスクリーンから押し出されると永久に無くなってしまうかもしれません。シェルでの活動を後で見直せるようにファイルに記録しておくのは良いことです。この種の記録は何らかのシステム管理作業をする際には非常に重要です。</simpara>
        <simpara>シェル活動の記録の基本方法は<literal>script</literal>(1)の下で実行することです。</simpara>
        <screen>$ script
Script started, file is typescript</screen>
        <itemizedlist>
          <listitem>
            <simpara>
何らかのシェルコマンドの実行 …
</simpara>
          </listitem>
          <listitem>
            <simpara>
<literal>Ctrl-D</literal>を押して<literal>script</literal>から脱出。
</simpara>
          </listitem>
        </itemizedlist>
        <screen>$ vim typescript</screen>
        <simpara><xref linkend="_recording_the_shell_activities_cleanly"/>参照。</simpara>
      </section>
      <section id="_basic_unix_commands">
        <title>基本Unixコマンド</title>
        <simpara>基本的Unixコマンドを学びましょう。ここでは一般的意味で"Unix"を使っています。いかなるUnixクローンのOSも等価なコマンドを提供します。Debianシステムも例外ではありません。今一部コマンドが思うように機能しなくても心配しないで下さい。<literal>エアリアス</literal>がシェルで使われた場合は、対応するコマンドの出力は変わります。次は順番に実行すると言う意味の例ではありません。</simpara>
        <simpara>非特権ユーザのアカウントから次のコマンドを全て実行しましょう:</simpara>
        <table id="listofbasicunixcommands" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>基本のUnixコマンドのリスト。</title>
          <tgroup cols="2">
            <colspec colwidth="144" align="left"/>
            <colspec colwidth="360" align="left"/>
            <thead>
              <row>
                <entry>
    コマンド
    </entry>
                <entry>
    説明
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>pwd</literal>
                </entry>
                <entry>
    カレント/ワーキングディレクトリの名前を表示。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>whoami</literal>
                </entry>
                <entry>
    現在のユーザ名を表示。 
    </entry>
              </row>
              <row>
                <entry>
                  <literal>id</literal>
                </entry>
                <entry>
    現在のユーザのアイデンティティ(名前とuidとgidと関連するgroup)。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>file &lt;foo&gt;</literal>
                </entry>
                <entry>
    "<literal>&lt;foo&gt;</literal>"ファイルのファイルタイプを表示する。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>type -p &lt;commandname&gt;</literal>
                </entry>
                <entry>
    "<literal>&lt;commandname&gt;</literal>"コマンドのファイルの位置を表示する。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>which &lt;commandname&gt;</literal>
                </entry>
                <entry>
    , ,
    </entry>
              </row>
              <row>
                <entry>
                  <literal>type &lt;commandname&gt;</literal>
                </entry>
                <entry>
    "<literal>&lt;commandname&gt;</literal>"コマンドに関する情報を表示する。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>apropos &lt;key-word&gt;</literal>
                </entry>
                <entry>
    "<literal>&lt;key-word&gt;</literal>"に関連したコマンドを見つける。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>man -k &lt;key-word&gt;</literal>
                </entry>
                <entry>
    , ,
    </entry>
              </row>
              <row>
                <entry>
                  <literal>whatis &lt;commandname&gt;</literal>
                </entry>
                <entry>
    "<literal>&lt;commandname&gt;</literal>"コマンドに関する1行の説明を表示する。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>man -a &lt;commandname&gt;</literal>
                </entry>
                <entry>
    "<literal>&lt;commandname&gt;</literal>"コマンドに関する説明を表示する。(Unixスタイル)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>info &lt;commandname&gt;</literal>
                </entry>
                <entry>
    "<literal>&lt;commandname&gt;</literal>"コマンドに関する比較的長い説明を表示する。(GNUスタイル)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>ls</literal>
                </entry>
                <entry>
    ディレクトリの内容をリストする。(非ドットファイルおよびディレクトリ)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>ls -a</literal>
                </entry>
                <entry>
    ディレクトリの内容をリストする。(全ファイルおよびディレクトリ)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>ls -A</literal>
                </entry>
                <entry>
    ディレクトリの内容をリストする。(ほとんど全ファイルおよびディレクトリ、"<literal>..</literal>"と"<literal>.</literal>"をスキップ)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>ls -la</literal>
                </entry>
                <entry>
    ディレクトリの内容を詳細情報とともにリストする。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>ls -lai</literal>
                </entry>
                <entry>
    ディレクトリの内容をinode番号と詳細情報とともにリストする。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>ls -d</literal>
                </entry>
                <entry>
    現ディレクトリの中の全ディレクトリをリストする。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>tree</literal>
                </entry>
                <entry>
    ファイルツリーの内容を表示する。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>lsof &lt;foo&gt;</literal>
                </entry>
                <entry>
    "<literal>&lt;foo&gt;</literal>"ファイルのオープンの状態をリスト。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>lsof -p &lt;pid&gt;</literal>
                </entry>
                <entry>
    プロセスID: "<literal>&lt;pid&gt;</literal>"によってオープンされたファイルをリストする。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>mkdir &lt;foo&gt;</literal>
                </entry>
                <entry>
    現ディレクトリ中に"<literal>&lt;foo&gt;</literal>"という新規ディレクトリを作る。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>rmdir &lt;foo&gt;</literal>
                </entry>
                <entry>
    現ディレクトリ中の"<literal>&lt;foo&gt;</literal>"というディレクトリを削除する。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>cd &lt;foo&gt;</literal>
                </entry>
                <entry>
    現ディレクトリ中もしくは"<literal>$CDPATH</literal>"変数中にリストされたディレクトリ中の"<literal>&lt;foo&gt;</literal>"というディレクトリにディレクトリを変更する。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>cd /</literal>
                </entry>
                <entry>
    ディレクトリをrootディレクトリに変更する。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>cd</literal>
                </entry>
                <entry>
    現在のユーザのホームディレクトリにディレクトリを変更する。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>cd /&lt;foo&gt;</literal>
                </entry>
                <entry>
    絶対ディレクトリパス"<literal>/&lt;foo&gt;</literal>"にディレクトリを変更する。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>cd ..</literal>
                </entry>
                <entry>
    親ディレクトリにディレクトリを変更する。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>cd ~&lt;foo&gt;</literal>
                </entry>
                <entry>
    ユーザ"<literal>&lt;foo&gt;</literal>"のホームディレクトリにディレクトリを変更する。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>cd -</literal>
                </entry>
                <entry>
    一つ前のディレクトリにディレクトリを変更する。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>&lt;/etc/motd pager</literal>
                </entry>
                <entry>
    "<literal>/etc/motd</literal>"の内容をデフォルトのページャで表示する。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>touch &lt;junkfile&gt;</literal>
                </entry>
                <entry>
    空ファイル"<literal>&lt;junkfile&gt;</literal>"を作成する。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>cp &lt;foo&gt; &lt;bar&gt;</literal>
                </entry>
                <entry>
    既存のファイル"<literal>&lt;foo&gt;</literal>"を新規ファイル"<literal>&lt;bar&gt;</literal>"にコピーする。 
    </entry>
              </row>
              <row>
                <entry>
                  <literal>rm &lt;junkfile&gt;</literal>
                </entry>
                <entry>
    ファイル"<literal>&lt;junkfile&gt;</literal>"を削除する。 
    </entry>
              </row>
              <row>
                <entry>
                  <literal>mv &lt;foo&gt; &lt;bar&gt;</literal>
                </entry>
                <entry>
    既存のファイル"<literal>&lt;foo&gt;</literal>"の名前を新しい名前"<literal>&lt;bar&gt;</literal>"に変更する。ディレクトリ"<literal>&lt;bar&gt;</literal>"が存在してはいけません。 
    </entry>
              </row>
              <row>
                <entry>
                  <literal>mv &lt;foo&gt; &lt;bar&gt;</literal>
                </entry>
                <entry>
    既存のファイル"<literal>&lt;foo&gt;</literal>"を新しい場所"<literal>&lt;bar&gt;/&lt;foo&gt;</literal>"に移動する。ディレクトリ"<literal>&lt;bar&gt;</literal>"が存在しなければいけない。 
    </entry>
              </row>
              <row>
                <entry>
                  <literal>mv &lt;foo&gt; &lt;bar&gt;/&lt;baz&gt;</literal>
                </entry>
                <entry>
    既存のファイル"<literal>&lt;foo&gt;</literal>"を新しい場所の新しい名前のファイル"<literal>&lt;bar&gt;/&lt;baz&gt;</literal>"に移動する。ディレクトリ"<literal>&lt;bar&gt;</literal>"が存在しなければいけないが、ディレクトリ"<literal>&lt;bar&gt;/&lt;baz&gt;</literal>"は存在してはいけない。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>chmod 600 &lt;foo&gt;</literal>
                </entry>
                <entry>
    既存のファイル"<literal>&lt;foo&gt;</literal>"を他の人から読みも書きもできないようにする。(全ての人にとって実行不可)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>chmod 644 &lt;foo&gt;</literal>
                </entry>
                <entry>
    既存のファイル"<literal>&lt;foo&gt;</literal>"を他の人からは読めるが書けるようにする。(全ての人にとって実行不可)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>chmod 755 &lt;foo&gt;</literal>
                </entry>
                <entry>
    既存のファイル"<literal>&lt;foo&gt;</literal>"を他の人からは読めるが書けるようにする。(全ての人にとって実行可能)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>find .  -name &lt;pattern&gt;</literal>
                </entry>
                <entry>
    シェルで"<literal>&lt;pattern&gt;</literal>"にマッチするファイル名を探す。(比較的遅い)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>locate -d .  &lt;pattern&gt;</literal>
                </entry>
                <entry>
    シェルで"<literal>&lt;pattern&gt;</literal>"にマッチするファイル名を探す。(定期的に生成されるデータベースを使い比較的早い)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>grep -e "&lt;pattern&gt;" *.html</literal>
                </entry>
                <entry>
    現ディレクトリにある"<literal>.html</literal>"で終わる全ファイルから"&lt;pattern&gt;"のパターンを検索し、該当する全ファイルを表示する。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>top</literal>
                </entry>
                <entry>
    フルスクリーンを用いてプロセス情報を表示する。"<literal>q</literal>"を押して終了する。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>ps aux | pager</literal>
                </entry>
                <entry>
    起動中の全プロセスの情報をBSDスタイルの出力を用いて表示する。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>ps -ef | pager</literal>
                </entry>
                <entry>
    起動中の全プロセスの情報をSystem-Vスタイルの出力を用いて表示。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>ps aux | grep -e "[e]xim4*"</literal>
                </entry>
                <entry>
     "<literal>exim</literal>"もしくは"<literal>exim4</literal>"の起動中の全プロセスを表示。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>ps axf | pager</literal>
                </entry>
                <entry>
    起動中の全プロセスの情報をASCIIアート出力を用いて表示。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>kill &lt;1234&gt;</literal>
                </entry>
                <entry>
    プロセスID"&lt;1234&gt;"により識別されるプロセスを殺す。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>gzip &lt;foo&gt;</literal>
                </entry>
                <entry>
    Lempel-Zivコーディング(LZ77)を用いて"<literal>&lt;foo&gt;</literal>"を圧縮し"<literal>&lt;foo&gt;.gz</literal>"を作成する。 
    </entry>
              </row>
              <row>
                <entry>
                  <literal>gunzip &lt;foo&gt;.gz</literal>
                </entry>
                <entry>
    "<literal>&lt;foo&gt;.gz</literal>"を解凍して"<literal>&lt;foo&gt;</literal>"を作成する。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>bzip2 &lt;foo&gt;</literal>
                </entry>
                <entry>
    Burrows-Wheelerブロックソートテキスト圧縮アルゴリズムとHuffmanコーディングを用いて"<literal>&lt;foo&gt;</literal>"を圧縮し"<literal>&lt;foo&gt;.bz2</literal>"を作成する。(gzipより高圧縮率)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>bunzip2 &lt;foo&gt;.bz2</literal>
                </entry>
                <entry>
    "<literal>&lt;foo&gt;.bz2</literal>"を解凍して"<literal>&lt;foo&gt;</literal>"を作成する。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>tar -xvf &lt;foo&gt;.tar</literal>
                </entry>
                <entry>
    "<literal>&lt;foo&gt;.tar</literal>"アーカイブからファイルを展開する。 
    </entry>
              </row>
              <row>
                <entry>
                  <literal>tar -xvzf &lt;foo&gt;.tar.gz</literal>
                </entry>
                <entry>
    gzip圧縮された"<literal>&lt;foo&gt;.tar.gz</literal>"アーカイブからファイルを展開する。 
    </entry>
              </row>
              <row>
                <entry>
                  <literal>tar -xvf -j &lt;foo&gt;.tar.bz2</literal>
                </entry>
                <entry>
    "<literal>&lt;foo&gt;.tar.bz2</literal>"アーカイブからファイルを展開する。 
    </entry>
              </row>
              <row>
                <entry>
                  <literal>tar -cvf &lt;foo&gt;.tar &lt;bar&gt;/</literal>
                </entry>
                <entry>
    フォルダ"<literal>&lt;bar&gt;/</literal>"の内容を"<literal>&lt;foo&gt;.tar</literal>"アーカイブにアーカイブする。 
    </entry>
              </row>
              <row>
                <entry>
                  <literal>tar -cvzf &lt;foo&gt;.tar.gz &lt;bar&gt;/</literal>
                </entry>
                <entry>
    フォルダ"<literal>&lt;bar&gt;/</literal>"の内容を"<literal>&lt;foo&gt;.tar.gz</literal>"アーカイブに圧縮アーカイブする。 
    </entry>
              </row>
              <row>
                <entry>
                  <literal>tar -cvjf &lt;foo&gt;.tar.bz2 &lt;bar&gt;/</literal>
                </entry>
                <entry>
    フォルダ"<literal>&lt;bar&gt;/</literal>"の内容を"<literal>&lt;foo&gt;.tar.bz2</literal>"アーカイブに圧縮アーカイブする。 
    </entry>
              </row>
              <row>
                <entry>
                  <literal>zcat README.gz | pager</literal>
                </entry>
                <entry>
    標準のページャを用いて圧縮された"<literal>README.gz</literal>"の内容を表示する。 
    </entry>
              </row>
              <row>
                <entry>
                  <literal>zcat README.gz &gt; foo</literal>
                </entry>
                <entry>
    "<literal>README.gz</literal>"の内容を解凍してファイル"<literal>foo</literal>"を作成する。 
    </entry>
              </row>
              <row>
                <entry>
                  <literal>zcat README.gz &gt;&gt; foo</literal>
                </entry>
                <entry>
    圧縮された
"<literal>README.gz</literal>"の内容をファイル"<literal>foo</literal>"の末尾に追加する。(ファイルが存在しない場合は事前に作成される。) 
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <note>
          <simpara>Unixは"<literal>.</literal>"で始まるファイル名を隠す伝統があります。それらは伝統的には特定の設定情報やユーザの嗜好を含むファイルです。</simpara>
        </note>
        <note>
          <simpara><literal>cd</literal>コマンドに関しては<literal>builtins</literal>(7)を参照下さい。</simpara>
        </note>
        <note>
          <simpara>最小限のDebianシステムのデフォルトのページャは<literal>more</literal>(1)で、スクロールバックができません。<literal>less</literal>パッケージを"<literal>aptitude
install less</literal>"と言うコマンドラインでインストールすると、<literal>less</literal>(1)が
デフォルトのページャになりカーソルキーでスクロールバック出来るようになります。</simpara>
        </note>
        <note>
          <simpara>上記の"<literal>ps aux | grep -e
"[e]xim4*"</literal>"コマンド中に現れる正規表現中の"<literal>[</literal>"と"<literal>]</literal>"は<literal>grep</literal>が自分自身にマッチするのを避けることを可能とします。正規表現中の"<literal>4*</literal>"は数字"<literal>4</literal>"の0回以上の繰り返しを意味するので、<literal>grep</literal>が"<literal>exim</literal>"と"<literal>exim4</literal>"の両方にマッチすることが可能になります。
"<literal>*</literal>"はシェルのファイルネームのグロブでも正規表現ででも使われますが、これらの意味は異なります。<literal>grep</literal>(1)から正規表現を学びましょう。</simpara>
        </note>
        <simpara>上記のコマンドを訓練として用いて、ディレクトリを渡り歩き、システムの中を覗き込んでください。コンソールのコマンドに関して質問がある場合は、必ずマニュアルページを読んでみてください。例えば、これらのコマンドは良い開始点でしょう:</simpara>
        <screen>$ man man
$ man bash
$ man builtins
$ man grep
$ man ls</screen>
        <simpara>マンページのスタイルは慣れるのに少々大変かもしれません。なぜなら特に比較的古い非常に伝統的なマンページは比較的言葉が少ないからです。しかし一旦慣れるとその簡潔さの良さが分かります。</simpara>
        <simpara>GNUやBSD由来を含む多くのUnix的なコマンドは次のように起動すると簡単なヘルプ情報を表示します。(場合によっては一切の引数無しで):</simpara>
        <screen>$ &lt;コマンド名&gt; --help
$ &lt;コマンド名&gt; -h</screen>
      </section>
    </section>
    <section id="_the_simple_shell_command">
      <title>シェルプロンプト</title>
      <simpara>Debianシステムの使い方が少し分かったでしょう。Debianシステム上でのコマンド実行のメカニズムを掘り下げましょう。初心者のためにちょっと簡略化してみました。正確な説明は<literal>bash</literal>(1)を参照下さい。</simpara>
      <simpara>シンプルなコマンドは、次のシーケンスとなります:</simpara>
      <orderedlist>
        <listitem>
          <simpara>
変数代入(任意) 
</simpara>
        </listitem>
        <listitem>
          <simpara>
コマンド名
</simpara>
        </listitem>
        <listitem>
          <simpara>
引数(任意)
</simpara>
        </listitem>
        <listitem>
          <simpara>
リダイレクト(任意:<literal>&gt;</literal>と<literal>&gt;&gt;</literal>と<literal>&lt;</literal>と<literal>&lt;&lt;</literal>等。)
</simpara>
        </listitem>
        <listitem>
          <simpara>
制御演算子(任意:<literal>&amp;&amp;</literal>と<literal>||</literal>と&lt;改行&gt;と<literal>;</literal>と<literal>&amp;</literal>と<literal>(</literal>と<literal>)</literal>)
</simpara>
        </listitem>
      </orderedlist>
      <section id="_command_execution_and_environment_variable">
        <title>コマンド実行と環境変数</title>
        <simpara><ulink url="&environmentvariables;">環境変数</ulink>の値はUnixコマンドの挙動を変えます。</simpara>
        <simpara>環境変数のデフォルト値はPAMシステムが初期設定されます。その後次のような何らかのアプリケーションプログラムにより再設定されているかもしれません。</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
<literal>gdm</literal>のようなディスプレイマネージャによって再設定される。
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>~/bash_profile</literal>"や"<literal>~/.bashrc</literal>"にあるシェル起動コードの中でシェルにより再設定される。
</simpara>
          </listitem>
        </itemizedlist>
        <section id="_lang_variable">
          <title>"$LANG"変数</title>
          <simpara>"<literal>$LANG</literal>"変数に与えられる完全なロケール値は3つの部分からなります:"<literal>xx_YY.ZZZZ</literal>"。</simpara>
          <table id="dpartsoflocalevalue" pgwide="0" frame="topbot" rowsep="1" colsep="1">
            <title>ロケールの値の3つの部分</title>
            <tgroup cols="2">
              <colspec colwidth="144" align="left"/>
              <colspec colwidth="360" align="left"/>
              <thead>
                <row>
                  <entry>
    ロケールの値
    </entry>
                  <entry>
    意味
    </entry>
                </row>
              </thead>
              <tbody>
                <row>
                  <entry>
                    <literal>xx</literal>
                  </entry>
                  <entry>
                    <ulink url="&isogdjlanguagecoowercasesuchasen;">ISO
639言語コード(小文字)、例えば"en"</ulink>
                  </entry>
                </row>
                <row>
                  <entry>
                    <literal>YY</literal>
                  </entry>
                  <entry><ulink url="&isodbggcountrycoppercasesuchasus;">ISO
3166国コード(大文字)、例えば"US"</ulink> 
    </entry>
                </row>
                <row>
                  <entry>
                    <literal>ZZZZ</literal>
                  </entry>
                  <entry>
                    <ulink url="&codesetalwayssettoutfi;">コードセット、常に"UTF-8"と設定</ulink>
                  </entry>
                </row>
              </tbody>
            </tgroup>
          </table>
          <simpara>言語コードと国コードは"<literal>info gettext</literal>"中の該当記述を参照下さい。</simpara>
          <simpara>最近のDebianシステム上では、十分な理由と必要な知見をもって歴史的なコードセットを特段希望しない限り、常にコードセットを<emphasis
role="strong"><literal>UTF-8</literal></emphasis>と設定すべきです。</simpara>
          <simpara>ロケールの詳細に関しては、<xref linkend="_the_locale"/>を参照下さい。</simpara>
          <note>
            <simpara>"<literal>LANG=en_US</literal>"は、"<literal>LANG=C</literal>"でも、"<literal>LANG=en_US.UTF-8</literal>"でもありません。それは"<literal>LANG=en_US.ISO-8859-1</literal>"です(<xref
linkend="_basics_of_encoding"/>参照)。</simpara>
          </note>
          <table id="listoflocalerecommendations" pgwide="0" frame="topbot" rowsep="1" colsep="1">
            <title>推奨ロケールのリスト。</title>
            <tgroup cols="2">
              <colspec colwidth="144" align="left"/>
              <colspec colwidth="360" align="left"/>
              <thead>
                <row>
                  <entry>
    言語(地域)
    </entry>
                  <entry>
    推奨ロケール
    </entry>
                </row>
              </thead>
              <tbody>
                <row>
                  <entry>
    英語(米国)
    </entry>
                  <entry>
                    <literal>en_US.UTF-8</literal>
                  </entry>
                </row>
                <row>
                  <entry>
    英語(英国)
    </entry>
                  <entry>
                    <literal>en_GB.UTF-8</literal>
                  </entry>
                </row>
                <row>
                  <entry>
    フランス語(フランス)
    </entry>
                  <entry>
                    <literal>fr_FR.UTF-8</literal>
                  </entry>
                </row>
                <row>
                  <entry>
    ドイツ語(ドイツ)
    </entry>
                  <entry>
                    <literal>de_DE.UTF-8</literal>
                  </entry>
                </row>
                <row>
                  <entry>
    イタリア語(イタリア)
    </entry>
                  <entry>
                    <literal>it_IT.UTF-8</literal>
                  </entry>
                </row>
                <row>
                  <entry>
    スペイン語(スペイン)
    </entry>
                  <entry>
                    <literal>es_ES.UTF-8</literal>
                  </entry>
                </row>
                <row>
                  <entry>
    カタラン語(スペイン)
    </entry>
                  <entry>
                    <literal>ca_ES.UTF-8</literal>
                  </entry>
                </row>
                <row>
                  <entry>
    スウェーデン語(スウェーデン)
    </entry>
                  <entry>
                    <literal>sv_SE.UTF-8</literal>
                  </entry>
                </row>
                <row>
                  <entry>
    ポルトガル語(ブラジル)
    </entry>
                  <entry>
                    <literal>pt_BR.UTF-8</literal>
                  </entry>
                </row>
                <row>
                  <entry>
    ロシア語(ロシア)
    </entry>
                  <entry>
                    <literal>ru_RU.UTF-8</literal>
                  </entry>
                </row>
                <row>
                  <entry>
    中国語(中華人民共和国)
    </entry>
                  <entry>
                    <literal>zh_CN.UTF-8</literal>
                  </entry>
                </row>
                <row>
                  <entry>
    中国語(台湾_R.O.C.)
    </entry>
                  <entry>
                    <literal>zh_TW.UTF-8</literal>
                  </entry>
                </row>
                <row>
                  <entry>
    日本語(日本)
    </entry>
                  <entry>
                    <literal>ja_JP.UTF-8</literal>
                  </entry>
                </row>
                <row>
                  <entry>
    韓国語(大韓民国)
    </entry>
                  <entry>
                    <literal>ko_KR.UTF-8</literal>
                  </entry>
                </row>
                <row>
                  <entry>
    ベトナム語(ベトナム)
    </entry>
                  <entry>
                    <literal>vi_VN.UTF-8</literal>
                  </entry>
                </row>
              </tbody>
            </tgroup>
          </table>
          <simpara>典型的なコマンドの実行は次のようなシェル行のシーケンスを用います:</simpara>
          <screen>$ date
Sun Jun  3 10:27:39 JST 2007
$ LANG=fr_FR.UTF-8 date
dimanche 3 juin 2007, 10:27:33 (UTC+0900)</screen>
          <simpara>以上で、<literal>date</literal>(1)プログラムはフォアグラウンドのジョブとして実行されます。環境変数"<literal>$LANG</literal>"は:</simpara>
          <itemizedlist>
            <listitem>
              <simpara>
最初のコマンドに関しては、システムのデフォルト<ulink
url="&locale;">ロケール</ulink>(設定次第ですがここでは"<literal>en_US.UTF-8</literal>")に設定されています。
</simpara>
            </listitem>
            <listitem>
              <simpara>
2番目のコマンドに関しては、"<literal>fr_FR.UTF-8</literal>"(システム上に存在すればフランス語のUTF-8<ulink
url="&locale;">ロケール</ulink>)に設定されています。
</simpara>
            </listitem>
          </itemizedlist>
          <simpara>ほとんどのコマンド実行は頭に環境変数定義をつけないのが普通です。上記の例の代わりに次のように実行します:</simpara>
          <screen>$ LANG=fr_FR.UTF-8
$ date
dimanche 3 juin 2007, 10:27:33 (UTC+0900)</screen>
          <simpara>ここで確認できるように、コマンドの出力は環境変数に影響されフランス語の出力となっています。もし環境変数を(例えばシェルスクリプトを呼んでいて)サブプロセスに引き継ぎたい際には、次のように環境変数を"export"(エクスポート)しなければいけません。</simpara>
          <screen>$ export LANG</screen>
          <tip>
            <simpara>バグ報告をする際には、非英語環境を使っているなら、プログラムを"<literal>LANG=en_US.UTF-8</literal>"の下で実行し確認することが望ましいです。</simpara>
          </tip>
          <simpara>"<literal>$LANG</literal>"とこれに関連した環境変数に関しては、<literal>locale</literal>(5)と<literal>locale</literal>(7)を参照下さい。</simpara>
          <note>
            <simpara>特段必要がなければ"<literal>$LC_*</literal>"変数を避けて、"<literal>$LANG</literal>"変数のみを用いてシステム環境設定する事をお薦めします。</simpara>
          </note>
        </section>
        <section id="_path_variable">
          <title>"$PATH"変数</title>
          <simpara>シェルにコマンドを打ち込んだ際に、シェルは"<literal>$PATH</literal>"環境変数にリストされたディレクトリのリストから検索します。"<literal>$PATH</literal>"環境変数の値は、シェルの検索パスとも呼ばれます。</simpara>
          <simpara>標準のDebianインストールでは、ユーザアカウントの"<literal>$PATH</literal>"環境変数には"<literal>/sbin</literal>"や"<literal>/usr/sbin</literal>"が含まれないかもしれません。例えば、<literal>ifconfig</literal>コマンドは"<literal>/sbin/ifconfig</literal>"とフルパスを使って実行する必要があります。(類似の<literal>ip</literal>コマンドは"<literal>/bin</literal>"にあります。)</simpara>
          <simpara>Bashシェルの"<literal>$PATH</literal>"環境変数は、"<literal>~/.bash_profile</literal>"か"<literal>~/.bashrc</literal>"ファイルで変更できます。</simpara>
        </section>
        <section id="_home_variable">
          <title>"$HOME"変数</title>
          <simpara>多くのコマンドはユーザ特定の設定をホームディレクトリに保存し、その内容でコマンドの挙動が変わります。ホームディレクトリは"<literal>$HOME</literal>"環境変数で指定されます:</simpara>
          <table id="listofhomevalues" pgwide="0" frame="topbot" rowsep="1" colsep="1">
            <title>"<literal>$HOME</literal>"の値のリスト。</title>
            <tgroup cols="2">
              <colspec colwidth="144" align="left"/>
              <colspec colwidth="360" align="left"/>
              <thead>
                <row>
                  <entry>
    プログラム実行状況
    </entry>
                  <entry>
    "<literal>$HOME</literal>"の値
    </entry>
                </row>
              </thead>
              <tbody>
                <row>
                  <entry>
    initプロセスが実行するプログラム(デーモン)
    </entry>
                  <entry>
                    <literal>/</literal>
                  </entry>
                </row>
                <row>
                  <entry>
    通常のrootシェルから実行されるプログラム
    </entry>
                  <entry>
                    <literal>/root</literal>
                  </entry>
                </row>
                <row>
                  <entry>
    通常のユーザシェルから実行されるプログラム
    </entry>
                  <entry>
                    <literal>/home/&lt;normal_user&gt;</literal>
                  </entry>
                </row>
                <row>
                  <entry>
    通常のユーザのGUIデスクトップメニューから実行されるプログラム
    </entry>
                  <entry>
                    <literal>/home/&lt;normal_user&gt;</literal>
                  </entry>
                </row>
                <row>
                  <entry>
    "<literal>sudo program</literal>"を用いてrootとして実行されるプログラム
    </entry>
                  <entry>
                    <literal>/home/&lt;normal_user&gt;</literal>
                  </entry>
                </row>
                <row>
                  <entry>
    "<literal>sudo -H program</literal>"を用いてrootとして実行されるプログラム
    </entry>
                  <entry>
                    <literal>/root</literal>
                  </entry>
                </row>
              </tbody>
            </tgroup>
          </table>
          <tip>
            <simpara>シェルは、"<literal>~/</literal>"を現ユーザのホームディレクトリである"<literal>$HOME/</literal>"へと展開します。シェルは、"<literal>~foo/</literal>"をユーザ<literal>foo</literal>のホームディレクトリである"<literal>/home/foo/</literal>"へと展開します。</simpara>
          </tip>
        </section>
      </section>
      <section id="_command_line_options">
        <title>コマンドラインオプション</title>
        <simpara>プログラムコマンドによっては引数があります。引数は"<literal>-</literal>"か"<literal>--</literal>"で始まり、オプションと呼ばれ、コマンドの挙動をコントロールします。</simpara>
        <screen>$ date
Mon Oct 27 23:02:09 CET 2003
$ date -R
Mon, 27 Oct 2003 23:02:40 +0100</screen>
        <simpara>上記で、コマンドライン引数"<literal>-R</literal>"が<literal>date</literal>(1)の挙動を<ulink
url="&rfccicc;">RFC2822</ulink>準拠の日付文字列出力と変えています。</simpara>
      </section>
      <section id="_shell_glob">
        <title>シェルグロブ</title>
        <simpara>ファイル名を全てタイプせずにファイルのグループをコマンド処理したいことがよくあります。シェルの<emphasis
role="strong">グロブ</emphasis>(<emphasis
role="strong">ワイルドカード</emphasis>とも時々呼ばれる)を用いたファイル名のパターン展開を用いるとこのニーズに答えられます。</simpara>
        <table id="shellglobpatterns" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>シェルグロブパターン</title>
          <tgroup cols="2">
            <colspec colwidth="144" align="left"/>
            <colspec colwidth="360" align="left"/>
            <thead>
              <row>
                <entry>
    シェルグロブパターン
    </entry>
                <entry>
    マッチ
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>*</literal>
                </entry>
                <entry>
    "<literal>.</literal>"で始まらない任意のファイル(部分)名にマッチする。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>.*</literal>
                </entry>
                <entry>
    "<literal>.</literal>"で始まる任意のファイル(部分)名にマッチする。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>?</literal>
                </entry>
                <entry>
    任意の 1 文字にマッチする。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>[…]</literal>
                </entry>
                <entry>
    括弧中の 1 文字にマッチする。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>[a-z]</literal>
                </entry>
                <entry>
    "<literal>a</literal>"と"<literal>z</literal>"の範囲にある文字とマッチする。 
    </entry>
              </row>
              <row>
                <entry>
                  <literal>[^…]</literal>
                </entry>
                <entry>
    括弧内( "<literal>^</literal>"以外)に含まれる文字以外の文字にマッチ。 
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>例えば、次の例を試してみて、自分で考えてみましょう:</simpara>
        <screen>$ mkdir junk; cd junk; .[^.]*touch 1.txt 2.txt 3.c 4.h .5.txt ..6.txt
$ echo *.txt
1.txt 2.txt
$ echo *
1.txt 2.txt 3.c 4.h
$ echo *.[hc]
3.c 4.h
$ echo .*
. .. .5.txt ..6.txt
$ echo .*[^.]*
.5.txt ..6.txt
$ echo [^1-3]*
4.h
$ cd ..; rm -rf junk</screen>
        <simpara>詳細は<literal>glob</literal>(7)を参照下さい。</simpara>
        <note>
          <simpara>通常のシェルのファイル名の展開と違い、<literal>find</literal>(1)が"<literal>-name</literal>"テスト他でシェルパターン"<literal>*</literal>"をテストする際にはファイル名先頭の"<literal>.</literal>"ともマッチします。(新<ulink
url="&posix;">POSIX</ulink>機能)</simpara>
        </note>
        <note>
          <simpara>BASHはshopt組み込みオプションで"<literal>dotglob</literal>"や"<literal>noglob</literal>"や"<literal>nocaseglob</literal>"や"<literal>nullglob</literal>"や"<literal>nocaseglob</literal>"や"<literal>extglob</literal>"などとすることでグロブ挙動を色々変更できます。<literal>bash</literal>(1)参照。</simpara>
        </note>
      </section>
      <section id="_return_value_of_the_command">
        <title>コマンドの戻り値</title>
        <simpara>各コマンドは終了ステータスを戻り値(変数:"<literal>$?</literal>")として返します。</simpara>
        <table id="commandexitcodes" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>コマンドの終了コード。</title>
          <tgroup cols="3">
            <colspec colwidth="108" align="left"/>
            <colspec colwidth="108" align="left"/>
            <colspec colwidth="288" align="left"/>
            <thead>
              <row>
                <entry>
    コマンドの終了状態
    </entry>
                <entry>
    戻り値の数値
    </entry>
                <entry>
    戻り値の論理値
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
    成功
    </entry>
                <entry>
    ゼロ、0
    </entry>
                <entry>
                  <emphasis role="strong">真</emphasis>
                </entry>
              </row>
              <row>
                <entry>
    失敗
    </entry>
                <entry>
    非ゼロ、-1
    </entry>
                <entry>
                  <emphasis role="strong">偽</emphasis>
                </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>つまり:</simpara>
        <screen>$ [ 1 = 1 ] ; echo $?
0
$ [ 1 = 2 ] ; echo $?
1</screen>
        <note>
          <simpara>シェルの論理的な観点では、<emphasis role="strong">成功</emphasis>は、0(ゼロ)の値を持つ論理的<emphasis
role="strong">真</emphasis>として扱われることに注意してください。少々これは非直感的なのでここで再確認する必要があります。</simpara>
        </note>
      </section>
      <section id="_typical_command_sequences_and_shell_redirection">
        <title>典型的なコマンドシーケンスとシェルリディレクション</title>
        <simpara>次に挙げるシェルコマンドの慣用句を覚えてみましょう。</simpara>
        <table id="shellcommandidioms" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>シェルコマンドの慣用句。</title>
          <tgroup cols="2">
            <colspec colwidth="144" align="left"/>
            <colspec colwidth="360" align="left"/>
            <thead>
              <row>
                <entry>
    コマンドの慣用句(1行入力)
    </entry>
                <entry>
    説明
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>command &amp;</literal>
                </entry>
                <entry>
    <literal>command</literal>は<emphasis
role="strong">バックグラウンド</emphasis>でサブシェルの中で実行されます。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>command1 | command2</literal>
                </entry>
                <entry>
    <literal>command1</literal>の標準出力が<literal>command2</literal>の標準入力に継ぎ込まれます。両方のコマンドが<emphasis
role="strong">同時進行</emphasis>で実行されるかもしれません。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>command1 2&gt;&amp;1 | command2</literal>
                </entry>
                <entry>
    <literal>command1</literal>の標準出力と標準エラー出力が<literal>command2</literal>の標準入力に継ぎ込まれます。両方のコマンドが<emphasis
role="strong">同時進行</emphasis>で実行されるかもしれません。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>command1 ; command2</literal>
                </entry>
                <entry>
    <literal>command1</literal>を実行し、<emphasis
role="strong">後に続いて</emphasis><literal>command2</literal>が実行されます。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>command1 &amp;&amp; command2</literal>
                </entry>
                <entry>
    <literal>command1</literal>が実行されます。もし成功したら、<emphasis
role="strong">後に続いて</emphasis><literal>command2</literal>が実行されます。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>command1 || command2</literal>
                </entry>
                <entry>
    <literal>command1</literal>が実行されます。もし成功しなかったら、<emphasis
role="strong">後に続いて</emphasis><literal>command2</literal>が実行されます。<literal>command1</literal>
<emphasis role="strong">か</emphasis>
<literal>command2</literal>のどちらかが正常終了した場合に正常終了を返します。 
    </entry>
              </row>
              <row>
                <entry>
                  <literal>command &gt; foo</literal>
                </entry>
                <entry>
    <literal>command</literal>の標準出力を<literal>foo</literal>ファイルにリダイレクト (上書き) します。 
    </entry>
              </row>
              <row>
                <entry>
                  <literal>command 2&gt; foo</literal>
                </entry>
                <entry>
    <literal>command</literal>の標準エラー出力を<literal>foo</literal>ファイルにリダイレクト (上書き)
します。 
    </entry>
              </row>
              <row>
                <entry>
                  <literal>command &gt;&gt; foo</literal>
                </entry>
                <entry>
    <literal>command</literal>の標準出力を<literal>foo</literal>ファイルにリダイレクト (追記) します。 
    </entry>
              </row>
              <row>
                <entry>
                  <literal>command 2&gt;&gt; foo</literal>
                </entry>
                <entry>
    <literal>command</literal>の標準エラー出力を<literal>foo</literal>ファイルにリダイレクト (追記)
します。 
    </entry>
              </row>
              <row>
                <entry>
                  <literal>command &gt; foo 2&gt;&amp;1</literal>
                </entry>
                <entry>
    <literal>command</literal>の標準出力と標準エラー出力を<literal>foo</literal>ファイルにリダイレクトします。 
    </entry>
              </row>
              <row>
                <entry>
                  <literal>command &lt; foo</literal>
                </entry>
                <entry>
    <literal>command</literal>の標準入力を<literal>foo</literal>ファイルからリダイレクトします。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>command &lt;&lt; delimiter</literal>
                </entry>
                <entry>
    <literal>command</literal>の標準入力を"<literal>終端文字列</literal>"に出会うまでのこれに続く行からリダイレクトします。(ヒアドキュメント)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>command &lt;&lt;- 終端文字列</literal>
                </entry>
                <entry>
    <literal>command</literal>の標準入力を"<literal>終端文字列</literal>"に出会うまでのこれに続く行からリダイレクトします。行頭のタブ文字は入力から落とされます。(ヒアドキュメント)
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>Debianシステムはマルチタスクシステムです。バックグラウンドジョブを使うと単一シェルの下で複数プログラムを実行可能にします。バックグラウンドジョブの管理にはシェル内部組み込みコマンドの<literal>jobs</literal>や<literal>fg</literal>や<literal>bg</literal>や<literal>kill</literal>を使います。bash(1)マンページ中の"SIGNALS"と"JOB
CONTROL"セクションや<literal>builtins</literal>(1)を参照下さい。</simpara>
        <simpara>リディレクションの簡単な例を試してみましょう:</simpara>
        <screen>$ &lt;/etc/motd pager</screen>
        <screen>$ pager &lt;/etc/motd</screen>
        <screen>$ pager /etc/motd</screen>
        <screen>$ cat /etc/motd | pager</screen>
        <simpara>4つ全ての例が全く同じ表示をしますが、最後の例は余計な<literal>cat</literal>コマンドを実行するので理由なくリソースの無駄遣いをします。</simpara>
        <simpara>シェルでは<literal>exec</literal>組み込みコマンドを任意のファイルディスクリプタとともに使いファイルをオープンすることができます。</simpara>
        <screen>$ echo Hello &gt;foo
$ exec 3&lt;foo 4&gt;bar  # open files
$ cat &lt;&amp;3 &gt;&amp;4       # redirect stdin to 3, stdout to 4
$ exec 3&lt;&amp;- 4&gt;&amp;-    # close files
$ cat bar
Hello</screen>
        <simpara>上記で、"<literal><emphasis>n</emphasis>&lt;&amp;-</literal>"と"<literal><emphasis>n</emphasis>&gt;&amp;-</literal>"
はファイルディスクリプタ"<literal><emphasis>n</emphasis></literal>"をクローズするという意味です。</simpara>
        <simpara>ファイルデスクリプタの0-2は事前定義されています。</simpara>
        <table id="predefinedfiledescriptors" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>事前定義されたファイルデスクリプタ</title>
          <tgroup cols="3">
            <colspec colwidth="108" align="left"/>
            <colspec colwidth="108" align="left"/>
            <colspec colwidth="288" align="left"/>
            <thead>
              <row>
                <entry>
    デバイス
    </entry>
                <entry>
    説明
    </entry>
                <entry>
    ファイルデスクリプタ
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>stdin</literal>
                </entry>
                <entry>
    標準出力
    </entry>
                <entry>
    0
    </entry>
              </row>
              <row>
                <entry>
                  <literal>stdout</literal>
                </entry>
                <entry>
    標準出力
    </entry>
                <entry>
    1
    </entry>
              </row>
              <row>
                <entry>
                  <literal>stderr</literal>
                </entry>
                <entry>
    標準エラー出力
    </entry>
                <entry>
    2
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </section>
      <section id="_command_alias">
        <title>コマンドエリアス</title>
        <simpara>良く使うコマンドにエイリアスを設定できます。例えば:</simpara>
        <screen>$ alias la='ls -la'</screen>
        <simpara>こうすると、"<literal>la</literal>"が"<literal>ls
-la</literal>"の短縮形として機能し、全てのファイルを長いリスト形式でリストします。</simpara>
        <simpara>既存の全エアリアスは次のようにするとリストできます:</simpara>
        <screen>$ alias</screen>
        <simpara><literal>type</literal>内部コマンドを使うと正確なパスやコマンドの正体を識別できます。例えば:</simpara>
        <screen>$ type ls
ls is hashed (/bin/ls)
$ type la
la is aliased to ls -la
$ type echo
echo is a shell builtin
$ type file
file is /usr/bin/file</screen>
        <simpara>上記で、<literal>ls</literal>は最近探索されましたが"<literal>file</literal>"
は最近探索されていませので、"<literal>ls</literal>"は"ハッシュされた"つまりシェルには"<literal>ls</literal>"コマンドの場所を高速アクセスのために内部記録していると表示されます。</simpara>
        <tip>
          <simpara><xref linkend="_colorized_commands"/>参照。</simpara>
        </tip>
      </section>
    </section>
    <section id="_unix_like_text_processing">
      <title>Unix的テキスト処理</title>
      <simpara>Unix的作業環境では、テキスト処理はテキストを標準テキスト処理ツールの連鎖パイプを通す行います。これは決定的なUnixの発明です。</simpara>
      <section id="_unix_text_tools">
        <title>Unixテキストツール</title>
        <simpara>Unix的システムでしばしば使われる標準テキスト処理ツールがいくつかあります。</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
正規表現無使用:
</simpara>
            <itemizedlist>
              <listitem>
                <simpara><literal>cat</literal>(1)はファイルをつなぎ合わせ全てを出力します。
</simpara>
              </listitem>
              <listitem>
                <simpara><literal>tac</literal>(1)はファイルをつなぎ合わせ逆順で出力します。
</simpara>
              </listitem>
              <listitem>
                <simpara><literal>cut</literal>(1)は行の一部を選択し出力します。
</simpara>
              </listitem>
              <listitem>
                <simpara><literal>head</literal>(1)はファイルの最初の部分を選択し出力します。
</simpara>
              </listitem>
              <listitem>
                <simpara><literal>tail</literal>(1)はファイルの最後の部分を選択し出力します。
</simpara>
              </listitem>
              <listitem>
                <simpara><literal>sort</literal>(1)は行を順番に並び替えます。
</simpara>
              </listitem>
              <listitem>
                <simpara><literal>uniq</literal>(1)は順番に並べられたファイルから重複行を削除します。
</simpara>
              </listitem>
              <listitem>
                <simpara><literal>tr</literal>(1)は文字を変換削除します。
</simpara>
              </listitem>
              <listitem>
                <simpara><literal>diff</literal>(1)は1行ごとにファイルを比較します。
</simpara>
              </listitem>
            </itemizedlist>
          </listitem>
          <listitem>
            <simpara>
基本正規表現(<emphasis role="strong">BRE</emphasis>)使用:
</simpara>
            <itemizedlist>
              <listitem>
                <simpara><literal>egrep</literal>(1)はテキストのパターンマッチをします。
</simpara>
              </listitem>
              <listitem>
                <simpara><literal>ed</literal>(1)は原始的な行エディタ。
</simpara>
              </listitem>
              <listitem>
                <simpara><literal>sed</literal>(1)はストリームエディタ。
</simpara>
              </listitem>
              <listitem>
                <simpara><literal>vim</literal>(1)はスクリーンエディタ。
</simpara>
              </listitem>
              <listitem>
                <simpara><literal>emacs</literal>(1)はスクリーンエディタ。(ちょっと拡張された<emphasis
role="strong">BRE</emphasis>)
</simpara>
              </listitem>
            </itemizedlist>
          </listitem>
          <listitem>
            <simpara>
拡張正規表現(<emphasis role="strong">ERE</emphasis>)使用:
</simpara>
            <itemizedlist>
              <listitem>
                <simpara><literal>egrep</literal>(1)はテキストのパターンマッチをします。
</simpara>
              </listitem>
              <listitem>
                <simpara><literal>awk</literal>(1)は単純なテキスト処理をします。
</simpara>
              </listitem>
              <listitem>
                <simpara><literal>tcl</literal>(3tcl)は考え得る全てのテキスト処理をします:<literal>re_syntax</literal>(3)。時々<literal>tk</literal>(3tk)とともに使用されます。
</simpara>
              </listitem>
              <listitem>
                <simpara><literal>perl</literal>(1)は考え得る全てのテキスト処理をします。<literal>perlre</literal>(1).
</simpara>
              </listitem>
              <listitem>
                <simpara><literal>pcregrep</literal>パッケージの<literal>pcregrep</literal>(1)
はテキストのパターンマッチを<ulink
url="&perlcompatiblererexpressionspcre;">Perl互換正規表現(PCRE)</ulink>パターンを使ってします。
</simpara>
              </listitem>
              <listitem>
                <simpara><literal>re</literal>モジュールとともに使うことで<literal>python</literal>(1)は考え得る全てのテキスト処理をします。"<literal>/usr/share/doc/python/html/index.html</literal>"参照。
</simpara>
              </listitem>
            </itemizedlist>
          </listitem>
        </itemizedlist>
        <simpara>もしこれらのコマンドが正確にどう動作するかを確認したいなら、"<literal>man
command</literal>"を使って自分で見つけましょう。</simpara>
        <note>
          <simpara>ソート順や範囲表現はロケールに依存します。コマンドの伝統的挙動を得たい際には、"<literal>LANG=C</literal>"をコマンドの前に付けて<emphasis
role="strong">UTF-8</emphasis>ロケールではなく<emphasis
role="strong">C</emphasis>ロケールでコマンドを使いましょう。(<xref
linkend="_lang_variable"/>と<xref linkend="_the_locale"/>を参照)。</simpara>
        </note>
        <note>
          <simpara><ulink url="&perl;">Perl</ulink>正規表現(<literal>perlre</literal>(1))と<ulink
url="&perlcompatiblererexpressionspcre;">Perl互換正規表現(PCRE)</ulink>と<literal>re</literal>モジュールで提供される<ulink
url="&python;">Python</ulink>正規表現は<emphasis
role="strong">ERE</emphasis>に多くの共通の拡張をしています。</simpara>
        </note>
      </section>
      <section id="_regular_expressions">
        <title>正規表現</title>
        <simpara><ulink
url="&regularexpressions;">正規表現</ulink>は多くのテキスト処理ツールで使われています。シェルグロブに類似していますがより複雑で強力です。</simpara>
        <simpara>正規表現はマッチするパターンを表現し、テキスト文字と<emphasis role="strong">メタ文字</emphasis>からなっています。</simpara>
        <simpara><emphasis
role="strong">メタ文字</emphasis>は特別な意味を持った文字です。上記のようにテキストツールによって、<emphasis
role="strong">BRE</emphasis>と<emphasis
role="strong">ERE</emphasis>の2つの主要なスタイルがあります。</simpara>
        <table id="metacharactersforbreandere" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>BREとEREのメタ文字。</title>
          <tgroup cols="3">
            <colspec colwidth="108" align="left"/>
            <colspec colwidth="108" align="left"/>
            <colspec colwidth="288" align="left"/>
            <thead>
              <row>
                <entry>
    BRE
    </entry>
                <entry>
    ERE
    </entry>
                <entry>
    正規表現の意味
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal> \ .  [ ] ^ $ * </literal>
                </entry>
                <entry>
                  <literal>\ .  [ ] ^ $ *</literal>
                </entry>
                <entry>
    共通の<emphasis role="strong">メタ文字</emphasis>
    </entry>
              </row>
              <row>
                <entry>
                  <literal>\+ \? \( \) \{ \} \|</literal>
                </entry>
                <entry>
     
    </entry>
                <entry>
    "<literal>\</literal>"でエスケープされた、BREのみで用いる<emphasis
role="strong">メタ文字</emphasis>
    </entry>
              </row>
              <row>
                <entry>
     
    </entry>
                <entry>
                  <literal>+ ? ( ) { } |</literal>
                </entry>
                <entry>
    "<literal>\</literal>"でエスケープされ無い、EREのみで用いる<emphasis
role="strong">メタ文字</emphasis>
    </entry>
              </row>
              <row>
                <entry>
                  <literal>c</literal>
                </entry>
                <entry>
                  <literal>c</literal>
                </entry>
                <entry>
    <emphasis role="strong">非メタ文字</emphasis> "<literal>c</literal>"をマッチする。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>\c</literal>
                </entry>
                <entry>
                  <literal>\c</literal>
                </entry>
                <entry>
    当該シーケンスは、<literal>c</literal>"自身が<emphasis
role="strong">メタ文字</emphasis>でも"<literal>c</literal>"というそのままの文字とマッチします。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>.</literal>
                </entry>
                <entry>
                  <literal>.</literal>
                </entry>
                <entry>
    改行を含めた如何なる文字ともマッチします。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>^</literal>
                </entry>
                <entry>
                  <literal>^</literal>
                </entry>
                <entry>
    文字列の最初とマッチします。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>$</literal>
                </entry>
                <entry>
                  <literal>$</literal>
                </entry>
                <entry>
    文字列の最後とマッチします。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>\&lt;</literal>
                </entry>
                <entry>
                  <literal>\&lt;</literal>
                </entry>
                <entry>
    単語先頭とマッチします。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>\&gt;</literal>
                </entry>
                <entry>
                  <literal>\&gt;</literal>
                </entry>
                <entry>
    単語末尾とマッチします。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>\[abc…\]</literal>
                </entry>
                <entry>
                  <literal>[abc…]</literal>
                </entry>
                <entry>
    この文字リストは"<literal>abc…</literal>"のいずれかの文字にマッチします。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>\[^abc…\]</literal>
                </entry>
                <entry>
                  <literal>[^abc…]</literal>
                </entry>
                <entry>
    この否定の文字リストは"<literal>abc…</literal>"以外の文字にマッチします。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>r*</literal>
                </entry>
                <entry>
                  <literal>r*</literal>
                </entry>
                <entry>
    "<literal>r</literal>"という正規表現の0回以上にマッチ。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>r\+</literal>
                </entry>
                <entry>
                  <literal>r+</literal>
                </entry>
                <entry>
    "<literal>r</literal>"という正規表現の1回以上にマッチ。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>r\?</literal>
                </entry>
                <entry>
                  <literal>r?</literal>
                </entry>
                <entry>
    "<literal>r</literal>"という正規表現の0回か1回にマッチ。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>r1\|r2</literal>
                </entry>
                <entry>
                  <literal>r1|r2</literal>
                </entry>
                <entry>
    "<literal>r1</literal>"か"<literal>r2</literal>"という正規表現のいずれかにマッチ。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>\(r1\|r2\)</literal>
                </entry>
                <entry>
                  <literal>(r1|r2)</literal>
                </entry>
                <entry>
    "<literal>r1</literal>"か"<literal>r2</literal>"という正規表現のいずれかにマッチし、それを<emphasis
role="strong">括弧で囲まれた</emphasis>正規表現として扱う。
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara><emphasis role="strong"><literal>emacs</literal></emphasis>の正規表現は、<emphasis
role="strong">ERE</emphasis>同様の"<literal>+</literal>"と"<literal>?</literal>"を<emphasis
role="strong">メタ文字</emphasis>と扱う拡張をしてはありますが、基本的に<emphasis
role="strong">BRE</emphasis>です。これら文字を<literal>emacs</literal>の正規表現で"<literal>\</literal>"でエスケープする必要はありません。</simpara>
        <simpara>例えば、<literal>grep</literal>(1)をつかうと正規表現を使って文字列探索ができます:</simpara>
        <screen>$ egrep 'GNU.*LICENSE|Yoyodyne' /usr/share/common-licenses/GPL
GNU GENERAL PUBLIC LICENSE
GNU GENERAL PUBLIC LICENSE
Yoyodyne, Inc., hereby disclaims all copyright interest in the program</screen>
        <tip>
          <simpara><xref linkend="_colorized_commands"/>参照。</simpara>
        </tip>
      </section>
      <section id="_replacement_expressions">
        <title>置換表現</title>
        <simpara>置換表現の場合、次の文字には特別な意味があります</simpara>
        <table id="thereplacementexpression" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>置換表現</title>
          <tgroup cols="2">
            <colspec colwidth="144" align="left"/>
            <colspec colwidth="360" align="left"/>
            <thead>
              <row>
                <entry>
    文字
    </entry>
                <entry>
    意味
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>&amp;</literal>
                </entry>
                <entry>
    正規表現がマッチしたものを示す。(<literal>emacs</literal>では<literal>\&amp;</literal>を使用)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>\n</literal>
                </entry>
                <entry>
    n番目の<emphasis role="strong">括弧で囲まれた</emphasis>正規表現にマッチしたものを示す。("n" は数字)
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>Perlの置換表現では、"<literal>\n</literal>"の代わりに"<literal>$n</literal>"をつかい、"<literal>&amp;</literal>"には特段の意味はありません。</simpara>
        <simpara>例えば:</simpara>
        <screen>$ echo zzz1abc2efg3hij4 | \
sed -e 's/\(1[a-z]*\)[0-9]*\(.*\)$/=&amp;=/'
zzz=1abc2efg3hij4=
$ echo zzz1abc2efg3hij4 | \
sed -e 's/\(1[a-z]*\)[0-9]*\(.*\)$/\2===\1/'
zzzefg3hij4===1abc
$ echo zzz1abc2efg3hij4 | \
perl -pe 's/(1[a-z]*)[0-9]*(.*)$/$2===$1/'
zzzefg3hij4===1abc
$ echo zzz1abc2efg3hij4 | \
perl -pe 's/(1[a-z]*)[0-9]*(.*)$/=&amp;=/'
zzz=&amp;=</screen>
        <simpara>ここで、<emphasis
role="strong">括弧で囲まれた</emphasis>正規表現のスタイルと、マッチした文字列が異なるツール上でテキスト置換処理にどう使われるかとに注目下さい。</simpara>
        <simpara>これらの正規表現は一部エディタ内でカーソルの動きやテキスト置換アクションに対しても使えます。</simpara>
        <simpara>シェルコマンドラインの行末のバックスラッシュ"<literal>\</literal>"は改行をホワイトスペース文字としてエスケープするので、シェルコマンドライン入力を次行に継続させます。</simpara>
        <simpara>これらのコマンドを習うために、関連するマニュアルページを全て読んでください。</simpara>
      </section>
      <section id="_global_substitution_with_regular_expressions">
        <title>正規表現を使ったグローバル置換</title>
        <simpara><literal>ed</literal>(1)コマンドは次のようにすると"<literal>file</literal>"中に存在する全ての"<literal>FROM_REGEX</literal>"を"<literal>TO_TEXT</literal>"で置換する:</simpara>
        <screen>$ ed file &lt;&lt;EOF
,s/FROM_REGEX/TO_TEXT/g
w
q
EOF</screen>
        <simpara><literal>vim</literal>(1)コマンドは<literal>ex</literal>(1)コマンドを使い次のようにすると"<literal>file</literal>"中に存在する全ての"<literal>FROM_REGEX</literal>"を"<literal>TO_TEXT</literal>"で置換する:</simpara>
        <screen>$ vim '+%s/FROM_REGEX/TO_TEXT/gc' '+w' '+q' file</screen>
        <tip>
          <simpara>上記の"<literal>c</literal>"フラグをにより各置換毎に対話型の確認をします。</simpara>
        </tip>
        <simpara>複数ファイル("<literal>file1</literal>"と"<literal>file2</literal>"と"<literal>file3</literal>")を<literal>vim</literal>(1)や<literal>perl</literal>(1)で同様に正規表現を用いて処理できます:</simpara>
        <screen>$ vim '+argdo %s/FROM_REGEX/TO_TEXT/ge|update' '+q' file1 file2 file3</screen>
        <tip>
          <simpara>上記の"<literal>e</literal>"フラグをにより"No match"エラーでマッピングが停止することを防ぎます。</simpara>
        </tip>
        <screen>$ perl -i -p -e 's/FROM_REGEX/TO_TEXT/g;' file1 file2 file3</screen>
        <simpara>perl(1)の例中で、"<literal>-i</literal>"はその場での編集、"<literal>-p</literal>"はファイルに関する暗黙的なループを意味します。</simpara>
        <tip>
          <simpara>"<literal>-i</literal>"の代わりに"<literal>-i.bak</literal>"という引数を用いるとオリジナルファイル名に"<literal>.bak</literal>"をつけたファイル名でオリジナルファイルが保管されます。複雑な置換のエラーからの復帰が簡単にできます。</simpara>
        </tip>
        <note>
          <simpara><literal>ed</literal>(1)や<literal>vim</literal>(1)は<emphasis
role="strong">BRE</emphasis>ですが、<literal>perl</literal>(1)は<emphasis
role="strong">ERE</emphasis>です。</simpara>
        </note>
      </section>
      <section id="_extract_data_from_text_file_table">
        <title>テキストファイルからのデータ抽出</title>
        <simpara>2004年以前の元Debianリーダの名前と就任日がスペースで分割されたフォーマットでリストされている"<literal>DPL</literal>"と呼ばれるファイルを考えてみましょう。 </simpara>
        <screen>Ian     Murdock   August  1993
Bruce   Perens    April   1996
Ian     Jackson   January 1998
Wichert Akkerman  January 1999
Ben     Collins   April   2001
Bdale   Garbee    April   2002
Martin  Michlmayr March   2003</screen>
        <tip>
          <simpara>最新の<ulink url="&debianleadershiphistory;">Debianのリーダーの歴史</ulink>に関しては、<ulink
url="&abriefhistoryofdebian;">"A Brief History of Debian"</ulink>を参照下さい。</simpara>
        </tip>
        <simpara>こういったタイプのファイルからデータを抽出するのはAwk が良く使われます:</simpara>
        <screen>$ awk '{ print $3 }' &lt;DPL                   # month started
August
April
January
January
April
April
March
$ awk '($1=="Ian") { print }' &lt;DPL          # DPL called Ian
Ian     Murdock   August  1993
Ian     Jackson   January 1998
$ awk '($2=="Perens") { print $3,$4 }' &lt;DPL # When Perens started
April 1996</screen>
        <simpara>Bash などのシェルもこれらのファイルを解釈するのに使えます:</simpara>
        <screen>$ while read first last month year; do
    echo $month
  done &lt;DPL</screen>
        <itemizedlist>
          <listitem>
            <simpara>
最初の Awk の例と同じ出力。
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>ここで、<literal>read</literal>組込みコマンドは"<literal>$IFS</literal>"(内部フィールドセパレータ)
を用いて行を単語単位で分割します。</simpara>
        <simpara>"<literal>$IFS</literal>"を"<literal>:</literal>"に変更すると、"<literal>/etc/passwd</literal>"をシェルでうまく解読できます:</simpara>
        <screen>$ oldIFS="$IFS"   # save old value
$ IFS=':'
$ while read user password uid gid rest_of_line; do
    if [ "$user" = "bozo" ]; then
      echo "$user's ID is $uid"
    fi
  done &lt; /etc/passwd
bozo's ID is 1000
$ IFS="$oldIFS"   # restore old value</screen>
        <simpara>(同じことを Awk を使って行うには、フィールドセパレータ設定は"<literal>FS=':'</literal>"としましょう。)</simpara>
        <simpara>IFSはパラメータ展開、コマンド置換、数式展開の結果を分割するためにもシェルにより使われます。これはダブルクォートやシングルクォートされた単語内では発生しません。IFSの標準値は&lt;space&gt;と&lt;tab&gt;と&lt;newline&gt;の組合せです。</simpara>
        <simpara>シェルのIFSトリックを注意深く使ってください。シェルがスクリプトの一部を<emphasis
role="strong">入力</emphasis>として解釈した場合に、奇妙なことが起きるかもしれません。</simpara>
        <screen>$ IFS=":,"                        # use ":" and "," as IFS
$ echo IFS=$IFS,   IFS="$IFS"     # echo is a Bash builtin
IFS=  , IFS=:,
$ date -R                         # just a command output
Sat, 23 Aug 2003 08:30:15 +0200
$ echo $(date -R)                 # sub shell --&gt; input to main shell
Sat  23 Aug 2003 08 30 36 +0200
$ unset IFS                       # reset IFS to the default
$ echo $(date -R)
Sat, 23 Aug 2003 08:30:50 +0200</screen>
      </section>
      <section id="_script_snippets_for_piping_commands">
        <title>コマンドをパイプするためのスクリプト断片</title>
        <simpara>次のスクリプトはパイプの一部として素晴らしいことをします。</simpara>
        <table id="listofscriptsniporpipingcommands" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>コマンドをパイプするためのスクリプト断片のリスト。</title>
          <tgroup cols="2">
            <colspec colwidth="144" align="left"/>
            <colspec colwidth="360" align="left"/>
            <thead>
              <row>
                <entry>
    スクリプト断片(1行入力)
    </entry>
                <entry>
    コマンドの効果
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>find /usr -print</literal>
                </entry>
                <entry>
    "<literal>$HOME</literal>"の値。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>seq 1 100</literal>
                </entry>
                <entry>
    1から100までプリント。
    </entry>
              </row>
              <row>
                <entry>
                  <literal> | xargs -n 1 &lt;command&gt;</literal>
                </entry>
                <entry>
    パイプからの各項目を引数としてコマンドを繰り返し実行します。
    </entry>
              </row>
              <row>
                <entry>
                  <literal> | xargs -n 1 echo</literal>
                </entry>
                <entry>
    パイプからのホワイトスペースで分離された項目を行に分割します。
    </entry>
              </row>
              <row>
                <entry>
                  <literal> | xargs echo</literal>
                </entry>
                <entry>
    パイプからの全ての行を1行にマージします。
    </entry>
              </row>
              <row>
                <entry>
                  <literal> | grep -e &lt;regex_pattern&gt;</literal>
                </entry>
                <entry>
    &lt;regex_pattern&gt;を含む行を取り出します。
    </entry>
              </row>
              <row>
                <entry>
                  <literal> | grep -v -e &lt;regex_pattern&gt;</literal>
                </entry>
                <entry>
    &lt;regex_pattern&gt;を含まない行を取り出します。
    </entry>
              </row>
              <row>
                <entry>
                  <literal> | cut -d: -f3 -</literal>
                </entry>
                <entry>
    "<literal>:</literal>"で区切られた3番目のフィールドを取り出します(passwdファイルなど)。
    </entry>
              </row>
              <row>
                <entry>
                  <literal> | awk '{ print $3 }'</literal>
                </entry>
                <entry>
    ホワイトスペースで区切られた3番目のフィールドを取り出します。
    </entry>
              </row>
              <row>
                <entry>
                  <literal> | awk -F'\t' '{ print $3 }'</literal>
                </entry>
                <entry>
    タブで区切られた3番目のフィールドを取り出します。
    </entry>
              </row>
              <row>
                <entry>
                  <literal> | col -bx</literal>
                </entry>
                <entry>
    バックスペースを削除し、タブをスベースに変換します。
    </entry>
              </row>
              <row>
                <entry>
                  <literal> | expand -</literal>
                </entry>
                <entry>
    タブをスベースに変換します。
    </entry>
              </row>
              <row>
                <entry>
                  <literal> | sort| uniq</literal>
                </entry>
                <entry>
    入力をソートし重複箇所を削除します。
    </entry>
              </row>
              <row>
                <entry>
                  <literal> | tr 'A-Z' 'a-z'</literal>
                </entry>
                <entry>
    大文字を小文字に変換します。
    </entry>
              </row>
              <row>
                <entry>
                  <literal> | tr -d '\n'</literal>
                </entry>
                <entry>
    複数の行を1行につなげます。
    </entry>
              </row>
              <row>
                <entry>
                  <literal> | tr -d '\r'</literal>
                </entry>
                <entry>
    キャリッジリターンを削除します。
    </entry>
              </row>
              <row>
                <entry>
                  <literal> | sed 's/^/# /'</literal>
                </entry>
                <entry>
    各行頭に"<literal>#</literal>"を追加します。
    </entry>
              </row>
              <row>
                <entry>
                  <literal> | sed 's/\.ext//g'</literal>
                </entry>
                <entry>
    "<literal>.ext</literal>"を削除します。
    </entry>
              </row>
              <row>
                <entry>
                  <literal> | sed -n -e 2p</literal>
                </entry>
                <entry>
    2番目の行を表示します。
    </entry>
              </row>
              <row>
                <entry>
                  <literal> | head -n 2 -</literal>
                </entry>
                <entry>
    最初の2行を表示します。
    </entry>
              </row>
              <row>
                <entry>
                  <literal> | tail -n 2 -</literal>
                </entry>
                <entry>
    最後の2行を表示します。
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>1行のシェルスクリプトは<literal>find</literal>(1)や<literal>xargs</literal>(1)を使って非常に複雑な操作を多くのファイルに繰り返し実行できます。<xref
linkend="_idioms_for_the_selection_of_files"/>と<xref
linkend="_repeating_a_command_looping_over_files"/>を参照下さい。</simpara>
        <simpara>シェルの対話モードを使うのが複雑過ぎるようになったときには、シェルのスクリプトを書くのも一計です(<xref
linkend="_the_shell_script"/>参照)。</simpara>
      </section>
    </section>
  </chapter>
  <chapter id="_debian_package_management">
    <title>Debianパッケージ管理</title>
    <note>
      <simpara>本章は最新安定版リリースがコード名:<literal>&codename-stable;</literal>と言う前提で書かれています。</simpara>
    </note>
    <simpara><ulink
url="&debian;">Debian</ulink>は、フリーソフトウエアのコンパイル済みバイナリパッケージからなる<emphasis
role="strong">整合性</emphasis>あるディストリビューションを作り、そのアーカイブを通じてそれらを頒布するボランティア組織です。</simpara>
    <simpara><ulink
url="&thedebianarchive;">Debianのアーカイブ</ulink>は、HTTPやFTP法によるアクセスされるための<ulink
url="&manyremotemirrorsites;">多くのリモートのミラーサイト</ulink>として提供されています。それは、<ulink
url="&cdromdvd;">CD-ROM/DVD</ulink>によっても提供されています。</simpara>
    <simpara>Debianのパッケージ管理システムは、<emphasis role="strong">適切に使われれば</emphasis>、<emphasis
role="strong">バイナリパッケージの整合性ある組み合わせ</emphasis>がアーカイブからシステムにインストールされるようになっています。現在、&arch;アーキテクチャーには&all-packages;つのパッケージがあります。</simpara>
    <simpara>Debianのパッケージ管理システムは、多彩な歴史があり、使用されるフロントエンドのユーザプログラムやバックエンドのアーカイブへのアクセス方法に多くの選択肢があります。現在はDebianのパッケージ管理活動のメインフロントエンドプログラムとして<literal>aptitude</literal>(8)を推薦します。</simpara>
    <table id="listofdebianpackemanagementtools" pgwide="0" frame="topbot" rowsep="1" colsep="1">
      <title>Debianのパッケージ管理ツールのリスト。</title>
      <tgroup cols="4">
        <colspec colwidth="72" align="left"/>
        <colspec colwidth="72" align="left"/>
        <colspec colwidth="72" align="left"/>
        <colspec colwidth="288" align="left"/>
        <thead>
          <row>
            <entry>
    パッケージ
    </entry>
            <entry>
    popcon
    </entry>
            <entry>
    サイズ
    </entry>
            <entry>
    説明
    </entry>
          </row>
        </thead>
        <tbody>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/aptitude">
<literal>aptitude</literal> </ulink></entry>
            <entry><ulink url="http://bugs.debian.org/aptitude">&pop-aptitude;</ulink></entry>
            <entry><ulink
url="http://packages.qa.debian.org/a/aptitude.html">&size-aptitude;</ulink></entry>
            <entry>
    ターミナルベースのパッケージマネージャ(現在の標準、<literal>apt</literal>のフロントエンド)
    </entry>
          </row>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/apt"> <literal>apt</literal>
</ulink></entry>
            <entry><ulink url="http://bugs.debian.org/apt">&pop-apt;</ulink></entry>
            <entry><ulink url="http://packages.qa.debian.org/a/apt.html">&size-apt;</ulink></entry>
            <entry>
    アドバンスドパッケージツール(APT)、"<literal>http</literal>"や"<literal>ftp</literal>"や"<literal>file</literal>"というアーカイブへのアクセス方法を<literal>dpkg</literal>に提供するフロントエンド(<literal>apt-get</literal>/<literal>apt-cache</literal>コマンドを含む)
    </entry>
          </row>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/tasksel">
<literal>tasksel</literal> </ulink></entry>
            <entry><ulink url="http://bugs.debian.org/tasksel">&pop-tasksel;</ulink></entry>
            <entry><ulink
url="http://packages.qa.debian.org/t/tasksel.html">&size-tasksel;</ulink></entry>
            <entry>
    Debianシステムにタスクをインストールするための選択ツール(APTのフロントエンド)
    </entry>
          </row>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/unattended-upgrades">
<literal>unattended-upgrades</literal> </ulink></entry>
            <entry><ulink
url="http://bugs.debian.org/unattended-upgrades">&pop-unattendedupgrades;</ulink></entry>
            <entry><ulink
url="http://packages.qa.debian.org/u/unattended-upgrades.html">&size-unattendedupgrades;</ulink></entry>
            <entry>
    APTの拡張パッケージでセキュリティアップデートの自動インストールを可能にする
    </entry>
          </row>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/dselect">
<literal>dselect</literal> </ulink></entry>
            <entry><ulink url="http://bugs.debian.org/dselect">&pop-dselect;</ulink></entry>
            <entry><ulink
url="http://packages.qa.debian.org/d/dselect.html">&size-dselect;</ulink></entry>
            <entry>
    ターミナルベースのパッケージマネージャ(過去の標準、APTや他の古いアクセス法のフロントエンド)
    </entry>
          </row>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/dpkg"> <literal>dpkg</literal>
</ulink></entry>
            <entry><ulink url="http://bugs.debian.org/dpkg">&pop-dpkg;</ulink></entry>
            <entry><ulink url="http://packages.qa.debian.org/d/dpkg.html">&size-dpkg;</ulink></entry>
            <entry>
    Debianのためのパッケージ管理システム
    </entry>
          </row>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/dpkg-ftp">
<literal>dpkg-ftp</literal> </ulink></entry>
            <entry><ulink url="http://bugs.debian.org/dpkg-ftp">&pop-dpkgftp;</ulink></entry>
            <entry><ulink
url="http://packages.qa.debian.org/d/dpkg-ftp.html">&size-dpkgftp;</ulink></entry>
            <entry>
    <literal>dselect</literal>のための古い<literal>ftp</literal>法
    </entry>
          </row>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/synaptic">
<literal>synaptic</literal> </ulink></entry>
            <entry><ulink url="http://bugs.debian.org/synaptic">&pop-synaptic;</ulink></entry>
            <entry><ulink
url="http://packages.qa.debian.org/s/synaptic.html">&size-synaptic;</ulink></entry>
            <entry>
    グラフィカルなパッケージマネージャ(APTのGNOMEフロントエンド)
    </entry>
          </row>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/gnome-apt">
<literal>gnome-apt</literal> </ulink></entry>
            <entry><ulink url="http://bugs.debian.org/gnome-apt">&pop-gnomeapt;</ulink></entry>
            <entry><ulink
url="http://packages.qa.debian.org/g/gnome-apt.html">&size-gnomeapt;</ulink></entry>
            <entry>
    グラフィカルなパッケージマネージャ(APTのGNOMEフロントエンド)
    </entry>
          </row>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/kpackage">
<literal>kpackage</literal> </ulink></entry>
            <entry><ulink url="http://bugs.debian.org/kpackage">&pop-kpackage;</ulink></entry>
            <entry><ulink
url="http://packages.qa.debian.org/k/kpackage.html">&size-kpackage;</ulink></entry>
            <entry>
    グラフィカルなパッケージマネージャ(APTのKDEフロントエンド)
    </entry>
          </row>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/apt-utils">
<literal>apt-utils</literal> </ulink></entry>
            <entry><ulink url="http://bugs.debian.org/apt-utils">&pop-aptutils;</ulink></entry>
            <entry><ulink
url="http://packages.qa.debian.org/a/apt-utils.html">&size-aptutils;</ulink></entry>
            <entry>
    APTユーティリティプログラム:
<literal>apt-extracttemplates</literal>(1)と<literal>apt-ftparchive</literal>(1)と<literal>apt-sortpkgs</literal>(1)
    </entry>
          </row>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/apt-listchanges">
<literal>apt-listchanges</literal> </ulink></entry>
            <entry><ulink
url="http://bugs.debian.org/apt-listchanges">&pop-aptlistchanges;</ulink></entry>
            <entry><ulink
url="http://packages.qa.debian.org/a/apt-listchanges.html">&size-aptlistchanges;</ulink></entry>
            <entry>
    パッケージ変更履歴の通知ツール
    </entry>
          </row>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/apt-listbugs">
<literal>apt-listbugs</literal> </ulink></entry>
            <entry><ulink url="http://bugs.debian.org/apt-listbugs">&pop-aptlistbugs;</ulink></entry>
            <entry><ulink
url="http://packages.qa.debian.org/a/apt-listbugs.html">&size-aptlistbugs;</ulink></entry>
            <entry>
    APTによる各インストール前にクリチカルバグをリストする
    </entry>
          </row>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/apt-file">
<literal>apt-file</literal> </ulink></entry>
            <entry><ulink url="http://bugs.debian.org/apt-file">&pop-aptfile;</ulink></entry>
            <entry><ulink
url="http://packages.qa.debian.org/a/apt-file.html">&size-aptfile;</ulink></entry>
            <entry>
    APTパッケージ探索ユーティリティ -- コマンドラインインターフェース
    </entry>
          </row>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/apt-rdepends">
<literal>apt-rdepends</literal> </ulink></entry>
            <entry><ulink url="http://bugs.debian.org/apt-rdepends">&pop-aptrdepends;</ulink></entry>
            <entry><ulink
url="http://packages.qa.debian.org/a/apt-rdepends.html">&size-aptrdepends;</ulink></entry>
            <entry>
    パッケージの依存関係を再帰的にリスト
    </entry>
          </row>
        </tbody>
      </tgroup>
    </table>
    <note>
      <simpara><literal>aptitude</literal>と<literal>apt-get</literal>コマンドの両方を混用する際に迷惑だった<ulink
url="&bugebbbcd;">バグ
#411123</ulink>は解決されました。もし本件のために<literal>aptitude</literal>(8)を使うことに躊躇しているなら、御再考下さい。</simpara>
    </note>
    <section id="_debian_package_management_prerequisites">
      <title>Debainパッケージ管理の前提条件</title>
      <section id="_package_configuration">
        <title>パッケージ設定</title>
        <simpara>Debianシステム上でのパッケージ設定の要点は次です:</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
システム管理者による手動の設定は尊重されます。言い換えれば、パッケージ設定システムは利便性のために勝手な設定をしません。
</simpara>
          </listitem>
          <listitem>
            <simpara>
各パッケージは、パッケージ導入プロセスを助けるための<literal>debconf</literal>(7)と呼ばれる標準化されたユーザインターフェースを使用し、それぞれ毎の設定スクリプトとともに提供されます。
</simpara>
          </listitem>
          <listitem>
            <simpara>
Debianの開発者はパッケージの設定スクリプトによりユーザのアップグレードが滞りなく進むように最大限の努力を行います。
</simpara>
          </listitem>
          <listitem>
            <simpara>
システム管理者にはパッケージされたソフトウエアの全機能が使用可能です。ただしセキュリティリスクのある機能はデフォルトのインストール状態では無効にされています。
</simpara>
          </listitem>
          <listitem>
            <simpara>
セキュリティリスクのあるサービスを手動でアクティベートした場合は、リスクの封じ込めはあなたの責任です。
</simpara>
          </listitem>
          <listitem>
            <simpara>
システム管理者は難解奇異な設定を手動で有効にできます。ただこんなことをすればポピュラーな一般の補助プログラムとは干渉してしまうかもしれません。
</simpara>
          </listitem>
        </itemizedlist>
      </section>
      <section id="_basic_precautions">
        <title>基本的な注意事項</title>
        <warning>
          <simpara>ランダムな混合のスイーツからパッケージを導入してはいけません。コンパイラーの<ulink url="&abi;">ABI</ulink>とか<ulink
url="&library;">ライブラリー</ulink>
のバージョンとかインタープリターの機能等のシステム管理に関する深い知見が必要なパッケージの整合性がきっと破壊されます。</simpara>
        </warning>
        <simpara><ulink url="&newbie;">初心者</ulink>のDebianシステム管理者は<emphasis
role="strong">Debianの安定版<literal>stable</literal></emphasis>リリースをセキュリティアップデートを適用しながら使うべきです。Debianシステムを非常によく理解するまでは、用心として以下の有効なアクションですら避けておくべきと考えます:</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
"<literal>/etc/apt/sources.list</literal>"の中に<emphasis
role="strong">テスト版<literal>testing</literal></emphasis>とか不安定版<emphasis
role="strong"><literal>unstable</literal></emphasis>とかを含めないようにする。
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>/etc/apt/sources.list</literal>"の中に標準のDebianとDebian以外のUbuntuのようなアーカイブを混在させない、
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>/etc/apt/preferences</literal>"を作成しない。
</simpara>
          </listitem>
          <listitem>
            <simpara>
パッケージ管理ツールのデフォルトを影響を理解せずに変更しない。
</simpara>
          </listitem>
          <listitem>
            <simpara>
ランダムなパッケージを"<literal>dpkg -i &lt;random_package&gt;</literal>"でインストールしない。
</simpara>
          </listitem>
          <listitem>
            <simpara>
ランダムなパッケージを"<literal>dpkg --force-all -i
&lt;random_package&gt;</literal>"で絶対インストールしない。
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>/var/lib/dpkg/</literal>"の中のファイルを消去や改変しない。
</simpara>
          </listitem>
          <listitem>
            <simpara>
ソースから直接コンパイルしたソフトウエアプログラムをインストールする際にシステムファイルを上書きしない。(こういったソフトウエアプログラムは"<literal>/usr/local</literal>"か"<literal>/opt</literal>"の中にインストールしましょう。)
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>上記のアクションで起きるDebianパッケージシステムへのコンパチブルでない効果はシステムを使えなくするかもしれません。</simpara>
        <simpara>ミッションクリティカルなサーバーを走らせる真剣なDebianシステム管理者は更なる用心をすべきです:</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
安全な条件下であなたの特定の設定で徹底的にテストすることなくセキュリティアップデートをも含めた如何なるパッケージもインストールをしてはいけません。(Debianは非常に安定なシステムを長期間提供し続けてきているとは言え、最終的にはあなたのシステムへの責任はシステム管理者であるあなた自身が負っています。)
</simpara>
          </listitem>
        </itemizedlist>
      </section>
      <section id="_life_with_eternal_upgrades">
        <title>永遠のアップグレード人生</title>
        <simpara>私が上記で警告したとはいえ、<emphasis
role="strong">自分自身で管理するデスクトップ環境</emphasis>ではDebianのテスト版<literal>testing</literal>や不安定版<literal>unstable</literal>のスイーツを自分のメインのシステムとして使おうと多くの本書の読者が望むことは分かっています。システムは非常に快調に動くし、頻繁に更新されるし、最新の機能が提供されるからです。</simpara>
        <caution>
          <simpara>あなたの<emphasis
role="strong">業務サーバー</emphasis>には、セキュリティアップデートをした安定版<literal>stable</literal>スイーツを推薦します。例えばあなたの母親のPCのように、管理に限られた時間しか割けないデスクトップPCに関しても同様の事が言えます。</simpara>
        </caution>
        <simpara>"<literal>/etc/apt/sources.list</literal>"の中のディストリビューション文字列を、"<literal>testing</literal>"とか"<literal>unstable</literal>"というスイーツ名、もしくは"<literal>&codename-testing;</literal>とか"<literal>&codename-unstable;</literal>"というコード名に単に設定するだけで十分です。</simpara>
        <simpara><literal>testing</literal>や<literal>unstable</literal>を使うことは<emphasis
role="strong">大変楽しい</emphasis>けれど、リスクがついてきます。Debianシステムの<literal>unstable</literal>スイーツさえおおむね非常に安定に見えますが、Debianシステムの<literal>testing</literal>や<literal>unstable</literal>スイーツでは過去パッケージ上の問題をいくつか経験して来てるし、その一部は簡単には解決できないものでした。<emphasis
role="strong">結構痛い目</emphasis>に会うことになるかもしれませんよ。時々、壊れたパッケージや機能の欠損が数週間続くことが起こります。</simpara>
        <simpara>Debianパッケージのバグからの早急かつ簡単な回復を確実にするいくつかのアイデアがここにあります:</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
Debianシステムの安定版<literal>stable</literal>スイーツを別のパーティションにインストールし、システムを<emphasis
role="strong">ヂュアルブータブル</emphasis>にする。
</simpara>
          </listitem>
          <listitem>
            <simpara>
<emphasis role="strong">レスキューブート</emphasis>のためのインストール用CDを手元に置いておく。
</simpara>
          </listitem>
          <listitem>
            <simpara>
<literal>apt-listbugs</literal>をインストールしてアップグレードの前に<ulink
url="&debianbugtrackingsystembts;">Debianバグトラッキングシステム(BTS)</ulink>をチェックすることを考る。
</simpara>
          </listitem>
          <listitem>
            <simpara>
問題回避するのに十分なだけのパッケージシステムの基盤を学ぶ。
</simpara>
          </listitem>
          <listitem>
            <simpara>
chrootか類似の環境を作り事前に最新のシステムを実行する。(任意)
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>(これらの用心のための方策の何れもできないなら、テスト版<literal>testing</literal>や不安定版<literal>unstable</literal>スイーツを使うのにはあなたはきっと準備不足です。)</simpara>
        <simpara>以下に記すことにより<ulink url="&enlightenment;">悟り</ulink>を開けば、アップグレード<ulink
url="&hell;">地獄</ulink>という果てしない<ulink
url="&karmic;">因果応報</ulink>の葛藤から人は解脱し、Debianの<ulink
url="&nirvana;">涅槃</ulink>の境地に到達できます。</simpara>
      </section>
      <section id="_debian_archive_basics">
        <title>Debianアーカイブの基本</title>
        <simpara><ulink url="&thedebianarchive;">Debianアーカイブ</ulink>をシステムユーザの視点から見てみましょう。</simpara>
        <tip>
          <simpara>Debianアーカイブの正式のポリシーは<ulink
url="&debianpolicymanuthedebianarchive;">Debianポリシーマニュアル、第2章 -
Debianアーカイブ</ulink>に規定されています。</simpara>
        </tip>
        <simpara>典型的なHTTPアクセスの場合、現在の安定版<literal>stable</literal>=<literal>&codename-stable;</literal>システムを例にとると"<literal>/etc/apt/sources.list</literal>"ファイルの中にアーカイブは次の様に規定されています。</simpara>
        <screen>deb http://ftp.XX.debian.org/debian/ &codename-stable; main contrib non-free
deb-src http://ftp.XX.debian.org/debian/ &codename-stable; main contrib non-free

deb http://security.debian.org/ &codename-stable;/updates main contrib
deb-src http://security.debian.org/ &codename-stable;/updates main contrib</screen>
        <simpara>"<literal>ftp.XX.debian.org</literal>"はあなたの所在場所に合う、<ulink
url="&thelistofdebianwdwidemirrorsites;">Debianの全世界ミラーサイトリスト</ulink>中に見つかるミラーサイトのURL、例えば日本なら
"<literal>ftp.jp.debian.org</literal>"、に置き換えなければいけません。これらのサーバーの状況は<ulink
url="&debianmirrorcheckersite;">Debianミラー確認サイト</ulink>で確認できます。</simpara>
        <simpara>上記で、次の安定版<literal>stable</literal>がリリースされて驚かされ無いように、私はスイート名の"<literal>stable</literal>"でなくコード名の"<literal>&codename-stable;</literal>"を使います。</simpara>
        <simpara>"<literal>/etc/apt/sources.list</literal>"の意味は<literal>sources.list</literal>(5)に記載されていて、要点は:</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
"<literal>deb</literal>"行がバイナリパッケージのための定義です。
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>deb-src</literal>"行がソースパッケージのための定義です。
</simpara>
          </listitem>
          <listitem>
            <simpara>
一番目の引数は、Debianアーカイブのroot URLです。
</simpara>
          </listitem>
          <listitem>
            <simpara>
二番目の引数は、スイーツ名かコード名のどちらかで与えられるディストリビューション名です。
</simpara>
          </listitem>
          <listitem>
            <simpara>
三番目次の引数は、Debianアーカイブの中の有効なアーカイブのコンポーネント名のリストです。
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>ソース関連のメタデータにアクセスしない<literal>aptitude</literal>のためだけなら"<literal>deb-src</literal>"行は安全に省略(もしくは"#"を行頭に挿入してコメントアウト)することができます。こうするとアーカイブのメタデータの更新速度が向上します。URLは"<literal>http://</literal>"や"<literal>ftp://</literal>"や"<literal>file://</literal>"等々の何れも可能です。</simpara>
        <tip>
          <simpara>もし上記の例で"<literal>&codename-stable;</literal>"ではなく"<literal>sid</literal>"が使われる場合には、セキュリティアップデートのための"<literal>deb:
http://security.debian.org/
...</literal>"行は不要です。安定版<literal>stable</literal>とテスト版<literal>testing</literal>(即ち<literal>&codename-stable;</literal>と<literal>&codename-testing;</literal>)にのみセキュリティアップデートがあります。</simpara>
        </tip>
        <simpara>次は設定ファイル内に用いられるDebianアーカイブサイトのURLとスイーツ名もしくはコード名です。</simpara>
        <table id="listofdebianarchivesites" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>Debianアーカイブサイトのリスト。</title>
          <tgroup cols="3">
            <colspec colwidth="108" align="left"/>
            <colspec colwidth="108" align="left"/>
            <colspec colwidth="288" align="left"/>
            <thead>
              <row>
                <entry>
    アーカイブのURL
    </entry>
                <entry>
    スイート名(コード名)
    </entry>
                <entry>
    目的
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <ulink
url="&httpftpxxdebianorgdebian;">http://ftp.XX.debian.org/debian/</ulink>
                </entry>
                <entry><literal>stable</literal> (<literal>&codename-stable;</literal>)
    </entry>
                <entry>
    安定版(&codename-stable;)のリリース
    </entry>
              </row>
              <row>
                <entry>
                  <ulink
url="&httpftpxxdebianorgdebian;">http://ftp.XX.debian.org/debian/</ulink>
                </entry>
                <entry><literal>testing</literal> (<literal>&codename-testing;</literal>)
    </entry>
                <entry>
    テスト版(&codename-testing;)のリリース
    </entry>
              </row>
              <row>
                <entry>
                  <ulink
url="&httpftpxxdebianorgdebian;">http://ftp.XX.debian.org/debian/</ulink>
                </entry>
                <entry><literal>unstable</literal> (<literal>&codename-unstable;</literal>)
    </entry>
                <entry>
    不安定版(&codename-unstable;)のリリース
    </entry>
              </row>
              <row>
                <entry>
                  <ulink
url="&httpftpxxdebianorgdebian;">http://ftp.XX.debian.org/debian/</ulink>
                </entry>
                <entry>
                  <literal>experimental</literal>
                </entry>
                <entry>
    実験的プリリリース(任意、開発者専用)
    </entry>
              </row>
              <row>
                <entry>
                  <ulink
url="&httpftpxxdebianorgdebian;">http://ftp.XX.debian.org/debian/</ulink>
                </entry>
                <entry>
                  <literal>stable-proposed-updates</literal>
                </entry>
                <entry>
    次回安定版ポイントリリース用のアップデート(任意)
    </entry>
              </row>
              <row>
                <entry>
                  <ulink url="&httpsecuritydebianorg;">http://security.debian.org/</ulink>
                </entry>
                <entry>
                  <literal>stable/updates</literal>
                </entry>
                <entry>
    安定版用のセキュリティアップデート(重要)
    </entry>
              </row>
              <row>
                <entry>
                  <ulink url="&httpsecuritydebianorg;">http://security.debian.org/</ulink>
                </entry>
                <entry>
                  <literal>testing/updates</literal>
                </entry>
                <entry>
    テスト版用のセキュリティアップデート(重要)
    </entry>
              </row>
              <row>
                <entry>
                  <ulink
url="&httpvolatiledebirgdebianvolatile;">http://volatile.debian.org/debian-volatile/</ulink>
                </entry>
                <entry>
                  <literal>volatile</literal>
                </entry>
                <entry>
    スパムフィルタやIMクライアント他用のコンパチブルなアップデート
    </entry>
              </row>
              <row>
                <entry>
                  <ulink
url="&httpvolatiledebirgdebianvolatile;">http://volatile.debian.org/debian-volatile/</ulink>
                </entry>
                <entry>
                  <literal>volatile-sloppy</literal>
                </entry>
                <entry>
    スパムフィルタやIMクライアント他用のノンコンパチブルなアップデート
    </entry>
              </row>
              <row>
                <entry>
                  <ulink url="&httpbackportsorgdebian;">http://backports.org/debian/</ulink>
                </entry>
                <entry>
                  <literal>&codename-stable;-backports</literal>
                </entry>
                <entry>
    &codename-stable;のためのバックポートされたパッケージ。(非正規、任意)
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <caution>
          <simpara>セキュリティアップデートされた純粋な安定版<emphasis
role="strong"><literal>stable</literal></emphasis>リリースのみが最善の安定性を提供します。一部<emphasis
role="strong"><literal>testing</literal></emphasis>や<emphasis
role="strong"><literal>unstable</literal></emphasis>由来のパッケージを混用してほとんど<emphasis
role="strong"><literal>stable</literal></emphasis>リリースを走らせることは、純粋な<emphasis
role="strong"><literal>unstable</literal></emphasis>リリースを走らせるよりリスクがあります。<emphasis
role="strong"><literal>stable</literal></emphasis>リリースの下で最新バージョンのいくつかのプログラムが本当に必要なら、<ulink
url="&thedebianvolatileproject;">debian-volatileプロジェクト</ulink>や<ulink
url="&backportsorg;">backports.org</ulink>(<xref
linkend="_volatile_and_backports_org"/>参照)サービスからのパッケージを使って下さい。これらのサービスは細心の注意を持って使う必要があります。</simpara>
        </caution>
        <caution>
          <simpara>基本的に、<literal>stable</literal>か<literal>testing</literal>か<literal>unstable</literal>のスイーツの内の1つだけを"<literal>deb</literal>"行に書くべきです。もし、<literal>stable</literal>と<literal>testing</literal>と<literal>unstable</literal>のスイーツの何らかの組み合わせを"<literal>deb</literal>"行に書けば、APTプログラムは、最新のアーカイブのみが有効であるにもかかわらず、実行速度が低下します。"<literal>/etc/apt/preferences</literal>"ファイルがはっきりとした目的を持って使われている場合(<xref
linkend="_tweaking_candidate_version"/>)のみ複数のリストに意味があります。</simpara>
        </caution>
        <note>
          <simpara><literal>stable</literal>や<literal>testing</literal>スイーツのDebianシステムでは、上記の例のようにセキュリティアップデートを有効とするように"<literal>/etc/apt/sources.list</literal>"の中に"<literal>http://security.debian.org/</literal>"の行を含めることはいいことです。</simpara>
        </note>
        <simpara>各Debianアーカイブは3つのコンポーネントから成り立っています。コンポーネントには<ulink
url="&categoriesindebianpolicy;">"Debianポリシー"ではカテゴリ</ulink>とか<ulink
url="&debiansocialcontract;">"Debian社会契約"</ulink>ではエリアという別名が使われています。コンポーネントは<ulink
url="&thedebianfreesofreguidelinesdfsg;">"Debianフリーソフトウエアガイドライン"
(DFSG)</ulink>に準拠しているかどうかによって分類されています。</simpara>
        <table id="listofdebianarchivecomponents" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>Debianアーカイブコンポーネントのリスト。</title>
          <tgroup cols="3">
            <colspec colwidth="108" align="left"/>
            <colspec colwidth="108" align="left"/>
            <colspec colwidth="288" align="left"/>
            <thead>
              <row>
                <entry>
    コンポーネント
    </entry>
                <entry>
    パッケージ数
    </entry>
                <entry>
    クライテリア
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>main</literal>
                </entry>
                <entry>
    &main-packages;
    </entry>
                <entry>
    パッケージはDSFGに完全準拠し、<literal>non-free</literal>のパッケージに依存していない。(main=主要)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>contrib</literal>
                </entry>
                <entry>
    &contrib-packages;
    </entry>
                <entry>
    パッケージはDSFGに完全準拠するが、<literal>non-free</literal>のパッケージに依存しています。(contrib=寄与)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>non-free</literal>
                </entry>
                <entry>
    &non-free-packages;
    </entry>
                <entry>
    パッケージはDSFGに完全には準拠しないが、頒布可能で有用です。(non-free=非自由)
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>ここで、上記にあるパッケージ数は&arch;アーキテクチャーに関する数字である。厳密に言うなら、<literal>main</literal>コンポーネントのアーカイブのみをDebianシステムと考えるべきです。</simpara>
        <simpara>Debianアーカイブの構成は、各アーカイブのURLの後ろに<literal>dists</literal>か<literal>pool</literal>をつけたURLにブラウザを向ければ学習できます。</simpara>
        <simpara>ディストリビューションは、スイーツと<ulink
url="&codename;">コード名</ulink>の2つの方法で言及されます。この他にディストリビューションと言う言葉は多くの文書でスイーツの同義語としても使われています。スイーツとコード名の関係は次のようにまとめられます:</simpara>
        <table id="therelationshipbsuiteandcodename" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>スイーツとコード名の関係。</title>
          <tgroup cols="4">
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="288" align="left"/>
            <thead>
              <row>
                <entry>
    タイミング
    </entry>
                <entry>
    スイーツ = 安定版 <literal>stable</literal>
    </entry>
                <entry>
    スイーツ = テスト版 <literal>testing</literal>
    </entry>
                <entry>
    スイーツ = 不安定版 <literal>unstable</literal>
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
    <literal>&codename-stable;</literal>リリース後
    </entry>
                <entry>
    コード名 = <literal>&codename-stable;</literal>
    </entry>
                <entry>
    コード名 = <literal>&codename-testing;</literal>
    </entry>
                <entry>
    コード名 = <literal>sid</literal>
    </entry>
              </row>
              <row>
                <entry>
    <literal>&codename-testing;</literal>リリース後
    </entry>
                <entry>
    コード名 = <literal>&codename-testing;</literal>
    </entry>
                <entry>
    コード名 = <literal>&codename-nexttesting;</literal>
    </entry>
                <entry>
    コード名 = <literal>sid</literal>
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>コード名の歴史は、<ulink url="&debianfaqgdbwhiceenusedinthepast;">Debian FAQ: 6.3.1
Which other codenames have been used in the past?</ulink>に記載されています。</simpara>
        <simpara>比較的厳格なDebianアーカイブの用語法では、"セクション"という言葉はアプリケーションの分野によるパッケージ分類に特化して使われます。(しかし、"mainセクション"という言葉はmainコンポーネントを提供するDebianアーカイブ部分を表現するのにしばしば使われています。)</simpara>
        <simpara>Debianデベロッパー(DD)が不安定版<literal>unstable</literal>アーカイブに新たなアップロードを(<ulink
url="&incoming;">incoming</ulink>での処理を経由して)する度毎に、アップロードするパッケージが最新の不安定版<literal>unstable</literal>アーカイブの最新のパッケージ集合とコンパチブルであるようにする義務がDDにはあります。</simpara>
        <simpara>重要なライブラリーのアップグレード他の理由でDDがこのコンパチビリティーを壊す際には、<ulink
url="&thedebiandevelmailinglist;">debian-develのメーリングリスト</ulink>他に通常アナウンスがされます。</simpara>
        <simpara>Debianのアーカイブ管理スクリプトによって非安定版<literal>unstable</literal>アーカイブからテスト版<literal>testing</literal>アーカイブへパッケージ集合が移動される前に、アーカイブ管理スクリプトはパッケージの成熟度(約10日経過)とRCバグレポート状況を確認するばかりでなく、テスト版<literal>testing</literal>アーカイブの最新パッケージ集合とのコンパチブルであるようにするように努めます。このプロセスがあるので、テスト版<literal>testing</literal>アーカイブは非常に新しくかつ使いやすいのです。</simpara>
        <simpara>リリースチームによる徐々のアーカイブ凍結過程を通じて、少々の手動の介入を伴いつつテスト版<literal>testing</literal>アーカイブは完全に整合性をもったバグの無い状態へと徐々に熟成されます。そして、古いテスト版<literal>testing</literal>アーカイブのコード名を新たな安定版<literal>stable</literal>アーカイブへと割り当て、新たなコード名を新たなテスト版<literal>testing</literal>アーカイブへと割り当てることで、新たな安定版<literal>stable</literal>がリリースされます。新たなテスト版<literal>testing</literal>アーカイブの当初の内容は、新たにリリースされた安定版<literal>stable</literal>アーカイブとまったく同じです。</simpara>
        <simpara>不安定版<literal>unstable</literal>もテスト版<literal>testing</literal>アーカイブもともに一時的に次のような理由で細かな問題発生があるかもしれません:</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
ブロークンなパッケージのアーカイブへのアップロード(主に<literal>unstable</literal>にて)。
</simpara>
          </listitem>
          <listitem>
            <simpara>
新たなパッケージをアーカイブに受け入れる際の遅れ(主に<literal>unstable</literal>にて)。
</simpara>
          </listitem>
          <listitem>
            <simpara>
アーカイブの同期のタイミング問題(<literal>testing</literal>と<literal>unstable</literal>の両方にて)。
</simpara>
          </listitem>
          <listitem>
            <simpara>
パッケージの除去などのアーカイブへの手動の介入(どちらかといえば<literal>testing</literal>にて)、等。
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>もしこれらのアーカイブを使おうと考えるなら、この種の細かな問題の修復や回避は必須技能です。</simpara>
        <caution>
          <simpara>たとえいつも非安定版<literal>unstable</literal>やテスト版<literal>testing</literal>アーカイブを使っていようとも、ほとんどのデスクトップユーザは新たな安定版<literal>stable</literal>リリースの後約数ヶ月はセキュリティアップデートされた安定版<literal>stable</literal>アーカイブを使うべきです。この移行期は、非安定版<literal>unstable</literal>もテスト版<literal>testing</literal>アーカイブの何れももほとんどの人に良いものではありません。非安定版<literal>unstable</literal>アーカイブを使おうとすると、核となるパッケージが大アップグレードの嵐に見舞われるので、あなたのシステムをうまく使える状態に保つのは困難です。テスト版<literal>testing</literal>アーカイブを使おうとしても、安定版<literal>stable</literal>アーカイブとほとんど同じ内容でセキュリティサポートはありません(<ulink
url="&debiantestingsectyannouncecaaibc;">Debian testing-security-announce
2008-12</ulink>)。1ヶ月ほど経てば、非安定版<literal>unstable</literal>アーカイブなら注意を払えば使えるかもしれません。</simpara>
        </caution>
        <tip>
          <simpara>テスト版<literal>testing</literal>アーカイブを追跡している際には、除去されたパッケージによって引き起こされる問題は該当するバグ修正のためにアップロードされたパッケージを非安定版<literal>unstable</literal>アーカイブからインストールすれば通常回避できます。</simpara>
        </tip>
        <simpara>次の定義は<ulink url="&debianpolicymanual;">Debianポリシーマニュアル</ulink>参照:</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
"<ulink url="&sections;">セクション</ulink>"
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<ulink url="&priorities;">優先度(priorities)</ulink>"
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<ulink url="&basesystem;">ベースシステム</ulink>"
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<ulink url="&essentialpackages;">必須パッケージ</ulink>"
</simpara>
          </listitem>
        </itemizedlist>
      </section>
      <section id="_package_dependencies">
        <title>パッケージ依存関係</title>
        <simpara>Debianシステムはコントロールファイル中のバージョン情報付きのバイナリ依存関係宣言を通して整合性のあるバイナリパッケージの集合を提供します。ここにその少々簡素化しすぎの定義を示します。</simpara>
        <table id="listofpackagedependencies" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>パッケージ依存関係のリスト。</title>
          <tgroup cols="2">
            <colspec colwidth="144" align="left"/>
            <colspec colwidth="360" align="left"/>
            <thead>
              <row>
                <entry>
    パッケージ依存関係
    </entry>
                <entry>
    意味
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
    Depends
    </entry>
                <entry>
    これは絶対依存を宣言し、このフィールドにリストされた全てのパッケージは同時または事前にインストールされていなければいけません。
    </entry>
              </row>
              <row>
                <entry>
    Pre-Depends
    </entry>
                <entry>
    これは、リストされたパッケージが事前にインストールを完了している必要がある以外は、Dependsと同様です。
    </entry>
              </row>
              <row>
                <entry>
    Recommends
    </entry>
                <entry>
    これは強いが絶対でない依存を宣言します。多くのユーザはこのフィールドにリストされたパッケージ全てが導入されていなければ、当該パッケージを望まないでしょう。
    </entry>
              </row>
              <row>
                <entry>
    Suggests
    </entry>
                <entry>
    これは弱い依存を宣言します。このパッケージの多くのユーザはこのフィールドにリストされたパッケージを導入すればメリットを享受できるとは言え、それら抜きでも十分な機能が得られます。
    </entry>
              </row>
              <row>
                <entry>
    Enhances
    </entry>
                <entry>
    これはSuggests同様の弱い依存を宣言しますが、依存作用の方向が逆です。
    </entry>
              </row>
              <row>
                <entry>
    Conflicts
    </entry>
                <entry>
    これは絶対的排他関係を宣言します。このフィールドにリストされた全てのパッケージを除去しない限り当該パッケージを導入できません。
    </entry>
              </row>
              <row>
                <entry>
    Replaces
    </entry>
                <entry>
    当該パッケージによりインストールされるファイルがこのフィールドにリストされたパッケージのファイルを置き換える際にこれを宣言します。
    </entry>
              </row>
              <row>
                <entry>
    Provides
    </entry>
                <entry>
    当該パッケージがこのフィールドにリストされたパッケージのファイルと機能の全てを提供する際にこれを宣言します。
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <note>
          <simpara>正常な設定としてProvidesとConflictsとReplacesとを単一バーチャルパッケージに対し同時宣言することがあります。こうするといかなる時にも当該バーチャルパッケージを提供する実パッケージのうち確実に一つだけがインストールされます。</simpara>
        </note>
        <simpara>ソースの依存関係をも含む正式の定義は<ulink url="&thepolicymanualcsbetweenpackages;">the Policy
Manual: Chapter 7 - Declaring relationships between packages</ulink>にあります。</simpara>
      </section>
      <section id="_the_event_flow_of_the_package_management">
        <title>パッケージ管理のイベントの流れ</title>
        <simpara>パッケージ管理の簡略化されたイベントの流れをまとめると次のようになります。</simpara>
        <itemizedlist>
          <listitem>
            <simpara><emphasis role="strong">更新</emphasis> ("<literal>aptitude
update</literal>"か"<literal>apt-get update</literal>"):
</simpara>
            <orderedlist>
              <listitem>
                <simpara>
アーカイブメタデータをリモートアーカイブから取得。
</simpara>
              </listitem>
              <listitem>
                <simpara>
APTが使えるようローカルメタデータを再構築し更新。
</simpara>
              </listitem>
            </orderedlist>
          </listitem>
          <listitem>
            <simpara><emphasis role="strong">アップグレード</emphasis>("<literal>aptitude
safe-upgrade</literal>"と"<literal>aptitude
full-upgrade</literal>"か、"<literal>apt-get
upgrade</literal>"と"<literal>apt-get dist-upgrade</literal>"):
</simpara>
            <orderedlist>
              <listitem>
                <simpara>
APTシステムは最新バージョンが普通選ばれる<emphasis
role="strong">候補バージョン</emphasis>を全てのインストール済みパッケージに関して決定する。(例外については<xref
linkend="_tweaking_candidate_version"/>参照。)
</simpara>
              </listitem>
              <listitem>
                <simpara>
パッケージ依存関係の解決。
</simpara>
              </listitem>
              <listitem>
                <simpara>
もし候補バージョンがインストール済みバージョンとことなる際には、選ばれたバイナリパッケージをリモートアーカイブから取得。
</simpara>
              </listitem>
              <listitem>
                <simpara>
取得バイナリパッケージの開梱。
</simpara>
              </listitem>
              <listitem>
                <simpara>
<emphasis role="strong">preinst</emphasis>スクリプトの実行
</simpara>
              </listitem>
              <listitem>
                <simpara>
バイナリファイルのインストール。
</simpara>
              </listitem>
              <listitem>
                <simpara>
<emphasis role="strong">postinst</emphasis>スクリプトの実行。
</simpara>
              </listitem>
            </orderedlist>
          </listitem>
          <listitem>
            <simpara><emphasis role="strong">インストール</emphasis> ("<literal>aptitude install
...</literal>"か"<literal>apt-get install ...</literal>"):
</simpara>
            <orderedlist>
              <listitem>
                <simpara>
コマンドラインにリストされたパッケージの選択。
</simpara>
              </listitem>
              <listitem>
                <simpara>
パッケージ依存関係の解決。
</simpara>
              </listitem>
              <listitem>
                <simpara>
選ばれたバイナリパッケージをリモートアーカイブから取得。
</simpara>
              </listitem>
              <listitem>
                <simpara>
取得バイナリパッケージの開梱。
</simpara>
              </listitem>
              <listitem>
                <simpara>
<emphasis role="strong">preinst</emphasis>スクリプトの実行
</simpara>
              </listitem>
              <listitem>
                <simpara>
バイナリファイルのインストール。
</simpara>
              </listitem>
              <listitem>
                <simpara>
<emphasis role="strong">postinst</emphasis>スクリプトの実行。
</simpara>
              </listitem>
            </orderedlist>
          </listitem>
          <listitem>
            <simpara><emphasis role="strong">削除</emphasis> ("<literal>aptitude remove
...</literal>"か"<literal>apt-get remove ...</literal>"):
</simpara>
            <orderedlist>
              <listitem>
                <simpara>
コマンドラインにリストされたパッケージの選択。
</simpara>
              </listitem>
              <listitem>
                <simpara>
パッケージ依存関係の解決。
</simpara>
              </listitem>
              <listitem>
                <simpara>
<emphasis role="strong">prerm</emphasis>スクリプトの実行
</simpara>
              </listitem>
              <listitem>
                <simpara>
設定ファイル<emphasis role="strong">以外の</emphasis>インストール済みファイルの削除。
</simpara>
              </listitem>
              <listitem>
                <simpara>
<emphasis role="strong">postrm</emphasis>スクリプトの実行。
</simpara>
              </listitem>
            </orderedlist>
          </listitem>
          <listitem>
            <simpara><emphasis role="strong">完全削除</emphasis> ("<literal>aptitude purge
...</literal>"か"<literal>apt-get purge ...</literal>"):
</simpara>
            <orderedlist>
              <listitem>
                <simpara>
コマンドラインにリストされたパッケージの選択。
</simpara>
              </listitem>
              <listitem>
                <simpara>
パッケージ依存関係の解決。
</simpara>
              </listitem>
              <listitem>
                <simpara>
<emphasis role="strong">prerm</emphasis>スクリプトの実行
</simpara>
              </listitem>
              <listitem>
                <simpara>
設定ファイル<emphasis role="strong">を含めた</emphasis> インストール済みファイルの削除。
</simpara>
              </listitem>
              <listitem>
                <simpara>
<emphasis role="strong">postrm</emphasis>スクリプトの実行。
</simpara>
              </listitem>
            </orderedlist>
          </listitem>
        </itemizedlist>
        <simpara>上記では全体像の理解のためにわざと技術詳細を端折っています。</simpara>
      </section>
      <section id="_first_response_to_package_management_troubles">
        <title>パッケージ管理のトラブルへの応急対処法</title>
        <simpara>内容が正確な正式文書を読むように心がけるべきです。まずDebianに特定のことが記載された"<literal>/usr/share/doc/&lt;package_name&gt;/README.Debian</literal>"を最初に読むべきです。また"<literal>/usr/share/doc/&lt;package_name&gt;/</literal>"の中にある他の文書も参照すべきです。<xref
linkend="_customizing_bash"/>に書かれたようなシェル設定がされていれば、次のようにタイプしてください。</simpara>
        <screen>$ cd &lt;package_name&gt;
$ pager README.Debian
$ mc</screen>
        <simpara>さらに詳しい情報を得るには"<literal>-doc</literal>"というサフィックスを持った対応する文書パッケージをインストールする必要があるかもしれません。</simpara>
        <simpara>特定のパッケージで問題を経験した際には、次のサイトを確認してください。</simpara>
        <table id="listofkeywebsiteaspecificpackage" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>特定パッケージの問題解決のためのキーとなるウエッブサイトのリスト。</title>
          <tgroup cols="2">
            <colspec colwidth="144" align="left"/>
            <colspec colwidth="360" align="left"/>
            <thead>
              <row>
                <entry>
    サイト
    </entry>
                <entry>
    コマンド
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
    <ulink
url="&debianbugtrackingsystembts;">Debianバグトラッキングシステム(BTS)</ulink>のホームページ。
    </entry>
                <entry>
                  <literal>sensible-browser "http://bugs.debian.org/"</literal>
                </entry>
              </row>
              <row>
                <entry>
    既知のパッケージに関するバグレポート。
    </entry>
                <entry>
                  <literal>sensible-browser
"http://bugs.debian.org/&lt;package_name&gt;"</literal>
                </entry>
              </row>
              <row>
                <entry>
    既知のバグ番号に関するバグレポート。
    </entry>
                <entry>
                  <literal>sensible-browser
"http://bugs.debian.org/&lt;bug_number&gt;"</literal>
                </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>"<literal>site:debian.org</literal>"や"<literal>site:wiki.debian.org</literal>"や"<literal>site:lists.debian.org</literal>"等を含む検索語で<ulink
url="&google;">Google</ulink>を検索する。</simpara>
        <simpara>バグ報告をする際には、<literal>reportbug</literal>(1)コマンドを使いましょう。</simpara>
      </section>
    </section>
    <section id="_basic_package_management_operations">
      <title>基本的パッケージ管理操作</title>
      <simpara>AptitudeはDebianシステムで現在推薦されるパッケージ管理ツールです。<literal>apt-get</literal> /
<literal>apt-cache</literal>をコマンドラインで代替もしますし、またフルスクリーンのインタラクティブなパッケージ管理ツールとしても使えます。</simpara>
      <simpara>パッケージをインストールしたりパッケージのメタデータを更新するようなパッケージ管理操作にはroot権限が必要です。</simpara>
      <section id="_basic_package_management_operations_with_commandline">
        <title>コマンドラインによる基本的なパッケージ管理操作</title>
        <simpara><literal>aptitude</literal>(8)や<literal>apt-get</literal>(8)
/<literal>apt-cache</literal>(8)を使うコマンドラインによるパッケージ管理操作を次に記します。</simpara>
        <table id="packagemanagemenndaptgetaptcache" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title><literal>aptitude</literal>や<literal>apt-get</literal>
/<literal>apt-cache</literal>を使うコマンドラインによるパッケージ管理操作</title>
          <tgroup cols="3">
            <colspec colwidth="108" align="left"/>
            <colspec colwidth="108" align="left"/>
            <colspec colwidth="288" align="left"/>
            <thead>
              <row>
                <entry><literal>aptitude</literal>シンタックス
    </entry>
                <entry><literal>apt-get</literal>/<literal>apt-cache</literal>シンタックス
    </entry>
                <entry>
    説明
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>aptitude update</literal>
                </entry>
                <entry>
                  <literal>apt-get update</literal>
                </entry>
                <entry>
    アーカイブメタデータの更新。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>aptitude install foo</literal>
                </entry>
                <entry>
                  <literal>apt-get install foo</literal>
                </entry>
                <entry>
    "<literal>foo</literal>"パッケージの候補バージョンをその依存関係とともにインストールする。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>aptitude safe-upgrade</literal>
                </entry>
                <entry>
                  <literal>apt-get upgrade</literal>
                </entry>
                <entry>
    他のパッケージを削除すること無くインストール済みパッケージの候補バージョンをインストールする。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>aptitude full-upgrade</literal>
                </entry>
                <entry>
                  <literal>apt-get dist-upgrade &lt;パッケージ&gt;</literal>
                </entry>
                <entry>
    必要なら他のパッケージを削除しながらインストール済みパッケージの候補バージョンをインストールする。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>aptitude remove foo</literal>
                </entry>
                <entry>
                  <literal>apt-get remove foo</literal>
                </entry>
                <entry>
    設定ファイルを残したまま"<literal>foo</literal>"パッケージを削除する。
    </entry>
              </row>
              <row>
                <entry>
    N/A
    </entry>
                <entry>
                  <literal>apt-get autoremove</literal>
                </entry>
                <entry>
    既に必要なくなっている自動済みパッケージを削除する。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>aptitude purge foo</literal>
                </entry>
                <entry>
                  <literal>apt-get purge foo</literal>
                </entry>
                <entry>
    設定ファイルを含めて"<literal>foo</literal>"パッケージを完全削除する。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>aptitude clean</literal>
                </entry>
                <entry>
                  <literal>apt-get clean</literal>
                </entry>
                <entry>
    収集されローカルに貯蔵されたパッケージファイルを完全に消去する。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>aptitude autoclean</literal>
                </entry>
                <entry>
                  <literal>apt-get autoclean</literal>
                </entry>
                <entry>
    収集されローカルに貯蔵されたパッケージファイルのうち古くなったパッケージを消去する。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>aptitude show foo</literal>
                </entry>
                <entry>
                  <literal>apt-cache show &lt;パッケージ&gt;</literal>
                </entry>
                <entry>
    "<literal>foo</literal>"パッケージに関する詳細情報を表示する。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>aptitude search &lt;regex&gt;</literal>
                </entry>
                <entry>
                  <literal>apt-cache search &lt;regex&gt;</literal>
                </entry>
                <entry>
    &lt;regex&gt;とマッチするパッケージを探す。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>aptitude why &lt;regex&gt;</literal>
                </entry>
                <entry>
    N/A
    </entry>
                <entry>
    なぜ&lt;regex&gt;とマッチするパッケージがインストールされるのかを説明する。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>aptitude why-not &lt;regex&gt;</literal>
                </entry>
                <entry>
    N/A
    </entry>
                <entry>
    なぜ&lt;regex&gt;とマッチするパッケージがインストールされないのかを説明する。
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>Debianシステム上の異なったパッケージツールを混用しても問題が起こらなくなりましたが、できるだけ<literal>aptitude</literal>を使い続けるのが最善です。</simpara>
        <simpara>"<literal>safe-upgrade</literal>"/"<literal>upgrade</literal>"や"<literal>full-upgrade</literal>"/"<literal>dist-upgrade</literal>"の違いは新しいバージョンのパッケージが該当する古いバージョンと異なった依存関係がある場合にのみ起こります。"<literal>aptitude
safe-upgrade</literal>"コマンドは新規のパッケージをインストールも削除もしません。</simpara>
        <simpara>"<literal>aptitude why &lt;regex&gt;</literal>"は"<literal>aptitude -v why
&lt;regex&gt;</literal>"とすることでさらに詳しい情報を表示します。同様の情報は"<literal>apt-cache
rdepends &lt;package&gt;</literal>"とすることでも得られます。</simpara>
        <simpara><literal>aptitude</literal>コマンドが最初コマンドラインモードで実行されパッケージ間のコンフリクトのような問題に直面した場合は、プロンプトがでた際に"<literal>e</literal>"を押すことでフルスクリーンのインタラクティブモードに切り替えられます。</simpara>
        <simpara>"<literal>aptitude</literal>"のすぐ後ろにコマンドオプションをつけられます。</simpara>
        <table id="notablecommandopionsforaptitudei" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title><literal>aptitude</literal>(8)に関する特記すべきコマンドオプション。</title>
          <tgroup cols="2">
            <colspec colwidth="144" align="left"/>
            <colspec colwidth="360" align="left"/>
            <thead>
              <row>
                <entry>
    コマンドオプション
    </entry>
                <entry>
    説明
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>-s</literal>
                </entry>
                <entry>
    コマンド結果のシミュレートをする。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>-d</literal>
                </entry>
                <entry>
    インストール/アップグレードをせずにダウンロードだけする。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>-D</literal>
                </entry>
                <entry>
    自動的なインストールや削除の前に簡単な説明を表示する。
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>詳細は<literal>aptitude</literal>(8)や"<literal>/usr/share/doc/aptitude/README</literal>"にある"aptitude
user's manual"を参照してください。</simpara>
        <tip>
          <simpara>現在でも存続している<literal>dselect</literal>パッケージは、過去のリリースでは推薦されたフルスクリーンのインタラクティブなパッケージ管理ツールでした。</simpara>
        </tip>
      </section>
      <section id="_interactive_use_of_aptitude">
        <title>aptitudeのインタラクティブな使用</title>
        <simpara>インタラクティブなパッケージ管理のためには<literal>aptitude</literal>をコンソールのシェルからインタラクティブモードで次のように立ち上げます。</simpara>
        <screen>$ sudo aptitude -u
Password:</screen>
        <simpara>これによりアーカイブ情報のローカルコピーは更新され、フルスクリーンのパッケージリストがメニュー付きで表示されます。Aptitudeの設定ファイルは"<literal>~/.aptitude/config</literal>"にあります。</simpara>
        <tip>
          <simpara>userの設定ファイルでなくrootの設定ファイルを使いたい際には、上記の例で"<literal>sudo aptitude
...</literal>"の代わりに"<literal>sudo -H aptitude ...</literal>"を使いましょう。</simpara>
        </tip>
        <tip>
          <simpara><literal>Aptitude</literal>はインタラクティブに起動されると<emphasis
role="strong">次にするアクション</emphasis>を自動的に設定します。その設定が好ましくない場合はメニュー:"Action" →
"Cancel pending actions"からリセットすることができます。</simpara>
        </tip>
      </section>
      <section id="_key_bindings_of_aptitude">
        <title>aptitudeのキーバインディング</title>
        <simpara>パッケージの状態を閲覧し、"予定のアクション"の設定をこのフルスクリーンモードで各パッケージするための重要なキーは次です:</simpara>
        <table id="listofkeybindingsforaptitude" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>aptitudeのキーバインディングのリスト。</title>
          <tgroup cols="2">
            <colspec colwidth="144" align="left"/>
            <colspec colwidth="360" align="left"/>
            <thead>
              <row>
                <entry>
    キー
    </entry>
                <entry>
    キーバインディング
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><literal>F10</literal>もしくくは<literal>Ctrl-t</literal>
    </entry>
                <entry>
    メニュー
    </entry>
              </row>
              <row>
                <entry>
                  <literal>?</literal>
                </entry>
                <entry>
    (より詳細な)キーの意味の<emphasis role="strong">ヘルプ</emphasis>の表示
    </entry>
              </row>
              <row>
                <entry><literal>F10</literal> → ヘルプ → ユーザマニュアル
    </entry>
                <entry>
    ユーザマニュアルの表示
    </entry>
              </row>
              <row>
                <entry>
                  <literal>u</literal>
                </entry>
                <entry>
    パッケージアーカイブ情報の更新
    </entry>
              </row>
              <row>
                <entry>
                  <literal>+</literal>
                </entry>
                <entry>
    パッケージを<emphasis role="strong">アップグレード</emphasis>または<emphasis
role="strong">インストール</emphasis>するとマークする。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>-</literal>
                </entry>
                <entry>
    パッケージを<emphasis role="strong">削除</emphasis>するとマークする。(設定ファイルは温存)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>_</literal>
                </entry>
                <entry>
    パッケージを<emphasis role="strong">完全削除</emphasis>するとマークする。(設定ファイルも削除)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>=</literal>
                </entry>
                <entry>
    パッケージを<emphasis role="strong">ホールド</emphasis>する。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>U</literal>
                </entry>
                <entry>
    全てのアップグレード可能なパッケージをマークする。(<emphasis
role="strong">full-upgrade</emphasis>として機能)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>g</literal>
                </entry>
                <entry>
    選ばれたパッケージの<emphasis role="strong">ダウンロード</emphasis>と<emphasis
role="strong">インストール</emphasis>を開始する。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>q</literal>
                </entry>
                <entry>
    現在のスクリーンを終了し変更を保存する。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>x</literal>
                </entry>
                <entry>
    現在のスクリーンを終了し変更を廃棄する。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>Enter</literal>
                </entry>
                <entry>
    パッケージに関する情報閲覧する。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>C</literal>
                </entry>
                <entry>
    パッケージの変更履歴の閲覧する。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>l</literal>
                </entry>
                <entry>
    表示されるパッケージの制限を変更する。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/</literal>
                </entry>
                <entry>
    最初のマッチを検索する。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>\</literal>
                </entry>
                <entry>
    最近の検索を繰り返す。
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>コマンドラインのファイル名の規定や、"<literal>l</literal>"や"<literal>/</literal>"を押した後のメニュープロンプトは次に記すaptitudeのregex(正規表現)が使われます。aptitudeのregexは"<literal>~n</literal>"で始めそれにパッケージ名を続けた文字列を使うことで明示的にパッケージ名とマッチさせられます。</simpara>
        <tip>
          <simpara>ビジュアルインターフェースで全てのインストール済みパッケージを<emphasis
role="strong">候補バージョン</emphasis>にアップグレードさせるには"<literal>U</literal>"を押さなければいけません。これをしないと選ばれたパッケージとそれにバージョン付きの依存関係のある特定のパッケージのみがアップグレードされます。</simpara>
        </tip>
      </section>
      <section id="_package_views_under_aptitude">
        <title>aptitudeの下でのパッケージの表示</title>
        <simpara>インタラクティブなフルスクリーンモードの<literal>aptitude</literal>(8)は次のようなデフォルトのパッケージリスト形式でパッケージを表示します。</simpara>
        <screen>idA   libsmbclient                             -2220kB 3.0.25a-1  3.0.25a-2</screen>
        <simpara>この行は左から次のような意味です:</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
"現状"フラグ(1番目の文字)
</simpara>
          </listitem>
          <listitem>
            <simpara>
"予定のアクション"フラグ(2番目の文字)
</simpara>
          </listitem>
          <listitem>
            <simpara>
"自動"フラグ(3番目の文字)
</simpara>
          </listitem>
          <listitem>
            <simpara>
パッケージ名
</simpara>
          </listitem>
          <listitem>
            <simpara>
"予定のアクション"に帰属されるディスクスペースの使用の変化
</simpara>
          </listitem>
          <listitem>
            <simpara>
パッケージの現バージョン
</simpara>
          </listitem>
          <listitem>
            <simpara>
パッケージの候補バージョン
</simpara>
          </listitem>
        </itemizedlist>
        <tip>
          <simpara>"<literal>?</literal>"を押して表示される<emphasis
role="strong">ヘルプ</emphasis>スクリーンの一番下に全フラグのリストがあります。</simpara>
        </tip>
        <simpara>現在のローカルの環境設定によって<emphasis
role="strong">候補バージョン</emphasis>は選ばれます(<literal>apt_preferences</literal>(5)と<xref
linkend="_tweaking_candidate_version"/>を参照)。</simpara>
        <simpara>"<literal>表示</literal>"メニューの下に数種のパッケージ表示があります。</simpara>
        <table id="listofviewsforaptitude" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>aptitudeの表示のリスト。</title>
          <tgroup cols="3">
            <colspec colwidth="108" align="left"/>
            <colspec colwidth="108" align="left"/>
            <colspec colwidth="288" align="left"/>
            <thead>
              <row>
                <entry>
    表示
    </entry>
                <entry>
    分類
    </entry>
                <entry>
    状況
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>パッケージ画面</literal>
                </entry>
                <entry>
    <xref linkend="standard-package-views"/>参照。(デフォルト)
    </entry>
                <entry>
    良好
    </entry>
              </row>
              <row>
                <entry>
                  <literal>推奨を監査</literal>
                </entry>
                <entry>
    何らかのインストール済みパッケージによって推薦されているがインストールされていないパッケージをリストする。
    </entry>
                <entry>
    良好
    </entry>
              </row>
              <row>
                <entry>
                  <literal>平坦なパッケージリスト</literal>
                </entry>
                <entry>
    パッケージを分類されずにリストする(regexとともに使うため)。
    </entry>
                <entry>
    良好
    </entry>
              </row>
              <row>
                <entry>
                  <literal>Debtags表示</literal>
                </entry>
                <entry>
    パッケージの<ulink url="&debtags;">debtags</ulink>のエントリーにより分類し表示する。
    </entry>
                <entry>
    十分使える
    </entry>
              </row>
              <row>
                <entry>
                  <literal>カテゴリ別表示</literal>
                </entry>
                <entry>
    パッケージの分類別に分類表示する。
    </entry>
                <entry>
    非推奨 (<ulink url="&debtags;">debtags</ulink>を使おう！)
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <note>
          <simpara><ulink
url="&improvingtaggingkageswithdebtags;">パッケージのdebtagsによるタグ付け状況を改善する</ulink>のにご協力下さい！</simpara>
        </note>
        <simpara>標準"<literal>パッケージ画面</literal>"はパッケージを<literal>dselect</literal>にいくつかの機能を加えた感じで分類します。</simpara>
        <table id="standard-package-views" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>標準パッケージ画面の分類。</title>
          <tgroup cols="2">
            <colspec colwidth="144" align="left"/>
            <colspec colwidth="360" align="left"/>
            <thead>
              <row>
                <entry>
    分類
    </entry>
                <entry>
    構成
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>更新可能なパッケージ</literal>
                </entry>
                <entry>
    セクション → コンポーネント → パッケージ、という構成
    </entry>
              </row>
              <row>
                <entry>
                  <literal>新規パッケージ</literal>
                </entry>
                <entry>
    , ,
    </entry>
              </row>
              <row>
                <entry>
                  <literal>インストール済みのパッケージ</literal>
                </entry>
                <entry>
    , ,
    </entry>
              </row>
              <row>
                <entry>
                  <literal>インストールされていないパッケージ</literal>
                </entry>
                <entry>
    , ,
    </entry>
              </row>
              <row>
                <entry>
                  <literal>廃止された、またはローカルで作成されたパッケージ</literal>
                </entry>
                <entry>
    , ,
    </entry>
              </row>
              <row>
                <entry>
                  <literal>仮想パッケージ</literal>
                </entry>
                <entry>
    同一機能を持ったパッケージの集合から特定のパッケージを選択できる。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>タスク</literal>
                </entry>
                <entry>
    特定タスクのパッケージ集合から特定のパッケージを良いとこ取りで選択できる。
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </section>
      <section id="_search_method_options_with_aptitude">
        <title>aptitudeを使った探索方法</title>
        <simpara>Aptitudeはそのregex式機能を通してパッケージを探索する方法をいくつか提供します。</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
"<literal>aptitude search
'&lt;aptitude_regex&gt;'</literal>"はマッチするパッケージのインストール状態やパッケージ名や短い説明をリストします。
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>aptitude show
'&lt;package_name&gt;'</literal>"はパッケージに関する詳細な説明をリストします。
</simpara>
          </listitem>
          <listitem>
            <simpara>
マッチングするパッケージに表示を制限: フルスクリーンモードで"<literal>l</literal>"とタイプ。
</simpara>
          </listitem>
          <listitem>
            <simpara>
最初にマッチングするパッケージを表示:
フルスクリーンモードで"<literal>/</literal>"とタイプ。"<literal>n</literal>"で前方探索、"<literal>\</literal>"で後方探索。
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>&lt;package_name&gt;という文字列は、"<literal>~</literal>"で始めてregex式と明示されていない限り、パッケージ名との完全な一致検索として扱います。</simpara>
      </section>
      <section id="_the_aptitude_regex_formula">
        <title>aptitudeのregex式</title>
        <simpara>aptitudeのregex式はmutt的な拡張<emphasis role="strong">ERE</emphasis>(<xref
linkend="_regular_expressions"/>参照)で<literal>aptitude</literal>に特定なマッチ規則の拡張は次に示すとおりです:</simpara>
        <table id="listoftheaptituderegexformula" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>aptitudeのregex式のリスト。</title>
          <tgroup cols="2">
            <colspec colwidth="144" align="left"/>
            <colspec colwidth="360" align="left"/>
            <thead>
              <row>
                <entry>
    <emphasis role="strong">拡張マッチ規則の意味</emphasis>
    </entry>
                <entry>
    regex式
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
    パッケージ名とのマッチ
    </entry>
                <entry>
                  <literal>~n&lt;名前のregex&gt;</literal>
                </entry>
              </row>
              <row>
                <entry>
    記述とのマッチ
    </entry>
                <entry>
                  <literal>~d&lt;記述のregex&gt;</literal>
                </entry>
              </row>
              <row>
                <entry>
    タスク名とのマッチ
    </entry>
                <entry>
                  <literal>~t&lt;タスクのregex&gt;</literal>
                </entry>
              </row>
              <row>
                <entry>
    debtagとのマッチ
    </entry>
                <entry>
                  <literal>~G&lt;debtagのregex&gt;</literal>
                </entry>
              </row>
              <row>
                <entry>
    メンテナとのマッチ
    </entry>
                <entry>
                  <literal>~m&lt;maintainerのregex&gt;</literal>
                </entry>
              </row>
              <row>
                <entry>
    パッケージセクションとのマッチ
    </entry>
                <entry>
                  <literal>~s&lt;セクションのregex&gt;</literal>
                </entry>
              </row>
              <row>
                <entry>
    パッケージバージョンとのマッチ
    </entry>
                <entry>
                  <literal>~V&lt;バージョンのregex&gt;</literal>
                </entry>
              </row>
              <row>
                <entry>
    アーカイブ(archive)とのマッチ
    </entry>
                <entry><literal>~A{sarge,etch,sid</literal>}
    </entry>
              </row>
              <row>
                <entry>
    オリジン(origin)とのマッチ
    </entry>
                <entry><literal>~O{debian,…</literal>}
    </entry>
              </row>
              <row>
                <entry>
    優先度(priority)とのマッチ
    </entry>
                <entry><literal>~p{extra,important,optional,required,standard</literal>}
    </entry>
              </row>
              <row>
                <entry>
    必須(essential)パッケージとのマッチ
    </entry>
                <entry>
                  <literal>~E</literal>
                </entry>
              </row>
              <row>
                <entry>
    仮想パッケージとのマッチ
    </entry>
                <entry>
                  <literal>~v</literal>
                </entry>
              </row>
              <row>
                <entry>
    新規パッケージとのマッチ
    </entry>
                <entry>
                  <literal>~N</literal>
                </entry>
              </row>
              <row>
                <entry>
    次のアクションとのマッチ
    </entry>
                <entry><literal>~a{install,upgrade,downgrade,remove,purge,hold,keep</literal>}
    </entry>
              </row>
              <row>
                <entry>
    インストール済みパッケージとのマッチ
    </entry>
                <entry>
                  <literal>~i</literal>
                </entry>
              </row>
              <row>
                <entry>
    <emphasis
role="strong">A</emphasis>-マークのついたインストール済みパッケージとマッチ(自動インストール済みパッケージ)
    </entry>
                <entry>
                  <literal>~M</literal>
                </entry>
              </row>
              <row>
                <entry>
    <emphasis
role="strong">A</emphasis>-マークのついていないインストール済みパッケージとマッチ(管理者が選択したパッケージ)
    </entry>
                <entry>
                  <literal>~i!~M</literal>
                </entry>
              </row>
              <row>
                <entry>
    インストール済みかつアップグレード可能なパッケージとマッチ
    </entry>
                <entry>
                  <literal>~U</literal>
                </entry>
              </row>
              <row>
                <entry>
    削除済みだが完全削除されていないパッケージとマッチ
    </entry>
                <entry>
                  <literal>~c</literal>
                </entry>
              </row>
              <row>
                <entry>
    削除済みか完全削除済みか削除可能なパッケージとマッチ
    </entry>
                <entry>
                  <literal>~g</literal>
                </entry>
              </row>
              <row>
                <entry>
    パッケージ依存関係が壊れたパッケージとマッチ
    </entry>
                <entry>
                  <literal>~b</literal>
                </entry>
              </row>
              <row>
                <entry>
    depends/predepends/conflictの依存関係が壊れたパッケージとマッチ
    </entry>
                <entry>
                  <literal>~B&lt;type&gt;</literal>
                </entry>
              </row>
              <row>
                <entry>
    &lt;term&gt;パッケージに対して&lt;type&gt;の依存関係があるとパッケージのコントロールファイルに記載されたパッケージとマッチ
    </entry>
                <entry>
                  <literal>~D[&lt;type&gt;:]&lt;term&gt;</literal>
                </entry>
              </row>
              <row>
                <entry>
    &lt;term&gt;パッケージに対して&lt;type&gt;の<emphasis
role="strong">壊れた</emphasis>依存関係があるとパッケージのコントロールファイルに記載されたパッケージとマッチ
    </entry>
                <entry>
                  <literal>~DB[&lt;type&gt;:]&lt;term&gt;</literal>
                </entry>
              </row>
              <row>
                <entry>
    &lt;term&gt;パッケージに対して&lt;type&gt;の依存関係があるパッケージとマッチ
    </entry>
                <entry>
                  <literal>~R[&lt;type&gt;:]&lt;term&gt;</literal>
                </entry>
              </row>
              <row>
                <entry>
    &lt;term&gt;パッケージに対して&lt;type&gt;の<emphasis
role="strong">壊れた</emphasis>依存関係があるパッケージとマッチ
    </entry>
                <entry>
                  <literal>~RB[&lt;type&gt;:]&lt;term&gt;</literal>
                </entry>
              </row>
              <row>
                <entry>
    他のインストール済みパッケージが依存するパッケージとマッチ
    </entry>
                <entry>
                  <literal>~R~i</literal>
                </entry>
              </row>
              <row>
                <entry>
    他のインストール済みパッケージが一切依存しないパッケージとマッチ
    </entry>
                <entry>
                  <literal>!~R~i</literal>
                </entry>
              </row>
              <row>
                <entry>
    他のインストール済みパッケージが依存もしくは推薦するパッケージとマッチ
    </entry>
                <entry>
                  <literal>~R~i|~Rrecommends:~i</literal>
                </entry>
              </row>
              <row>
                <entry>
    フィルタされたバージョンの&lt;term&gt;とマッチ
    </entry>
                <entry>
                  <literal>~S filter &lt;term&gt;</literal>
                </entry>
              </row>
              <row>
                <entry>
    常に全てのパッケージにマッチ(真)
    </entry>
                <entry>
                  <literal>~T</literal>
                </entry>
              </row>
              <row>
                <entry>
    どのパッケージにもマッチしない(偽)
    </entry>
                <entry>
                  <literal>~F</literal>
                </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>上記で:</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
regex部分は、"<literal>^</literal>"や"<literal>.*</literal>"や"<literal>$</literal>"などを使う<literal>egrep</literal>(1)や<literal>awk</literal>(1)や<literal>perl</literal>(1)といった典型的なUnix的テキストツールで使われる<emphasis
role="strong">ERE</emphasis>と同様です。
</simpara>
          </listitem>
          <listitem>
            <simpara>
関係を表す&lt;type&gt;は(depends, predepends, recommends, suggests, conflicts,
replaces, provides)の内の一つです。
</simpara>
          </listitem>
          <listitem>
            <simpara>
デフォルトの関係は"depends"です。
</simpara>
          </listitem>
        </itemizedlist>
        <tip>
          <simpara>&lt;regex_pattern&gt;がヌル文字列の場合は"<literal>~T</literal>"をコマンドの直後に使ってください。</simpara>
        </tip>
        <simpara>近道:</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
"<literal>~P&lt;term&gt;</literal>" ==
"<literal>~Dprovides:&lt;term&gt;</literal>"
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>~C&lt;term&gt;</literal>" ==
"<literal>~Dconflicts:&lt;term&gt;</literal>"
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>…~W term</literal>" == "<literal>(…|term)</literal>"
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>muttが表現のお手本なので、<literal>mutt</literal>に慣れているユーザはすぐ慣れるでしょう。"User's Manual"
("<literal>/usr/share/doc/aptitude/README</literal>")中の"SEARCHING, LIMITING,
AND EXPRESSIONS"を参照下さい。</simpara>
        <note>
          <simpara><literal>lenny</literal>バージョンの<literal>aptitude</literal>(8)では、新規の"<literal>?broken</literal>"のような<emphasis
role="strong">長形式</emphasis>のregexマッチ形式が、古い"<literal>~b</literal>"のような<emphasis
role="strong">短形式</emphasis>のマッチ形式に代えて使えます。そのためチルダ文字"<literal>~</literal>"二加えてスペース文字"<literal>
</literal>"もregexの終端文字として扱われます。新規の<emphasis
role="strong">長形式</emphasis>のマッチ形式については"User's Manual"を参照下さい。</simpara>
        </note>
      </section>
      <section id="_dependency_resolution_of_aptitude">
        <title>aptitudeによる依存関係の解決</title>
        <simpara> <literal>aptitude</literal>によるパッケージの選択は、"<literal>F10</literal> → Options →
Dependency
handling"のメニュー設定に従って、"<literal>Depends:</literal>"リストに規定されたパッケージばかりでは無く"<literal>Recommends:</literal>"リストに規定されたパッケージも引き込みます。このような自動的にインストールされたパッケージは不要になると<literal>aptitude</literal>が自動的に削除します。</simpara>
        <note>
          <simpara><literal>lenny</literal>リリース以前は、<literal>apt-get</literal>等の他の標準的なAPTツールは自動的削除機能がありませんでした。</simpara>
        </note>
      </section>
      <section id="_package_activity_logs">
        <title>パッケージアクティビティーログ</title>
        <simpara>パッケージアクティビティーの履歴はログファイルで確認できます。</simpara>
        <table id="thelogfilesforpackageactivities" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>パッケージアクティビティーのログファイル</title>
          <tgroup cols="2">
            <colspec colwidth="144" align="left"/>
            <colspec colwidth="360" align="left"/>
            <thead>
              <row>
                <entry>
    ファイル
    </entry>
                <entry>
    内容
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>/var/log/dpkg.log</literal>
                </entry>
                <entry>
    全パッケージアクティビティーの<literal>dpkg</literal>レベルのアクティビティーのログ
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/var/log/apt/term.log</literal>
                </entry>
                <entry>
    APTアクティビティーのログ
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/var/log/aptitude</literal>
                </entry>
                <entry>
    <literal>aptitude</literal>コマンドアクティビティーのログ
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>これらのログから意味のある理解を迅速に得るのは実際には難しいです。より簡単な方法については<xref
linkend="_recording_changes_in_configuration_files"/>を参照下さい。</simpara>
      </section>
      <section id="_aptitude_advantages">
        <title>Aptitudeの長所</title>
        <simpara>Aptitudeは他のAPT準拠のパッケージシステム(apt-get, apt-cache, synaptic, …)と比べて次の有利な点があります:</simpara>
        <itemizedlist>
          <listitem>
            <simpara><literal>aptitude</literal>は独自の追加層(<literal>/var/lib/aptitude/pkgstates</literal>)を使用して自動インストールされ使われなくなったパッケージを自動的に削除します。(新しい<literal>lenny</literal>では、他のAPTも同様のことをします。)
</simpara>
          </listitem>
          <listitem>
            <simpara><literal>aptitude</literal>を使うことでパッケージ間のコンフリクト解消や推薦パッケージの追加がしやすくなります。
</simpara>
          </listitem>
          <listitem>
            <simpara><literal>aptitude</literal>を使うことで"廃止された、またはローカルで作成されたパッケージ"の下にリストすることで廃止ソフトウェアを追跡がしやすくなります。
</simpara>
          </listitem>
          <listitem>
            <simpara><literal>aptitude</literal>は"<literal>/var/log/aptitude</literal>にその履歴記録を残します。
</simpara>
          </listitem>
          <listitem>
            <simpara><literal>aptitude</literal>を使うことで利用可能な全てのバージョンのパッケージにアクセスできます。
</simpara>
          </listitem>
          <listitem>
            <simpara><literal>aptitude</literal>には特定パッケージを探したり表示を制限するためのかなり強力なregexシステムがあります。
</simpara>
          </listitem>
          <listitem>
            <simpara>フルスクリーンモードの<literal>aptitude</literal>は<literal>su</literal>機能がついているので本当に管理権限が必要になるまでは通常のユーザからの実行ができます。
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>古い<literal>etch</literal>リリースのバージョンでは、<literal>synaptic</literal>にも履歴記録はありましたが、<literal>dpkg</literal>の記録に頼らなければ<literal>apt-get</literal>には履歴記録はありませんでした。</simpara>
        <simpara>何れにせよ<literal>aptitude</literal>はコンソールでのインタラクティブな使用に好適です。</simpara>
      </section>
    </section>
    <section id="_examples_of_aptitude_operations">
      <title>aptitude操作例</title>
      <simpara><literal>aptitude</literal>(8)操作例を次に示します。</simpara>
      <section id="_list_packages_with_regex_matching_package_name">
        <title>regexにマッチするパッケージ名のパッケージをリスト</title>
        <simpara>次のコマンドはregexにマッチする名前のパッケージをリストします。</simpara>
        <screen>$ aptitude search '~n(pam|nss).*ldap'
p libnss-ldap - NSS module for using LDAP as a naming service
p libpam-ldap - Pluggable Authentication Module allowing LDAP interfaces</screen>
        <simpara>これはパッケージの正確な名前を探すときに非常に便利です。</simpara>
      </section>
      <section id="_browse_with_the_regex_matching">
        <title>regexマッチをして閲覧</title>
        <simpara>"平坦なパッケージリスト"のビューで"<literal>l</literal>"のプロンプトにregex"<literal>~dipv6</literal>"を入れるとその意味にマッチするパッケージにビューが制限され、その情報をインタラクティブに閲覧できます。</simpara>
      </section>
      <section id="_purge_removed_packages_for_good">
        <title>パッケージを本当に完全削除</title>
        <simpara>削除したパッケージが残した全ての設定ファイルを完全削除できます:</simpara>
        <screen># aptitude search '~c'</screen>
        <itemizedlist>
          <listitem>
            <simpara>
結果の確認
</simpara>
          </listitem>
        </itemizedlist>
        <screen># aptitude purge '~c'</screen>
        <simpara>同様のことをインタラクティブにすればよりきめの細かい結果が得られます。</simpara>
        <simpara>"平坦なパッケージリスト"のビューで"<literal>l</literal>"のプロンプトにregex"<literal>~c</literal>"を入れるとregexにマッチする"削除されたが完全さ駆除されていない"パッケージにビューが制限されます。トップレベルの見出しの上で"<literal>[</literal>"を押すとregexにマッチする全てのパッケージが表示されます。</simpara>
        <simpara>次に"インストール済みのパッケージ"等のトップレベルの見出しの上で"<literal>_</literal>"を押します。その見出しの下のregexにマッチするパッケージだけが完全削除と設定されます。インタラクティブに個々のパッケージの上で"<literal>=</literal>"を押せばそれらのパッケージを完全削除対象から外せます。</simpara>
        <simpara>このテクニックは非常に便利で、他の多くのコマンドキーでも使えます。</simpara>
      </section>
      <section id="_tidy_auto_manual_install_status">
        <title>自動/手動インストールの状態の整理</title>
        <simpara>(非aptitudeのパッケージインストーラー等を使った後で)パッケージの自動/手動インストールの状態を整理する私の方法を次に記します:</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
<literal>aptitude</literal>をrootとしてインタラクティブに起動します。
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>u</literal>"と"<literal>U</literal>"と"<literal>f</literal>"と"<literal>g</literal>"とタイプしてパッケージリストを更新しパッケージをアップグレードします。
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>l</literal>"とタイプしてパッケージ表示制限を"<literal>~i(~R~i|~Rrecommends:~i)</literal>"として、"インストール済みのパッケージ"の上で"<literal>M</literal>"とタイプして自動インストールされたとします。
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>l</literal>"とタイプしてパッケージ表示制限を"<literal>~prequired|~pimportant|~pstandard|~E</literal>"として、"インストール済みのパッケージ"の上で"<literal>m</literal>"とタイプして手動インストールされたとします。
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>l</literal>"とタイプしてパッケージ表示制限を"<literal>~i!~M</literal>"として、"インストール済みのパッケージ"の上で"<literal>[</literal>"とタイプしてパッケージを見えるようにした後で個々のパッケージの上で"<literal>-</literal>"とタイプして使っていないパッケージを削除します。
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>l</literal>"とタイプしてパッケージ表示制限を"<literal>~i(~R~i|~Rrecommends:~i)</literal>"として、"インストール済みのパッケージ"の上で"<literal>M</literal>"とタイプして自動インストールされたとします。
</simpara>
          </listitem>
          <listitem>
            <simpara>
<literal>aptitude</literal>を終了。
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>apt-get -s autoremove|less</literal>"とrootから起動して何が使われていないのか確認します。
</simpara>
          </listitem>
          <listitem>
            <simpara>
<literal>aptitude</literal>とインタラクティブモードで起動して必要なパッケージを"<literal>m</literal>"でマークします。
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>apt-get -s
autoremove|less</literal>"とrootから再起動して削除対象が期待にかなっていることを再確認します。
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>apt-get autoremove|less</literal>"とrootから起動して使用していないパッケージを自動削除します。
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>"<literal>Tasks</literal>"の上で"<literal>m</literal>"を押すのも一案で、大量ファイル除去となる事態が回避できます。</simpara>
      </section>
      <section id="_system_wide_upgrade_with_aptitude">
        <title>aptitudeを使ったシステム全体のアップグレード</title>
        <note>
          <simpara>新しいリリース等への移行は、Debianでは下記のようにアップグレードできるのですが、新たなシステムをクリーンインストールすることを考えるべきです。こうすると溜めてきたゴミの除去ができる上に最新のパッケージの最良の組み合わせも分かります。もちろん安全な場所に完全なシステムのバックアップ(<xref
linkend="_backup_and_recovery"/>参照)を事前にしなくてはいけません。異なったパーティションを使ったデュアルブート設定をすることをスムーズな移行をするためにお薦めします。</simpara>
        </note>
        <simpara>"<literal>/etc/apt/sources.list</literal>"ファイルの内容を新しいリリースへと向けるように変更し、"<literal>aptitude
update; aptitude full-upgrade</literal>"コマンドを実行することでシステム全体のアップグレードができます。</simpara>
        <simpara>安定版<literal>stable</literal>からテスト版<literal>testing</literal>や不安定版<literal>unstable</literal>にアップグレードするには、<xref
linkend="_debian_archive_basics"/>にある"<literal>/etc/apt/sources.list</literal>"例の"<literal>&codename-stable;</literal>"を"<literal>&codename-testing;</literal>"か"<literal>sid</literal>"に置き換えます。</simpara>
        <simpara>一部のパッケージで移行に関して支障をきたすことが実際には起こるかもしれません。これは大体パッケージ依存関係に起因します。アップグレードする差が大きければ大きいほど比較的大きな問題似合う可能性がより大きくなります。以前の安定版<literal>stable</literal>からリリース後の新しい安定版<literal>stable</literal>への移行では新しい<ulink
url="&releasenotes;">リリースノート</ulink>を読んでそこに記載された手続き通りに完全にすれば問題発生を防げます。</simpara>
        <simpara>安定版<literal>stable</literal>からテスト版<literal>testing</literal>へ移行すると決めた時には頼りにする<ulink
url="&releasenotes;">リリースノート</ulink>はありません。前回の安定版<literal>stable</literal>のリリースの後で安定版<literal>stable</literal>とテスト版<literal>testing</literal>の差がかなり大きくなっているかもしれません。そうだとアップグレードをする状況は複雑になっています。</simpara>
        <simpara>メーリングリストから最新情報を収集するとか常識を使うといった予防措置をするべきです。</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
前回の"リリースノート"を読む。
</simpara>
          </listitem>
          <listitem>
            <simpara>
全システム(特にデータや設定情報)をバックアップする。
</simpara>
          </listitem>
          <listitem>
            <simpara>
ブートローダーが壊れたときのためにブートできる媒体を確保する。
</simpara>
          </listitem>
          <listitem>
            <simpara>
システムを使っているユーザに十分事前に通告する。
</simpara>
          </listitem>
          <listitem>
            <simpara>
<literal>script</literal>(1)を使ってアップグレード活動を記録する。
</simpara>
          </listitem>
          <listitem>
            <simpara>
削除をされないように"<literal>aptitude unmarkauto
vim</literal>"等として、"unmarkauto"を重要なパッケージに適用する。
</simpara>
          </listitem>
          <listitem>
            <simpara>
デスクトップタスクにあるパッケージ等を削除して、インストールされたパッケージを減らしてパッケージがコンフリクトする可能性を減らす。
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>/etc/apt/preferences</literal>"ファイルを削除する。(apt-pinningを無効にする)
</simpara>
          </listitem>
          <listitem>
            <simpara>
段階的にアップグレードするように努める:旧安定版<literal>oldstable</literal> →
安定版<literal>stable</literal> → テスト版<literal>testing</literal> →
不安定版<literal>unstable</literal>。
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>/etc/apt/sources.list</literal>"ファイルをアップデートして新しいアーカイブに向けて、"<literal>aptitude
update</literal>"を実行する。
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>aptitude install perl</literal>"等として、新規の<emphasis
role="strong">中核的パッケージ</emphasis>のインストールを必要に応じて先にする。
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>aptitude full-upgrade -s</literal>"コマンドを実行して影響を確認する。
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>aptitude full-upgrade</literal>"コマンドを実行する。
</simpara>
          </listitem>
        </itemizedlist>
        <caution>
          <simpara><literal>stable</literal>リリース間でアップグレードする際にDebianのメジャーリリースを飛ばすのは賢明ではない。</simpara>
        </caution>
        <caution>
          <simpara>過去の"リリースノート"ではシステム全体のアップグレードをするのにGCCやLinuxカーネルやinitrd-toolsやGlibcやPerlやAPT
tool chain等には特別な配慮が必要でした。</simpara>
        </caution>
        <simpara><literal>unstable</literal>での毎日のアップグレードは<xref
linkend="_safeguard_for_package_problems"/>を参照下さい。</simpara>
      </section>
    </section>
    <section id="_advanced_package_management_operations">
      <title>高度なパッケージ管理操作</title>
      <section id="_advanced_package_management_operations_with_commandline">
        <title>コマンドラインによる高度なパッケージ管理操作</title>
        <simpara><literal>aptitude</literal>ではハイレベル過ぎるとか必要な機能を欠くという他のパッケージ管理操作のリストです。</simpara>
        <table id="listofadvancedpagementoperations" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>高度なパッケージ管理操作のリスト</title>
          <tgroup cols="2">
            <colspec colwidth="144" align="left"/>
            <colspec colwidth="360" align="left"/>
            <thead>
              <row>
                <entry>
    アクション
    </entry>
                <entry>
    コマンド
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
    バグレポートのためのにインストールされたパッケージの状態をリストする。
    </entry>
                <entry>
                  <literal>COLUMNS=120 dpkg -l &lt;パッケージ名パターン&gt;</literal>
                </entry>
              </row>
              <row>
                <entry>
    インストールされたパッケージの内容をリストする。
    </entry>
                <entry>
                  <literal>dpkg -L &lt;パッケージ名&gt;</literal>
                </entry>
              </row>
              <row>
                <entry>
    インストールされたパッケージのmanページをリストする。
    </entry>
                <entry>
                  <literal>dpkg -L &lt;パッケージ名&gt; | egrep '/usr/share/man/man.*/.+'</literal>
                </entry>
              </row>
              <row>
                <entry>
    マッチするファイル名があるインストールされたパッケージをリストする。
    </entry>
                <entry>
                  <literal>dpkg -S &lt;ファイル名パターン&gt;</literal>
                </entry>
              </row>
              <row>
                <entry>
    マッチするファイル名があるアーカイブ中のパッケージをリストする。
    </entry>
                <entry>
                  <literal>apt-file search &lt;ファイル名パターン&gt;</literal>
                </entry>
              </row>
              <row>
                <entry>
    アーカイブ中のマッチするパッケージをリストする。
    </entry>
                <entry>
                  <literal>apt-file list &lt;パッケージ名パターン&gt;</literal>
                </entry>
              </row>
              <row>
                <entry>
    特定パッケージを再設定する。
    </entry>
                <entry>
                  <literal>dpkg-reconfigure &lt;パッケージ名&gt;</literal>
                </entry>
              </row>
              <row>
                <entry>
    もっとも詳細な質問で特定パッケージを再設定する。
    </entry>
                <entry>
                  <literal>dpkg-reconfigure -p=low &lt;パッケージ名&gt;</literal>
                </entry>
              </row>
              <row>
                <entry>
    フルスクリーンメニューからパッケージを再設定する。
    </entry>
                <entry>
                  <literal>configure-debian</literal>
                </entry>
              </row>
              <row>
                <entry>
    部分的にインストールされたパッケージに関してシステムを監査する。
    </entry>
                <entry>
                  <literal>dpkg --audit</literal>
                </entry>
              </row>
              <row>
                <entry>
    全ての部分的にインストールされたパッケージを設定する。
    </entry>
                <entry>
                  <literal>dpkg --configure -a</literal>
                </entry>
              </row>
              <row>
                <entry>
    バイナリパッケージに関して使用可能なバージョンやプライオリティーやアーカイブ情報を表示する。
    </entry>
                <entry>
                  <literal>apt-cache policy &lt;バイナリパッケージ名&gt;</literal>
                </entry>
              </row>
              <row>
                <entry>
    パッケージに関して使用可能なバージョンやアーカイブ情報を表示する。
    </entry>
                <entry>
                  <literal>apt-cache madison &lt;パッケージ名&gt;</literal>
                </entry>
              </row>
              <row>
                <entry>
    バイナリパッケージに関してソースパッケージの情報を表示する。
    </entry>
                <entry>
                  <literal>apt-cache showsrc &lt;バイナリパッケージ名&gt;</literal>
                </entry>
              </row>
              <row>
                <entry>
    パッケージをビルドするのに必要なパッケージをインストールする。
    </entry>
                <entry>
                  <literal>apt-get build-dep &lt;パッケージ名&gt;</literal>
                </entry>
              </row>
              <row>
                <entry>
    (標準アーカイブから)ソースをダウンロードする。
    </entry>
                <entry>
                  <literal>apt-get source &lt;パッケージ名&gt;</literal>
                </entry>
              </row>
              <row>
                <entry>
    (他のアーカイブから)ソースをダウンロードする。
    </entry>
                <entry>
                  <literal>dget &lt;dscファイルのURL&gt;</literal>
                </entry>
              </row>
              <row>
                <entry>
    ソースパッケージの組("<literal>*.tar.gz</literal>"と"<literal>*.diff.gz</literal>")からソースツリーをビルドする。
    </entry>
                <entry>
                  <literal>dpkg-source -x
&lt;パッケージ名&gt;_&lt;バージョン&gt;-&lt;debianバージョン&gt;.dsc</literal>
                </entry>
              </row>
              <row>
                <entry>
    ローカルのソースツリーからパッケージをビルドする。
    </entry>
                <entry>
                  <literal>debuild binary</literal>
                </entry>
              </row>
              <row>
                <entry>
    カーネルソースツリーからカーネルパッケージをビルドする。
    </entry>
                <entry>
                  <literal>make-kpkg kernel_image</literal>
                </entry>
              </row>
              <row>
                <entry>
    カーネルソースツリーからinitramfsを有効にしてカーネルパッケージをビルドする。
    </entry>
                <entry>
                  <literal>make-kpkg --initrd kernel_image</literal>
                </entry>
              </row>
              <row>
                <entry>
    ローカルパッケージをシステムにインストールする。
    </entry>
                <entry>
                  <literal>dpkg -i
&lt;パッケージ名&gt;_&lt;バージョン&gt;-&lt;debianバージョン&gt;_&lt;アーキテクチャー名&gt;.deb</literal>
                </entry>
              </row>
              <row>
                <entry>
    ローカルパッケージ(複数)をシステムにインストールする。
    </entry>
                <entry>
                  <literal>debi
&lt;パッケージ名&gt;_&lt;バージョン&gt;-&lt;debianバージョン&gt;_&lt;アーキテクチャー名&gt;.dsc</literal>
                </entry>
              </row>
              <row>
                <entry>
    <literal>dpkg</literal>レベルのパッケージ選択状態情報を保存する。
    </entry>
                <entry>
                  <literal>dpkg --get-selection '*' &gt;selection.txt</literal>
                </entry>
              </row>
              <row>
                <entry>
    <literal>dpkg</literal>レベルのパッケージ選択状態情報を設定する。
    </entry>
                <entry>
                  <literal>dpkg --set-selection &lt;selection.txt</literal>
                </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <caution>
          <simpara>"<literal>dpkg -i …</literal>"や"<literal>debi
…</literal>"といった低いレベルのパッケージツールはシステム管理者によって注意深く使われなければいけません。必要なパッケージ依存関係を自動的に面倒見てくれません。Dpkgの"<literal>--force-all</literal>"や類似のコマンドラインオプション(<literal>dpkg</literal>(1)参照)はエキスパートだけが使うようにできています。十分にその影響を理解せずに使うとシステム全体を壊してしまうかもしれません。</simpara>
        </caution>
        <simpara>次に注意下さい:</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
全てのシステム設定やインストールコマンドはrootから実行なければいけません。
</simpara>
          </listitem>
          <listitem>
            <simpara>
regex(<xref
linkend="_regular_expressions"/>参照)を使う<literal>aptitude</literal>と異なり、他のパッケージ管理コマンドはシェルグロブ(<xref
linkend="_shell_glob"/>参照)のようなパターンを使います。
</simpara>
          </listitem>
          <listitem>
            <simpara><literal>apt-file</literal>パッケージに入っている<literal>apt-file</literal>(1)は事前に"<literal>apt-file
update</literal>"を実行する必要があります。
</simpara>
          </listitem>
          <listitem>
            <simpara><literal>configure-debian</literal>パッケージに入っている<literal>configure-debian</literal>(8)はそのバックエンドとして<literal>dpkg-reconfigure</literal>(8)を実行します。
</simpara>
          </listitem>
          <listitem>
            <simpara><literal>dpkg-reconfigure</literal>(8)はそのバックエンドとして<literal>debconf</literal>(1)を利用するパッケージスクリプトを実行します。
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>apt-get build-dep</literal>"や"<literal>apt-get
source</literal>"や"<literal>apt-cache
showsrc</literal>"コマンドは"<literal>/etc/apt/sources.list</literal>"の中に"<literal>deb-src</literal>"エントリーが必要です。
</simpara>
          </listitem>
          <listitem>
            <simpara><literal>dget</literal>(1)や<literal>debuild</literal>(1)や<literal>debi</literal>(1)は<literal>devscripts</literal>パッケージが必要です。
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>apt-get source</literal>"を使った(再)パッケージ化の手続きは<xref
linkend="_port_a_package_to_the_stable_system"/>を参照下さい。
</simpara>
          </listitem>
          <listitem>
            <simpara><literal>make-kpkg</literal>コマンドは<literal>kernel-package</literal>パッケージが必要です(<xref
linkend="_the_kernel"/>参照)。
</simpara>
          </listitem>
          <listitem>
            <simpara>
一般的なパッケージ化に関しては<xref linkend="_making_debian_package"/>を参照下さい。
</simpara>
          </listitem>
        </itemizedlist>
        <tip>
          <simpara>ソースパッケージの組としてここで説明したソースパッケージのフォーマット("<literal>*.tar.gz</literal>"と"<literal>*.diff.gz</literal>")はまだ主流の1.0フォーマットです。他の新規フォーマットに関しての詳細は<literal>dpkg-source</literal>(1)を参照下さい。</simpara>
        </tip>
      </section>
      <section id="_verify_installed_package_files">
        <title>インストールされたパッケージファイルの検証</title>
        <simpara><literal>debsums</literal>をインストールすると<literal>debsums</literal>(1)を使って"<literal>/var/lib/dpkg/info/*.md5sums</literal>"ファイル中のMD5sum値との比較でインストールされたパッケージファイルを検証できます。MD5sumがどのような仕組かは<xref
linkend="_the_md5_sum"/>参照ください。</simpara>
        <note>
          <simpara>侵入者によってMD5sumのデータベースが改竄されているかもしれないので<literal>debsums</literal>(1)はセキュリティツールとしては限定的有用性しかありません。管理者によるローカルの変更や記憶媒体のエラーによる損傷を点検するぐらいには有用です。</simpara>
        </note>
      </section>
      <section id="_safeguard_for_package_problems">
        <title>パッケージの問題に対する防御</title>
        <simpara>多くのユーザは新しい機能やパッケージを求めてDebianシステムの非安定版<emphasis
role="strong">unstable</emphasis>リリースを追いかけることを好みます。こういうことをするとクリティカルなパッケージのバグにシステムが遭遇しやすくなります。</simpara>
        <simpara><literal>apt-listbugs</literal>パッケージをインストールすれば、APTシステムを使ってアップグレードする時にDebianのBTSを自動的にクリティカルなバグに関して点検することで、クリティカルなバグから防御ができます。</simpara>
        <simpara><literal>apt-listchanges</literal>パッケージをインストールすれば、APTシステムを使ってアップグレードする時に<literal>NEWS.Debian</literal>中の重要ニュースを表示します。</simpara>
      </section>
      <section id="_search_on_the_package_meta_data">
        <title>パッケージメタデータの検索</title>
        <simpara>最近はDebianサイトの<ulink
url="&httppackagesdebianorg;">http://packages.debian.org/</ulink>を訪問するとパッケージメタデータの検索を簡単に出きるようになっていますが、より伝統的な方法を見てみましょう。</simpara>
        <simpara><literal>grep-dctrl</literal>(1)や<literal>grep-status</literal>(1)や<literal>grep-available</literal>(1)コマンドはDebianのパッケージコントロールファイルの一般的フォーマットに従ういかなるファイルを検索するのにも使えます。</simpara>
        <simpara>マッチする名前のファイルを含む<literal>dpkg</literal>でインストールされたパッケージ名を探索するのに"<literal>dpkg
-S &lt;ファイル名パターン&gt;</literal>"が使えます。しかしメンテナスクリプトで生成されるファイルはこれでは見逃されます。</simpara>
        <simpara>dpkgのメタデータに関するより詳細な検索をする必要がある場合、"<literal>/var/lib/dpkg/info/</literal>"ディレクトリで"<literal>grep
-e regexパターン *</literal>"コマンドを実行しないといけません。こうすることで次のことが分かります:</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
パターンにマッチする特定ファイルをインストールや作成や改変するパッケージ名。
</simpara>
          </listitem>
          <listitem>
            <simpara>
パターンにマッチするインストールの質問文言を聞くパッケージ名。
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>パッケージ依存関係を再帰的に検索したい際には、<literal>apt-rdepends</literal>(8)を使いましょう。</simpara>
      </section>
    </section>
    <section id="_debian_package_management_internals">
      <title>Debianパッケージ管理の内部</title>
      <simpara>Debianのパッケージ管理システムが内部的のどのように機能するのかを学びましょう。何らかのパッケージ問題が発生した際にあなた自身の解決を見出すのに役立つでしょう。</simpara>
      <section id="_archive_meta_data">
        <title>アーカイブのメタデータ</title>
        <simpara>各ディストリビューションのメタデータのファイルは例えば"<literal>http://ftp.us.debian.org/debian/</literal>"のような各Debianミラーサイトの"<literal>dist/&lt;コード名&gt;</literal>"の下に保存されています。そのアーカイブ構造はウエッブブラウザで閲覧できます。6つのタイプの重要メタデータがあります:</simpara>
        <table id="thecontentofthednarchivemetadata" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>Debianアーカイブのメタデータの内容。</title>
          <tgroup cols="3">
            <colspec colwidth="108" align="left"/>
            <colspec colwidth="108" align="left"/>
            <colspec colwidth="288" align="left"/>
            <thead>
              <row>
                <entry>
    ファイル
    </entry>
                <entry>
    場所
    </entry>
                <entry>
    内容
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>Release</literal>
                </entry>
                <entry>
    ディストリビューションのトップ
    </entry>
                <entry>
    アーカイブの説明との整合性情報
    </entry>
              </row>
              <row>
                <entry>
                  <literal>Release.gpg</literal>
                </entry>
                <entry>
    ディストリビューションのトップ
    </entry>
                <entry>
    アーカイブキーで署名された"<literal>Release</literal>"ファイルに関する署名ファイル
    </entry>
              </row>
              <row>
                <entry>
                  <literal>Contents-&lt;アーキテクチャー&gt;</literal>
                </entry>
                <entry>
    ディストリビューションのトップ
    </entry>
                <entry>
    該当アーカイブ中全てのパッケージに関する全ファイルリスト
    </entry>
              </row>
              <row>
                <entry>
                  <literal>Release</literal>
                </entry>
                <entry>
    各ディストリビューション/コンポーネント/アーキテクチャーの組み合わせのトップ
    </entry>
                <entry>
    <literal>apt_preferences</literal>(5)のルールに利用されるアーカイブの記述。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>Packages</literal>
                </entry>
                <entry>
    各ディストリビューション/コンポーネント/バイナリアーキテクチャーの組み合わせのトップ
    </entry>
                <entry>
    バイナリパッケージに関して<literal>debian/control</literal>を連結
    </entry>
              </row>
              <row>
                <entry>
                  <literal>Sources</literal>
                </entry>
                <entry>
    各ディストリビューション/コンポーネント/ソースの組み合わせのトップ
    </entry>
                <entry>
    ソースパッケージに関して<literal>debian/control</literal>を連結
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>最近のアーカイブではネットワークトラフィックを減らすべく圧縮された差分ファイルとしてこれらのメタデータは保存されています。</simpara>
      </section>
      <section id="_top_level_release_file_and_authenticity">
        <title>トップレベルの"Release"ファイルと信憑性</title>
        <tip>
          <simpara><emphasis
role="strong">セキュアAPT</emphasis>システムではトップレベルの"Release"ファイルがアーカイブを署名するのに使われています。</simpara>
        </tip>
        <simpara>Debianアーカイブの各スイーツには例えば"<literal>http://ftp.us.debian.org/debian/dists/unstable/Release</literal>"のようなトップレベルの"Release"ファイルがあります。</simpara>
        <screen>Origin: Debian
Label: Debian
Suite: unstable
Codename: sid
Date: Sat, 26 Jan 2008 20:13:58 UTC
Architectures: alpha amd64 arm hppa hurd-i386 i386 ia64 m68k mips mipsel powerpc s390 sparc
Components: main contrib non-free
Description: Debian x.y Unstable - Not Released
MD5Sum:
 e9f11bc50b12af7927d6583de0a3bd06 22788722 main/binary-alpha/Packages
 43524d07f7fa21b10f472c426db66168  6561398 main/binary-alpha/Packages.gz
...</screen>
        <note>
          <simpara><xref
linkend="_debian_archive_basics"/>の中で"スイーツ(suite)"や"コード名(codename)"や"コンポーネント(component)"を使う理由はこれを見れば分かるでしょう。"ディストリビューション"は"スイーツ"と"コード名"との両方を指したい際に用いられます。</simpara>
        </note>
        <simpara>トップレベルの"<literal>Release</literal>"ファイルの整合性は <ulink
url="&secureapt;">セキュアapt</ulink>という暗号学手法インフラストラクチャーによって検証されます。</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
暗号手法による署名ファイル"<literal>Release.gpg</literal>"は真正のトップレベルの"<literal>Release</literal>"ファイルと秘密のDebianアーカイブキーから作成されます。
</simpara>
          </listitem>
          <listitem>
            <simpara>
公開のDebianアーカイブキーは"<literal>/etc/apt/trusted.gpg</literal>"に取り込むには次のようにします:
</simpara>
            <itemizedlist>
              <listitem>
                <simpara>
最新の<literal>base-files</literal>パッケージを用いてキーリングをインストールすることで自動で取り込む。
</simpara>
              </listitem>
              <listitem>
                <simpara>
<ulink
url="&thelatestpublicapmasterdebianorg;">ftp-master.debian.orgに掲示された最新の公開アーカイブキー</ulink>を<literal>gpg</literal>か<literal>apt-key</literal>ツールを用いて手動で取り込む。
</simpara>
              </listitem>
            </itemizedlist>
          </listitem>
          <listitem>
            <simpara>
<emphasis
role="strong">セキュアAPT</emphasis>システムはこの"<literal>Release.gpg</literal>"ファイルと"<literal>/etc/apt/trusted.gpg</literal>"中の公開アーカイブキーを用いてダウンロードされたトップレベルの"<literal>Release</literal>"ファイルの整合性を暗号学手法を用いて検証します。
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>"全ての<literal>Packages</literal>"と"<literal>Sources</literal>ファイルの整合性はそのトップレベルの"<literal>Release</literal>"ファイル中のMD5sum値を用いて検証します。"パッケージファイルの整合性は"<literal>Packages</literal>"や"<literal>Sources</literal>"ファイル中のMD5sum値を用いて検証します。<literal>debsums</literal>(1)と<xref
linkend="_verify_installed_package_files"/>を参照下さい。</simpara>
        <simpara>暗号学手法を用いた署名の検証はMD5sum値の計算よりも非常にCPUを使うプロセスなので、トップレベルの"<literal>Release</literal>"ファイルには暗号学手法を用いた署名を使いつつ各パッケージにはMD5sum値を用いることで<ulink
url="&thegoodsecuritywththeperformance;">パーフォーマンスを保ったまま良好なセキュリティ</ulink>が確保できます(<xref
linkend="_data_security_infrastructure"/>参照)。</simpara>
      </section>
      <section id="_archive_level_release_files">
        <title>アーカイブレベルの"Release"ファイル</title>
        <tip>
          <simpara>アーカイブレベルの"<literal>Release</literal>"ファイルは<literal>apt_preferences</literal>(5)のルールに利用されます。</simpara>
        </tip>
        <simpara>"<literal>http://ftp.us.debian.org/debian/dists/unstable/main/binary-amd64/Release</literal>"や"<literal>http://ftp.us.debian.org/debian/dists/sid/main/binary-amd64/Release</literal>"等の"<literal>/etc/apt/sources.list</literal>"中の"<literal>deb</literal>"行で特定される全てのアーカイブロケーションにはアーカイブレベルの"<literal>Release</literal>"ファイルがあります。</simpara>
        <screen>Archive: unstable
Component: main
Origin: Debian
Label: Debian
Architecture: amd64</screen>
        <caution>
          <simpara>"<literal>Archive:</literal>"スタンザには、<ulink
url="&thedebianarchive;">Debianアーカイブ</ulink>ではスイート名("<literal>stable</literal>"や"<literal>testing</literal>"や"<literal>unstable</literal>"等)が使われますが、<ulink
url="&theubuntuarchive;">Ubuntuアーカイブ</ulink>ではコード名("<literal>dapper</literal>"や"<literal>feisty</literal>"や"<literal>gutsy</literal>"や"<literal>hardy</literal>"や"<literal>intrepid</literal>"等)が使われます。</simpara>
        </caution>
        <simpara><literal>experimental</literal>や<literal>volatile-sloppy</literal>や<literal>&codename-stable;-backports</literal>のような自動的にインストールされるべきでないパッケージを含むようなアーカイブでは"<literal>http://ftp.us.debian.org/debian/dists/experimental/main/binary-amd64/Release</literal>"のような追加の行があります:</simpara>
        <screen>Archive: experimental
Component: main
Origin: Debian
Label: Debian
NotAutomatic: yes
Architecture: amd64</screen>
        <simpara>"<literal>NotAutomatic:
yes</literal>"となっていない通常のアーカイブではデフォルトのPin-Priority値は500ですが、"<literal>NotAutomatic:
yes</literal>"となっている特別なアーカイブではデフォルトのPin-Priority値は1です(<literal>apt_preferences</literal>(5)と<xref
linkend="_tweaking_candidate_version"/>参照)。</simpara>
      </section>
      <section id="_fetching_of_the_meta_data_for_the_package">
        <title>パッケージメタデータの取得</title>
        <simpara><literal>aptitude</literal>や<literal>apt-get</literal>や<literal>synaptic</literal>や<literal>apt-file</literal>や<literal>auto-apt</literal>等のAPTツールが使われる際にはDebianアーカイブ情報を含むメタデータのローカルコピーを更新する必要があります。この様なコピーは"<literal>/etc/apt/sources.list</literal>"中の<literal>ディストリビューション</literal>と<literal>コンポーネント</literal>と<literal>アーキテクチャー</literal>の名前に対応する次のファイル名です(<xref
linkend="_debian_archive_basics"/>参照):</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
"<literal>/var/lib/apt/lists/ftp.us.debian.org_debian_dists_&lt;ディストリビューション&gt;_Release</literal>"
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>/var/lib/apt/lists/ftp.us.debian.org_debian_dists_&lt;ディストリビューション&gt;_Release.gpg</literal>"
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>/var/lib/apt/lists/ftp.us.debian.org_debian_dists_&lt;ディストリビューション&gt;_&lt;コンポーネント&gt;_source_Sources</literal>"
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>/var/lib/apt/lists/ftp.us.debian.org_debian_dists_&lt;ディストリビューション&gt;_&lt;コンポーネント&gt;_source_Sources</literal>"
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>/var/cache/apt/apt-file/ftp.us.debian.org_debian_dists_&lt;ディストリビューション&gt;_Contents-&lt;アーキテクチャー&gt;.gz</literal>"
(<literal>apt-file</literal>用)
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>最初の4つのタイプのファイルは全ての適切なAPTコマンド間で共有されておりコマンドラインから"<literal>apt-get
update</literal>"や"<literal>aptitude
update</literal>"によって更新されます。もし"<literal>/etc/apt/sources.list</literal>"中に"<literal>deb</literal>"行があれば"<literal>Packages</literal>"メタデータが更新されます。もし"<literal>/etc/apt/sources.list</literal>"中に"<literal>deb-src</literal>"行があれば"<literal>Sources</literal>"メタデータが更新されます。</simpara>
        <simpara>"<literal>Packages</literal>"や"<literal>Sources</literal>"メタデータはバイナリやソースパッケージのファイルの場所を指している"<literal>Filename:</literal>"スタンザを含んでいます。現在、それらのパッケージはリリース間の移行を滞り無くするために"<literal>pool/</literal>"ディレクトリツリーの下に置かれています。</simpara>
        <simpara>"<literal>Packages</literal>"メタデータのローカルコピーは<literal>aptitude</literal>を使ってインタラクティブに検索できます。<literal>grep-dctrl</literal>(1)という専用の検索コマンドを使うと"<literal>Packages</literal>"と"<literal>Sources</literal>"メタデータのローカルコピーを検索できます。</simpara>
        <simpara>"<literal>Contents-&lt;アーキテクチャー&gt;</literal>"メタデータのローカルコピーは"<literal>apt-file
update</literal>"で更新でき、他の4つと異なるところにあります。<literal>apt-file</literal>(1)を参照下さい。(<literal>auto-apt</literal>では"<literal>Contents-&lt;アーキテクチャー&gt;.gz</literal>"のローカルコピーがデフォルトでは異なるところにあります。)</simpara>
      </section>
      <section id="_the_package_state_for_apt">
        <title>APTに関するパッケージ状態</title>
        <simpara><literal>lenny</literal>以降のAPTツールではリモートから取得したメタデータに追加でローカルで生成されるインストール状態情報を"<literal>/var/lib/apt/extended_states</literal>"に保存して、自動インストールされた全パッケージを全てのAPTツールで追跡するのに用います。</simpara>
      </section>
      <section id="_the_package_state_for_aptitude">
        <title>aptitudeに関するパッケージ状態</title>
        <simpara><literal>aptitude</literal>コマンドではリモートから取得したメタデータに追加でローカルで生成されるインストール状態情報を"<literal>/var/lib/aptitude/pkgstates</literal>"に保存して用いています。</simpara>
      </section>
      <section id="_local_copies_of_the_fetched_packages">
        <title>取得したパッケージのローカルコピー</title>
        <simpara>APTメカニズムでリモートから取得されたパッケージは消去されるまでは"<literal>/var/cache/apt/packages</literal>"に貯蔵されます。</simpara>
      </section>
      <section id="_the_debian_package_file_name">
        <title>Debianパッケージファイル名</title>
        <simpara>Debianのパッケージファイルには特定の名前の構造があります。</simpara>
        <table id="thenamestructureofdebianpackages" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>Debianパッケージの名前の構造。</title>
          <tgroup cols="2">
            <colspec colwidth="144" align="left"/>
            <colspec colwidth="360" align="left"/>
            <thead>
              <row>
                <entry>
    パッケージタイプ
    </entry>
                <entry>
    名前の構造
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
    バイナリパッケージ(所謂deb)
    </entry>
                <entry>
                  <literal>&lt;パッケージ名&gt;_&lt;エポック&gt;:&lt;アップストリームのバージョン&gt;-&lt;debianのバージョン&gt;-&lt;アーキテクチャー&gt;.deb</literal>
                </entry>
              </row>
              <row>
                <entry>
    debianインストーラーのためのバイナリパッケージ(所謂udeb)
    </entry>
                <entry>
                  <literal>&lt;パッケージ名&gt;_&lt;エポック&gt;:&lt;アップストリームのバージョン&gt;-&lt;debianのバージョン&gt;-&lt;アーキテクチャー&gt;.udeb</literal>
                </entry>
              </row>
              <row>
                <entry>
    ソースパッケージ(アップストリームのソース)
    </entry>
                <entry>
                  <literal>&lt;パッケージ名&gt;_&lt;エポック&gt;:&lt;アップストリームのバージョン&gt;-&lt;debianのバージョン&gt;.tar.gz</literal>
                </entry>
              </row>
              <row>
                <entry>
    ソースパッケージ(Debianの変更部分)
    </entry>
                <entry>
                  <literal>&lt;パッケージ名&gt;_&lt;エポック&gt;:&lt;アップストリームのバージョン&gt;-&lt;debianのバージョン&gt;.diff.gz</literal>
                </entry>
              </row>
              <row>
                <entry>
    ソースパッケージ(内容記述)
    </entry>
                <entry>
                  <literal>&lt;パッケージ名&gt;_&lt;エポック&gt;:&lt;アップストリームのバージョン&gt;-&lt;debianのバージョン&gt;.dsc</literal>
                </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>ここで、</simpara>
        <table id="theusablecharactbianpackagenames" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>Debianパッケージ名の各部分に使用可能な文字。</title>
          <tgroup cols="3">
            <colspec colwidth="108" align="left"/>
            <colspec colwidth="108" align="left"/>
            <colspec colwidth="288" align="left"/>
            <thead>
              <row>
                <entry>
    名前の部分
    </entry>
                <entry>
    使用可能文字(regex)
    </entry>
                <entry>
    存在
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>&lt;パッケージ名&gt;</literal>
                </entry>
                <entry>
                  <literal>[a-z,A-Z,0-9,.,<literal>,-]</literal></literal>
                </entry>
                <entry>
    必須
    </entry>
              </row>
              <row>
                <entry>
                  <literal>&lt;エポック&gt;:</literal>
                </entry>
                <entry>
                  <literal>[0-9]+:</literal>
                </entry>
                <entry>
    任意
    </entry>
              </row>
              <row>
                <entry>
                  <literal>&lt;アップストリームのバージョン&gt;</literal>
                </entry>
                <entry>
                  <literal>[a-z,A-Z,0-9,.,<literal>,-,:]</literal></literal>
                </entry>
                <entry>
    必須
    </entry>
              </row>
              <row>
                <entry>
                  <literal>&lt;debianのバージョン&gt;</literal>
                </entry>
                <entry>
                  <literal>[a-z,A-Z,0-9,.,<literal>,~]</literal></literal>
                </entry>
                <entry>
    任意
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <note>
          <simpara>パッケージバージョンの順位は<literal>dpkg</literal>(1)を使って、例えば"<literal>dpkg
--compare-versions 7.0 gt 7.~pre1 ; echo $?</literal>"とすると確認できます。</simpara>
        </note>
        <note>
          <simpara><ulink
url="&thedebianinstallerdi;">Debianインストーラー(d-i)</ulink>のバイナリパッケージには、通常の<literal>deb</literal>ではなく<literal>udeb</literal>をファイルエクステンションとして使われます。<literal>udeb</literal>パッケージはポリシー条件を緩和しドキュメントのように必須でない内容を削除した減量<literal>deb</literal>パッケージです。<literal>deb</literal>と<literal>udeb</literal>パッケージは同一のパッケージ構造を共有しています。"<literal>u</literal>"はマイクロと言う意味で使っています。</simpara>
        </note>
      </section>
      <section id="_the_dpkg_command">
        <title>dpkgコマンド</title>
        <simpara><literal>dpkg</literal>(1)はDebianパッケージ管理の最下位のツールです。非常に強力ですから気をつけて使う必要があります。</simpara>
        <simpara>取得されたパッケージは<literal>dpkg</literal>によって次の順で処理されます:</simpara>
        <orderedlist>
          <listitem>
            <simpara>
debファイルを解凍("<literal>ar -x</literal>"と等価)
</simpara>
          </listitem>
          <listitem>
            <simpara>
<literal>debconf</literal>(1)を使ったpreinst
</simpara>
          </listitem>
          <listitem>
            <simpara>
システムにパッケージ内容をインストール("<literal>tar -x</literal>"と等価)
</simpara>
          </listitem>
          <listitem>
            <simpara>
<literal>debconf</literal>(1)を使ったpostinst
</simpara>
          </listitem>
        </orderedlist>
        <simpara><literal>debconf</literal>システムによってI18NとL10N(<xref
linkend="_i18n_and_l10n"/>)のサポートのある標準化されたユーザとの対話が実現できます。</simpara>
        <simpara>"<literal>&lt;パッケージ名&gt;</literal>"というパッケージをインストールする際に<literal>dpkg</literal>はファイルをいくつか作りスクリプトをいくつか実行します。</simpara>
        <table id="thenotablefilesfordpkg" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>dpkgに関する特記すべきファイル。</title>
          <tgroup cols="2">
            <colspec colwidth="144" align="left"/>
            <colspec colwidth="360" align="left"/>
            <thead>
              <row>
                <entry>
    ファイル
    </entry>
                <entry>
    内容
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>/var/lib/dpkg/info/&lt;パッケージ名&gt;.conffiles</literal>
                </entry>
                <entry>
    設定ファイルのリスト。(ユーザ変更可能)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/var/lib/dpkg/info/&lt;パッケージ名&gt;.list</literal>
                </entry>
                <entry>
    パッケージによりインストールされるファイルやディレクトリのリスト。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/var/lib/dpkg/info/&lt;パッケージ名&gt;.md5sums</literal>
                </entry>
                <entry>
    パッケージによりインストールされるファイルのMD5ハッシュ値のリスト。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/var/lib/dpkg/info/&lt;パッケージ名&gt;.preinst</literal>
                </entry>
                <entry>
    パッケージ導入の前に実行するパッケージスクリプト。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/var/lib/dpkg/info/&lt;パッケージ名&gt;.postinst</literal>
                </entry>
                <entry>
    パッケージ導入の後に実行するパッケージスクリプト。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/var/lib/dpkg/info/&lt;パッケージ名&gt;.prerm</literal>
                </entry>
                <entry>
    パッケージ削除の前に実行するパッケージスクリプト。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/var/lib/dpkg/info/&lt;パッケージ名&gt;.prerm</literal>
                </entry>
                <entry>
    パッケージ削除の前に実行するパッケージスクリプト。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/var/lib/dpkg/info/&lt;パッケージ名&gt;.conffiles</literal>
                </entry>
                <entry>
    <literal>debconf</literal>システムのためのパッケージスクリプト。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/var/lib/dpkg/alternatives/&lt;パッケージ名&gt;</literal>
                </entry>
                <entry>
    <literal>update-alternatives</literal>コマンドが用いる代替情報。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/var/lib/dpkg/available</literal>
                </entry>
                <entry>
    すべてのパッケージの入手可能性情報。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/var/lib/dpkg/diversions</literal>
                </entry>
                <entry>
    <literal>dpkg</literal>(1)に用いられ、<literal>dpkg-divert</literal>(8)が設定する迂回情報。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/var/lib/dpkg/statoverride</literal>
                </entry>
                <entry>
    <literal>dpkg</literal>(1)に用いられ、<literal>dpkg-statoverride</literal>(8)が設定する状態の上書き情報。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/var/lib/dpkg/status</literal>
                </entry>
                <entry>
    パッケージに関する情報閲覧する。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/var/lib/dpkg/status-old</literal>
                </entry>
                <entry>
    "<literal>var/lib/dpkg/status</literal>"ファイルの第一世代のバックアップ。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/var/backups/dpkg.status*</literal>
                </entry>
                <entry>
    "<literal>var/lib/dpkg/status</literal>"ファイルの第二世代以前のバックアップ。
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>"<literal>status</literal>"ファイルは<literal>dpkg</literal>(1)や"<literal>dselect
update</literal>"や"<literal>apt-get -u
dselect-upgrade</literal>"のようなツールによって使われます。</simpara>
        <simpara><literal>grep-dctrl</literal>(1)という専用の検索コマンドを使うと"<literal>status</literal>"と"<literal>available</literal>"メタデータのローカルコピーを検索できます。</simpara>
        <tip>
          <simpara><ulink url="&thedebianinstaller;">デビアンインストーラー</ulink>
環境下では、<literal>udpkg</literal>コマンドが<literal>udeb</literal>パッケージを開けるのに用いられます。<literal>udpkg</literal>コマンドはストリップダウンされたバージョンの<literal>dpkg</literal>コマンドです。</simpara>
        </tip>
      </section>
      <section id="_the_update_alternative_command">
        <title>update-alternativeコマンド</title>
        <simpara>Debianシステムには<literal>update-alternatives</literal>(8)を用いて何らかの重畳するプログラムを平和裏にインストールするメカニズムがあります。例えば<literal>vim</literal>と<literal>nvi</literal>の両方のパッケージがインストールされた状況下で<literal>vi</literal>コマンドが<literal>vim</literal>を選択して実行するようにできます。</simpara>
        <screen>$ ls -l $(type -p vi)
lrwxrwxrwx 1 root root 20 2007-03-24 19:05 /usr/bin/vi -&gt; /etc/alternatives/vi
$ sudo update-alternatives --display vi
...
$ sudo update-alternatives --config vi
  Selection    Command
 ----------------------------------------------
      1        /usr/bin/vim
*+    2        /usr/bin/nvi

Enter to keep the default[*], or type selection number: 1</screen>
        <simpara>Debianの代替(alternatives)システムは、その選択を"<literal>/etc/alternatives/</literal>"の中のシムリンクとして保持します。選択プロセスには"<literal>/var/lib/dpkg/alternatives/</literal>"の中の対応するファイルが使われます。</simpara>
      </section>
      <section id="_the_dpkg_statoverride_command">
        <title>dpkg-statoverrideコマンド</title>
        <simpara><literal>dpkg-statoverride</literal>(8)コマンドで提供される<emphasis
role="strong">状態の上書き</emphasis>は、パッケージをインストールする際に<emphasis
role="strong">ファイル</emphasis>に関して異なる所有者やモードを使うよう<literal>dpkg</literal>(1)に指示する方法です。もし"<literal>--update</literal>"が指定されファイルが存在すれば、即座に新たな所有者やモードに設定されます。</simpara>
        <caution>
          <simpara>パッケージが所有する<emphasis
role="strong">ファイル</emphasis>の所有者やモードをシステム管理者が<literal>chmod</literal>や<literal>chown</literal>コマンドを用いて直接変更しても次のパッケージアップグレードがリセットします。</simpara>
        </caution>
        <note>
          <simpara>ここで<emphasis
role="strong">ファイル</emphasis>と言いましたが、実際には<literal>dpkg</literal>が扱うディレクトリやデバイス等のいかなるファイルシステムオブジェクトであってもいいです。</simpara>
        </note>
      </section>
      <section id="_the_dpkg_divert_command">
        <title>dpkg-divertコマンド</title>
        <simpara><literal>dpkg-divert</literal>(8)コマンドによって提供されるファイル<emphasis
role="strong">迂回</emphasis>は、ファイルをデフォルトの場所ではなく<emphasis
role="strong">迂回</emphasis>した場所にインストールするように<literal>dpkg</literal>(1)にさせます。<literal>dpkg-divert</literal>は本来パッケージメインテナンススクリプトのためのものです。システム管理者がこれを使うのはお薦めしません。</simpara>
      </section>
    </section>
    <section id="_recovery_from_a_broken_system">
      <title>壊れたシステムからの回復</title>
      <simpara><literal>非安定(unstable)</literal>システムを動かす時には、管理者は壊れたパッケージ管理状況から回復できることが望ましいです。</simpara>
      <caution>
        <simpara>ここで説明するいくつかの方法は非常にリスクが高いアクションです。警告しましたよ!</simpara>
      </caution>
      <section id="_incompatibility_with_old_user_configuration">
        <title>古いユーザの設定との非互換性</title>
        <simpara>もしデスクトップGUIプログラムが上流の大きなバージョンアップグレードの後に不安定性を経験した際には、そのプログラムが作った古いローカル設定ファイルとの干渉を疑うべきです。もし新規作成したユーザアカウントでそのプログラムが安定なら、この仮説が裏付けられます。(これはパッケージングのバグで、通常パッケージャーによって回避されます。)</simpara>
        <simpara>安定性を回復するには、対応するローカル設定ファイルを移動しGUIプログラムを再スタートします。後日設定情報を回復するために古い設定ファイルの内容を読む必要があるかもしれません。(あまり慌てて消去しないようにしましょう。)</simpara>
      </section>
      <section id="_different_packages_with_overlapped_files">
        <title>重複するファイルを持つ相異なるパッケージ</title>
        <simpara><literal>aptitude</literal>(8)や<literal>apt-get</literal>(1)等の、アーカイブレベルのパッケージ管理システムはパッケージの依存関係を使って重複するファイルを持つファイルのインストールしようとさえしません(<xref
linkend="_package_dependencies"/>参照)。</simpara>
        <simpara>パッケージメインテナによるエラーや、システム管理者による不整合な混合ソースのアーカイブの採用(<xref
linkend="_packages_from_mixed_source_of_archives"/>参照)があった場合には、パッケージ依存関係が誤って定義される事態が発生するかもしれません。そういう状況下で重複するファイルを持つパッケージを<literal>aptitude</literal>(8)や<literal>apt-get</literal>(1)を使ってインストールしようとすると、パッケージを展開する<literal>dpkg</literal>(1)は既存ファイルを上書きすることなく呼ばれたプログラムにエラーを確実に返します。</simpara>
        <caution>
          <simpara>第三者が作成したパッケージを使うと、root権限で実行されるシステムに関して何でもできるメンテナスクリプトが実行されるので、システムが重大なリスクにさらされます。<literal>dpkg</literal>(1)はパッケージを展開するするさいに上書きする事を防止するだけです。</simpara>
        </caution>
        <simpara>そのような壊れたインストール状況は、まず古い問題の原因となっているパッケージ<literal>&lt;old-package&gt;</literal>をまず削除することで回避できます:</simpara>
        <screen>$ sudo dpkg -P &lt;old-package&gt;</screen>
      </section>
      <section id="_fixing_broken_package_script">
        <title>壊れたパッケージスクリプトの修正</title>
        <simpara>パッケージスクリプト内のコマンドが何らかの理由でエラーを返しスクリプトがエラーで終了した場合には、パッケージ管理システムは動作を途中終了するので部分的にインストールされたパッケージのある状況が生まれます。パッケージがその削除スクリプト内にバグを持つ場合には、パッケージが削除不能になりうるので大変厄介です。</simpara>
        <simpara>"<literal>&lt;パッケージ名&gt;</literal>"のパッケージスクリプトの問題に関しては、以下を確認する必要があります:</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
"<literal>/var/lib/dpkg/info/&lt;パッケージ名&gt;.preinst</literal>"
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>/var/lib/dpkg/info/&lt;パッケージ名&gt;.postinst</literal>"
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>/var/lib/dpkg/info/&lt;パッケージ名&gt;.prerm</literal>"
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>/var/lib/dpkg/info/&lt;パッケージ名&gt;.prerm</literal>"
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>rootからスクリプトの問題源の部分を次のように編集します:</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
行頭に"<literal>#</literal>"を挿入、または
</simpara>
          </listitem>
          <listitem>
            <simpara>
行末に"<literal>|| true</literal>"を挿入します。
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>全ての部分的にインストールされたパッケージを設定する。</simpara>
        <screen># dpkg --configure -a</screen>
      </section>
      <section id="_rescue_using_the_dpkg_command">
        <title>dpkgコマンドを使っての救済</title>
        <simpara><literal>dpkg</literal>は非常に低位のパッケージツールなのでネットワーク接続もないブート不能な非常に劣悪な状況下でも機能します。<literal>foo</literal>パッケージが壊れていて置き換える必要があると仮定しましょう。</simpara>
        <simpara>バグの無い古いバージョンの<literal>foo</literal>パッケージが"<literal>/var/cache/apt/archives/</literal>"にあるパッケージキャッシュの中に見つかるかもしれません。(ここにみつからなければ、<ulink
url="&httpsnapshotdebiannet;">http://snapshot.debian.net/</ulink>アーカイブからダウンロードしたり、機能している機器のパッケージキャッシュからコピーできます。)</simpara>
        <simpara>もしブート不可能な場合には、次のようにしてインストールすることもできます:</simpara>
        <screen># dpkg -i /path/to/foo_&lt;old_version&gt;_&lt;arch&gt;.deb</screen>
        <tip>
          <simpara>システムがそれほど壊れていないなら、<xref
linkend="_emergency_downgrading"/>に書かれているようにして上位のAPTシステムを通じてシステム全体をダウングレードする手もあります。</simpara>
        </tip>
        <simpara>ハードディスクからブートできない場合には、他の方法でのブートをするようにしましょう。例えば、次の手順をとります:</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
デビアンインストーラー(debian-installer)のCDを使ってレスキューモードでブートします。
</simpara>
          </listitem>
          <listitem>
            <simpara>
ブートできないハードディスク上のシステムを"<literal>/target</literal>"にマウントします。
</simpara>
          </listitem>
          <listitem>
            <simpara>
古いバージョンの<literal>foo</literal>パッケージを次のようにしてインストールします。
</simpara>
          </listitem>
        </itemizedlist>
        <screen># dpkg --root /target -i /path/to/foo_&lt;old_version&gt;_&lt;arch&gt;.deb</screen>
        <simpara>2番めの例は、たとえハードディスク上の<literal>dpkg</literal>コマンドが壊れていても機能します。</simpara>
        <tip>
          <simpara>ハードディスク上の別のシステムであれ、GNU/LinuxのライブCDであれ、ブート可能なUSBキードライブであれ、ネットブートであれ、どのように起動されたGNU/Linuxシステムでも同様にして壊れたシステムを救済するのに使えます。</simpara>
        </tip>
        <simpara>もしこの方法でパッケージをインストールしようとして何らかの依存関係違反のためにうまくいかなくてどうしようもなくなった場合には、<literal>dpkg</literal>の"<literal>--ignore-depends</literal>"や"<literal>--force-depends</literal>"や他のオプションを使って依存関係をオーバーライドすることができます。こうした場合には、後で依存関係を修復するように真剣に取り組む必要があります。詳細は<literal>dpkg</literal>(8)を参照下さい。</simpara>
        <note>
          <simpara>システムがひどく壊れた場合には、システムを安全な場所に完全バックアップし(<xref
linkend="_backup_and_recovery"/>参照)、クリー(see <xref
linkend="_backup_and_recovery"/>)ンインストールを実行するべきです。こうすることは時間お節約でもあり最終的に良い結果に結びつきます。</simpara>
        </note>
      </section>
      <section id="_recover_package_selection_data">
        <title>パッケージセレクションの回復</title>
        <simpara>もし何らかの理由で"<literal>/var/lib/dpkg/status</literal>"の内容が腐った場合には、Debianシステムはパッケージ選択データが失われ大きな打撃を被ります。古い"<literal>/var/lib/dpkg/status</literal>"ファイルは、"<literal>/var/lib/dpkg/status-old</literal>"や"<literal>/var/backups/dpkg.status.*</literal>"としてあるので探しましょう。</simpara>
        <simpara>"<literal>/var/backups/</literal>"は多くの重要な情報を保持しているので、これを別のパーティション上に置くのも良い考えです。</simpara>
        <simpara>ひどく壊れた場合には、システムのバックアップをした後フレッシュに再インストールすることをお薦めします。たとえ"<literal>/var/</literal>"ディレクトリの中が完全に消去されても、"<literal>/usr/share/doc/</literal>"ディレクトリ中から新しいインストールのガイドとなる情報を回復できます。</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
最低源の(デスクトップ)システムを再インストールする。
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>/path/to/old/system/</literal>"に古いシステムを置く
</simpara>
          </listitem>
        </itemizedlist>
        <screen># cd /path/to/old/system/usr/share/doc
# ls -1 &gt;~/ls1.txt
# cd /usr/share/doc
# ls -1 &gt;&gt;~/ls1.txt
# cd
# sort ls1.txt | uniq | less</screen>
        <simpara>こうすると、インストールすべきパッケージ名が表示されます。("<literal>texmf</literal>"のようなパッケージ名以外が一部あるかもしれません。)</simpara>
      </section>
    </section>
    <section id="_tips_for_the_package_management">
      <title>パッケージ管理のヒント</title>
      <section id="_how_to_pick_debian_packages">
        <title>Debianパッケージの選択方法</title>
        <simpara>パッケージの説明や"Tasks"の下のリストを使ってあなたが必要なパッケージを<literal>aptitude</literal>で見つけることができます。</simpara>
        <simpara>2つ以上の似たパッケージに出会いが"試行錯誤"の努力無しにどのパッケージをインストールするか迷った際には、<emphasis
role="strong">常識</emphasis>を使って下さい。次に示す点は好ましいパッケージの良い指標と考えます。</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
必須(essential): yes &gt; no
</simpara>
          </listitem>
          <listitem>
            <simpara>
コンポーネント(component): メイン(main) &gt; contrib &gt; non-free
</simpara>
          </listitem>
          <listitem>
            <simpara>
優先度(priorities): 必須(required) &gt; 重要(important) &gt; 標準(standard) &gt;
任意(optional) &gt; 特別(extra)
</simpara>
          </listitem>
          <listitem>
            <simpara>
タスク(tasks): "デスクトップ環境"のようなタスクにリストされたパッケージ
</simpara>
          </listitem>
          <listitem>
            <simpara>
依存パッケージにより選ばれたパッケージ(例えば、<literal>python</literal>による<literal>python2.4</literal>)
</simpara>
          </listitem>
          <listitem>
            <simpara>
popcon: higher in the vote and install number
</simpara>
          </listitem>
          <listitem>
            <simpara>
changelog: メンテナによる定期的アップデート
</simpara>
          </listitem>
          <listitem>
            <simpara>
BTS: RC bugが無いこと (criticalもgraveもseriousもいずれのバグも無い)
</simpara>
          </listitem>
          <listitem>
            <simpara>
BTS: バグレポートに反応の良いメンテナ
</simpara>
          </listitem>
          <listitem>
            <simpara>
BTS: 最近修正されたバグの数が多い
</simpara>
          </listitem>
          <listitem>
            <simpara>
BTS: wishlist以外のバグが少ない
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>Debianは分散型の開発モデルのボランティアプロジェクトですので、そのアーカイブには目指すところや品質の異なる多くのパッケージがあります。これらをどうするかは自己判断をして下さい。</simpara>
      </section>
      <section id="_packages_from_mixed_source_of_archives">
        <title>混合したアーカイブソースからのパッケージ</title>
        <caution>
          <simpara><literal>安定版(stable)</literal>と<ulink url="&securityupdates;">security
updates</ulink>と<ulink url="&volatileupdates;">volatile
updates</ulink>のような公式にサポートされた特定の組み合わせ以外は、混合したアーカイブソースからのパッケージをインストールすることを、公式にはDebianディストリビューションとしてサポートしていません。</simpara>
        </caution>
        <simpara><literal>testing</literal>を追跡しながら、<literal>unstable</literal>にある特定の新規アップストリームバージョンのパッケージを1回だけ取り入れる操作例を次に示します。</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
"<literal>/etc/apt/sources.list</literal>"ファイルを変更し、単一の"<literal>unstable</literal>"エントリーのみにします。
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>aptitude update</literal>"を実行します。
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>aptitude install &lt;パッケージ名&gt;</literal>"の実行
</simpara>
          </listitem>
          <listitem>
            <simpara>
<literal>testing</literal>のためのオリジナルの"<literal>/etc/apt/sources.list</literal>"ファイルを回復します。
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>aptitude update</literal>"を実行します。
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>この様な手動のアプローチをすると"<literal>/etc/apt/preferences</literal>"ファイルを作ることもないし、またapt-pinningについて悩むこともありません。でもこれではとても面倒です。</simpara>
        <caution>
          <simpara>混合したアーカイブソースを使うことをDebianが保証していないので、その場合にはパッケージ間の互換性は自分自身で確保しなければいけません。もしパッケージに互換性がないと、システムを壊すことになるかもしれません。この様な技術的要件を判断できる必要があります。ランダムな混合したアーカイブソースを使うことは全く任意の操作ですが、私としてはこの操作はお薦めできません。</simpara>
        </caution>
        <simpara>異なるアーカイブからパッケージをインストールするための一般ルール:</simpara>
        <simpara>非バイナリパッケージのインストールは<emphasis role="strong">比較的安全</emphasis>です。</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
文書パッケージ: 特段の要件無し
</simpara>
          </listitem>
          <listitem>
            <simpara>
インタープリタプログラムパッケージ: 互換性あるインタープリタ環境が必要
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>完全に静的にリンクされたバイナリパッケージのインストールは<emphasis role="strong">安全</emphasis>です。</simpara>
        <simpara>バイナリパッケージ(非"<literal>Architecture:
all</literal>")のインストールは、通常多くの障害があり、<emphasis
role="strong">安全ではありません</emphasis>。</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
ライブラリ("<literal>libc</literal>"等)のバージョン互換性
</simpara>
          </listitem>
          <listitem>
            <simpara>
関連ユーティリティプログラムのバージョン互換性
</simpara>
          </listitem>
          <listitem>
            <simpara>
カーネル<ulink url="&abi;">ABI</ulink>互換性
</simpara>
          </listitem>
          <listitem>
            <simpara>
C++の<ulink url="&abi;">ABI</ulink>互換性
</simpara>
          </listitem>
          <listitem>
            <simpara>
…
</simpara>
          </listitem>
        </itemizedlist>
        <note>
          <simpara>壊れたパッケージを短期的に避ける場合以外では，公式にサポートされていないアーカイブからバイナリパッケージをインストールするのは一般的には賢明ではありません。たとえapt-pinning(<xref
linkend="_tweaking_candidate_version"/>参照)を使った場合にもこれは当てはまります。chrootや類似のテクニック(<xref
linkend="_chroot_system"/>参照)使って、他のアーカイブからのプログラムを実行するよう検討するべきです。</simpara>
        </note>
      </section>
      <section id="_tweaking_candidate_version">
        <title>候補バージョンの調整</title>
        <warning>
          <simpara><literal>lenny</literal>の<literal>aptitude</literal>(8)には、"<literal>/etc/apt/preferences</literal>"ファイルの扱いにバグ(<ulink
url="&bugfbejda;">Bug#514930</ulink>参照)があります。</simpara>
        </warning>
        <simpara>"<literal>/etc/apt/preferences</literal>"ファイル無しだと、APTシステムはバージョン文字列を用いて、最新バージョンを<emphasis
role="strong">候補バージョン</emphasis>とします。これが通常状態でAPTシステムの最も推薦される使い方です。全ての公式にサポートされたアーカイブの組み合わせは、自動的にアップグレードするソースとすべきでないアーカイブは<emphasis
role="strong">NotAutomatic</emphasis>とマークされていて適切な扱いを受けるので、"<literal>/etc/apt/preferences</literal>"ファイルを必要としません。</simpara>
        <tip>
          <simpara>バージョン文字列比較ルールは、例えば"<literal>dpkg --compare-versions ver1.1 gt ver1.1~1; echo
$?</literal>"とすれば確認できます(<literal>dpkg</literal>(1)参照)。</simpara>
        </tip>
        <simpara>パッケージを混合したアーカイブからのソース(<xref
linkend="_packages_from_mixed_source_of_archives"/>参照)から定常的にインストールする場合には、<literal>apt_preferences</literal>(5)に書かれたように適切な項目のある"<literal>/etc/apt/preferences</literal>"ファイルを作り<emphasis
role="strong">候補バージョン</emphasis>に関するパッケージ選択ルールを操作することによってこういった複雑な操作を自動化できます。これを<emphasis
role="strong">apt-pinning</emphasis>と呼びます。</simpara>
        <warning>
          <simpara>初心者のユーザーによるapt-pinningの利用は大トラブル発生を間違いなく起こします。本当に必要な時以外はapt-pinningの利用は避けなければいけません。</simpara>
        </warning>
        <caution>
          <simpara>apt-pinningを利用する際には、Debianはパッケージの互換性を保証しないので、ユーザー自身がパッケージの互換性を確保しなければいけません。apt-pinningは全く任意の操作で、著者が使うようにと勧めているわけではありません。</simpara>
        </caution>
        <caution>
          <simpara>アーカイブレベルのReleaseファイル(<xref
linkend="_archive_level_release_files"/>参照)が<literal>apt_preferences</literal>(5)のルールに使われます。だから、apt-pinningは<ulink
url="&normaldebianarchives;">normal Debian archives</ulink>や<ulink
url="&securitydebianarchives;">security Debian
archives</ulink>ではスイート("suite")名を使って機能します。(これは<ulink
url="&ubuntu;">Ubuntu</ulink>アーカイブとは異なります)。例えば"<literal>/etc/apt/preferences</literal>"ファイル中で、"<literal>Pin:
release a=unstable</literal>"とはできますが、"<literal>Pin: release
a=sid</literal>"とはできません。</simpara>
        </caution>
        <caution>
          <simpara>非Debianアーカイブをapt-pinningの一部に使う場合には、それが提供されている対象の確認とその信頼性の確認をしましょう。例えば、UbuntuとDebianは混合して使うようにはなっていません。</simpara>
        </caution>
        <note>
          <simpara>"<literal>/etc/apt/preferences</literal>"ファイルを作成することなしでも、かなり複雑なシステム操作(<xref
linkend="_rescue_using_the_dpkg_command"/> and <xref
linkend="_packages_from_mixed_source_of_archives"/>参照)がapt-pinningを使わずにできます。</simpara>
        </note>
        <simpara>単純化した<emphasis role="strong">apt-pinning</emphasis>テクニックの説明を次にします。</simpara>
        <simpara>APTシステムは"<literal>/etc/apt/sources.list</literal>"ファイル中に規定された使えるパッケージソースから最高のPin-Priorityで<emphasis
role="strong">アップグレード</emphasis>するパッケージを<emphasis
role="strong">候補バージョン</emphasis>パッケージとして選択します。パッケージのPin-Priorityが1000より大きい場合には、この<emphasis
role="strong">アップグレード</emphasis>するというバージョン制約が外れるのでダウングレードできるようになります(<xref
linkend="_emergency_downgrading"/>参照)。</simpara>
        <simpara>各パッケージのPin-Priority値は"<literal>/etc/apt/preferences</literal>"ファイル中の"Pin-Priority"項目にて規定されるか、そのデフォルト値が使われます。</simpara>
        <table id="listofthedefaultackagesourcetype" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>各パッケージソースタイプ毎のデフォルトPin-Priority値のリスト</title>
          <tgroup cols="2">
            <colspec colwidth="144" align="left"/>
            <colspec colwidth="360" align="left"/>
            <thead>
              <row>
                <entry>
    デフォルトPin-Priority
    </entry>
                <entry>
    パッケージソースタイプ
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
    990
    </entry>
                <entry>
    <emphasis role="strong">ターゲットのリリース</emphasis>アーカイブ
    </entry>
              </row>
              <row>
                <entry>
    500
    </entry>
                <entry>
    <emphasis role="strong">通常</emphasis>アーカイブ
    </entry>
              </row>
              <row>
                <entry>
    100
    </entry>
                <entry>
    <emphasis role="strong">インストール済み</emphasis>アーカイブ
    </entry>
              </row>
              <row>
                <entry>
    1
    </entry>
                <entry>
    <emphasis role="strong">NotAutomatic</emphasis>アーカイブ
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara><emphasis role="strong">ターゲットのリリース</emphasis>アーカイブは次のようにして設定できます:</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
"<literal>/etc/apt/apt.conf</literal>"中にある、"<literal>APT::Default-Release
"stable";</literal>"等の行によって。
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>-t</literal>"オプションの引数によって、"<literal>apt-get install -t testing
some-package</literal>"等によって。
</simpara>
          </listitem>
        </itemizedlist>
        <simpara><emphasis role="strong">NotAutomatic</emphasis>アーカイブは次のようにして設定できます:</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
アーカイブ中のアーカイブレベルのReleaseファイル(<xref
linkend="_archive_level_release_files"/>参照)が"<literal>NotAutomatic:
yes</literal>"を含むことによって。
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>複数アーカイブソースの&lt;package&gt;に関するPin-Priority値は"<literal>apt-cache policy
&lt;package&gt;</literal>"の出力で表示されます:</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
"<literal>Package
pin:</literal>"で始まる行は、&lt;package&gt;のみとの関連付けが"<literal>Package pin:
0.190</literal>"等と定義されている場合に、<emphasis
role="strong">pin</emphasis>のパッケージバージョンを示します。
</simpara>
          </listitem>
          <listitem>
            <simpara>
&lt;package&gt;とのみの関連付けが定義されていない場合には、"<literal>Package
pin:</literal>"という行はありません。
</simpara>
          </listitem>
          <listitem>
            <simpara>
&lt;package&gt;とのみの関連付けが定義されている場合のPin-Priority値は、全バージョン文字列の右側に"<literal>0.181
700</literal>"等としてリストされます。
</simpara>
          </listitem>
          <listitem>
            <simpara>
&lt;package&gt;とのみの関連付けが定義されていない場合には、全バージョン文字列の右側に"<literal>0</literal>"が"<literal>0.181
0</literal>"等としてリストされます。
</simpara>
          </listitem>
          <listitem>
            <simpara>
アーカイブのPin-Priority値("<literal>/etc/apt/preferences</literal>"ファイル中に"<literal>Package:
*</literal>"として定義)はアーカイブへのパスの左側に、"<literal>200 http://backports.org
etch-backports/main Packages</literal>"等としてリストされます。
</simpara>
          </listitem>
        </itemizedlist>
        <simpara><literal>testing</literal>を追跡しながら、<literal>unstable</literal>にある特定の新規アップストリームバージョンのパッケージが定常的にアップグレードされる、<emphasis
role="strong">apt-pinning</emphasis>テクニックの例を次に示します。全ての必要なアーカイブを"<literal>/etc/apt/sources.list</literal>"ファイル中に次のようにリストします:</simpara>
        <screen>deb http://ftp.us.debian.org/debian/ testing main contrib non-free
deb http://ftp.us.debian.org/debian/ unstable main contrib non-free
deb http://security.debian.org/ testing/updates main contrib</screen>
        <simpara>"<literal>/etc/apt/preferences</literal>"を次のように設定する:</simpara>
        <screen>Package: *
Pin: release a=testing
Pin-Priority: 500

Package: *
Pin: release a=unstable
Pin-Priority: 200</screen>
        <simpara>"<literal>&lt;package-name&gt;</literal>"という名前のパッケージとその依存ファイルを<literal>unstable</literal>アーカイブからこの設定の下でインストールしたい場合、"<literal>-t</literal>"オプションを使ってターゲットリリースを切り替える(<literal>unstable</literal>のPin-Priorityが990になる)以下のコマンドを実行します:</simpara>
        <screen>$ sudo apt-get install -t unstable &lt;package-name&gt;</screen>
        <simpara>この設定では、通常の"<literal>apt-get upgrade</literal>"や"<literal>apt-get
dist-upgrade</literal>"
(もしくは<literal>squeeze</literal>の場合、"<literal>aptitude
safe-upgrade</literal>"や"<literal>aptitude
full-upgrade</literal>")の実行は、<literal>testing</literal>アーカイブからインストールされたパッケージは最新の<literal>testing</literal>アーカイブを使ってアップグレードし、<literal>unstable</literal>アーカイブからインストールされたパッケージは最新の<literal>unstable</literal>アーカイブを使ってアップグレードします。</simpara>
        <caution>
          <simpara>"<literal>/etc/apt/sources.list</literal>"ファイルから"<literal>testing</literal>"の項目を削除しないように注意しましょう。"<literal>testing</literal>"項目がその中にないと、APTシステムは最新の<literal>unstable</literal>アーカイブを使ってアップグレードしようとします。</simpara>
        </caution>
        <tip>
          <simpara>著者は上記操作のすぐ後に"<literal>/etc/apt/sources.list</literal>"ファイルを編集して"<literal>unstable</literal>"アーカイブ項目をコメントアウトします。こうすることで、最新の<literal>unstable</literal>アーカイブによって<literal>unstable</literal>からインストールされたパッケージをアップグレードしなくなりますが，"<literal>/etc/apt/sources.list</literal>"ファイル中に項目が多すぎてアップデートのプロセスが遅くなることをさけられます。</simpara>
        </tip>
        <tip>
          <simpara>もし"<literal>/etc/apt/preferences</literal>"ファイル中で"<literal>Pin-Priority:
200</literal>"の代わりに"<literal>Pin-Priority:
20</literal>"が用いられた場合は、"<literal>/etc/apt/sources.list</literal>"ファイルの中の"<literal>testing</literal>"項目が削除されようと、Pin-Priority値は100のインストール済みパッケージは<literal>unstable</literal>アーカイブによってアップグレードされる事はありません。</simpara>
        </tip>
        <simpara>最初の"<literal>-t
unstable</literal>"によるインストール無しに、<literal>unstable</literal>の特定パッケージを自動的に追跡したい場合、"<literal>/etc/apt/preferences</literal>"ファイルを作りそのトップにこれらパッケージを明示的に以下のようにリストします:</simpara>
        <screen>Package: &lt;package-1&gt;
Pin: release a=unstable
Pin-Priority: 700

Package: &lt;package-2&gt;
Pin: release a=unstable
Pin-Priority: 700

...</screen>
        <simpara>以上で、各特定パッケージに関してPin-Priority値が設定されます。例えば最新の<literal>unstable</literal>バージョンのこの"Debianリファレンス"を英語版で追跡するためには、"<literal>/etc/apt/preferences</literal>"ファイルに次の項目を設定します:</simpara>
        <screen>Package: debian-reference-en
Pin: release a=unstable
Pin-Priority: 700

Package: debian-reference-common
Pin: release a=unstable
Pin-Priority: 700</screen>
        <tip>
          <simpara>このapt-pinningテクニックは<literal>stable</literal>アーカイブを追跡している際にも有効です。著者の経験では、文書パッケージは<literal>unstable</literal>アーカイブからインストールしても今までいつも安全でした。</simpara>
        </tip>
        <simpara>次に<literal>unstable</literal>を追跡しながら<literal>experimental</literal>にある特定の新規アップストリームバージョンのパッケージを取り込む<emphasis
role="strong">apt-pinning</emphasis>テクニックの例を示します。すべての必要なアーカイブを"<literal>/etc/apt/sources.list</literal>"ファイルに次のようにリストします:</simpara>
        <screen>deb http://ftp.us.debian.org/debian/ unstable main contrib non-free
deb http://ftp.us.debian.org/debian/ experimental main contrib non-free
deb http://security.debian.org/ testing/updates main contrib</screen>
        <simpara><literal>experimental</literal>アーカイブのデフォルトのPin-Priority値は、<emphasis
role="strong">NotAutomatic</emphasis>アーカイブ(<xref
linkend="_archive_level_release_files"/>参照)なので、常に1(&lt;&lt;100)です。<literal>experimental</literal>アーカイブにある特定パッケージを次回アップグレード時に自動的に追跡しようとしない限り、"<literal>/etc/apt/preferences</literal>"ファイル中で<literal>experimental</literal>アーカイブを使うためにPin-Priority値を明示的に設定する必要はありません。</simpara>
      </section>
      <section id="_volatile_and_backports_org">
        <title>VolatileとBackports.org</title>
        <simpara><literal>stable</literal>のためのアップグレードパッケージを提供する、<ulink
url="&debianvolatileproject;">debian-volatile project</ulink>と<ulink
url="&backportsorg;">backports.org</ulink>アーカイブがあります。</simpara>
        <warning>
          <simpara><literal>&codename-stable;-backports</literal>や<literal>volatile-sloppy</literal>等の<emphasis
role="strong">NotAutomatic</emphasis>アーカイブの中にあるパッケージ全てを使ってはいけません。あなたの必要性に適合する選択されたパッケージだけを使いましょう。</simpara>
        </warning>
        <caution>
          <simpara><ulink
url="&backportsorg;">backports.org</ulink>は、提供しているパッケージがDebian開発者によってサインされているとはいえ、非Debianアーカイブです。</simpara>
        </caution>
        <caution>
          <simpara>アーカイブレベルのReleaseファイル(<xref
linkend="_archive_level_release_files"/>参照)が<literal>apt_preferences</literal>(5)のルールで使われます。だから<ulink
url="&volatiledebianarchives;">volatile
Debianアーカイブ</ulink>ではapt-pinningは"コード"名を使って機能します。これは他のDebianアーカイブと異なります。例えばvolatile
Debianアーカイブのための"<literal>/etc/apt/preferences</literal>"の中で、"<literal>Pin:
release a=&codename-stable;</literal>"とできますが、"<literal>Pin: release
a=stable</literal>"とはできません。</simpara>
        </caution>
        <simpara>次に<literal>&codename-stable;</literal>と<literal>volatile</literal>を追跡しながら<literal>&codename-stable;-backports</literal>にある特定の新規アップストリームバージョンのパッケージを取り込む<emphasis
role="strong">apt-pinning</emphasis>テクニックの例を示します。すべての必要なアーカイブを"/etc/apt/sources.list"ファイルに次のようにリストします:</simpara>
        <screen>deb http://ftp.us.debian.org/debian/ &codename-stable; main contrib non-free
deb http://security.debian.org/ &codename-stable;/updates main contrib
deb http://volatile.debian.org/debian-volatile/ &codename-stable;/volatile main contrib non-free
deb http://volatile.debian.org/debian-volatile/ &codename-stable;/volatile-sloppy main contrib non-free
deb http://backports.org/debian/ &codename-stable;-backports main contrib non-free</screen>
        <simpara><ulink
url="&backportsorg;">backports.org</ulink>と<literal>volatile-sloppy</literal>アーカイブのデフォルトのPin-Priority値は、<emphasis
role="strong">NotAutomatic</emphasis>アーカイブ(<xref
linkend="_archive_level_release_files"/>参照)なので、常に1(&lt;&lt;100)です。<literal>experimental</literal>アーカイブにある特定パッケージを次回アップグレード時に自動的に追跡しようとしない限り、"<literal>/etc/apt/preferences</literal>"ファイル中で<ulink
url="&backportsorg;">backports.org</ulink>と<literal>volatile-sloppy</literal>アーカイブを使うためにPin-Priority値を明示的に設定する必要はありません。</simpara>
        <simpara>So whenever you wish to install a package named
"<literal>&lt;package-name&gt;</literal>" with its dependency from
<literal>&codename-stable;-backports</literal> archive, you use following
command while switching target release with "<literal>-t</literal>" option:</simpara>
        <screen>$ sudo apt-get install -t &codename-stable;-backports &lt;package-name&gt;</screen>
        <simpara>If you wish to upgrade particular packages, you must create the
"<literal>/etc/apt/preferences</literal>" file and explicitly lists all
packages in it as:</simpara>
        <screen>Package: &lt;package-1&gt;
Pin: release o=Backports.org archive
Pin-Priority: 700

Package: &lt;package-2&gt;
Pin: release o=volatile.debian.org
Pin-Priority: 700

...</screen>
        <simpara>また、"<literal>/etc/apt/preferences</literal>"ファイルを次のようにしてもよい:</simpara>
        <screen>Package: *
Pin: release a=stable , o=Debian
Pin-Priority: 500

Package: *
Pin: release a=&codename-stable;, o=volatile.debian.org
Pin-Priority: 500

Package: *
Pin: release a=&codename-stable;-backports, o=Backports.org archive
Pin-Priority: 200

Package: *
Pin: release a=&codename-stable;-sloppy, o=volatile.debian.org
Pin-Priority: 200</screen>
        <simpara>execution of "<literal>apt-get upgrade</literal>" and "<literal>apt-get
dist-upgrade</literal>" (or "<literal>aptitude safe-upgrade</literal>" and
"<literal>aptitude full-upgrade</literal>" for <literal>squeeze</literal>)
will upgrade packages which were installed from <literal>stable</literal>
archive using current <literal>stable</literal> archive and packages which
were installed from other archives using current corresponding archive for
all archives in the "<literal>/etc/apt/sources.list</literal>" file.</simpara>
      </section>
      <section id="_automatic_download_and_upgrade_of_packages">
        <title>パッケージの自動ダウンロードとアップグレード</title>
        <simpara>The <literal>apt</literal> package comes with its own cron script
"<literal>/etc/cron.daily/apt</literal>" to support the automatic download
of packages.  This script can be enhanced to perform the automatic upgrade
of packages by installing the <literal>unattended-upgrades</literal>
package. These can be customized by parameters in
"<literal>/etc/apt/apt.conf.d/02backup</literal>" and
"<literal>/etc/apt/apt.conf.d/50unattended-upgrades</literal>" as described
in "<literal>/usr/share/doc/unattended-upgrades/README</literal>".</simpara>
        <simpara>The <literal>unattended-upgrades</literal> package is mainly intended for
the security upgrade for the <literal>stable</literal> system.  If the risk
of breaking an existing <literal>stable</literal> system by the automatic
upgrade is smaller than that of the system broken by the intruder using its
security hole which has been closed by the security update, you should
consider using this automatic upgrade with configuration parameters:</simpara>
        <screen>APT::Periodic::Update-Package-Lists "1";
APT::Periodic::Download-Upgradeable-Packages "1";
APT::Periodic::Unattended-Upgrade "1";</screen>
        <simpara>If you are running an <literal>unstable</literal> system, you do not want to
use the automatic upgrade since it will certainly break system some day.
Even for such <literal>unstable</literal> case, you may still want to
download packages in advance to save time for the interactive upgrade with
configuration parameters:</simpara>
        <screen>APT::Periodic::Update-Package-Lists "1";
APT::Periodic::Download-Upgradeable-Packages "1";
APT::Periodic::Unattended-Upgrade "0";</screen>
      </section>
      <section id="_limit_download_bandwidth_for_apt">
        <title>Limit download bandwidth for APT</title>
        <simpara>If you want to limit the download bandwidth for APT to e.g. 800Kib/sec
(=100kiB/sec), you should configure APT with its configuration parameter
with:</simpara>
        <screen>APT::Acquire::http::Dl-Limit "800";</screen>
      </section>
      <section id="_emergency_downgrading">
        <title>Emergency downgrading</title>
        <caution>
          <simpara>Downgrading is not officially supported by the Debian by design.  It should
be done only as a part of emergency recovery process.  Despite of this
situation, it is known to work well in many incidents.  For critical
systems, You should backup all important data on the system after the
recovery operation and re-install the new system from the scratch.</simpara>
        </caution>
        <simpara>You may be lucky to downgrade from newer archive to older archive to recover
from broken system upgrade by manipulating <emphasis role="strong">candidate
version</emphasis> (see <xref linkend="_tweaking_candidate_version"/>).
This is lazy alternative to tedious actions of many "<literal>dpkg -i
&lt;broken-package&gt;_&lt;old-version&gt;.deb</literal>" commands (see
<xref linkend="_rescue_using_the_dpkg_command"/>).</simpara>
        <simpara>For downgrading system tracking <literal>unstable</literal> to
<literal>testing</literal>, change the
"<literal>/etc/apt/sources.list</literal>" file from:</simpara>
        <screen>deb http://ftp.us.debian.org/debian/ &codename-unstable; main contrib non-free</screen>
        <simpara>to:</simpara>
        <screen>deb http://ftp.us.debian.org/debian/ &codename-testing; main contrib</screen>
        <simpara>"<literal>/etc/apt/preferences</literal>"を次のように設定する:</simpara>
        <screen>Package: *
Pin: release a=testing
Pin-Priority: 1010</screen>
        <simpara>Then run "<literal>apt-get dist-upgrade</literal>" to force downgrading of
packages across the system. You should remove this special
"<literal>/etc/apt/preferences</literal>" file after the downgrading.</simpara>
        <tip>
          <simpara>It is good idea to remove (not purge!) as much packages to minimize
dependency problems.  You may need to manually remove and installsome
packages to get system downgraded.  Linux kernel, bootloader, udev, PAM,
APT, and networking related packages and their configuration files require
special attention.</simpara>
        </tip>
      </section>
      <section id="_who_uploaded_the_package">
        <title>Who uploaded the package?</title>
        <simpara>Although the maintainer name listed in
"<literal>/var/lib/dpkg/available</literal>" and
"<literal>/usr/share/doc/package_name/changelog</literal>" provide some
information on "who is behind the packaging activity", the actual uploader
of the package is somewhat obscure.  <literal>who-uploads</literal>(1) in
the <literal>devscripts</literal> package identifies the actual uploader of
Debian source packages.</simpara>
      </section>
      <section id="_the_equivs_package">
        <title>equivsパッケージ</title>
        <simpara>If you are to compile a program from source to replace the Debian package,
it is best to make it into a real local debianized package
(<literal>*.deb</literal>) and use private archive.</simpara>
        <simpara>If you chose to compile a program from source and to install them under
"<literal>/usr/local</literal>" instead, you may need to use
<literal>equivs</literal> as a last resort to satisfy the missing package
dependency.</simpara>
        <screen>Package: equivs
Priority: extra
Section: admin
Description: Circumventing Debian package dependencies
 This is a dummy package which can be used to create Debian
 packages, which only contain dependency information.</screen>
      </section>
      <section id="_port_a_package_to_the_stable_system">
        <title>安定版システムへのパッケージ移植</title>
        <simpara>For partial upgrades of the <literal>stable</literal> system, rebuilding a
package within its environment using the source package is desirable.  This
avoids massive package upgrades due to their dependencies.  First, add the
following entries to the "<literal>/etc/apt/sources.list</literal>" of a
<literal>stable</literal> system:</simpara>
        <screen>deb-src http://http.us.debian.org/debian unstable  main contrib non-free</screen>
        <simpara>Then get the required packages and the source to be downloaded and compiled
by:</simpara>
        <screen># apt-get update
# apt-get dist-upgrade
# apt-get install fakeroot devscripts build-essential
$ apt-get build-dep foo
$ apt-get source foo
$ cd foo*</screen>
        <itemizedlist>
          <listitem>
            <simpara>
adjust package if needed.
</simpara>
          </listitem>
        </itemizedlist>
        <screen>$ dch -i</screen>
        <itemizedlist>
          <listitem>
            <simpara>
bump package version, e.g. one appended with "<literal>+bp1</literal>".
</simpara>
          </listitem>
        </itemizedlist>
        <screen>$ debuild
$ cd ..
# debi foo*.changes</screen>
      </section>
      <section id="_proxy_server_for_apt">
        <title>Proxy server for APT</title>
        <simpara>Since mirroring whole subsection of Debian archive wastes disk space and
network bandwidth, deployment of a local proxy server for APT is desirable
consideration when you administer many systems on <ulink
url="&lan;">LAN</ulink>.  APT can be configure to use generic web (http)
proxy servers such as <literal>squid</literal> (see <xref
linkend="_other_network_application_servers"/>) as described in
<literal>apt.conf</literal>(5) and in
"<literal>/usr/share/doc/apt/examples/configure-index.gz</literal>".  The
"<literal>$http_proxy</literal>" environment variable can be used to
override proxy server setting in the "<literal>/etc/apt/apt.conf</literal>"
file.</simpara>
        <simpara>There are proxy tools specially for Debian archive.  You should check BTS
before using them.</simpara>
        <table id="listoftheproxytofordebianarchive" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of the proxy tools specially for Debian archive</title>
          <tgroup cols="4">
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="288" align="left"/>
            <thead>
              <row>
                <entry>
    パッケージ
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    サイズ
    </entry>
                <entry>
    説明
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/approx">
<literal>approx</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/approx">&pop-approx;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/a/approx.html">&size-approx;</ulink></entry>
                <entry>
    caching proxy server for Debian archive files (compiled <ulink
url="&ocaml;">OCaml</ulink> program)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/apt-proxy">
<literal>apt-proxy</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/apt-proxy">&pop-aptproxy;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/a/apt-proxy.html">&size-aptproxy;</ulink></entry>
                <entry>
    Debian archive proxy and partial mirror builder (Python program)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/apt-cacher">
<literal>apt-cacher</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/apt-cacher">&pop-aptcacher;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/a/apt-cacher.html">&size-aptcacher;</ulink></entry>
                <entry>
    Caching proxy for Debian package and source files (Perl program)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/apt-cacher-ng">
<literal>apt-cacher-ng</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/apt-cacher-ng">&pop-aptcacherng;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/a/apt-cacher-ng.html">&size-aptcacherng;</ulink></entry>
                <entry>
    aching proxy for distribution of software packages (compiled C++ program)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/debtorrent">
<literal>debtorrent</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/debtorrent">&pop-debtorrent;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/d/debtorrent.html">&size-debtorrent;</ulink></entry>
                <entry>
    bittorrent proxy for downloading Debian packages (Python program)
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <caution>
          <simpara>When Debian reorganizes its archive structure, these specialized proxy tools
tend to require code rewrites by the package maintainer and may not be
functional for a while.  On the other hand, generic web (http) proxy servers
are more robust and easier to cope with such changes.</simpara>
        </caution>
      </section>
      <section id="_small_public_package_archive">
        <title>Small public package archive</title>
        <simpara>Here is an example for creating a small public package archive compatible
with the modern <emphasis role="strong">secure APT</emphasis> system (see
<xref linkend="_top_level_release_file_and_authenticity"/>). Let's assume
few things:</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
Account name: "<literal>foo</literal>"
</simpara>
          </listitem>
          <listitem>
            <simpara>
Host name: "<literal>www.example.com</literal>"
</simpara>
          </listitem>
          <listitem>
            <simpara>
Required packages: <literal>apt-utils</literal>, <literal>gnupg</literal>,
and other packages.
</simpara>
          </listitem>
          <listitem>
            <simpara>
URL: "<literal>http://www.example.com/~foo/</literal>" displays
"<literal>/home/foo/public_html/index.html</literal>"
</simpara>
          </listitem>
          <listitem>
            <simpara>
Architecture of packages: "<literal>amd64</literal>"
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>One time setup of APT archive on your server system:</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
Create an archive key of Foo Bar on server system:
</simpara>
          </listitem>
        </itemizedlist>
        <screen>$ ssh foo@www.example.com
$ gpg --gen-key
...
$ gpg -K
...
sec   1024D/3A3CB5A6 2008-08-14
uid                  Foo Bar (ARCHIVE KEY) &lt;foo@www.example.com&gt;
ssb   2048g/6856F4A7 2008-08-14
$ gpg --export -a 3A3CB5A6 &gt;foo.public.key</screen>
        <itemizedlist>
          <listitem>
            <simpara>
The archive key of Foo is "<literal>3A3CB5A6</literal>"
</simpara>
          </listitem>
          <listitem>
            <simpara>
Publish "<literal>foo.public.key</literal>" file.
</simpara>
          </listitem>
          <listitem>
            <simpara>
Create an archive tree called "Origin: Foo":
</simpara>
          </listitem>
        </itemizedlist>
        <screen>$ umask 022
$ mkdir -p ~/public_html/debian/pool/main
$ mkdir -p ~/public_html/debian/dists/unstable/main/binary-amd64
$ mkdir -p ~/public_html/debian/dists/unstable/main/source
$ cd ~/public_html/debian
$ cat &gt; dists/unstable/main/binary-amd64/Release &lt;&lt; EOF
Archive: unstable
Version: 4.0
Component: main
Origin: Foo
Label: Foo
Architecture: amd64
EOF
$ cat &gt; dists/unstable/main/source/Release &lt;&lt; EOF
Archive: unstable
Version: 4.0
Component: main
Origin: Foo
Label: Foo
Architecture: source
EOF
$ cat &gt;aptftp.conf &lt;&lt;EOF
APT::FTPArchive::Release {
  Origin "Foo";
  Label "Foo";
  Suite "unstable";
  Codename "sid";
  Architectures "amd64";
  Components "main";
  Description "Public archive for Foo";
};
EOF
$ cat &gt;aptgenerate.conf &lt;&lt;EOF
Dir::ArchiveDir ".";
Dir::CacheDir ".";
TreeDefault::Directory "pool/";
TreeDefault::SrcDirectory "pool/";
Default::Packages::Extensions ".deb";
Default::Packages::Compress ". gzip bzip2";
Default::Sources::Compress "gzip bzip2";
Default::Contents::Compress "gzip bzip2";

BinDirectory "dists/unstable/main/binary-amd64" {
  Packages "dists/unstable/main/binary-amd64/Packages";
  Contents "dists/unstable/Contents-amd64";
  SrcPackages "dists/unstable/main/source/Sources";
};

Tree "dists/unstable" {
  Sections "main";
  Architectures "amd64 source";
};
EOF</screen>
        <simpara>Repetitive update of APT archive contents on your server system:</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
Place all package files into
"<literal>~foo/public_html/debian/pool/main/</literal>" by executing
"<literal>dupload -t foo changes_file</literal>" in client while having
"<literal>~/.dupload.conf</literal>" containing:
</simpara>
          </listitem>
        </itemizedlist>
        <screen>$cfg{'foo'} = {
  fqdn =&gt; "www.example.com",
  method =&gt; "scpb",
  incoming =&gt; "/home/foo/public_html/debian/pool/main",
  # The dinstall on ftp-master sends emails itself
  dinstall_runs =&gt; 1,
};

$cfg{'foo'}{postupload}{'changes'} = "
  echo 'cd public_html/debian ;
  apt-ftparchive generate -c=aptftp.conf aptgenerate.conf;
  apt-ftparchive release -c=aptftp.conf dists/unstable &gt;dists/unstable/Release ;
  rm -f dists/unstable/Release.gpg ;
  gpg -u 3A3CB5A6 -bao dists/unstable/Release.gpg dists/unstable/Release'|
  ssh foo@www.example.com  2&gt;/dev/null ;
  echo 'Package archive created!'";</screen>
        <simpara>The <emphasis role="strong">postupload</emphasis> hook script initiated by
<literal>dupload</literal>(1) creates updated archive files for each upload.</simpara>
        <simpara>You can add this small public archive to the apt-line of your client system:</simpara>
        <screen>$ sudo bash
# echo "deb http://www.example.com/~foo/debian/ unstable main" \
   &gt;&gt; /etc/apt/sources.list
# apt-key add foo.public.key</screen>
        <tip>
          <simpara>If the archive is located on the local file system, you can use
"<literal>deb file:///home/foo/debian/ …</literal>" instead.</simpara>
        </tip>
      </section>
      <section id="_record_copy_system_configuration">
        <title>システム設定の記録/コピー</title>
        <simpara>To make a local copy of the package and debconf selection states:</simpara>
        <screen># dpkg --get-selections '*' &gt; selection.dpkg
# debconf-get-selections    &gt; selection.debconf</screen>
        <simpara>Here, "<literal>*</literal>" makes "<literal>selection.dpkg</literal>" to
include package entries for "purge" too.</simpara>
        <simpara>You can transfer these 2 files to another computer, and install there with:</simpara>
        <screen># dselect update
# debconf-set-selections &lt; myselection.debconf
# dpkg --set-selections  &lt; myselection.dpkg
# apt-get -u dselect-upgrade    # or dselect install</screen>
        <simpara>If you are thinking about managing many servers in a cluster with
practically the same configuration, you should consider to use specialized
package such as <literal>fai</literal> to manage the whole system.</simpara>
      </section>
      <section id="_convert_or_install_an_alien_binary_package">
        <title>Convert or install an alien binary package</title>
        <simpara><literal>alien</literal>(1) enables the conversion of binary packages
provided in Red Hat <literal>rpm</literal>, Stampede <literal>slp</literal>,
Slackware <literal>tgz</literal>, and Solaris <literal>pkg</literal> file
formats into a Debian <literal>deb</literal> package.  If you want to use a
package from another Linux distribution than the one you have installed on
your system, you can use <literal>alien</literal> to convert it to your
preferred package format and install it.  <literal>alien</literal> also
supports LSB packages.</simpara>
        <simpara>The original package needs to be statically linked or its library dependency
needs to be satisfied manually.  So use this command with great care.</simpara>
      </section>
      <section id="_extract_package_without_dpkg">
        <title>Extract package without dpkg</title>
        <simpara>The current "<literal>*.deb</literal>" package contents can be extracted
without using <literal>dpkg</literal>(1) on any <ulink
url="&unixlike;">Unix-like</ulink> environment using standard
<literal>ar</literal>(1) and <literal>tar</literal>(1).</simpara>
        <screen># ar x /path/to/dpkg_&lt;version&gt;_&lt;arch&gt;.deb
# ls
total 24
-rw-r--r-- 1 bozo bozo  1320 2007-05-07 00:11 control.tar.gz
-rw-r--r-- 1 bozo bozo 12837 2007-05-07 00:11 data.tar.gz
-rw-r--r-- 1 bozo bozo     4 2007-05-07 00:11 debian-binary
# mkdir control
# mkdir data
# tar xvzf control.tar.gz -C control
# tar xvzf data.tar.gz -C data</screen>
        <simpara>You can also browse package content using the <literal>mc</literal> command.</simpara>
      </section>
      <section id="_more_readings_for_the_package_management">
        <title>パッケージ管理の追加参考文書</title>
        <simpara>以下を参照:</simpara>
        <itemizedlist>
          <listitem>
            <simpara><literal>aptitude</literal>(8), <literal>dpkg</literal>(1),
<literal>tasksel</literal>(8), <literal>apt-get</literal>(8),
<literal>apt-config</literal>(8), <literal>apt-key</literal>(8),
<literal>sources.list</literal>(5), <literal>apt.conf</literal>(5), and
<literal>apt_preferences</literal>(5);
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>/usr/share/doc/apt-doc/guide.html/index.html</literal>" and
"<literal>/usr/share/doc/apt-doc/offline.html/index.html</literal>" from the
<literal>apt-doc</literal> package; and
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>/usr/share/doc/aptitude/html/en/index.html</literal>" from the
<literal>aptitude-doc-en</literal> package.
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>The official and detailed secondary information on the Debian archive are
given by:</simpara>
        <itemizedlist>
          <listitem>
            <simpara>Debianアーカイブの正式のポリシーは<ulink
url="&debianpolicymanuthedebianarchive;">Debianポリシーマニュアル、第2章 -
Debianアーカイブ</ulink>に規定されています。
</simpara>
          </listitem>
          <listitem>
            <simpara><ulink url="&debiandevelopersthedebianarchive;">"Debian 開発者リファレンス、第4章 Debian
開発者が利用可能なリソース 4.6 Debian アーカイブ"</ulink>と、
</simpara>
          </listitem>
          <listitem>
            <simpara><ulink url="&thedebiangnulinuebianftparchives;">"The Debian GNU/Linux FAQ,
Chapter 5 - The Debian FTP archives"</ulink>.
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>The tutorial for building of a Debian package for the common Debian user is
given by:</simpara>
        <itemizedlist>
          <listitem>
            <simpara><ulink url="&debiannewmaintainersguide;">"Debian New Maintainers'
Guide"</ulink>.
</simpara>
          </listitem>
        </itemizedlist>
      </section>
    </section>
  </chapter>
  <chapter id="_the_system_initialization">
    <title>The system initialization</title>
    <simpara>It is wise for you as the system administrator to know roughly how the
Debian system is started and configured.  Although the exact details are in
the source files of the packages installed and their documentations, it is a
bit overwhelming for most of us.</simpara>
    <simpara>I did my best to provide a quick overview of the key points of the Debian
system and their configuration for your reference, based on the current and
previous knowledge of mine and others. Since the Debian system is a moving
target, the situation over the system may have been changed.  Before making
any changes to the system, you should refer to the latest documentation for
each package.</simpara>
    <section id="_an_overview_of_the_boot_strap_process">
      <title>An overview of the boot strap process</title>
      <simpara>The computer system undergoes several phases of <ulink
url="&bootstrapprocesses;">boot strap processes</ulink> from the power-on
event until it offers the fully functional operating system (OS) to the
user.</simpara>
      <simpara>For simplicity, I will limit discussion to the typical PC platform with the
default installation.</simpara>
      <simpara>The typical boot strap process is like a four-stage rocket.  Each stage
rocket hands over the system control to the next stage one.  Here each stage
corresponds to:</simpara>
      <itemizedlist>
        <listitem>
          <simpara>
Stage 1: the BIOS
</simpara>
        </listitem>
        <listitem>
          <simpara>
Stage 2: the boot loader
</simpara>
        </listitem>
        <listitem>
          <simpara>
Stage 3, the mini-Debian system
</simpara>
        </listitem>
        <listitem>
          <simpara>
Stage 4: the normal Debian system
</simpara>
        </listitem>
      </itemizedlist>
      <simpara>Of course, these can be configured differently.  For example, if you
compiled your own kernel, you may be skipping the step with the mini-Debian
system.  So please do not assume this is the case for your system until you
check it yourself.</simpara>
      <note>
        <simpara>For non-legacy PC platform such as the SUN or the Macintosh system, the BIOS
on ROM and the partition on the disk may be quite different (<xref
linkend="_partition_configuration"/>).  Please seek the platform specific
documentations elsewhere for such a case.</simpara>
      </note>
    </section>
    <section id="_stage_1_the_bios">
      <title>Stage 1: the BIOS</title>
      <simpara>The <ulink url="&bios;">BIOS</ulink> is the 1st stage of the boot process
which is started by the power-on event. The <ulink url="&bios;">BIOS</ulink>
resides on the <ulink url="&readonlymemoryrom;">read only memory
(ROM)</ulink> from the particular memory address to which the program
counter of CPU is initialized by the power-on event.</simpara>
      <simpara>This BIOS performs the basic initialization of the hardware (<ulink
url="&postpoweronselftest;">POST: power on self test</ulink>) and hands the
system control to the next step which you provide.  The BIOS is usually
provided with the hardware.</simpara>
      <simpara>The BIOS startup screen usually indicates what key(s) to press to enter the
BIOS setup screen to configure the BIOS behavior. Popular keys used are F1,
F2, F10, Esc, Ins, and Del. If your BIOS startup screen is hidden by a nice
graphics screen, you may press some keys such as Esc to disable this.  These
keys are highly dependent on the hardware.</simpara>
      <simpara>The hardware location and the priority of the code started by the BIOS can
be selected from the BIOS setup screen.  Typically, the first few sectors of
the first found selected device (hard disk, floppy disk, CD-ROM, …) are
loaded to the memory and this initial code is executed.  This initial code
can be:</simpara>
      <itemizedlist>
        <listitem>
          <simpara>
the boot loader code,
</simpara>
        </listitem>
        <listitem>
          <simpara>
the kernel code of the stepping stone OS such as <ulink
url="&freedos;">FreeDOS</ulink>, or
</simpara>
        </listitem>
        <listitem>
          <simpara>
the kernel code of the target OS if it fits in this small space.
</simpara>
        </listitem>
      </itemizedlist>
      <simpara>Typically, the system is booted from the specified partition of the primary
hard disk partition. The first sector of the hard disk contain the <ulink
url="&masterbootrecordmbr;">master boot record (MBR)</ulink>.  The disk
partition information including the boot selection is recorded at the end of
this MBR. The first boot loader code executed from the BIOS for the hard
disk occupies the rest of this MBR.</simpara>
    </section>
    <section id="_stage_2_the_boot_loader">
      <title>Stage 2: the boot loader</title>
      <simpara>The <ulink url="&bootloader;">boot loader</ulink> is the 2nd stage of the
boot process which is started by the BIOS.  It loads the system kernel image
and the <ulink url="&initrd;">initrd</ulink> image to the memory and hands
control over to them.  This initrd image is the root filesystem image and
its support depends on the bootloader used.</simpara>
      <simpara>The Debian system normally uses the Linux kernel as the default system
kernel. The initrd image for the current 2.6 Linux kernel is technically the
initramfs (initial RAM filesystem) image. The initramfs image is a gzipped
cpio archive of files in the root filesystem.</simpara>
      <simpara>The default install of the Debian system places first-stage GRUB boot loader
code into the <ulink url="&mbr;">MBR</ulink> for the PC platform. There are
many boot loaders and configuration options available.</simpara>
      <table id="listofbootloaders" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>ブートローダーのリスト</title>
        <tgroup cols="6">
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="144" align="left"/>
          <thead>
            <row>
              <entry>
    ブートローダー
    </entry>
              <entry>
    パッケージ
    </entry>
              <entry>
    popcon
    </entry>
              <entry>
    サイズ
    </entry>
              <entry>
    initrd
    </entry>
              <entry>
    説明
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry>
                <ulink url="&grublegacy;">GRUB Legacy</ulink>
              </entry>
              <entry><ulink url="http://packages.debian.org/sid/grub"> grub </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/grub">&pop-grub;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/g/grub.html">&size-grub;</ulink></entry>
              <entry>
    サポート
    </entry>
              <entry>
    This is smart enough to understand disk partitions and file systems such as
vfat, ext3, …. (<literal>lenny</literal> default)
    </entry>
            </row>
            <row>
              <entry>
                <ulink url="&grubc;">GRUB 2</ulink>
              </entry>
              <entry><ulink url="http://packages.debian.org/sid/grub-pc"> grub-pc </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/grub-pc">&pop-grubpc;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/g/grub-pc.html">&size-grubpc;</ulink></entry>
              <entry>
    サポート
    </entry>
              <entry>
    This is smart enough to understand disk partitions and file systems such as
vfat, ext3, ….
    </entry>
            </row>
            <row>
              <entry>
                <ulink url="&grubc;">GRUB 2</ulink>
              </entry>
              <entry><ulink url="http://packages.debian.org/sid/grub-rescue-pc"> grub-rescue-pc
</ulink></entry>
              <entry><ulink
url="http://bugs.debian.org/grub-rescue-pc">&pop-grubrescuepc;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/g/grub-rescue-pc.html">&size-grubrescuepc;</ulink></entry>
              <entry>
    サポート
    </entry>
              <entry>
    This is GRUB 2 bootable rescue images (CD and floppy) (PC/BIOS version)
    </entry>
            </row>
            <row>
              <entry>
                <ulink url="&lilo;">Lilo</ulink>
              </entry>
              <entry><ulink url="http://packages.debian.org/sid/lilo"> lilo </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/lilo">&pop-lilo;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/l/lilo.html">&size-lilo;</ulink></entry>
              <entry>
    サポート
    </entry>
              <entry>
    This relies on the sector locations of data on the hard disk. (Old)
    </entry>
            </row>
            <row>
              <entry>
                <ulink url="&isolinux;">Isolinux</ulink>
              </entry>
              <entry><ulink url="http://packages.debian.org/sid/syslinux"> syslinux </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/syslinux">&pop-syslinux;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/s/syslinux.html">&size-syslinux;</ulink></entry>
              <entry>
    サポート
    </entry>
              <entry>
    This understands the ISO9660 file system.  This is used by the boot CD.
    </entry>
            </row>
            <row>
              <entry>
                <ulink url="&syslinux;">Syslinux</ulink>
              </entry>
              <entry><ulink url="http://packages.debian.org/sid/syslinux"> syslinux </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/syslinux">&pop-syslinux;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/s/syslinux.html">&size-syslinux;</ulink></entry>
              <entry>
    サポート
    </entry>
              <entry>
    This understands the <ulink url="&msdosfilesystemfat;">MSDOS file system
(FAT)</ulink>.  This is used by the boot floppy.
    </entry>
            </row>
            <row>
              <entry>
                <ulink url="&loadlin;">Loadlin</ulink>
              </entry>
              <entry><ulink url="http://packages.debian.org/sid/loadlin"> loadlin </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/loadlin">&pop-loadlin;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/l/loadlin.html">&size-loadlin;</ulink></entry>
              <entry>
    サポート
    </entry>
              <entry>
    New system is started from the FreeDOS/MSDOS system.
    </entry>
            </row>
            <row>
              <entry>
                <ulink url="&neilturtonsmbr;">Neil TurtonのMBR</ulink>
              </entry>
              <entry><ulink url="http://packages.debian.org/sid/mbr"> mbr </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/mbr">&pop-mbr;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/m/mbr.html">&size-mbr;</ulink></entry>
              <entry>
    非サポート
    </entry>
              <entry>
    This is free software which substitutes MSDOS <ulink
url="&mbr;">MBR</ulink>.  This only understands disk partitions.
    </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <warning>
        <simpara>Do not play with boot loaders without having bootable rescue media (CD or
floppy) created from images in the <literal>grub-rescue-pc</literal>
package.  It will let you boot your system even without functioning
bootloader on the harddisk.</simpara>
      </warning>
      <simpara>For GRUB Legacy, the menu configuration file is located at
"<literal>/boot/grub/menu.lst</literal>".  For example, it has entries like:</simpara>
      <screen>title           Debian GNU/Linux
root            (hd0,2)
kernel          /vmlinuz root=/dev/hda3 ro
initrd          /initrd.img</screen>
      <simpara>For GRUB 2, the menu configuration file is located at
"<literal>/boot/grub/grub.cfg</literal>". It is automatically generated by
"<literal>/usr/sbin/update-grub</literal>" using templates from
"<literal>/etc/grub.d/*</literal>" and settings from
"<literal>/etc/default/grub</literal>".  For example, it has entries like:</simpara>
      <screen>menuentry "Debian GNU/Linux" {
        set root=(hd0,3)
        linux /vmlinuz root=/dev/hda3
        initrd /initrd.img
}</screen>
      <simpara>For these examples, these GRUB parameters mean:</simpara>
      <table id="themeaningofgrubparameters" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>The meaning of GRUB parameters.</title>
        <tgroup cols="2">
          <colspec colwidth="144" align="left"/>
          <colspec colwidth="360" align="left"/>
          <thead>
            <row>
              <entry>
    GRUB parameter
    </entry>
              <entry>
    意味
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry>
                <literal>root</literal>
              </entry>
              <entry>
    Use 3rd partition on boot disk by setting it as "<literal>(hd0,2)</literal>"
in GRUB legacy or as "<literal>(hd0,3)</literal>" in GRUB 2.
    </entry>
            </row>
            <row>
              <entry>
                <literal>kernel</literal>
              </entry>
              <entry>
    Use kernel located at "<literal>/vmlinuz</literal>" with kernel parameter:
"<literal>root=/dev/hda3 ro</literal>".
    </entry>
            </row>
            <row>
              <entry>
                <literal>initrd</literal>
              </entry>
              <entry>
    Use <ulink url="&initrdinitramfs;">initrd/initramfs</ulink> image located at
"<literal>/initrd.img</literal>".
    </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <note>
        <simpara>The value of the partition number used by GRUB legacy program is one less
than normal one used by Linux kernel and utility tools.  GRUB 2 program
fixes this problem.</simpara>
      </note>
      <tip>
        <simpara><ulink url="&uuid;">UUID</ulink> (see <xref
linkend="_accessing_partition_using_uuid"/>) may be used to identify a block
special device instead of its file name such as
"<literal>/dev/hda3</literal>",
e.g."<literal>root=UUID=81b289d5-4341-4003-9602-e254a17ac232 ro</literal>".</simpara>
      </tip>
      <tip>
        <simpara>You can start a boot loader from another boot loader using techniques called
<ulink url="&chainloading;">chain loading</ulink>.</simpara>
      </tip>
      <simpara>See "<literal>info grub</literal>" and <literal>grub-install</literal>(8).</simpara>
    </section>
    <section id="_stage_3_the_mini_debian_system">
      <title>Stage 3: the mini-Debian system</title>
      <simpara>The mini-Debian system is the 3rd stage of the boot process which is started
by the boot loader.  It runs the system kernel with its root filesystem on
the memory. It is an optional preparatory stage of the boot process.</simpara>
      <note>
        <simpara>The term "the mini-Debian system" is coined by the author to describe this
3rd stage boot process for this document.  This system is commonly referred
as the <ulink url="&initrd;">initrd</ulink> or initramfs system. Similar
system on the memory is used by <ulink url="&thedebianinstaller;">the Debian
Installer</ulink>.</simpara>
      </note>
      <simpara>The "<literal>/init</literal>" script is executed as the first program in
this root filesystem on the memory.  It is a shell script program which
initializes the kernel in user space and hands control over to the next
stage. This mini-Debian system offers flexibility to the boot process such
as adding kernel modules before the main boot process or mounting the root
file system as an encrypted one.</simpara>
      <simpara>You can interrupt this part of the boot process to gain root shell by
providing "<literal>break=init</literal>" etc. to the kernel boot
parameter. See the "<literal>/init</literal>" script for more break
conditions.  This shell environment is sophisticated enough to make a good
inspection of your machine's hardware.</simpara>
      <simpara>Commands available in this mini-Debian system are stripped down ones and
mainly provided by a GNU tool called <literal>busybox</literal>(1).</simpara>
      <caution>
        <simpara>You need to use "<literal>-n</literal>" option for <literal>mount</literal>
command when you are on the readonly root file system.</simpara>
      </caution>
    </section>
    <section id="_stage_4_the_normal_debian_system">
      <title>Stage 4: the normal Debian system</title>
      <simpara>The normal Debian system is the 4th stage of the boot process which is
started by the mini-Debian system.  The system kernel for the mini-Debian
system continues to run in this environment. The root filesystem is switched
from the one on the memory to the one on the real harddisk filesystem.</simpara>
      <simpara>The "<literal>/sbin/init</literal>" program is executed as the first program
and performs the main boot process. The Debian normally uses the traditional
sysvinit scheme with the <literal>sysv-rc</literal> package.  See
<literal>init</literal>(8), <literal>inittab</literal>(5), and
"<literal>/usr/share/doc/sysv-rc/README.runlevels.gz</literal>" for the
exact explanation.  Following is a simplified overview of this main boot
process:</simpara>
      <orderedlist>
        <listitem>
          <simpara>
The Debian system goes into <emphasis role="strong">runlevel N</emphasis>
(none) to initialize the system by following the
"<literal>/etc/inittab</literal>" description.
</simpara>
        </listitem>
        <listitem>
          <simpara>
The Debian system goes into <emphasis role="strong">runlevel S</emphasis> to
initialize the system under the single-user mode to complete hardware
initialization etc.
</simpara>
        </listitem>
        <listitem>
          <simpara>
The Debian system switches itself to one of the specified <emphasis
role="strong">multi-user runlevels (2 to 5)</emphasis> to start the system
services.
</simpara>
        </listitem>
      </orderedlist>
      <simpara>The initial runlevel used for multi-user mode is specified with the
"<literal>init=</literal>" kernel boot parameter or in the "initdefault"
line of this "<literal>/etc/inittab</literal>". The Debian system as
installed starts at the <emphasis role="strong">runlevel 2</emphasis>.</simpara>
      <simpara>All scripts executed by the init system are located in the directory
"<literal>/etc/init.d/</literal>".</simpara>
      <tip>
        <simpara>For alternative boot mechanism to the <literal>sysv-rc</literal> package
using a single configuration file "<literal>/etc/runlevel.conf</literal>",
see the <literal>file-rc</literal> package. Both mechanisms are compatible
through "<literal>/etc/init.d/rc</literal>",
"<literal>/etc/init.d/rcS</literal>",
"<literal>/usr/sbin/update-rc.d</literal>", and
"<literal>/usr/sbin/invoke-rc.d</literal>" scripts.</simpara>
      </tip>
      <section id="_the_meaning_of_the_runlevel">
        <title>The meaning of the runlevel</title>
        <simpara>Each <ulink url="&runlevel;">runlevel</ulink> uses a directory for its
configuration and has specific meaning:</simpara>
        <table id="listofrunlevelsandmeanings" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of runlevels and meanings.</title>
          <tgroup cols="3">
            <colspec colwidth="108" align="left"/>
            <colspec colwidth="108" align="left"/>
            <colspec colwidth="288" align="left"/>
            <thead>
              <row>
                <entry>
    runlevel
    </entry>
                <entry>
    ディレクトリ
    </entry>
                <entry>
    意味
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>N</literal>
                </entry>
                <entry>
    none
    </entry>
                <entry>
    System bootup (NONE). There is no "<literal>/etc/rcN.d/</literal>"
directory.
    </entry>
              </row>
              <row>
                <entry>
                  <literal>0</literal>
                </entry>
                <entry>
                  <literal>/etc/rc0.d/</literal>
                </entry>
                <entry>
    システム停止
    </entry>
              </row>
              <row>
                <entry>
                  <literal>S</literal>
                </entry>
                <entry>
                  <literal>/etc/rcS.d/</literal>
                </entry>
                <entry>
    Single-user mode on boot. The lower case "<literal>s</literal>" can be used
as alias.
    </entry>
              </row>
              <row>
                <entry>
                  <literal>1</literal>
                </entry>
                <entry>
                  <literal>/etc/rc1.d/</literal>
                </entry>
                <entry>
    Single-user mode switched from multi-user mode.
    </entry>
              </row>
              <row>
                <entry>
                  <literal>2</literal>
                </entry>
                <entry>
                  <literal>/etc/rc2.d/</literal>
                </entry>
                <entry>
    Multi-user mode.
    </entry>
              </row>
              <row>
                <entry>
                  <literal>3</literal>
                </entry>
                <entry>
                  <literal>/etc/rc3.d/</literal>
                </entry>
                <entry>
    ,,
    </entry>
              </row>
              <row>
                <entry>
                  <literal>4</literal>
                </entry>
                <entry>
                  <literal>/etc/rc4.d/</literal>
                </entry>
                <entry>
    ,,
    </entry>
              </row>
              <row>
                <entry>
                  <literal>5</literal>
                </entry>
                <entry>
                  <literal>/etc/rc5.d/</literal>
                </entry>
                <entry>
    ,,
    </entry>
              </row>
              <row>
                <entry>
                  <literal>6</literal>
                </entry>
                <entry>
                  <literal>/etc/rc6.d/</literal>
                </entry>
                <entry>
    システム再起動。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>7</literal>
                </entry>
                <entry>
                  <literal>/etc/rc7.d/</literal>
                </entry>
                <entry>
    Valid multi-user mode but not normally used.
    </entry>
              </row>
              <row>
                <entry>
                  <literal>8</literal>
                </entry>
                <entry>
                  <literal>/etc/rc8.d/</literal>
                </entry>
                <entry>
    ,,
    </entry>
              </row>
              <row>
                <entry>
                  <literal>9</literal>
                </entry>
                <entry>
                  <literal>/etc/rc9.d/</literal>
                </entry>
                <entry>
    ,,
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>You can change the runlevel from the console to, e.g., 4 by:</simpara>
        <screen>$ sudo telinit 4</screen>
        <caution>
          <simpara><emphasis role="strong">The Debian system does not pre-assign any special
meaning differences among the <ulink url="&runlevels;">runlevels</ulink>
between 2 and 5.</emphasis> The system administrator on the Debian system
may change this.  (I.e., Debian is not <ulink url="&redhatlinux;">Red Hat
Linux</ulink> nor <ulink url="&solarisbysunmicrosystems;">Solaris by Sun
Microsystems</ulink> nor <ulink url="&hpuxbyhewlettpackard;">HP-UX by
Hewlett Packard</ulink> nor <ulink url="&aixbyibm;">AIX by IBM</ulink> nor
…)</simpara>
        </caution>
        <caution>
          <simpara>The Debian system does not populate directories for the <ulink
url="&runlevels;">runlevels</ulink> between 7 and 9 when the package is
installed.  Traditional <ulink url="&unixvariants;">Unix variants</ulink>
don’t use these <ulink url="&runlevels;">runlevels</ulink>.</simpara>
        </caution>
      </section>
      <section id="_the_configuration_of_the_runlevel">
        <title>runlevelの設定</title>
        <simpara>The names of the symlinks in the runlevel directories have the form
"<literal>S&lt;2-digit-number&gt;&lt;original-name&gt;</literal>" or
"<literal>K&lt;2-digit-number&gt;&lt;original-name&gt;</literal>". The
2-digit-number is used to determine the order in which to run the
scripts. "<literal>S</literal>" is for "Start" and "<literal>K</literal>" is
for "Kill".</simpara>
        <simpara>When <literal>init</literal>(8) or <literal>telinit</literal>(8) commands
change the runlevel to "&lt;n&gt;":</simpara>
        <orderedlist>
          <listitem>
            <simpara>
the script names starting with a "<literal>K</literal>" in
"<literal>/etc/rc&lt;n&gt;.d/</literal>" are executed in alphabetical order
with the single argument "<literal>stop</literal>". (killing services)
</simpara>
          </listitem>
          <listitem>
            <simpara>
the script names starting with an "<literal>S</literal>" in
"<literal>/etc/rc&lt;n&gt;.d/</literal>" are executed in alphabetical order
with the single argument "<literal>start</literal>". (starting services)
</simpara>
          </listitem>
        </orderedlist>
        <simpara>For example, if you had the links "<literal>S10sysklogd</literal>" and
"<literal>S20exim4</literal>" in a runlevel directory,
"<literal>S10sysklogd</literal>" would run before
"<literal>S20exim4</literal>".</simpara>
        <warning>
          <simpara>It is not advisable to make any changes to symlinks in
"<literal>/etc/rcS.d/</literal>" unless you know better than the maintainer.</simpara>
        </warning>
      </section>
      <section id="_the_runlevel_management_example">
        <title>The runlevel management example</title>
        <simpara>For example, let's set up runlevel system somewhat like <ulink
url="&redhatlinux;">Red Hat Linux</ulink>, i.e.:</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
to start the system in runlevel=3 as the default,
</simpara>
          </listitem>
          <listitem>
            <simpara>
not to start <literal>gdm</literal>(1) in runlevel=(0,1,2,6), and
</simpara>
          </listitem>
          <listitem>
            <simpara>
to start <literal>gdm</literal>(1) in runlevel=(3,4,5).  The easy way is to
use editor on the "<literal>/etc/inittab</literal>" file to change starting
runlevel and use user friendly runlevel management tools such as
<literal>sysv-rc-conf</literal> or <literal>bum</literal> to edit the
runlevel.  If you are to use command line only, here is how you do it (after
the default installation of the <literal>gdm</literal> package and selecting
it to be the choice of display manager):
</simpara>
          </listitem>
        </itemizedlist>
        <screen># cd /etc/rc2.d ; mv S21gdm K21gdm
# cd /etc ; perl -i -p -e 's/^id:.:/id:3:/' inittab</screen>
        <simpara>Please note the "<literal>/etc/X11/default-display-manager</literal>" file
is checked when starting the display manager daemons:
<literal>xdm</literal>, <literal>gdm</literal>, <literal>kdm</literal>, and
<literal>wdm</literal>.</simpara>
        <note>
          <simpara>You can still start X from any console shell with the
<literal>startx</literal>(1) command.</simpara>
        </note>
      </section>
      <section id="_the_default_parameter_for_each_init_script">
        <title>The default parameter for each init script</title>
        <simpara>The default parameter for each init script in
"<literal>/etc/init.d/</literal>" is given by the corresponding file in
"<literal>/etc/default/</literal>" which contains environment variable
assignments <emphasis role="strong">only</emphasis>. The choice of directory
name is specific to the Debian system.  It is roughly the equivalent of the
"<literal>/etc/sysconfig</literal>" directory found in <ulink
url="&redhatlinux;">Red Hat Linux</ulink> and other distributions.</simpara>
        <simpara>For example, "<literal>/etc/default/hotplug</literal>" can be used to
control how "<literal>/etc/init.d/hotplug</literal>" works.  The
"<literal>/etc/default/rcS</literal>" file can be used to customize
boot-time defaults for <literal>motd</literal>(5),
<literal>sulogin</literal>(8), etc.</simpara>
        <simpara>If you cannot get the behavior you want by changing such variables then you
may <ulink url="&modifytheinitscripts;">modify the init scripts</ulink>
themselves: they are all configuration files.</simpara>
      </section>
      <section id="_the_hostname">
        <title>The hostname</title>
        <simpara>The kernel maintains the system <emphasis
role="strong">hostname</emphasis>.  The initscript
"<literal>/etc/init.d/hostname.sh</literal>" sets the system hostname at
boot time (using the <literal>hostname</literal> command) to the name stored
in "<literal>/etc/hostname</literal>".  This file should contain <emphasis
role="strong">only</emphasis> the system hostname, not a fully qualified
domain name.</simpara>
        <simpara>To print out the current hostname run <literal>hostname</literal>(1) without
an argument.</simpara>
      </section>
      <section id="_network_interface_initialization">
        <title>Network interface initialization</title>
        <simpara>Network interfaces are initialized under single-user mode on boot by the
initscript "<literal>/etc/init.d/ifupdown-clean</literal>" and
"<literal>/etc/init.d/ifupdown</literal>".  See <xref
linkend="_network_setup"/> for how to configure them.</simpara>
      </section>
      <section id="_network_service_initialization">
        <title>Network service initialization</title>
        <simpara>Many network services (see <xref linkend="_network_applications"/>) are
started directly as daemon processes at boot time, e.g.,
"<literal>/etc/rc2.d/S20exim4</literal>" (for RUNLEVEL=2) which is a symlink
to "<literal>/etc/init.d/exim4</literal>".</simpara>
        <simpara>インターネット<emphasis>スーパーサーバー</emphasis><literal>inetd</literal>は、(RUNLEVEL=2の場合)"<literal>/etc/init.d/inetd</literal>"にシムリンクされた"<literal>/etc/rc2.d/S20inetd</literal>"によってブート時に起動されます。RUNLEVEL=2),whichisasymlinkto"<literal>/etc/init.d/inetd</literal>".基本的に、<literal>inetd</literal>は一つの実行デーモンによりいくつかの他のデーモンを起動できるようにすることで、システムのロードを下げます。</simpara>
        <simpara>サービス要求が到達する度に、そのプロトコルとサービスが"<literal>/etc/protocols</literal>"と"<literal>/etc/services</literal>"というデータベースを照覧することで確認されます。さらに<literal>inetd</literal>は、"<literal>/etc/inetd.conf</literal>"の中にある通常のインターネットサービスか、"<literal>/etc/rpc.conf</literal>"の中にある<ulink
url="&sunrpc;">Sun RPC</ulink>準拠サービスを照覧します。</simpara>
        <simpara>システムのセキュリティのために"<literal>/etc/inetd.conf</literal>"にある不使用のサービスは確実にディスエーブルしましょう。NFS他のRPCを使うプログラムためには<ulink
url="&sunrpc;">SunRPC</ulink>サービスはアクティブにする必要があります。</simpara>
        <simpara>時々、<literal>inetd</literal>が対象となるサーバーを直接起動せずに、対象となるサーバーを名を"<literal>/etc/inetd.conf</literal>"中に引数とし記載した<ulink
url="&tcpwrapper;">TCPデーモンラッパー</ulink>プログラム<literal>tcpd</literal>(8)を起動することがあります。</simpara>
        <simpara>もし最近のDebianシステムでリモートアクセスで問題に会った場合には、"<literal>/etc/hosts.deny</literal>"中に"<literal>ALL:PARANOID</literal>"という文言があるならコメントアウトしましょう。</simpara>
        <simpara>詳しいことは、<literal>inetd</literal>(8)と<literal>inetd.conf</literal>(5)と<literal>protocols</literal>(5)と<literal>services</literal>(5)と<literal>tcpd</literal>(8)と<literal>hosts_access</literal>(5)と<literal>hosts_options</literal>(5)を参照。</simpara>
        <simpara>Sun-RPCに関してさらに詳しいことは、<literal>rpcinfo</literal>(8)と<literal>portmap</literal>(8)と"<literal>/usr/share/doc/portmap/portmapper.txt.gz</literal>"を参照。</simpara>
      </section>
      <section id="_the_system_message">
        <title>The system message</title>
        <simpara>The system message can be customized by
"<literal>/etc/syslog.conf</literal>" for both the log file and on-screen
display. See <literal>syslogd</literal>(8) and
<literal>syslog.conf</literal>(5).  See also <xref
linkend="_log_analyzer"/>.</simpara>
      </section>
      <section id="_the_kernel_message">
        <title>カーネルメッセージ</title>
        <simpara>The kernel message can be customized by
"<literal>/etc/init.d/klogd</literal>" for both the log file and on-screen
display.  Set "<literal>KLOGD='-c 3'</literal>" in this script and run
"<literal>/etc/init.d/klogd restart</literal>".  See
<literal>klogd</literal>(8).</simpara>
        <simpara>You may directly change the error message level by:</simpara>
        <screen># dmesg -n3</screen>
        <simpara>ここで:</simpara>
        <table id="listofkernelerrorlevels" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of kernel error levels.</title>
          <tgroup cols="3">
            <colspec colwidth="108" align="left"/>
            <colspec colwidth="108" align="left"/>
            <colspec colwidth="288" align="left"/>
            <thead>
              <row>
                <entry>
    error level value
    </entry>
                <entry>
    error level name
    </entry>
                <entry>
    意味
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
    0
    </entry>
                <entry>
    KERN_EMERG
    </entry>
                <entry>
    system is unusable
    </entry>
              </row>
              <row>
                <entry>
    1
    </entry>
                <entry>
    KERN_ALERT
    </entry>
                <entry>
    action must be taken immediately
    </entry>
              </row>
              <row>
                <entry>
    2
    </entry>
                <entry>
    KERN_CRIT
    </entry>
                <entry>
    critical conditions
    </entry>
              </row>
              <row>
                <entry>
    3
    </entry>
                <entry>
    KERN_ERR
    </entry>
                <entry>
    error conditions
    </entry>
              </row>
              <row>
                <entry>
    4
    </entry>
                <entry>
    KERN_WARNING
    </entry>
                <entry>
    warning conditions
    </entry>
              </row>
              <row>
                <entry>
    5
    </entry>
                <entry>
    KERN_NOTICE
    </entry>
                <entry>
    normal but significant condition
    </entry>
              </row>
              <row>
                <entry>
    6
    </entry>
                <entry>
    KERN_INFO
    </entry>
                <entry>
    情報
    </entry>
              </row>
              <row>
                <entry>
    7
    </entry>
                <entry>
    KERN_DEBUG
    </entry>
                <entry>
    debug-level messages
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </section>
      <section id="_the_udev_system">
        <title>The udev system</title>
        <simpara>For Linux kernel 2.6, <ulink url="&theudevsystem;">the udev system</ulink>
provides mechanism for the automatic hardware discovery and initialization
(see <literal>udev</literal>(7)). Upon discovery of each device by the
kernel, the udev system starts a user process which uses information from
the <ulink url="&sysfs;">sysfs</ulink> filesystem (see <xref
linkend="_procfs_and_sysfs"/>), loads required kernel modules supporting it
using the <literal>modprobe</literal>(8) program (see <xref
linkend="_the_kernel_module_initialization"/>), and creates corresponding
device nodes.</simpara>
        <tip>
          <simpara>If "<literal>/lib/modules/&lt;kernel-version&gt;/modules.dep</literal>" was
not generated properly by <literal>depmod</literal>(8) for some reason,
modules may not be loaded as expected by the udev system. Execute
"<literal>depmod -a</literal>" to fix it.</simpara>
        </tip>
        <simpara>The name of device nodes can be configured by files in
"<literal>/etc/udev/rules.d/</literal>" (see
"<literal>/usr/share/doc/udev/writing_udev_rules/index.html</literal>").</simpara>
        <simpara>Since the udev system is somewhat a moving target, I leave details to other
documentations and describe the minimum information here.</simpara>
      </section>
      <section id="_the_kernel_module_initialization">
        <title>The kernel module initialization</title>
        <simpara>The <literal>modprobe</literal>(8) program enables us to configure running
Linux kernel from user process by adding and removing kernel modules.  The
udev system (see <xref linkend="_the_udev_system"/>) automates its
invocation to help the kernel module initialization.</simpara>
        <simpara>Non-hardware modules and special hardware driver modules, such as:</simpara>
        <itemizedlist>
          <listitem>
            <simpara><ulink url="&tuntap;">TUN/TAP</ulink> modules providing virtual
Point-to-Point network device (TUN) and virtual Ethernet network device
(TAP),
</simpara>
          </listitem>
          <listitem>
            <simpara><ulink url="&netfilter;">netfilter</ulink> modules providing netfilter
firewall capabilities (<literal>iptables</literal>(8), <xref
linkend="_netfilter"/>),
</simpara>
          </listitem>
          <listitem>
            <simpara><ulink url="&watchdogtimer;">watchdog timer</ulink> driver modules need to
be pre-loaded by listing them in the "<literal>/etc/modules</literal>" file
(see <literal>modules</literal>(5)).
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>The configuration files for the <literal>modprobe</literal>(8) program are
located under the "<literal>/etc/modprobes.d/</literal>" directory as
explained in <literal>modprobe.conf</literal>(5).  (If you want to avoid
some kernel modules to be auto-loaded, consider to blacklist them in the
"<literal>/etc/modprobes.d/blacklist</literal>" file.)</simpara>
        <simpara>The "<literal>/lib/modules/&lt;version&gt;/modules.dep</literal>" file
generated by the <literal>depmod</literal>(8) program describes module
dependencies used by the <literal>modprobe</literal>(8) program.</simpara>
        <note>
          <simpara>If you experience module loading issues with boot time module loading or
with <literal>modprobe</literal>(8), "<literal>depmod -a</literal>" may
resolve these issues by reconstructing "<literal>modules.dep</literal>".</simpara>
        </note>
        <simpara>The <literal>modinfo</literal>(8) program shows information about a Linux
Kernel module.</simpara>
        <simpara>The <literal>lsmod</literal>(8) program nicely formats the contents of the
"<literal>/proc/modules</literal>", showing what kernel modules are
currently loaded.</simpara>
        <tip>
          <simpara>You can identify exact hardware on your system.  See <xref
linkend="_hardware_identification"/>.</simpara>
        </tip>
        <tip>
          <simpara>You may configure hardware at boot time to activate expected hardware
features. See <xref linkend="_hardware_configuration"/>.</simpara>
        </tip>
        <tip>
          <simpara>You can add support for your device by recompiling kernel.  See <xref
linkend="_the_kernel"/>.</simpara>
        </tip>
      </section>
    </section>
  </chapter>
  <chapter id="_authentication">
    <title>認証</title>
    <simpara>When a person (or a program) requests access to the system, authentication
confirms the identity to be a trusted one.</simpara>
    <warning>
      <simpara>Configuration errors of PAM may lock you out of your own system.  You must
have a rescue CD handy or setup an alternative boot partition.  To recover,
boot the system with them and correct things from there.</simpara>
    </warning>
    <section id="_normal_unix_authentication">
      <title>通常のUnix認証</title>
      <simpara>通常のUnix認証は<ulink
url="&pampluggableauthnticationmodules;">PAM(プラグ可能な認証モジュール)</ulink>のもとで<literal>pam_unix.so</literal>(8)モジュールによって提供される。"<literal>:</literal>"で分離されたエントリーを持つその3つの重要なコンフィギュレーションファイルは:</simpara>
      <table id="dimportantconfigilesforpam_unixi" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>3つの<literal>pam_unix</literal>(8)に関する重要なコンフィギュレーションファイル。</title>
        <tgroup cols="5">
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="216" align="left"/>
          <thead>
            <row>
              <entry>
    ファイル
    </entry>
              <entry>
    permission
    </entry>
              <entry>
    user
    </entry>
              <entry>
    グループ
    </entry>
              <entry>
    説明
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry>
                <literal>/etc/passwd</literal>
              </entry>
              <entry>
                <literal>-rw-r--r--</literal>
              </entry>
              <entry>
                <literal>root</literal>
              </entry>
              <entry>
                <literal>root</literal>
              </entry>
              <entry>
    (浄化された)ユーザアカウント情報。
    </entry>
            </row>
            <row>
              <entry>
                <literal>/etc/shadow</literal>
              </entry>
              <entry>
                <literal>-rw-r-----</literal>
              </entry>
              <entry>
                <literal>root</literal>
              </entry>
              <entry>
                <literal>shadow</literal>
              </entry>
              <entry>
    保護されたユーザアカウント情報。
    </entry>
            </row>
            <row>
              <entry>
                <literal>/etc/group</literal>
              </entry>
              <entry>
                <literal>-rw-r--r--</literal>
              </entry>
              <entry>
                <literal>root</literal>
              </entry>
              <entry>
                <literal>root</literal>
              </entry>
              <entry>
    グループ情報。
    </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <simpara>"<literal>/etc/passwd</literal>" ファイルの内容は:</simpara>
      <screen>...
user1:x:1000:1000:User1 Name,,,:/home/user1:/bin/bash
user2:x:1001:1001:User2 Name,,,:/home/user2:/bin/bash
...</screen>
      <simpara><literal>passwd</literal>(5) に説明されているように、このファイルの "<literal>:</literal>"
で分離されたエントリーそれぞれは:</simpara>
      <itemizedlist>
        <listitem>
          <simpara>
ログイン名
</simpara>
        </listitem>
        <listitem>
          <simpara>
パスワード規定エントリー
</simpara>
        </listitem>
        <listitem>
          <simpara>
数値のユーザID
</simpara>
        </listitem>
        <listitem>
          <simpara>
数値のグループID
</simpara>
        </listitem>
        <listitem>
          <simpara>
ユーザ名またはコメント領域
</simpara>
        </listitem>
        <listitem>
          <simpara>
ユーザのホームディレクトリ
</simpara>
        </listitem>
        <listitem>
          <simpara>
ユーザのコマンドインタープリター(無いこともある)
</simpara>
        </listitem>
      </itemizedlist>
      <simpara>"<literal>/etc/passwd</literal>"の2番目のエントリーは暗号化したパスワードのエントリーとして使われていました。"<literal>/etc/shadow</literal>"が導入された後は、このエントリーはパスワード規定エントリーとして使われています。</simpara>
      <table id="thesecondentrycontentofetcpasswd" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>"/etc/passwd"の2番目のエントリーの内容。</title>
        <tgroup cols="2">
          <colspec colwidth="144" align="left"/>
          <colspec colwidth="360" align="left"/>
          <thead>
            <row>
              <entry>
    内容
    </entry>
              <entry>
    意味
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry>
    (空白)
    </entry>
              <entry>
    パスワード無しアカウント
    </entry>
            </row>
            <row>
              <entry>
    x
    </entry>
              <entry>
    暗号化したパスワードは"<literal>/etc/shadow</literal>"ファイルの中にある。
    </entry>
            </row>
            <row>
              <entry>
    *
    </entry>
              <entry>
    このアカウントへのログイン不可
    </entry>
            </row>
            <row>
              <entry>
    !
    </entry>
              <entry>
    このアカウントへのログイン不可
    </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <simpara>"<literal>/etc/shadow</literal>" ファイルの内容は:</simpara>
      <screen>...
user1:$1$Xop0FYH9$IfxyQwBe9b8tiyIkt2P4F/:13262:0:99999:7:::
user2:$1$vXGZLVbS$ElyErNf/agUDsm1DehJMS/:13261:0:99999:7:::
...</screen>
      <simpara><literal>shadow</literal>(5)で説明されているように、このファイルの"<literal>:</literal>"で分離されたエントリーそれぞれは:</simpara>
      <itemizedlist>
        <listitem>
          <simpara>
ログイン名
</simpara>
        </listitem>
        <listitem>
          <simpara>
暗号化されたパスワード。最初が"<literal>$1$</literal>"で始まっているのはMD5暗号化が使われていることを示します。"*"はログイン不可を示します。
</simpara>
        </listitem>
        <listitem>
          <simpara>
1970年1月1日から、最後にパスワードが変更された日までの日数
</simpara>
        </listitem>
        <listitem>
          <simpara>
パスワードが変更可能となるまでの日数
</simpara>
        </listitem>
        <listitem>
          <simpara>
パスワードを変更しなくてはならなくなる日までの日数
</simpara>
        </listitem>
        <listitem>
          <simpara>
パスワード有効期限が来る前に、ユーザが警告を受ける日数
</simpara>
        </listitem>
        <listitem>
          <simpara>
…
</simpara>
        </listitem>
      </itemizedlist>
      <simpara>"<literal>/etc/group</literal>"のファイル内容は:</simpara>
      <screen>...
group1:x:20:user1,user2
...</screen>
      <simpara><literal>shadow</literal>(5)で説明されているように、このファイルの"<literal>:</literal>"で分離されたエントリーそれぞれは:</simpara>
      <itemizedlist>
        <listitem>
          <simpara>
グループ名
</simpara>
        </listitem>
        <listitem>
          <simpara>
暗号化されたパスワード(実際は使われていない)
</simpara>
        </listitem>
        <listitem>
          <simpara>
数値のグループID。
</simpara>
        </listitem>
        <listitem>
          <simpara>
"," で分離されたユーザ名のリスト。
</simpara>
        </listitem>
      </itemizedlist>
      <simpara>"<literal>/etc/gshadow</literal>"ファイルは"<literal>/etc/shadow</literal>"ファイルが"<literal>/etc/group</literal>"ファイルに対する機能と同様の機能がありますが、実際には使われていません。</simpara>
      <note>
        <simpara>もし"<literal>authoptionalpam_group.so</literal>"行が"<literal>/etc/pam.d/common-auth</literal>"に書き加えれ、"<literal>/etc/security/group.conf</literal>"に対応する設定がされていれば、実際のユーザのグループメンバーシップは動的に割り当てられます。<literal>pam_group</literal>(8)参照。</simpara>
      </note>
      <note>
        <simpara><literal>base-passwd</literal> パッケージはユーザとグループに関する権威のあるリストが含まれます:
"<literal>/usr/share/doc/base-passwd/users-and-groups.html</literal>"。</simpara>
      </note>
    </section>
    <section id="_manage_account_and_password_information">
      <title>アカウントとパスワードの情報管理</title>
      <simpara>アカウント情報管理のための重要コマンド:</simpara>
      <table id="listofcommandstocountinformation" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>アカウント情報管理のためのコマンドリスト。</title>
        <tgroup cols="2">
          <colspec colwidth="144" align="left"/>
          <colspec colwidth="360" align="left"/>
          <thead>
            <row>
              <entry>
    コマンド
    </entry>
              <entry>
    機能
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry>
                <literal>getent passwd &lt;user_name&gt;</literal>
              </entry>
              <entry>
    browse account information of "<literal>&lt;user_name&gt;</literal>"
    </entry>
            </row>
            <row>
              <entry>
                <literal>getent shadow &lt;user_name&gt;</literal>
              </entry>
              <entry>
    browse shadowed account information of
"<literal>&lt;user_name&gt;</literal>"
    </entry>
            </row>
            <row>
              <entry>
                <literal>getent group &lt;group_name&gt;</literal>
              </entry>
              <entry>
    browse group information of "<literal>&lt;group_name&gt;</literal>"
    </entry>
            </row>
            <row>
              <entry>
                <literal>passwd</literal>
              </entry>
              <entry>
    アカウントのパスワード管理
    </entry>
            </row>
            <row>
              <entry>
                <literal>passwd -e</literal>
              </entry>
              <entry>
    アカウント開設のための一回だけ使えるパスワードの設定
    </entry>
            </row>
            <row>
              <entry>
                <literal>chage</literal>
              </entry>
              <entry>
    パスワードのエージング情報管理
    </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <simpara>一部機能が機能するにはroot権限が必要な場合があります。パスワードとデータの暗号化は<literal>crypt</literal>(3)参照。</simpara>
      <note>
        <simpara> Debianが提供する<ulink
url="&alioth;">alioth</ulink>機器と同様なPAMとNSSの設定をされたシステム上では、ローカルの"<literal>/etc/passwd</literal>"や"<literal>/etc/group</literal>"や"<literal>/etc/shadow</literal>"の内容がシステムにアクティブに利用されていないことがあります。</simpara>
      </note>
    </section>
    <section id="_good_password">
      <title>良好なパスワード</title>
      <simpara>システムインストール時や<literal>passwd</literal>(1)コマンドによってアカウント作成する際に次に記すようなセットからなる6から8文字の<ulink
url="&goodpassword;">良好なパスワード</ulink>を<literal>passwd</literal>(1)によると選択するべきです:</simpara>
      <itemizedlist>
        <listitem>
          <simpara>
小文字のアルファベット
</simpara>
        </listitem>
        <listitem>
          <simpara>
数字の0から9
</simpara>
        </listitem>
        <listitem>
          <simpara>
句読点
</simpara>
        </listitem>
      </itemizedlist>
      <warning>
        <simpara>想像できるような単語はパスワードに選択禁止。</simpara>
      </warning>
    </section>
    <section id="_creating_encrypted_password">
      <title>暗号化されたパスワード作成</title>
      <simpara>ソルトを使って暗号化されたパスワードを生成する独立のツールとして次があります:</simpara>
      <table id="listoftoolstogeneratepassword" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>パスワード生成ツールのリスト。</title>
        <tgroup cols="5">
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="216" align="left"/>
          <thead>
            <row>
              <entry>
    パッケージ
    </entry>
              <entry>
    popcon
    </entry>
              <entry>
    サイズ
    </entry>
              <entry>
    コマンド
    </entry>
              <entry>
    機能
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/whois"> <literal>whois</literal>
</ulink></entry>
              <entry><ulink url="http://bugs.debian.org/whois">&pop-whois;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/w/whois.html">&size-whois;</ulink></entry>
              <entry>
                <literal>mkpasswd</literal>
              </entry>
              <entry>
    <literal>crypt</literal>(3)ライブラリーの充実しすぎたフロントエンド
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/openssl">
<literal>openssl</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/openssl">&pop-openssl;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/o/openssl.html">&size-openssl;</ulink></entry>
              <entry>
                <literal>openssl passwd</literal>
              </entry>
              <entry>
    パスワードハッシュの計算(OpenSSL)。<literal>passwd</literal>(1ssl)
    </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
    </section>
    <section id="_pam_and_nss">
      <title>PAM と NSS</title>
      <simpara>Debianシステムのような最新の<ulink url="&unixlike;">Unix的</ulink>システムは<ulink
url="&pampluggableauthnticationmodules;">PAM(差し替え可能な認証モジュール:PluggableAuthenticationModules)</ulink>と<ulink
url="&nssnameserviceswitch;">NSS(ネームサービススイッチ:NameServiceSwitch)</ulink>メカニズムをローカルのシステム管理者がそのシステム管理用に提供します。それらの役割をまとめると次の様になります:</simpara>
      <itemizedlist>
        <listitem>
          <simpara>
PAM は、アプリケーションソフトウエアが使う柔軟な認証メカニズムを提供し、パスワードデータの交換に関与します。
</simpara>
        </listitem>
        <listitem>
          <simpara>
NSSは、<literal>ls</literal>(1)and<literal>id</literal>(1)等のプログラムがユーザやグループの名前を得ために<ulink
url="&cstandardlibrary;">C標準ライブラリー</ulink>経由で頻用する柔軟なネームサービスメカニズムを提供します。
</simpara>
        </listitem>
      </itemizedlist>
      <simpara>これらのPAMとNSSシステムは一貫した設定が必要です。</simpara>
      <simpara>PAMとNSSシステムに関する注目のパッケージは:</simpara>
      <table id="listofnotablepamandnsssystems" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>注目すべきPAMとNSSシステムのリスト。</title>
        <tgroup cols="4">
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="288" align="left"/>
          <thead>
            <row>
              <entry>
    パッケージ
    </entry>
              <entry>
    popcon
    </entry>
              <entry>
    サイズ
    </entry>
              <entry>
    説明
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/libpam-modules">
<literal>libpam-modules</literal> </ulink></entry>
              <entry><ulink
url="http://bugs.debian.org/libpam-modules">&pop-libpammodules;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/libp/libpam-modules.html">&size-libpammodules;</ulink></entry>
              <entry>
    差し替え可能な認証モジュール(基本サービス)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/libpam-ldap">
<literal>libpam-ldap</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/libpam-ldap">&pop-libpamldap;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/libp/libpam-ldap.html">&size-libpamldap;</ulink></entry>
              <entry>
    LDAPインターフェースを可能にする差し替え可能な認証モジュール
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/libpam-cracklib">
<literal>libpam-cracklib</literal> </ulink></entry>
              <entry><ulink
url="http://bugs.debian.org/libpam-cracklib">&pop-libpamcracklib;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/libp/libpam-cracklib.html">&size-libpamcracklib;</ulink></entry>
              <entry>
    cracklibのサポートを可能にする差し替え可能な認証モジュール
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/libpam-doc">
<literal>libpam-doc</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/libpam-doc">&pop-libpamdoc;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/libp/libpam-doc.html">&size-libpamdoc;</ulink></entry>
              <entry>
    差し替え可能な認証モジュール(htmlとtextの文書)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/libc6"> <literal>libc6</literal>
</ulink></entry>
              <entry><ulink url="http://bugs.debian.org/libc6">&pop-libcg;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/libc/libc6.html">&size-libcg;</ulink></entry>
              <entry>
    GNU Cライブラリー: "ネームサービススイッチ"も提供する共有ライブラリー
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/glibc-doc">
<literal>glibc-doc</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/glibc-doc">&pop-glibcdoc;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/g/glibc-doc.html">&size-glibcdoc;</ulink></entry>
              <entry>
    GNU C Library: Manpages
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/glibc-doc-reference">
<literal>glibc-doc-reference</literal> </ulink></entry>
              <entry><ulink
url="http://bugs.debian.org/glibc-doc-reference">&pop-glibcdocreference;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/g/glibc-doc-reference.html">&size-glibcdocreference;</ulink></entry>
              <entry>
    GNU C Library: Reference manual in info, pdf and html format (non-free)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/libnss-mdns">
<literal>libnss-mdns</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/libnss-mdns">&pop-libnssmdns;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/libn/libnss-mdns.html">&size-libnssmdns;</ulink></entry>
              <entry>
    マルチキャストDNSを使った名前解決のためのNSSモジュール
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/libnss-ldap">
<literal>libnss-ldap</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/libnss-ldap">&pop-libnssldap;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/libn/libnss-ldap.html">&size-libnssldap;</ulink></entry>
              <entry>
    LDAPをネームサービスとして使うNSSモジュール
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/libnss-ldapd">
<literal>libnss-ldapd</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/libnss-ldapd">&pop-libnssldapd;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/libn/libnss-ldapd.html">&size-libnssldapd;</ulink></entry>
              <entry>
    LDAPをネームサービスとして使うNSSモジュール(<literal>libnss-ldap</literal>の新たなフォーク)
    </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <itemizedlist>
        <listitem>
          <simpara>
"The Linux-PAM System Administrators' Guide" in
<literal>libpam-doc</literal> is essential for learning PAM configuration.
</simpara>
        </listitem>
        <listitem>
          <simpara>
"System Databases and Name Service Switch" section in
<literal>glibc-doc-reference</literal> is essential for learning NSS
configuration.
</simpara>
        </listitem>
      </itemizedlist>
      <note>
        <simpara>より大規模かつ最新のリストは"<literal>aptitudesearch'libpam-|libnss-'</literal>"コマンドを実行すると得られます。NSSという頭字語は
"ネームサービススイッチ:NameServiceSwitch"と異なる"ネットワークセキュリティサービス:NetworkSecurityService"を指すこともあります。</simpara>
      </note>
      <note>
        <simpara>PAMは個別プログラムに関する環境変数をシステム全体のデフォルト値に初期化する最も基本的な手段です。</simpara>
      </note>
      <section id="_configuration_files_accessed_by_the_pam_and_nss">
        <title>PAMとNSSによってアクセスされるコンフィギュレーションファイル</title>
        <simpara>PAM がアクセスする注目すべきコンフィギュレーションファイル:</simpara>
        <table id="listofconfigurataccessedbythepam" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>PAMがアクセスするコンフィギュレーションファイルのリスト。</title>
          <tgroup cols="2">
            <colspec colwidth="144" align="left"/>
            <colspec colwidth="360" align="left"/>
            <thead>
              <row>
                <entry>
    設定ファイル
    </entry>
                <entry>
    機能
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>/etc/pam.d/&lt;プログラム名&gt;</literal>
                </entry>
                <entry>
    "<literal>&lt;program_name&gt;</literal>"に関するPAMコンフィギュレーションの設定。<literal>pam</literal>(7)と<literal>pam.d</literal>(5)参照。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/etc/nsswitch.conf</literal>
                </entry>
                <entry>
    各サービスに関するエントリーによるNSSコンフィギュレーションの設定。<literal>nsswitch.conf</literal>(5)参照。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/etc/nologin</literal>
                </entry>
                <entry>
    ユーザのログイン制限のために<literal>pam_nologin</literal>(8)モジュールがアクセス。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/etc/securetty</literal>
                </entry>
                <entry>
    <literal>pam_securetty</literal>(8)モジュールによりrootアクセスに使うttyを制限する。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/etc/security/access.conf</literal>
                </entry>
                <entry>
    <literal>pam_access</literal>(8)モジュールによりアクセス制限を設定する。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/etc/security/group.conf</literal>
                </entry>
                <entry>
    <literal>pam_group</literal>(8)モジュールによりグループに基づく制約を設定する。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/etc/security/pam_env.conf</literal>
                </entry>
                <entry>
    <literal>pam_env</literal>(8)モジュールにより環境変数を設定する。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/etc/environment</literal>
                </entry>
                <entry>
    "<literal>readenv=1</literal>"引数を付きの<literal>pam_env</literal>(8)モジュールによって追加での環境変数を設定する。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/etc/default/locale</literal>
                </entry>
                <entry>
    "<literal>readenv=1envfile=/etc/default/locale</literal>"引数を付きの<literal>pam_env</literal>(8)モジュールによって追加でロケールを設定する。(Debian)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/etc/security/limits.conf</literal>
                </entry>
                <entry>
    <literal>pam_linits</literal>(8)モジュールによってリソース制限(ulimit, core, …)を設定する。
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/etc/security/time.conf</literal>
                </entry>
                <entry>
    <literal>pam_time</literal>(8)モジュールによって時間制限を設定する。
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>パスワード選択の制限は<literal>pam_unix</literal>(8)と<literal>pam_cracklib</literal>(8)モジュールで実装されています。それらは引数を使って設定します。</simpara>
        <tip>
          <simpara>PAMモジュールはファイル名のサフィックスとして"<literal>.so</literal>"を使います。</simpara>
        </tip>
      </section>
      <section id="_the_modern_centralized_system_management">
        <title>最新の集中システム管理</title>
        <simpara>集中化された<ulink
url="&lightweightdireccessprotocolldap;">軽量ディレクトリアクセスプロトコル(LDAP)</ulink>を採用することで多くのネットワーク上のUnix的や非Unix的システムを最新の集中システム管理が実現できます。軽量ディレクトリアクセスプロトコルのオープンソース実装は<ulink
url="&openldapsoftware;">OpenLDAPソフトウエア</ulink>です。</simpara>
        <simpara>LDAPサーバーは、<literal>libpam-ldap</literal>と<literal>libnss-ldap</literal>パッケージで提供されるPAMとNSSを使うことでDebianシステムにアカウント情報を提供します。この実現ためにはいくつかの設定が必要です(著者は本設定を使っていないため、本情報は完全に二次情報です。ご理解の上お読みください。):</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
スタンドアローンのLDAPデーモンである<literal>slapd</literal>(8)等のプログラムを走らせることで集中化されたLDAPサーバーを設置する。
</simpara>
          </listitem>
          <listitem>
            <simpara>
デフォルトの"<literal>pam_unix.so</literal>"に代えて"<literal>pam_ldap.so</literal>"を使うには"<literal>/etc/pam.d/</literal>"ディレクトリ中のPAMコンフィギュレーションファイルを変更します。
</simpara>
          </listitem>
          <listitem>
            <simpara>
デフォルト("<literal>compat</literal>"または"<literal>file</literal>")に代えて"<literal>ldap</literal>"を使うには"<literal>/etc/nsswitch.conf</literal>"ファイル中のNSS設定を変更します。
</simpara>
          </listitem>
          <listitem>
            <simpara>
Debianでは、"<literal>/etc/pam_ldap.conf</literal>"を<literal>libpam-ldap</literal>の設定ファイル、"<literal>/etc/pam_ldap.secret</literal>"をrootのパスワードを保存するファイルとして使っています。
</simpara>
          </listitem>
          <listitem>
            <simpara>
Debianでは、"<literal>/etc/pam_ldap.conf</literal>"を<literal>libpam-ldap</literal>の設定ファイル、"<literal>/etc/pam_ldap.secret</literal>"をrootのパスワードを保存するファイルとして使っています。
</simpara>
          </listitem>
          <listitem>
            <simpara>
パスワードのセキュリティ確保のために<literal>libpam-ldap</literal>が<ulink
url="&sslortls;">SSL(もしくはTLS)</ulink>接続を使うよう設定しなければいけません。
</simpara>
          </listitem>
          <listitem>
            <simpara>
LDAPのネットワークオバーヘッドの犠牲はあるとはいえ、データの整合性確保のために<literal>libnss-ldap</literal>が<ulink
url="&sslortls;">SSL(もしくはTLS)</ulink>接続を使うように設定できます。
</simpara>
          </listitem>
          <listitem>
            <simpara>
LDAP
のネットワークトラフィックを減少させるためにLDAPサーチ結果を一時保持するための<literal>nscd</literal>(8)をローカルで走らせるべきです。
</simpara>
          </listitem>
        </itemizedlist>
        <simpara><literal>libpam-doc</literal>パッケージで提供される<literal>pam_ldap.conf</literal>(5)や"<literal>/usr/share/doc/libpam-doc/html/</literal>"や<literal>glibc-doc</literal>パッケージで提供される"<literal>infolibc'NameServiceSwitch'</literal>"といった文書を参照下さい。</simpara>
        <simpara>同様に、これに代わる集中化されたシステムは次を使っても設定できます:</simpara>
        <itemizedlist>
          <listitem>
            <simpara>古いUnux的システムとともに<ulink url="&nisoriginallycalledyp;">NIS (originally called
YP)</ulink>または<ulink url="&nisplus;">NIS+</ulink>。
</simpara>
          </listitem>
          <listitem>
            <simpara>
Windows NTや<ulink url="&samba;">SAMBA</ulink>とともにWinbind。
</simpara>
          </listitem>
        </itemizedlist>
      </section>
      <section id="_why_gnu_su_does_not_support_the_wheel_group">
        <title>「どうしてGNUのsuはwheelグループをサポートしないのか」</title>
        <simpara>これはRichard M. Stallmanが書いた昔の"<literal>info
su</literal>"の最後に書かれていた有名な文言です。ご心配は無用です。現在Debianにある<literal>su</literal>はPAMを使っているので"<literal>/etc/pam.d/su</literal>"の中の"<literal>pam_wheel.so</literal>"の行をエネーブルすることで<literal>su</literal>を使えるのを<literal>root</literal>グループに限定できます。</simpara>
      </section>
      <section id="_stricter_password_rule">
        <title>パスワード規則強化</title>
        <simpara><literal>libpam-cracklib</literal>パッケージをインストールすると、例えば"<literal>/etc/pam.d/common-password</literal>"に次のような行があれば、パスワード規則を強化できます:</simpara>
        <simpara><literal>lenny</literal>の場合:</simpara>
        <screen>password required pam_cracklib.so retry=3 minlen=9 difok=3
password required pam_unix.so use_authtok nullok md5</screen>
        <simpara><literal>squeeze</literal>の場合:</simpara>
        <screen>password required pam_cracklib.so retry=3 minlen=9 difok=3
password [success=1 default=ignore] pam_unix.so use_authtok nullok md5
password requisite pam_deny.so
password required pam_permit.so</screen>
      </section>
    </section>
    <section id="_other_access_controls">
      <title>他のアクセスコントロール</title>
      <note>
        <simpara>カーネルの<ulink
url="&secureattentionkeysak;">セキューアーアテンションキー(SAK)</ulink>機能の制限は<xref
linkend="_alt_sysrq"/>を参照。</simpara>
      </note>
      <section id="_sudo">
        <title>sudo</title>
        <simpara><literal>sudo</literal>はシステム管理者がユーザに制限付きのroot権限を与え、そのroot活動を記録するように設計されたプログラムです。<literal>sudo</literal>はユーザの通常パスワードだけが必要です。<literal>sudo</literal>パッケージをインストールし、"<literal>/etc/sudoers</literal>"の中のオプションを設定することによりアクティベートしてください。"<literal>/usr/share/doc/sudo/examples/sudoers</literal>のコンフィギュレーション例を参照ください。</simpara>
        <simpara>単一ユーザシステムにおける私の<literal>sudo</literal>の使い方(see<xref
linkend="_sudo_configuration"/>)は自分自身の失敗からの防衛を目指しています。<literal>sudo</literal>を使うことは、常にrootアカウントからシステムを使うよりは良い方法だと個人的には考えます。例えば、次は"<literal>&lt;some_file&gt;</literal>"の所有者を"<literal>&lt;my_name&gt;</literal>"に変更します:</simpara>
        <screen>$ sudo chown &lt;my_name&gt; &lt;some_file&gt;</screen>
        <simpara>rootのパスワード(自分でシステムインストールをしたDebianユーザなら当然知っています)を知っていれば、どのユーザアカウントからいかなるコマンドも"<literal>su
-c</literal>"とすればrootもとで実行できます。</simpara>
      </section>
      <section id="_selinux">
        <title>SELinux</title>
        <simpara><ulink
url="&securityenhancedlinuxselinux;">セキュリティ強化したLinux(SELinux)</ulink>は<ulink
url="&mandatoryaccesscontrolmac;">強制アクセス制御(MAC)</ulink>ポリシーのある通常のUnix的な権限モデルより厳格な枠組みです。ある条件下ではrootの権限すら制限を受けます。</simpara>
      </section>
      <section id="_restricting_access_to_some_server_services">
        <title>サーバーのサービスへのアクセスの制限</title>
        <simpara>インターネット<emphasis>スーパーサーバー</emphasis><literal>inetd</literal>は、(RUNLEVEL=2の場合)"<literal>/etc/init.d/inetd</literal>"にシムリンクされた"<literal>/etc/rc2.d/S20inetd</literal>"によってブート時に起動されます。RUNLEVEL=2)。基本的に、<literal>inetd</literal>は一つの実行デーモンによりいくつかの他のデーモンを起動できるようにすることで、システムのロードを下げます。</simpara>
        <simpara>サービス要求が到達する度に、そのプロトコルとサービスが"<literal>/etc/protocols</literal>"と"<literal>/etc/services</literal>"というデータベースを照覧することで確認されます。さらに<literal>inetd</literal>は、"<literal>/etc/inetd.conf</literal>"の中にある通常のインターネットサービスか、"<literal>/etc/rpc.conf</literal>"の中にある<ulink
url="&sunrpc;">Sun RPC</ulink>準拠サービスを照覧します。</simpara>
        <simpara>システムのセキュリティのために"<literal>/etc/inetd.conf</literal>"にある不使用のサービスは確実にディスエーブルしましょう。NFS他のRPCを使うプログラムためには<ulink
url="&sunrpc;">Sun RPC</ulink>サービスはアクティブにする必要があります。</simpara>
        <simpara>時々、<literal>inetd</literal>が対象となるサーバーを直接起動せずに、対象となるサーバー名を"<literal>/etc/inetd.conf</literal>"中に引数とし記載した<ulink
url="&tcpwrapper;">TCPデーモンラッパー</ulink>プログラム<literal>tcpd</literal>(8)を起動することがあります。この様な場合には、<literal>tcpd</literal>は要求を記録し"<literal>/etc/hosts.deny</literal>"や"<literal>/etc/hosts.allow</literal>"を用いた追加確認後で適切なサーバープログラムを起動します。</simpara>
        <simpara>もし最近のDebianシステムでリモートアクセスで問題があった場合には、"<literal>/etc/hosts.deny</literal>"中に"<literal>ALL:PARANOID</literal>"という文言があるならコメントアウトしましょう。</simpara>
        <simpara>詳しいことは、<literal>inetd</literal>(8)と<literal>inetd.conf</literal>(5)と<literal>protocols</literal>(5)と<literal>services</literal>(5)と<literal>tcpd</literal>(8)と<literal>hosts_access</literal>(5)と<literal>hosts_options</literal>(5)を参照。</simpara>
        <simpara><ulink url="&sunrpc;">Sun
RPC</ulink>に関してさらに詳しいことは、<literal>rpcinfo</literal>(8)と<literal>portmap</literal>(8)と"<literal>/usr/share/doc/portmap/portmapper.txt.gz</literal>"を参照。</simpara>
        <simpara><literal>atd</literal>(8)と<literal>cron</literal>(8)に関しては、PAM以外のアクセスコントロールがある。</simpara>
      </section>
    </section>
    <section id="_security_of_authentication">
      <title>認証のセキュリティ</title>
      <simpara>ここに書かれている情報はあなたのセキュリティのニーズに充分ではないかもしれませんが、良いスタートです。</simpara>
      <section id="_secure_password_over_the_internet">
        <title>インターネット経由のセキュアなパスワード</title>
        <simpara>多くのトランスポーテーションレイヤーサービスはパスワード認証も含めて暗号化せずにメッセージを通信します。途中で傍受されかねないインターネットの荒野を経由して暗号化せずパスワードを送ることは非常によくない考えです。これらに関しては、"<ulink
url="&transportlayersecurity;">トランスポーテーションレイヤーセキュリティ</ulink>"(TLS)もしくはその前身の"セキュアソケットレイヤー"(SSL)で暗号化することでパスワードを含むすべての通信をセキュアにしてサービスができます。</simpara>
        <table id="listofinsecureanservicesandports" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>インセキュアとセキュアな、サービスやポートのリスト</title>
          <tgroup cols="4">
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="288" align="left"/>
            <thead>
              <row>
                <entry>
    インセキュアなサービス名
    </entry>
                <entry>
    ポート
    </entry>
                <entry>
    セキュアなサービス名
    </entry>
                <entry>
    ポート
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
    www (http)
    </entry>
                <entry>
    80
    </entry>
                <entry>
    https
    </entry>
                <entry>
    443
    </entry>
              </row>
              <row>
                <entry>
    smtp (mail)
    </entry>
                <entry>
    25
    </entry>
                <entry>
    ssmtp (smtps)
    </entry>
                <entry>
    465
    </entry>
              </row>
              <row>
                <entry>
    ftp-data
    </entry>
                <entry>
    20
    </entry>
                <entry>
    ftps-data
    </entry>
                <entry>
    989
    </entry>
              </row>
              <row>
                <entry>
    ftp
    </entry>
                <entry>
    21
    </entry>
                <entry>
    ftps
    </entry>
                <entry>
    990
    </entry>
              </row>
              <row>
                <entry>
    telnet
    </entry>
                <entry>
    23
    </entry>
                <entry>
    telnets
    </entry>
                <entry>
    992
    </entry>
              </row>
              <row>
                <entry>
    imap2
    </entry>
                <entry>
    143
    </entry>
                <entry>
    imaps
    </entry>
                <entry>
    993
    </entry>
              </row>
              <row>
                <entry>
    pop3
    </entry>
                <entry>
    110
    </entry>
                <entry>
    pop3s
    </entry>
                <entry>
    995
    </entry>
              </row>
              <row>
                <entry>
    ldap
    </entry>
                <entry>
    389
    </entry>
                <entry>
    ldaps
    </entry>
                <entry>
    636
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>暗号化にはCPUタイムがかかります。CPUに友好的な代替方法として、POPには"パスワードを認証されたポストオフィスプロトコル"(APOP)やSMTPやIMAPには"チャレンジレスポンス認証メカニズムMD5"(CRAM-MD5)といったセキュアな認証プロトコルでパスワードのみを保護しつつ通信は暗号化無しですることもできます。(最近メールクライアントからメールサーバーにインターネット経由でメールメッセージを送る際には、CRAM-MD5で認証をしたのちネットワークプロバイダーによるポート25ブロッキングを避けて従来のSMTPポート25の代わりにメッセージサブミッションポート587を使うことがよく行われます。)</simpara>
      </section>
      <section id="_secure_shell">
        <title>セキュアシェル</title>
        <simpara><ulink
url="&secureshellssh;">セキュアシェル(SSH)</ulink>プログラムはセキュアな認証とともにインセキュアなネットワークを通過したお互いに信頼し合っていないホスト間のセキュアで暗号化された通信を可能にします。<ulink
url="&openssh;">OpenSSH</ulink>クライアント<literal>ssh</literal>(1)と<ulink
url="&openssh;">OpenSSH</ulink>デーモン<literal>sshd</literal>(8)から成り立っています。SSHはポートフォーワーディング機能を使いPOPやXのようなインセキュアプロトコルの通信をインターネット経由でトンネルするのに使えます。</simpara>
        <simpara>クライアントは、ホストベースド認証、公開鍵認証、チャレンジレスポンス認証、パスワード認証を使って認証をとろうとします。公開鍵認証を利用すると、リモートからのパスワード無しログインができるようになります。<xref
linkend="_the_remote_access_server_and_utility_ssh"/>参照。</simpara>
      </section>
      <section id="_extra_security_measures_for_the_internet">
        <title>インターネットのためのセキュリティ強化策</title>
        <simpara>たとえ、<ulink url="&secureshellssh;">セキュアシェル (SSH)</ulink>や<ulink
url="&pointtopointtunnlingprotocolpptp;">ポイントツーポイントトンネリングプロトコル(PPTP)</ulink>サーバーのようなセキュアサービスを走らせる場合でも、ブルートフォースのパスワード推測等による侵入の可能性は残っています。次のようなセキュリティのためのツールとともに、ファイアーウォールポリシー(<xref
linkend="_netfilter"/>参照)を使うのはセキュリティ状況を向上させ得る。</simpara>
        <table id="listoftoolstoprosecuritymeasures" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>セキュリティ強化策のためのツール表</title>
          <tgroup cols="4">
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="288" align="left"/>
            <thead>
              <row>
                <entry>
    パッケージ
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    サイズ
    </entry>
                <entry>
    説明
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/knockd">
<literal>knockd</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/knockd">&pop-knockd;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/k/knockd.html">&size-knockd;</ulink></entry>
                <entry>
    小さなポートノックのデーモン<literal>knocked</literal>(1)とクライアント<literal>konck</literal>
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/denyhosts">
<literal>denyhosts</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/denyhosts">&pop-denyhosts;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/d/denyhosts.html">&size-denyhosts;</ulink></entry>
                <entry>
    sshからの侵入者をシステム管理者が排除することを助けるユーティリティ
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/fail2ban">
<literal>fail2ban</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/fail2ban">&pop-failcban;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/f/fail2ban.html">&size-failcban;</ulink></entry>
                <entry>
    複数回の認証エラーを発生させるIPを使用禁止とする
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/libpam-shield">
<literal>libpam-shield</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/libpam-shield">&pop-libpamshield;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/libp/libpam-shield.html">&size-libpamshield;</ulink></entry>
                <entry>
    パスワード推測によるリモートからの攻撃者を締め出す
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </section>
      <section id="_securing_the_root_password">
        <title>rootパスワードのセキュリティ確保</title>
        <simpara>あなたの機器に他人がroot権限を持ってアクセスするのを阻止するには、次が必要です:</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
ハードディスクへの物理的アクセスを阻止します。
</simpara>
          </listitem>
          <listitem>
            <simpara>
BIOSに鍵を書け、リムーバブルメディアからの起動を阻止します。
</simpara>
          </listitem>
          <listitem>
            <simpara>
GRUBのインタラクティブセッションのパスワードを設定します。
</simpara>
          </listitem>
          <listitem>
            <simpara>
GRUBのメニュー項目編集に鍵をかけます。
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>ハードディスクへの物理的アクセスがあれば、パスワードをリセットすることは比較的簡単です。</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
ハードディスクをCDから起動可能なBIOSのついたPCに移動します。
</simpara>
          </listitem>
          <listitem>
            <simpara>
レスキューメディア(Debianブートディスク、Knopix CD、GRUB CD、...)でシステムを起動します。
</simpara>
          </listitem>
          <listitem>
            <simpara>
rootパーティションを読み書きアクセスでマウントします。
</simpara>
          </listitem>
          <listitem>
            <simpara>
rootパーティションの"<literal>/etc/passwd</literal>"を編集し、<literal>root</literal>アカウントの2番目の項目を空にします。
</simpara>
          </listitem>
        </itemizedlist>
        <simpara><literal>grub-rescue-pc</literal>の起動時にGRUBのメニュー項目を編集できる(<xref
linkend="_stage_2_the_boot_loader"/>参照)のならもっと簡単です。</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
カーネルパラメータを"<literal>root=/dev/hda6 rw
init=/bin/sh</literal>"のような感じに変更してシステムを起動。
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>/etc/passwd</literal>"を編集し、<literal>root</literal>アカウントの2番目の項目を空にします。
</simpara>
          </listitem>
          <listitem>
            <simpara>
システム再起動。
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>システムのrootシェルにパスワード無しに入ることが出きるようになりました。</simpara>
        <note>
          <simpara>rootシェルにアクセスさえできれば、<literal>john</literal>とか<literal>crack</literal>パッケージ(<xref
linkend="_system_security_and_integrity_check"/>参照)のようなブルートフォースのパスワードクラッキングツールを使ってすべてのユーザアカウントのパスワードを破る事ができます。</simpara>
        </note>
        <simpara>この様な懸念を回避できる唯一の合理的なソフトウエア的解決法は、<ulink
url="&dmcrypt;">dm-crypt</ulink>とinitramfs(<xref
linkend="_data_encryption_tips"/>参照)をつかう、ソフトウエア暗号化されたrootパーティション(もしくは"<literal>/etc</literal>"
パーティション)を使うことです。でも、パスワードをシステム起動毎に必要になってしまいます。</simpara>
      </section>
    </section>
  </chapter>
  <chapter id="_network_setup">
    <title>ネットワークの設定</title>
    <simpara>This section will address <ulink url="&tcpipnetwork;">TCP/IP network</ulink>
setup for the mobile PC which moves around different networks. (For the
non-mobile PC, the debian-installer should have taken care your network
setup and there are almost nothing for us to play with.)</simpara>
    <simpara><emphasis role="strong">You should install the <literal>resolvconf</literal>
package for the mobile PC.</emphasis> This package provides framework to
solve conflicts of the host address resolution between different network
configuration scripts when network configuration changes.  Read more on
"<literal>/usr/share/doc/resolvconf/README.Debian</literal>".</simpara>
    <simpara>For the fixed location server machine, you can do without the
<literal>resolvconf</literal> package and keep your system simple.</simpara>
    <simpara>In this document, we focus on Debian-specific issues. For a general guide to
GNU/Linux networking, read the <ulink
url="&linuxnetworkadministratorsguide;">Linux Network Administrators
Guide</ulink>.</simpara>
    <section id="_the_basic_network_infrastructure">
      <title>The basic network infrastructure</title>
      <simpara>Let's review the basic network infrastructure of the modern Debian system.</simpara>
      <section id="_the_domain_name">
        <title>ドメイン名</title>
        <simpara>The naming for the domain name is a tricky one for the normal workstation PC
users.  The PC workstation may be mobile one hopping around the network or
located behind the NAT firewall inaccessible from the Internet. For such
case, you may not want the domain name to be a valid domain name to avoid
name collision.</simpara>
        <simpara>According to <ulink url="&rfccgag;">rfc2606</ulink>,
"<literal>invalid</literal>" seems to be a choice for the <ulink
url="&topleveldomaintld;">top level domain (TLD)</ulink> to construct domain
names that are sure to be invalid from the Internet.</simpara>
        <simpara>The <ulink url="&mdns;">mDNS</ulink> network discovery protocol (<ulink
url="&applebonjourapplerendezvous;">Apple Bonjour / Apple
Rendezvous</ulink>, Avahi on Debian) uses <ulink
url="&local;">"local"</ulink> as the <ulink
url="&pseudotopleveldomain;">pseudo-top-level domain</ulink>.  <ulink
url="&microsoftalsoseelocalareanetwork;">Microsoft also seems to promote
"local" for the TLD of local area network</ulink>.</simpara>
        <simpara>Other popular choices for the invalid TLD seem to be
"<literal>localdomain</literal>", "<literal>lan</literal>",
"<literal>localnet</literal>", or "<literal>home</literal>" according to my
incoming mail analysis.</simpara>
      </section>
      <section id="_the_hostname_resolution">
        <title>The hostname resolution</title>
        <simpara>The hostname resolution is currently supported by the <ulink
url="&nssnameserviceswitch;">NSS (Name Service Switch)</ulink> mechanism
too.  The flow of this resolution is:</simpara>
        <orderedlist>
          <listitem>
            <simpara>
The "<literal>/etc/nsswitch.conf</literal>" file with stanza like
"<literal>hosts: files dns</literal>" dictates the hostname resolution
order. (This replaces the old functionality of the
"<literal>order</literal>" stanza in "<literal>/etc/host.conf</literal>".)
</simpara>
          </listitem>
          <listitem>
            <simpara>
The <literal>files</literal> method is invoked first.  If the hostname is
found in the "<literal>/etc/hosts</literal>" file, it returns all valid
addresses for it and exits. (The "<literal>/etc/host.conf</literal>" file
contains "<literal>multi on</literal>".)
</simpara>
          </listitem>
          <listitem>
            <simpara>
The <literal>dns</literal> method is invoked.  If the hostname is found by
the query to the <ulink url="&internetdomainnamesystemdns;">Internet Domain
Name System (DNS)</ulink> identified by the
"<literal>/etc/resolv.conf</literal>" file, it returns all valid addresses
for it and exits.
</simpara>
          </listitem>
        </orderedlist>
        <simpara>The "<literal>/etc/hosts</literal>" file <ulink
url="&associatesipaddrseswithhostnames;">associates IP addresses with
hostnames</ulink>:</simpara>
        <screen>127.0.0.1 localhost
127.0.1.1 &lt;host_name&gt;.&lt;domain_name&gt; &lt;host_name&gt;

# The following lines are desirable for IPv6 capable hosts
::1     ip6-localhost ip6-loopback
fe00::0 ip6-localnet
ff00::0 ip6-mcastprefix
ff02::1 ip6-allnodes
ff02::2 ip6-allrouters
ff02::3 ip6-allhosts</screen>
        <simpara>Here the &lt;host_name&gt; in this matches the own hostname defined in the
"<literal>/etc/hostname</literal>".  The &lt;domain_name&gt; in this is the
<ulink url="&fullyqualifieddomainnamefqdn;">fully qualified domain name
(FQDN)</ulink> of this host.</simpara>
        <tip>
          <simpara>I sometimes use bogus domain name for &lt;domain_name&gt;, such as
"<literal>invalid</literal>" in this configuration for the mobile PC.</simpara>
        </tip>
        <simpara>The "<literal>/etc/resolv.conf</literal>" is a static file if the
<literal>resolvconf</literal> package is not installed.  If installed, it is
a symbolic link.  Either way, it contains information that initialize the
resolver routines. If the DNS is found at
IP="<literal>192.168.11.1</literal>", it contains:</simpara>
        <screen>nameserver 192.168.11.1</screen>
        <simpara>The <literal>resolvconf</literal> package makes this
"<literal>/etc/resolv.conf</literal>" into a symbolic link and manages its
contents by the hook scripts automatically.</simpara>
        <simpara>The hostname resolution via Multicast DNS (using <ulink
url="&zeroconf;">Zeroconf</ulink>, aka <ulink
url="&applebonjourapplerendezvous;">Apple Bonjour / Apple
Rendezvous</ulink>) which effectively allows name resolution by common
Unix/Linux programs in the ad-hoc mDNS domain "<literal>local</literal>",
can be provided by installing the <literal>libnss-mdns</literal> package.
The "<literal>/etc/nsswitch.conf</literal>" file should have stanza like
"<literal>hosts: files mdns4_minimal [NOTFOUND=return] dns mdns4</literal>"
to enable this functionality.</simpara>
      </section>
      <section id="_the_network_interface_name">
        <title>The network interface name</title>
        <simpara>The network interface name, e.g. <literal>eth0</literal>, is assigned to
each hardware in the Linux kernel through the user space configuration
mechanism, <literal>udev</literal> (see <xref linkend="_the_udev_system"/>),
as it is found.  The network interface name is referred as <emphasis
role="strong">physical interface</emphasis> in <literal>ifup</literal>(8)
and <literal>interfaces</literal>(5).</simpara>
        <simpara>In order to ensure each network interface to be named persistently for each
reboot using <ulink url="&macaddress;">MAC address</ulink> etc., there is a
record file "<literal>/etc/udev/rules.d/70-persistent-net.rules</literal>".
This file is automatically generated by the
"<literal>/lib/udev/write_net_rules</literal>" program, probably run by the
"<literal>persistent-net-generator.rules</literal>" rules file. You can
modify it to change naming rule.</simpara>
        <caution>
          <simpara>When editing the
"<literal>/etc/udev/rules.d/70-persistent-net.rules</literal>" rules file,
you must keep each rule on a single line and the <ulink
url="&macaddress;">MAC address</ulink> in lowercase. For example, if you
find "Firewire device" and "PCI device" in this file, you probably want to
name "PCI device" as <literal>eth0</literal> and configure it as the primary
network interface.</simpara>
        </caution>
      </section>
      <section id="_the_network_address_range_for_the_lan">
        <title>The network address range for the LAN</title>
        <simpara>Let us be reminded of the IPv4 32 bit address ranges in each class reserved
for use on the <ulink url="&localareanetworkslans;">local area networks
(LANs)</ulink> by <ulink url="&rfcbjbi;">rfc1918</ulink>.  These addresses
are guaranteed not to conflict with any addresses on the Internet proper.</simpara>
        <table id="listofnetworkaddressranges" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of network address ranges.</title>
          <tgroup cols="5">
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="216" align="left"/>
            <thead>
              <row>
                <entry>
    Class
    </entry>
                <entry>
    network addresses
    </entry>
                <entry>
    net mask
    </entry>
                <entry>
    net mask /bits
    </entry>
                <entry>
    # of subnets
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
    A
    </entry>
                <entry>
    10.x.x.x
    </entry>
                <entry>
    255.0.0.0
    </entry>
                <entry>
    /8
    </entry>
                <entry>
    1
    </entry>
              </row>
              <row>
                <entry>
    B
    </entry>
                <entry>
    172.16.x.x — 172.31.x.x
    </entry>
                <entry>
    255.255.0.0
    </entry>
                <entry>
    /16
    </entry>
                <entry>
    16
    </entry>
              </row>
              <row>
                <entry>
    C
    </entry>
                <entry>
    192.168.0.x — 192.168.255.x
    </entry>
                <entry>
    255.255.255.0
    </entry>
                <entry>
    /24
    </entry>
                <entry>
    256
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <note>
          <simpara>If one of these addresses is assigned to a host, then that host must not
access the Internet directly but must access it through a gateway that acts
as a proxy for individual services or else does <ulink
url="&networkaddresstranslationnat;">Network Address
Translation(NAT)</ulink>.  The broadband router usually performs NAT for the
consumer LAN environment.</simpara>
        </note>
      </section>
      <section id="_the_network_configuration_infrastructure">
        <title>The network configuration infrastructure</title>
        <simpara>There are 2 types of low level networking programs for Linux networking
system (see <xref linkend="_iproute2_commands"/>).</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
Old <ulink url="&nettools;">net-tools</ulink> programs
(<literal>ifconfig</literal>(8), …) are from the Linux NET-3 networking
system. Most of these are obsolete now.
</simpara>
          </listitem>
          <listitem>
            <simpara>
New <ulink url="&linuxiproutec;">Linux iproute2</ulink> programs
(<literal>ip</literal>(8), …) are the current Linux networking system.
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>Although these low level networking programs are powerful, they are
cumbersome to use.  So higher level onfiguration systems have been created.</simpara>
        <simpara>The <literal>ifupdown</literal> package and its associated packages are the
de facto standard for the Debian networking system.  It enables you to bring
up network simply by doing , e.g., "<literal>ifup eth0</literal>".  Its
configuration file is the "<literal>/etc/network/interfaces</literal>"
(<emphasis role="strong"><literal>/e/n/i</literal></emphasis>) file and its
typical contents are:</simpara>
        <screen>auto lo
iface lo inet loopback

auto eth0
iface eth0 inet dhcp</screen>
        <simpara>In order to support easy reconfiguration of network address resolution, the
<literal>resolvconf</literal> package was created.  Most debian network
configuration systems are now modified to be supported by the
<literal>resolvconf</literal> package.</simpara>
        <simpara>In order to adjust to dynamically changing network environments for mobile
desktop users on laptops, extension mechanisms to the
<literal>ifupdown</literal> package were created.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
<literal>ifupdown</literal>のヘルパースクリプト:
<literal>ifplugd</literal>、<literal>guessnet</literal>、<literal>ifscheme</literal>、…
</simpara>
          </listitem>
          <listitem>
            <simpara>
alternative system to <literal>ifupdown</literal>:
<literal>network-manager</literal>, <literal>wicd</literal>, …
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>In order for these network configuration tools to function as a alternative
to <literal>ifupdown</literal> for a certain interface, you may need to
disable the corresponding network interface configuration in <emphasis
role="strong"><literal>/e/n/i</literal></emphasis> (see <xref
linkend="_automatic_network_configuration"/>).</simpara>
        <table id="listofnetworkconfigurationtools" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of network configuration tools.</title>
          <tgroup cols="5">
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="216" align="left"/>
            <thead>
              <row>
                <entry>
    パッケージ
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    サイズ
    </entry>
                <entry>
    タイプ
    </entry>
                <entry>
    機能
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/ifupdown">
<literal>ifupdown</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/ifupdown">&pop-ifupdown;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/i/ifupdown.html">&size-ifupdown;</ulink></entry>
                <entry>
    config::<ulink url="&ifupdown;">ifupdown</ulink>
    </entry>
                <entry>
    Standardized level to bring up and down the network (Debian specific)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/ifplugd">
<literal>ifplugd</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/ifplugd">&pop-ifplugd;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/i/ifplugd.html">&size-ifplugd;</ulink></entry>
                <entry>
    , ,
    </entry>
                <entry>
    Manage the wired network automatically
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/ifupdown-extra">
<literal>ifupdown-extra</literal> </ulink></entry>
                <entry><ulink
url="http://bugs.debian.org/ifupdown-extra">&pop-ifupdownextra;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/i/ifupdown-extra.html">&size-ifupdownextra;</ulink></entry>
                <entry>
    , ,
    </entry>
                <entry>
    Network testing script to enhance "<literal>ifupdown</literal>" package
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/ifmetric">
<literal>ifmetric</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/ifmetric">&pop-ifmetric;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/i/ifmetric.html">&size-ifmetric;</ulink></entry>
                <entry>
    , ,
    </entry>
                <entry>
    Set routing metrics for a network interface.
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/guessnet">
<literal>guessnet</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/guessnet">&pop-guessnet;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/g/guessnet.html">&size-guessnet;</ulink></entry>
                <entry>
    , ,
    </entry>
                <entry>
    Mapping script to enhance "<literal>ifupdown</literal>" package via
<emphasis role="strong"><literal>/e/n/i</literal></emphasis> file
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/ifscheme">
<literal>ifscheme</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/ifscheme">&pop-ifscheme;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/i/ifscheme.html">&size-ifscheme;</ulink></entry>
                <entry>
    , ,
    </entry>
                <entry>
    Mapping scripts to enhance "<literal>ifupdown</literal>" package
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/ifupdown-scripts-zg2">
<literal>ifupdown-scripts-zg2</literal> </ulink></entry>
                <entry><ulink
url="http://bugs.debian.org/ifupdown-scripts-zg2">&pop-ifupdownscriptszgc;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/i/ifupdown-scripts-zg2.html">&size-ifupdownscriptszgc;</ulink></entry>
                <entry>
    , ,
    </entry>
                <entry>
    Zugschlus' interface scripts for ifupdown's manual method
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/network-manager">
<literal>network-manager</literal> </ulink></entry>
                <entry><ulink
url="http://bugs.debian.org/network-manager">&pop-networkmanager;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/n/network-manager.html">&size-networkmanager;</ulink></entry>
                <entry>
    config::<ulink url="&networkmanager;">NetworkManager</ulink>
    </entry>
                <entry>
    NetworkManager (daemon): Manage the network automatically
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/network-manager-gnome">
<literal>network-manager-gnome</literal> </ulink></entry>
                <entry><ulink
url="http://bugs.debian.org/network-manager-gnome">&pop-networkmanagergnome;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/n/network-manager-gnome.html">&size-networkmanagergnome;</ulink></entry>
                <entry>
    , ,
    </entry>
                <entry>
    NetworkManager (GNOME frontend)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/network-manager-kde">
<literal>network-manager-kde</literal> </ulink></entry>
                <entry><ulink
url="http://bugs.debian.org/network-manager-kde">&pop-networkmanagerkde;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/n/network-manager-kde.html">&size-networkmanagerkde;</ulink></entry>
                <entry>
    , ,
    </entry>
                <entry>
    NetworkManager (KDE frontend)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/wicd"> <literal>wicd</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/wicd">&pop-wicd;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/w/wicd.html">&size-wicd;</ulink></entry>
                <entry>
    config::<ulink url="&wicd;">wicd</ulink>
    </entry>
                <entry>
    Wired and wireless network manager
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/iptables">
<literal>iptables</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/iptables">&pop-iptables;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/i/iptables.html">&size-iptables;</ulink></entry>
                <entry>
    config::<ulink url="&netfilter;">Netfilter</ulink>
    </entry>
                <entry>
    Administration tools for packet filtering and NAT
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/iproute">
<literal>iproute</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/iproute">&pop-iproute;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/i/iproute.html">&size-iproute;</ulink></entry>
                <entry>
    config::<ulink url="&iproutec;">iproute2</ulink>
    </entry>
                <entry>
    IPv6 and other advanced network configuration: <literal>ip</literal>(8),
<literal>tc</literal>(8), etc.
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/ifrename">
<literal>ifrename</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/ifrename">&pop-ifrename;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/i/ifrename.html">&size-ifrename;</ulink></entry>
                <entry>
    , ,
    </entry>
                <entry>
    Rename network interfaces based on various static criteria:
<literal>ifrename</literal>(8)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/ethtool">
<literal>ethtool</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/ethtool">&pop-ethtool;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/e/ethtool.html">&size-ethtool;</ulink></entry>
                <entry>
    , ,
    </entry>
                <entry>
    Display or change Ethernet device settings:
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/iputils-ping">
<literal>iputils-ping</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/iputils-ping">&pop-iputilsping;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/i/iputils-ping.html">&size-iputilsping;</ulink></entry>
                <entry>
    test::<ulink url="&iproutec;">iproute2</ulink>
    </entry>
                <entry>
    Tools to test network reachability of a remote host by <ulink
url="&hostname;">hostname</ulink> or <ulink url="&ipaddress;">IP
address</ulink>
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/iputils-arping">
<literal>iputils-arping</literal> </ulink></entry>
                <entry><ulink
url="http://bugs.debian.org/iputils-arping">&pop-iputilsarping;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/i/iputils-arping.html">&size-iputilsarping;</ulink></entry>
                <entry>
    , ,
    </entry>
                <entry>
    Tools to test network reachability of a remote host specified by the <ulink
url="&arp;">ARP</ulink> address
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/iputils-tracepath">
<literal>iputils-tracepath</literal> </ulink></entry>
                <entry><ulink
url="http://bugs.debian.org/iputils-tracepath">&pop-iputilstracepath;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/i/iputils-tracepath.html">&size-iputilstracepath;</ulink></entry>
                <entry>
    , ,
    </entry>
                <entry>
    Tools to trace the network path to a remote host
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/net-tools">
<literal>net-tools</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/net-tools">&pop-nettools;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/n/net-tools.html">&size-nettools;</ulink></entry>
                <entry>
    config::<ulink url="&nettools;">net-tools</ulink>
    </entry>
                <entry>
    The NET-3 networking toolkit (IPv4 network configuration):
<literal>ifconfig</literal>(8) etc.
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/inetutils-ping">
<literal>inetutils-ping</literal> </ulink></entry>
                <entry><ulink
url="http://bugs.debian.org/inetutils-ping">&pop-inetutilsping;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/i/inetutils-ping.html">&size-inetutilsping;</ulink></entry>
                <entry>
    test::<ulink url="&nettools;">net-tools</ulink>
    </entry>
                <entry>
    Tools to test network reachability of a remote host by <ulink
url="&hostname;">hostname</ulink> or <ulink url="&ipaddress;">IP
address</ulink> (legacy, GNU)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/arping">
<literal>arping</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/arping">&pop-arping;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/a/arping.html">&size-arping;</ulink></entry>
                <entry>
    , ,
    </entry>
                <entry>
    Tools to test network reachability of a remote host specified by the <ulink
url="&arp;">ARP</ulink> address (legacy)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/traceroute">
<literal>traceroute</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/traceroute">&pop-traceroute;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/t/traceroute.html">&size-traceroute;</ulink></entry>
                <entry>
    , ,
    </entry>
                <entry>
    Tools to trace the network path to a remote host (legacy, console)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/dhcp3-client">
<literal>dhcp3-client</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/dhcp3-client">&pop-dhcpdclient;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/d/dhcp3-client.html">&size-dhcpdclient;</ulink></entry>
                <entry>
    config::low-level
    </entry>
                <entry>
    DHCP client
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/wpasupplicant">
<literal>wpasupplicant</literal> </ulink></entry>
                <entry><ulink
url="http://bugs.debian.org/wpasupplicant">&pop-wpasupplicant;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/w/wpasupplicant.html">&size-wpasupplicant;</ulink></entry>
                <entry>
    , ,
    </entry>
                <entry>
    Client support for WPA and WPA2 (IEEE 802.11i)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/wireless-tools">
<literal>wireless-tools</literal> </ulink></entry>
                <entry><ulink
url="http://bugs.debian.org/wireless-tools">&pop-wirelesstools;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/w/wireless-tools.html">&size-wirelesstools;</ulink></entry>
                <entry>
    , ,
    </entry>
                <entry>
    Tools for manipulating Linux Wireless Extensions
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/ppp"> <literal>ppp</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/ppp">&pop-ppp;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/p/ppp.html">&size-ppp;</ulink></entry>
                <entry>
    , ,
    </entry>
                <entry>
    PPP/PPPoE connection with <literal>chat</literal>
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/pppoeconf">
<literal>pppoeconf</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/pppoeconf">&pop-pppoeconf;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/p/pppoeconf.html">&size-pppoeconf;</ulink></entry>
                <entry>
    config::helper
    </entry>
                <entry>
    Configuration helper for PPPoE connection
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/pppconfig">
<literal>pppconfig</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/pppconfig">&pop-pppconfig;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/p/pppconfig.html">&size-pppconfig;</ulink></entry>
                <entry>
    , ,
    </entry>
                <entry>
    Configuration helper for plain PPP connection with <literal>chat</literal>
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/wvdial">
<literal>wvdial</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/wvdial">&pop-wvdial;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/w/wvdial.html">&size-wvdial;</ulink></entry>
                <entry>
    , ,
    </entry>
                <entry>
    PPP connection with <literal>wvdial</literal> with <literal>ppp</literal>,
configuration helper
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/mtr-tiny">
<literal>mtr-tiny</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/mtr-tiny">&pop-mtrtiny;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/m/mtr-tiny.html">&size-mtrtiny;</ulink></entry>
                <entry>
    test::low-level
    </entry>
                <entry>
    Tools to trace the network path to a remote host (curses)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/mtr"> <literal>mtr</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/mtr">&pop-mtr;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/m/mtr.html">&size-mtr;</ulink></entry>
                <entry>
    , ,
    </entry>
                <entry>
    Tools to trace the network path to a remote host (curses and GTK+)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/gnome-nettool">
<literal>gnome-nettool</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/gnome-nettool">&pop-gnomenettool;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/g/gnome-nettool.html">&size-gnomenettool;</ulink></entry>
                <entry>
    , ,
    </entry>
                <entry>
    Tools for common network information operations (GNOME)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/nmap"> <literal>nmap</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/nmap">&pop-nmap;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/n/nmap.html">&size-nmap;</ulink></entry>
                <entry>
    , ,
    </entry>
                <entry>
    Network mapper / port scanner (<ulink url="&nmap;">Nmap</ulink>, console)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/zenmap">
<literal>zenmap</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/zenmap">&pop-zenmap;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/z/zenmap.html">&size-zenmap;</ulink></entry>
                <entry>
    , ,
    </entry>
                <entry>
    Network mapper / port scanner (GTK+)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/knmap"> <literal>knmap</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/knmap">&pop-knmap;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/k/knmap.html">&size-knmap;</ulink></entry>
                <entry>
    , ,
    </entry>
                <entry>
    Network mapper / port scanner (KDE)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/tcpdump">
<literal>tcpdump</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/tcpdump">&pop-tcpdump;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/t/tcpdump.html">&size-tcpdump;</ulink></entry>
                <entry>
    , ,
    </entry>
                <entry>
    Network traffic analyzer (<ulink url="&tcpdump;">Tcpdump</ulink>, console)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/wireshark">
<literal>wireshark</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/wireshark">&pop-wireshark;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/w/wireshark.html">&size-wireshark;</ulink></entry>
                <entry>
    , ,
    </entry>
                <entry>
    Network traffic analyzer (<ulink url="&wireshark;">Wireshark</ulink>, GTK+)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/tshark">
<literal>tshark</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/tshark">&pop-tshark;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/t/tshark.html">&size-tshark;</ulink></entry>
                <entry>
    , ,
    </entry>
                <entry>
    Network traffic analyzer (console)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/nagios3">
<literal>nagios3</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/nagios3">&pop-nagiosd;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/n/nagios3.html">&size-nagiosd;</ulink></entry>
                <entry>
    , ,
    </entry>
                <entry>
    Monitoring and management system for hosts, services and networks (<ulink
url="&nagios;">Nagios</ulink>)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/tcptrace">
<literal>tcptrace</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/tcptrace">&pop-tcptrace;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/t/tcptrace.html">&size-tcptrace;</ulink></entry>
                <entry>
    , ,
    </entry>
                <entry>
    Tool to produce a summarization of the connections from
<literal>tcpdump</literal> output
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/snort"> <literal>snort</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/snort">&pop-snort;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/s/snort.html">&size-snort;</ulink></entry>
                <entry>
    , ,
    </entry>
                <entry>
    Flexible network intrusion detection system (<ulink
url="&snort;">Snort</ulink>)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/ntop"> <literal>ntop</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/ntop">&pop-ntop;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/n/ntop.html">&size-ntop;</ulink></entry>
                <entry>
    , ,
    </entry>
                <entry>
    Display network usage in web browser
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/dnsutils">
<literal>dnsutils</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/dnsutils">&pop-dnsutils;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/d/dnsutils.html">&size-dnsutils;</ulink></entry>
                <entry>
    , ,
    </entry>
                <entry>
    Network clients provided with <ulink url="&bind;">BIND</ulink>:
<literal>nslookup</literal>(8), <literal>nsupdate</literal>(8),
<literal>dig</literal>(8)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/dlint"> <literal>dlint</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/dlint">&pop-dlint;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/d/dlint.html">&size-dlint;</ulink></entry>
                <entry>
    , ,
    </entry>
                <entry>
    Checks <ulink url="&dns;">DNS</ulink> zone information using nameserver
lookups
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/dnstracer">
<literal>dnstracer</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/dnstracer">&pop-dnstracer;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/d/dnstracer.html">&size-dnstracer;</ulink></entry>
                <entry>
    , ,
    </entry>
                <entry>
    Tool to trace a chain of <ulink url="&dns;">DNS</ulink> servers to the
source
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </section>
      <section id="_the_network_device_support">
        <title>The network device support</title>
        <simpara>Although most hardware devices are supported by the Debian system, there are
some network devices which require <ulink url="&dsfg;">DSFG</ulink> non-free
external hardware drivers to support them.  Please see <xref
linkend="_non_free_hardware_drivers"/>.</simpara>
      </section>
    </section>
    <section id="_the_network_connection_method">
      <title>The network connection method</title>
      <caution>
        <simpara>The connection test method described in this section are meant for testing
purposes.  It is not meant to be used directly for the daily network
connection.  You are advised to use them via the <literal>ifupdown</literal>
package (see <xref
linkend="_the_basic_network_configuration_with_ifupdown"/>).</simpara>
      </caution>
      <simpara>The typical network connection method and connection path for a PC can be
summarized as:</simpara>
      <table id="listofnetworkcondconnectionpaths" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>List of network connection types and connection paths.</title>
        <tgroup cols="3">
          <colspec colwidth="108" align="left"/>
          <colspec colwidth="108" align="left"/>
          <colspec colwidth="288" align="left"/>
          <thead>
            <row>
              <entry>
    PC
    </entry>
              <entry>
    connection method
    </entry>
              <entry>
    connection path
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry>
    Serial port (<literal>ppp0</literal>)
    </entry>
              <entry>
    PPP
    </entry>
              <entry>
    &lt;⇒ <ulink url="&modem;">modem</ulink> &lt;⇒ POTS &lt;⇒ dial-up access
point &lt;⇒ ISP
    </entry>
            </row>
            <row>
              <entry>
    Ethernet port (<literal>eth0</literal>)
    </entry>
              <entry>
    PPPoE/DHCP/Static
    </entry>
              <entry>
    &lt;⇒ BB-modem &lt;⇒ BB service &lt;⇒ BB access point &lt;⇒ ISP
    </entry>
            </row>
            <row>
              <entry>
    Ethernet port (<literal>eth0</literal>)
    </entry>
              <entry>
    DHCP/Static
    </entry>
              <entry>
    &lt;⇒ LAN &lt;⇒ BB-router with <ulink
url="&networkaddresstranslationnat;">network address translation
(NAT)</ulink> (&lt;⇒ BB-modem …)
    </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <simpara>Here is the summary of configuration script for each connection method:</simpara>
      <table id="listofnetworkcononconfigurations" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>ネットワーク接続設定のリスト。</title>
        <tgroup cols="3">
          <colspec colwidth="108" align="left"/>
          <colspec colwidth="108" align="left"/>
          <colspec colwidth="288" align="left"/>
          <thead>
            <row>
              <entry>
    connection method
    </entry>
              <entry>
    設定
    </entry>
              <entry>
    バックエンドパッケージ
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry>
    PPP
    </entry>
              <entry><literal>pppconfig</literal> to create deterministic chat
    </entry>
              <entry><literal>pppconfig</literal>, <literal>ppp</literal></entry>
            </row>
            <row>
              <entry>
    PPP (alternative)
    </entry>
              <entry><literal>wvdialconf</literal> to create heuristic chat
    </entry>
              <entry><literal>ppp</literal>, <literal>wvdial</literal></entry>
            </row>
            <row>
              <entry>
    PPPoE
    </entry>
              <entry><literal>pppoeconf</literal> to create deterministic chat
    </entry>
              <entry><literal>pppoeconf</literal>, <literal>ppp</literal></entry>
            </row>
            <row>
              <entry>
    DHCP
    </entry>
              <entry>
    described in "<literal>/etc/dhcp3/dhclient.conf</literal>"
    </entry>
              <entry>
                <literal>dhcp3-client</literal>
              </entry>
            </row>
            <row>
              <entry>
    static IP (IPv4)
    </entry>
              <entry>
    <emphasis role="strong"><literal>/e/n/i</literal></emphasis>中に記載
    </entry>
              <entry>
                <literal>net-tools</literal>
              </entry>
            </row>
            <row>
              <entry>
    static IP (IPv6)
    </entry>
              <entry>
    <emphasis role="strong"><literal>/e/n/i</literal></emphasis>中に記載
    </entry>
              <entry>
                <literal>iproute</literal>
              </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <simpara>The network connection acronyms mean:</simpara>
      <table id="listofnetworkconnectionacronyms" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>List of network connection acronyms.</title>
        <tgroup cols="2">
          <colspec colwidth="144" align="left"/>
          <colspec colwidth="360" align="left"/>
          <thead>
            <row>
              <entry>
    acronym
    </entry>
              <entry>
    意味
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry>
                <ulink url="&pots;">POTS</ulink>
              </entry>
              <entry>
    The plain old telephone service
    </entry>
            </row>
            <row>
              <entry>
    BB
    </entry>
              <entry>
    The <ulink url="&broadband;">ブロードバンド</ulink>
    </entry>
            </row>
            <row>
              <entry>
    BB-service
    </entry>
              <entry>
    E.g., the digital subscriber line (DSL), the cable TV, or the fiber to the
premises (FTTP).
    </entry>
            </row>
            <row>
              <entry>
    BB-modem
    </entry>
              <entry>
    E.g., <ulink url="&thedslmodem;">the DSL modem</ulink>, <ulink
url="&thecablemodem;">the cable modem</ulink>, or <ulink
url="&theopticalnetworkterminalont;">the optical network terminal
(ONT)</ulink>.
    </entry>
            </row>
            <row>
              <entry>
                <ulink url="&lan;">LAN</ulink>
              </entry>
              <entry>
    ローカルエリアネットワーク
    </entry>
            </row>
            <row>
              <entry>
                <ulink url="&wan;">WAN</ulink>
              </entry>
              <entry>
    広域ネットワーク
    </entry>
            </row>
            <row>
              <entry>
                <ulink url="&dhcp;">DHCP</ulink>
              </entry>
              <entry>
    The dynamic host configuration protocol
    </entry>
            </row>
            <row>
              <entry>
                <ulink url="&ppp;">PPP</ulink>
              </entry>
              <entry>
    ポイント間接続プロトコル
    </entry>
            </row>
            <row>
              <entry>
                <ulink url="&pppoe;">PPPoE</ulink>
              </entry>
              <entry>
    Ethernet経由のポイント間接続プロトコル
    </entry>
            </row>
            <row>
              <entry>
                <ulink url="&isp;">ISP</ulink>
              </entry>
              <entry>
    インターネットサービス供給者
    </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <note>
        <simpara>The WAN connection services via cable TV are generally served by DHCP or
PPPoE.  The ones by ADSL and FTTP are generally served by PPPoE.  You have
to consult your ISP for exact configuration requirements of the WAN
connection.</simpara>
      </note>
      <note>
        <simpara>When BB-router is used to create home LAN environment, PCs on LAN are
connected to the WAN via BB-router with <ulink
url="&networkaddresstranslationnat;">network address translation
(NAT)</ulink>.  For such case, PC's network interfaces on the LAN are served
by static IP or DHCP from the BB-router.  BB-router must be configured to
connect the WAN following the instruction by your ISP.</simpara>
      </note>
      <section id="_the_dhcp_connection_with_the_ethernet">
        <title>The DHCP connection with the Ethernet</title>
        <simpara>The typical modern home and small business network, i.e. LAN, are connected
to the WAN(Internet) using some consumer grade broadband router.  The LAN
behind this router is usually served by the <ulink
url="&dynamichostconfitionprotocoldhcp;">dynamic host configuration protocol
(DHCP)</ulink> server running on the router.</simpara>
        <simpara>Just install the <literal>dhcp3-client</literal> package for the Ethernet
served by the <ulink url="&dynamichostconfitionprotocoldhcp;">dynamic host
configuration protocol (DHCP)</ulink>.</simpara>
      </section>
      <section id="_the_static_ip_connection_with_the_ethernet">
        <title>The static IP connection with the Ethernet</title>
        <simpara>No special action is needed for the Ethernet served by the static IP.</simpara>
      </section>
      <section id="_the_ppp_connection_with_pppconfig">
        <title>The PPP connection with pppconfig</title>
        <simpara>The configuration script <literal>pppconfig</literal> will configure the
<ulink url="&ppp;">PPP</ulink> connection interactively just by selecting:</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
the telephone number,
</simpara>
          </listitem>
          <listitem>
            <simpara>
the ISP user name,
</simpara>
          </listitem>
          <listitem>
            <simpara>
ISPのパスワード
</simpara>
          </listitem>
          <listitem>
            <simpara>
the port speed,
</simpara>
          </listitem>
          <listitem>
            <simpara>
the modem communication port, and
</simpara>
          </listitem>
          <listitem>
            <simpara>
認証方法
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>設定ファイルは以下:</simpara>
        <table id="listofconfigurationwithpppconfig" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of configuration files for the <ulink url="&ppp;">PPP</ulink>
connection with pppconfig.</title>
          <tgroup cols="2">
            <colspec colwidth="144" align="left"/>
            <colspec colwidth="360" align="left"/>
            <thead>
              <row>
                <entry>
    ファイル
    </entry>
                <entry>
    機能
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>/etc/ppp/peers/&lt;isp_name&gt;</literal>
                </entry>
                <entry>
    The <literal>pppconfig</literal> generated configuration file for
<literal>pppd</literal> specific to &lt;isp_name&gt;
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/etc/chatscripts/&lt;isp_name&gt;</literal>
                </entry>
                <entry>
    The <literal>pppconfig</literal> generated configuration file for
<literal>chat</literal> specific to &lt;isp_name&gt;
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/etc/ppp/options</literal>
                </entry>
                <entry>
    The general execution parameter for <literal>pppd</literal>
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/etc/ppp/pap-secret</literal>
                </entry>
                <entry>
    Authentication data for the <ulink url="&pap;">PAP</ulink> (still used)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/etc/ppp/chap-secret</literal>
                </entry>
                <entry>
    Authentication data for the <ulink url="&chap;">CHAP</ulink> (more secure)
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <caution>
          <simpara>The "&lt;isp_name&gt;" value of "provider" is assumed if
<literal>pon</literal> and <literal>poff</literal> commands are invoked
without arguments.</simpara>
        </caution>
        <simpara>下層のネットワーク設定ツールを使って設定の確認ができます。</simpara>
        <screen>$ sudo pon &lt;isp_name&gt;
...
$ sudo poff &lt;isp_name&gt;</screen>
        <simpara>See "<literal>/usr/share/doc/ppp/README.Debian.gz</literal>" for more
information.</simpara>
      </section>
      <section id="_the_alternative_ppp_connection_with_wvdialconf">
        <title>The alternative PPP connection with wvdialconf</title>
        <simpara>A different approach to using <literal>pppd</literal>(8) is to run it from
<literal>wvdial</literal>(1) which comes in the <literal>wvdial</literal>
package.  Instead of <literal>pppd</literal> running
<literal>chat</literal>(8) to dial in and negotiate the connection,
<literal>wvdial</literal> does the dialing and initial negotiating and then
starts <literal>pppd</literal> to do the rest.</simpara>
        <simpara>The configuration script <literal>wvdialconf</literal> will configure the
PPP connection interactively just by selecting:</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
the telephone number,
</simpara>
          </listitem>
          <listitem>
            <simpara>
the ISP user name, and
</simpara>
          </listitem>
          <listitem>
            <simpara>
the ISP password.  <literal>wvdial</literal> succeeds in making the
connection in most cases and maintains authentication data list
automatically.
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>設定ファイルは以下:</simpara>
        <table id="listofconfiguratonwithwvdialconf" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>wvdialconfでPPP接続する際の設定ファイルリスト。</title>
          <tgroup cols="2">
            <colspec colwidth="144" align="left"/>
            <colspec colwidth="360" align="left"/>
            <thead>
              <row>
                <entry>
    ファイル
    </entry>
                <entry>
    機能
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>/etc/ppp/peers/wvdial</literal>
                </entry>
                <entry>
    The <literal>wvdialconf</literal> generated configuration file for
<literal>pppd</literal> specific to <literal>wvdial</literal>
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/etc/wvdial.conf</literal>
                </entry>
                <entry>
    The <literal>wvdialconf</literal> generated configuration file
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/etc/ppp/options</literal>
                </entry>
                <entry>
    The general execution parameter for <literal>pppd</literal>
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/etc/ppp/pap-secret</literal>
                </entry>
                <entry>
    Authentication data for the <ulink url="&pap;">PAP</ulink> (still used)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/etc/ppp/chap-secret</literal>
                </entry>
                <entry>
    Authentication data for the <ulink url="&chap;">CHAP</ulink> (more secure)
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>下層のネットワーク設定ツールを使って設定の確認ができます。</simpara>
        <screen>$ sudo wvdial
...
$ sudo killall wvdial</screen>
        <simpara>See <literal>wvdial</literal>(1) and <literal>wvdial.conf</literal>(5) for
more information.</simpara>
      </section>
      <section id="_the_pppoe_connection_with_pppoeconf">
        <title>The PPPoE connection with pppoeconf</title>
        <simpara>When your ISP serves you with PPPoE connection and you decide to connect
your PC directly to the WAN, the network of your PC must be configured with
the PPPoE. The PPPoE stand for PPP over Ethernet. The configuration script
<literal>pppoeconf</literal> will configure the PPPoE connection
interactively.</simpara>
        <simpara>設定ファイルは以下:</simpara>
        <table id="listofconfigurationwithpppoeconf" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>pppoeconfを用いてPPPoE接続する際の設定ファイルのリスト。</title>
          <tgroup cols="2">
            <colspec colwidth="144" align="left"/>
            <colspec colwidth="360" align="left"/>
            <thead>
              <row>
                <entry>
    ファイル
    </entry>
                <entry>
    機能
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>/etc/ppp/peers/dsl-provider</literal>
                </entry>
                <entry>
    The <literal>pppoeconf</literal> generated configuration file for
<literal>pppd</literal> specific to <literal>pppoe</literal>
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/etc/ppp/options</literal>
                </entry>
                <entry>
    The general execution parameter for <literal>pppd</literal>
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/etc/ppp/pap-secret</literal>
                </entry>
                <entry>
    Authentication data for the PAP (still used)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/etc/ppp/chap-secret</literal>
                </entry>
                <entry>
    Authentication data for the CHAP (more secure)
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>下層のネットワーク設定ツールを使って設定の確認ができます。</simpara>
        <screen>$ sudo /sbin/ifconfig eth0 up
$ sudo pon dsl-provider
...
$ sudo poff dsl-provider
$ sudo /sbin/ifconfig eth0 down</screen>
        <simpara>See "<literal>/usr/share/doc/pppoeconf/README.Debian</literal>" for more
information.</simpara>
      </section>
    </section>
    <section id="_the_basic_network_configuration_with_ifupdown">
      <title>The basic network configuration with ifupdown</title>
      <simpara>The <literal>ifupdown</literal> package provides the standardized framework
for the high level network configuration in the Debian system. In this
section, we learn the basic network configuration with
<literal>ifupdown</literal> with simplified introduction and many typical
examples.</simpara>
      <section id="_the_command_syntax_simplified">
        <title>The command syntax simplified</title>
        <simpara>The <literal>ifupdown</literal> package contains 2 commands:
<literal>ifup</literal>(8) and <literal>ifdown</literal>(8).  They offer
high level network configuration dictated by the configuration file
<emphasis role="strong">/e/n/i</emphasis>.</simpara>
        <table id="listofbasicnetwoandswithifupdown" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of basic network configuration commands with ifupdown.</title>
          <tgroup cols="2">
            <colspec colwidth="144" align="left"/>
            <colspec colwidth="360" align="left"/>
            <thead>
              <row>
                <entry>
    コマンド
    </entry>
                <entry>
    アクション
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>ifup eth0</literal>
                </entry>
                <entry>
    To bring up a network interface <literal>eth0</literal> with the
configuration <literal>eth0</literal> if "<literal>iface eth0</literal>"
stanza exists.
    </entry>
              </row>
              <row>
                <entry>
                  <literal>ifdown eth0</literal>
                </entry>
                <entry>
    To bring down a network interface <literal>eth0</literal> with the
configuration <literal>eth0</literal> if "<literal>iface eth0</literal>"
stanza exists.
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <warning>
          <simpara>Do not use low level configuration tools such as
<literal>ifconfig</literal>(8) and <literal>ip</literal>(8) commands to
configure an interface in <emphasis role="strong">up</emphasis> state.</simpara>
        </warning>
        <note>
          <simpara>There is no command <literal>ifupdown</literal>.</simpara>
        </note>
        <simpara/>
      </section>
      <section id="_the_basic_syntax_of_etc_network_interfaces">
        <title>The basic syntax of /etc/network/interfaces</title>
        <simpara>The key syntax of "<literal>/etc/network/interfaces</literal>" (<emphasis
role="strong"><literal>/e/n/i</literal></emphasis> as its acronym in the
following text) as explained in <literal>interfaces</literal>(5) can be
summarized as:</simpara>
        <table id="list-of-stanzas-in-eni" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title><emphasis role="strong"><literal>/e/n/i</literal></emphasis>の中のスタンザのリスト</title>
          <tgroup cols="2">
            <colspec colwidth="144" align="left"/>
            <colspec colwidth="360" align="left"/>
            <thead>
              <row>
                <entry>
    スタンザ
    </entry>
                <entry>
    意味
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
    "<literal>auto &lt;interface_name&gt;</literal>"
    </entry>
                <entry>
    To start interface &lt;interface_name&gt; upon start of the system.
    </entry>
              </row>
              <row>
                <entry>
    "<literal>allow-auto &lt;interface_name&gt;</literal>"
    </entry>
                <entry>
    , ,
    </entry>
              </row>
              <row>
                <entry>
    "<literal>allow-hotplug &lt;interface_name&gt;</literal>"
    </entry>
                <entry>
    To start interface &lt;interface_name&gt; when the kernel detects a hotplug
event from the interface.
    </entry>
              </row>
              <row>
                <entry>
    Lines started with "<literal>iface &lt;config_name&gt; …</literal>"
    </entry>
                <entry>
    To define the network configuration &lt;config_name&gt;.
    </entry>
              </row>
              <row>
                <entry>
    Lines started with "<literal>mapping &lt;interface_name_glob&gt; </literal>"
    </entry>
                <entry>
    To define mapping value of &lt;config_name&gt; for the matching
&lt;interface_name&gt;.
    </entry>
              </row>
              <row>
                <entry>
    A line starting with a hash "<literal>#</literal>"
    </entry>
                <entry>
    To be ignored as comments. (end-of-line comments are <emphasis
role="strong">not</emphasis> supported)
    </entry>
              </row>
              <row>
                <entry>
    A line ending with a backslash "<literal>\</literal>"
    </entry>
                <entry>
    To extend the configuration to the next line.
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>Lines started with <emphasis
role="strong"><literal>iface</literal></emphasis> stanza has the following
syntax:</simpara>
        <screen>iface &lt;config_name&gt; &lt;address_family&gt; &lt;method_name&gt;
 &lt;option1&gt; &lt;value1&gt;
 &lt;option2&gt; &lt;value2&gt;
 ...</screen>
        <simpara>For the basic configuration, the <emphasis
role="strong"><literal>mapping</literal></emphasis> stanza is not used and
you use the network interface name as the network configuration name. (See
<xref linkend="_the_mapping_stanza"/>).</simpara>
      </section>
      <section id="_the_loopback_network_interface">
        <title>The loopback network interface</title>
        <simpara>The following configuration entry in the <emphasis
role="strong"><literal>/e/n/i</literal></emphasis> file brings up the
loopback network interface <literal>lo</literal> upon booting the system
(via <emphasis role="strong"><literal>auto</literal></emphasis> stanza).</simpara>
        <screen>auto lo
iface lo inet loopback</screen>
        <simpara>This one always exists in the <emphasis
role="strong"><literal>/e/n/i</literal></emphasis> file.</simpara>
      </section>
      <section id="_the_network_interface_served_by_the_dhcp">
        <title>The network interface served by the DHCP</title>
        <simpara>After prepairing the system by <xref
linkend="_the_dhcp_connection_with_the_ethernet"/>, the network interface
served by the DHCP is configured by creating the configuration entry in the
<emphasis role="strong"><literal>/e/n/i</literal></emphasis> file as:</simpara>
        <screen>allow-hotplug eth0
iface eth0 inet dhcp
 hostname "mymachine"</screen>
        <simpara>When the Linux kernel detects the physical interface
<literal>eth0</literal>, the <emphasis
role="strong"><literal>allow-hotplug</literal></emphasis> stanza will cause
ifup to bring up the interface and the <emphasis
role="strong"><literal>iface</literal></emphasis> stanza will cause
<literal>ifup</literal> to use DHCP to configure the interface.</simpara>
      </section>
      <section id="_the_network_interface_with_the_static_ip">
        <title>The network interface with the static IP</title>
        <simpara>The network interface served by the static IP is configured by creating the
configuration entry in the <emphasis
role="strong"><literal>/e/n/i</literal></emphasis> file as, e.g.,:</simpara>
        <screen>allow-hotplug eth0
iface eth0 inet static
 address 192.168.11.100
 netmask 255.255.255.0
 broadcast 192.168.11.255
 gateway 192.168.11.1
 dns-domain lan
 dns-nameservers 192.168.11.1</screen>
        <simpara>When the Linux kernel detects the physical interface
<literal>eth0</literal>, the <emphasis
role="strong"><literal>allow-hotplug</literal></emphasis> stanza will cause
ifup to bring up the interface and the <emphasis
role="strong"><literal>iface</literal></emphasis> stanza will cause
<literal>ifup</literal> to use the static IP to configure the interface.</simpara>
        <simpara>Here, I assumed:</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
IP address range of the LAN network: <literal>192.168.11.0</literal> -
<literal>192.168.11.255</literal>
</simpara>
          </listitem>
          <listitem>
            <simpara>
IP address of the gateway: <literal>192.168.11.1</literal>
</simpara>
          </listitem>
          <listitem>
            <simpara>
IP address of the PC: <literal>192.168.11.100</literal>
</simpara>
          </listitem>
          <listitem>
            <simpara>
The <literal>resolvconf</literal> package is installed.
</simpara>
          </listitem>
          <listitem>
            <simpara>
The domain name as "<literal>lan</literal>".
</simpara>
          </listitem>
          <listitem>
            <simpara>
The DNS server at: <literal>192.168.11.1</literal>
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>When the <literal>resolvconf</literal> package is not installed, DNS related
configuration needs to be done manually by editing the
"<literal>/etc/resolv.conf</literal>" as:</simpara>
        <screen>nameserver 192.168.11.1
domain lan</screen>
        <caution>
          <simpara>The IP addresses used in the above example are not meant to be copied
literally.  You have to adjust IP numbers to your actual network
configuration.</simpara>
        </caution>
      </section>
      <section id="_the_basics_of_wireless_lan_interface">
        <title>The basics of wireless LAN interface</title>
        <simpara>The <ulink url="&wirelesslanwlanforshort;">wireless LAN (WLAN for
short)</ulink> provides the fast wireless connectivity through the
spread-spectrum communication of unlicensed radio bands based on the set of
standards called <ulink url="&ieeeiacbb;">IEEE 802.11</ulink>.</simpara>
        <simpara>The WLAN interfaces are almost like normal Ethernet interfaces but require
some network ID and encryption key data to be provided when they are
initialized.  The higher level network tools are exactly the same as the
Ethernet except the interface names are a bit different like
<literal>ath0</literal>, <literal>wlan0</literal>, <literal>ath0</literal>,
<literal>wifi0</literal>, … depending on the kernel drivers used.</simpara>
        <simpara>Here are some keywords to remember for the WLAN:</simpara>
        <table id="listofacronymsforwlan" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of acronyms for WLAN.</title>
          <tgroup cols="3">
            <colspec colwidth="108" align="left"/>
            <colspec colwidth="108" align="left"/>
            <colspec colwidth="288" align="left"/>
            <thead>
              <row>
                <entry>
    acronym
    </entry>
                <entry>
    full word
    </entry>
                <entry>
    意味
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
    NWID
    </entry>
                <entry>
    Network ID
    </entry>
                <entry>
    The 16 bit network ID used by pre-802.11 <ulink
url="&wavelan;">WaveLAN</ulink> network. Very much deprecated.
    </entry>
              </row>
              <row>
                <entry>
    (E)SSID
    </entry>
                <entry>
    (Extended) <ulink url="&servicesetidentifier;">Service Set
Identifier</ulink>
    </entry>
                <entry>
    The network name of the <ulink url="&wirelessaccesspointsaps;">Wireless
Access Points (APs)</ulink> interconnected to form an integrated <ulink
url="&iacbbwirelesslan;">802.11 wireless LAN</ulink>.  Domain ID.
    </entry>
              </row>
              <row>
                <entry>
    WEP, (WEP2)
    </entry>
                <entry>
                  <ulink url="&wiredequivalentprivacy;">Wired Equivalent Privacy</ulink>
                </entry>
                <entry>
    The 1st generation 64-bit (128-bit) wireless encryption standard with 40-bit
key. Deprecated.
    </entry>
              </row>
              <row>
                <entry>
    WPA
    </entry>
                <entry>
                  <ulink url="&wifiprotectedaccess;">Wi-Fi保護アクセス(Protected Access)</ulink>
                </entry>
                <entry>
    The 2nd generation wireless encryption standard (most of 802.11i),
compatible with WEP.
    </entry>
              </row>
              <row>
                <entry>
    WPA2
    </entry>
                <entry>
                  <ulink url="&wifiprotectedaccessc;">Wi-Fi保護アクセス(Protected Access)2</ulink>
                </entry>
                <entry>
    The 3rd generation wireless encryption standard (full 802.11i),
non-compatible with WEP.
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>The actual choice of protocol is usually limited by the wireless router you
deploy.</simpara>
      </section>
      <section id="_the_wireless_lan_interface_with_wpa_wpa2">
        <title>The wireless LAN interface with WPA/WPA2</title>
        <simpara>You need to install the <literal>wpasupplicant</literal> package to support
the WLAN with the new WPA/WPA2.</simpara>
        <simpara>In case of the DHCP served IP on WLAN connection, the <emphasis
role="strong"><literal>/e/n/i</literal></emphasis> file entry should be:</simpara>
        <screen>allow-hotplug ath0
iface ath0 inet dhcp
 wpa-ssid homezone
 # hexadecimal psk is encoded from a plaintext passphrase
 wpa-psk 000102030405060708090a0b0c0d0e0f101112131415161718191a1b1c1d1e1f</screen>
        <simpara>See more on
"<literal>/usr/share/doc/wpasupplicant/README.modes.gz</literal>".</simpara>
      </section>
      <section id="_the_wireless_lan_interface_with_wep">
        <title>The wireless LAN interface with WEP</title>
        <simpara>You need to install the <literal>wireless-tools</literal> package to support
the WLAN with the old WEP.  (Your consumer grade router may still be using.
Insecure infrastructure but better than nothing.)</simpara>
        <caution>
          <simpara>Please note that your network traffic on WLAN may be sniffed by others.</simpara>
        </caution>
        <simpara>In case of the <ulink url="&dhcp;">DHCP</ulink> served IP on WLAN
connection, the <emphasis role="strong"><literal>/e/n/i</literal></emphasis>
file entry should be:</simpara>
        <screen>allow-hotplug eth0
iface eth0 inet dhcp
 wireless-essid Home
 wireless-key1 0123-4567-89ab-cdef
 wireless-key2 12345678
 wireless-key3 s:password
 wireless-defaultkey 2
 wireless-keymode open</screen>
        <simpara>See more on
"<literal>/usr/share/doc/wireless-tools/README.Debian</literal>".</simpara>
      </section>
      <section id="_the_ppp_connection">
        <title>The PPP connection</title>
        <simpara>You need to configure the PPP connection first as described before (see
<xref linkend="_the_ppp_connection_with_pppconfig"/>).  Then, add the
<emphasis role="strong"><literal>/e/n/i</literal></emphasis> file entry for
the primary PPP device <literal>ppp0</literal> as:</simpara>
        <screen>iface ppp0 inet ppp
 provider &lt;isp_name&gt;</screen>
      </section>
      <section id="_the_alternative_ppp_connection">
        <title>The alternative PPP connection</title>
        <simpara>You need to configure the alternative PPP connection with
<literal>wvdial</literal> first as described before (see <xref
linkend="_the_alternative_ppp_connection_with_wvdialconf"/>).  Then, add the
<emphasis role="strong"><literal>/e/n/i</literal></emphasis> file entry for
the primary PPP device <literal>ppp0</literal> as:</simpara>
        <screen>iface ppp0 inet wvdial</screen>
      </section>
      <section id="_the_pppoe_connection">
        <title>The PPPoE connection</title>
        <simpara>For PC connected directly to the WAN served by the PPPoE, you need to
configure system with the PPPoE connection as described before (see <xref
linkend="_the_pppoe_connection_with_pppoeconf"/>).  Then, add the <emphasis
role="strong"><literal>/e/n/i</literal></emphasis> file entry for the
primary PPPoE device <literal>eth0</literal> as:</simpara>
        <screen>allow-hotplug eth0
iface eth0 inet manual
 pre-up /sbin/ifconfig eth0 up
 up ifup ppp0=dsl
 down ifdown ppp0=dsl
 post-down /sbin/ifconfig eth0 down
# The following is used internally only
iface dsl inet ppp
 provider dsl-provider</screen>
      </section>
      <section id="_the_network_configuration_state_of_ifupdown">
        <title>The network configuration state of ifupdown</title>
        <simpara>The "<literal>/etc/network/run/ifstate</literal>" file stores the <emphasis
role="strong">intended</emphasis> network configuration states for all the
currently active network interfaces managed by the
<literal>ifupdown</literal> package are listed. Unfortunately, even if the
<literal>ifupdown</literal> system fails to bring up the interface as
intended, the "<literal>/etc/network/run/ifstate</literal>" file lists it
active.</simpara>
        <simpara>The output of the <literal>ifconfig</literal>(8) command without any
arguments or with the interface name as its argument provides the <emphasis
role="strong">actual</emphasis> network configuration state.  If the
interface does not have the second line as:</simpara>
        <screen>          inet addr:192.168.11.2  Bcast:192.168.11.255  Mask:255.255.255.0</screen>
        <simpara>it can not be used as a part of <ulink url="&ipvenetwork;">IPV4
network</ulink>.</simpara>
        <note>
          <simpara>For the Ethernet device connected to the PPPoE, the output of the
<literal>ifconfig</literal>(8) command lacks above line.</simpara>
        </note>
      </section>
      <section id="_the_basic_network_reconfiguration">
        <title>基本ネットワーク設定</title>
        <simpara>When you try to reconfigure the interface, e.g. <literal>eth0</literal>, you
must disable it first with the "<emphasis role="strong"><literal>sudo ifdown
eth0</literal></emphasis>" command.  This will remove the entry of
<literal>eth0</literal> from the
"<literal>/etc/network/run/ifstate</literal>" file. (This may result in some
error message if <literal>eth0</literal> is not active or it is configured
improperly previously.  So far, it seems to be safe to do this for the
simple single user work station at any time.)</simpara>
        <simpara>You are now free to rewrite the <emphasis
role="strong"><literal>/e/n/i</literal></emphasis> contents as needed to
reconfigure the network interface, <literal>eth0</literal>.</simpara>
        <simpara>Then, you can reactivate <literal>eth0</literal> with the "<emphasis
role="strong"><literal>sudo ifup eth0</literal></emphasis>" command.</simpara>
        <tip>
          <simpara>You can (re)initialize the network interface simply by "<emphasis
role="strong"><literal>sudo ifdown eth0;sudo ifup
eth0</literal></emphasis>".</simpara>
        </tip>
      </section>
      <section id="_the_ifupdown_extra_package">
        <title>The ifupdown-extra package</title>
        <simpara>The <literal>ifupdown-extra</literal> package provides the easy network
connection test for use with the <literal>ifupdown</literal> package:</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
the <literal>network-test</literal>(1) command from the shell, and
</simpara>
          </listitem>
          <listitem>
            <simpara>
the automatic scripts run for each <literal>ifup</literal> command
execution.
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>The <literal>network-test</literal> command frees you from the execution of
cumbersome low level commands to analyze the network problem.</simpara>
        <simpara>The automatic scripts are installed in "<literal>/etc/network/*/</literal>"
and:</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
check the network cable connection,
</simpara>
          </listitem>
          <listitem>
            <simpara>
check duplicate use of IP address,
</simpara>
          </listitem>
          <listitem>
            <simpara>
setup system's static routes based on the
"<literal>/etc/network/routes</literal>" definition,
</simpara>
          </listitem>
          <listitem>
            <simpara>
check if network gateway is reachable, and
</simpara>
          </listitem>
          <listitem>
            <simpara>
record results in the "<literal>/var/log/syslog</literal>" file.
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>This syslog record is quite useful for administration of the network problem
on the remote system.</simpara>
        <tip>
          <simpara>The automatic behavior of the <literal>ifupdown-extra</literal> package is
configurable with the "<literal>/etc/default/network-test</literal>". Some
of these automatic checks slow down the system bootup a little bit since it
takes some time to listen for <ulink url="&arp;">ARP</ulink> replies.</simpara>
        </tip>
      </section>
    </section>
    <section id="_the_advanced_network_configuration_with_ifupdown">
      <title>The advanced network configuration with ifupdown</title>
      <simpara>The functionality of the <literal>ifupdown</literal> package can be improved
beyond what was described in <xref
linkend="_the_basic_network_configuration_with_ifupdown"/> with the advanced
knowledge.</simpara>
      <simpara>The functionalities described here are completely optional.  I, being lazy
and minimalist, rarely bother to use these.</simpara>
      <caution>
        <simpara>If you could not set up network connection by information in <xref
linkend="_the_basic_network_configuration_with_ifupdown"/>, you will make
situation worse by using information below.</simpara>
      </caution>
      <section id="_the_ifplugd_package">
        <title>ifplugdパッケージ</title>
        <simpara>The <literal>ifplugd</literal> package is older automatic network
configuration tool which can manage only Ethernet connections. This solves
unplugged/replugged Ethernet cable issues for mobile PC etc..  If you have
<ulink url="&networkmanager;">NetworkManager</ulink> or <ulink
url="&wicd;">Wicd</ulink> (see <xref
linkend="_automatic_network_configuration"/>) installled, you do not need
this package.</simpara>
        <simpara>This package runs <ulink url="&daemon;">daemon</ulink> and replaces
<emphasis role="strong">auto</emphasis> or <emphasis
role="strong">allow-hotplug</emphasis> functionalities (see <xref
linkend="list-of-stanzas-in-eni"/> and starts interfaces upon their
connection to the network.</simpara>
        <simpara>Here is how to use the <literal>ifplugd</literal> package for the internal
Ethernet port, e.g. <literal>eth0</literal>:</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
Remove stanza in <emphasis
role="strong"><literal>/e/n/i</literal></emphasis>: "<literal>auto
eth0</literal>" or "<literal>allow-hotplug eth0</literal>",
</simpara>
          </listitem>
          <listitem>
            <simpara>
Keep stanza in <emphasis role="strong"><literal>/e/n/i</literal></emphasis>:
"<literal>iface eth0 inet …</literal>" and "<literal>mapping …</literal>",
</simpara>
          </listitem>
          <listitem>
            <simpara>
Install the <literal>ifplugd</literal> package,
</simpara>
          </listitem>
          <listitem>
            <simpara>
Run "<literal>sudo dpkg-reconfigure ifplugd</literal>", and
</simpara>
          </listitem>
          <listitem>
            <simpara>
Put <literal>eth0</literal> as the "static interfaces to be watched by
ifplugd".
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>Now, the network reconfiguration works as you desire:</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
Upon power-on or upon hardware discovery, the interface is not brought up by
itself.
</simpara>
            <itemizedlist>
              <listitem>
                <simpara>
Quick boot process without the long DHCP timeout.
</simpara>
              </listitem>
              <listitem>
                <simpara>
No funny activated interface without proper IPv4 address (see <xref
linkend="_the_network_configuration_state_of_ifupdown"/>).
</simpara>
              </listitem>
            </itemizedlist>
          </listitem>
          <listitem>
            <simpara>
Upon finding the Ethernet cable, the interface is brought up.
</simpara>
          </listitem>
          <listitem>
            <simpara>
Upon some time after unplugging the Ethernet cable, the interface is brought
down automatically.
</simpara>
          </listitem>
          <listitem>
            <simpara>
Upon plugging in another Ethernet cable, the interface will be brought up
under the new network environment.
</simpara>
          </listitem>
        </itemizedlist>
        <tip>
          <simpara>The arguments for the <literal>ifplugd</literal>(8) command can set its
behaviors such as the delay for reconfiguring interfaces.</simpara>
        </tip>
      </section>
      <section id="_the_ifmetric_package">
        <title>ifmetricパッケージ</title>
        <simpara>The <literal>ifmeric</literal> package enables us to manipulate metrics of
routes a posteriori even for DHCP.</simpara>
        <simpara>The following will set the <literal>eth0</literal> interface to be preferred
over the <literal>wlan0</literal> interface:</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
Install the <literal>ifmetric</literal> package, and
</simpara>
          </listitem>
          <listitem>
            <simpara>
Add an option line with "<literal>metric 0</literal>" just below the
"<literal>iface eth0 inet dhcp</literal>" line.
</simpara>
          </listitem>
          <listitem>
            <simpara>
Add an option line with "<literal>metric 1</literal>" just below the
"<literal>iface wlan0 inet dhcp</literal>" line.
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>The metric 0 means the highest priority route and is the default one.  The
larger metric value means lower priority routes. The IP address of the
active interface with the lowest metric value becomes the originating
one. See <literal>ifmetric</literal>(8).</simpara>
      </section>
      <section id="_the_virtual_interface">
        <title>仮想インターフェース</title>
        <simpara>A single physical Ethernet interface can be configured as multiple virtual
interfaces with different IP addresses.  Usually the purpose is to connect
an interface to several IP subnetworks.  For example, IP address based
virtual web hosting by a single network interface is one such application.</simpara>
        <simpara>For example, let's suppose that</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
a single Ethernet interface on your host is connected to a Ethernet hub (not
to the broadband router),
</simpara>
          </listitem>
          <listitem>
            <simpara>
the Ethernet hub is connected to both the Internet and LAN network,
</simpara>
          </listitem>
          <listitem>
            <simpara>
the Internet and LAN network by a single Ethernet interface with the
Ethernet hub,
</simpara>
          </listitem>
          <listitem>
            <simpara>
the LAN network uses subnet <literal>192.168.0.x/24</literal>,
</simpara>
          </listitem>
          <listitem>
            <simpara>
your host uses DHCP served IP address with the physical interface
<literal>eth0</literal> for the Internet, and
</simpara>
          </listitem>
          <listitem>
            <simpara>
your host uses <literal>192.168.0.1</literal> with the virtual interface
<literal>eth0:0</literal> for the LAN, then following stanzas in <emphasis
role="strong"><literal>/e/n/i</literal></emphasis> will configure your
network:
</simpara>
            <screen>iface eth0 inet dhcp
 metric 0
iface eth0:0 inet static
 address 192.168.0.1
 netmask 255.255.255.0
 network 192.168.0.0
 broadcast 192.168.0.255
 metric 1</screen>
          </listitem>
        </itemizedlist>
        <caution>
          <simpara>Although this configuration example with <ulink
url="&networkaddresstranslationnat;">network address translation
(NAT)</ulink> using <ulink
url="&netfilteriptables;">netfilter/iptables</ulink> (see <xref
linkend="_netfilter"/>) can provide cheap router for the LAN with only
single interface, there is no real firewall capability with such set up.
You should use 2 physical interfaces with NAT to secure the local network
from Internet.</simpara>
        </caution>
      </section>
      <section id="_the_advanced_command_syntax">
        <title>上級コマンドシンタックス</title>
        <simpara>The <literal>ifupdown</literal> package offers advanced network
configuration using the <emphasis role="strong">network
configuration</emphasis> name and the <emphasis role="strong">network
interface</emphasis> name.  I use slightly different terminology from one
used in <literal>ifup</literal>(8) and <literal>interfaces</literal>(5).</simpara>
        <table id="listofterminologornetworkdevices" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of terminology for network devices.</title>
          <tgroup cols="4">
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="288" align="left"/>
            <thead>
              <row>
                <entry>
    manpage terminology
    </entry>
                <entry>
    my terminology
    </entry>
                <entry>
    explanation
    </entry>
                <entry>
    examples in the following text
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><emphasis role="strong">物理インターフェース</emphasis>名
    </entry>
                <entry><emphasis role="strong">ネットワークインターフェース</emphasis>名
    </entry>
                <entry>
    A name given by the Linux kernel (using <literal>udev</literal> mechanism).
    </entry>
                <entry><literal>lo</literal>, <literal>eth0</literal>,
<literal>&lt;interface_name&gt;</literal></entry>
              </row>
              <row>
                <entry><emphasis role="strong">論理インターフェース</emphasis>名
    </entry>
                <entry><emphasis role="strong">ネットワーク設定</emphasis>名
    </entry>
                <entry>
    A name token following <emphasis
role="strong"><literal>iface</literal></emphasis> in the <emphasis
role="strong"><literal>/e/n/i</literal></emphasis>.
    </entry>
                <entry><literal>config1</literal>, <literal>config2</literal>,
<literal>&lt;config_name&gt;</literal></entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>Basic network configuration commands in <xref
linkend="_the_basic_syntax_of_etc_network_interfaces"/> require the
<emphasis role="strong">network configuration</emphasis> name token of the
<emphasis role="strong"><literal>iface</literal></emphasis> stanza to match
the <emphasis role="strong">network interface</emphasis> name in the
<emphasis role="strong"><literal>/e/n/i</literal></emphasis>.</simpara>
        <simpara>Advanced network configuration commands enables separation of the <emphasis
role="strong">network configuration</emphasis> name and the <emphasis
role="strong">network interface</emphasis> name in the <emphasis
role="strong"><literal>/e/n/i</literal></emphasis>:</simpara>
        <table id="listofadvancedneandswithifupdown" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of advanced network configuration commands with ifupdown.</title>
          <tgroup cols="2">
            <colspec colwidth="144" align="left"/>
            <colspec colwidth="360" align="left"/>
            <thead>
              <row>
                <entry>
    コマンド
    </entry>
                <entry>
    アクション
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>ifup eth0=config1</literal>
                </entry>
                <entry>
    To bring up a network interface <literal>eth0</literal> with the
configuration <literal>config1</literal>.
    </entry>
              </row>
              <row>
                <entry>
                  <literal>ifdown eth0=config1</literal>
                </entry>
                <entry>
    To bring down a network interface <literal>eth0</literal> with the
configuration <literal>config1</literal>.
    </entry>
              </row>
              <row>
                <entry>
                  <literal>ifup eth0</literal>
                </entry>
                <entry>
    To bring up a network interface <literal>eth0</literal> with the
configuration selected by <emphasis
role="strong"><literal>mapping</literal></emphasis> stanza.
    </entry>
              </row>
              <row>
                <entry>
                  <literal>ifdown eth0</literal>
                </entry>
                <entry>
    To bring down a network interface <literal>eth0</literal> with the
configuration selected by <emphasis
role="strong"><literal>mapping</literal></emphasis> stanza.
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </section>
      <section id="_the_mapping_stanza">
        <title>The mapping stanza</title>
        <simpara>We skipped explaining the <emphasis
role="strong"><literal>mapping</literal></emphasis> stanza in the <emphasis
role="strong"><literal>/e/n/i</literal></emphasis> in <xref
linkend="_the_basic_syntax_of_etc_network_interfaces"/> to avoid
complication.  This stanza has the following syntax:</simpara>
        <screen>mapping &lt;interface_name_glob&gt;
 script &lt;script_name&gt;
 map &lt;script_input1&gt;
 map &lt;script_input2&gt;
 map ...</screen>
        <simpara>This provides advanced feature to the <emphasis
role="strong"><literal>/e/n/i</literal></emphasis> file by automating the
choice of the configuration with the mapping script specified by
<literal>&lt;script_name&gt;</literal>.</simpara>
        <simpara>When the "<literal>&lt;interface_name_glob&gt;</literal>" matches
"<literal>eth0</literal>", the execution of</simpara>
        <screen>$ sudo ifup eth0</screen>
        <simpara>will produce the execution of:</simpara>
        <screen>$ sudo ifup eth0=$(echo -e '&lt;script_input1&gt; \n &lt;script_input2&gt; \n ...' | &lt;script_name&gt; eth0)</screen>
        <simpara>to configure <literal>eth0</literal> automatically. Here, lines with
"<literal>map</literal>" are optional and can be repeated.</simpara>
        <note>
          <simpara>The glob for <emphasis role="strong"><literal>mapping</literal></emphasis>
stanza works like shell file name glob.</simpara>
        </note>
      </section>
      <section id="_the_manually_switchable_network_configuration">
        <title>The manually switchable network configuration</title>
        <simpara>Here is how to switch manually among several network configurations without
rewriting the <emphasis role="strong"><literal>/e/n/i</literal></emphasis>
file as in <xref linkend="_the_basic_network_reconfiguration"/> .</simpara>
        <simpara>For all the network configuration you need to access, you create a single
<emphasis role="strong"><literal>/e/n/i</literal></emphasis> file, e.g,:</simpara>
        <screen>auto lo
iface lo inet loopback

iface config1 inet dhcp
 hostname "mymachine"

iface config2 inet static
 address 192.168.11.100
 netmask 255.255.255.0
 broadcast 192.168.11.255
 gateway 192.168.11.1
 dns-domain lan
 dns-nameservers 192.168.11.1

iface pppoe inet manual
 pre-up /sbin/ifconfig eth0 up
 up ifup ppp0=dsl
 down ifdown ppp0=dsl
 post-down /sbin/ifconfig eth0 down

# The following is used internally only
iface dsl inet ppp
 provider dsl-provider

iface pots inet ppp
 provider provider</screen>
        <simpara>Please note the <emphasis role="strong">network configuration
name</emphasis> which is the token after <emphasis
role="strong"><literal>iface</literal></emphasis> does not use the token for
the <emphasis role="strong">network interface name</emphasis>.  Also, there
are no <emphasis role="strong"><literal>auto</literal></emphasis> stanza nor
<emphasis role="strong"><literal>allow-hotplug</literal></emphasis> stanza
to start the network interface <literal>eth0</literal> automatically upon
events.</simpara>
        <simpara>Now you are ready to switch the network configuration.</simpara>
        <simpara>Let's move your PC to a LAN served by the DHCP.  You bring up the <emphasis
role="strong">network interface</emphasis> (the physical interface)
<literal>eth0</literal> by assigning the <emphasis role="strong">network
configuration</emphasis> name (the logical interface name)
<literal>config1</literal> to it:</simpara>
        <screen>$ sudo ifup eth0=config1
Password:
...</screen>
        <simpara>The interface <literal>eth0</literal> is up, configured by DHCP and
connected to LAN.</simpara>
        <screen>$ sudo ifdown eth0=config1
...</screen>
        <simpara>The interface <literal>eth0</literal> is down and disconnected from LAN.</simpara>
        <simpara>Let's move your PC to a LAN served by the static IP.  You bring up the
<emphasis role="strong">network interface</emphasis> <literal>eth0</literal>
by assigning the <emphasis role="strong">network configuration</emphasis>
name <literal>config2</literal> to it:</simpara>
        <screen>$ sudo ifup eth0=config2
...</screen>
        <simpara>The interface <literal>eth0</literal> is up, configured with static IP and
connected to LAN. The additional parameters given as
<literal>dns-*</literal> configures "<literal>/etc/resolv.conf</literal>"
contents.  This "<literal>/etc/resolv.conf</literal>" is better manged if
the <literal>resolvconf</literal> package is installed.</simpara>
        <screen>$ sudo ifdown eth0=config2
...</screen>
        <simpara>The interface <literal>eth0</literal> is down and disconnected from LAN,
again.</simpara>
        <simpara>Let's move your PC directly connected to BB-modem connected to the PPPoE
served service.  You bring up the <emphasis role="strong">network
interface</emphasis> <literal>eth0</literal> by assigning the <emphasis
role="strong">network configuration</emphasis> name <literal>pppoe</literal>
to it:</simpara>
        <screen>$ sudo ifup eth0=pppoe
...</screen>
        <simpara>The interface <literal>eth0</literal> is up, configured with PPPoE
connection directly to the ISP.</simpara>
        <screen>$ sudo ifdown eth0=pppoe
...</screen>
        <simpara>The interface <literal>eth0</literal> is down and disconnected, again.</simpara>
        <simpara>Let's move your PC to a location without LAN or BB-modem but with POTS and
modem.  You bring up the <emphasis role="strong">network
interface</emphasis> <literal>ppp0</literal> by assigning the <emphasis
role="strong">network configuration</emphasis> name <literal>pots</literal>
to it:</simpara>
        <screen>$ sudo ifup ppp0=pots
...</screen>
        <simpara>The interface <literal>ppp0</literal> is up and connected to the Internet
with PPP.</simpara>
        <screen>$ sudo ifdown ppp0=pots
...</screen>
        <simpara>The interface <literal>ppp0</literal> is down and disconnected from the
Internet.</simpara>
        <simpara>You should check the "<literal>/etc/network/run/ifstate</literal>" file for
the current network configuration state of the <literal>ifupdown</literal>
system.</simpara>
        <warning>
          <simpara>You may need to adjust numbers at the end of <literal>eth*</literal>,
<literal>ppp*</literal>, etc. if you have multiple network interfaces.</simpara>
        </warning>
      </section>
      <section id="_scripting_with_the_ifupdown_system">
        <title>Scripting with the ifupdown system</title>
        <simpara>The <literal>ifupdown</literal> system automatically runs scripts installed
in "<literal>/etc/network/*/</literal>" while exporting environment
variables to scripts:</simpara>
        <table id="listofenvironmenheifupdownsystem" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of environment variables passed by the ifupdown system</title>
          <tgroup cols="2">
            <colspec colwidth="144" align="left"/>
            <colspec colwidth="360" align="left"/>
            <thead>
              <row>
                <entry>
    environment variable
    </entry>
                <entry>
    value passed
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
    "<literal>$IFACE</literal>"
    </entry>
                <entry>
    physical name (interface name) of the interface being processed.
    </entry>
              </row>
              <row>
                <entry>
    "<literal>$LOGICAL</literal>"
    </entry>
                <entry>
    logical name (configuration name) of the interface being processed.
    </entry>
              </row>
              <row>
                <entry>
    "<literal>$ADDRFAM</literal>"
    </entry>
                <entry>
    address family of the interface.
    </entry>
              </row>
              <row>
                <entry>
    "<literal>$METHOD</literal>"
    </entry>
                <entry>
    method of the interface. (e.g., "static")
    </entry>
              </row>
              <row>
                <entry>
    "<literal>$MODE</literal>"
    </entry>
                <entry>
    "start" if run from <literal>ifup</literal>, "stop" if run from
<literal>ifdown</literal>.
    </entry>
              </row>
              <row>
                <entry>
    "<literal>$PHASE</literal>"
    </entry>
                <entry>
    as per MODE, but with finer granularity, distinguishing the pre-up, post-up,
pre-down and post-down phases.
    </entry>
              </row>
              <row>
                <entry>
    "<literal>$VERBOSITY</literal>"
    </entry>
                <entry>
    indicates whether "<literal>--verbose</literal>" was used; set to 1 if so, 0
if not.
    </entry>
              </row>
              <row>
                <entry>
    "<literal>$PATH</literal>"
    </entry>
                <entry>
    the command search path:
"<literal>/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin</literal>"
    </entry>
              </row>
              <row>
                <entry>
    "<literal>$IF_&lt;OPTION&gt;</literal>"
    </entry>
                <entry>
    the value for the corresponding option under the <emphasis
role="strong"><literal>iface</literal></emphasis> stanza.
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>Here, each environment variable, "<literal>$IF_&lt;OPTION&gt;</literal>", is
created from the name for the corresponding option by prepending
"<literal>$IF_</literal>", converting the case to the upper case, replacing
hyphens to underscores, and discarding non-alphanumeric characters.</simpara>
        <simpara>The <literal>ifupdown-extra</literal> package (see <xref
linkend="_the_ifupdown_extra_package"/>) uses these environment variables to
extend the functionality of the <literal>ifupdown</literal> package.  The
<literal>ifmetric</literal> package (see <xref
linkend="_the_ifmetric_package"/>) installs the
"<literal>/etc/network/if-up.d/ifmetric</literal>" script which sets the
metric via the "<literal>$IF_METRIC</literal>" variable.  The
<literal>guessnet</literal> package (see <xref
linkend="_mapping_with_guessnet"/>), which provides simple and powerful
framework for the auto-selection of the network configuration via the
mapping mechanism, also uses these.</simpara>
        <note>
          <simpara>For more specific examples of custom network configuration scripts using
these environment variables, you should check example scripts in
"<literal>/usr/share/doc/ifupdown/examples/*</literal>" and scripts used in
<literal>ifscheme</literal> and <literal>ifupdown-scripts-zg2</literal>
packages.  These additional scripts have some overlaps of functinalities
with basic <literal>ifupdown-extra</literal> and <literal>guessnet</literal>
packages.  If you install these additional scripts, you should customize
these scripts to avoid interferences.</simpara>
        </note>
      </section>
      <section id="_mapping_with_guessnet">
        <title>Mapping with guessnet</title>
        <simpara>Instead of manually choosing configuration as described in <xref
linkend="_the_manually_switchable_network_configuration"/>, you can use the
mapping mechanism described in <xref linkend="_the_mapping_stanza"/> to
select network configuration automatically with custom scripts.</simpara>
        <simpara>The <literal>guessnet-ifupdown</literal>(8) command provided by the
<literal>guessnet</literal> package is designed to be used as a mapping
script and provides powerful framework to enhance the
<literal>ifupdown</literal> system.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
you list test condition as the value for <emphasis
role="strong"><literal>guessnet</literal></emphasis> options for each
network configuration under <emphasis
role="strong"><literal>iface</literal></emphasis> stanza.
</simpara>
          </listitem>
          <listitem>
            <simpara>
mapping will chose the <emphasis
role="strong"><literal>iface</literal></emphasis> with first non-ERROR
result as the network configuration.
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>This dual usage of the <emphasis
role="strong"><literal>/e/n/i</literal></emphasis> file by the mapping
script, <literal>guessnet-ifupdown</literal>, and the original network
configuration infrastructure, <literal>ifupdown</literal>, does not cause
negative impacts since <emphasis
role="strong"><literal>guessnet</literal></emphasis> options only export
extra environment variables to scripts run by the
<literal>ifupdown</literal> system.  See details in
<literal>guessnet-ifupdown</literal>(8).</simpara>
        <note>
          <simpara>When multiple <emphasis role="strong"><literal>guessnet</literal></emphasis>
option lines are required in <emphasis
role="strong"><literal>/e/n/i</literal></emphasis>, use option lines started
with <emphasis role="strong"><literal>guessnet1</literal></emphasis>,
<emphasis role="strong"><literal>guessnet2</literal></emphasis>, and so on,
since the <literal>ifupdown</literal> package does not allow starting
strings of option lines to be repeated.</simpara>
        </note>
      </section>
    </section>
    <section id="_the_network_configuration_for_desktop">
      <title>The network configuration for desktop</title>
      <section id="_gui_network_configuration_tools">
        <title>GUI network configuration tools</title>
        <simpara>The capability of default GUI network configuration tools for each desktop
environments such as GNOME tends to be limited to basic configurations such
as static IP or DHCP.  They actually overwrite contents of <emphasis
role="strong"><literal>/e/n/i</literal></emphasis> file behind you. Please
check how they change <emphasis role="strong">e/n/i</emphasis> file by
yourself.</simpara>
        <caution>
          <simpara>They may not understand complicated advanced configuration done manually in
<emphasis role="strong"><literal>/e/n/i</literal></emphasis> file.</simpara>
        </caution>
      </section>
      <section id="_automatic_network_configuration">
        <title>自動ネットワーク設定</title>
        <simpara>There are independent automatic network configuration tools, such as <ulink
url="&networkmanagernm;">NetworkManager (NM)</ulink>
(<literal>network-manager</literal> and associated packages) and <ulink
url="&wicd;">Wicd</ulink> (<literal>wicd</literal> package) which manage
network connection via <ulink url="&daemon;">daemon</ulink> independen of
the <literal>ifupdown</literal> package. They allow easy management of
wireless connections.  These come with its own nice GUI user interfaces.</simpara>
        <warning>
          <simpara>Do not use these automatic network configuration tools for servers.  These
are aimed primarily for mobile desktop users on laptops.</simpara>
        </warning>
        <caution>
          <simpara>These automatic network configuration tools may not be compatible with
esoteric configurations of <literal>ifupdown</literal> in <emphasis
role="strong"><literal>/e/n/i</literal></emphasis> such as ones in <xref
linkend="_the_basic_network_configuration_with_ifupdown"/> and <xref
linkend="_the_advanced_network_configuration_with_ifupdown"/>.  Having even
"<literal>hostname</literal>" stanza for DHCP controlled interface as
described in <xref linkend="_the_network_interface_served_by_the_dhcp"/>
caused NM to ignore such interface in <literal>lenny</literal>. Check <ulink
url="&btsofnetworkmanager;">BTS of network-manager</ulink> and <ulink
url="&btsofwicd;">BTS of wicd</ulink> for current issues and limitations.</simpara>
        </caution>
        <simpara>The configuration of NM is described in
"<literal>/usr/share/doc/network-manager/README.Debian</literal>".
Essentially:</simpara>
        <orderedlist>
          <listitem>
            <simpara>
Make desktop user, e.g. <literal>foo</literal>, belong to group
"<literal>netdev</literal>" by:
</simpara>
            <screen>$ sudo adduser foo netdev</screen>
          </listitem>
          <listitem>
            <simpara>
Keep configuration of <emphasis
role="strong"><literal>/e/n/i</literal></emphasis> as simple as:
</simpara>
            <screen>auto lo
iface lo inet loopback

auto eth0
iface eth0 inet dhcp</screen>
          </listitem>
          <listitem>
            <simpara>
Restart NM by:
</simpara>
            <screen>$ sudo /etc/init.d/network-manager restart</screen>
          </listitem>
        </orderedlist>
        <note>
          <simpara>Only interfaces which are <emphasis role="strong">not</emphasis> listed in
<emphasis role="strong"><literal>/e/n/i</literal></emphasis> or which have
been configured with "<literal>auto …</literal>" or "<literal>allow-hotplug
…</literal>" and "<literal>iface … inet dhcp</literal>" (with no other
options) are managed by NM to avoid conflict with
<literal>ifupdown</literal>.</simpara>
        </note>
        <simpara>The configuration of <ulink url="&wicd;">Wicd</ulink> is described in
"<literal>/usr/share/doc/wicd/README.Debian</literal>".  Essentially:</simpara>
        <orderedlist>
          <listitem>
            <simpara>
Make configuration in <emphasis
role="strong"><literal>/e/n/i</literal></emphasis> only as:
</simpara>
            <screen>auto lo
iface lo inet loopback</screen>
          </listitem>
          <listitem>
            <simpara>
Restart Wicd.
</simpara>
            <screen>$ sudo /etc/init.d/wicd restart</screen>
          </listitem>
        </orderedlist>
      </section>
    </section>
    <section id="_the_low_level_network_configuration">
      <title>The low level network configuration</title>
      <section id="_iproute2_commands">
        <title>Iproute2 commands</title>
        <simpara><ulink url="&iproutec;">Iproute2</ulink> commands offer complete low-level
network configuration capabilities. Here is a translation table from
obsolete <ulink url="&nettools;">net-tools</ulink> commands to new <ulink
url="&iproutec;">iproute2</ulink> etc. commands.</simpara>
        <table id="translationtableiprouteccommands" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>Translation table from obsolete <literal>net-tools</literal> commands to new
<literal>iproute2</literal> commands.</title>
          <tgroup cols="3">
            <colspec colwidth="108" align="left"/>
            <colspec colwidth="108" align="left"/>
            <colspec colwidth="288" align="left"/>
            <thead>
              <row>
                <entry>
    obsolete net-tools
    </entry>
                <entry>
    new iproute2 etc.
    </entry>
                <entry>
    manipulation
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><literal>ifconfig</literal>(8)
    </entry>
                <entry>
                  <literal>ip addr</literal>
                </entry>
                <entry>
    protocol (IP or IPv6) address on a device.
    </entry>
              </row>
              <row>
                <entry><literal>route</literal>(8)
    </entry>
                <entry>
                  <literal>ip route</literal>
                </entry>
                <entry>
    routing table entry.
    </entry>
              </row>
              <row>
                <entry><literal>arp</literal>(8)
    </entry>
                <entry>
                  <literal>ip neigh</literal>
                </entry>
                <entry>
    ARP or NDISC cache entry.
    </entry>
              </row>
              <row>
                <entry>
                  <literal>ipmaddr</literal>
                </entry>
                <entry>
                  <literal>ip maddr</literal>
                </entry>
                <entry>
    multicast address.
    </entry>
              </row>
              <row>
                <entry>
                  <literal>iptunnel</literal>
                </entry>
                <entry>
                  <literal>ip tunnel</literal>
                </entry>
                <entry>
    tunnel over IP.
    </entry>
              </row>
              <row>
                <entry><literal>nameif</literal>(8)
    </entry>
                <entry><literal>ifrename</literal>(8)
    </entry>
                <entry>
    name network interfaces based on MAC addresses.
    </entry>
              </row>
              <row>
                <entry><literal>mii-tool</literal>(8)
    </entry>
                <entry><literal>ethtool</literal>(8)
    </entry>
                <entry>
    Ethernet device settings.
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>See <literal>ip</literal>(8) and <ulink
url="&iproutecutilitysuitehowto;">IPROUTE2 Utility Suite Howto</ulink>.</simpara>
      </section>
      <section id="_safe_lower_level_network_operations">
        <title>Safe lower level network operations</title>
        <simpara>You may use the lower level network commands as follows safely since they do
not change network configuration:</simpara>
        <table id="listoflowerlevelnetworkcommands" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of lower level network commands.</title>
          <tgroup cols="2">
            <colspec colwidth="144" align="left"/>
            <colspec colwidth="360" align="left"/>
            <thead>
              <row>
                <entry>
    コマンド
    </entry>
                <entry>
    説明
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>ifconfig</literal>
                </entry>
                <entry>
    displays the link and address status of active interfaces
    </entry>
              </row>
              <row>
                <entry>
                  <literal>ip addr show</literal>
                </entry>
                <entry>
    displays the link and address status of active interfaces
    </entry>
              </row>
              <row>
                <entry>
                  <literal>route -n</literal>
                </entry>
                <entry>
    displays all the routing table in numerical addresses
    </entry>
              </row>
              <row>
                <entry>
                  <literal>ip route show</literal>
                </entry>
                <entry>
    displays all the routing table in numerical addresses
    </entry>
              </row>
              <row>
                <entry>
                  <literal>arp</literal>
                </entry>
                <entry>
    displays the current content of the <ulink url="&arp;">ARP</ulink> cache
tables
    </entry>
              </row>
              <row>
                <entry>
                  <literal>ip neigh</literal>
                </entry>
                <entry>
    displays the current content of the <ulink url="&arp;">ARP</ulink> cache
tables
    </entry>
              </row>
              <row>
                <entry>
                  <literal>plog</literal>
                </entry>
                <entry>
    display ppp daemon log
    </entry>
              </row>
              <row>
                <entry>
                  <literal>ping yahoo.com</literal>
                </entry>
                <entry>
    check Internet connection to yahoo.com
    </entry>
              </row>
              <row>
                <entry>
                  <literal>whois yahoo.com</literal>
                </entry>
                <entry>
    check who registered "<literal>yahoo.com</literal>" in the domains database
    </entry>
              </row>
              <row>
                <entry>
                  <literal>traceroute yahoo.com</literal>
                </entry>
                <entry>
    trace Internet connection to "<literal>yahoo.com</literal>"
    </entry>
              </row>
              <row>
                <entry>
                  <literal>tracepath yahoo.com</literal>
                </entry>
                <entry>
    trace Internet connection to "<literal>yahoo.com</literal>"
    </entry>
              </row>
              <row>
                <entry>
                  <literal>mtr yahoo.com</literal>
                </entry>
                <entry>
    trace Internet connection to "<literal>yahoo.com</literal>" (repeatedly)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>dig [@dns-server.com] example.com [{a|mx|any}]</literal>
                </entry>
                <entry>
    check "<literal>example.com</literal>" <ulink url="&dns;">DNS</ulink>
records by "<literal>dns-server.com</literal>" for a "<literal>a</literal>",
"<literal>mx</literal>", or "<literal>any</literal>" record
    </entry>
              </row>
              <row>
                <entry>
                  <literal>iptables -L -n</literal>
                </entry>
                <entry>
    パケットフィルタの確認
    </entry>
              </row>
              <row>
                <entry>
                  <literal>netstat -a</literal>
                </entry>
                <entry>
    find all open ports
    </entry>
              </row>
              <row>
                <entry>
                  <literal>netstat -l --inet</literal>
                </entry>
                <entry>
    find listening ports
    </entry>
              </row>
              <row>
                <entry>
                  <literal>netstat -ln --tcp</literal>
                </entry>
                <entry>
    find listening TCP ports (numeric)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>dlint example.com</literal>
                </entry>
                <entry>
    check DNS zone information of "<literal>examle.org</literal>"
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <tip>
          <simpara>Some of these lower level network configuration tools reside in
"<literal>/sbin/</literal>".  You may need to issue full command path such
as "<literal>/sbin/ifconfig</literal>" or add "<literal>/sbin</literal>" to
the "<literal>$PATH</literal>" list in your "<literal>~/.bashrc</literal>".</simpara>
        </tip>
      </section>
    </section>
    <section id="_network_optimization">
      <title>Network optimization</title>
      <simpara>Generic network optimization is beyond the scope of this documentation.  I
will touch only subjects pertinent to the consumer grade connection.</simpara>
      <table id="listofnetworkoptimizationtools" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>List of network optimization tools.</title>
        <tgroup cols="4">
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="288" align="left"/>
          <thead>
            <row>
              <entry>
    パッケージ
    </entry>
              <entry>
    popcon
    </entry>
              <entry>
    サイズ
    </entry>
              <entry>
    説明
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/iftop"> <literal>iftop</literal>
</ulink></entry>
              <entry><ulink url="http://bugs.debian.org/iftop">&pop-iftop;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/i/iftop.html">&size-iftop;</ulink></entry>
              <entry>
    displays bandwidth usage information on an network interface
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/iperf"> <literal>iperf</literal>
</ulink></entry>
              <entry><ulink url="http://bugs.debian.org/iperf">&pop-iperf;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/i/iperf.html">&size-iperf;</ulink></entry>
              <entry>
    Internet Protocol bandwidth measuring tool
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/apt-spy">
<literal>apt-spy</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/apt-spy">&pop-aptspy;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/a/apt-spy.html">&size-aptspy;</ulink></entry>
              <entry>
    writes a sources.list file based on bandwidth tests
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/ifstat">
<literal>ifstat</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/ifstat">&pop-ifstat;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/i/ifstat.html">&size-ifstat;</ulink></entry>
              <entry>
    InterFace STATistics Monitoring
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/bmon"> <literal>bmon</literal>
</ulink></entry>
              <entry><ulink url="http://bugs.debian.org/bmon">&pop-bmon;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/b/bmon.html">&size-bmon;</ulink></entry>
              <entry>
    portable bandwidth monitor and rate estimator
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/ethstatus">
<literal>ethstatus</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/ethstatus">&pop-ethstatus;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/e/ethstatus.html">&size-ethstatus;</ulink></entry>
              <entry>
    script that quickly measures network device throughput
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/bing"> <literal>bing</literal>
</ulink></entry>
              <entry><ulink url="http://bugs.debian.org/bing">&pop-bing;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/b/bing.html">&size-bing;</ulink></entry>
              <entry>
    Empirical stochastic bandwidth tester
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/bwm-ng">
<literal>bwm-ng</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/bwm-ng">&pop-bwmng;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/b/bwm-ng.html">&size-bwmng;</ulink></entry>
              <entry>
    small and simple console-based bandwidth monitor
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/ethstats">
<literal>ethstats</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/ethstats">&pop-ethstats;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/e/ethstats.html">&size-ethstats;</ulink></entry>
              <entry>
    console-based Ethernet statistics monitor
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/ipfm"> <literal>ipfm</literal>
</ulink></entry>
              <entry><ulink url="http://bugs.debian.org/ipfm">&pop-ipfm;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/i/ipfm.html">&size-ipfm;</ulink></entry>
              <entry>
    a bandwidth analysis tool
    </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <section id="_finding_optimal_mtu">
        <title>Finding optimal MTU</title>
        <simpara>The <ulink url="&maximumtransmissionunitmtu;">Maximum Transmission Unit
(MTU)</ulink> value can be determined experimentally with
<literal>ping</literal>(8) with "<literal>-M do</literal>" option which
sends ICMP packets with data size starting from 1500 (with offset of 28
bytes for the IP+ICMP header) and finding the largest size without IP
fragmentation. For example:</simpara>
        <screen>$ ping -c 1 -s $((1500-28)) -M do www.debian.org
PING www.debian.org (194.109.137.218) 1472(1500) bytes of data.
From 192.168.11.2 icmp_seq=1 Frag needed and DF set (mtu = 1454)

--- www.debian.org ping statistics ---
0 packets transmitted, 0 received, +1 errors</screen>
        <itemizedlist>
          <listitem>
            <simpara>
… try 1454 instead of 1500
</simpara>
          </listitem>
          <listitem>
            <simpara>
The <literal>ping</literal>(8) command succeed
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>This process is <ulink url="&pathmtupmtudiscovery;">Path MTU (PMTU)
discovery</ulink> (<ulink url="&rfcbbjb;">RFC1191</ulink>)and the
<literal>tracepath</literal>(8) command can automate this.</simpara>
        <tip>
          <simpara>The above example with PMTU value of 1454 is for my previous FTTH provider
which used <ulink url="&asynchronoustransfermode;">Asynchronous Transfer
Mode</ulink> (ATM) as its backbone network and served its clients with the
<ulink url="&pppoe;">PPPoE</ulink>.  The actual PMTU value depends on your
environment, e.g., 1500 for the my new FTTH provider.</simpara>
        </tip>
        <table id="basicguidelinesoeoptimalmtuvalue" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>Basic guide lines of the optimal MTU value</title>
          <tgroup cols="3">
            <colspec colwidth="108" align="left"/>
            <colspec colwidth="108" align="left"/>
            <colspec colwidth="288" align="left"/>
            <thead>
              <row>
                <entry>
    network environment
    </entry>
                <entry>
    MTU
    </entry>
                <entry>
    理由
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
    Dial-up link (IP: PPP)
    </entry>
                <entry>
    576
    </entry>
                <entry>
    standard
    </entry>
              </row>
              <row>
                <entry>
    Ethernet link (IP: DHCP or fixed)
    </entry>
                <entry>
    1500
    </entry>
                <entry>
    standard and default
    </entry>
              </row>
              <row>
                <entry>
    Ethernet link (IP: PPPoE)
    </entry>
                <entry>
    1492 (=1500-8)
    </entry>
                <entry>
    2 bytes for PPP header and 6 bytes for PPPoE header
    </entry>
              </row>
              <row>
                <entry>
    Ethernet link (ISP's backbone: ATM, IP: DHCP or fixed)
    </entry>
                <entry>
    1462 (=48*31-18-8)
    </entry>
                <entry>
    author's speculation: 18 for Ethernet header, 8 for SAR trailer.
    </entry>
              </row>
              <row>
                <entry>
    Ethernet link (ISP's backbone: ATM, IP: PPPoE)
    </entry>
                <entry>
    1454 (=48*31-8-18-8)
    </entry>
                <entry>
    see "<ulink url="&optimalmtuconfigeadslconnections;">Optimal MTU
configuration for PPPoE ADSL Connections</ulink>" for rationale.
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>In addtion to these basic guide lines, you should know:</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
Any use of tunneling methods (<ulink url="&vpn;">VPN</ulink> etc.) may
reduce optimal MTU further by their overheads.
</simpara>
          </listitem>
          <listitem>
            <simpara>
The MTU value should not exceed the experimentally determined PMTU value.
</simpara>
          </listitem>
          <listitem>
            <simpara>
The bigger MTU value is generally better when other limitations are met.
</simpara>
          </listitem>
        </itemizedlist>
      </section>
      <section id="_setting_mtu">
        <title>Setting MTU</title>
        <simpara>Here are examples for setting the MTU value from its default 1500 to 1454.</simpara>
        <simpara>For the DHCP (see <xref
linkend="_the_network_interface_served_by_the_dhcp"/>), you can replace
pertinent <emphasis role="strong"><literal>iface</literal></emphasis> stanza
lines in the <emphasis role="strong"><literal>/e/n/i</literal></emphasis>
with, e.g.,:</simpara>
        <screen>iface eth0 inet dhcp
 hostname "mymachine"
 pre-up /sbin/ifconfig $IFACE mtu 1454
}}}

For the static IP (see &lt;&lt;_the_network_interface_with_the_static_ip&gt;&gt;), you can replace pertinent '''{{{iface}}}''' stanza lines in the '''{{{/e/n/i}}}''' with, e.g.,:
{{{
iface eth0 inet static
 address 192.168.11.100
 netmask 255.255.255.0
 broadcast 192.168.11.255
 gateway 192.168.11.1
 mtu 1454
 dns-domain lan
 dns-nameservers 192.168.11.1
}}}

For the direct PPPoE (see &lt;&lt;_the_pppoe_connection_with_pppoeconf&gt;&gt;), you can replace pertinent '''{{{mtu}}}''' line in the "{{{/etc/ppp/peers/dsl-provider}}}" with:
{{{
mtu 1454</screen>
        <simpara>The <ulink url="&maximumsegmentsize;">maximum segment size</ulink> (MSS) is
used as an alternative measure of packet size.  The relationship between MSS
and MTU are:</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
MSS = MTU - 40 for IPv4
</simpara>
          </listitem>
          <listitem>
            <simpara>
MSS = MTU - 60 for IPv6
</simpara>
          </listitem>
        </itemizedlist>
        <note>
          <simpara>The <literal>iptables</literal>(8) (see <xref linkend="_netfilter"/>) based
optimization can clamp packet size by the MSS and is useful for the router.</simpara>
        </note>
      </section>
      <section id="_wan_tcp_optimization">
        <title>WAN TCP optimization</title>
        <simpara>The TCP throughput can be maximized by adjusting TCP buffer size parameters
as described in "<ulink url="&tcptuningguide;">TCP Tuning Guide</ulink>" and
"<ulink url="&tcptuning;">TCP tuning</ulink>" for the modern high-bandwidth
and high-latency WAN.  So far, the current Debian default settings serve
well even for my LAN connected by the fast 100M bps FTTP service.</simpara>
      </section>
    </section>
    <section id="_netfilter">
      <title>Netfilter</title>
      <simpara><ulink url="&netfilter;">Netfilter</ulink> provides infrastructure for
<ulink url="&statefulfirewall;">stateful firewall</ulink> and <ulink
url="&networkaddresstranslationnat;">network address translation
(NAT)</ulink> with <ulink url="&linuxkernel;">Linux kernel</ulink> modules
(see <xref linkend="_the_kernel_module_initialization"/>).</simpara>
      <table id="listoffirewalltools" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>List of firewall tools.</title>
        <tgroup cols="4">
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="288" align="left"/>
          <thead>
            <row>
              <entry>
    パッケージ
    </entry>
              <entry>
    popcon
    </entry>
              <entry>
    サイズ
    </entry>
              <entry>
    説明
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/iptables">
<literal>iptables</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/iptables">&pop-iptables;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/i/iptables.html">&size-iptables;</ulink></entry>
              <entry>
    administration tools for <ulink url="&netfilter;">netfilter</ulink>
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/iptstate">
<literal>iptstate</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/iptstate">&pop-iptstate;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/i/iptstate.html">&size-iptstate;</ulink></entry>
              <entry>
    Tool to continuously monitor <ulink url="&netfilter;">netfilter</ulink>
state. (similar to <literal>top</literal>(1))
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/shorewall-perl">
<literal>shorewall-perl</literal> </ulink></entry>
              <entry><ulink
url="http://bugs.debian.org/shorewall-perl">&pop-shorewallperl;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/s/shorewall-perl.html">&size-shorewallperl;</ulink></entry>
              <entry><ulink url="&shorelinefirewall;">Shoreline Firewall</ulink>, <ulink
url="&netfilter;">netfilter</ulink> configuration file generator
(Perl-based, recommended for <literal>lenny</literal>)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/shorewall-shell">
<literal>shorewall-shell</literal> </ulink></entry>
              <entry><ulink
url="http://bugs.debian.org/shorewall-shell">&pop-shorewallshell;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/s/shorewall-shell.html">&size-shorewallshell;</ulink></entry>
              <entry><ulink url="&shorelinefirewall;">Shoreline Firewall</ulink>, <ulink
url="&netfilter;">netfilter</ulink> configuration file generator
(shell-based, alternative for <literal>lenny</literal>)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/ipmasq">
<literal>ipmasq</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/ipmasq">&pop-ipmasq;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/i/ipmasq.html">&size-ipmasq;</ulink></entry>
              <entry>
    Simple set of init script to configure <ulink
url="&netfilter;">netfilter</ulink> (old)
    </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <simpara>Main user space program of <ulink url="&netfilter;">netfilter</ulink> is
<literal>iptables</literal>(8).  You can manually configure <ulink
url="&netfilter;">netfilter</ulink> interactively from shell, save its state
with <literal>iptables-save</literal>(8), and restore it via init script
with <literal>iptables-restore</literal>(8) upon system reboot.</simpara>
      <simpara>Configuration helper scripts such as <ulink
url="&shorewall;">shorewall</ulink> ease this process.</simpara>
      <simpara>See documentation at <ulink
url="&httpwwwnetfilterorgdocumentation;">http://www.netfilter.org/documentation/</ulink>
(or in "<literal>/usr/share/doc/iptables/html/</literal>"):</simpara>
      <itemizedlist>
        <listitem>
          <simpara>
            <ulink url="&linuxnetworkingconceptshowto;">Linux Networking-concepts
HOWTO</ulink>
          </simpara>
        </listitem>
        <listitem>
          <simpara>
            <ulink url="&linuxcepacketfilteringhowto;">Linux 2.4 Packet Filtering
HOWTO</ulink>
          </simpara>
        </listitem>
        <listitem>
          <simpara>
            <ulink url="&linuxcenathowto;">Linux 2.4 NAT HOWTO</ulink>
          </simpara>
        </listitem>
      </itemizedlist>
      <tip>
        <simpara>Although these were written for Linux <emphasis
role="strong">2.4</emphasis>, both <literal>iptables</literal>(8) command
and netfilter kernel function apply for current Linux <emphasis
role="strong">2.6</emphasis>.</simpara>
      </tip>
    </section>
  </chapter>
  <chapter id="_network_applications">
    <title>Network applications</title>
    <simpara>After establishing network connectivity (see <xref
linkend="_network_setup"/>), you can run verious network applications.</simpara>
    <section id="_web_browsers">
      <title>Web browsers</title>
      <simpara>There are many <ulink url="&webbrowser;">web browser</ulink> packages to
access remote contents with <ulink
url="&hypertexttransferprotocol;">Hypertext Transfer Protocol</ulink>
(HTTP).</simpara>
      <table id="listofwebbrowsers" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>ウェッブブラウザのリスト。</title>
        <tgroup cols="4">
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="288" align="left"/>
          <thead>
            <row>
              <entry>
    パッケージ
    </entry>
              <entry>
    popcon
    </entry>
              <entry>
    サイズ
    </entry>
              <entry>
    説明
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/iceweasel">
<literal>iceweasel</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/iceweasel">&pop-iceweasel;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/i/iceweasel.html">&size-iceweasel;</ulink></entry>
              <entry>
    Web browser (X) (<ulink url="&unbranded;">unbranded</ulink> <ulink
url="&mozillafirefox;">Mozilla Firefox</ulink>, )
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/iceape-browser">
<literal>iceape-browser</literal> </ulink></entry>
              <entry><ulink
url="http://bugs.debian.org/iceape-browser">&pop-iceapebrowser;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/i/iceape-browser.html">&size-iceapebrowser;</ulink></entry>
              <entry>
    Web browser (X) (<ulink url="&unbranded;">unbranded</ulink> <ulink
url="&mozilla;">Mozilla</ulink> browser, removed due to security concerns
<ulink url="&bugfaffgf;">bug#505565</ulink>)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/epiphany-browser">
<literal>epiphany-browser</literal> </ulink></entry>
              <entry><ulink
url="http://bugs.debian.org/epiphany-browser">&pop-epiphanybrowser;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/e/epiphany-browser.html">&size-epiphanybrowser;</ulink></entry>
              <entry>
    Web browser (X) (<ulink url="&gnome;">GNOME</ulink> <ulink
url="&hig;">HIG</ulink> compliant browser, <ulink
url="&epiphany;">Epiphany</ulink>)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/galeon">
<literal>galeon</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/galeon">&pop-galeon;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/g/galeon.html">&size-galeon;</ulink></entry>
              <entry>
    Web browser (X) (<ulink url="&gnome;">GNOME</ulink> browser, <ulink
url="&galeon;">Galeon</ulink> was superseded by <ulink
url="&epiphany;">Epiphany</ulink>)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/konqueror">
<literal>konqueror</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/konqueror">&pop-konqueror;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/k/konqueror.html">&size-konqueror;</ulink></entry>
              <entry>
    Web browser (X) (<ulink url="&kde;">KDE</ulink> browser, <ulink
url="&konqueror;">Konqueror</ulink>)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/w3m"> <literal>w3m</literal>
</ulink></entry>
              <entry><ulink url="http://bugs.debian.org/w3m">&pop-wdm;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/w/w3m.html">&size-wdm;</ulink></entry>
              <entry>
    ウエッブブラウザ(テキスト)(<ulink url="&wdm;">w3m</ulink>)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/lynx"> <literal>lynx</literal>
</ulink></entry>
              <entry><ulink url="http://bugs.debian.org/lynx">&pop-lynx;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/l/lynx.html">&size-lynx;</ulink></entry>
              <entry>
    , ,
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/elinks">
<literal>elinks</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/elinks">&pop-elinks;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/e/elinks.html">&size-elinks;</ulink></entry>
              <entry>
    , ,
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/links"> <literal>links</literal>
</ulink></entry>
              <entry><ulink url="http://bugs.debian.org/links">&pop-links;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/l/links.html">&size-links;</ulink></entry>
              <entry>
    , ,
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/links2">
<literal>links2</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/links2">&pop-linksc;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/l/links2.html">&size-linksc;</ulink></entry>
              <entry>
    , ,
    </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <section id="_browser_configuration">
        <title>ブラウザ設定</title>
        <simpara>You may be able to use following special URL strings for some browsers to
confirm their settings.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
"<literal>about:</literal>"
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>about:config</literal>"
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>about:plugins</literal>"
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>Debian offers many free browser plugin packages in the main component which
can handle not only <ulink url="&javasoftwareplatform;">Java (software
platform)</ulink> and <ulink url="&flash;">Flash</ulink> but also <ulink
url="&mpeg;">MPEG</ulink>, <ulink url="&mpegc;">MPEG2</ulink>, <ulink
url="&mpege;">MPEG4</ulink>, <ulink url="&divx;">DivX</ulink>, <ulink
url="&windowsmediavideowmv;">Windows Media Video (.wmv)</ulink>, <ulink
url="&quicktimemov;">QuickTime (.mov)</ulink>, <ulink url="&mpdmpd;">MP3
(.mp3)</ulink>, <ulink url="&oggvorbis;">Ogg/Vorbis</ulink> files, DVDs,
VCDs, etc.  Debian also offers helper programs to install non-free browser
plugin packages as contrib or non-free components.</simpara>
        <table id="listofbrowserpluginpackages" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of browser plugin packages.</title>
          <tgroup cols="5">
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="216" align="left"/>
            <thead>
              <row>
                <entry>
    パッケージ
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    サイズ
    </entry>
                <entry>
    コンポーネント
    </entry>
                <entry>
    説明
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/icedtea-gcjwebplugin">
<literal>icedtea-gcjwebplugin</literal> </ulink></entry>
                <entry><ulink
url="http://bugs.debian.org/icedtea-gcjwebplugin">&pop-icedteagcjwebplugin;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/i/icedtea-gcjwebplugin.html">&size-icedteagcjwebplugin;</ulink></entry>
                <entry>
    main
    </entry>
                <entry>
    Java plugin using Hotspot JIT
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/sun-java6-plugin">
<literal>sun-java6-plugin</literal> </ulink></entry>
                <entry><ulink
url="http://bugs.debian.org/sun-java6-plugin">&pop-sunjavagplugin;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/s/sun-java6-plugin.html">&size-sunjavagplugin;</ulink></entry>
                <entry>
    non-free
    </entry>
                <entry>
    Java plugin for Sun's Java SE 6 (i386 only)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/swfdec-mozilla">
<literal>swfdec-mozilla</literal> </ulink></entry>
                <entry><ulink
url="http://bugs.debian.org/swfdec-mozilla">&pop-swfdecmozilla;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/s/swfdec-mozilla.html">&size-swfdecmozilla;</ulink></entry>
                <entry>
    main
    </entry>
                <entry>
    Flash plugin based on libswfdec
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/mozilla-plugin-gnash">
<literal>mozilla-plugin-gnash</literal> </ulink></entry>
                <entry><ulink
url="http://bugs.debian.org/mozilla-plugin-gnash">&pop-mozillaplugingnash;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/m/mozilla-plugin-gnash.html">&size-mozillaplugingnash;</ulink></entry>
                <entry>
    main
    </entry>
                <entry>
    Flash plugin based on Gnash
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/flashplugin-nonfree">
<literal>flashplugin-nonfree</literal> </ulink></entry>
                <entry><ulink
url="http://bugs.debian.org/flashplugin-nonfree">&pop-flashpluginnonfree;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/f/flashplugin-nonfree.html">&size-flashpluginnonfree;</ulink></entry>
                <entry>
    contrib
    </entry>
                <entry>
    Flash plugin helper to install Adobe Flash Player (i386, amd64 only)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/mozilla-bonobo">
<literal>mozilla-bonobo</literal> </ulink></entry>
                <entry><ulink
url="http://bugs.debian.org/mozilla-bonobo">&pop-mozillabonobo;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/m/mozilla-bonobo.html">&size-mozillabonobo;</ulink></entry>
                <entry>
    main
    </entry>
                <entry>
    Mozilla plugin support for GNOME Bonobo components
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/mozilla-plugin-vlc">
<literal>mozilla-plugin-vlc</literal> </ulink></entry>
                <entry><ulink
url="http://bugs.debian.org/mozilla-plugin-vlc">&pop-mozillapluginvlc;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/m/mozilla-plugin-vlc.html">&size-mozillapluginvlc;</ulink></entry>
                <entry>
    main
    </entry>
                <entry>
    Multimedia plugin based on <ulink url="&vlcmediaplayer;">VLC media
player</ulink>
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/totem-mozilla">
<literal>totem-mozilla</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/totem-mozilla">&pop-totemmozilla;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/t/totem-mozilla.html">&size-totemmozilla;</ulink></entry>
                <entry>
    main
    </entry>
                <entry>
    Multimedia plugin based on <ulink url="&gnomestotemmediaplayer;">GNOME's
Totem media player</ulink>
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/gecko-mediaplayer">
<literal>gecko-mediaplayer</literal> </ulink></entry>
                <entry><ulink
url="http://bugs.debian.org/gecko-mediaplayer">&pop-geckomediaplayer;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/g/gecko-mediaplayer.html">&size-geckomediaplayer;</ulink></entry>
                <entry>
    main
    </entry>
                <entry>
    Multimedia plugin based on (GNOME) <ulink url="&mplayer;">MPlayer</ulink>
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/nspluginwrapper">
<literal>nspluginwrapper</literal> </ulink></entry>
                <entry><ulink
url="http://bugs.debian.org/nspluginwrapper">&pop-nspluginwrapper;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/n/nspluginwrapper.html">&size-nspluginwrapper;</ulink></entry>
                <entry>
    contrib
    </entry>
                <entry>
    A wrapper to run i386 Netscape plugins on amd64 architecture
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <tip>
          <simpara>Although use of above Debian packages are much easier, browser plugins can
be still manually enabled by installing "*.so" into plugin directories
(e.g., "<literal>/usr/lib/iceweasel/plugins/</literal>") and restarting
browsers.</simpara>
        </tip>
        <simpara>Some web sites refuse to be connected based on the user-agent string of your
browser.  You can work around this situation by <ulink
url="&spoofingtheuseragentstring;">spoofing the user-agent string</ulink>.
For exaple, you can do this by adding:</simpara>
        <screen>user_pref{"general.useragent.override","Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 6.0)"};</screen>
        <simpara>into user configuration files such as
"<literal>~/.gnome2/epiphany/mozilla/epiphany/user.js</literal>" or
"<literal>~/.mozilla/firefox/*.default/user.js</literal>". Alternatively,
you can add and reset this variable by typing
"<literal>about:config</literal>" into URL and right clicking its display
contents.</simpara>
        <caution>
          <simpara>Spoofed user-agent string may cause <ulink
url="&badsideeffectswithjava;">bad side effects with Java</ulink>.</simpara>
        </caution>
      </section>
    </section>
    <section id="_the_mail_system">
      <title>The mail system</title>
      <caution>
        <simpara>If you are to set up the mail server to exchange mail directly with the
Internet, you should be better than reading this elementary document.</simpara>
      </caution>
      <section id="_modern_mail_service_basics">
        <title>Modern mail service basics</title>
        <simpara>In order to contain spam (unwanted and unsolicited e-mail) problems, many
ISPs which provide consumer grade Internet connection are implementing
counter measures:</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
The smarthost service for their customers to send message uses the message
submission port (587) specified in <ulink url="&rfceeaj;">rfc4409</ulink>
with the password (<ulink url="&smtpauth;">SMTP AUTH</ulink> service)
specified in <ulink url="&rfcejfe;">rfc4954</ulink>.
</simpara>
          </listitem>
          <listitem>
            <simpara>
The <ulink url="&smtp;">SMTP</ulink> port (25) connection from their
internal network hosts (except ISP's own outgoing mail server) to the
Internet are blocked.
</simpara>
          </listitem>
          <listitem>
            <simpara>
The <ulink url="&smtp;">SMTP</ulink> port (25) connection to the ISP's
incoming mail server from some suspicious external network hosts are
blocked.  (The connection from hosts on the dynamic IP address range used by
the dial-up and other consumer grade Internet connections are the first ones
to be blocked.)
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>When configuring your mail system or resolving mail delivery problems, you
must consider these new limitations.</simpara>
        <simpara>In light of these hostile Internet situation and limitations, some
independent Internet mail ISPs such as Yahoo.com and Gmail.com offer the
secure mail service which can be connected from anywhere on the Internet
using <ulink url="&transportlayerseesocketslayerssl;">Transport Layer
Security (TLS) and its predecessor, Secure Sockets Layer (SSL)</ulink> :</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
The smarthost service for their customers to send message uses the SMTP/SSL
port (465) or the message submission port (587) with the password (SMTP AUTH
service).
</simpara>
          </listitem>
          <listitem>
            <simpara>
The incoming mail is accessible at the TLS/POP3 port (995) with <ulink
url="&popd;">POP3</ulink>.
</simpara>
          </listitem>
        </itemizedlist>
        <caution>
          <simpara>It is not realistic to run SMTP server on consumer grade network to send
mail directly to the remote host reliably.  They are very likely to be
rejected.  You must use some smarthost services offered by your connection
ISP or independent mail ISPs.  For the simplicity, I will assume that the
smarthost is located at "<literal>smtp.hostname.dom</literal>", requires
<ulink url="&smtpauth;">SMTP AUTH</ulink>, and uses the message submission
port (587) in the following text.</simpara>
        </caution>
      </section>
      <section id="_basic_mail_software_choice">
        <title>Basic mail software choice</title>
        <table id="listofpopularmaiemforworkstation" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of popular mail system for workstation.</title>
          <tgroup cols="4">
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="288" align="left"/>
            <thead>
              <row>
                <entry>
    パッケージ
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    サイズ
    </entry>
                <entry>
    機能
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/exim4-daemon-light">
<literal>exim4-daemon-light</literal> </ulink></entry>
                <entry><ulink
url="http://bugs.debian.org/exim4-daemon-light">&pop-eximedaemonlight;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/e/exim4-daemon-light.html">&size-eximedaemonlight;</ulink></entry>
                <entry>
    Exim4 mail transport agent (MTA: Debian default)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/exim4-base">
<literal>exim4-base</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/exim4-base">&pop-eximebase;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/e/exim4-base.html">&size-eximebase;</ulink></entry>
                <entry>
    Exim4 documentation (text) and common files
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/exim4-doc-html">
<literal>exim4-doc-html</literal> </ulink></entry>
                <entry><ulink
url="http://bugs.debian.org/exim4-doc-html">&pop-eximedochtml;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/e/exim4-doc-html.html">&size-eximedochtml;</ulink></entry>
                <entry>
    Exim4 documentation (html)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/exim4-doc-info">
<literal>exim4-doc-info</literal> </ulink></entry>
                <entry><ulink
url="http://bugs.debian.org/exim4-doc-info">&pop-eximedocinfo;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/e/exim4-doc-info.html">&size-eximedocinfo;</ulink></entry>
                <entry>
    Exim4 documentation (info)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/postfix">
<literal>postfix</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/postfix">&pop-postfix;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/p/postfix.html">&size-postfix;</ulink></entry>
                <entry>
    Postfix mail transport agent (MTA: alternative)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/postfix-doc">
<literal>postfix-doc</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/postfix-doc">&pop-postfixdoc;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/p/postfix-doc.html">&size-postfixdoc;</ulink></entry>
                <entry>
    Postfix documentation (html+text)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/sasl2-bin">
<literal>sasl2-bin</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/sasl2-bin">&pop-saslcbin;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/s/sasl2-bin.html">&size-saslcbin;</ulink></entry>
                <entry>
    Cyrus SASL API implementation (supplement postfix for SMTP-AUTH)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/cyrus-sasl2-doc">
<literal>cyrus-sasl2-doc</literal> </ulink></entry>
                <entry><ulink
url="http://bugs.debian.org/cyrus-sasl2-doc">&pop-cyrussaslcdoc;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/c/cyrus-sasl2-doc.html">&size-cyrussaslcdoc;</ulink></entry>
                <entry>
    Cyrus SASL - documentation
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/fetchmail">
<literal>fetchmail</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/fetchmail">&pop-fetchmail;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/f/fetchmail.html">&size-fetchmail;</ulink></entry>
                <entry>
    Remote mail retrieval and forwarding utility
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/procmail">
<literal>procmail</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/procmail">&pop-procmail;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/p/procmail.html">&size-procmail;</ulink></entry>
                <entry>
    Mail filter utility
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/mutt"> <literal>mutt</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/mutt">&pop-mutt;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/m/mutt.html">&size-mutt;</ulink></entry>
                <entry>
    Mail user agent (MUA) to read/write the mail usually used with
<literal>vim</literal>
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>The choice between <literal>exim4-*</literal> and <literal>postfix</literal>
packages is really up to you.</simpara>
        <simpara>Although the popcon vote count of exim4 looks several times popular than
that of postfix, this does not mean postfix is not popular with Debian
developers.  The Debian server system uses both exim4 and postfix.  The
<ulink url="&mailheaderanalysis;">mail header analysis</ulink> of mailing
list postings from prominent Debian developers also indicate both of these
MTAs are as popular.</simpara>
        <simpara>The <literal>exim4-*</literal> packages are known to have very small memory
consumption and very flexible for its configuration.  The
<literal>postfix</literal> package is known to be compact, fast, simple, and
secure.  Both come with ample documentation and are as good in quality and
license.</simpara>
      </section>
      <section id="_the_mail_configuration_strategy_for_workstation">
        <title>The mail configuration strategy for workstation</title>
        <simpara>The most simple mail configuration is that the mail is sent to the ISP's
smarthost and received from ISP's POP3 server by the MUA itself. This type
of configuration is popular with full featured GUI based mail user agent
(MUA) such as <literal>icedove</literal>(1),
<literal>evolution</literal>(1), etc.. If you need to filter mail by their
types, you use MUA's filtering function. For this case, the local mail
transport agent (MTA) need to do local delivery only.</simpara>
        <simpara>The alternative mail configuration is that the mail is sent via local MTA to
the ISP's smarthost and received from ISP's POP3 by
<literal>fetchmail</literal>(1) to the local mailbox.  If you need to filter
mail by their types, you use <literal>procmail</literal>(1) to filter mail
into separate mailboxes.  This type of configuration is popular with simple
console based MUA such as <literal>mutt</literal>(1),
<literal>gnus</literal>(1), etc., although this is possible with any
MUAs. For this case, the local MTA need to do both smarthost delivery and
local delivery.</simpara>
        <section id="_the_configuration_of_exim4">
          <title>exim4設定</title>
          <simpara>For Internet via smarthost, you (re)configure <literal>exim4-*</literal>
packages as follows:</simpara>
          <screen>$ sudo /etc/init.d/exim4 stop
$ sudo dpkg-reconfigure exim4-conf</screen>
          <itemizedlist>
            <listitem>
              <simpara>
Chose "mail sent by smarthost; received via SMTP or fetchmail".
</simpara>
            </listitem>
            <listitem>
              <simpara>
Set "IP address or host name of the outgoing smarthost:" to
"smtp.hostname.dom:587".
</simpara>
            </listitem>
            <listitem>
              <simpara>
Reply to "Keep number of DNS-queries minimal (Dial-on-Demand)?" as:
</simpara>
              <itemizedlist>
                <listitem>
                  <simpara>
"No" if the system is connected to Internet while booting, or
</simpara>
                </listitem>
                <listitem>
                  <simpara>
もしシステムが起動時にインターネットに接続されてい<emphasis role="strong">ない</emphasis>場合は、"Yes"。
</simpara>
                </listitem>
              </itemizedlist>
            </listitem>
          </itemizedlist>
          <screen>$ sudo vim /etc/exim4/passwd.client</screen>
          <itemizedlist>
            <listitem>
              <simpara>
スマートホストのパスワードエントリを作成。
</simpara>
            </listitem>
          </itemizedlist>
          <screen>$ cat /etc/exim4/passwd.client
^smtp.*\.hostname\.dom:username@hostname.dom:password
$ sudo /etc/init.d/exim4 start</screen>
          <simpara>The host name in "<literal>/etc/exim4/passwd.client</literal>" should not be
the alias.  You check the real host name with:</simpara>
          <screen>$ host smtp.hostname.dom
smtp.hostname.dom is an alias for smtp99.hostname.dom.
smtp99.hostname.dom has address 123.234.123.89</screen>
          <simpara>I use regex in "<literal>/etc/exim4/passwd.client</literal>" to work around
the alias issue so even if the ISP moves host pointed by the alias, SMTP
AUTH will likely be working.</simpara>
          <caution>
            <simpara>You must execute <literal>update-exim4.conf</literal>(8) after manually
updating <literal>exim4</literal> configuration files in
"<literal>/etc/exim4/</literal>".</simpara>
          </caution>
          <caution>
            <simpara>Starting <literal>exim4</literal> will take long time if "No" (default
value) was chosen for the debconf query of "Keep number of DNS-queries
minimal (Dial-on-Demand)?" and the system is <emphasis
role="strong">not</emphasis> connected to Internet while booting.</simpara>
          </caution>
          <note>
            <simpara>Please read the official guide at:
"<literal>/usr/share/doc/exim4-base/README.Debian.gz</literal>" and
<literal>update-exim4.conf</literal>(8).</simpara>
          </note>
          <tip>
            <simpara>Local customization file
"<literal>/etc/exim4/exim4.conf.localmacros</literal>" may be created to set
MACROs.  For example, <ulink url="&yahoo;">Yahoo</ulink>'s mail service is
said to require "<literal>MAIN_TLS_ENABLE = true</literal>" and
"<literal>AUTH_CLIENT_ALLOW_NOTLS_PASSWORDS = yes</literal>" in it.</simpara>
          </tip>
        </section>
        <section id="_the_configuration_of_postfix_with_sasl">
          <title>The configuration of postfix with SASL</title>
          <simpara>For Internet via smarthost, you should first read <ulink
url="&postfixdocumentation;">postfix documentation</ulink> and key manual
pages:</simpara>
          <table id="listofimportantpstfixmanualpages" pgwide="0" frame="topbot" rowsep="1" colsep="1">
            <title>List of important postfix manual pages</title>
            <tgroup cols="2">
              <colspec colwidth="144" align="left"/>
              <colspec colwidth="360" align="left"/>
              <thead>
                <row>
                  <entry>
    コマンド
    </entry>
                  <entry>
    機能
    </entry>
                </row>
              </thead>
              <tbody>
                <row>
                  <entry><literal>postfix</literal>(1)
    </entry>
                  <entry>
    Postfix control program
    </entry>
                </row>
                <row>
                  <entry><literal>postconf</literal>(1)
    </entry>
                  <entry>
    Postfixの設定ユーティリティ
    </entry>
                </row>
                <row>
                  <entry><literal>postconf</literal>(5)
    </entry>
                  <entry>
    Postfix configuration parameters
    </entry>
                </row>
                <row>
                  <entry><literal>postmap</literal>(1)
    </entry>
                  <entry>
    Postfix lookup table maintenance
    </entry>
                </row>
                <row>
                  <entry><literal>postalias</literal>(1)
    </entry>
                  <entry>
    Postfix alias database maintenance
    </entry>
                </row>
              </tbody>
            </tgroup>
          </table>
          <simpara>You (re)configure <literal>postfix</literal> and
<literal>sasl2-bin</literal> packages as follows:</simpara>
          <screen>$ sudo /etc/init.d/postfix stop
$ sudo dpkg-reconfigure postfix</screen>
          <itemizedlist>
            <listitem>
              <simpara>
Chose "Internet with smarthost"
</simpara>
            </listitem>
            <listitem>
              <simpara>
Set "SMTP relay host (blank for none):" to
"<literal>[smtp.hostname.dom]:587</literal>"
</simpara>
            </listitem>
          </itemizedlist>
          <screen>$ sudo postconf -e 'smtp_sender_dependent_authentication = yes'
$ sudo postconf -e 'smtp_sasl_auth_enable = yes'
$ sudo postconf -e 'smtp_sasl_password_maps = hash:/etc/postfix/sasl_passwd'
$ sudo postconf -e 'smtp_sasl_type = cyrus'
$ sudo vim /etc/postfix/sasl_passwd</screen>
          <itemizedlist>
            <listitem>
              <simpara>
スマートホストのパスワードエントリを作成。
</simpara>
            </listitem>
          </itemizedlist>
          <screen>$ cat /etc/postfix/sasl_passwd
[smtp.hostname.dom]:587     username:password
$ sudo postmap hush:/etc/postfix/sasl_passwd
$ sudo /etc/init.d/postfix start</screen>
          <simpara>Here the use of "<literal>[</literal>" and "<literal>]</literal>" in the
dpkg-reconfigure dialogue and "<literal>/etc/postfix/sasl_passwd</literal>"
ensures not to check MX record but directly use exact hostname specified.
Read more for "Enabling SASL authentication in the Postfix SMTP client" in
"<literal>usr/share/doc/postfix/html/SASL_README.html</literal>".</simpara>
        </section>
        <section id="_the_mail_address_configuration">
          <title>メールアドレス設定</title>
          <simpara>There are a few <ulink url="&mailaddressconfieryanduseragents;">mail address
configuration files for mail transport, delivery and user agents</ulink>.</simpara>
          <table id="listofmailaddresnfigurationfiles" pgwide="0" frame="topbot" rowsep="1" colsep="1">
            <title>List of mail address related configuration files.</title>
            <tgroup cols="3">
              <colspec colwidth="108" align="left"/>
              <colspec colwidth="108" align="left"/>
              <colspec colwidth="288" align="left"/>
              <thead>
                <row>
                  <entry>
    ファイル
    </entry>
                  <entry>
    機能
    </entry>
                  <entry>
    application
    </entry>
                </row>
              </thead>
              <tbody>
                <row>
                  <entry>
                    <literal>/etc/mailname</literal>
                  </entry>
                  <entry>
    default host name for (outgoing) mail
    </entry>
                  <entry>
    Debian specific, <literal>mailname</literal>(5)
    </entry>
                </row>
                <row>
                  <entry>
                    <literal>/etc/email-addresses</literal>
                  </entry>
                  <entry>
    host name spoofing for outgoing mail
    </entry>
                  <entry><literal>exim</literal>(8) specific,
<literal>exim4-config_files</literal>(5)
    </entry>
                </row>
                <row>
                  <entry>
                    <literal>/etc/postfix/generic</literal>
                  </entry>
                  <entry>
    host name spoofing for outgoing mail
    </entry>
                  <entry><literal>postfix</literal>(1) specific, activated after
<literal>postmap</literal>(1) command execution.
    </entry>
                </row>
                <row>
                  <entry>
                    <literal>/etc/aliases</literal>
                  </entry>
                  <entry>
    account name alias for incoming mail
    </entry>
                  <entry>
    general, activated after <literal>newaliases</literal>(1) command execution.
    </entry>
                </row>
              </tbody>
            </tgroup>
          </table>
          <simpara>The <emphasis role="strong">mailname</emphasis> in the
"<literal>/etc/mailname</literal>" file is usually a fully qualified domain
name (FQDN) that resolves to one of the host's IP addresses.  The mobile
workstation which does not have a hostname with resolvable IP address, set
this <emphasis role="strong">mailname</emphasis> to the value of
"<literal>hostname -f</literal>". (This is safe choice and works for both
<literal>exim4-*</literal> and <literal>postfix</literal>.)</simpara>
          <tip>
            <simpara>The contents of "<literal>/etc/mailname</literal>" is used by many non-MTA
programs for their default behavior. For <literal>mutt</literal>, set
"<literal>hostname</literal>" and "<literal>from</literal>" variables in
<literal>~/muttrc</literal> file to override the <emphasis
role="strong">mailname</emphasis> value.  For programs in the
<literal>devscripts</literal> package, such as <literal>bts</literal>(1) and
<literal>dch</literal>(1), export environment variables
"<literal>$DEBFULLNAME</literal>" and "<literal>$DEBEMAIL</literal>" to
override it.</simpara>
          </tip>
          <simpara>When setting the <emphasis role="strong">mailname</emphasis> to
"<literal>hostname -f</literal>", the spoofing of the source mail address
via MTA can be realized by:</simpara>
          <itemizedlist>
            <listitem>
              <simpara>
"<literal>/etc/email-addresses</literal>" file for
<literal>exim4</literal>(8) as explained in the
<literal>exim4-config_files</literal>(5), and
</simpara>
            </listitem>
            <listitem>
              <simpara>
"<literal>/etc/postfix/generic</literal>" file for
<literal>postfix</literal>(1) as explained in the
<literal>generic</literal>(5).
</simpara>
            </listitem>
          </itemizedlist>
          <simpara>For <literal>postfix</literal>, the following extra steps are needed:</simpara>
          <screen># postmap hash:/etc/postfix/generic
# postconf -e 'smtp_generic_maps = hash:/etc/postfix/generic'
# postfix reload</screen>
          <simpara>You check filters using:</simpara>
          <itemizedlist>
            <listitem>
              <simpara><literal>exim</literal>(8) with <literal>-brw, -bf, -bF, -bV, …</literal>
options.
</simpara>
            </listitem>
            <listitem>
              <simpara><literal>postmap</literal>(1) with <literal>-q</literal> option.
</simpara>
            </listitem>
          </itemizedlist>
          <tip>
            <simpara>Exim comes with several utility programs such as
<literal>exiqgrep</literal>(8) and <literal>exipick</literal>(8).  See
"<literal>dpkg -L exim4-base|grep man8/</literal>" for available commands.</simpara>
          </tip>
        </section>
      </section>
      <section id="_tips_for_managing_the_mail">
        <title>Tips for managing the mail</title>
        <section id="_basic_mta_operations">
          <title>基本的なMTAの操作</title>
          <simpara>There are several basic MTA operations.  Some may be performed via
<literal>sendmail</literal>(1) compatibility interface.</simpara>
          <table id="listofbasicmtaoperation" pgwide="0" frame="topbot" rowsep="1" colsep="1">
            <title>List of basic MTA operation.</title>
            <tgroup cols="3">
              <colspec colwidth="108" align="left"/>
              <colspec colwidth="108" align="left"/>
              <colspec colwidth="288" align="left"/>
              <thead>
                <row>
                  <entry>
    eximコマンド
    </entry>
                  <entry>
    postfix command
    </entry>
                  <entry>
    説明
    </entry>
                </row>
              </thead>
              <tbody>
                <row>
                  <entry>
                    <literal>sendmail</literal>
                  </entry>
                  <entry>
                    <literal>sendmail</literal>
                  </entry>
                  <entry>
    Read mail from standard input and arrange for
delivery. (<literal>-bm</literal>)
    </entry>
                </row>
                <row>
                  <entry>
                    <literal>mailq</literal>
                  </entry>
                  <entry>
                    <literal>mailq</literal>
                  </entry>
                  <entry>
    List the mail queue with status and queue ID. (<literal>-bp</literal>)
    </entry>
                </row>
                <row>
                  <entry>
                    <literal>newaliases</literal>
                  </entry>
                  <entry>
                    <literal>newaliases</literal>
                  </entry>
                  <entry>
    Initialize alias database. (<literal>-I</literal>)
    </entry>
                </row>
                <row>
                  <entry>
                    <literal>exim4 -q</literal>
                  </entry>
                  <entry>
                    <literal>postqueue -f</literal>
                  </entry>
                  <entry>
    flush waiting mail (<literal>-q</literal>)
    </entry>
                </row>
                <row>
                  <entry>
                    <literal>exim4 -qf</literal>
                  </entry>
                  <entry>
                    <literal>postsuper -r ALL deferred; postqueue -f</literal>
                  </entry>
                  <entry>
    flush all mail
    </entry>
                </row>
                <row>
                  <entry>
                    <literal>exim4 -qff</literal>
                  </entry>
                  <entry>
                    <literal>postsuper -r ALL; postqueue -f</literal>
                  </entry>
                  <entry>
    flush even frozen mail
    </entry>
                </row>
                <row>
                  <entry>
                    <literal>exim4 -Mg queue_id</literal>
                  </entry>
                  <entry>
                    <literal>postsuper -h queue_id</literal>
                  </entry>
                  <entry>
    freeze one message by its queue ID
    </entry>
                </row>
                <row>
                  <entry>
                    <literal>exim4 -Mrm queue_id</literal>
                  </entry>
                  <entry>
                    <literal>postsuper -d queue_id</literal>
                  </entry>
                  <entry>
    remove one message by its queue ID
    </entry>
                </row>
                <row>
                  <entry>
    ---
    </entry>
                  <entry>
                    <literal>postsuper -d ALL</literal>
                  </entry>
                  <entry>
    remove all messages
    </entry>
                </row>
              </tbody>
            </tgroup>
          </table>
          <simpara>For the script in "<literal>/etc/ppp/ip-up.d/*</literal>", "flush all mail"
may be good idea.</simpara>
        </section>
        <section id="_basic_mua_8212_mutt">
          <title>Basic MUA — Mutt</title>
          <simpara>Use <literal>mutt</literal> as the mail user agent (MUA) in combination with
<literal>vim</literal>. Customize with "<literal>~/.muttrc</literal>"; for
example:</simpara>
          <screen># use visual mode and "gq" to reformat quotes
set editor="vim -c 'set tw=72 et ft=mail'"
#
# header weeding taken from the manual (Sven's Draconian header weeding)
#
ignore *
unignore from: date subject to cc
unignore user-agent x-mailer
hdr_order from subject to cc date user-agent x-mailer
set hostname=spoof.example.org
set from="First Last &lt;username@example.org&gt;"
....</screen>
          <simpara>Add the following to "<literal>/etc/mailcap</literal>" or
"<literal>~/.mailcap</literal>" to display HTML mail and MS Word attachments
inline:</simpara>
          <screen>text/html; lynx -force_html %s; needsterminal;
application/msword; /usr/bin/antiword '%s'; copiousoutput; description="Microsoft Word Text"; nametemplate=%s.doc</screen>
        </section>
        <section id="_redeliver_mbox_contents">
          <title>Redeliver mbox contents</title>
          <simpara>You need to manually deliver mails to the sorted mailboxes in your home
directory from "<literal>/var/mail/&lt;username&gt;</literal>" if your home
directory became full and <literal>procmail</literal>(1) failed.  After
making disk space in the home directory, run:</simpara>
          <screen># /etc/init.d/${MAILDAEMON} stop
# formail -s procmail &lt;/var/mail/&lt;username&gt;
# /etc/init.d/${MAILDAEMON} start</screen>
        </section>
      </section>
      <section id="_choices_of_software_for_the_mail">
        <title>Choices of software for the mail</title>
        <simpara>For mail system programs, there are many alternatives developed with
different priority.  Here is the overview.</simpara>
        <section id="_mta">
          <title>MTA</title>
          <simpara>There are many choices for MTA (mail transfer agent).</simpara>
          <table id="listofmta" pgwide="0" frame="topbot" rowsep="1" colsep="1">
            <title>List of MTA.</title>
            <tgroup cols="4">
              <colspec colwidth="72" align="left"/>
              <colspec colwidth="72" align="left"/>
              <colspec colwidth="72" align="left"/>
              <colspec colwidth="288" align="left"/>
              <thead>
                <row>
                  <entry>
    パッケージ
    </entry>
                  <entry>
    popcon
    </entry>
                  <entry>
    サイズ
    </entry>
                  <entry>
    capability
    </entry>
                </row>
              </thead>
              <tbody>
                <row>
                  <entry><ulink url="http://packages.debian.org/sid/exim4-daemon-light">
<literal>exim4-daemon-light</literal> </ulink></entry>
                  <entry><ulink
url="http://bugs.debian.org/exim4-daemon-light">&pop-eximedaemonlight;</ulink></entry>
                  <entry><ulink
url="http://packages.qa.debian.org/e/exim4-daemon-light.html">&size-eximedaemonlight;</ulink></entry>
                  <entry>
    full
    </entry>
                </row>
                <row>
                  <entry><ulink url="http://packages.debian.org/sid/postfix">
<literal>postfix</literal> </ulink></entry>
                  <entry><ulink url="http://bugs.debian.org/postfix">&pop-postfix;</ulink></entry>
                  <entry><ulink
url="http://packages.qa.debian.org/p/postfix.html">&size-postfix;</ulink></entry>
                  <entry>
    full (security)
    </entry>
                </row>
                <row>
                  <entry><ulink url="http://packages.debian.org/sid/exim4-daemon-heavy">
<literal>exim4-daemon-heavy</literal> </ulink></entry>
                  <entry><ulink
url="http://bugs.debian.org/exim4-daemon-heavy">&pop-eximedaemonheavy;</ulink></entry>
                  <entry><ulink
url="http://packages.qa.debian.org/e/exim4-daemon-heavy.html">&size-eximedaemonheavy;</ulink></entry>
                  <entry>
    full (flexible)
    </entry>
                </row>
                <row>
                  <entry><ulink url="http://packages.debian.org/sid/sendmail-bin">
<literal>sendmail-bin</literal> </ulink></entry>
                  <entry><ulink url="http://bugs.debian.org/sendmail-bin">&pop-sendmailbin;</ulink></entry>
                  <entry><ulink
url="http://packages.qa.debian.org/s/sendmail-bin.html">&size-sendmailbin;</ulink></entry>
                  <entry>
    full (only if you are already familiar)
    </entry>
                </row>
                <row>
                  <entry><ulink url="http://packages.debian.org/sid/nullmailer">
<literal>nullmailer</literal> </ulink></entry>
                  <entry><ulink url="http://bugs.debian.org/nullmailer">&pop-nullmailer;</ulink></entry>
                  <entry><ulink
url="http://packages.qa.debian.org/n/nullmailer.html">&size-nullmailer;</ulink></entry>
                  <entry>
    strip down, no local mail
    </entry>
                </row>
                <row>
                  <entry><ulink url="http://packages.debian.org/sid/ssmtp"> <literal>ssmtp</literal>
</ulink></entry>
                  <entry><ulink url="http://bugs.debian.org/ssmtp">&pop-ssmtp;</ulink></entry>
                  <entry><ulink url="http://packages.qa.debian.org/s/ssmtp.html">&size-ssmtp;</ulink></entry>
                  <entry>
    strip down, no local mail
    </entry>
                </row>
                <row>
                  <entry><ulink url="http://packages.debian.org/sid/nbsmtp">
<literal>nbsmtp</literal> </ulink></entry>
                  <entry><ulink url="http://bugs.debian.org/nbsmtp">&pop-nbsmtp;</ulink></entry>
                  <entry><ulink
url="http://packages.qa.debian.org/n/nbsmtp.html">&size-nbsmtp;</ulink></entry>
                  <entry>
    ?
    </entry>
                </row>
                <row>
                  <entry><ulink url="http://packages.debian.org/sid/courier-mta">
<literal>courier-mta</literal> </ulink></entry>
                  <entry><ulink url="http://bugs.debian.org/courier-mta">&pop-couriermta;</ulink></entry>
                  <entry><ulink
url="http://packages.qa.debian.org/c/courier-mta.html">&size-couriermta;</ulink></entry>
                  <entry>
    very full (web interface etc.)
    </entry>
                </row>
                <row>
                  <entry><ulink url="http://packages.debian.org/sid/xmail"> <literal>xmail</literal>
</ulink></entry>
                  <entry><ulink url="http://bugs.debian.org/xmail">&pop-xmail;</ulink></entry>
                  <entry><ulink url="http://packages.qa.debian.org/x/xmail.html">&size-xmail;</ulink></entry>
                  <entry>
    light
    </entry>
                </row>
                <row>
                  <entry><ulink url="http://packages.debian.org/sid/masqmail">
<literal>masqmail</literal> </ulink></entry>
                  <entry><ulink url="http://bugs.debian.org/masqmail">&pop-masqmail;</ulink></entry>
                  <entry><ulink
url="http://packages.qa.debian.org/m/masqmail.html">&size-masqmail;</ulink></entry>
                  <entry>
    light
    </entry>
                </row>
                <row>
                  <entry><ulink url="http://packages.debian.org/sid/esmtp"> <literal>esmtp</literal>
</ulink></entry>
                  <entry><ulink url="http://bugs.debian.org/esmtp">&pop-esmtp;</ulink></entry>
                  <entry><ulink url="http://packages.qa.debian.org/e/esmtp.html">&size-esmtp;</ulink></entry>
                  <entry>
    light
    </entry>
                </row>
                <row>
                  <entry><ulink url="http://packages.debian.org/sid/esmtp-run">
<literal>esmtp-run</literal> </ulink></entry>
                  <entry><ulink url="http://bugs.debian.org/esmtp-run">&pop-esmtprun;</ulink></entry>
                  <entry><ulink
url="http://packages.qa.debian.org/e/esmtp-run.html">&size-esmtprun;</ulink></entry>
                  <entry>
    light (sendmail compatibility extension to <literal>esmtp</literal>)
    </entry>
                </row>
                <row>
                  <entry><ulink url="http://packages.debian.org/sid/msmtp"> <literal>msmtp</literal>
</ulink></entry>
                  <entry><ulink url="http://bugs.debian.org/msmtp">&pop-msmtp;</ulink></entry>
                  <entry><ulink url="http://packages.qa.debian.org/m/msmtp.html">&size-msmtp;</ulink></entry>
                  <entry>
    light
    </entry>
                </row>
                <row>
                  <entry><ulink url="http://packages.debian.org/sid/msmtp-mta">
<literal>msmtp-mta</literal> </ulink></entry>
                  <entry><ulink url="http://bugs.debian.org/msmtp-mta">&pop-msmtpmta;</ulink></entry>
                  <entry><ulink
url="http://packages.qa.debian.org/m/msmtp-mta.html">&size-msmtpmta;</ulink></entry>
                  <entry>
    light (sendmail compatibility extension to <literal>msmtp</literal>)
    </entry>
                </row>
              </tbody>
            </tgroup>
          </table>
        </section>
        <section id="_mua">
          <title>MUA</title>
          <simpara>If you subscribe to Debian related mailing list, it may be a good idea to
use such MUA as <literal>mutt</literal> and <literal>gnus</literal> which
are the de facto standard for the participant and known to behave as
expected.</simpara>
          <table id="listofmua" pgwide="0" frame="topbot" rowsep="1" colsep="1">
            <title>List of MUA.</title>
            <tgroup cols="4">
              <colspec colwidth="72" align="left"/>
              <colspec colwidth="72" align="left"/>
              <colspec colwidth="72" align="left"/>
              <colspec colwidth="288" align="left"/>
              <thead>
                <row>
                  <entry>
    パッケージ
    </entry>
                  <entry>
    popcon
    </entry>
                  <entry>
    サイズ
    </entry>
                  <entry>
    タイプ
    </entry>
                </row>
              </thead>
              <tbody>
                <row>
                  <entry><ulink url="http://packages.debian.org/sid/iceweasel">
<literal>iceweasel</literal> </ulink></entry>
                  <entry><ulink url="http://bugs.debian.org/iceweasel">&pop-iceweasel;</ulink></entry>
                  <entry><ulink
url="http://packages.qa.debian.org/i/iceweasel.html">&size-iceweasel;</ulink></entry>
                  <entry>
    X GUI (<ulink url="&unbranded;">unbranded</ulink> <ulink
url="&mozillafirefox;">Mozilla Firefox</ulink>)
    </entry>
                </row>
                <row>
                  <entry><ulink url="http://packages.debian.org/sid/evolution">
<literal>evolution</literal> </ulink></entry>
                  <entry><ulink url="http://bugs.debian.org/evolution">&pop-evolution;</ulink></entry>
                  <entry><ulink
url="http://packages.qa.debian.org/e/evolution.html">&size-evolution;</ulink></entry>
                  <entry>
    X GUI (part of a groupware suite)
    </entry>
                </row>
                <row>
                  <entry><ulink url="http://packages.debian.org/sid/icedove">
<literal>icedove</literal> </ulink></entry>
                  <entry><ulink url="http://bugs.debian.org/icedove">&pop-icedove;</ulink></entry>
                  <entry><ulink
url="http://packages.qa.debian.org/i/icedove.html">&size-icedove;</ulink></entry>
                  <entry>
    X GUI (<ulink url="&unbranded;">unbranded</ulink> <ulink
url="&mozillathunderbird;">Mozilla Thunderbird</ulink>)
    </entry>
                </row>
                <row>
                  <entry><ulink url="http://packages.debian.org/sid/mutt"> <literal>mutt</literal>
</ulink></entry>
                  <entry><ulink url="http://bugs.debian.org/mutt">&pop-mutt;</ulink></entry>
                  <entry><ulink url="http://packages.qa.debian.org/m/mutt.html">&size-mutt;</ulink></entry>
                  <entry>
    character terminal probably with <literal>vim</literal>
    </entry>
                </row>
                <row>
                  <entry><ulink url="http://packages.debian.org/sid/gnus"> <literal>gnus</literal>
</ulink></entry>
                  <entry><ulink url="http://bugs.debian.org/gnus">&pop-gnus;</ulink></entry>
                  <entry><ulink url="http://packages.qa.debian.org/g/gnus.html">&size-gnus;</ulink></entry>
                  <entry>
    character terminal under <literal>(x)emacs</literal>
    </entry>
                </row>
              </tbody>
            </tgroup>
          </table>
        </section>
        <section id="_the_remote_mail_retrieval_and_forward_utility">
          <title>The remote mail retrieval and forward utility</title>
          <simpara>Although <literal>fetchmail</literal>(1) has been de facto standard for the
remote mail retrieval on GNU/Linux, the authour likes
<literal>getmail</literal>(1) now.  If you want to reject mail before
downloading to save bandwidth, <literal>mailfilter</literal> or
<literal>mpop</literal> may be useful.  Whichever mail retriever utilities
are used, it is good idea to configure system to deliver retrieved mails to
MDA, such as <literal>maildrop</literal>, via pipe.</simpara>
          <table id="listofremotemailforwardutilities" pgwide="0" frame="topbot" rowsep="1" colsep="1">
            <title>List of remote mail retrieval and forward utilities.</title>
            <tgroup cols="4">
              <colspec colwidth="72" align="left"/>
              <colspec colwidth="72" align="left"/>
              <colspec colwidth="72" align="left"/>
              <colspec colwidth="288" align="left"/>
              <thead>
                <row>
                  <entry>
    パッケージ
    </entry>
                  <entry>
    popcon
    </entry>
                  <entry>
    サイズ
    </entry>
                  <entry>
    capability
    </entry>
                </row>
              </thead>
              <tbody>
                <row>
                  <entry><ulink url="http://packages.debian.org/sid/fetchmail">
<literal>fetchmail</literal> </ulink></entry>
                  <entry><ulink url="http://bugs.debian.org/fetchmail">&pop-fetchmail;</ulink></entry>
                  <entry><ulink
url="http://packages.qa.debian.org/f/fetchmail.html">&size-fetchmail;</ulink></entry>
                  <entry>
    mail retriever (POP3, APOP, IMAP) (old)
    </entry>
                </row>
                <row>
                  <entry><ulink url="http://packages.debian.org/sid/getmail4">
<literal>getmail4</literal> </ulink></entry>
                  <entry><ulink url="http://bugs.debian.org/getmail4">&pop-getmaile;</ulink></entry>
                  <entry><ulink
url="http://packages.qa.debian.org/g/getmail4.html">&size-getmaile;</ulink></entry>
                  <entry>
    mail retriever (POP3, IMAP4, and SDPS) (simple, secure, and reliable)
    </entry>
                </row>
                <row>
                  <entry><ulink url="http://packages.debian.org/sid/mailfilter">
<literal>mailfilter</literal> </ulink></entry>
                  <entry><ulink url="http://bugs.debian.org/mailfilter">&pop-mailfilter;</ulink></entry>
                  <entry><ulink
url="http://packages.qa.debian.org/m/mailfilter.html">&size-mailfilter;</ulink></entry>
                  <entry>
    mail retriever (POP3) with with regex filtering capability
    </entry>
                </row>
                <row>
                  <entry><ulink url="http://packages.debian.org/sid/mpop"> <literal>mpop</literal>
</ulink></entry>
                  <entry><ulink url="http://bugs.debian.org/mpop">&pop-mpop;</ulink></entry>
                  <entry><ulink url="http://packages.qa.debian.org/m/mpop.html">&size-mpop;</ulink></entry>
                  <entry>
    mail retriever (POP3) and MDA with filtering capability
    </entry>
                </row>
              </tbody>
            </tgroup>
          </table>
          <simpara><literal>getmail</literal>(1) configuration is described in <ulink
url="&getmaildocumentation;">getmail documentation</ulink>. Here is my set
up to access multiple POP3 accounts as user:</simpara>
          <itemizedlist>
            <listitem>
              <simpara>
Create "<literal>/usr/local/bin/getmails</literal>" as:
</simpara>
            </listitem>
          </itemizedlist>
          <screen>#!/bin/sh
set -e
rcfiles="/usr/bin/getmail"
for file in $HOME/.getmail/config/* ; do
  rcfiles="$rcfiles --rcfile $file"
done
exec $rcfiles $@</screen>
          <itemizedlist>
            <listitem>
              <simpara>
Execute as follows:
</simpara>
            </listitem>
          </itemizedlist>
          <screen>$ sudo chmod 755 /usr/local/bin/getmails
$ mkdir -m 0700 $HOME/.getmail
$ mkdir -m 0700 $HOME/.getmail/config
$ mkdir -m 0700 $HOME/.getmail/log</screen>
          <itemizedlist>
            <listitem>
              <simpara>
Create configuration files
"<literal>$HOME/.getmail/config/pop3_name</literal>" for each POP3 acconts
as:
</simpara>
            </listitem>
          </itemizedlist>
          <screen>[retriever]
type = SimplePOP3SSLRetriever
server = pop.example.com
username =  pop3_name@example.com
password = secret

[destination]
type = MDA_external
path = /usr/bin/maildrop
unixfrom = True
'Spam'
[options]
verbose = 0
delete = True
delivered_to = False
message_log = ~/.getmail/log/pop3_name.log</screen>
          <itemizedlist>
            <listitem>
              <simpara>
Execute as follows:
</simpara>
            </listitem>
          </itemizedlist>
          <screen>$ chmod 0600 $HOME/.getmail/config/*</screen>
          <itemizedlist>
            <listitem>
              <simpara>
schedule "<literal>/usr/local/bin/getmails</literal>" to run every 15
minutes with <literal>cron</literal>(8) by executing "<literal>sudo crontab
-e -u &lt;user_name&gt;</literal>" and adding following entry:
</simpara>
            </listitem>
          </itemizedlist>
          <screen>5,20,35,50 * * * * /usr/local/bin/getmails --quiet</screen>
          <tip>
            <simpara>Problems of POP3 access may not come from <literal>getmail</literal>. Some
popular free POP3 services may be violating the POP3 protocol and their SPAM
filter may not be perfect.  For example, they may delete messages just after
receiving RETR command before receiving DELE command and may quarantined
messages into Spam mailbox.  You should minimize damages by configuring them
to archive accessed messages and not to delete them. See also <ulink
url="&somemailwasnotdownloaded;">"Some mail was not downloaded"</ulink>.</simpara>
          </tip>
        </section>
        <section id="_mda_with_filter">
          <title>MDA with filter</title>
          <simpara>Most MTA programs, such as <literal>postfix</literal> and
<literal>exim4</literal>, function as MDA (mail delivery agent). There are
specialized MDA with filtering capabilities.</simpara>
          <simpara>Although <literal>procmail</literal>(1) has been de facto standard for MDA
with filter on GNU/Linux, authour likes <literal>maildrop</literal>(1) now.
Whichever filtering utilities are used, it is good idea to configure system
to deliver filtered mails to a <ulink url="&qmailstylemaildir;">qmail-style
Maildir</ulink>.</simpara>
          <table id="listofmdawithfilter" pgwide="0" frame="topbot" rowsep="1" colsep="1">
            <title>フィルタ付きのMDAのリスト。</title>
            <tgroup cols="4">
              <colspec colwidth="72" align="left"/>
              <colspec colwidth="72" align="left"/>
              <colspec colwidth="72" align="left"/>
              <colspec colwidth="288" align="left"/>
              <thead>
                <row>
                  <entry>
    パッケージ
    </entry>
                  <entry>
    popcon
    </entry>
                  <entry>
    サイズ
    </entry>
                  <entry>
    説明
    </entry>
                </row>
              </thead>
              <tbody>
                <row>
                  <entry><ulink url="http://packages.debian.org/sid/procmail">
<literal>procmail</literal> </ulink></entry>
                  <entry><ulink url="http://bugs.debian.org/procmail">&pop-procmail;</ulink></entry>
                  <entry><ulink
url="http://packages.qa.debian.org/p/procmail.html">&size-procmail;</ulink></entry>
                  <entry>
    MDA with filter (old)
    </entry>
                </row>
                <row>
                  <entry><ulink url="http://packages.debian.org/sid/mailagent">
<literal>mailagent</literal> </ulink></entry>
                  <entry><ulink url="http://bugs.debian.org/mailagent">&pop-mailagent;</ulink></entry>
                  <entry><ulink
url="http://packages.qa.debian.org/m/mailagent.html">&size-mailagent;</ulink></entry>
                  <entry>
    MDA with perl filter
    </entry>
                </row>
                <row>
                  <entry><ulink url="http://packages.debian.org/sid/maildrop">
<literal>maildrop</literal> </ulink></entry>
                  <entry><ulink url="http://bugs.debian.org/maildrop">&pop-maildrop;</ulink></entry>
                  <entry><ulink
url="http://packages.qa.debian.org/m/maildrop.html">&size-maildrop;</ulink></entry>
                  <entry>
    MDA with structured filtering language
    </entry>
                </row>
              </tbody>
            </tgroup>
          </table>
          <simpara><literal>maildrop</literal>(1) configuration is described in <ulink
url="&maildropfilterdocumentation;">maildropfilter documentation</ulink>.
Here is a configuration example for "<literal>$HOME/.mailfilter</literal>":</simpara>
          <screen>logfile $HOME/.maildroplog
# clearly bad looking mails: drop them into X-trash and exit
if (    /^X-Advertisement/ ||\
        /^Subject:.*BUSINESS PROPOSAL/ ||\
        /^Subject:.*URGENT.*ASISSTANCE/ ||\
        /^Subject: *I NEED YOUR ASSISTANCE/ )
    to "$HOME/Maildir/X-trash/"

# Delivering mailinglist messages
if (    /^Precedence:.*list/ ||\
        /^Precedence:.*bulk/ ||\
        /^List-/ ||\
        /^X-Distribution:.*bulk/ )
{
    if (    /^Resent-Sender.*debian-user-request@lists.debian.org/)
        to "$HOME/Maildir/debian-user/"
    if (    /^Resent-Sender.*debian-devel-request@lists.debian.org/)
        to "$HOME/Maildir/debian-devel/"
    if (    /^Resent-Sender.*debian-announce-request@lists.debian.org/)
        to "$HOME/Maildir/debian-announce/"
    to "$HOME/Maildir/mailing-list/"
}
to "$HOME/Maildir/Inbox/"
exit</screen>
          <warning>
            <simpara>Unlike <literal>procmail</literal>, <literal>maildrop</literal> does not
create missing maildir directories automatically.  You must create them
manually using <literal>maildirmake</literal>(1) in advance.</simpara>
          </warning>
          <simpara>Equivalent configurartion can be done with <literal>procmail</literal>(1)
with "<literal>$HOME/.procmailrc</literal>" as:</simpara>
          <screen>MAILDIR=$HOME/Maildir
DEFAULT=$MAILDIR/Inbox/
LOGFILE=$MAILDIR/Maillog
# clearly bad looking mails: drop them into X-trash and exit
:0
* 1^0 ^X-Advertisement
* 1^0 ^Subject:.*BUSINESS PROPOSAL
* 1^0 ^Subject:.*URGENT.*ASISSTANCE
* 1^0 ^Subject: *I NEED YOUR ASSISTANCE
X-trash/

# Delivering mailinglist messages
:0
* 1^0 ^Precedence:.*list
* 1^0 ^Precedence:.*bulk
* 1^0 ^List-
* 1^0 ^X-Distribution:.*bulk
{
:0
* 1^0 ^Return-path:.*debian-devel-admin@debian.or.jp
jp-debian-devel/

:0
* ^Resent-Sender.*debian-user-request@lists.debian.org
debian-user/

:0
* ^Resent-Sender.*debian-devel-request@lists.debian.org
debian-devel/

:0
* ^Resent-Sender.*debian-announce-request@lists.debian.org
debian-announce

:0
mailing-list/
}

:0
Inbox/</screen>
        </section>
        <section id="_pop3_imap4_server">
          <title>POP3/IMAP4 server</title>
          <simpara>If you are to run a private server on LAN, you may consider to run <ulink
url="&popd;">POP3</ulink> / <ulink url="&imape;">IMAP4</ulink> server for
delivering mail to LAN clients.</simpara>
          <table id="listofpopdimapeservers" pgwide="0" frame="topbot" rowsep="1" colsep="1">
            <title>List of POP3/IMAP4 servers.</title>
            <tgroup cols="5">
              <colspec colwidth="72" align="left"/>
              <colspec colwidth="72" align="left"/>
              <colspec colwidth="72" align="left"/>
              <colspec colwidth="72" align="left"/>
              <colspec colwidth="216" align="left"/>
              <thead>
                <row>
                  <entry>
    パッケージ
    </entry>
                  <entry>
    popcon
    </entry>
                  <entry>
    サイズ
    </entry>
                  <entry>
    タイプ
    </entry>
                  <entry>
    説明
    </entry>
                </row>
              </thead>
              <tbody>
                <row>
                  <entry><ulink url="http://packages.debian.org/sid/qpopper">
<literal>qpopper</literal> </ulink></entry>
                  <entry><ulink url="http://bugs.debian.org/qpopper">&pop-qpopper;</ulink></entry>
                  <entry><ulink
url="http://packages.qa.debian.org/q/qpopper.html">&size-qpopper;</ulink></entry>
                  <entry>
    POP3
    </entry>
                  <entry>
    拡張Qualcommバージョン
    </entry>
                </row>
                <row>
                  <entry><ulink url="http://packages.debian.org/sid/courier-pop">
<literal>courier-pop</literal> </ulink></entry>
                  <entry><ulink url="http://bugs.debian.org/courier-pop">&pop-courierpop;</ulink></entry>
                  <entry><ulink
url="http://packages.qa.debian.org/c/courier-pop.html">&size-courierpop;</ulink></entry>
                  <entry>
    POP3
    </entry>
                  <entry>
    support only the maildir format
    </entry>
                </row>
                <row>
                  <entry><ulink url="http://packages.debian.org/sid/ipopd"> <literal>ipopd</literal>
</ulink></entry>
                  <entry><ulink url="http://bugs.debian.org/ipopd">&pop-ipopd;</ulink></entry>
                  <entry><ulink url="http://packages.qa.debian.org/i/ipopd.html">&size-ipopd;</ulink></entry>
                  <entry>
    POP3
    </entry>
                  <entry>
    formerly part of the University of Washington IMAP package
    </entry>
                </row>
                <row>
                  <entry><ulink url="http://packages.debian.org/sid/cyrus-pop3d-2.2">
<literal>cyrus-pop3d-2.2</literal> </ulink></entry>
                  <entry><ulink
url="http://bugs.debian.org/cyrus-pop3d-2.2">&pop-cyruspopddcc;</ulink></entry>
                  <entry><ulink
url="http://packages.qa.debian.org/c/cyrus-pop3d-2.2.html">&size-cyruspopddcc;</ulink></entry>
                  <entry>
    POP3
    </entry>
                  <entry>
    part of the Cyrus IMAPd suite
    </entry>
                </row>
                <row>
                  <entry><ulink url="http://packages.debian.org/sid/xmail"> <literal>xmail</literal>
</ulink></entry>
                  <entry><ulink url="http://bugs.debian.org/xmail">&pop-xmail;</ulink></entry>
                  <entry><ulink url="http://packages.qa.debian.org/x/xmail.html">&size-xmail;</ulink></entry>
                  <entry>
    POP3
    </entry>
                  <entry>
    ESMTP/POP3 mail server
    </entry>
                </row>
                <row>
                  <entry><ulink url="http://packages.debian.org/sid/courier-imap">
<literal>courier-imap</literal> </ulink></entry>
                  <entry><ulink url="http://bugs.debian.org/courier-imap">&pop-courierimap;</ulink></entry>
                  <entry><ulink
url="http://packages.qa.debian.org/c/courier-imap.html">&size-courierimap;</ulink></entry>
                  <entry>
    IMAP
    </entry>
                  <entry>
    This provides access to email stored in Maildirs
    </entry>
                </row>
                <row>
                  <entry><ulink url="http://packages.debian.org/sid/uw-imapd">
<literal>uw-imapd</literal> </ulink></entry>
                  <entry><ulink url="http://bugs.debian.org/uw-imapd">&pop-uwimapd;</ulink></entry>
                  <entry><ulink
url="http://packages.qa.debian.org/u/uw-imapd.html">&size-uwimapd;</ulink></entry>
                  <entry>
    IMAP
    </entry>
                  <entry>
    the University of Washington IMAP
    </entry>
                </row>
                <row>
                  <entry><ulink url="http://packages.debian.org/sid/cyrus-imapd-2.2">
<literal>cyrus-imapd-2.2</literal> </ulink></entry>
                  <entry><ulink
url="http://bugs.debian.org/cyrus-imapd-2.2">&pop-cyrusimapdcc;</ulink></entry>
                  <entry><ulink
url="http://packages.qa.debian.org/c/cyrus-imapd-2.2.html">&size-cyrusimapdcc;</ulink></entry>
                  <entry>
    IMAP
    </entry>
                  <entry>
    part of the Cyrus IMAPd suite
    </entry>
                </row>
              </tbody>
            </tgroup>
          </table>
        </section>
      </section>
    </section>
    <section id="_the_print_server_and_utility">
      <title>The print server and utility</title>
      <simpara>In the old Unix-like system, the BSD <ulink url="&lineprinterdaemon;">Line
printer daemon</ulink> was the standard.  Since the standard print out
format of the free software is PostScript on the Unix like system, some
filter system was used along with <ulink
url="&ghostscript;">Ghostscript</ulink> to enable printing to the
non-PostScript printer.</simpara>
      <simpara>Recently, <ulink url="&commonunixprintingsystem;">Common UNIX Printing
System</ulink> (CUPS) is the new de facto standard.  The CUPS uses <ulink
url="&internetprintingprotocol;">Internet Printing Protocol</ulink>
(IPP). The IPP is now supported by other OSs such as Windows XP and Mac OS X
and has became new cross-platform de facto standard for remote printing with
bi-directional communication capability.</simpara>
      <simpara>The standard printable data format for the application on the Debian system
is the <ulink url="&postscriptps;">PostScript (PS)</ulink> which is a page
description language.  The data in PS format is fed into the Ghostscript
PostScript interpreter to produce the printable data specific to the
printer.  See <xref linkend="_ghostscript"/>.</simpara>
      <simpara>Thanks to the file format dependent auto-conversion feature of the CUPS
system, simply feeding any data to the <literal>lpr</literal> command should
generate the expected print output. (In CUPS, <literal>lpr</literal> can be
enabled by installing the <literal>cups-bsd</literal> package.)</simpara>
      <simpara>The Debian system has few notable packages for the print servers and
utilities:</simpara>
      <table id="listofprintserversandutilities" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>プリントサーバーとユーティリティのリスト。</title>
        <tgroup cols="5">
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="216" align="left"/>
          <thead>
            <row>
              <entry>
    パッケージ
    </entry>
              <entry>
    popcon
    </entry>
              <entry>
    サイズ
    </entry>
              <entry>
    機能
    </entry>
              <entry>
    ポート
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/lpr"> <literal>lpr</literal>
</ulink></entry>
              <entry><ulink url="http://bugs.debian.org/lpr">&pop-lpr;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/l/lpr.html">&size-lpr;</ulink></entry>
              <entry>
    BSD lpr/lpd (<ulink url="&lineprinterdaemon;">Line printer daemon</ulink>)
    </entry>
              <entry>
    printer (515)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/lprng"> <literal>lprng</literal>
</ulink></entry>
              <entry><ulink url="http://bugs.debian.org/lprng">&pop-lprng;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/l/lprng.html">&size-lprng;</ulink></entry>
              <entry>
    , , (Enhanced)
    </entry>
              <entry>
    , ,
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/cups"> <literal>cups</literal>
</ulink></entry>
              <entry><ulink url="http://bugs.debian.org/cups">&pop-cups;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/c/cups.html">&size-cups;</ulink></entry>
              <entry>
    Internet Printing CUPS server
    </entry>
              <entry>
    IPP (631)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/cups-client">
<literal>cups-client</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/cups-client">&pop-cupsclient;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/c/cups-client.html">&size-cupsclient;</ulink></entry>
              <entry><ulink url="&systemvprintercommands;">System V printer commands</ulink> for
CUPS: <literal>lp</literal>(1), <literal>lpstat</literal>(1),
<literal>lpoptions</literal>(1), <literal>cancel</literal>(1),
<literal>lpmove</literal>(8), <literal>lpinfo</literal>(8),
<literal>lpadmin</literal>(8), …
    </entry>
              <entry>
    , ,
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/cups-bsd">
<literal>cups-bsd</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/cups-bsd">&pop-cupsbsd;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/c/cups-bsd.html">&size-cupsbsd;</ulink></entry>
              <entry><ulink url="&bsdprintercommands;">BSD printer commands</ulink> for CUPS:
<literal>lpr</literal>(1), <literal>lpq</literal>(1),
<literal>lprm</literal>(1), <literal>lpc</literal>(8)
    </entry>
              <entry>
    , ,
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/cups-driver-gutenprint">
<literal>cups-driver-gutenprint</literal> </ulink></entry>
              <entry><ulink
url="http://bugs.debian.org/cups-driver-gutenprint">&pop-cupsdrivergutenprint;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/c/cups-driver-gutenprint.html">&size-cupsdrivergutenprint;</ulink></entry>
              <entry>
    printer drivers for CUPS
    </entry>
              <entry>
    Not applicable
    </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <tip>
        <simpara>You can configure CUPS system by pointing your web browser to "<ulink
url="&httplocalhostgdb;">http://localhost:631/</ulink>" .</simpara>
      </tip>
    </section>
    <section id="_the_remote_access_server_and_utility_ssh">
      <title>The remote access server and utility (SSH)</title>
      <simpara>The <ulink url="&secureshell;">Secure SHell</ulink> (SSH) is the <emphasis
role="strong">secure</emphasis> way to connect over the Internet.  A free
version of SSH called <ulink url="&openssh;">OpenSSH</ulink> is available as
the <literal>ssh</literal> package in Debian.</simpara>
      <table id="listofremoteaccerverandutilities" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>リモートアクセスサーバーとユーティリティのリスト</title>
        <tgroup cols="5">
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="216" align="left"/>
          <thead>
            <row>
              <entry>
    パッケージ
    </entry>
              <entry>
    popcon
    </entry>
              <entry>
    サイズ
    </entry>
              <entry>
    tool
    </entry>
              <entry>
    comment
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/openssh-client">
<literal>openssh-client</literal> </ulink></entry>
              <entry><ulink
url="http://bugs.debian.org/openssh-client">&pop-opensshclient;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/o/openssh-client.html">&size-opensshclient;</ulink></entry>
              <entry>
    ssh
    </entry>
              <entry>
    セキュアシェルクライアント
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/openssh-server">
<literal>openssh-server</literal> </ulink></entry>
              <entry><ulink
url="http://bugs.debian.org/openssh-server">&pop-opensshserver;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/o/openssh-server.html">&size-opensshserver;</ulink></entry>
              <entry>
    sshd
    </entry>
              <entry>
    セキュアシェルサーバー
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/ssh-askpass-fullscreen">
<literal>ssh-askpass-fullscreen</literal> </ulink></entry>
              <entry><ulink
url="http://bugs.debian.org/ssh-askpass-fullscreen">&pop-sshaskpassfullscreen;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/s/ssh-askpass-fullscreen.html">&size-sshaskpassfullscreen;</ulink></entry>
              <entry>
    ssh-askpass-fullscreen
    </entry>
              <entry>
    asks user for a pass phrase for ssh-add (GNOME2)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/ssh-askpass">
<literal>ssh-askpass</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/ssh-askpass">&pop-sshaskpass;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/s/ssh-askpass.html">&size-sshaskpass;</ulink></entry>
              <entry>
    ssh-askpass
    </entry>
              <entry>
    asks user for a pass phrase for ssh-add (plain X)
    </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <caution>
        <simpara>See <xref linkend="_extra_security_measures_for_the_internet"/> if your SSH
is accessible from Internet.</simpara>
      </caution>
      <tip>
        <simpara>Please use the <literal>screen</literal>(1) program to enable remote shell
process to survive the interrupted connection (see <xref
linkend="_the_screen_program"/>).</simpara>
      </tip>
      <section id="_basics_of_ssh">
        <title>Basics of SSH</title>
        <simpara><literal>/etc/ssh/sshd_not_to_be_run</literal> must not be present if one
wishes to run the OpenSSH server.</simpara>
        <simpara>SSH has two authentication protocols:</simpara>
        <table id="listofsshauthenttocolsandmethods" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of SSH authentication protocols and methods.</title>
          <tgroup cols="3">
            <colspec colwidth="108" align="left"/>
            <colspec colwidth="108" align="left"/>
            <colspec colwidth="288" align="left"/>
            <thead>
              <row>
                <entry>
    SSH protocol
    </entry>
                <entry>
    SSH method
    </entry>
                <entry>
    説明
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
    SSH-1
    </entry>
                <entry>
    RSAAuthentication
    </entry>
                <entry>
    RSAアイデンティティ鍵を用いるユーザ認証
    </entry>
              </row>
              <row>
                <entry>
    , ,
    </entry>
                <entry>
    RhostsAuthentication
    </entry>
                <entry><literal>.rhosts</literal> based host authentication (insecure, disabled)
    </entry>
              </row>
              <row>
                <entry>
    , ,
    </entry>
                <entry>
    RhostsRSAAuthentication
    </entry>
                <entry><literal>.rhosts</literal> authentication combined with RSA host key
(disabled)
    </entry>
              </row>
              <row>
                <entry>
    , ,
    </entry>
                <entry>
    ChallengeResponseAuthentication
    </entry>
                <entry>
    RSAチャレンジ応答認証
    </entry>
              </row>
              <row>
                <entry>
    , ,
    </entry>
                <entry>
    PasswordAuthentication
    </entry>
                <entry>
    バスワードを用いる認証
    </entry>
              </row>
              <row>
                <entry>
    SSH-2
    </entry>
                <entry>
    PubkeyAuthentication
    </entry>
                <entry>
    公開鍵を用いるユーザ認証
    </entry>
              </row>
              <row>
                <entry>
    , ,
    </entry>
                <entry>
    HostbasedAuthentication
    </entry>
                <entry>
    "<literal>~/.rhosts</literal>" or "<literal>/etc/hosts.equiv</literal>"
authentication combined with public key client host authentication
(disabled)
    </entry>
              </row>
              <row>
                <entry>
    , ,
    </entry>
                <entry>
    ChallengeResponseAuthentication
    </entry>
                <entry>
    チャレンジ応答認証
    </entry>
              </row>
              <row>
                <entry>
    , ,
    </entry>
                <entry>
    PasswordAuthentication
    </entry>
                <entry>
    バスワードを用いる認証
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>Be careful about these differences if you are using a non-Debian system.</simpara>
        <simpara>See "<literal>/usr/share/doc/ssh/README.Debian.gz</literal>",
<literal>ssh</literal>(1), <literal>sshd</literal>(8),
<literal>ssh-agent</literal>(1), and <literal>ssh-keygen</literal>(1) for
details.</simpara>
        <simpara>Following are the key configuration files:</simpara>
        <table id="listofsshconfigurationfiles" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>SSH設定ファイルのリスト。</title>
          <tgroup cols="2">
            <colspec colwidth="144" align="left"/>
            <colspec colwidth="360" align="left"/>
            <thead>
              <row>
                <entry>
    設定ファイル
    </entry>
                <entry>
    機能
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>/etc/ssh/ssh_config</literal>
                </entry>
                <entry>
    SSH client defaults.  See <literal>ssh_config</literal>(5).
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/etc/ssh/sshd_config</literal>
                </entry>
                <entry>
    SSH server defaults.  See <literal>sshd_config</literal>(5).
    </entry>
              </row>
              <row>
                <entry>
                  <literal>~/.ssh/authorized_keys</literal>
                </entry>
                <entry>
    the lists of the default public SSH keys that clients use to connect to this
account on this host.
    </entry>
              </row>
              <row>
                <entry>
                  <literal>~/.ssh/identity</literal>
                </entry>
                <entry>
    secret SSH-1 RSA key of the user.
    </entry>
              </row>
              <row>
                <entry>
                  <literal>~/.ssh/id_rsa</literal>
                </entry>
                <entry>
    secret SSH-2 RSA key of the user.
    </entry>
              </row>
              <row>
                <entry>
                  <literal>~/.ssh/id_dsa</literal>
                </entry>
                <entry>
    secret SSH-2 DSA key of the user.
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <tip>
          <simpara>See <literal>ssh-keygen</literal>(1), <literal>ssh-add</literal>(1) and
<literal>ssh-agent</literal>(1) for how to use public and secret SSH keys.</simpara>
        </tip>
        <simpara>The following will start an <literal>ssh</literal>(1) connection from a
client.</simpara>
        <table id="listofsshclientstartupexamples" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of SSH client startup examples.</title>
          <tgroup cols="2">
            <colspec colwidth="144" align="left"/>
            <colspec colwidth="360" align="left"/>
            <thead>
              <row>
                <entry>
    コマンド
    </entry>
                <entry>
    説明
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>ssh username@hostname.domain.ext</literal>
                </entry>
                <entry>
    connect with default mode
    </entry>
              </row>
              <row>
                <entry>
                  <literal>ssh -v username@hostname.domain.ext</literal>
                </entry>
                <entry>
    connect with default mode with debugging messages
    </entry>
              </row>
              <row>
                <entry>
                  <literal>ssh -1 username@hostname.domain.ext</literal>
                </entry>
                <entry>
    force to connect with SSH version 1
    </entry>
              </row>
              <row>
                <entry>
                  <literal>ssh -1 -o RSAAuthentication=no -l username
hostname.domain.ext</literal>
                </entry>
                <entry>
    force to use password with SSH version 1
    </entry>
              </row>
              <row>
                <entry>
                  <literal>ssh -o PreferredAuthentications=password -l username
hostname.domain.ext</literal>
                </entry>
                <entry>
    force to use password with SSH version 2
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>If you use the same user name on the local and the remote host, you can
eliminate typing "<literal>username@</literal>".  Even if you use different
user name on the local and the remote host, you can eliminate it using
"<literal>~/.ssh/config</literal>".  For <ulink
url="&debianaliothservice;">Debian Alioth service</ulink> with account name
"<literal>foo-guest</literal>", you set "<literal>~/.ssh/config</literal>"
to contain:</simpara>
        <screen>Host alioth.debian.org svn.debian.org git.debian.org
    User foo-guest</screen>
        <simpara>For the user, <literal>ssh</literal>(1) functions as a smarter and more
secure <literal>telnet</literal>(1).  Unlike <literal>telnet</literal>
command, <literal>ssh</literal> command does not bomb on the
<literal>telnet</literal> escape character (initial default CTRL-]).</simpara>
      </section>
      <section id="_port_forwarding_for_smtp_pop3_tunneling">
        <title>Port forwarding for SMTP/POP3 tunneling</title>
        <simpara>To establish a pipe to connect to port 25 of remote-server from port 4025 of
localhost, and to port 110 of remote-server from port 4110 of localhost
through <literal>ssh</literal>, execute on the local machine:</simpara>
        <screen># ssh -q -L 4025:remote-server:25 4110:remote-server:110 username@remote-server</screen>
        <simpara>This is a secure way to make connections to SMTP/POP3 servers over the
Internet.  Set the "<literal>AllowTcpForwarding</literal>" entry to
"<literal>yes</literal>" in "<literal>/etc/ssh/sshd_config</literal>" of the
remote host.</simpara>
      </section>
      <section id="_connecting_with_fewer_passwords_8212_rsa">
        <title>Connecting with fewer passwords — RSA</title>
        <simpara>One can avoid having to remember a password for each remote system by using
"<literal>RSAAuthentication</literal>" (SSH-1 protocol) or
PubkeyAuthentication (SSH-2 protocol).</simpara>
        <simpara>On the remote system, set the respective entries,
"<literal>RSAAuthentication yes</literal>" or "<literal>PubkeyAuthentication
yes</literal>", in "<literal>/etc/ssh/sshd_config</literal>".</simpara>
        <simpara>Then generate authentication keys locally and install the public key on the
remote system:</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
"<literal>RSAAuthentication</literal>": RSA1 key for SSH-1 (deprecated
because superseded.)
</simpara>
          </listitem>
        </itemizedlist>
        <screen>$ ssh-keygen
$ cat .ssh/identity.pub | ssh user1@remote "cat - &gt;&gt;.ssh/authorized_keys"</screen>
        <itemizedlist>
          <listitem>
            <simpara>
PubkeyAuthentication: RSA key for SSH-2
</simpara>
          </listitem>
        </itemizedlist>
        <screen>$ ssh-keygen -t rsa
$ cat .ssh/id_rsa.pub | ssh user1@remote "cat - &gt;&gt;.ssh/authorized_keys"</screen>
        <itemizedlist>
          <listitem>
            <simpara>
PubkeyAuthentication: DSA key for SSH-2 (deprecated because key is smaller
and slow.  Also see <ulink url="&dsabfhbb;">DSA-1571-1</ulink>.)
</simpara>
          </listitem>
        </itemizedlist>
        <screen>$ ssh-keygen -t dsa
$ cat .ssh/id_dsa.pub | ssh user1@remote "cat - &gt;&gt;.ssh/authorized_keys"</screen>
        <note>
          <simpara>There are no more reasons to work around RSA patent using DSA since it has
been expired.  DSA stands for <ulink
url="&digitalsignaturealgorithm;">Digital Signature Algorithm</ulink> and
slow.</simpara>
        </note>
        <simpara>One can change the pass phrase later with "<literal>ssh-keygen
-p</literal>".  Make sure to verify settings by testing the connection.  In
case of any problem, use "<literal>ssh -v</literal>".</simpara>
        <simpara>You can add options to the entries in
"<literal>~/.ssh/authorized_keys</literal>" to limit hosts and to run
specific commands.  See <literal>sshd</literal>(8) for details.</simpara>
        <simpara>Note that SSH-2 has "<literal>HostbasedAuthentication</literal>".  For this
to work, you must adjust the settings of
"<literal>HostbasedAuthentication</literal>" to "<literal>yes</literal>" in
both "<literal>/etc/ssh/sshd_config</literal>" on the server machine and
"<literal>/etc/ssh/ssh_config</literal>" or
"<literal>~/.ssh/config</literal>" on the client machine.</simpara>
      </section>
      <section id="_dealing_with_alien_ssh_clients">
        <title>Dealing with alien SSH clients</title>
        <simpara>There are a few free <ulink url="&ssh;">SSH</ulink> clients available for
other platforms.</simpara>
        <table id="listoffreesshcliorotherplatforms" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of free SSH clients for other platforms.</title>
          <tgroup cols="2">
            <colspec colwidth="144" align="left"/>
            <colspec colwidth="360" align="left"/>
            <thead>
              <row>
                <entry>
    environment
    </entry>
                <entry>
    free SSH program
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
    Windows
    </entry>
                <entry>
    puTTY (<ulink
url="&httpwwwchiarkgreguksgtathamputty;">http://www.chiark.greenend.org.uk/~sgtatham/putty/</ulink>)
(GPL)
    </entry>
              </row>
              <row>
                <entry>
    Windows (cygwin)
    </entry>
                <entry>
    SSH in cygwin (<ulink
url="&httpwwwcygwincom;">http://www.cygwin.com/</ulink>) (GPL)
    </entry>
              </row>
              <row>
                <entry>
    Macintosh Classic
    </entry>
                <entry>
    macSSH (<ulink url="&httpwwwmacsshcom;">http://www.macssh.com/</ulink>)
(GPL)
    </entry>
              </row>
              <row>
                <entry>
    Mac OS X
    </entry>
                <entry>
    OpenSSH; use <literal>ssh</literal> in the Terminal application (GPL)
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </section>
      <section id="_setting_up_ssh_agent">
        <title>Setting up ssh-agent</title>
        <simpara>It is safer to protect your SSH authentication key with a pass phrase.  If
it was not set, use "<literal>ssh-keygen -p</literal>" to set it.</simpara>
        <simpara>Place your public key (e.g.  "<literal>~/.ssh/id_rsa.pub</literal>") into
"<literal>~/.ssh/authorized_keys</literal>" on a remote host using a
password-based connection to the remote host as described above.</simpara>
        <screen>$ ssh-agent bash
$ ssh-add ~/.ssh/id_rsa
Enter passphrase for /home/&lt;username&gt;/.ssh/id_rsa:
Identity added: /home/&lt;username&gt;/.ssh/id_rsa (/home/&lt;username&gt;/.ssh/id_rsa)</screen>
        <itemizedlist>
          <listitem>
            <simpara>
No passphrase needed from here on, e.g.:
</simpara>
          </listitem>
        </itemizedlist>
        <screen>$ scp foo &lt;username&gt;@remote.host:foo</screen>
        <itemizedlist>
          <listitem>
            <simpara>
No password requested.
</simpara>
          </listitem>
          <listitem>
            <simpara>
Press ^D to terminating ssh-agent session.
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>For the X server, the normal Debian startup script executes
<literal>ssh-agent</literal> as the parent process.  So you only need to
execute <literal>ssh-add</literal> once. For more, read
<literal>ssh-agent</literal>(1)and <literal>ssh-add</literal>(1).</simpara>
      </section>
      <section id="_troubleshooting_ssh">
        <title>Troubleshooting SSH</title>
        <simpara>If you have problems, check the permissions of configuration files and run
<literal>ssh</literal> with the "<literal>-v</literal>" option.</simpara>
        <simpara>Use the "<literal>-P</literal>" option if you are root and have trouble with
a firewall; this avoids the use of server ports 1--1023.</simpara>
        <simpara>If <literal>ssh</literal> connections to a remote site suddenly stop
working, it may be the result of tinkering by the sysadmin, most likely a
change in "<literal>host_key</literal>" during system maintenance.  After
making sure this is the case and nobody is trying to fake the remote host by
some clever hack, one can regain a connection by removing the
"<literal>host_key</literal>" entry from
"<literal>~/.ssh/known_hosts</literal>" on the local machine.</simpara>
      </section>
    </section>
    <section id="_other_network_application_servers">
      <title>Other network application servers</title>
      <table id="listofothernetwoplicationservers" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>List of other network application servers.</title>
        <tgroup cols="5">
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="216" align="left"/>
          <thead>
            <row>
              <entry>
    パッケージ
    </entry>
              <entry>
    popcon
    </entry>
              <entry>
    サイズ
    </entry>
              <entry>
    protocol
    </entry>
              <entry>
    focus
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/telnetd">
<literal>telnetd</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/telnetd">&pop-telnetd;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/t/telnetd.html">&size-telnetd;</ulink></entry>
              <entry>
                <ulink url="&telnet;">TELNET</ulink>
              </entry>
              <entry>
    TELNET server
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/telnetd-ssl">
<literal>telnetd-ssl</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/telnetd-ssl">&pop-telnetdssl;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/t/telnetd-ssl.html">&size-telnetdssl;</ulink></entry>
              <entry>
    , ,
    </entry>
              <entry>
    , , (SSL support)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/nfs-kernel-server">
<literal>nfs-kernel-server</literal> </ulink></entry>
              <entry><ulink
url="http://bugs.debian.org/nfs-kernel-server">&pop-nfskernelserver;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/n/nfs-kernel-server.html">&size-nfskernelserver;</ulink></entry>
              <entry>
                <ulink url="&nfs;">NFS</ulink>
              </entry>
              <entry>
    Unix式ファイル共有
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/samba"> <literal>samba</literal>
</ulink></entry>
              <entry><ulink url="http://bugs.debian.org/samba">&pop-samba;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/s/samba.html">&size-samba;</ulink></entry>
              <entry>
                <ulink url="&smb;">SMB</ulink>
              </entry>
              <entry>
    windows file and printer sharing
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/netatalk">
<literal>netatalk</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/netatalk">&pop-netatalk;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/n/netatalk.html">&size-netatalk;</ulink></entry>
              <entry>
                <ulink url="&atp;">ATP</ulink>
              </entry>
              <entry>
    apple/mac file and printer sharing (AppleTalk)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/proftpd-basic">
<literal>proftpd-basic</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/proftpd-basic">&pop-proftpdbasic;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/p/proftpd-basic.html">&size-proftpdbasic;</ulink></entry>
              <entry>
                <ulink url="&ftp;">FTP</ulink>
              </entry>
              <entry>
    general file download
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/wu-ftpd">
<literal>wu-ftpd</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/wu-ftpd">&pop-wuftpd;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/w/wu-ftpd.html">&size-wuftpd;</ulink></entry>
              <entry>
    , ,
    </entry>
              <entry>
    , ,
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/apache2-mpm-prefork">
<literal>apache2-mpm-prefork</literal> </ulink></entry>
              <entry><ulink
url="http://bugs.debian.org/apache2-mpm-prefork">&pop-apachecmpmprefork;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/a/apache2-mpm-prefork.html">&size-apachecmpmprefork;</ulink></entry>
              <entry>
                <ulink url="&http;">HTTP</ulink>
              </entry>
              <entry>
    general web server
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/apache2-mpm-worker">
<literal>apache2-mpm-worker</literal> </ulink></entry>
              <entry><ulink
url="http://bugs.debian.org/apache2-mpm-worker">&pop-apachecmpmworker;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/a/apache2-mpm-worker.html">&size-apachecmpmworker;</ulink></entry>
              <entry>
    , ,
    </entry>
              <entry>
    , ,
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/squid"> <literal>squid</literal>
</ulink></entry>
              <entry><ulink url="http://bugs.debian.org/squid">&pop-squid;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/s/squid.html">&size-squid;</ulink></entry>
              <entry>
    , ,
    </entry>
              <entry>
    汎用ウエッブ<ulink url="&proxyserver;">プロキシサーバー</ulink>
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/squid3">
<literal>squid3</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/squid3">&pop-squidd;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/s/squid3.html">&size-squidd;</ulink></entry>
              <entry>
    , ,
    </entry>
              <entry>
    , ,
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/slpd"> <literal>slpd</literal>
</ulink></entry>
              <entry><ulink url="http://bugs.debian.org/slpd">&pop-slpd;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/s/slpd.html">&size-slpd;</ulink></entry>
              <entry>
                <ulink url="&slp;">SLP</ulink>
              </entry>
              <entry><ulink url="&ldap;">LDAP</ulink> サーバーとしての<ulink
url="&openslp;">OpenSLP</ulink> サーバー
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/bind9"> <literal>bind9</literal>
</ulink></entry>
              <entry><ulink url="http://bugs.debian.org/bind9">&pop-bindj;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/b/bind9.html">&size-bindj;</ulink></entry>
              <entry>
                <ulink url="&dns;">DNS</ulink>
              </entry>
              <entry>
    IP address for other hosts
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/dhcp3-server">
<literal>dhcp3-server</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/dhcp3-server">&pop-dhcpdserver;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/d/dhcp3-server.html">&size-dhcpdserver;</ulink></entry>
              <entry>
                <ulink url="&dhcp;">DHCP</ulink>
              </entry>
              <entry>
    IP address of client itself
    </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <simpara>Common Internet File System Protocol (CIFS) is the same protocol as Server
Message Block (SMB).</simpara>
      <tip>
        <simpara>Use of proxy server such as <literal>squid</literal> is much more efficient
for saving bandwidth than use of local mirror server with the full Debian
archive contents.</simpara>
      </tip>
    </section>
    <section id="_other_network_application_clients">
      <title>Other network application clients</title>
      <table id="listofnetworkapplicationclients" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>ネットワークアプリケーションのリスト。</title>
        <tgroup cols="5">
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="216" align="left"/>
          <thead>
            <row>
              <entry>
    パッケージ
    </entry>
              <entry>
    popcon
    </entry>
              <entry>
    サイズ
    </entry>
              <entry>
    protocol
    </entry>
              <entry>
    focus
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/netcat">
<literal>netcat</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/netcat">&pop-netcat;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/n/netcat.html">&size-netcat;</ulink></entry>
              <entry>
                <ulink url="&tcpip;">TCP/IP</ulink>
              </entry>
              <entry>
    TCP/IP swiss army knife
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/stunnel4">
<literal>stunnel4</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/stunnel4">&pop-stunnele;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/s/stunnel4.html">&size-stunnele;</ulink></entry>
              <entry>
                <ulink url="&ssl;">SSL</ulink>
              </entry>
              <entry>
    Universal SSL Wrapper
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/telnet">
<literal>telnet</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/telnet">&pop-telnet;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/t/telnet.html">&size-telnet;</ulink></entry>
              <entry>
                <ulink url="&telnet;">TELNET</ulink>
              </entry>
              <entry>
    TELNET client
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/telnet-ssl">
<literal>telnet-ssl</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/telnet-ssl">&pop-telnetssl;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/t/telnet-ssl.html">&size-telnetssl;</ulink></entry>
              <entry>
    , ,
    </entry>
              <entry>
    , , (SSL support)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/nfs-common">
<literal>nfs-common</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/nfs-common">&pop-nfscommon;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/n/nfs-common.html">&size-nfscommon;</ulink></entry>
              <entry>
                <ulink url="&nfs;">NFS</ulink>
              </entry>
              <entry>
    Unix式ファイル共有
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/smbclient">
<literal>smbclient</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/smbclient">&pop-smbclient;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/s/smbclient.html">&size-smbclient;</ulink></entry>
              <entry>
                <ulink url="&smb;">SMB</ulink>
              </entry>
              <entry>
    MS windows file and printer sharing client
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/smbfs"> <literal>smbfs</literal>
</ulink></entry>
              <entry><ulink url="http://bugs.debian.org/smbfs">&pop-smbfs;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/s/smbfs.html">&size-smbfs;</ulink></entry>
              <entry>
    , ,
    </entry>
              <entry>
    Mount and umount commands for remote MS windows file
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/ftp"> <literal>ftp</literal>
</ulink></entry>
              <entry><ulink url="http://bugs.debian.org/ftp">&pop-ftp;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/f/ftp.html">&size-ftp;</ulink></entry>
              <entry>
                <ulink url="&ftp;">FTP</ulink>
              </entry>
              <entry>
    FTP client
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/lftp"> <literal>lftp</literal>
</ulink></entry>
              <entry><ulink url="http://bugs.debian.org/lftp">&pop-lftp;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/l/lftp.html">&size-lftp;</ulink></entry>
              <entry>
    , ,
    </entry>
              <entry>
    , ,
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/ncftp"> <literal>ncftp</literal>
</ulink></entry>
              <entry><ulink url="http://bugs.debian.org/ncftp">&pop-ncftp;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/n/ncftp.html">&size-ncftp;</ulink></entry>
              <entry>
    , ,
    </entry>
              <entry>
    Full screen FTP client
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/wget"> <literal>wget</literal>
</ulink></entry>
              <entry><ulink url="http://bugs.debian.org/wget">&pop-wget;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/w/wget.html">&size-wget;</ulink></entry>
              <entry><ulink url="&http;">HTTP</ulink>と<ulink url="&ftp;">FTP</ulink>
    </entry>
              <entry>
    Web downloader
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/curl"> <literal>curl</literal>
</ulink></entry>
              <entry><ulink url="http://bugs.debian.org/curl">&pop-curl;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/c/curl.html">&size-curl;</ulink></entry>
              <entry>
    , ,
    </entry>
              <entry>
    , ,
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/dog"> <literal>dog</literal>
</ulink></entry>
              <entry><ulink url="http://bugs.debian.org/dog">&pop-dog;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/d/dog.html">&size-dog;</ulink></entry>
              <entry>
                <ulink url="&http;">HTTP</ulink>
              </entry>
              <entry>
    Web uploader (<literal>cat</literal> with URL support)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/bind9-host">
<literal>bind9-host</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/bind9-host">&pop-bindjhost;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/b/bind9-host.html">&size-bindjhost;</ulink></entry>
              <entry>
                <ulink url="&dns;">DNS</ulink>
              </entry>
              <entry>
    The <literal>host</literal> command from bind9, priority standard
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/dnsutils">
<literal>dnsutils</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/dnsutils">&pop-dnsutils;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/d/dnsutils.html">&size-dnsutils;</ulink></entry>
              <entry>
    , ,
    </entry>
              <entry>
    The <literal>dig</literal> command from bind, priority standard
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/host"> <literal>host</literal>
</ulink></entry>
              <entry><ulink url="http://bugs.debian.org/host">&pop-host;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/h/host.html">&size-host;</ulink></entry>
              <entry>
    , ,
    </entry>
              <entry>
    The <literal>host</literal> command from dnsutils, priority extra
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/dhcp3-client">
<literal>dhcp3-client</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/dhcp3-client">&pop-dhcpdclient;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/d/dhcp3-client.html">&size-dhcpdclient;</ulink></entry>
              <entry>
                <ulink url="&dhcp;">DHCP</ulink>
              </entry>
              <entry>
    Obtain IP address
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/ldap-utils">
<literal>ldap-utils</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/ldap-utils">&pop-ldaputils;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/l/ldap-utils.html">&size-ldaputils;</ulink></entry>
              <entry>
                <ulink url="&ldap;">LDAP</ulink>
              </entry>
              <entry>
    Obtain data from LDAP server
    </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
    </section>
    <section id="_the_diagnosis_of_the_system_daemons">
      <title>The diagnosis of the system daemons</title>
      <simpara>The <literal>telnet</literal> program enables manual connection and
diagnosis of the system daemons.  E.g.:</simpara>
      <screen>$ telnet mail.ispname.net pop3</screen>
      <simpara>The following <ulink url="&rfcs;">RFCs</ulink> provide required knowledge to
text each system daemon.</simpara>
      <table id="listofpopularrfcs" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>List of popular RFCs.</title>
        <tgroup cols="2">
          <colspec colwidth="144" align="left"/>
          <colspec colwidth="360" align="left"/>
          <thead>
            <row>
              <entry>
    RFC
    </entry>
              <entry>
    説明
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry><ulink url="&rfcbjdj;">rfc1939</ulink> and <ulink
url="&rfcceej;">rfc2449</ulink>
    </entry>
              <entry><ulink url="&popd;">POP3</ulink> service
    </entry>
            </row>
            <row>
              <entry>
                <ulink url="&rfcdfab;">rfc3501</ulink>
              </entry>
              <entry><ulink url="&imape;">IMAP4</ulink> サービス
    </entry>
            </row>
            <row>
              <entry><ulink url="&rfccicb;">rfc2821</ulink> (<ulink
url="&rfcicb;">rfc821</ulink>)
    </entry>
              <entry><ulink url="&smtp;">SMTP</ulink>サービス
    </entry>
            </row>
            <row>
              <entry><ulink url="&rfccicc;">rfc2822</ulink> (<ulink
url="&rfcicc;">rfc822</ulink>)
    </entry>
              <entry>
    Mail file format
    </entry>
            </row>
            <row>
              <entry>
                <ulink url="&rfccaef;">rfc2045</ulink>
              </entry>
              <entry>
                <ulink url="&multipurposeinteilextensionsmime;">Multipurpose Internet Mail
Extensions (MIME)</ulink>
              </entry>
            </row>
            <row>
              <entry>
                <ulink url="&rfcibj;">rfc819</ulink>
              </entry>
              <entry><ulink url="&dns;">DNS</ulink>サービス
    </entry>
            </row>
            <row>
              <entry>
                <ulink url="&rfccgbg;">rfc2616</ulink>
              </entry>
              <entry><ulink url="&http;">HTTP</ulink>サービス
    </entry>
            </row>
            <row>
              <entry>
                <ulink url="&rfccdjg;">rfc2396</ulink>
              </entry>
              <entry><ulink url="&uri;">URI</ulink> definition
    </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <simpara>The port usage is described in "<literal>/etc/services</literal>".</simpara>
      <note>
        <simpara>For testing <ulink url="&tls;">TLS</ulink>/SSL services such as <ulink
url="&https;">HTTPS</ulink>, you need TLS/SSL enabled
<literal>telnet</literal> program.</simpara>
      </note>
    </section>
  </chapter>
  <chapter id="_the_x_window_system">
    <title>The X window system</title>
    <simpara>The <ulink url="&xwindowsystem;">X window system</ulink> on the Debian
system is based on the source from <ulink url="&xorg;">X.Org</ulink>. As of
January 2009, they are X11R7.1(etch), X11R7.3(lenny) and X11R7.3(sid).</simpara>
    <section id="_key_packages">
      <title>重要パッケージ</title>
      <simpara>There are a few (meta)packages provided to ease installation.</simpara>
      <table id="listofkeymetapackagesforxwindow" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>List of key (meta)packages for X window.</title>
        <tgroup cols="4">
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="288" align="left"/>
          <thead>
            <row>
              <entry>
    (メタ)パッケージ
    </entry>
              <entry>
    popcon
    </entry>
              <entry>
    サイズ
    </entry>
              <entry>
    説明
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/xorg"> <literal>xorg</literal>
</ulink></entry>
              <entry><ulink url="http://bugs.debian.org/xorg">&pop-xorg;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/x/xorg.html">&size-xorg;</ulink></entry>
              <entry>
    This metapackage provides the X libraries, an X server, a set of fonts, and
a group of basic X clients and utilities.
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/xserver-xorg">
<literal>xserver-xorg</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/xserver-xorg">&pop-xserverxorg;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/x/xserver-xorg.html">&size-xserverxorg;</ulink></entry>
              <entry>
    This package provides the full suits of the X server and its configuration.
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/xbase-clients">
<literal>xbase-clients</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/xbase-clients">&pop-xbaseclients;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/x/xbase-clients.html">&size-xbaseclients;</ulink></entry>
              <entry>
    This package provides a miscellaneous assortment of X clients.
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/x11-common">
<literal>x11-common</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/x11-common">&pop-xbbcommon;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/x/x11-common.html">&size-xbbcommon;</ulink></entry>
              <entry>
    This package contains the filesystem infrastructure for the X window system.
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/xorg-docs">
<literal>xorg-docs</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/xorg-docs">&pop-xorgdocs;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/x/xorg-docs.html">&size-xorgdocs;</ulink></entry>
              <entry>
    This package contains miscellaneous documentation for the X.Org software
suite.
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/xspecs">
<literal>xspecs</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/xspecs">&pop-xspecs;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/x/xspecs.html">&size-xspecs;</ulink></entry>
              <entry>
    This package contains X protocol, extension, and library technical
specifications.
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/menu"> <literal>menu</literal>
</ulink></entry>
              <entry><ulink url="http://bugs.debian.org/menu">&pop-menu;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/m/menu.html">&size-menu;</ulink></entry>
              <entry>
    This package generates the Debian menu for all menu-aware applications.
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/gksu"> <literal>gksu</literal>
</ulink></entry>
              <entry><ulink url="http://bugs.debian.org/gksu">&pop-gksu;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/g/gksu.html">&size-gksu;</ulink></entry>
              <entry>
    This package provides a Gtk+ frontend to <literal>su</literal>(1) or
<literal>sudo</literal>(8).
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/menu-xdg">
<literal>menu-xdg</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/menu-xdg">&pop-menuxdg;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/m/menu-xdg.html">&size-menuxdg;</ulink></entry>
              <entry>
    This package converts the Debian menu structure to the <ulink
url="&freedesktoporg;">freedesktop.org</ulink> xdg menu structure.
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/xdg-utils">
<literal>xdg-utils</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/xdg-utils">&pop-xdgutils;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/x/xdg-utils.html">&size-xdgutils;</ulink></entry>
              <entry>
    This package provides utilities to integrate desktop environment provided by
the <ulink url="&freedesktoporg;">freedesktop.org</ulink>.
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/gnome-desktop-environment">
<literal>gnome-desktop-environment</literal> </ulink></entry>
              <entry><ulink
url="http://bugs.debian.org/gnome-desktop-environment">&pop-gnomedesktopenvironment;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/g/gnome-desktop-environment.html">&size-gnomedesktopenvironment;</ulink></entry>
              <entry>
    metapackage for the stadard <ulink url="&gnome;">GNOME</ulink> desktop
environment.
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/kde-core">
<literal>kde-core</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/kde-core">&pop-kdecore;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/k/kde-core.html">&size-kdecore;</ulink></entry>
              <entry>
    metapackage for the core <ulink url="&kde;">KDE</ulink> desktop environment.
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/xfce4"> <literal>xfce4</literal>
</ulink></entry>
              <entry><ulink url="http://bugs.debian.org/xfce4">&pop-xfcee;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/x/xfce4.html">&size-xfcee;</ulink></entry>
              <entry>
    metapackage for the <ulink url="&xfce;">Xfce</ulink> lightweight desktop
environment.
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/lxde-core">
<literal>lxde-core</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/lxde-core">&pop-lxdecore;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/l/lxde-core.html">&size-lxdecore;</ulink></entry>
              <entry>
    metapackage for the <ulink url="&lxde;">LXDE</ulink> lightweight desktop
environment.
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/fluxbox">
<literal>fluxbox</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/fluxbox">&pop-fluxbox;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/f/fluxbox.html">&size-fluxbox;</ulink></entry>
              <entry><ulink url="&fluxbox;">Fluxbox</ulink>: package for highly configurable and
low resource <ulink url="&xwindowmanager;">X window manager</ulink>.
    </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <simpara>For the basics of X, refer to <literal>X</literal>(7), <ulink
url="&theldpxwindowuserhowto;">the LDP XWindow-User-HOWTO</ulink>.</simpara>
    </section>
    <section id="_setting_up_desktop_environment">
      <title>Setting up desktop environment</title>
      <simpara>A <ulink url="&desktopenvironment;">desktop environment</ulink> is usually a
combination of a <ulink url="&xwindowmanager;">X window manager</ulink>, a
file manager, and a suite of compatible utility programs.</simpara>
      <simpara>You can setup a full <ulink url="&desktopenvironment;">desktop
environment</ulink> such as <ulink url="&gnome;">GNOME</ulink>, <ulink
url="&kde;">KDE</ulink>, <ulink url="&xfce;">Xfce</ulink>, or <ulink
url="&lxde;">LXDE</ulink>, from the <literal>aptitude</literal> under the
task menu.</simpara>
      <tip>
        <simpara>Task menu may be out of sync with the latest package transition state under
Debian <literal>unstable</literal>/<literal>testing</literal>
environment. In such situation, you need to deselect some (meta)packages
listed under <literal>aptitude</literal>(8) task menu to avoid package
conflicts.  When deselecting (meta)packages, you must select certain
packages providing their dependencies if you need to keep them.</simpara>
      </tip>
      <simpara>You may alternatively setup a simple environment manually just with a <ulink
url="&xwindowmanager;">X window manager</ulink> such as <ulink
url="&fluxbox;">Fluxbox</ulink>.</simpara>
      <simpara>See <ulink url="&windowmanagersforx;">Window Managers for X</ulink> for the
guide to the X window manager and the desktop environment.</simpara>
      <section id="_debian_menu">
        <title>Debianメニュー</title>
        <simpara><ulink url="&debianmenusystem;">Debian menu system</ulink> provides a
general interface for both text- and X-oriented programs with
<literal>update-menus</literal>(1) from the <literal>menu</literal>
package.  Each package installs its menu data in the
"<literal>/usr/share/menu/</literal>" directory. See
"<literal>/usr/share/menu/README</literal>".</simpara>
      </section>
      <section id="_freedesktop_org_menu">
        <title>Freedesktop.org menu</title>
        <simpara>Each package which is compliant to Freedesktop.org's xdg menu system
installs its menu data provided by "<literal>*.desktop</literal>" under
"<literal>/usr/share/applications/</literal>". Modern desktop environments
which are compliant to Freedesktop.org standard use these data to generate
their menu using the <literal>xdg-utils</literal> package.  See
"<literal>/usr/share/doc/xdg-utils/README</literal>".</simpara>
      </section>
      <section id="_debian_menu_under_gnome_desktop_environment">
        <title>Debian menu under GNOME desktop environment</title>
        <simpara>In order to obtain access to the traditional Debian menu under GNOME desktop
environment, you must install the <literal>menu-xdg</literal> package, click
"System" → "Preference" → "Main Menu", and check the box for "Debian".</simpara>
        <tip>
          <simpara>You may need to do the similar for other modern desktop environments which
are compliant to Freedesktop.org standard.</simpara>
        </tip>
      </section>
    </section>
    <section id="_the_server_client_relationship">
      <title>The server/client relationship</title>
      <simpara>The X window system is activated as a combination of the server and client
programs. The meaning for the words <emphasis
role="strong">server</emphasis> and <emphasis
role="strong">client</emphasis> with respect to the words <emphasis
role="strong">local</emphasis> and <emphasis role="strong">remote</emphasis>
requires attention here:</simpara>
      <table id="listofserverclientterminology" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>List of server/client terminology.</title>
        <tgroup cols="2">
          <colspec colwidth="144" align="left"/>
          <colspec colwidth="360" align="left"/>
          <thead>
            <row>
              <entry>
    タイプ
    </entry>
              <entry>
    説明
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry>
                <emphasis role="strong">X サーバー</emphasis>
              </entry>
              <entry>
    a program run on a <emphasis role="strong">local host</emphasis> connected
to the user's display and input devices.
    </entry>
            </row>
            <row>
              <entry>
                <emphasis role="strong">Xクライアント</emphasis>
              </entry>
              <entry>
    a program run on a <emphasis role="strong">remote host</emphasis> that
processes data and talks to the X server.
    </entry>
            </row>
            <row>
              <entry>
                <emphasis role="strong">アプリケーションサーバー</emphasis>
              </entry>
              <entry>
    a program run on a <emphasis role="strong">remote host</emphasis> that
processes data and talks to the clients.
    </entry>
            </row>
            <row>
              <entry>
                <emphasis role="strong">アプリケーションクライアント</emphasis>
              </entry>
              <entry>
    a program run on a <emphasis role="strong">local host</emphasis> connected
to the user's display and input devices.
    </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
    </section>
    <section id="_the_x_server">
      <title>The X server</title>
      <simpara>See <literal>xorg</literal>(1) for X server information.</simpara>
      <section id="_the_re_configuration_of_the_x_server">
        <title>The (re)configuration of the X server</title>
        <simpara>To (re)configure an X server,</simpara>
        <screen># dpkg-reconfigure --priority=low x11-common
# dpkg-reconfigure --priority=low xserver-xorg</screen>
        <simpara>will generate a new "<literal>/etc/X11/xorg.conf</literal>" file using
<literal>dexconf</literal>(1).</simpara>
        <simpara>If you have manually edited this "<literal>/etc/X11/xorg.conf</literal>"
file but would like it to be automatically updated again, run the following
command: <literal> # sudo dpkg-reconfigure -phigh xserver-xorg </literal></simpara>
        <simpara>Please check your X configuration with respect to the specification of your
monitor carefully.  For the large high resolution CRT monitor, it is a good
idea to set the refresh rate as high as your monitor can handle (85 Hz is
great, 75 Hz is OK) to reduce flicker.  For the LCD monitor, slower standard
refresh rate (60Hz) is usually fine due to its slow response.</simpara>
        <note>
          <simpara>Be careful not to use too high refresh rate which may cause fatal hardware
failure of your monitor system.</simpara>
        </note>
      </section>
      <section id="_the_connection_methods_to_the_x_server">
        <title>The connection methods to the X server</title>
        <simpara>There are several ways of getting the "X server" (<emphasis
role="strong">display</emphasis> side) to accept connections from an "X
client" (<emphasis role="strong">application</emphasis> side):</simpara>
        <table id="listofconnectionhodstothexserver" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of connection methods to the X server.</title>
          <tgroup cols="7">
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <thead>
              <row>
                <entry>
    method
    </entry>
                <entry>
    パッケージ
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    サイズ
    </entry>
                <entry>
    user
    </entry>
                <entry>
    encryption
    </entry>
                <entry>
    pertinent use
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><literal>xhost</literal> command
    </entry>
                <entry><ulink url="http://packages.debian.org/sid/xbase-clients">
<literal>xbase-clients</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/xbase-clients">&pop-xbaseclients;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/x/xbase-clients.html">&size-xbaseclients;</ulink></entry>
                <entry>
    unchecked
    </entry>
                <entry>
    no
    </entry>
                <entry>
    deprecated
    </entry>
              </row>
              <row>
                <entry><literal>xauth</literal> command
    </entry>
                <entry><ulink url="http://packages.debian.org/sid/xbase-clients">
<literal>xbase-clients</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/xbase-clients">&pop-xbaseclients;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/x/xbase-clients.html">&size-xbaseclients;</ulink></entry>
                <entry>
    確認済み
    </entry>
                <entry>
    no
    </entry>
                <entry>
    for local connection via pipe
    </entry>
              </row>
              <row>
                <entry><literal>ssh -X</literal> command
    </entry>
                <entry><ulink url="http://packages.debian.org/sid/openssh-client">
<literal>openssh-client</literal> </ulink></entry>
                <entry><ulink
url="http://bugs.debian.org/openssh-client">&pop-opensshclient;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/o/openssh-client.html">&size-opensshclient;</ulink></entry>
                <entry>
    確認済み
    </entry>
                <entry>
    yes
    </entry>
                <entry>
    for remote network connection
    </entry>
              </row>
              <row>
                <entry>
    GNOME display manager
    </entry>
                <entry><ulink url="http://packages.debian.org/sid/gdm"> <literal>gdm</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/gdm">&pop-gdm;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/g/gdm.html">&size-gdm;</ulink></entry>
                <entry>
    確認済み
    </entry>
                <entry>
    no(XDMCP)
    </entry>
                <entry>
    for local connection via pipe
    </entry>
              </row>
              <row>
                <entry>
    KDE display manager
    </entry>
                <entry><ulink url="http://packages.debian.org/sid/kdm"> <literal>kdm</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/kdm">&pop-kdm;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/k/kdm.html">&size-kdm;</ulink></entry>
                <entry>
    確認済み
    </entry>
                <entry>
    no(XDMCP)
    </entry>
                <entry>
    for local connection via pipe
    </entry>
              </row>
              <row>
                <entry>
    X display manager
    </entry>
                <entry><ulink url="http://packages.debian.org/sid/xdm"> <literal>xdm</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/xdm">&pop-xdm;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/x/xdm.html">&size-xdm;</ulink></entry>
                <entry>
    確認済み
    </entry>
                <entry>
    no(XDMCP)
    </entry>
                <entry>
    for local connection via pipe
    </entry>
              </row>
              <row>
                <entry>
    WindowMaker display manager
    </entry>
                <entry><ulink url="http://packages.debian.org/sid/wdm"> <literal>wdm</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/wdm">&pop-wdm;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/w/wdm.html">&size-wdm;</ulink></entry>
                <entry>
    確認済み
    </entry>
                <entry>
    no(XDMCP)
    </entry>
                <entry>
    for local connection via pipe
    </entry>
              </row>
              <row>
                <entry>
    Secure display manager
    </entry>
                <entry><ulink url="http://packages.debian.org/sid/sdm"> <literal>sdm</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/sdm">&pop-sdm;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/s/sdm.html">&size-sdm;</ulink></entry>
                <entry>
    確認済み
    </entry>
                <entry>
    yes
    </entry>
                <entry>
    for remote SSH network connection (thin client)
    </entry>
              </row>
              <row>
                <entry>
    Linux Terminal Server Project display manager
    </entry>
                <entry><ulink url="http://packages.debian.org/sid/ldm"> <literal>ldm</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/ldm">&pop-ldm;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/l/ldm.html">&size-ldm;</ulink></entry>
                <entry>
    確認済み
    </entry>
                <entry>
    yes
    </entry>
                <entry>
    for remote SSH network connection (thin client)
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <warning>
          <simpara>Do not use remote <ulink url="&tcp;">TCP</ulink>/<ulink
url="&ip;">IP</ulink> connection over <emphasis
role="strong">unsecured</emphasis> network for X connection unless you have
very good reason such as use of encryption.  A remote TCP/IP socket
connection without encryption is prone to the <emphasis
role="strong">eavesdropping attack</emphasis> and is disabled by default on
the Debian system.  Use "<literal>ssh -X</literal>".</simpara>
        </warning>
        <warning>
          <simpara>Do not use <ulink url="&xdmcpconnection;">XDMCP connection</ulink> over
<emphasis role="strong">unsecured</emphasis> network either.  It sends data
via <ulink url="&udp;">UDP</ulink>/<ulink url="&ip;">IP</ulink> without
encryption and prone to the <emphasis role="strong">eavesdropping
attack</emphasis>.</simpara>
        </warning>
        <tip>
          <simpara>You can <emphasis role="strong">dare</emphasis> to enable remote TCP/IP
connection by setting "<literal>DisallowTCP=false</literal>" in
"<literal>/etc/gdm/gdm.conf</literal>" and by removing
"<literal>-nolisten</literal>" from lines found by "<literal>find /etc/X11
-type f -print0 | xargs -0 grep nolisten</literal>", if you are in the fully
<emphasis role="strong">secured</emphasis> environment.</simpara>
        </tip>
      </section>
    </section>
    <section id="_starting_the_x_window_system">
      <title>Starting the X window system</title>
      <simpara>The X Window system is usually started as an X session which is the
combination of an X server and connecting X clients.  For normal desktop
system, both of them are executed on the workstation.</simpara>
      <simpara>To start the X Window system,</simpara>
      <itemizedlist>
        <listitem>
          <simpara><literal>startx</literal> command started from the command line, or
</simpara>
        </listitem>
        <listitem>
          <simpara>
one of the <ulink url="&xdisplaymanager;">X display manager</ulink> daemon
programs <literal>*dm</literal> started from the end of the start up script
in "<literal>/etc/rc?.d/</literal>" directory ("<literal>?</literal>"
corresponding to the runlevel)  are used to start the <ulink
url="&xsession;">X session</ulink>. (The start up script for the display
manager daemons checks the content of the
"<literal>/etc/X11/default-display-manager</literal>" file before actually
executing themselves.)
</simpara>
        </listitem>
      </itemizedlist>
      <tip>
        <simpara>See <xref linkend="_specific_locale_only_under_x_window"/> for initial
environment variables of the X display manager.</simpara>
      </tip>
      <simpara>Essentially, all these programs execute the
"<literal>/etc/X11/Xsession</literal>" script.  Then the
"<literal>/etc/X11/Xsession</literal>" script performs run-parts like action
to execute scripts in the "<literal>/etc/X11/Xsession.d/</literal>"
directory. This is essentially an execution of a first program which is
found in the following order with the <literal>exec</literal> builtin
command:</simpara>
      <orderedlist>
        <listitem>
          <simpara>
The script specified as the argument of
"<literal>/etc/X11/Xsession</literal>" by the X display manager, if it is
defined.
</simpara>
        </listitem>
        <listitem>
          <simpara>
The "<literal>~/.xsession</literal>" or "<literal>~/.Xsession</literal>"
script, if it is defined.
</simpara>
        </listitem>
        <listitem>
          <simpara>
The "<literal>/usr/bin/x-session-manager</literal>" command, if it is
defined.
</simpara>
        </listitem>
        <listitem>
          <simpara>
The "<literal>/usr/bin/x-window-manager</literal>" command, if it is
defined.
</simpara>
        </listitem>
        <listitem>
          <simpara>
The "<literal>/usr/bin/x-terminal-emulator</literal>" command, if it is
defined.
</simpara>
        </listitem>
      </orderedlist>
      <simpara>This process is affected by the content of
"<literal>/etc/X11/Xsession.options</literal>".  The exact programs to which
these "<literal>/usr/bin/x-*</literal>" commands point, are determined by
the Debian alternative system and changed by "<literal>update-alternatives
--config x-session-manager</literal>", etc.</simpara>
      <section id="_starting_x_session_with_gdm">
        <title>Starting X session with gdm</title>
        <simpara><literal>gdm</literal>(1) lets you select the session type (or desktop
environment: <xref linkend="_setting_up_desktop_environment"/>), and
language (or locale: <xref linkend="_the_locale"/>) of the X session from
its menu.  It keeps the selected default value in
"<literal>~/.dmrc</literal>" as, e.g.:</simpara>
        <screen>[Desktop]
Session=default
Language=ja_JP.UTF-8</screen>
      </section>
      <section id="_customizing_the_x_session_classic_method">
        <title>Customizing the X session (classic method)</title>
        <simpara>On a system where "<literal>/etc/X11/Xsession.options</literal>" contains a
line "<literal>allow-user-xsession</literal>" without preceding
"<literal>#</literal>" characters, any user who defines
"<literal>~/.xsession</literal>" or "<literal>~/.Xsession</literal>" will be
able to customize the action of "<literal>/etc/X11/Xsession</literal>" by
completely overiding the system code. The last command in the
"<literal>~/.xsession</literal>" file should use form of "<literal>exec
some-window/session-manager</literal>" to start your favorite X
window/session managers.</simpara>
      </section>
      <section id="_customizing_the_x_session_new_method">
        <title>Customizing the X session (new method)</title>
        <simpara>Here are new methods to customize the X session without completely overiding
the system code as above.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
The display manager <literal>gdm</literal> can select a specific session and
set it as the argument of "<literal>/etc/X11/Xsession</literal>".
</simpara>
          </listitem>
          <listitem>
            <simpara>
The "<literal>~/.xsessionrc</literal>" file is executed as a part of start
up process (desktop independent.)
</simpara>
          </listitem>
          <listitem>
            <simpara>
The "<literal>~/.gnomerc</literal>" file is executed as a part of start up
process. (GNOME desktop only)
</simpara>
          </listitem>
          <listitem>
            <simpara>
The GUI program based session management software can use the
"<literal>~/.gnome2/session</literal>" file etc..
</simpara>
          </listitem>
        </itemizedlist>
      </section>
      <section id="_connecting_a_remote_x_client_via_ssh">
        <title>Connecting a remote X client via SSH</title>
        <simpara>The use of "<literal>ssh -X</literal>" enables a secure connection from a
local X server to a remote application server.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
Set "<literal>X11Forwarding</literal>" entries to "<literal>yes</literal>"
in "<literal>/etc/ssh/sshd_config</literal>" of the remote host, if you want
to avoid "<literal>-X</literal>" command-line option.
</simpara>
          </listitem>
          <listitem>
            <simpara>
Start the X server on the local host.
</simpara>
          </listitem>
          <listitem>
            <simpara>
Open an <literal>xterm</literal> in the local host.
</simpara>
          </listitem>
          <listitem>
            <simpara>
Run <literal>ssh</literal>(1) to establish a connection with the remote
site.
</simpara>
          </listitem>
        </itemizedlist>
        <screen>localname @ localhost $ ssh -q -X loginname@remotehost.domain
Password:
.....</screen>
        <itemizedlist>
          <listitem>
            <simpara>
Run an X application command, e.g. "<literal>gimp</literal>", on the remote
site.
</simpara>
          </listitem>
        </itemizedlist>
        <screen>loginname @ remotehost $ gimp &amp;</screen>
        <simpara>This method allows the display of the remote X client output as if it were
locally connected through a local UNIX domain socket.</simpara>
      </section>
      <section id="_secure_x_terminal_via_internet">
        <title>インターネット経由のセキュアなXターミナル</title>
        <simpara>Secure X terminal via Internet, which displays remotely run entire X desktop
environment, can easily achieved by using specialized package such as
<literal>sdm</literal> and <literal>ldm</literal>. Your local machine
becomes a secure thin client to the remote application server connected via
SSH.</simpara>
        <simpara>If you want to add similar feature to your normal display manager
<literal>gdm</literal>, create executable shell script at
"<literal>/usr/local/bin/ssh-session</literal>" as:</simpara>
        <screen>#!/bin/sh -e
# Based on gdm-ssh-session in gdm source (GPL)
ZENITY=$(type -p zenity)
TARGETHOST=$($ZENITY --width=600 \
--title "Host to connect to" --entry \
--text "Enter the name of the host you want to log in to as user@host.dom:")
TARGETSESSION=$($ZENITY --width=600 --height=400 \
--title "Remote session name" --list --radiolist --text "Select one" \
--column " " --column "Session" --column "description" --print-column 2 \
TRUE "/etc/X11/Xsession" "Debian" \
FALSE "/etc/X11/xinit/Xclients" "RH variants" \
FALSE "gnome-session" "GNOME session" \
FALSE "xterm" "Safe choice" \
FALSE "rxvt" "Safe choice" \
FALSE "gnome-terminal" "Safe choice")
echo "Connecting to "$TARGETHOST" with $TARGETSESSION"
/usr/bin/ssh -A -X -T -n "$TARGETHOST" "$TARGETSESSION"
#SSH_ASKPASS=/usr/bin/ssh-askpass /usr/bin/ssh -A -X -T -n "$TARGETHOST" "$TARGETSESSION"</screen>
        <simpara>Then add followings to "<literal>/etc/dm/Sessions/ssh.desktop</literal>":</simpara>
        <screen>[Desktop Entry]
Encoding=UTF-8
Name=SSH
Comment=This session logs you into a remote host using ssh
Exec=/usr/local/bin/ssh-session
Type=Application</screen>
      </section>
    </section>
    <section id="_fonts_in_the_x_window">
      <title>Fonts in the X window</title>
      <simpara>X window on the Debian system support two mechanisms for font management:</simpara>
      <itemizedlist>
        <listitem>
          <simpara>
server side font management: the original core X11 font system and
</simpara>
        </listitem>
        <listitem>
          <simpara>
client side font management: the new <ulink url="&xft;">Xft</ulink> 2 font
system.
</simpara>
        </listitem>
      </itemizedlist>
      <simpara>The core X11 font system provides backward compatibility with older
applications such as Xterm with bitmap fonts.  It is supported by installing
pertinent font packages which trigger <literal>defoma</literal>(1) scripts
to generate required files such as "<literal>fonts.dir</literal>".</simpara>
      <simpara>The Xft2 font system is used by all modern applications such as ones from
GNOME, KDE, OpenOffice.org, etc..  It supports all fonts listed below (<xref
linkend="_basic_fonts"/>, <xref linkend="_additional_fonts"/>, and <xref
linkend="_cjk_fonts"/>) with advanced features such as anti-aliasing.  It
has no configuration mechanism itself, rather it relies upon the <ulink
url="&fontconfiglibrary;">fontconfig library</ulink> to configure and
customize fonts as described in <literal>fonts.conf</literal>(5).  Actual
rasterization is supported by the FreeType 2 font engine.  These new X
clients using Xft2 font system can talk to modern X server via <ulink
url="&thexrenderingextension;">the X Rendering Extension</ulink>.</simpara>
      <table id="tableofpackagestindowfontsystems" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>Table of packages to support X window font systems.</title>
        <tgroup cols="4">
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="288" align="left"/>
          <thead>
            <row>
              <entry>
    パッケージ
    </entry>
              <entry>
    popcon
    </entry>
              <entry>
    サイズ
    </entry>
              <entry>
    説明
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/xfonts-utils">
<literal>xfonts-utils</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/xfonts-utils">&pop-xfontsutils;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/x/xfonts-utils.html">&size-xfontsutils;</ulink></entry>
              <entry>
    X Window System font utility programs
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/libxft2">
<literal>libxft2</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/libxft2">&pop-libxftc;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/libx/libxft2.html">&size-libxftc;</ulink></entry>
              <entry>
    Xft: FreeType-based font drawing library for X
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/libfreetype6">
<literal>libfreetype6</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/libfreetype6">&pop-libfreetypeg;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/libf/libfreetype6.html">&size-libfreetypeg;</ulink></entry>
              <entry><ulink url="&freetype;">FreeType</ulink> 2 font engine, shared library files
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/fontconfig">
<literal>fontconfig</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/fontconfig">&pop-fontconfig;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/f/fontconfig.html">&size-fontconfig;</ulink></entry>
              <entry><ulink url="&genericfontconfigurationlibrary;">generic font configuration
library</ulink> - support binaries
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/fontconfig-config">
<literal>fontconfig-config</literal> </ulink></entry>
              <entry><ulink
url="http://bugs.debian.org/fontconfig-config">&pop-fontconfigconfig;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/f/fontconfig-config.html">&size-fontconfigconfig;</ulink></entry>
              <entry>
    generic font configuration library - configuration
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/defoma">
<literal>defoma</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/defoma">&pop-defoma;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/d/defoma.html">&size-defoma;</ulink></entry>
              <entry>
    Debian Font Manager — automatic font configuration framework
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/x-ttcidfont-conf">
<literal>x-ttcidfont-conf</literal> </ulink></entry>
              <entry><ulink
url="http://bugs.debian.org/x-ttcidfont-conf">&pop-xttcidfontconf;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/x/x-ttcidfont-conf.html">&size-xttcidfontconf;</ulink></entry>
              <entry>
    TrueType configuration for X (for CJK support)
    </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <simpara>You can check actual font path for:</simpara>
      <itemizedlist>
        <listitem>
          <simpara>
core X11 font path with "<literal>xset q</literal>"
</simpara>
        </listitem>
        <listitem>
          <simpara>
fontconfig font default: "<literal>fc-match</literal>"
</simpara>
        </listitem>
      </itemizedlist>
      <tip>
        <simpara>"<ulink url="&thepenguinandunicode;">The Penguin and Unicode</ulink>" is a
good overview of modern X Window system. Other documentations at <ulink
url="&httpunifontorg;">http://unifont.org/</ulink> should provide good
information on Unicode fonts, Unicode-enabled software,
internationalization, and Unicode usability issues on <ulink
url="&freelibreopensourcefloss;">free/libre/open source (FLOSS)</ulink>
operating systems.</simpara>
      </tip>
      <tip>
        <simpara>You should rely on <ulink url="&fontconfig;">fontconfig</ulink>
infrastructure to configure fonts on the Debian system.  Debian Font Manager
(<literal>defoma</literal>(1)) is only useful as font installation such as
<ulink url="&xlogicalfontdescriptionxlfd;">X logical font description
(XLFD)</ulink> data.</simpara>
      </tip>
      <section id="_basic_fonts">
        <title>基本的フォント</title>
        <simpara>There are 2 major types of <ulink url="&computerfonts;">computer
fonts</ulink>:</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
bitmap fonts (good for low resolution rasterization)
</simpara>
          </listitem>
          <listitem>
            <simpara>
outline/stroke fonts (good for high resolution rasterization)
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>While scaling of bitmap fonts causes jugged image, scaling of outline/stroke
fonts produces smooth image.</simpara>
        <simpara>Bitmap fonts on the Debian system are provided by compressed <ulink
url="&xbbpcfbitmapfontfiles;">X11 pcf bitmap font files</ulink> having their
file extension "<literal>.pcf.gz</literal>".</simpara>
        <simpara>Outline fonts on the Debian system are provided by:</simpara>
        <itemizedlist>
          <listitem>
            <simpara><ulink url="&postscript;">PostScript</ulink> Type 1 font files having their
file extension "<literal>.pfb</literal>" (binary font file) and
"<literal>.afm</literal>" (font metrics file).
</simpara>
          </listitem>
          <listitem>
            <simpara><ulink url="&truetype;">TrueType</ulink> font files having their file
extension "<literal>.ttf</literal>".
</simpara>
          </listitem>
        </itemizedlist>
        <table id="tableofcorresponscripttypebfonts" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>Table of corresponding <ulink url="&postscript;">PostScript</ulink> Type 1
fonts.</title>
          <tgroup cols="7">
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <thead>
              <row>
                <entry>
    フォントパッケージ
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    サイズ
    </entry>
                <entry>
    sans-serif font
    </entry>
                <entry>
    serif font
    </entry>
                <entry>
    monospace font
    </entry>
                <entry>
    source of font
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
    PostScript
    </entry>
                <entry>
    N/A
    </entry>
                <entry>
    N/A
    </entry>
                <entry>
                  <ulink url="&helvetica;">Helvetica</ulink>
                </entry>
                <entry>
                  <ulink url="&times;">Times</ulink>
                </entry>
                <entry>
                  <ulink url="&courier;">Courier</ulink>
                </entry>
                <entry>
    Adobe
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/gsfonts"> gsfonts </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/gsfonts">&pop-gsfonts;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/g/gsfonts.html">&size-gsfonts;</ulink></entry>
                <entry>
    Nimbus Sans L
    </entry>
                <entry>
    Nimbus Roman No9 L
    </entry>
                <entry>
    Nimbus Mono L
    </entry>
                <entry><ulink url="&urw;">URW</ulink> (Adobe compatible size)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/gsfonts-x11"> gsfonts-x11
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/gsfonts-x11">&pop-gsfontsxbb;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/g/gsfonts-x11.html">&size-gsfontsxbb;</ulink></entry>
                <entry>
    Nimbus Sans L
    </entry>
                <entry>
    Nimbus Roman No9 L
    </entry>
                <entry>
    Nimbus Mono L
    </entry>
                <entry>
    X font support with PostScript Type 1 fonts.
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/t1-cyrillic"> t1-cyrillic
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/t1-cyrillic">&pop-tbcyrillic;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/t/t1-cyrillic.html">&size-tbcyrillic;</ulink></entry>
                <entry>
    Free Helvetian
    </entry>
                <entry>
    Free Times
    </entry>
                <entry>
    Free Courier
    </entry>
                <entry>
    URW extended (Adobe compatible size)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/lmodern"> lmodern </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/lmodern">&pop-lmodern;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/l/lmodern.html">&size-lmodern;</ulink></entry>
                <entry>
    LMSans*
    </entry>
                <entry>
    LMRoman*
    </entry>
                <entry>
    LMTypewriter*
    </entry>
                <entry>
    scalable PostScript and OpenType fonts based on Computer Modern (from TeX)
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <table id="tableofcorresponingtruetypefonts" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>Table of corresponding <ulink url="&truetype;">TrueType</ulink> fonts.</title>
          <tgroup cols="7">
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <thead>
              <row>
                <entry>
    フォントパッケージ
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    サイズ
    </entry>
                <entry>
    sans-serif font
    </entry>
                <entry>
    serif font
    </entry>
                <entry>
    monospace font
    </entry>
                <entry>
    source of font
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/ttf-mscorefonts-installer">
ttf-mscorefonts-installer </ulink></entry>
                <entry><ulink
url="http://bugs.debian.org/ttf-mscorefonts-installer">&pop-ttfmscorefontsinstaller;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/t/ttf-mscorefonts-installer.html">&size-ttfmscorefontsinstaller;</ulink></entry>
                <entry>
                  <ulink url="&arial;">Arial</ulink>
                </entry>
                <entry>
                  <ulink url="&timesnewroman;">Times New Roman</ulink>
                </entry>
                <entry>
                  <ulink url="&couriernew;">Courier New</ulink>
                </entry>
                <entry>
    Microsoft (Adobe compatible size) (This installs non-free data)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/ttf-liberation"> ttf-liberation
</ulink></entry>
                <entry><ulink
url="http://bugs.debian.org/ttf-liberation">&pop-ttfliberation;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/t/ttf-liberation.html">&size-ttfliberation;</ulink></entry>
                <entry>
    Liberation Sans
    </entry>
                <entry>
    Liberation Serif
    </entry>
                <entry>
    Liberation Mono
    </entry>
                <entry><ulink url="&liberationfontsproject;">Liberation Fonts project</ulink>
(Microsoft compatible size)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/ttf-freefont"> ttf-freefont
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/ttf-freefont">&pop-ttffreefont;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/t/ttf-freefont.html">&size-ttffreefont;</ulink></entry>
                <entry>
    FreeSans
    </entry>
                <entry>
    FreeSerif
    </entry>
                <entry>
    FreeMono
    </entry>
                <entry><ulink url="&gnufreefont;">GNU freefont</ulink> (Microsoft compatible size)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/ttf-bitstream-vera">
ttf-bitstream-vera </ulink></entry>
                <entry><ulink
url="http://bugs.debian.org/ttf-bitstream-vera">&pop-ttfbitstreamvera;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/t/ttf-bitstream-vera.html">&size-ttfbitstreamvera;</ulink></entry>
                <entry>
    Bitstream Vera Sans
    </entry>
                <entry>
    Bitstream Vera Serif
    </entry>
                <entry>
    Bitstream Vera Sans Mono
    </entry>
                <entry>
                  <ulink url="&bitstreaminc;">Bitstream, Inc.</ulink>
                </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/ttf-dejavu"> ttf-dejavu </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/ttf-dejavu">&pop-ttfdejavu;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/t/ttf-dejavu.html">&size-ttfdejavu;</ulink></entry>
                <entry>
    DejaVu Sans
    </entry>
                <entry>
    DejaVu Serif
    </entry>
                <entry>
    DejaVu Sans Mono
    </entry>
                <entry><ulink url="&dejavu;">DejaVu</ulink>, Bitstream with extended character code
support
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/ttf-dejavu-core"> ttf-dejavu-core
</ulink></entry>
                <entry><ulink
url="http://bugs.debian.org/ttf-dejavu-core">&pop-ttfdejavucore;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/t/ttf-dejavu-core.html">&size-ttfdejavucore;</ulink></entry>
                <entry>
    DejaVu Sans
    </entry>
                <entry>
    DejaVu Serif
    </entry>
                <entry>
    DejaVu Sans Mono
    </entry>
                <entry><ulink url="&dejavu;">DejaVu</ulink>, basic font style variants
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/ttf-dejavu-extra">
ttf-dejavu-extra </ulink></entry>
                <entry><ulink
url="http://bugs.debian.org/ttf-dejavu-extra">&pop-ttfdejavuextra;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/t/ttf-dejavu-extra.html">&size-ttfdejavuextra;</ulink></entry>
                <entry>
    DejaVu Sans
    </entry>
                <entry>
    DejaVu Serif
    </entry>
                <entry>
    DejaVu Sans Mono
    </entry>
                <entry><ulink url="&dejavu;">DejaVu</ulink>, extra font style variants
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/ttf-unifont"> ttf-unifont
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/ttf-unifont">&pop-ttfunifont;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/t/ttf-unifont.html">&size-ttfunifont;</ulink></entry>
                <entry>
    N/A
    </entry>
                <entry>
    N/A
    </entry>
                <entry>
    unifont
    </entry>
                <entry><ulink url="&gnuunifont;">GNU Unifont</ulink>, with all printable character
code in Unicode 5.1 Basic Multilingual Plane (BMP)
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </section>
      <section id="_additional_fonts">
        <title>Additional fonts</title>
        <simpara><literal>aptitude</literal>(8) will help you find additional fonts easily:</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
by the short package list under "Packages which depend on defoma" under the
<literal>defoma</literal> package list,
</simpara>
          </listitem>
          <listitem>
            <simpara>
by the short package list under "Tasks" → "Localization",
</simpara>
          </listitem>
          <listitem>
            <simpara>
by the filtered flat package list of font data with regex on debtag:
"<literal>~Gmade-of::data:font</literal>",
</simpara>
          </listitem>
          <listitem>
            <simpara>
by the filtered flat package list of the BDF (bitmap) font packages with
regex on package name: "<literal>~nxfonts-</literal>", or
</simpara>
          </listitem>
          <listitem>
            <simpara>
by the filtered flat package list of the TrueType (outline) font packages
with regex on package name: "<literal>~nttf-</literal>".
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>Since <emphasis role="strong">Free</emphasis> fonts are sometimes limited,
installing or sharing some commercial TrueType fonts is an option for a
Debian users.  In order to make this process easy for the user, some
convenience packages have been created:</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
              <literal>ttf-mathematica4.1</literal>
            </simpara>
          </listitem>
          <listitem>
            <simpara><literal>ttf-mscorefonts-installer</literal> You'll have a really good
selection of TrueType fonts at the expense of contaminating your <emphasis
role="strong">Free</emphasis> system with non-Free fonts.
</simpara>
          </listitem>
        </itemizedlist>
      </section>
      <section id="_cjk_fonts">
        <title>CJK fonts</title>
        <simpara>CJK問題に関する要点を次に記します:</simpara>
        <table id="tableofkeywordsundicatefonttypes" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>Table of key words used in CJK font names to indicate font types.</title>
          <tgroup cols="4">
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="288" align="left"/>
            <thead>
              <row>
                <entry>
    font type
    </entry>
                <entry>
    Japanese font name
    </entry>
                <entry>
    Chinese font name
    </entry>
                <entry>
    Korean font name
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
    sans-serif
    </entry>
                <entry>
    gothic, ゴチック hei,
    </entry>
                <entry>
    gothic dodu
    </entry>
                <entry>
    m, gulim, gothic
    </entry>
              </row>
              <row>
                <entry>
    serif
    </entry>
                <entry>
    mincho, 明朝 so
    </entry>
                <entry>
    ng, ming ba
    </entry>
                <entry>
    tang
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>Font name such as "VL PGothic" with "P" is a proportional font which
corresponds to the fixed width "VL Gothic" font.</simpara>
        <simpara>For example, Shift_JIS code table comprises 7070 characters.  They can be
grouped into:</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
JIS X 0201 single-byte characters (191 characters),
</simpara>
          </listitem>
          <listitem>
            <simpara>
JIS X 0208 double-byte characters (6879 characters).  Double-byte characters
occupy double width on console terminals which uses CJK fixed width fonts.
In order to cope with such situation, <ulink
url="&hanzibitmapfonthbffile;">Hanzi Bitmap Font (HBF) File</ulink> with
file extension "<literal>.hbf</literal>" may be deployed for fonts
containing single-byte and double-byte characters.
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>In order to save space for <ulink url="&truetype;">TrueType</ulink> font
files, <ulink url="&truetype;">TrueType</ulink> font collection file with
file extension "<literal>.ttc</literal>" may be used.</simpara>
        <simpara>I order to cover complicated code space of characters, CID keyed Type 1
<ulink url="&postscript;">PostScript</ulink> font is used with CMap files
starting themselves with "<literal>%!PS-Adobe-3.0 Resource-CMap</literal>".
This is rarely used for normal X display but used for PDF rendering
etc. (see <xref linkend="_x_utility_applications"/>).</simpara>
        <tip>
          <simpara>The multiple <ulink url="&glyphs;">glyphs</ulink> are expected for some
<ulink url="&unicode;">Unicode</ulink> code points due to <ulink
url="&hanunification;">Han unification</ulink>.  One of the most annoying
ones are "U+3001 IDEOGRAPHIC COMMA" and "U+3002 IDEOGRAPHIC FULL STOP" whose
character positions differ among CJK countries.  Configuring priority of
Japanese centric fonts over Chinese ones using
"<literal>~/.fonts.conf</literal>" should give peace of minds to Japanese.</simpara>
        </tip>
      </section>
    </section>
    <section id="_x_applications">
      <title>X applications</title>
      <section id="_x_office_applications">
        <title>X office applications</title>
        <simpara>Here is a list of basic office applications (OO is OpenOffice.org):</simpara>
        <table id="listofbasicxofficeapplications" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of basic X office applications</title>
          <tgroup cols="5">
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="216" align="left"/>
            <thead>
              <row>
                <entry>
    パッケージ
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    パッケージサイズ
    </entry>
                <entry>
    説明
    </entry>
                <entry>
    タイプ
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/openoffice.org-writer">
<literal>openoffice.org-writer</literal> </ulink></entry>
                <entry><ulink
url="http://bugs.debian.org/openoffice.org-writer">&pop-openofficeorgwriter;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/o/openoffice.org-writer.html">&size-openofficeorgwriter;</ulink></entry>
                <entry>
    word processor
    </entry>
                <entry>
    OO
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/openoffice.org-calc">
<literal>openoffice.org-calc</literal> </ulink></entry>
                <entry><ulink
url="http://bugs.debian.org/openoffice.org-calc">&pop-openofficeorgcalc;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/o/openoffice.org-calc.html">&size-openofficeorgcalc;</ulink></entry>
                <entry>
    spreadsheet
    </entry>
                <entry>
    OO
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/openoffice.org-impress">
<literal>openoffice.org-impress</literal> </ulink></entry>
                <entry><ulink
url="http://bugs.debian.org/openoffice.org-impress">&pop-openofficeorgimpress;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/o/openoffice.org-impress.html">&size-openofficeorgimpress;</ulink></entry>
                <entry>
    プレゼンテーション
    </entry>
                <entry>
    OO
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/openoffice.org-base">
<literal>openoffice.org-base</literal> </ulink></entry>
                <entry><ulink
url="http://bugs.debian.org/openoffice.org-base">&pop-openofficeorgbase;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/o/openoffice.org-base.html">&size-openofficeorgbase;</ulink></entry>
                <entry>
    データベース管理
    </entry>
                <entry>
    OO
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/openoffice.org-draw">
<literal>openoffice.org-draw</literal> </ulink></entry>
                <entry><ulink
url="http://bugs.debian.org/openoffice.org-draw">&pop-openofficeorgdraw;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/o/openoffice.org-draw.html">&size-openofficeorgdraw;</ulink></entry>
                <entry>
    vector graphics editor (draw)
    </entry>
                <entry>
    OO
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/openoffice.org-math">
<literal>openoffice.org-math</literal> </ulink></entry>
                <entry><ulink
url="http://bugs.debian.org/openoffice.org-math">&pop-openofficeorgmath;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/o/openoffice.org-math.html">&size-openofficeorgmath;</ulink></entry>
                <entry>
    mathematical equation/formula editor
    </entry>
                <entry>
    OO
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/abiword">
<literal>abiword</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/abiword">&pop-abiword;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/a/abiword.html">&size-abiword;</ulink></entry>
                <entry>
    word processor
    </entry>
                <entry>
    GNOME
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/gnumeric">
<literal>gnumeric</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/gnumeric">&pop-gnumeric;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/g/gnumeric.html">&size-gnumeric;</ulink></entry>
                <entry>
    spreadsheet
    </entry>
                <entry>
    GNOME
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/gimp"> <literal>gimp</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/gimp">&pop-gimp;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/g/gimp.html">&size-gimp;</ulink></entry>
                <entry>
    bitmap graphics editor (paint)
    </entry>
                <entry>
    GTK
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/inkscape">
<literal>inkscape</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/inkscape">&pop-inkscape;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/i/inkscape.html">&size-inkscape;</ulink></entry>
                <entry>
    vector graphics editor (draw)
    </entry>
                <entry>
    GNOME
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/dia-gnome">
<literal>dia-gnome</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/dia-gnome">&pop-diagnome;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/d/dia-gnome.html">&size-diagnome;</ulink></entry>
                <entry>
    flowchart and diagram editor
    </entry>
                <entry>
    GNOME
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/mergeant">
<literal>mergeant</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/mergeant">&pop-mergeant;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/m/mergeant.html">&size-mergeant;</ulink></entry>
                <entry>
    データベース管理
    </entry>
                <entry>
    GNOME
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/planner">
<literal>planner</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/planner">&pop-planner;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/p/planner.html">&size-planner;</ulink></entry>
                <entry>
    プロジェクト管理
    </entry>
                <entry>
    GNOME
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/kword"> <literal>kword</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/kword">&pop-kword;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/k/kword.html">&size-kword;</ulink></entry>
                <entry>
    word processor
    </entry>
                <entry>
    KDE
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/kspread">
<literal>kspread</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/kspread">&pop-kspread;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/k/kspread.html">&size-kspread;</ulink></entry>
                <entry>
    spreadsheet
    </entry>
                <entry>
    KDE
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/kpresenter">
<literal>kpresenter</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/kpresenter">&pop-kpresenter;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/k/kpresenter.html">&size-kpresenter;</ulink></entry>
                <entry>
    プレゼンテーション
    </entry>
                <entry>
    KDE
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/kexi"> <literal>kexi</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/kexi">&pop-kexi;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/k/kexi.html">&size-kexi;</ulink></entry>
                <entry>
    データベース管理
    </entry>
                <entry>
    KDE
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/kivio"> <literal>kivio</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/kivio">&pop-kivio;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/k/kivio.html">&size-kivio;</ulink></entry>
                <entry>
    flowchart and diagram editor
    </entry>
                <entry>
    KDE
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/karbon">
<literal>karbon</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/karbon">&pop-karbon;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/k/karbon.html">&size-karbon;</ulink></entry>
                <entry>
    vector graphics editor (draw)
    </entry>
                <entry>
    KDE
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/krita"> <literal>krita</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/krita">&pop-krita;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/k/krita.html">&size-krita;</ulink></entry>
                <entry>
    bitmap graphics editor (paint)
    </entry>
                <entry>
    KDE
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/kplato">
<literal>kplato</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/kplato">&pop-kplato;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/k/kplato.html">&size-kplato;</ulink></entry>
                <entry>
    プロジェクト管理
    </entry>
                <entry>
    KDE
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/kchart">
<literal>kchart</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/kchart">&pop-kchart;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/k/kchart.html">&size-kchart;</ulink></entry>
                <entry>
    graph and chart drawing program
    </entry>
                <entry>
    KDE
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/kformula">
<literal>kformula</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/kformula">&pop-kformula;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/k/kformula.html">&size-kformula;</ulink></entry>
                <entry>
    mathematical equation/formula editor
    </entry>
                <entry>
    KDE
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/kugar"> <literal>kugar</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/kugar">&pop-kugar;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/k/kugar.html">&size-kugar;</ulink></entry>
                <entry>
    business quality report generator
    </entry>
                <entry>
    KDE
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </section>
      <section id="_x_utility_applications">
        <title>X utility applications</title>
        <simpara>Here is a list of basic utility applications which caught my eyes:</simpara>
        <table id="listofbasicxutilityapplications" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of basic X utility applications</title>
          <tgroup cols="5">
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="216" align="left"/>
            <thead>
              <row>
                <entry>
    パッケージ
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    パッケージサイズ
    </entry>
                <entry>
    説明
    </entry>
                <entry>
    タイプ
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/evince">
<literal>evince</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/evince">&pop-evince;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/e/evince.html">&size-evince;</ulink></entry>
                <entry>
    document(pdf) viewer
    </entry>
                <entry>
    GNOME
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/kpdf"> <literal>kpdf</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/kpdf">&pop-kpdf;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/k/kpdf.html">&size-kpdf;</ulink></entry>
                <entry>
    document(pdf) viewer
    </entry>
                <entry>
    KDE3
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/okular">
<literal>okular</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/okular">&pop-okular;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/o/okular.html">&size-okular;</ulink></entry>
                <entry>
    document(pdf) viewer
    </entry>
                <entry>
    KDE4
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/evolution">
<literal>evolution</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/evolution">&pop-evolution;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/e/evolution.html">&size-evolution;</ulink></entry>
                <entry>
    Personal information Management (groupware and email)
    </entry>
                <entry>
    GNOME
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/kontact">
<literal>kontact</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/kontact">&pop-kontact;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/k/kontact.html">&size-kontact;</ulink></entry>
                <entry>
    Personal information Management (groupware and email)
    </entry>
                <entry>
    KDE
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/scribus">
<literal>scribus</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/scribus">&pop-scribus;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/s/scribus.html">&size-scribus;</ulink></entry>
                <entry>
    desktop page layout editor
    </entry>
                <entry>
    KDE
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/glabels">
<literal>glabels</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/glabels">&pop-glabels;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/g/glabels.html">&size-glabels;</ulink></entry>
                <entry>
    label editor
    </entry>
                <entry>
    GNOME
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/kbarcode">
<literal>kbarcode</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/kbarcode">&pop-kbarcode;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/k/kbarcode.html">&size-kbarcode;</ulink></entry>
                <entry>
    barcode and label printing application
    </entry>
                <entry>
    KDE
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/gnucash">
<literal>gnucash</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/gnucash">&pop-gnucash;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/g/gnucash.html">&size-gnucash;</ulink></entry>
                <entry>
    個人会計
    </entry>
                <entry>
    GNOME
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/homebank">
<literal>homebank</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/homebank">&pop-homebank;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/h/homebank.html">&size-homebank;</ulink></entry>
                <entry>
    個人会計
    </entry>
                <entry>
    GTK
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/kmymoney2">
<literal>kmymoney2</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/kmymoney2">&pop-kmymoneyc;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/k/kmymoney2.html">&size-kmymoneyc;</ulink></entry>
                <entry>
    個人会計
    </entry>
                <entry>
    KDE
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/xsane"> <literal>xsane</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/xsane">&pop-xsane;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/x/xsane.html">&size-xsane;</ulink></entry>
                <entry>
    scanner frontend
    </entry>
                <entry>
    GTK
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/kooka"> <literal>kooka</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/kooka">&pop-kooka;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/k/kooka.html">&size-kooka;</ulink></entry>
                <entry>
    scanner frontend
    </entry>
                <entry>
    KDE
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <caution>
          <simpara>The <literal>poppler-data</literal> package (non-free, see <xref
linkend="_ghostscript"/>) needs to be installed for
<literal>evince</literal> and <literal>okular</literal> to display CJK PDF
documents using Cmap data (<xref linkend="_cjk_fonts"/>).</simpara>
        </caution>
        <note>
          <simpara>Installing softwares such as <literal>scribus</literal> (KDE) on GNOME
desktop environment are quite acceptable since corresponding functionality
is not available under GNOME desktop environment.  But installing too many
packages with duplicated functionalities will clutter your menu.</simpara>
        </note>
      </section>
    </section>
    <section id="_the_x_trivia">
      <title>The X trivia</title>
      <section id="_keymaps_and_pointer_button_mappings_in_x">
        <title>Keymaps and pointer button mappings in X</title>
        <simpara><literal>xmodmap</literal>(1) is a utility for modifying keymaps and pointer
button mappings in the X window system.  To get the <emphasis
role="strong">keycode</emphasis>, run <literal>xev</literal>(1) in the X and
press keys.  To get the meaning of <emphasis
role="strong">keysym</emphasis>, look into the MACRO definition in
"<literal>/usr/include/X11/keysymdef.h</literal>" file.  All
"<literal>#define</literal>" statements in this file are named as
"<literal>XK_</literal>" prepended to <emphasis
role="strong">keysym</emphasis> names.</simpara>
      </section>
      <section id="_classic_x_clients">
        <title>Classic X clients</title>
        <simpara>Most traditional X client programs, such as <literal>xterm</literal>(1), can
be started with a set of standard command line options to specify geometry,
font, and display.</simpara>
        <simpara>They also use the X resource database to configure their appearance.  The
system-wide defaults of X resources are stored in
"<literal>/etc/X11/Xresources/*</literal>" and application defaults of them
are stored in "<literal>/etc/X11/app-defaults/*</literal>".  Use these
settings as the starting points.</simpara>
        <simpara>The file "<literal>~/.Xresources</literal>" is used to store user resource
specifications.  This file is automatically merged into the default X
resources upon login.  To make changes to these settings and make them
effective immediately, merge them into the database using the command:</simpara>
        <screen>$ xrdb -merge ~/.Xresources</screen>
        <simpara>See <literal>x</literal>(7) and <literal>xrdb</literal>(1).</simpara>
      </section>
      <section id="_the_x_terminal_emulator_8212_xterm">
        <title>The X terminal emulator — xterm</title>
        <simpara>Learn everything about <literal>xterm</literal>(1) at <ulink
url="&httpdickeyhiscomtermxtermfaqhtml;">http://dickey.his.com/xterm/xterm.faq.html</ulink>.</simpara>
      </section>
      <section id="_running_x_clients_as_root">
        <title>Running X clients as root</title>
        <warning>
          <simpara>Never start the X display/session manager under the root account by typing
in <literal>root</literal> to the prompt of the display manager such as
<literal>gdm</literal> because it is considered unsafe (insecure), even when
you plan to perform administrative activities.  The entire X architecture is
considered insecure if run as root.  You must always use the lowest
privilege level possible, like a regular user account.</simpara>
        </warning>
        <simpara>The easiest way to run a particular X client, e.g. "<literal>foo</literal>"
as root is to use <literal>sudo</literal>(8):</simpara>
        <screen>$ sudo foo &amp;</screen>
        <simpara>or</simpara>
        <screen>$ sudo -s
# foo &amp;</screen>
        <simpara>or</simpara>
        <screen>$ gksu foo &amp;</screen>
        <simpara>or</simpara>
        <screen>$ ssh -X root@localhost
# foo &amp;</screen>
        <caution>
          <simpara>Use of <literal>ssh</literal>(1) just for this purpose as above is waste of
resource.</simpara>
        </caution>
        <simpara>Please note, in order for the X client to connect to the X server,</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
values of the old user's "<literal>$XAUTHORITY</literal>" and
"<literal>$DISPLAY</literal>" environment variables must be copied to the
new user's ones, and
</simpara>
          </listitem>
          <listitem>
            <simpara>
the file pointed by value of the "<literal>$XAUTHORITY</literal>"
environment variable must be readable by the new user.
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>The <literal>gksu</literal> package (popcon: &pop-gksu;) is a specialized
GTK+ GUI package for gaining the root privileges.  It can be configured to
use <literal>su</literal>(1) or <literal>sudo</literal>(8) as its backend
depending on the "<literal>/apps/gksu/sudo-mode</literal>" gconf key.  You
can edit gconf key using <literal>gconf-editor</literal>(1) (menu:
"Applications" → "System Tools" → "Configuration Editor").</simpara>
      </section>
    </section>
  </chapter>
  <chapter id="_i18n_and_l10n">
    <title>I18N and L10N</title>
    <simpara>Multilingualization (M17N) for an application software is done in 2 steps:</simpara>
    <itemizedlist>
      <listitem>
        <simpara>
Internationalization (I18N): To make a software potentially handle multiple
locales.
</simpara>
      </listitem>
      <listitem>
        <simpara>
Localization (L10N): To make a software handle an specific locale.
</simpara>
      </listitem>
    </itemizedlist>
    <tip>
      <simpara>There are 17, 18, or 10 letters between "m" and "n", "i" and "n", or "l" and
"n".</simpara>
    </tip>
    <simpara>The modern software such as GNOME and KDE are multilingualized.  They are
internationalized by making them handle <ulink url="&utfi;">UTF-8</ulink>
data and localized by providing their translated messages through the
<literal>gettext</literal>(1) infrastructure.  Translated messages may be
provided as separate localization packages.  They can be selected simply by
setting pertinent environment variables to the appropriate locale.</simpara>
    <simpara>The simplest representation of the text data is <emphasis
role="strong">ASCII</emphasis> which is sufficient for English and uses less
than 127 characters (representable with 7 bits).  In order to support much
more characters for the international support, many character encoding
systems have been invented.  The modern and sensible encoding system is
<emphasis role="strong">UTF-8</emphasis> which can handle practically all
the characters known to the human (see <xref
linkend="_basics_of_encoding"/>).</simpara>
    <simpara>See <ulink url="&introductiontoibin;">Introduction to i18n</ulink> for
details.</simpara>
    <simpara>The international hardware support is enabled with localized hardware
configuration data.</simpara>
    <section id="_the_keyboard_input">
      <title>The keyboard input</title>
      <simpara>The Debian system can be configured to work with many international keyboard
arrangements:</simpara>
      <table id="listofkeyboardreigurationmethods" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>List of keyboard reconfiguration methods.</title>
        <tgroup cols="2">
          <colspec colwidth="144" align="left"/>
          <colspec colwidth="360" align="left"/>
          <thead>
            <row>
              <entry>
    environment
    </entry>
              <entry>
    コマンド
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry>
    Linux console
    </entry>
              <entry>
                <literal>dpkg-reconfigure --priority=low console-data</literal>
              </entry>
            </row>
            <row>
              <entry>
    X Window
    </entry>
              <entry>
                <literal>dpkg-reconfigure --priority=low xserver-xorg</literal>
              </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <simpara>This will support keyboard input for accented characters of many European
languages with its dead-key function. For Asian languages, you need more
complicated input method support such as SCIM discussed next.</simpara>
      <section id="_the_input_method_support_with_scim">
        <title>The input method support with SCIM</title>
        <simpara>Setup of multilingual input for the Debian system is simplified by using the
SCIM family of packages with the <literal>im-switch</literal> package. The
list of SCIM packages are:</simpara>
        <table id="listofinputmethosupportswithscim" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of input method supports with scim.</title>
          <tgroup cols="4">
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="288" align="left"/>
            <thead>
              <row>
                <entry>
    パッケージ
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    サイズ
    </entry>
                <entry>
    サポートされたロケール
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/scim-anthy"> scim-anthy </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/scim-anthy">&pop-scimanthy;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/s/scim-anthy.html">&size-scimanthy;</ulink></entry>
                <entry>
    Japanese
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/scim-canna"> scim-canna </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/scim-canna">&pop-scimcanna;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/s/scim-canna.html">&size-scimcanna;</ulink></entry>
                <entry>
    , ,
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/scim-skk"> scim-skk </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/scim-skk">&pop-scimskk;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/s/scim-skk.html">&size-scimskk;</ulink></entry>
                <entry>
    , ,
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/scim-prime"> scim-prime </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/scim-prime">&pop-scimprime;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/s/scim-prime.html">&size-scimprime;</ulink></entry>
                <entry>
    , ,
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/scim-tables-ja"> scim-tables-ja
</ulink></entry>
                <entry><ulink
url="http://bugs.debian.org/scim-tables-ja">&pop-scimtablesja;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/s/scim-tables-ja.html">&size-scimtablesja;</ulink></entry>
                <entry>
    , , (not very useful)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/scim-tables-zh"> scim-tables-zh
</ulink></entry>
                <entry><ulink
url="http://bugs.debian.org/scim-tables-zh">&pop-scimtableszh;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/s/scim-tables-zh.html">&size-scimtableszh;</ulink></entry>
                <entry>
    Chinese (for zh_*)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/scim-pinyin"> scim-pinyin
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/scim-pinyin">&pop-scimpinyin;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/s/scim-pinyin.html">&size-scimpinyin;</ulink></entry>
                <entry>
    , , (for zh_CN)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/scim-chewing"> scim-chewing
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/scim-chewing">&pop-scimchewing;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/s/scim-chewing.html">&size-scimchewing;</ulink></entry>
                <entry>
    , , (for zh_TW)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/scim-hangul"> scim-hangul
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/scim-hangul">&pop-scimhangul;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/s/scim-hangul.html">&size-scimhangul;</ulink></entry>
                <entry>
    Korean
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/scim-tables-ko"> scim-tables-ko
</ulink></entry>
                <entry><ulink
url="http://bugs.debian.org/scim-tables-ko">&pop-scimtablesko;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/s/scim-tables-ko.html">&size-scimtablesko;</ulink></entry>
                <entry>
    , ,
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/scim-thai"> scim-thai </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/scim-thai">&pop-scimthai;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/s/scim-thai.html">&size-scimthai;</ulink></entry>
                <entry>
    Thai
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/scim-m17n"> scim-m17n </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/scim-m17n">&pop-scimmbhn;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/s/scim-m17n.html">&size-scimmbhn;</ulink></entry>
                <entry>
    Multilingual: Indic, Arabic and others
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/scim-tables-additional">
scim-tables-additional </ulink></entry>
                <entry><ulink
url="http://bugs.debian.org/scim-tables-additional">&pop-scimtablesadditional;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/s/scim-tables-additional.html">&size-scimtablesadditional;</ulink></entry>
                <entry>
    , ,
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/scim-uim"> scim-uim </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/scim-uim">&pop-scimuim;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/s/scim-uim.html">&size-scimuim;</ulink></entry>
                <entry>
    , ,
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>The kinput2 method and other locale dependent Asian classic input methods
still exist but are not recommended for the modern UTF-8 X environment.  The
uim tool chain is an alternative approach for the international input method
for the modern UTF-8 X environment which is also capable for non-X
environment.</simpara>
      </section>
      <section id="_an_example_for_japanese">
        <title>An example for Japanese</title>
        <simpara>I find the Japanese input method started under English environment
("<literal>en_US.UTF-8</literal>") very useful.  Here is how I did it with
SCIM.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
Install the Japanese input tool package <literal>scim-anthy</literal> with
its recommended packages such as <literal>im-switch</literal>.
</simpara>
          </listitem>
          <listitem>
            <simpara>
Execute "<literal>im-switch -c</literal>" from user's shell and select
"scim".
</simpara>
          </listitem>
          <listitem>
            <simpara>
ユーザアカウントへの再ログイン
</simpara>
          </listitem>
          <listitem>
            <simpara>
Verify setting by "<literal>im-switch -l</literal>".
</simpara>
          </listitem>
          <listitem>
            <simpara>
Setup input method and mode by right clicking GUI toolbar. (You can reduce
menu choice of input method)
</simpara>
          </listitem>
          <listitem>
            <simpara>
Start SCIM input method by CTRL-SPACE
</simpara>
          </listitem>
        </itemizedlist>
        <note>
          <simpara>In order to start SCIM under the non-CJK and non-en_US locale, you need to
add list of those locales in UTF-8 to the
"<literal>~/.scim/global</literal>" or "<literal>/etc/scim/global</literal>"
file as:</simpara>
        </note>
        <screen>/SupportedUnicodeLocales = en_US.UTF-8,en_GB.UTF_8,fr_FR.UTF-8</screen>
        <simpara>次に注意下さい:</simpara>
        <itemizedlist>
          <listitem>
            <simpara><literal>im-switch</literal>(8) behaves differently if command is executed
from root or not.
</simpara>
          </listitem>
          <listitem>
            <simpara>
Input method started by <literal>im-switch</literal> depends on the locale.
</simpara>
          </listitem>
          <listitem>
            <simpara>
Use of new immodule mechanism (by setting
"<literal>$GTK_IM_MODULE</literal>") may cause instability during the
library transition in <literal>unstable</literal>.
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>For the detail of setup, see
"<literal>/usr/share/doc/im-switch/README.Debian.gz</literal>",
"<literal>/usr/share/doc/scim/README.Debian.gz</literal>" or
"<literal>/usr/share/doc/uim/README.Debian.gz</literal>".  Here key points
are described.</simpara>
      </section>
      <section id="_disabling_the_input_method">
        <title>Disabling the input method</title>
        <simpara>If you wish to input without going through XIM, set
"<literal>$XMODIFIERS</literal>" value to "none" while starting a
program. This may be the case if you use Japanese input infrastructure
<literal>egg</literal> on <literal>emacs</literal>(1). From shell, execute
as:</simpara>
        <screen>$ XMODIFIERS=none emacs</screen>
        <simpara>In order to adjust the command executed by the Debian menu, place customized
configuration in "<literal>/etc/menu/</literal>" following method described
in "<literal>/usr/share/doc/menu/html</literal>".</simpara>
      </section>
    </section>
    <section id="_the_display_output">
      <title>The display output</title>
      <simpara>Linux console can only display limited characters.  (You need to use special
terminal program such as <literal>jfbterm</literal>(1) to display
non-European languages on the non-X console.)</simpara>
      <simpara>X Window can display any characters in the UTF-8 as long as required font
data exists. (The encoding of the original font data is taken care by the X
Window system and transparent to the user.)</simpara>
    </section>
    <section id="_the_locale">
      <title>ロケール</title>
      <simpara>The following will focus on the locale for applications run under X Window
environment started from <literal>gdm</literal>(1).</simpara>
      <section id="_basics_of_encoding">
        <title>Basics of encoding</title>
        <simpara>The environment variable "<literal>LANG=xx_YY.ZZZZ</literal>" sets the
locale to language code "<literal>xx</literal>", country code
"<literal>yy</literal>", and encoding "<literal>ZZZZ</literal>" (see <xref
linkend="_lang_variable"/>).</simpara>
        <simpara>Current Debian system normally sets the locale as
"<literal>LANG=xx_YY.UTF-8</literal>".  This uses the <ulink
url="&utfi;">UTF-8</ulink> encoding with the <ulink
url="&unicode;">Unicode</ulink> character set. This <ulink
url="&utfi;">UTF-8</ulink> encoding system is a multibyte code system and
uses code points smartly. The <ulink url="&ascii;">ASCII</ulink> data, which
consist only with 7-bit range codes, are always valid UTF-8 data consisting
only with 1 byte per character.</simpara>
        <simpara>Previous Debian system used to set the locale as "<literal>LANG=C</literal>"
or "<literal>LANG=xx_YY</literal>" (without "<literal>.UTF-8</literal>").</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
The <ulink url="&ascii;">ASCII</ulink> character set is used for
"<literal>LANG=C</literal>" or "<literal>LANG=POSIX</literal>".
</simpara>
          </listitem>
          <listitem>
            <simpara>
The traditional encoding system in Unix is used for
"<literal>LANG=xx_YY</literal>".
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>Actual traditional encoding system used for "<literal>LANG=xx_YY</literal>"
can be identified by checking
"<literal>/usr/share/i18n/SUPPORTED</literal>".  For example,
"<literal>en_US</literal>" uses "<literal>ISO-8859-1</literal>" encoding and
"<literal>fr_FR@euro</literal>" uses "<literal>ISO-8859-15</literal>"
encoding.</simpara>
        <tip>
          <simpara>For meaning of encoding values, see <xref
linkend="list-of-encoding-values"/>.</simpara>
        </tip>
      </section>
      <section id="_rationale_for_utf_8_locale">
        <title>Rationale for UTF-8 locale</title>
        <simpara>The <ulink url="&utfi;">UTF-8</ulink> encoding is the modern and sensible
text encoding system for I18N and enables to represent <ulink
url="&unicode;">Unicode</ulink> characters, i.e., practically all characters
known to human. <emphasis role="strong">UTF</emphasis> stands for Unicode
Transformation Format (UTF) schemes.</simpara>
        <simpara>I recommend to use <ulink url="&utfi;">UTF-8</ulink> locale for your
desktop, e.g., "<literal>LANG=en_US.UTF-8</literal>".  The first part of the
locale determines messages presented by applications.  For example,
<literal>gedit</literal>(1) (text editor for the GNOME Desktop) under
"<literal>LANG=fr_FR.UTF-8</literal>" locale can display and edit Chinese
character text data while presenting menus in French, as long as required
fonts and input methods are installed.</simpara>
        <simpara>I also recommend to set the locale only using the "<literal>$LANG</literal>"
environment variable. I do not see much benefit of setting a complicated
combination of "<literal>LC_*</literal>" variables (see
<literal>locale</literal>(1)) under UTF-8 locale.</simpara>
        <simpara>Even plain English text may contain non-ASCII characters, e.g. left and
right quotation marks are not available in ASCII:</simpara>
        <screen>“double quoted text”
‘single quoted text’</screen>
        <simpara>When <ulink url="&ascii;">ASCII</ulink> plain text data is converted to
<ulink url="&utfi;">UTF-8</ulink> one, it has exactly the same content and
size as the original ASCII one.  So you loose nothing by deploying UTF-8
locale.</simpara>
        <simpara>Some programs consume more memory after supporting I18N.  This is because
they are coded to use <ulink url="&utfdcucse;">UTF-32(UCS4)</ulink>
internally to support Unicode for speed optimization and consume 4 bytes per
each ASCII character data independent of locale selected.  Again, you loose
nothing by deploying UTF-8 locale.</simpara>
        <simpara>The vendor specific old non-UTF-8 encoding systems tend to have minor but
annoying differences on some characters such as graphic ones for many
countries.  The deployment of the UTF-8 system by the modern OSs practically
solved these conflicting encoding issues.</simpara>
      </section>
      <section id="_the_reconfiguration_of_the_locale">
        <title>ロケールの再設定</title>
        <simpara>In order for the system to access a particular locale, the locale data must
be compiled from the locale database. (The Debian system does <emphasis
role="strong">not</emphasis> come with all available locales pre-compiled
unless you installed the <literal>locales-all</literal> package.) The full
list of supported locales available for compiling are listed in
"<literal>/usr/share/i18n/SUPPORTED</literal>". This lists all the proper
locale names.  The following will list all the available UTF-8 locales
already compiled to the binary form:</simpara>
        <screen>$ locale -a</screen>
        <simpara>The following command execution will reconfigure the
<literal>locale</literal> package:</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
to update the list of available locales,
</simpara>
          </listitem>
          <listitem>
            <simpara>
to compile them into the binary form, and
</simpara>
          </listitem>
          <listitem>
            <simpara>
to set the system wide default locale value in the
"<literal>/etc/defaults/locale</literal>" for use by PAM (see <xref
linkend="_pam_and_nss"/>).
</simpara>
          </listitem>
        </itemizedlist>
        <screen># dpkg-reconfigure locales</screen>
        <simpara>The list of available locale should include "<literal>en_US.UTF-8</literal>"
and all the interesting languages with "<literal>UTF-8</literal>".</simpara>
        <simpara>The recommended default locale is "<literal>en_US.UTF-8</literal>" for US
English.  For other languages, please make sure to chose locale with
"<literal>UTF-8</literal>".  Any one of these settings can handle any
international characters.</simpara>
        <note>
          <simpara>Although setting locale to "<literal>C</literal>" will use US English
message, it handles only ASCII characters.</simpara>
        </note>
      </section>
      <section id="_configuring_system_with_lang">
        <title>Configuring system with "$LANG"</title>
        <simpara>The environment variable "<literal>$LANG</literal>" is:</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
set initially by some display manager such as <literal>gdm</literal>(1) for
all X programs,
</simpara>
          </listitem>
          <listitem>
            <simpara>
changed by the X session startup code via "<literal>~/.xsessionrc</literal>"
for all X programs (<literal>lenny</literal> feature),
</simpara>
          </listitem>
          <listitem>
            <simpara>
set initially by the PAM mechanism of <literal>login</literal>(1) for the
local Linux console programs,
</simpara>
          </listitem>
          <listitem>
            <simpara>
set initially by the PAM mechanism of <literal>ssh</literal>(1) for the
remote console programs, or
</simpara>
          </listitem>
          <listitem>
            <simpara>
changed by the shell startup code, e.g. "<literal>~/.bashrc</literal>", for
all console programs.
</simpara>
          </listitem>
        </itemizedlist>
        <tip>
          <simpara>It is good idea to install system wide default locale as
"<literal>en_US.UTF-8</literal>" for maximum compatibility.</simpara>
        </tip>
      </section>
      <section id="_specific_locale_only_under_x_window">
        <title>Specific locale only under X Window</title>
        <simpara>You can chose specific locale only under X Window irrespective of your
system wide default locale.  This should provide your best desktop
experience with stability.</simpara>
        <simpara>This way, you can always access functioning character terminal with readable
messages even when X Window system is not working.  This becomes essential
for languages which use non-roman characters such as Chinese, Japanese, and
Korean.</simpara>
        <simpara>For <literal>gdm</literal>(1), you can select different locale for the X
session from its menu independent of the system default locale value in the
"<literal>/etc/defaults/locale</literal>".</simpara>
        <simpara>You can set the locale of the X session manager and the value for the
default locale permanently using PAM customization (see <xref
linkend="_pam_and_nss"/>) as follows.  (There may be another way available
as the improvement of X session manager package but please read following as
the generic and basic method of setting the locale.)</simpara>
        <simpara>First, change the following line defining language environment variable in
its PAM configuration file, such as "<literal>/etc/pam.d/gdm</literal>":</simpara>
        <screen>auth    required        pam_env.so read_env=1 envfile=/etc/default/locale</screen>
        <simpara>into</simpara>
        <screen>auth    required        pam_env.so read_env=1 envfile=/etc/default/locale-x</screen>
        <simpara>Then create a "<literal>/etc/defaults/locale-gdm</literal>" file with
"<literal>-rw-r--r-- 1 root root</literal>" permission containing, eg. for
Japanese message:</simpara>
        <screen>LANG="ja_JP.UTF-8"</screen>
        <simpara>and keep the default "<literal>/etc/defaults/locale</literal>" file for
other programs being:</simpara>
        <screen>LANG="en_US.UTF-8"</screen>
        <simpara>This is the most generic technique to customize locale.</simpara>
        <simpara>Alternatively for this case, you may simply change locale using the
"<literal>~/.xsessionrc</literal>" file.</simpara>
      </section>
      <section id="_filename_encoding">
        <title>Filename encoding</title>
        <simpara>For cross platform data exchanges (see <xref
linkend="_removable_mass_storage_device"/>), you may need to mount some file
system with particular encodings.  For example, <literal>mount</literal>(8)
for <ulink url="&vfatfilesystem;">vfat filesystem</ulink> assumes <ulink
url="&cpedh;">CP437</ulink> if used without option.  You need to provide
explicit mount option to use <ulink url="&utfi;">UTF-8</ulink> or <ulink
url="&cpjdc;">CP932</ulink> for filenames.</simpara>
        <note>
          <simpara>When auto-mounting a hot-pluggable USB memory stick under modern desktop
environment such as GNOME, you may provide such mount option by right
clicking the icon on the desktop, click "Drive" tab, click to expand
"Setting", and entering "utf8" to "Mount options:".  The next time this
memory stick is mounted, mount with UTF-8 is enabled.</simpara>
        </note>
        <note>
          <simpara>If you are upgrading system or moving disk drives from older non-UTF-8
system, file names with non-ASCII characters may be encoded in the historic
and deprecated encodings such as <ulink url="&isoiifjb;">ISO-8859-1</ulink>
or <ulink url="&eucjp;">eucJP</ulink>.  Please seek help of text conversion
tools to convert them to <ulink url="&utfi;">UTF-8</ulink>. See <xref
linkend="_text_data_conversion_tools"/>.</simpara>
        </note>
        <simpara><ulink url="&samba;">Samba</ulink> uses Unicode for newer clients (Windows
NT, 200x, XP) but uses <ulink url="&cpifa;">CP850</ulink> as default for
older clients (DOS and Windows 9x/Me clients).  This default for older
clients can be changed using "<literal>dos charset</literal>" in the
"<literal>/etc/samba/smb.conf</literal>" file, e.g., to <ulink
url="&cpjdc;">CP932</ulink> for Japanese.</simpara>
      </section>
      <section id="_localized_messages_and_translated_documentation">
        <title>Localized messages and translated documentation</title>
        <simpara>Translations exist for many of the text messages and documents that are
displayed in the Debian system, such as error messages, standard program
output, menus, and manual pages.  <ulink
url="&gnugettextbcommandtoolchain;">GNU gettext(1) command tool
chain</ulink> is used as the backend tool for most translation activities.</simpara>
        <simpara><literal>aptitude</literal>(8) lists under "Tasks" → "Localization" provide
extensive list of useful binary packages which add localized messages to
applications and provide translated documentation.</simpara>
        <simpara>For example, you can obtain the localized message for manpage by installing
the <literal>manpages-&lt;LANG&gt;</literal> package. To read the
Italian-language manpage for &lt;programname&gt;, execute</simpara>
        <screen>LANG=it_IT.UTF-8 man &lt;programname&gt;</screen>
        <simpara>to read it from "<literal>/usr/share/man/it/</literal>".</simpara>
      </section>
      <section id="_effects_of_the_locale">
        <title>Effects of the locale</title>
        <simpara>The sort order of characters with <literal>sort</literal>(1) is affected by
the language choice of the locale. Spanish and English locale sort
differently.</simpara>
        <simpara>The date format of <literal>ls</literal>(1) is affected by the locale.  The
date format of "<literal>LANG=C ls -l</literal>" and
"<literal>LANG=en_US.UTF-8</literal>" are different (see <xref
linkend="_customized_display_of_time_and_date"/>).</simpara>
        <simpara>Number punctuation are different for locales.  For example, in English
locale, one thousand one point one is displayed as
"<literal>1,000.1</literal>" while in German locale, it is displayed as
"<literal>1.000,1</literal>".  You see this difference in spreadsheet
program.</simpara>
      </section>
    </section>
  </chapter>
  <chapter id="_system_tips">
    <title>System tips</title>
    <simpara>Here, I will describe basic tips to configure and manage systems, mostly
from the console.</simpara>
    <section id="_the_screen_program">
      <title>screenプログラム</title>
      <simpara><literal>screen</literal>(1) is a very useful tool for people to access
remote sites via unreliable or intermittent connections since it support
interrupted network connections.</simpara>
      <table id="listofprogramstotworkconnections" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>List of programs to support interrupted network connections.</title>
        <tgroup cols="4">
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="288" align="left"/>
          <thead>
            <row>
              <entry>
    パッケージ
    </entry>
              <entry>
    popcon
    </entry>
              <entry>
    サイズ
    </entry>
              <entry>
    説明
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/screen">
<literal>screen</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/screen">&pop-screen;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/s/screen.html">&size-screen;</ulink></entry>
              <entry>
    terminal multiplexer with VT100/ANSI terminal emulation
    </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <section id="_the_use_scenario_for_screen_1">
        <title>The use scenario for screen(1)</title>
        <simpara><literal>screen</literal>(1) not only allows one terminal window to work
with multiple processes, but also allows <emphasis role="strong">remote
shell process to survive interrupted connections</emphasis>.  Here is a
typical use scenario of <literal>screen</literal>(1).</simpara>
        <orderedlist>
          <listitem>
            <simpara>
You login to a remote machine.
</simpara>
          </listitem>
          <listitem>
            <simpara>
You start <literal>screen</literal> on a single console.
</simpara>
          </listitem>
          <listitem>
            <simpara>
You execute multiple programs in <literal>screen</literal> windows created
with <literal>^A c</literal> ("Control-A" followed by "c").
</simpara>
          </listitem>
          <listitem>
            <simpara>
You switch among the multiple <literal>screen</literal> windows by
<literal>^A n</literal> ("Control-A" followed by "n").
</simpara>
          </listitem>
          <listitem>
            <simpara>
Suddenly you need to leave your terminal, but you don't want to lose your
active work by keeping the connection.
</simpara>
          </listitem>
          <listitem>
            <simpara>
You <emphasis role="strong">detach</emphasis> the <literal>screen</literal>
session by any methods such as:
</simpara>
            <itemizedlist>
              <listitem>
                <simpara>
brutally unplugging your network connection,
</simpara>
              </listitem>
              <listitem>
                <simpara>
typing <literal>^A d</literal> ("Control-A" followed by "d") and manually
logging out from the remote connection, or
</simpara>
              </listitem>
              <listitem>
                <simpara>
typing <literal>^A DD</literal> ("Control-A" followed by "DD") to have
<literal>screen</literal> detach and log you out.
</simpara>
              </listitem>
            </itemizedlist>
          </listitem>
          <listitem>
            <simpara>
You log in again to the same remote machine (even from a different
terminal).
</simpara>
          </listitem>
          <listitem>
            <simpara>
You start <literal>screen</literal> as "<literal>screen -r</literal>".
</simpara>
          </listitem>
          <listitem>
            <simpara><literal>screen</literal> will magically <emphasis
role="strong">reattach</emphasis> all previous <literal>screen</literal>
windows with all actively running programs.
</simpara>
          </listitem>
        </orderedlist>
        <tip>
          <simpara>You can save connection fees for metered network connections such as dial-up
and packet ones, because you can leave a process active while disconnected,
and then re-attach it later when you connect again.</simpara>
        </tip>
      </section>
      <section id="_key_bindings_for_the_screen_command">
        <title>Key bindings for the screen command</title>
        <simpara>In a <literal>screen</literal> session, all keyboard inputs are sent to your
current window except for the command keystroke, by default
<literal>^A</literal> ("Control-A").  All <literal>screen</literal> commands
are entered by typing <literal>^A</literal> plus a single key [plus any
parameters].  Here are important ones to remember:</simpara>
        <table id="listofkeybindingsforscreen" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>screenキーバインディングのリスト。</title>
          <tgroup cols="2">
            <colspec colwidth="144" align="left"/>
            <colspec colwidth="360" align="left"/>
            <thead>
              <row>
                <entry>
    キーバインディング
    </entry>
                <entry>
    意味
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>^A ?</literal>
                </entry>
                <entry>
    show a help screen (display key bindings)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>^A c</literal>
                </entry>
                <entry>
    create a new window and switch to it
    </entry>
              </row>
              <row>
                <entry>
                  <literal>^A n</literal>
                </entry>
                <entry>
    go to next window
    </entry>
              </row>
              <row>
                <entry>
                  <literal>^A p</literal>
                </entry>
                <entry>
    go to previous window
    </entry>
              </row>
              <row>
                <entry>
                  <literal>^A 0</literal>
                </entry>
                <entry>
    go to window number 0
    </entry>
              </row>
              <row>
                <entry>
                  <literal>^A 1</literal>
                </entry>
                <entry>
    go to window number 1
    </entry>
              </row>
              <row>
                <entry>
                  <literal>^A w</literal>
                </entry>
                <entry>
    show a list of windows
    </entry>
              </row>
              <row>
                <entry>
                  <literal>^A a</literal>
                </entry>
                <entry>
    send a Ctrl-A to current window as keyboard input
    </entry>
              </row>
              <row>
                <entry>
                  <literal>^A h</literal>
                </entry>
                <entry>
    write a hardcopy of current window to file
    </entry>
              </row>
              <row>
                <entry>
                  <literal>^A H</literal>
                </entry>
                <entry>
    begin/end logging current window to file
    </entry>
              </row>
              <row>
                <entry>
                  <literal>^A ^X</literal>
                </entry>
                <entry>
    lock the terminal (password protected)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>^A d</literal>
                </entry>
                <entry>
    detach screen session from the terminal
    </entry>
              </row>
              <row>
                <entry>
                  <literal>^A DD</literal>
                </entry>
                <entry>
    detach screen session and log out
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>See <literal>screen</literal>(1) for details.</simpara>
      </section>
    </section>
    <section id="_data_recording_and_presentation">
      <title>Data recording and presentation</title>
      <section id="_the_log_daemon">
        <title>ログデーモン</title>
        <simpara>Many programs record their activities under the
"<literal>/var/log/</literal>" directory.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
The kernel log daemon: <literal>klogd</literal>(8)
</simpara>
          </listitem>
          <listitem>
            <simpara>
The system log daemon: <literal>syslogd</literal>(8)
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>See <xref linkend="_the_system_message"/> and <xref
linkend="_the_kernel_message"/>.</simpara>
      </section>
      <section id="_log_analyzer">
        <title>Log analyzer</title>
        <simpara>Here are notable log analyzers
("<literal>~Gsecurity::log-analyzer</literal>" in
<literal>aptitude</literal>(8)).</simpara>
        <table id="listofsystemloganalyzers" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of system log analyzers.</title>
          <tgroup cols="4">
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="288" align="left"/>
            <thead>
              <row>
                <entry>
    パッケージ
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    サイズ
    </entry>
                <entry>
    説明
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/logwatch">
<literal>logwatch</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/logwatch">&pop-logwatch;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/l/logwatch.html">&size-logwatch;</ulink></entry>
                <entry>
    log analyser with nice output written in Perl
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/fail2ban">
<literal>fail2ban</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/fail2ban">&pop-failcban;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/f/fail2ban.html">&size-failcban;</ulink></entry>
                <entry>
    複数回の認証エラーを発生させるIPを使用禁止とする
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/analog">
<literal>analog</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/analog">&pop-analog;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/a/analog.html">&size-analog;</ulink></entry>
                <entry>
    web server log analyzer
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/awstats">
<literal>awstats</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/awstats">&pop-awstats;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/a/awstats.html">&size-awstats;</ulink></entry>
                <entry>
    powerful and featureful web server log analyzer
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/sarg"> <literal>sarg</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/sarg">&pop-sarg;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/s/sarg.html">&size-sarg;</ulink></entry>
                <entry>
    squid analysis report generator
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/pflogsumm">
<literal>pflogsumm</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/pflogsumm">&pop-pflogsumm;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/p/pflogsumm.html">&size-pflogsumm;</ulink></entry>
                <entry>
    Postfix log entry summarizer
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/syslog-summary">
<literal>syslog-summary</literal> </ulink></entry>
                <entry><ulink
url="http://bugs.debian.org/syslog-summary">&pop-syslogsummary;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/s/syslog-summary.html">&size-syslogsummary;</ulink></entry>
                <entry>
    summarize the contents of a syslog log file
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/lire"> <literal>lire</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/lire">&pop-lire;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/l/lire.html">&size-lire;</ulink></entry>
                <entry>
    full-featured log analyzer and report generator
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/fwlogwatch">
<literal>fwlogwatch</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/fwlogwatch">&pop-fwlogwatch;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/f/fwlogwatch.html">&size-fwlogwatch;</ulink></entry>
                <entry>
    Firewall log analyzer
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/squidview">
<literal>squidview</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/squidview">&pop-squidview;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/s/squidview.html">&size-squidview;</ulink></entry>
                <entry>
    monitors and analyses squid access.log files
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/visitors">
<literal>visitors</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/visitors">&pop-visitors;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/v/visitors.html">&size-visitors;</ulink></entry>
                <entry>
    fast web server log analyzer
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/swatch">
<literal>swatch</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/swatch">&pop-swatch;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/s/swatch.html">&size-swatch;</ulink></entry>
                <entry>
    Log file viewer with regexp matching, highlighting, &amp; hooks
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/crm114">
<literal>crm114</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/crm114">&pop-crmbbe;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/c/crm114.html">&size-crmbbe;</ulink></entry>
                <entry>
    The Controllable Regex Mutilator and Spam Filter (CRM114)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/icmpinfo">
<literal>icmpinfo</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/icmpinfo">&pop-icmpinfo;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/i/icmpinfo.html">&size-icmpinfo;</ulink></entry>
                <entry>
    Interpret ICMP messages
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <note>
          <simpara><ulink url="&crmbbe;">CRM114</ulink> provides language infrastructure to
write <emphasis role="strong">fuzzy</emphasis> filters with the <ulink
url="&treregexlibrary;">TRE regex library</ulink>.  Its popular use is spam
mail filter but it can be used as log analyzer.</simpara>
        </note>
      </section>
      <section id="_recording_the_shell_activities_cleanly">
        <title>Recording the shell activities cleanly</title>
        <simpara>The simple use of <literal>script</literal>(1) (see <xref
linkend="_recording_the_shell_activities"/>) to record shell activity
produces a file with control characters.  This can be avoided by using
<literal>col</literal>(1):</simpara>
        <screen>$ script
Script started, file is typescript</screen>
        <itemizedlist>
          <listitem>
            <simpara>
do whatever …
</simpara>
          </listitem>
          <listitem>
            <simpara>
Press <literal>Ctrl-D</literal> to exit <literal>script</literal>
</simpara>
          </listitem>
        </itemizedlist>
        <screen>$ col -bx &lt;typescript &gt;cleanedfile
$ vim cleanedfile</screen>
        <simpara>If you don't have <literal>script</literal> (for example, during the boot
process in the initramfs), you can use following instead:</simpara>
        <screen>$ sh -i 2&gt;&amp;1 | tee typescript</screen>
        <tip>
          <simpara>Some <literal>x-terminal-emulator</literal> such as
<literal>gnome-terminal</literal> can record.  You may wish to extend line
buffer for scrollback.</simpara>
        </tip>
        <tip>
          <simpara>You may use <literal>screen</literal>(1) with "<literal>^A H</literal>" (see
<xref linkend="_key_bindings_for_the_screen_command"/>) to perform recording
of console.</simpara>
        </tip>
        <tip>
          <simpara>You may use <literal>emacs</literal>(1) with "<literal>M-x shell</literal>",
"<literal>M-x eshell</literal>", or "<literal>M-x term</literal>" to perform
recording of console.  You may later use "<literal>C-x C-w</literal>" to
write the buffer to a file.</simpara>
        </tip>
      </section>
      <section id="_customized_display_of_text_data">
        <title>Customized display of text data</title>
        <simpara>Although pager tools such as <literal>more</literal>(1) and
<literal>less</literal>(1) (see <xref linkend="_the_pager"/>) and custom
tools for highlighting and formatting <xref
linkend="_highlighting_and_formatting_plain_text_data"/> can display text
data nicely, general purpose editors (see <xref
linkend="_the_text_editor"/>) are most versatile and customizable.</simpara>
        <tip>
          <simpara>For <literal>vim</literal>(1) and its pager mode alias
<literal>view</literal>(1), "<literal>:set hls</literal>" will enable
highlighted search.</simpara>
        </tip>
      </section>
      <section id="_customized_display_of_time_and_date">
        <title>Customized display of time and date</title>
        <simpara>The default display format of time and date by the "<literal>ls
-l</literal>" command depends on the <emphasis
role="strong">locale</emphasis> (see value <xref linkend="_timestamps"/>).
The "<literal>$LANG</literal>" variable is referred first and it can be
overridden by the "<literal>$LC_TIME</literal>" variable.</simpara>
        <simpara>The actual default display format for each locale depends on the version of
the standard C library (the <literal>libc6</literal> package) used.  I.e.,
different releases of Debian had different defaults.</simpara>
        <simpara>If you really wish to customize this display format of time and date beyond
the <emphasis role="strong">locale</emphasis>, you should set the <emphasis
role="strong">time style value</emphasis> by the
"<literal>--time-style</literal>" argument or by the
"<literal>$TIME_STYLE</literal>" value (see <literal>ls</literal>(1),
<literal>date</literal>(1), "<literal>info coreutils 'ls
invocation'</literal>").</simpara>
        <table id="displayexamplesolcommandforlenny" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>Display examples of time and date for the "<literal>ls -l</literal>" command
for <literal>lenny</literal>.</title>
          <tgroup cols="3">
            <colspec colwidth="108" align="left"/>
            <colspec colwidth="108" align="left"/>
            <colspec colwidth="288" align="left"/>
            <thead>
              <row>
                <entry>
    time style value
    </entry>
                <entry>
    locale
    </entry>
                <entry>
    display of time and date
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>iso</literal>
                </entry>
                <entry>
                  <emphasis>any</emphasis>
                </entry>
                <entry>
                  <literal>01-19 00:15</literal>
                </entry>
              </row>
              <row>
                <entry>
                  <literal>long-iso</literal>
                </entry>
                <entry>
                  <emphasis>any</emphasis>
                </entry>
                <entry>
                  <literal>2009-01-19 00:15</literal>
                </entry>
              </row>
              <row>
                <entry>
                  <literal>full-iso</literal>
                </entry>
                <entry>
                  <emphasis>any</emphasis>
                </entry>
                <entry>
                  <literal>2009-01-19 00:15:16.000000000 +0900</literal>
                </entry>
              </row>
              <row>
                <entry>
                  <literal>locale</literal>
                </entry>
                <entry>
                  <literal>C</literal>
                </entry>
                <entry>
                  <literal>Jan 19 00:15</literal>
                </entry>
              </row>
              <row>
                <entry>
                  <literal>locale</literal>
                </entry>
                <entry>
                  <literal>en_US.UTF-8</literal>
                </entry>
                <entry>
                  <literal>2009-01-19 00:15</literal>
                </entry>
              </row>
              <row>
                <entry>
                  <literal>locale</literal>
                </entry>
                <entry>
                  <literal>es_ES.UTF-8</literal>
                </entry>
                <entry>
                  <literal>ene 19 00:15</literal>
                </entry>
              </row>
              <row>
                <entry>
                  <literal>+%d.%m.%y %H:%M</literal>
                </entry>
                <entry>
                  <emphasis>any</emphasis>
                </entry>
                <entry>
                  <literal>19.01.09 00:15</literal>
                </entry>
              </row>
              <row>
                <entry>
                  <literal>+%d.%b.%y %H:%M</literal>
                </entry>
                <entry><literal>C</literal> or <literal>en_US.UTF-8</literal>
    </entry>
                <entry>
                  <literal>19.Jan.09 00:15</literal>
                </entry>
              </row>
              <row>
                <entry>
                  <literal>+%d.%b.%y %H:%M</literal>
                </entry>
                <entry>
                  <literal>es_ES.UTF-8</literal>
                </entry>
                <entry>
                  <literal>19.ene.09 00:15</literal>
                </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <tip>
          <simpara>You can eliminate typing long option on commandline using command alias,
e.g. "<literal>alias ls='ls --time-style=+%d.%m.%y\ %H:%M'</literal>" (see
<xref linkend="_command_alias"/>).</simpara>
        </tip>
        <tip>
          <simpara><ulink url="&isoigab;">ISO 8601</ulink> is followed for these iso-formats.</simpara>
        </tip>
      </section>
      <section id="_colorized_shell_echo">
        <title>Colorized shell echo</title>
        <simpara>Shell echo to most modern terminals can be colorized using <ulink
url="&ansiescapecode;">ANSI escape code</ulink> (see
"<literal>/usr/share/doc/xterm/ctlseqs.txt.gz</literal>").  E.g.:</simpara>
        <screen>$ RED=$(printf "\x1b[31m")
$ NORMAL=$(printf "\x1b[0m")
$ REVERSE=$(printf "\x1b[7m")
$ echo "${RED}RED-TEXT${NORMAL} ${REVERSE}REVERSE-TEXT${NORMAL}"</screen>
      </section>
      <section id="_colorized_commands">
        <title>Colorized commands</title>
        <simpara>Colorized commands are handy for inspecting their output in the interactive
environment.  I include following in my "<literal>~/.bashrc</literal>".</simpara>
        <screen>if [ "$TERM" != "dumb" ]; then
    eval "`dircolors -b`"
    alias ls='ls --color=always'
    alias ll='ls --color=always -l'
    alias la='ls --color=always -A'
    alias less='less -R'
    alias ls='ls --color=always'
    alias grep='grep --color=always'
    alias egrep='egrep --color=always'
    alias fgrep='fgrep --color=always'
    alias zgrep='zgrep --color=always'
else
    alias ll='ls -l'
    alias la='ls -A'
fi</screen>
        <simpara>The use of alias limits color effects to the interactive command usage.  It
has advantage over exporting environment variable "<literal>export
GREP_OPTIONS='--color=auto'</literal>" since color can be seen under pager
programs such as <literal>less</literal>(1).  If you wish to surpress color
when piping to other programs, use "<literal>--color=auto</literal>" instead
in the above example for "<literal>~/.bashrc</literal>".</simpara>
        <tip>
          <simpara>You can turn off these colorizing aliases in the interactive environment by
invoking shell with "<literal>TERM=dumb bash</literal>".</simpara>
        </tip>
      </section>
      <section id="_recording_the_graphic_image_of_an_x_application">
        <title>Recording the graphic image of an X application</title>
        <simpara>There are few ways to record the graphic image of an X application,
including an <literal>xterm</literal> display.</simpara>
        <table id="listofgraphicimaanipulationtools" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>グラフィックイメージの操作ツールのリスト。</title>
          <tgroup cols="4">
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="288" align="left"/>
            <thead>
              <row>
                <entry>
    パッケージ
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    サイズ
    </entry>
                <entry>
    コマンド
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/xbase-clients">
<literal>xbase-clients</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/xbase-clients">&pop-xbaseclients;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/x/xbase-clients.html">&size-xbaseclients;</ulink></entry>
                <entry><literal>xwd</literal>(1)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/gimp"> <literal>gimp</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/gimp">&pop-gimp;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/g/gimp.html">&size-gimp;</ulink></entry>
                <entry>
    GUI menu
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/imagemagick">
<literal>imagemagick</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/imagemagick">&pop-imagemagick;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/i/imagemagick.html">&size-imagemagick;</ulink></entry>
                <entry><literal>import</literal>(1)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/scrot"> <literal>scrot</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/scrot">&pop-scrot;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/s/scrot.html">&size-scrot;</ulink></entry>
                <entry><literal>scrot</literal>(1)
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </section>
      <section id="_recording_changes_in_configuration_files">
        <title>設定ファイルの変更記録</title>
        <simpara>DVCSシステムを使って設定ファイルの変更を記録する専用ツールがあります。</simpara>
        <table id="listofpackagestotionhistoryinvcs" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of packages to record configuration history in VCS.</title>
          <tgroup cols="4">
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="288" align="left"/>
            <thead>
              <row>
                <entry>
    パッケージ
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    サイズ
    </entry>
                <entry>
    説明
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/etckeeper">
<literal>etckeeper</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/etckeeper">&pop-etckeeper;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/e/etckeeper.html">&size-etckeeper;</ulink></entry>
                <entry>
    store configuration files and its metadata with <ulink
url="&git;">Git</ulink> (default), <ulink
url="&mercurial;">Mercurial</ulink>, or <ulink
url="&bazaar;">Bazaar</ulink>. (new)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/changetrack">
<literal>changetrack</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/changetrack">&pop-changetrack;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/c/changetrack.html">&size-changetrack;</ulink></entry>
                <entry>
    store configuration files with <ulink url="&rcs;">RCS</ulink>. (old)
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>I recommend to use the <literal>etckeeper</literal> package with
<literal>git</literal>(1) which put entire "<literal>/etc</literal>" under
VCS control.  Its installation guide and tutorial are found in
"<literal>/usr/share/doc/etckeeper/README.gz</literal>".</simpara>
        <simpara>Essentially, running "<literal>sudo etckeeper init</literal>" initializes
the git repository for "<literal>/etc</literal>" just like the process
explained in <xref linkend="_git_for_recording_configuration_history"/>) but
with special hook scripts for more thorough setups.</simpara>
        <simpara>As you change your configuration, you can use <literal>git</literal>(1)
normally to record them.  It will automatically record changes nicely every
time you run package management commands, too.</simpara>
        <tip>
          <simpara>You can browse the change history of "<literal>/etc</literal>" by executing
"<literal>sudo GIT_DIR=/etc/.git gitk</literal>" with clear view for new
installed packages, removed packages, and version changes of packages.</simpara>
        </tip>
      </section>
    </section>
    <section id="_data_storage_tips">
      <title>Data storage tips</title>
      <simpara>Booting your system with Linux <ulink url="&livecds;">live CDs</ulink> or
<ulink url="&debianinstallercds;">debian-installer CDs</ulink> in rescue
mode make it easy for you to reconfigure data storage on your boot device.
See also <xref linkend="_the_binary_data"/>.</simpara>
      <section id="_partition_configuration">
        <title>パーティション設定</title>
        <simpara>For partition configuration, although <literal>fdisk</literal>(8) has been
considered standard, <literal>parted</literal>(8) deserves some attention.
"Disk partitioning data", "partition table", "partition map", and "disk
label" are all synonyms.</simpara>
        <simpara>Most PCs use the classic <ulink url="&masterbootrecordmbr;">Master Boot
Record (MBR)</ulink> scheme to hold <ulink url="&diskpartitioning;">disk
partitioning</ulink> data in the first sector, i.e., <ulink
url="&lba;">LBA</ulink> sector 0 (512 bytes).</simpara>
        <note>
          <simpara>Some new PCs with <ulink url="&extensiblefirmwareinterfaceefi;">Extensible
Firmware Interface (EFI)</ulink>, including Intel-based Macs, use <ulink
url="&guidpartitiontablegpt;">GUID Partition Table (GPT)</ulink> scheme to
hold <ulink url="&diskpartitioning;">disk partitioning</ulink> data not in
the first sector.</simpara>
        </note>
        <simpara>Although <literal>fdisk</literal>(8) has been standard for the disk
partitioning tool, <literal>parted</literal>(8) is replacing it.</simpara>
        <table id="listofdiskpartitnagementpackages" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>ディスクパーティション管理パッケージのリスト</title>
          <tgroup cols="5">
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="216" align="left"/>
            <thead>
              <row>
                <entry>
    パッケージ
    </entry>
                <entry>
    Popcon
    </entry>
                <entry>
    サイズ
    </entry>
                <entry>
    説明
    </entry>
                <entry>
                  <ulink url="&guidpartitiontable;">GUIDパーティションテーブル</ulink>
                </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/util-linux">
<literal>util-linux</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/util-linux">&pop-utillinux;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/u/util-linux.html">&size-utillinux;</ulink></entry>
                <entry>
    Miscellaneous system utilities including <literal>fdisk</literal>(8) and
<literal>cfdisk</literal>(8)
    </entry>
                <entry>
    非サポート
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/parted">
<literal>parted</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/parted">&pop-parted;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/p/parted.html">&size-parted;</ulink></entry>
                <entry>
    The GNU Parted disk partition resizing program
    </entry>
                <entry>
    サポート
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/gparted">
<literal>gparted</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/gparted">&pop-gparted;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/g/gparted.html">&size-gparted;</ulink></entry>
                <entry>
    GNOME partition editor based on <literal>libparted</literal>
    </entry>
                <entry>
    サポート
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/qtparted">
<literal>qtparted</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/qtparted">&pop-qtparted;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/q/qtparted.html">&size-qtparted;</ulink></entry>
                <entry>
    KDE partition editor based on <literal>libparted</literal>
    </entry>
                <entry>
    サポート
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/gptsync">
<literal>gptsync</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/gptsync">&pop-gptsync;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/g/gptsync.html">&size-gptsync;</ulink></entry>
                <entry>
    Synchronize classic MBR partition table with the GPT one
    </entry>
                <entry>
    サポート
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <caution>
          <simpara>Although <literal>parted</literal>(8) claims to create and to resize
filesystem too, it is safer to do such things using best maintained
specialized tools such as <literal>mkfs</literal>(8)
(<literal>mkfs.msdos</literal>(8), <literal>mkfs.ext2</literal>(8),
<literal>mkfs.ext3</literal>(8), …) and <literal>resize2fs</literal>(8).</simpara>
        </caution>
        <note>
          <simpara>In order to switch between GPT and MBR, you need to erase first few blocks
of disk contents directly (see <xref linkend="_clear_file_contents"/>) and
use "<literal>parted /dev/sdx mklabel gpt</literal>" or "<literal>parted
/dev/sdx mklabel msdos</literal>" to set it.  Please note
"<literal>msdos</literal>" is use here for <ulink url="&mbr;">MBR</ulink>.</simpara>
        </note>
      </section>
      <section id="_accessing_partition_using_uuid">
        <title>Accessing partition using UUID</title>
        <simpara>Although reconfiguration of your partition may yield different names for
partitions, you can access them consistently. This is also helpful if you
have multiple disks and your BIOS doesn't give them consistent device names.</simpara>
        <itemizedlist>
          <listitem>
            <simpara><literal>mount</literal>(8) with "<literal>-U</literal>" options can mount a
block device using <ulink url="&uuid;">UUID</ulink>, instead of using its
file name such as "<literal>/dev/sda3</literal>".
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>/etc/fstab</literal>" (see <literal>fstab</literal>(5)) can use
<ulink url="&uuid;">UUID</ulink>.
</simpara>
          </listitem>
          <listitem>
            <simpara>
Boot loaders (<xref linkend="_stage_2_the_boot_loader"/>) may use <ulink
url="&uuid;">UUID</ulink> too.
</simpara>
          </listitem>
        </itemizedlist>
        <tip>
          <simpara>You can probe <ulink url="&uuid;">UUID</ulink> of a block special device
with <literal>vol_id</literal>(8).</simpara>
        </tip>
      </section>
      <section id="_filesystem_configuration">
        <title>ファイルシステム設定</title>
        <simpara>For <ulink url="&extd;">ext3</ulink> filesystem, the
<literal>e2fsprogs</literal> package provides:</simpara>
        <itemizedlist>
          <listitem>
            <simpara><literal>mkfs.ext3</literal>(8) to create new <ulink
url="&extd;">ext3</ulink> filesystem,
</simpara>
          </listitem>
          <listitem>
            <simpara><literal>fsck.ext3</literal>(8) to check and to repair existing <ulink
url="&extd;">ext3</ulink> filesystem, and
</simpara>
          </listitem>
          <listitem>
            <simpara><literal>tune2fs</literal>(8) to configure superblock of <ulink
url="&extd;">ext3</ulink> filesystem.
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>The <literal>mkfs</literal>(8) and <literal>fsck</literal>(8) commans are
provided by the <literal>e2fsprogs</literal> package as front-ends to
various filesystem dependent programs (<literal>mkfs.fstype</literal> and
<literal>fsck.fstype</literal>). For <ulink url="&extd;">ext3</ulink>
filesystem, they are <literal>mkfs.ext3</literal>(8) and
<literal>fsck.ext3</literal>(8) (they are hardlinked to
<literal>mke2fs</literal>(8) and <literal>e2fsck</literal>(8)).</simpara>
        <simpara>Similar commands are available for each filesystem supported by Linux.</simpara>
        <table id="listoffilesystemnagementpackages" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of filesystem management packages</title>
          <tgroup cols="4">
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="288" align="left"/>
            <thead>
              <row>
                <entry>
    パッケージ
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    サイズ
    </entry>
                <entry>
    説明
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/e2fsprogs">
<literal>e2fsprogs</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/e2fsprogs">&pop-ecfsprogs;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/e/e2fsprogs.html">&size-ecfsprogs;</ulink></entry>
                <entry>
    Utilities for the <ulink url="&extc;">ext2</ulink>/<ulink
url="&extd;">ext3</ulink>/<ulink url="&exte;">ext4</ulink> filesystems.
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/reiserfsprogs">
<literal>reiserfsprogs</literal> </ulink></entry>
                <entry><ulink
url="http://bugs.debian.org/reiserfsprogs">&pop-reiserfsprogs;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/r/reiserfsprogs.html">&size-reiserfsprogs;</ulink></entry>
                <entry>
    Utilities for the <ulink url="&reiserfs;">Reiserfs</ulink> filesystem.
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/dosfstools">
<literal>dosfstools</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/dosfstools">&pop-dosfstools;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/d/dosfstools.html">&size-dosfstools;</ulink></entry>
                <entry>
    Utilities for the <ulink url="&fat;">FAT</ulink> filesystem. (Microsoft:
MS-DOS, Windows)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/xfsprogs">
<literal>xfsprogs</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/xfsprogs">&pop-xfsprogs;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/x/xfsprogs.html">&size-xfsprogs;</ulink></entry>
                <entry>
    Utilities for the <ulink url="&xfs;">XFS</ulink> filesystem. (SGI: IRIX)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/ntfsprogs">
<literal>ntfsprogs</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/ntfsprogs">&pop-ntfsprogs;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/n/ntfsprogs.html">&size-ntfsprogs;</ulink></entry>
                <entry>
    Utilities for the <ulink url="&ntfs;">NTFS</ulink> filesystem. (Microsoft:
Windows NT, …)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/jfsutils">
<literal>jfsutils</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/jfsutils">&pop-jfsutils;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/j/jfsutils.html">&size-jfsutils;</ulink></entry>
                <entry>
    Utilities for the <ulink url="&jfs;">JFS</ulink> filesystem. (IBM: AIX,
OS/2)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/reiser4progs">
<literal>reiser4progs</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/reiser4progs">&pop-reisereprogs;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/r/reiser4progs.html">&size-reisereprogs;</ulink></entry>
                <entry>
    Utilities for the <ulink url="&reisere;">Reiser4</ulink> filesystem.
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/hfsprogs">
<literal>hfsprogs</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/hfsprogs">&pop-hfsprogs;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/h/hfsprogs.html">&size-hfsprogs;</ulink></entry>
                <entry>
    <ulink url="&hfs;">HFS</ulink>と<ulink url="&hfsplus;">HFS
Plus</ulink>ファイルシステムのためのユーティリティ。(Apple: Mac OS)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/btrfs-tools">
<literal>btrfs-tools</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/btrfs-tools">&pop-btrfstools;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/b/btrfs-tools.html">&size-btrfstools;</ulink></entry>
                <entry>
    Utilities for the <ulink url="&btrfs;">btrfs</ulink> filesystem.
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <tip>
          <simpara><ulink url="&extd;">Ext3</ulink> filesystem is the default filesystem for
the Linux system and strongly recommended to use it unless you have some
specific reasons not to.  After Linux kernel 2.6.28 (Debian
<literal>squeeze</literal>), <ulink url="&exte;">ext4</ulink> filesystem
will be available and expected to be the default filesystem for the Linux
system.  <ulink url="&btrfs;">btrfs</ulink> filesystem is expected to be the
next default filesystem after <ulink url="&exte;">ext4</ulink> filesystem
for the Linux system.</simpara>
        </tip>
        <warning>
          <simpara>You might face some limtations with ext4 since it is new.  For example, you
must have Linux kernel 2.6.30 or later if you wish to resizean ext4
partition.</simpara>
        </warning>
        <tip>
          <simpara>Some tools allow access to filesystem without Linux kernel support (see
<xref linkend="_manipulating_files_without_mounting_disk"/>).</simpara>
        </tip>
      </section>
      <section id="_filesystem_creation_and_integrity_check">
        <title>Filesystem creation and integrity check</title>
        <simpara>The <literal>mkfs</literal>(8) command creates the filesystem on a Linux
system. The <literal>fsck</literal>(8) command provides the filesystem
integrity check and repair on a Linux system.</simpara>
        <caution>
          <simpara>It is generally not safe to run <literal>fsck</literal> on <emphasis
role="strong">mounted filesystems</emphasis>.</simpara>
        </caution>
        <tip>
          <simpara>Check files in "<literal>/var/log/fsck/</literal>" for the result of the
<literal>fsck</literal>(8) command run from the boot script.</simpara>
        </tip>
        <tip>
          <simpara>Use "<literal>shutdown -F -r now</literal>" to force to run the
<literal>fsck</literal>(8) command safely on all filesystems including root
file system on reboot. See the <literal>shutdown</literal>(8) manpage for
more.</simpara>
        </tip>
      </section>
      <section id="_optimization_of_filesystem_by_mount_options">
        <title>Optimization of filesystem by mount options</title>
        <simpara>Performance and characteristics of a filesystem can be optimized by mount
options used on it (see <literal>fstab</literal>(5) and
<literal>mount</literal>(8)).  For example:</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
"<literal>defaults</literal>" option implies default options:
"<literal>rw,suid,dev,exec,auto,nouser,async</literal>". (general)
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>noatime</literal>" or "<literal>relatime</literal>" option is very
effective for speeding up the read access. (general)
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>user</literal>" option allows an ordinary user to mount the file
system. This option implies "<literal>noexec,nosuid,nodev</literal>" option
combination. (general, used for CD and floppy)
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>noexec,nodev,nosuid</literal>" option combination is used to
enhance security. (general)
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>noauto</literal>" option limits mounting by explicit operation
only. (general)
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>data=journal</literal>" option for ext3fs can enhance data
integrity against power failure with some loss of write speed.
</simpara>
          </listitem>
        </itemizedlist>
        <tip>
          <simpara>You need to provide kernel boot parameter
"<literal>rootflags=data=journal</literal>" to deploy
"<literal>data=journal</literal>" option for the root file system formatted
with ext3fs.</simpara>
        </tip>
      </section>
      <section id="_optimization_of_filesystem_via_superblock">
        <title>Optimization of filesystem via superblock</title>
        <simpara>Characteristics of a filesystem can be optimized via its superblock using
the <literal>tune2fs</literal>(8) command.  For example on
"<literal>/dev/hda1</literal>":</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
Execution of "<literal>sudo tune2fs -l /dev/hda1</literal>" will display the
contents of its filesystem superblock.
</simpara>
          </listitem>
          <listitem>
            <simpara>
Execution of "<literal>sudo tune2fs -c 50 /dev/hda1</literal>" will change
frequency of filesystem checks (<literal>fsck</literal> execution during
boot-up) to every 50 boots.
</simpara>
          </listitem>
          <listitem>
            <simpara>
Execution of "<literal>sudo tune2fs -j /dev/hda1</literal>" will add
journaling capability to the filesystem, i.e. filesystem conversion from
<ulink url="&extc;">ext2</ulink> to <ulink url="&extd;">ext3</ulink>.  (Do
this on the unmounted filesystem.)
</simpara>
          </listitem>
          <listitem>
            <simpara>
Execution of "<literal>sudo tune2fs -O extents,uninit_bg,dir_index /dev/hda1
&amp;&amp; fsck -pf /dev/hda1</literal>" will convert it from <ulink
url="&extd;">ext3</ulink> to <ulink url="&exte;">ext4</ulink>.  (Do this on
the unmounted filesystem.)
</simpara>
          </listitem>
        </itemizedlist>
        <warning>
          <simpara>Filesystem conversion for the boot device to the <ulink
url="&exte;">ext4</ulink> filesystem should be avoided until <ulink
url="&grubbootloadersutefilesystemwell;">GRUB boot loader supports the ext4
filesystem well</ulink> and installed Linux Kernel version is newer than
2.6.28.</simpara>
        </warning>
        <tip>
          <simpara>Despite its name, <literal>tune2fs</literal>(8) works not only on the <ulink
url="&extc;">ext2</ulink> filesystem but also on the <ulink
url="&extd;">ext3</ulink> and <ulink url="&exte;">ext4</ulink> filesystems.</simpara>
        </tip>
      </section>
      <section id="_optimization_of_harddisk">
        <title>ハードディスクの最適化</title>
        <warning>
          <simpara>Please check your hardware and read manpage of <literal>hdparam</literal>(8)
before playing with harddisk configuration because this may be quite
dangerous for the data integrity.</simpara>
        </warning>
        <simpara>You can test disk access speed of a harddisk,
e.g. "<literal>/dev/hda</literal>", by "<literal>hdparm -tT
/dev/hda</literal>". For some harddisk connected with (E)IDE, you can speed
it up with "<literal>hdparm -q -c3 -d1 -u1 -m16 /dev/hda</literal>" by
enabling the "(E)IDE 32-bit I/O support", enabling the "using_dma flag",
setting "interrupt-unmask flag", and setting the "multiple 16 sector I/O"
(dangerous!).</simpara>
        <simpara>You can test write cache feature of a harddisk,
e.g. "<literal>/dev/sda</literal>", by "<literal>hdparm -W
/dev/sda</literal>". You can disable its write cache feature with
"<literal>hdparm -W 0 /dev/sda</literal>".</simpara>
        <simpara>You may be able to read badly pressed CDROMs on modern high head CD-ROM
drive by slowing it down with "<literal>setcd -x 2</literal>.</simpara>
      </section>
      <section id="_using_smart_to_predict_harddisk_failure">
        <title>Using SMART to predict harddisk failure</title>
        <simpara>You can monitor and log your harddisk which is compliant to <ulink
url="&smart;">SMART</ulink> with the <literal>smartd</literal>(8) daemon.</simpara>
        <orderedlist>
          <listitem>
            <simpara>
<ulink url="&bios;">BIOS</ulink>の<ulink url="&smart;">SMART</ulink>機能を有効にする。
</simpara>
          </listitem>
          <listitem>
            <simpara>
Install the <literal>smartmontools</literal> package.
</simpara>
          </listitem>
          <listitem>
            <simpara>
Identify your harddisk drives by listing them with <literal>df</literal>(1).
</simpara>
            <itemizedlist>
              <listitem>
                <simpara>
Let's assume a harddisk drive to be monitored as
"<literal>/dev/hda</literal>".
</simpara>
              </listitem>
            </itemizedlist>
          </listitem>
          <listitem>
            <simpara>
Check the output of "<literal>smartctl -a /dev/hda</literal>" to see if
<ulink url="&smart;">SMART</ulink> feature is actually enabled.
</simpara>
            <itemizedlist>
              <listitem>
                <simpara>
If not, enable it by "<literal>smartctl -s on -a /dev/hda</literal>".
</simpara>
              </listitem>
            </itemizedlist>
          </listitem>
          <listitem>
            <simpara>
Enable <literal>smartd</literal>(8) daemon to run by:
</simpara>
            <itemizedlist>
              <listitem>
                <simpara>
uncomment "<literal>start_smartd=yes</literal>" in the
"<literal>/etc/default/smartmontools</literal>" file.
</simpara>
              </listitem>
              <listitem>
                <simpara>
restart the <literal>smartd</literal>(8) daemon by "<literal>sudo
/etc/init.d/smartmontools restart</literal>".
</simpara>
              </listitem>
            </itemizedlist>
          </listitem>
        </orderedlist>
        <tip>
          <simpara>The <literal>smartd</literal>(8) daemon can be customized with the
<literal>/etc/smartd.conf</literal> file including how to be notified of
warnings.</simpara>
        </tip>
      </section>
      <section id="_expand_usable_storage_space_via_lvm">
        <title>Expand usable storage space via LVM</title>
        <simpara>For partitions created on <ulink url="&logicalvolumemanagerlinux;">Logical
Volume Manager (Linux)</ulink> at install time, they can be resized easily
by concatenating extents onto them or truncating extents from them over
multiple storage devices without major system reconfiguration.</simpara>
        <caution>
          <simpara>Deployment of the current LVM system may degrade guarantee against
filesystem corruption offered by journaled file systems such as ext3fs
unless their system performance is sacrificed by disabling write cache of
harddisk.</simpara>
        </caution>
      </section>
      <section id="_expand_usable_storage_space_by_mounting_another_partition">
        <title>Expand usable storage space by mounting another partition</title>
        <simpara>If you have an empty partition (e.g., "<literal>/dev/sdx</literal>"), you
can format it with <literal>mkfs.ext3</literal>(1) and
<literal>mount</literal>(8) it to a directory where you need more
space. (You need to copy original data contents.)</simpara>
        <screen>$ sudo mv work-dir old-dir
$ sudo mkfs.ext3 /dev/sdx
$ sudo mount -t ext3 /dev/sdx work-dir
$ sudo cp -a old-dir/* work-dir
$ sudo rm -rf old-dir</screen>
      </section>
      <section id="_expand_usable_storage_space_using_symlink">
        <title>Expand usable storage space using symlink</title>
        <simpara>If you have an empty directory (e.g., "<literal>/path/to/emp-dir</literal>")
in another partition with usable space, you can create a symlink to the
directory with <literal>ln</literal>(8).</simpara>
        <screen>$ sudo mv work-dir old-dir
$ sudo mkdir -p /path/to/emp-dir
$ sudo ln -sf /path/to/emp-dir work-dir
$ sudo cp -a old-dir/* work-dir
$ sudo rm -rf old-dir</screen>
        <caution>
          <simpara>Some software may not function well with "symlink to a directory".</simpara>
        </caution>
      </section>
      <section id="_expand_usable_storage_space_using_aufs">
        <title>Expand usable storage space using aufs</title>
        <simpara>If you have usable space in another partition (e.g.,
"<literal>/path/to/</literal>"), you can create a directory in it and stack
that on to a directory where you need space with <ulink
url="&aufs;">aufs</ulink>.</simpara>
        <screen>$ sudo mv work-dir old-dir
$ sudo mkdir -p /path/to/emp-dir
$ sudo mount -t aufs -o br:/path/to/emp-dir:old-dir none work-dir</screen>
        <caution>
          <simpara>Use of <ulink url="&aufs;">aufs</ulink> for long term data storage is not
good idea since it is under development and its design change may introduce
issues.</simpara>
        </caution>
        <tip>
          <simpara>In order to use <ulink url="&aufs;">aufs</ulink>, its utility package
<literal>aufs-tools</literal> and kernel module package for <ulink
url="&aufs;">aufs</ulink> such as <literal>aufs-modules-2.6-amd64</literal>
need to be installed.</simpara>
        </tip>
        <tip>
          <simpara><ulink url="&aufs;">aufs</ulink> is used to provide writable root filesystem
by many modern <ulink url="&livecd;">live CD</ulink> projects.</simpara>
        </tip>
      </section>
    </section>
    <section id="_data_encryption_tips">
      <title>Data encryption tips</title>
      <simpara>With physical access to your PC, anyone can easily gain root privilege and
access all the files on your PC (see <xref
linkend="_securing_the_root_password"/>).  This means that login password
system can not secure your private and sensitive data against possible theft
of your PC.  You must deploy data encryption technology to do it.  Although
<ulink url="&gnuprivacyguard;">GNU privacy guard</ulink> (see <xref
linkend="_data_security_infrastructure"/>) can encrypt files, it takes some
user efforts.</simpara>
      <simpara><ulink url="&dmcrypt;">dm-crypt</ulink> and <ulink
url="&ecryptfs;">eCryptfs</ulink> facilitates automatic data encryption
natively via Linux kernel modules with minimal user efforts.</simpara>
      <table id="listofdataencryptionutilities" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>List of data encryption utilities.</title>
        <tgroup cols="4">
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="288" align="left"/>
          <thead>
            <row>
              <entry>
    パッケージ
    </entry>
              <entry>
    popcon
    </entry>
              <entry>
    サイズ
    </entry>
              <entry>
    機能
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/cryptsetup">
<literal>cryptsetup</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/cryptsetup">&pop-cryptsetup;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/c/cryptsetup.html">&size-cryptsetup;</ulink></entry>
              <entry>
    Utilities for encrypted block device (<ulink
url="&dmcrypt;">dm-crypt</ulink> / <ulink url="&luks;">LUKS</ulink>)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/cryptmount">
<literal>cryptmount</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/cryptmount">&pop-cryptmount;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/c/cryptmount.html">&size-cryptmount;</ulink></entry>
              <entry>
    Utilities forencrypted block device (<ulink url="&dmcrypt;">dm-crypt</ulink>
/ <ulink url="&luks;">LUKS</ulink>) with focus on mount/unmount by normal
users
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/ecryptfs-utils">
<literal>ecryptfs-utils</literal> </ulink></entry>
              <entry><ulink
url="http://bugs.debian.org/ecryptfs-utils">&pop-ecryptfsutils;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/e/ecryptfs-utils.html">&size-ecryptfsutils;</ulink></entry>
              <entry>
    Utilities for encrypted stacked filesystem (<ulink
url="&ecryptfs;">eCryptfs</ulink>)
    </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <simpara><ulink url="&dmcrypt;">Dm-crypt</ulink> is a cryptographic filesystem using
<ulink url="&devicemapper;">device-mapper</ulink>. <ulink
url="&devicemapper;">Device-mapper</ulink> maps one block device to another.</simpara>
      <simpara><ulink url="&ecryptfs;">eCryptfs</ulink> is another cryptographic filesystem
using stacked filesystem.  Stacked filesystem stacks itself on top of an
existing directory of a mounted filesystem.</simpara>
      <caution>
        <simpara>Data encryption costs CPU time etc.  Please weigh its benefits and costs.</simpara>
      </caution>
      <note>
        <simpara>Entire Debian system can be installed on a encrypted disk by the <ulink
url="&debianinstaller;">debian installer</ulink> (lenny or newer) using
<ulink url="&dmcrypt;">dm-crypt</ulink>/<ulink url="&luks;">LUKS</ulink> and
initramfs.</simpara>
      </note>
      <tip>
        <simpara>See <xref linkend="_data_security_infrastructure"/> for user space
encryption utility: <ulink url="&gnuprivacyguard;">GNU Privacy
Guard</ulink>.</simpara>
      </tip>
      <section id="_removable_disk_encryption_with_dm_crypt_luks">
        <title>Removable disk encryption with dm-crypt/LUKS</title>
        <simpara>You can encrypt contents of removable mass storage devices, e.g. USB memory
stick on "<literal>/dev/sdx</literal>", using <ulink
url="&dmcrypt;">dm-crypt</ulink>/<ulink url="&luks;">LUKS</ulink>.  You
simply formatting it as:</simpara>
        <screen># badblocks -c 10240 -s -w -t random -v /dev/sdx
# shred -v -n 1 /dev/sdx
# fdisk /dev/sdx
... "n" "p" "1" "return" "return" "w"
# cryptsetup luksFormat /dev/sdx1
...
# cryptsetup luksOpen /dev/sdx1 sdx1
...
# ls -l /dev/mapper/
total 0
crw-rw---- 1 root root  10, 60 2008-10-04 18:44 control
brw-rw---- 1 root disk 254,  0 2008-10-04 23:55 sdx1
# mkfs.vfat /dev/mapper/sdx1
...
# cryptsetup luksClose sdx1</screen>
        <simpara>Then, it can be mounted just like normal one on to
"<literal>/media/&lt;disk_label&gt;</literal>", except for asking password
(see <xref linkend="_removable_mass_storage_device"/>) under modern desktop
environment, such as GNOME using <literal>gnome-mount</literal>(1).  The
difference is that every data written to it is encrypted.  You may
alternatively format media in different file format, e.g., ext3 with
"<literal>mkfs.ext3 /dev/sdx1</literal>".</simpara>
        <note>
          <simpara>If you are really paranoid for the security of data, you may need to
overwrite multiple times in the above example.  This operation is very time
consuming though.</simpara>
        </note>
      </section>
      <section id="_encrypted_swap_partition_with_dm_crypt">
        <title>Encrypted swap partition with dm-crypt</title>
        <simpara>If your original "<literal>/etc/fstab</literal>" contains:</simpara>
        <screen>/dev/sda7 swap sw 0 0</screen>
        <simpara>then you can enable encrypted swap partition using <ulink
url="&dmcrypt;">dm-crypt</ulink> by as</simpara>
        <screen># aptitude install cryptsetup
# swapoff -a
# echo "cswap /dev/sda7 /dev/urandom swap" &gt;&gt; /etc/crypttab
# perl -i -p -e "s/\/dev\/sda7/\/dev\/mapper\/cswap/" /etc/fstab
# /etc/init.d/cryptdisks restart
 ...
# swapon -a</screen>
      </section>
      <section id="_automatically_encrypting_files_with_ecryptfs">
        <title>Automatically encrypting files with eCryptfs</title>
        <simpara>You can encrypt files written under "<literal>~/Private/</literal>"
automatically using <ulink url="&ecryptfs;">eCryptfs</ulink> and the
<literal>ecryptfs-utils</literal> package.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
run <literal>ecryptfs-setup-private</literal>(1) and set up
"<literal>~/Private/</literal>" by following prompts.
</simpara>
          </listitem>
          <listitem>
            <simpara>
activate "<literal>~/Private/</literal>" by running
<literal>ecryptfs-mount-private</literal>(1).
</simpara>
          </listitem>
          <listitem>
            <simpara>
move sensitive data files to "<literal>~/Private/</literal>" and make
symlinks as needed.
</simpara>
            <itemizedlist>
              <listitem>
                <simpara>
candidates: "<literal>~/.fetchmailrc</literal>",
"<literal>~/.ssh/identity</literal>", "<literal>~/.ssh/id_rsa</literal>",
"<literal>~/.ssh/id_dsa</literal>" and other files with
"<literal>go-rwx</literal>".
</simpara>
              </listitem>
            </itemizedlist>
          </listitem>
          <listitem>
            <simpara>
move sensitive data directories to a subdirectory in
"<literal>~/Private/</literal>" and make symlinks as needed.
</simpara>
            <itemizedlist>
              <listitem>
                <simpara>
candidates: "<literal>~/.gnupg</literal>" and other directories with
"<literal>go-rwx</literal>".
</simpara>
              </listitem>
            </itemizedlist>
          </listitem>
          <listitem>
            <simpara>
create symlink from "<literal>~/Desktop/Private/</literal>" to
"<literal>~/Private/</literal>" for easier desktop operations.
</simpara>
          </listitem>
          <listitem>
            <simpara>
deactivate "<literal>~/Private/</literal>" by running
<literal>ecryptfs-umount-private</literal>(1).
</simpara>
          </listitem>
          <listitem>
            <simpara>
activate "<literal>~/Private/</literal>" by issuing
"<literal>ecryptfs-mount-private</literal>" as you need encrypted data.
</simpara>
          </listitem>
        </itemizedlist>
        <tip>
          <simpara>Since <ulink url="&ecryptfs;">eCryptfs</ulink> selectively encrypt only the
sensitive files, its system cost is much less than using <ulink
url="&dmcrypt;">dm-crypt</ulink> on the entire root or home device.  It does
not require any special on-disk storage allocation effort but cannot keep
all filesystem metadata confidential.</simpara>
        </tip>
      </section>
      <section id="_automatically_mounting_ecryptfs">
        <title>Automatically mounting eCryptfs</title>
        <simpara>If you use your login password for wrapping encryption keys, you can
automate mounting eCryptfs via Pluggable Authentication Module by having a
following line just before "<literal>pam_permit.so</literal>" in
"<literal>/etc/pam.d/common-auth</literal>" as:</simpara>
        <screen>auth required pam_ecryptfs.so unwrap</screen>
        <simpara>and the last line in "<literal>/etc/pam.d/common-session</literal>" as:</simpara>
        <screen>session optional pam_ecryptfs.so unwrap</screen>
        <simpara>and the first active line in "<literal>/etc/pam.d/common-password</literal>"
as:</simpara>
        <screen>password required pam_ecryptfs.so</screen>
        <simpara>This is quite convienient.</simpara>
        <warning>
          <simpara>Configuration errors of PAM may lock you out of your own system. See <xref
linkend="_authentication"/>.</simpara>
        </warning>
        <caution>
          <simpara>If you use your login password for wrapping encryption keys, your encrypted
data are as secure as your user login password (see <xref
linkend="_good_password"/>).  Unless you are careful to set up a <ulink
url="&strongpassword;">strong password</ulink>, your data will be at risk
when someone runs <ulink url="&passwordcracking;">password cracking</ulink>
software after stealing your laptop (see <xref
linkend="_securing_the_root_password"/>).</simpara>
        </caution>
      </section>
    </section>
    <section id="_monitoring_controlling_and_starting_program_activities">
      <title>Monitoring, controlling, and starting program activities</title>
      <simpara>Program activities can be monitored and controlled using specialized tools.</simpara>
      <table id="listoftoolsformorogramactivities" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>List of tools for monitoring and controlling program activities</title>
        <tgroup cols="4">
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="288" align="left"/>
          <thead>
            <row>
              <entry>
    パッケージ
    </entry>
              <entry>
    popcon
    </entry>
              <entry>
    サイズ
    </entry>
              <entry>
    説明
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/time"> <literal>time</literal>
</ulink></entry>
              <entry><ulink url="http://bugs.debian.org/time">&pop-time;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/t/time.html">&size-time;</ulink></entry>
              <entry><literal>time</literal>(1) runs a program to report system resource usages
with respect to time.
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/coreutils">
<literal>coreutils</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/coreutils">&pop-coreutils;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/c/coreutils.html">&size-coreutils;</ulink></entry>
              <entry><literal>nice</literal>(1) runs a program with modified scheduling priority.
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/bsdutils">
<literal>bsdutils</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/bsdutils">&pop-bsdutils;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/b/bsdutils.html">&size-bsdutils;</ulink></entry>
              <entry><literal>renice</literal>(1) modifies the scheduling priority of a running
process.
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/powertop">
<literal>powertop</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/powertop">&pop-powertop;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/p/powertop.html">&size-powertop;</ulink></entry>
              <entry><literal>powertop</literal>(1) gives information about system power use on
Intel-based laptops.
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/procps">
<literal>procps</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/procps">&pop-procps;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/p/procps.html">&size-procps;</ulink></entry>
              <entry>
    The "<literal>/proc</literal>" file system utilities:
<literal>ps</literal>(1), <literal>top</literal>(1),
<literal>kill</literal>(1), <literal>watch</literal>(1), …
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/psmisc">
<literal>psmisc</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/psmisc">&pop-psmisc;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/p/psmisc.html">&size-psmisc;</ulink></entry>
              <entry>
    The "<literal>/proc</literal>" file system utilities:
<literal>killall</literal>(1), <literal>fuser</literal>(1),
<literal>pstree</literal>(1)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/cron"> <literal>cron</literal>
</ulink></entry>
              <entry><ulink url="http://bugs.debian.org/cron">&pop-cron;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/c/cron.html">&size-cron;</ulink></entry>
              <entry>
    The <literal>cron</literal>(8) daemon runs processes according to a schedule
(in background).
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/at"> <literal>at</literal>
</ulink></entry>
              <entry><ulink url="http://bugs.debian.org/at">&pop-at;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/a/at.html">&size-at;</ulink></entry>
              <entry><literal>at</literal>(1) or <literal>batch</literal>(1) commands run a job
at a specified time or below certain load level.
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/lsof"> <literal>lsof</literal>
</ulink></entry>
              <entry><ulink url="http://bugs.debian.org/lsof">&pop-lsof;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/l/lsof.html">&size-lsof;</ulink></entry>
              <entry><literal>lsof</literal>(8) lists open files by a running process using
"<literal>-p</literal>" option.
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/strace">
<literal>strace</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/strace">&pop-strace;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/s/strace.html">&size-strace;</ulink></entry>
              <entry><literal>strace</literal>(1) traces system calls and signals.
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/ltrace">
<literal>ltrace</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/ltrace">&pop-ltrace;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/l/ltrace.html">&size-ltrace;</ulink></entry>
              <entry><literal>ltrace</literal>(1) traces library calls.
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/xtrace">
<literal>xtrace</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/xtrace">&pop-xtrace;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/x/xtrace.html">&size-xtrace;</ulink></entry>
              <entry><literal>xtrace</literal>(1) traces communication between X11 client and
server.
    </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <section id="_time_a_process">
        <title>Time a process</title>
        <simpara>コマンドが開始したプロセスによって使われた表示時間。</simpara>
        <screen># time some_command &gt;/dev/null
real    0m0.035s       # time on wall clock (elapsed real time)
user    0m0.000s       # time in user mode
sys     0m0.020s       # time in kernel mode</screen>
      </section>
      <section id="_the_scheduling_priority">
        <title>スケジューリングのプライオリティー</title>
        <simpara>A nice value is used to control the scheduling priority for the process.</simpara>
        <table id="listofnicevalueshedulingpriority" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of nice values for the scheduling priority.</title>
          <tgroup cols="2">
            <colspec colwidth="144" align="left"/>
            <colspec colwidth="360" align="left"/>
            <thead>
              <row>
                <entry>
    nice value
    </entry>
                <entry>
    スケジューリングのプライオリティー
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
    19
    </entry>
                <entry>
    lowest priority process (nice)
    </entry>
              </row>
              <row>
                <entry>
    0
    </entry>
                <entry>
    very high priority process for user.
    </entry>
              </row>
              <row>
                <entry>
    -20
    </entry>
                <entry>
    very high priority process for root. (not-nice)
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <screen># nice  -19 top                                      # very nice
# nice --20 wodim -v -eject speed=2 dev=0,0 disk.img # very fast</screen>
        <simpara>Sometimes an extreme nice value does more harm than good to the system.  Use
this command carefully.</simpara>
      </section>
      <section id="_the_ps_command">
        <title>psコマンド</title>
        <simpara>The <literal>ps</literal>(1) command on the Debian support both BSD and
SystemV features and helps to identify the process activity statically.</simpara>
        <table id="listofpscommandstyles" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of ps command styles.</title>
          <tgroup cols="3">
            <colspec colwidth="108" align="left"/>
            <colspec colwidth="108" align="left"/>
            <colspec colwidth="288" align="left"/>
            <thead>
              <row>
                <entry>
    style
    </entry>
                <entry>
    typical command
    </entry>
                <entry>
    feature
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
    BSD
    </entry>
                <entry>
                  <literal>ps aux</literal>
                </entry>
                <entry>
    display %CPU %MEM
    </entry>
              </row>
              <row>
                <entry>
    System V
    </entry>
                <entry>
                  <literal>ps -efH</literal>
                </entry>
                <entry>
    display PPID
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>For the zombie (defunct) children process, you can kill them by the parent
process ID identified in the (<literal>PPID</literal>) field.</simpara>
        <simpara>The <literal>pstree</literal>(1) command display a tree of processes.</simpara>
      </section>
      <section id="_the_top_command">
        <title>topコマンド</title>
        <simpara><literal>top</literal>(1) on the Debian has rich features and helps to
identify what process is acting funny dynamically.</simpara>
        <table id="listofcommandsfortop" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>topのコマンドのリスト。</title>
          <tgroup cols="2">
            <colspec colwidth="144" align="left"/>
            <colspec colwidth="360" align="left"/>
            <thead>
              <row>
                <entry>
    command key
    </entry>
                <entry>
    レスポンス
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><literal>h</literal> or <literal>?</literal>
    </entry>
                <entry>
    To show help.
    </entry>
              </row>
              <row>
                <entry>
                  <literal>f</literal>
                </entry>
                <entry>
    To set/reset display field.
    </entry>
              </row>
              <row>
                <entry>
                  <literal>o</literal>
                </entry>
                <entry>
    To reorder display field.
    </entry>
              </row>
              <row>
                <entry>
                  <literal>F</literal>
                </entry>
                <entry>
    To set sort key field.
    </entry>
              </row>
              <row>
                <entry>
                  <literal>k</literal>
                </entry>
                <entry>
    To kill a process.
    </entry>
              </row>
              <row>
                <entry>
                  <literal>r</literal>
                </entry>
                <entry>
    To renice a process.
    </entry>
              </row>
              <row>
                <entry>
                  <literal>q</literal>
                </entry>
                <entry>
    To quit the <literal>top</literal> command.
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </section>
      <section id="_list_files_opened_by_a_process">
        <title>List files opened by a process</title>
        <simpara>You can list all files opened by a process with a process ID (PID), e.g. 1
as:</simpara>
        <screen>$ sudo lsof -p 1</screen>
        <simpara>PID=1 is usually <literal>init</literal> program.</simpara>
      </section>
      <section id="_trace_program_activities">
        <title>Trace program activities</title>
        <simpara>You can trace program activity with <literal>strace</literal>(1),
<literal>ltrace</literal>(1), or <literal>xtrace</literal>(1) for system
calls and signals, library calls, or communication between X11 client and
server.  For example:</simpara>
        <screen>$ sudo strace ls
...</screen>
      </section>
      <section id="_identify_processes_using_files_or_sockets">
        <title>Identify processes using files or sockets</title>
        <simpara>You can also identify processes using files or sockets by
<literal>fuser</literal>(1).  For example:</simpara>
        <screen>$ sudo fuser -v /var/log/mail.log
                     USER        PID ACCESS COMMAND
/var/log/mail.log:   root       2946 F.... syslogd</screen>
        <simpara>You see that file "<literal>/var/log/mail.log</literal>" is open for writing
by the <literal>syslogd</literal>(8) command.</simpara>
        <screen>$ sudo fuser -v smtp/tcp
                     USER        PID ACCESS COMMAND
smtp/tcp:            Debian-exim   3379 F.... exim4</screen>
        <simpara>Now you know your system runs <literal>exim4</literal>(8) to handle <ulink
url="&tcp;">TCP</ulink> connections to <ulink url="&smtp;">SMTP</ulink> port
(25).</simpara>
      </section>
      <section id="_repeating_a_command_with_a_constant_interval">
        <title>Repeating a command with a constant interval</title>
        <simpara><literal>watch</literal>(1) executes a program repeatedly with a constant
interval while showing its output in fullscreen.</simpara>
        <screen>$ watch w</screen>
        <simpara>This will display who is logged on to the system updated every 2 seconds.</simpara>
      </section>
      <section id="_repeating_a_command_looping_over_files">
        <title>Repeating a command looping over files</title>
        <simpara>There are several ways to repeat a command looping over files matching some
condition, e.g. matching glob pattern "<literal>*.ext</literal>".</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
Shell for-loop method (see <xref linkend="_shell_loops"/>):
</simpara>
          </listitem>
        </itemizedlist>
        <screen>for x in *.ext; do if [ -f "$x"]; then command "$x" ; fi; done</screen>
        <itemizedlist>
          <listitem>
            <simpara><literal>find</literal>(1) and <literal>xargs</literal>(1) combination:
</simpara>
          </listitem>
        </itemizedlist>
        <screen>find . -type f -maxdepth 1 -name '*.ext' -print0 | xargs -0 -n 1 command</screen>
        <itemizedlist>
          <listitem>
            <simpara><literal>find</literal>(1) with "<literal>-exec</literal>" option with a
command:
</simpara>
          </listitem>
        </itemizedlist>
        <screen>find . -type f -maxdepth 1 -name '*.ext' -exec command '{}' \;</screen>
        <itemizedlist>
          <listitem>
            <simpara><literal>find</literal>(1) with "<literal>-exec</literal>" option with a
short shell script:
</simpara>
          </listitem>
        </itemizedlist>
        <screen>find . -type f -maxdepth 1 -name '*.ext' -exec sh -c "command '{}' &amp;&amp; echo 'successful'" \;</screen>
        <simpara>The above examples are written to ensure proper handling of funny file names
such as ones containing spaces.  See <xref
linkend="_idioms_for_the_selection_of_files"/> for more advance uses of
<literal>find</literal>(1).</simpara>
      </section>
      <section id="_starting_a_program_from_gui">
        <title>Starting a program from GUI</title>
        <simpara>You can set up to start a process from <ulink
url="&graphicaluserinterfacegui;">graphical user interface (GUI)</ulink>.</simpara>
        <simpara>Under GNOME desktop environment, a program program can be started with
proper argument by <emphasis role="strong">drag-and-drop</emphasis> of an
icon to the launcher icon or by "<emphasis role="strong">Open with
…</emphasis>" menu with right clicking. KDE can do the equivalent, too. Here
is an example for GNOME to set up <literal>mc</literal>(1) started in
<literal>gnome-terminal</literal>(1):</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
create an executable program "<literal>mc-term</literal>" as:
</simpara>
          </listitem>
        </itemizedlist>
        <screen># cat &gt;/usr/local/bin/mc-term &lt;&lt;EOF
#!/bin/sh
gnome-terminal -e "mc \$1"
EOF
# chmod 755 /usr/local/bin/mc-term</screen>
        <itemizedlist>
          <listitem>
            <simpara>
create a desktop launcher
</simpara>
            <itemizedlist>
              <listitem>
                <simpara>
right clicking desktop space to select "<literal>Create Launcher
…</literal>"
</simpara>
              </listitem>
              <listitem>
                <simpara>
set "Type" to "<literal>Application</literal>"
</simpara>
              </listitem>
              <listitem>
                <simpara>
set "Name" to "<literal>mc</literal>"
</simpara>
              </listitem>
              <listitem>
                <simpara>
set "Command" to "<literal>mc-term %f</literal>"
</simpara>
              </listitem>
              <listitem>
                <simpara>
click "OK"
</simpara>
              </listitem>
            </itemizedlist>
          </listitem>
          <listitem>
            <simpara>
create an open-with association
</simpara>
            <itemizedlist>
              <listitem>
                <simpara>
right click folder to select "<literal>Open with Other Application
…</literal>"
</simpara>
              </listitem>
              <listitem>
                <simpara>
click open "Use a custom command" dialog and enter "<literal>mc-term
%f</literal>"
</simpara>
              </listitem>
              <listitem>
                <simpara>
click "Open".
</simpara>
              </listitem>
            </itemizedlist>
          </listitem>
        </itemizedlist>
        <tip>
          <simpara>Launcher is a file at "<literal>~/Desktop</literal>" with
"<literal>.desktop</literal>" as its extension.</simpara>
        </tip>
      </section>
      <section id="_customizing_program_to_be_started">
        <title>Customizing program to be started</title>
        <simpara>Some programs start another program automatically.  Here are check points
for customizing this process:</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
アプリケーション設定メニュー:
</simpara>
            <itemizedlist>
              <listitem>
                <simpara>
GNOME desktop: "System" → "Preferences" → "Preferred Application"
</simpara>
              </listitem>
              <listitem>
                <simpara>
KDE desktop: "K" → "Control Center" → "KDE Components" → "Component Chooser"
</simpara>
              </listitem>
              <listitem>
                <simpara>
Iceweasle browser: "Edit" → "Preferences" → "Applications"
</simpara>
              </listitem>
              <listitem>
                <simpara><literal>mc</literal>(1): "<literal>/etc/mc/mc.ext</literal>"
</simpara>
              </listitem>
            </itemizedlist>
          </listitem>
          <listitem>
            <simpara>
environment variables such as "<literal>$BROWSER</literal>",
"<literal>$EDITOR</literal>", "<literal>$VISUAL</literal>", and
"<literal>$PAGER</literal>" (see <literal>eviron</literal>(7)).
</simpara>
          </listitem>
          <listitem>
            <simpara>
the <literal>update-alternatives</literal>(8) system for programs such as
"<literal>editor</literal>", "<literal>view</literal>",
"<literal>x-www-browser</literal>", "<literal>gnome-www-browser</literal>",
and "<literal>www-browser</literal>" (see <xref
linkend="_setting_a_default_text_editor"/>).
</simpara>
          </listitem>
          <listitem>
            <simpara>
the "<literal>~/.mailcap</literal>" and "<literal>/etc/mailcap</literal>"
file contents which associate <ulink url="&mime;">MIME</ulink> type with
program (see <literal>mailcap</literal>(5)).
</simpara>
          </listitem>
          <listitem>
            <simpara>
the the "<literal>~/.mime.types</literal>" and
"<literal>/etc/mime.types</literal>" file contents which associate file name
extension with <ulink url="&mime;">MIME</ulink> type (see
<literal>run-mailcap</literal>(1)).
</simpara>
          </listitem>
        </itemizedlist>
        <tip>
          <simpara><literal>update-mime</literal>(8) updates the
"<literal>/etc/mailcap</literal>" file using
"<literal>/etc/mailcap.order</literal>" file (see
<literal>mailcap.order</literal>(5)).</simpara>
        </tip>
        <tip>
          <simpara>The <literal>debianutils</literal> package provides
<literal>sensible-browser</literal>(1),
<literal>sensible-editor</literal>(1), and
<literal>sensible-pager</literal>(1) which make sensible decisions on which
editor, pager, and web browser to call, respectively.  I recommend you to
read these shell commands.</simpara>
        </tip>
        <tip>
          <simpara>In order to run a console application such as <literal>mutt</literal> under
X as your prefered application, you should create an X application as
following and set "<literal>/usr/local/bin/mutt-term</literal>" as your
prefered application to be started as described.</simpara>
        </tip>
        <screen># cat /usr/local/bin/mutt-term &lt;&lt;EOF
#!/bin/sh
gnome-terminal -e "mutt \$@"
EOF
chmod 755 /usr/local/bin/mutt-term</screen>
      </section>
      <section id="_kill_a_process">
        <title>Kill a process</title>
        <simpara>Use <literal>kill</literal>(1) to kill (or send a signal to) a process by
the process ID.</simpara>
        <simpara>Use <literal>killall</literal>(1) or <literal>pkill</literal>(1) to do the
same by the process command name and other attributes.</simpara>
        <table id="listoffrequentlylsforkillcommand" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of frequently used signals for kill command.</title>
          <tgroup cols="3">
            <colspec colwidth="108" align="left"/>
            <colspec colwidth="108" align="left"/>
            <colspec colwidth="288" align="left"/>
            <thead>
              <row>
                <entry>
    signal value
    </entry>
                <entry>
    シグナル名
    </entry>
                <entry>
    機能
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
    1
    </entry>
                <entry>
    HUP
    </entry>
                <entry>
    restart daemon
    </entry>
              </row>
              <row>
                <entry>
    15
    </entry>
                <entry>
    TERM
    </entry>
                <entry>
    normal kill
    </entry>
              </row>
              <row>
                <entry>
    9
    </entry>
                <entry>
    KILL
    </entry>
                <entry>
    kill hard
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </section>
      <section id="_schedule_tasks_once">
        <title>Schedule tasks once</title>
        <simpara>Run the <literal>at</literal>(1) command to schedule a one-time job:</simpara>
        <screen>$ echo 'command -args'| at 3:40 monday</screen>
      </section>
      <section id="_schedule_tasks_regularly">
        <title>Schedule tasks regularly</title>
        <simpara>Use <literal>cron</literal>(8) to schedule tasks regularly.  See
<literal>crontab</literal>(1) and <literal>crontab</literal>(5).</simpara>
        <simpara>Run the command "<literal>crontab -e</literal>" to create or edit a crontab
file to set up regularly scheduled events.</simpara>
        <simpara>Example of a crontab file:</simpara>
        <screen># use /bin/sh to run commands, no matter what /etc/passwd says
SHELL=/bin/sh
# mail any output to paul, no matter whose crontab this is
MAILTO=paul
# Min Hour DayOfMonth Month DayOfWeek command (Day... are OR'ed)
# run at 00:05, every day
5  0  *  * *   $HOME/bin/daily.job &gt;&gt; $HOME/tmp/out 2&gt;&amp;1
# run at 14:15 on the first of every month -- output mailed to paul
15 14 1  * *   $HOME/bin/monthly
# run at 22:00 on weekdays(1-5), annoy Joe. % for newline, last % for cc:
0 22 *   * 1-5 mail -s "It's 10pm" joe%Joe,%%Where are your kids?%.%%
23 */2 1 2 *   echo "run 23 minutes after 0am, 2am, 4am ..., on Feb 1"
5  4 *   * sun echo "run at 04:05 every sunday"
# run at 03:40 on the first Monday of each month
40 3 1-7 * *   [ "$(date +%a)" == "Mon" ] &amp;&amp; command -args</screen>
        <tip>
          <simpara>For the system not running continuously, install the
<literal>anacron</literal> package to schedule periodic command at the
specified intervals as closely as machine-uptime permits.</simpara>
        </tip>
      </section>
      <section id="_alt_sysrq">
        <title>Alt-SysRq</title>
        <simpara>Insurance against system malfunction is provided by the kernel compile
option "Magic SysRq key" (<ulink url="&sak;">SAK</ulink> key) which is now
the default for the Debian kernel.  Pressing Alt-SysRq followed by one of
the following keys does the magic of rescuing control of the system:</simpara>
        <table id="listofsakcommandkeys" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of SAK command keys.</title>
          <tgroup cols="2">
            <colspec colwidth="144" align="left"/>
            <colspec colwidth="360" align="left"/>
            <thead>
              <row>
                <entry>
    key following Alt-SysRq
    </entry>
                <entry>
    機能
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>r</literal>
                </entry>
                <entry>
    Un<emphasis role="strong">r</emphasis>aw restores the keyboard after things
like X crashes.
    </entry>
              </row>
              <row>
                <entry>
                  <literal>0</literal>
                </entry>
                <entry>
    Changing the console loglevel to <emphasis role="strong">0</emphasis>
reduces error messages.
    </entry>
              </row>
              <row>
                <entry>
                  <literal>k</literal>
                </entry>
                <entry>
    SAK (system attention key) <emphasis role="strong">k</emphasis>ills all
processes on the <emphasis role="strong">current virtual console</emphasis>.
    </entry>
              </row>
              <row>
                <entry>
                  <literal>e</literal>
                </entry>
                <entry>
    Send a SIGT<emphasis role="strong">E</emphasis>RM to all processes, except
for <literal>init</literal>(8).
    </entry>
              </row>
              <row>
                <entry>
                  <literal>i</literal>
                </entry>
                <entry>
    Send a SIGK<emphasis role="strong">I</emphasis>LL to all processes, except
for <literal>init</literal>(8).
    </entry>
              </row>
              <row>
                <entry>
                  <literal>s</literal>
                </entry>
                <entry><emphasis role="strong">S</emphasis>ync all mounted filesystems.
    </entry>
              </row>
              <row>
                <entry>
                  <literal>u</literal>
                </entry>
                <entry>
    Remount all mounted filesystems read-only (<emphasis
role="strong">u</emphasis>mount).
    </entry>
              </row>
              <row>
                <entry>
                  <literal>b</literal>
                </entry>
                <entry>
    Re<emphasis role="strong">b</emphasis>oot the system without syncing or
unmounting.
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>The combination of "Alt-SysRq s", "Alt-SysRq u", and "Alt-SysRq r" is good
for getting out of really bad situations.</simpara>
        <simpara>See
"<literal>/usr/share/doc/linux-doc-2.6.*/Documentation/sysrq.txt.gz</literal>".</simpara>
        <caution>
          <simpara>The Alt-SysRq feature may be considered a security risk by allowing users
access to root-privileged functions.  Placing "<literal>echo 0
&gt;/proc/sys/kernel/sysrq</literal>" in "<literal>/etc/rc.local</literal>"
or "<literal>kernel.sysrq = 0</literal>" in
"<literal>/etc/sysctl.conf</literal>" will disable the Alt-SysRq feature.</simpara>
        </caution>
        <tip>
          <simpara>From SSH terminal etc., you can use the Alt-SysRq feature by writing to the
"<literal>/proc/sysrq-trigger</literal>". For example, "<literal>echo s &gt;
/proc/sysrq-trigger; echo u &gt; /proc/sysrq-trigger</literal>" from the
root shell prompt will <emphasis role="strong">s</emphasis>ync and <emphasis
role="strong">u</emphasis>mount all mounted filesystems.</simpara>
        </tip>
      </section>
    </section>
    <section id="_system_maintenance_tips">
      <title>System maintenance tips</title>
      <section id="_who_is_logged_on">
        <title>Who is logged on</title>
        <simpara>You can check who is logged on to the system with <literal>w</literal>(1) or
<literal>who</literal>(1).</simpara>
      </section>
      <section id="_warn_everyone">
        <title>Warn everyone</title>
        <simpara>You can send message to everyone who is logged on to the system with
<literal>wall</literal>(1):</simpara>
        <screen>$ echo "We are shutting down in 1 hour" | wall</screen>
      </section>
      <section id="_hardware_identification">
        <title>Hardware identification</title>
        <simpara>For the <ulink url="&pci;">PCI</ulink>-like devices (<ulink
url="&agp;">AGP</ulink>, <ulink url="&pciexpress;">PCI-Express</ulink>,
<ulink url="&cardbus;">CardBus</ulink>, <ulink
url="&expresscard;">ExpressCard</ulink>, etc.), <literal>lspci</literal>(8)
(probably with "<literal>-nn</literal>" option) is a good start for the
hardware identification</simpara>
        <simpara>Alternatively, you can identify the hardware by reading contents of
"<literal>/proc/bus/pci/devices</literal>" or browsing directory tree under
"<literal>/sys/bus/pci</literal>" (see <xref linkend="_procfs_and_sysfs"/>).</simpara>
        <table id="listofhardwareidntificationtools" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of hardware identification tools.</title>
          <tgroup cols="4">
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="288" align="left"/>
            <thead>
              <row>
                <entry>
    パッケージ
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    サイズ
    </entry>
                <entry>
    説明
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/pciutils">
<literal>pciutils</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/pciutils">&pop-pciutils;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/p/pciutils.html">&size-pciutils;</ulink></entry>
                <entry>
    Linux PCI Utilities, <literal>lspci</literal>(8)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/usbutils">
<literal>usbutils</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/usbutils">&pop-usbutils;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/u/usbutils.html">&size-usbutils;</ulink></entry>
                <entry>
    Linux USB utilities, <literal>lsusb</literal>(8)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/pcmciautils">
<literal>pcmciautils</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/pcmciautils">&pop-pcmciautils;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/p/pcmciautils.html">&size-pcmciautils;</ulink></entry>
                <entry>
    PCMCIA utilities for Linux 2.6, <literal>pccardctl</literal>(8)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/scsitools">
<literal>scsitools</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/scsitools">&pop-scsitools;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/s/scsitools.html">&size-scsitools;</ulink></entry>
                <entry>
    Collection of tools for SCSI hardware management,
<literal>lsscsi</literal>(8)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/pnputils">
<literal>pnputils</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/pnputils">&pop-pnputils;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/p/pnputils.html">&size-pnputils;</ulink></entry>
                <entry>
    Plug and Play BIOS utilities, <literal>lspnp</literal>(8)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/procinfo">
<literal>procinfo</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/procinfo">&pop-procinfo;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/p/procinfo.html">&size-procinfo;</ulink></entry>
                <entry>
    Displays system information from "<literal>/proc</literal>",
<literal>lsdev</literal>(8)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/lshw"> <literal>lshw</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/lshw">&pop-lshw;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/l/lshw.html">&size-lshw;</ulink></entry>
                <entry>
    Information about hardware configuration, <literal>lshw</literal>(1)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/discover">
<literal>discover</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/discover">&pop-discover;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/d/discover.html">&size-discover;</ulink></entry>
                <entry>
    Hardware identification system, <literal>discover</literal>(8)
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </section>
      <section id="_hardware_configuration">
        <title>ハードウエア設定</title>
        <simpara>Although most of the hardware configuration on modern GUI desktop systems
such as GNOME and KDE can be managed through accompanying GUI configuration
tools, it is a good idea to know some basics methods to configure them.</simpara>
        <table id="listofhardwareconfigurationtools" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of hardware configuration tools.</title>
          <tgroup cols="4">
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="288" align="left"/>
            <thead>
              <row>
                <entry>
    パッケージ
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    サイズ
    </entry>
                <entry>
    説明
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/hal"> <literal>hal</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/hal">&pop-hal;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/h/hal.html">&size-hal;</ulink></entry>
                <entry>
    Hardware Abstraction Layer, <literal>lshal</literal>(1)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/console-tools">
<literal>console-tools</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/console-tools">&pop-consoletools;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/c/console-tools.html">&size-consoletools;</ulink></entry>
                <entry>
    Linux console font and keytable utilities.
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/x11-xserver-utils">
<literal>x11-xserver-utils</literal> </ulink></entry>
                <entry><ulink
url="http://bugs.debian.org/x11-xserver-utils">&pop-xbbxserverutils;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/x/x11-xserver-utils.html">&size-xbbxserverutils;</ulink></entry>
                <entry>
    X server utilities. <literal>xset</literal>(1) and
<literal>xmodmap</literal>(1).
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/acpid"> <literal>acpid</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/acpid">&pop-acpid;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/a/acpid.html">&size-acpid;</ulink></entry>
                <entry>
    Daemon to manage events delivered by the Advanced Configuration and Power
Interface (ACPI)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/acpi"> <literal>acpi</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/acpi">&pop-acpi;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/a/acpi.html">&size-acpi;</ulink></entry>
                <entry>
    Utilities for ACPI devices
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/apmd"> <literal>apmd</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/apmd">&pop-apmd;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/a/apmd.html">&size-apmd;</ulink></entry>
                <entry>
    Daemon to manage events delivered by the Advanced Power Management (APM)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/powersaved">
<literal>powersaved</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/powersaved">&pop-powersaved;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/p/powersaved.html">&size-powersaved;</ulink></entry>
                <entry>
    Daemon to manage battery, temperature, ac, cpufreq (SpeedStep, Powernow!)
control and monitor with ACPI and APM supports.
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/noflushd">
<literal>noflushd</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/noflushd">&pop-noflushd;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/n/noflushd.html">&size-noflushd;</ulink></entry>
                <entry>
    Allow idle hard disks to spin down
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/sleepd">
<literal>sleepd</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/sleepd">&pop-sleepd;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/s/sleepd.html">&size-sleepd;</ulink></entry>
                <entry>
    Puts a laptop to sleep during inactivity
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/hdparm">
<literal>hdparm</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/hdparm">&pop-hdparm;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/h/hdparm.html">&size-hdparm;</ulink></entry>
                <entry>
    Hard disk access optimization.  Very effective but dangerous.  You must read
<literal>hdparm</literal>(8) first.
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/smartmontools">
<literal>smartmontools</literal> </ulink></entry>
                <entry><ulink
url="http://bugs.debian.org/smartmontools">&pop-smartmontools;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/s/smartmontools.html">&size-smartmontools;</ulink></entry>
                <entry>
    Control and monitor storage systems using S.M.A.R.T.
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/setserial">
<literal>setserial</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/setserial">&pop-setserial;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/s/setserial.html">&size-setserial;</ulink></entry>
                <entry>
    Collection of tools for serial port management.
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/memtest86+">
<literal>memtest86+</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/memtest86+">&pop-memtestig;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/m/memtest86+.html">&size-memtestig;</ulink></entry>
                <entry>
    Collection of tools for memory hardware management.
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/scsitools">
<literal>scsitools</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/scsitools">&pop-scsitools;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/s/scsitools.html">&size-scsitools;</ulink></entry>
                <entry>
    Collection of tools for SCSI hardware management.
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/tpconfig">
<literal>tpconfig</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/tpconfig">&pop-tpconfig;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/t/tpconfig.html">&size-tpconfig;</ulink></entry>
                <entry>
    A program to configure touchpad devices
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/setcd"> <literal>setcd</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/setcd">&pop-setcd;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/s/setcd.html">&size-setcd;</ulink></entry>
                <entry>
    Compact disc drive access optimization.
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/big-cursor">
<literal>big-cursor</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/big-cursor">&pop-bigcursor;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/b/big-cursor.html">&size-bigcursor;</ulink></entry>
                <entry>
    Larger mouse cursors for X
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>Here, ACPI is a newer framework for the power management system than APM.</simpara>
      </section>
      <section id="_system_and_hardware_time">
        <title>System and hardware time</title>
        <simpara>The following will set system and hardware time to MM/DD hh:mm, CCYY.</simpara>
        <screen># date MMDDhhmmCCYY
# hwclock --utc --systohc
# hwclock --show</screen>
        <simpara>Times are normally displayed in the local time on the Debian system but the
hardware and system time usually use UTC.</simpara>
        <simpara>If the hardware (BIOS) time is set to GMT, change the setting to
"<literal>UTC=yes</literal>" in the "<literal>/etc/default/rcS</literal>".</simpara>
        <simpara>If you wish to update system time via network, consider to use the NTP
service with the packages such as <literal>ntp</literal>,
<literal>ntpdate</literal>, and <literal>chrony</literal>. See:</simpara>
        <itemizedlist>
          <listitem>
            <simpara><ulink url="&managingaccuratedateandtimehowto;">Managing Accurate Date and
Time HOWTO</ulink>.
</simpara>
          </listitem>
          <listitem>
            <simpara><ulink url="&ntppublicservicesproject;">NTP Public Services Project</ulink>.
</simpara>
          </listitem>
          <listitem>
            <simpara>
The <literal>ntp-doc</literal> package
</simpara>
          </listitem>
        </itemizedlist>
        <tip>
          <simpara><literal>ntptrace</literal>(8) in the <literal>ntp</literal> package can
trace a chain of NTP servers back to the primary source.</simpara>
        </tip>
      </section>
      <section id="_the_terminal_configuration">
        <title>ターミナルの設定</title>
        <simpara>There are several components to configure character console and
<literal>ncurses</literal>(3) system features:</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
the "<literal>/etc/terminfo/*/*</literal>" file
(<literal>terminfo</literal>(5))
</simpara>
          </listitem>
          <listitem>
            <simpara>
the "<literal>$TERM</literal>" environment variable
(<literal>term</literal>(7))
</simpara>
          </listitem>
          <listitem>
            <simpara><literal>setterm</literal>(1), <literal>stty</literal>(1),
<literal>tic</literal>(1), and <literal>toe</literal>(1)
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>If the <literal>terminfo</literal> entry for <literal>xterm</literal>
doesn't work with a non-Debian <literal>xterm</literal>, change your
terminal type, "<literal>$TERM</literal>", from "<literal>xterm</literal>"
to one of the feature-limited versions such as "<literal>xterm-r6</literal>"
when you log in to a Debian system remotely.  See
"<literal>/usr/share/doc/libncurses5/FAQ</literal>" for more.
"<literal>dumb</literal>" is the lowest common denominator for
"<literal>$TERM</literal>".</simpara>
      </section>
      <section id="_the_sound_infrastructure">
        <title>The sound infrastructure</title>
        <simpara>Device drivers for sound cards for current Linux 2.6 are provided by <ulink
url="&advancedlinuxsouarchitecturealsa;">Advanced Linux Sound Architecture
(ALSA)</ulink>.  ALSA provides emulation mode for previous <ulink
url="&opensoundsystemoss;">Open Sound System (OSS)</ulink> for
compatibility.</simpara>
        <simpara>Run "<literal>dpkg-reconfigure linux-sound-base</literal>" to select the
sound system to use ALSA via blacklisting of kernel modules. Unless you have
very new sound hardware, udev infrastructure should configure your sound
system.</simpara>
        <tip>
          <simpara>Use "<literal>cat /dev/urandom &gt; /dev/audio</literal>" or
<literal>speaker-test</literal>(1) to test speaker. (^C to stop)</simpara>
        </tip>
        <tip>
          <simpara>If you can not get sound, your speaker may be connected to a muted output.
Modern sound system has many outputs.  <literal>alsamixer</literal>(1) in
the <literal>alsa-utils</literal> package is useful to configure volume and
mute settings.</simpara>
        </tip>
        <simpara>Application softwares may be configured not only to access sound devices
directly but also to access them via some standardized sound server system.</simpara>
        <table id="listofsoundpackages" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>サウンドパッケージのリスト。</title>
          <tgroup cols="4">
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="288" align="left"/>
            <thead>
              <row>
                <entry>
    パッケージ
    </entry>
                <entry>
    Popcon
    </entry>
                <entry>
    サイズ
    </entry>
                <entry>
    説明
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/linux-sound-base">
<literal>linux-sound-base</literal> </ulink></entry>
                <entry><ulink
url="http://bugs.debian.org/linux-sound-base">&pop-linuxsoundbase;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/l/linux-sound-base.html">&size-linuxsoundbase;</ulink></entry>
                <entry>
    Base package for ALSA and OSS sound systems
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/alsa-base">
<literal>alsa-base</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/alsa-base">&pop-alsabase;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/a/alsa-base.html">&size-alsabase;</ulink></entry>
                <entry>
    ALSA driver configuration files
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/alsa-utils">
<literal>alsa-utils</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/alsa-utils">&pop-alsautils;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/a/alsa-utils.html">&size-alsautils;</ulink></entry>
                <entry>
    Utilities for configuring and using ALSA
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/oss-compat">
<literal>oss-compat</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/oss-compat">&pop-osscompat;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/o/oss-compat.html">&size-osscompat;</ulink></entry>
                <entry>
    OSS compatibility under ALSA preventing "<literal>/dev/dsp not
found</literal>" errors
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/esound-common">
<literal>esound-common</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/esound-common">&pop-esoundcommon;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/e/esound-common.html">&size-esoundcommon;</ulink></entry>
                <entry><ulink url="&enlightenedsounddaemonesd;">Enlightened Sound Daemon
(ESD)</ulink> common (Enlightenment and GNOME)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/esound">
<literal>esound</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/esound">&pop-esound;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/e/esound.html">&size-esound;</ulink></entry>
                <entry><ulink url="&enlightenedsounddaemonesd;">Enlightened Sound Daemon
(ESD)</ulink> server (Enlightenment and GNOME)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/esound-clients">
<literal>esound-clients</literal> </ulink></entry>
                <entry><ulink
url="http://bugs.debian.org/esound-clients">&pop-esoundclients;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/e/esound-clients.html">&size-esoundclients;</ulink></entry>
                <entry><ulink url="&enlightenedsounddaemonesd;">Enlightened Sound Daemon
(ESD)</ulink> client (Enlightenment and GNOME)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/libesd-alsa0">
<literal>libesd-alsa0</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/libesd-alsa0">&pop-libesdalsaa;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/libe/libesd-alsa0.html">&size-libesdalsaa;</ulink></entry>
                <entry><ulink url="&enlightenedsounddaemonesd;">Enlightened Sound Daemon
(ESD)</ulink> library Enlightenment and GNOME)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/libesd0">
<literal>libesd0</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/libesd0">&pop-libesda;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/libe/libesd0.html">&size-libesda;</ulink></entry>
                <entry><ulink url="&enlightenedsounddaemonesd;">Enlightened Sound Daemon
(ESD)</ulink> library (Enlightenment and GNOME) - OSS
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/arts"> <literal>arts</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/arts">&pop-arts;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/a/arts.html">&size-arts;</ulink></entry>
                <entry><ulink url="&arts;">aRts</ulink> server (KDE)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/libarts1c2a">
<literal>libarts1c2a</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/libarts1c2a">&pop-libartsbcca;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/liba/libarts1c2a.html">&size-libartsbcca;</ulink></entry>
                <entry><ulink url="&arts;">aRts</ulink> library (KDE)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/libartsc0">
<literal>libartsc0</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/libartsc0">&pop-libartsca;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/liba/libartsc0.html">&size-libartsca;</ulink></entry>
                <entry><ulink url="&arts;">aRts</ulink> library (KDE)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/jackd"> <literal>jackd</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/jackd">&pop-jackd;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/j/jackd.html">&size-jackd;</ulink></entry>
                <entry><ulink url="&jackaudioconnectionkitjack;">JACK Audio Connection
Kit. (JACK)</ulink> server (low latency)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/libjack0">
<literal>libjack0</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/libjack0">&pop-libjacka;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/libj/libjack0.html">&size-libjacka;</ulink></entry>
                <entry><ulink url="&jackaudioconnectionkitjack;">JACK Audio Connection
Kit. (JACK)</ulink> library (low latency)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/libjack0.100.0-0">
<literal>libjack0.100.0-0</literal> </ulink></entry>
                <entry><ulink
url="http://bugs.debian.org/libjack0.100.0-0">&pop-libjackabaaaa;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/libj/libjack0.100.0-0.html">&size-libjackabaaaa;</ulink></entry>
                <entry><ulink url="&jackaudioconnectionkitjack;">JACK Audio Connection
Kit. (JACK)</ulink> library (low latency)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/nas"> <literal>nas</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/nas">&pop-nas;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/n/nas.html">&size-nas;</ulink></entry>
                <entry><ulink url="&networkaudiosystemnas;">Network Audio System (NAS)</ulink>
server
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/libaudio2">
<literal>libaudio2</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/libaudio2">&pop-libaudioc;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/liba/libaudio2.html">&size-libaudioc;</ulink></entry>
                <entry><ulink url="&networkaudiosystemnas;">Network Audio System (NAS)</ulink>
library
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/pulseaudio">
<literal>pulseaudio</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/pulseaudio">&pop-pulseaudio;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/p/pulseaudio.html">&size-pulseaudio;</ulink></entry>
                <entry><ulink url="&pulseaudio;">PulseAudio</ulink> server, replacement for ESD
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/libpulse0">
<literal>libpulse0</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/libpulse0">&pop-libpulsea;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/libp/libpulse0.html">&size-libpulsea;</ulink></entry>
                <entry><ulink url="&pulseaudio;">PulseAudio</ulink> client library, replacement for
ESD
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/libpulsecore9">
<literal>libpulsecore9</literal> </ulink></entry>
                <entry><ulink
url="http://bugs.debian.org/libpulsecore9">&pop-libpulsecorej;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/libp/libpulsecore9.html">&size-libpulsecorej;</ulink></entry>
                <entry><ulink url="&pulseaudio;">PulseAudio</ulink> server library, replacement for
ESD
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/libgstreamer0.10-0">
<literal>libgstreamer0.10-0</literal> </ulink></entry>
                <entry><ulink
url="http://bugs.debian.org/libgstreamer0.10-0">&pop-libgstreamerabaa;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/libg/libgstreamer0.10-0.html">&size-libgstreamerabaa;</ulink></entry>
                <entry><ulink url="&gstreamer;">GStreamer</ulink>: GNOME sound engine
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/libxine1">
<literal>libxine1</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/libxine1">&pop-libxineb;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/libx/libxine1.html">&size-libxineb;</ulink></entry>
                <entry><ulink url="&xine;">xine</ulink>: KDE older sound engine
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/libphonon4">
<literal>libphonon4</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/libphonon4">&pop-libphonone;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/libp/libphonon4.html">&size-libphonone;</ulink></entry>
                <entry><ulink url="&phonon;">Phonon</ulink>: KDE new sound engine
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>There is usually a common sound engine for each popular desktop
environment. Each sound engine used by the application can choose to connect
to different sound servers.</simpara>
      </section>
      <section id="_disable_the_screen_saver">
        <title>Disable the screen saver</title>
        <simpara>For disabling the screen saver, use following commands.</simpara>
        <table id="listofcommandsfongthescreensaver" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of commands for disabling the screen saver.</title>
          <tgroup cols="2">
            <colspec colwidth="144" align="left"/>
            <colspec colwidth="360" align="left"/>
            <thead>
              <row>
                <entry>
    environment
    </entry>
                <entry>
    コマンド
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
    The Linux console
    </entry>
                <entry>
                  <literal>setterm -powersave off</literal>
                </entry>
              </row>
              <row>
                <entry>
    The X Window by turning off screensaver
    </entry>
                <entry>
                  <literal>xset s off</literal>
                </entry>
              </row>
              <row>
                <entry>
    The X Window by disabling dpms
    </entry>
                <entry>
                  <literal>xset -dpms</literal>
                </entry>
              </row>
              <row>
                <entry>
    The X Window by GUI configuration of screen saver
    </entry>
                <entry>
                  <literal>xscreensaver-command -prefs</literal>
                </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </section>
      <section id="_disable_the_sound_beep">
        <title>Disable the sound (beep)</title>
        <simpara>One can always unplug the PC speaker.  ;-)  Removing
<literal>pcspkr</literal> kernel module does this for you.</simpara>
        <simpara>The following will prevent the <literal>readline</literal>(3) program used
by <literal>bash</literal>(1) to beep when encountering
"<literal>\a</literal>" (ASCII=7):</simpara>
        <screen>$ echo "set bell-style none"&gt;&gt; ~/.inputrc</screen>
      </section>
      <section id="_memory_usage">
        <title>使用メモリ</title>
        <simpara>The kernel boot message in the "<literal>/var/log/dmesg</literal>" contains
the total exact size of available memory.</simpara>
        <simpara><literal>free</literal>(1) and <literal>top</literal>(1) display information
on memory resources on the running system.</simpara>
        <screen>$ grep '\] Memory' /var/log/dmesg
[    0.004000] Memory: 990528k/1016784k available (1975k kernel code, 25868k reserved, 931k data, 296k init)
$ free -k
             total       used       free     shared    buffers     cached
Mem:        997184     976928      20256          0     129592     171932
-/+ buffers/cache:     675404     321780
Swap:      4545576          4    4545572</screen>
        <simpara>For my MacBook with 1GB=1048576k DRAM (video system steals some of this):</simpara>
        <table id="listofmemorysizesreported" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of memory sizes reported.</title>
          <tgroup cols="2">
            <colspec colwidth="144" align="left"/>
            <colspec colwidth="360" align="left"/>
            <thead>
              <row>
                <entry>
    報告
    </entry>
                <entry>
    サイズ
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
    Total size in dmesg
    </entry>
                <entry>
    1016784k = 1GB - 31792k
    </entry>
              </row>
              <row>
                <entry>
    Free in dmesg
    </entry>
                <entry>
    990528k
    </entry>
              </row>
              <row>
                <entry>
    Total under shell
    </entry>
                <entry>
    997184k
    </entry>
              </row>
              <row>
                <entry>
    Free under shell
    </entry>
                <entry>
    20256k
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>Do not worry about the large size of "<literal>used</literal>" and the small
size of "<literal>free</literal>" in the "<literal>Mem:</literal>" line, but
read the one under them (675404 and 321780 in the example below) and relax.</simpara>
      </section>
      <section id="_system_security_and_integrity_check">
        <title>System security and integrity check</title>
        <simpara>Poor system maintenance may expose your system to external exploitation.</simpara>
        <simpara>For system security and integrity check, you should start with:</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
the <literal>debsums</literal> package: See <literal>debsums</literal>(1)
and <xref linkend="_top_level_release_file_and_authenticity"/>.
</simpara>
          </listitem>
          <listitem>
            <simpara>
the <literal>chkrootkit</literal> package: See
<literal>chkrootkit</literal>(1).
</simpara>
          </listitem>
          <listitem>
            <simpara>
the <literal>clamav</literal> package family: See
<literal>clamscan</literal>(1) and <literal>freahclam</literal>(1).
</simpara>
          </listitem>
          <listitem>
            <simpara><ulink url="&debiansecurityfaq;">Debian security FAQ</ulink>.
</simpara>
          </listitem>
          <listitem>
            <simpara><ulink url="&securingdebianmanual;">Securing Debian Manual</ulink>.
</simpara>
          </listitem>
        </itemizedlist>
        <table id="listoftoolsforsyndintegritycheck" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>システムセキュリティや整合性確認のためのツールリスト</title>
          <tgroup cols="4">
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="288" align="left"/>
            <thead>
              <row>
                <entry>
    パッケージ
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    サイズ
    </entry>
                <entry>
    説明
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/logcheck">
<literal>logcheck</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/logcheck">&pop-logcheck;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/l/logcheck.html">&size-logcheck;</ulink></entry>
                <entry>
    This mails anomalies in the system logfiles to the administrator
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/debsums">
<literal>debsums</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/debsums">&pop-debsums;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/d/debsums.html">&size-debsums;</ulink></entry>
                <entry>
    こうしてインストールされたパッケージファイルはMD5チェックサムを使って検証されます。
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/chkrootkit">
<literal>chkrootkit</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/chkrootkit">&pop-chkrootkit;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/c/chkrootkit.html">&size-chkrootkit;</ulink></entry>
                <entry><ulink url="&rootkit;">ルートキット</ulink>検出器。
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/clamav">
<literal>clamav</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/clamav">&pop-clamav;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/c/clamav.html">&size-clamav;</ulink></entry>
                <entry>
    Unix用アンチウィルスユーティリティー -- コマンドラインインターフェース
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/tiger"> <literal>tiger</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/tiger">&pop-tiger;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/t/tiger.html">&size-tiger;</ulink></entry>
                <entry>
    Report system security vulnerabilities
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/tripwire">
<literal>tripwire</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/tripwire">&pop-tripwire;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/t/tripwire.html">&size-tripwire;</ulink></entry>
                <entry>
    ファイルやディレクトリの整合性チェッカー
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/john"> <literal>john</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/john">&pop-john;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/j/john.html">&size-john;</ulink></entry>
                <entry>
    Active password cracking tool
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/aide"> <literal>aide</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/aide">&pop-aide;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/a/aide.html">&size-aide;</ulink></entry>
                <entry>
    Advanced Intrusion Detection Environment - static binary
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/bastille">
<literal>bastille</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/bastille">&pop-bastille;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/b/bastille.html">&size-bastille;</ulink></entry>
                <entry>
    セキュリティ強化ツール
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/integrit">
<literal>integrit</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/integrit">&pop-integrit;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/i/integrit.html">&size-integrit;</ulink></entry>
                <entry>
    A file integrity verification program
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/crack"> <literal>crack</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/crack">&pop-crack;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/c/crack.html">&size-crack;</ulink></entry>
                <entry>
    Password guessing program
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>Here is a simple script to check for typical world writable incorrect file
permissions.</simpara>
        <screen># find / -perm 777 -a \! -type s -a \! -type l -a \! \( -type d -a -perm 1777 \)</screen>
        <caution>
          <simpara>Since the <literal>debsums</literal> package uses MD5 checksums stored
locally, it can not be fully trusted as the system security audit tool
against malicious attacks.</simpara>
        </caution>
      </section>
    </section>
    <section id="_the_kernel">
      <title>カーネル</title>
      <simpara>Debian distributes modularized Linux kernel as packages for supported
architectures.</simpara>
      <section id="_linux_kernel_2_6">
        <title>Linux kernel 2.6</title>
        <simpara>There are few notable features on Linux kernel 2.6 compared to 2.4.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
Devices are created by the udev system (see <xref
linkend="_the_udev_system"/>).
</simpara>
          </listitem>
          <listitem>
            <simpara>
Read/write accesses to IDE CD/DVD devices do not use the
<literal>ide-scsi</literal> module.
</simpara>
          </listitem>
          <listitem>
            <simpara>
Network packet filtering functions use <literal>iptable</literal> kernel
modules.
</simpara>
          </listitem>
        </itemizedlist>
      </section>
      <section id="_kernel_headers">
        <title>Kernel headers</title>
        <simpara>Most <emphasis role="strong">normal programs</emphasis> don't need kernel
headers and in fact may break if you use them directly for compiling. They
should be compiled against the headers in
"<literal>/usr/include/linux</literal>" and
"<literal>/usr/include/asm</literal>" provided by the
<literal>libc6-dev</literal> package (created from the
<literal>glibc</literal> source package) on the Debian system.</simpara>
        <note>
          <simpara>For compiling some kernel-specific programs such as the kernel modules from
the external source and the automounter daemon (<literal>amd</literal>), you
must include path to the corresponding kernel headers,
e.g. "<literal>-I/usr/src/linux-particular-version/include/</literal>", to
your command line. <literal>module-assistant</literal>(8) (or its short form
<literal>m-a</literal>) helps users to build and install module package(s)
easily for one or more custom kernels.</simpara>
        </note>
      </section>
      <section id="_kernel_and_module_compile">
        <title>Kernel and module compile</title>
        <simpara>Debian has its own method of compiling the kernel and related modules.</simpara>
        <table id="listofkeypackagenthedebiansystem" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>Debianシステム上でカーネルの再コンパイルためにインストールする重要パッケージのリスト</title>
          <tgroup cols="4">
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="288" align="left"/>
            <thead>
              <row>
                <entry>
    パッケージ
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    サイズ
    </entry>
                <entry>
    説明
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/build-essential">
<literal>build-essential</literal> </ulink></entry>
                <entry><ulink
url="http://bugs.debian.org/build-essential">&pop-buildessential;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/b/build-essential.html">&size-buildessential;</ulink></entry>
                <entry>
    essential packages for building Debian packages: <literal>make</literal>,
<literal>gcc</literal>, …
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/bzip2"> <literal>bzip2</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/bzip2">&pop-bzipc;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/b/bzip2.html">&size-bzipc;</ulink></entry>
                <entry>
    compress and decompress utilities for bz2 files
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/libncurses5-dev">
<literal>libncurses5-dev</literal> </ulink></entry>
                <entry><ulink
url="http://bugs.debian.org/libncurses5-dev">&pop-libncursesfdev;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/libn/libncurses5-dev.html">&size-libncursesfdev;</ulink></entry>
                <entry>
    developer's libraries and docs for ncurses
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/git-core">
<literal>git-core</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/git-core">&pop-gitcore;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/g/git-core.html">&size-gitcore;</ulink></entry>
                <entry>
    git: distributed revision control system used by the Linux kernel
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/fakeroot">
<literal>fakeroot</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/fakeroot">&pop-fakeroot;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/f/fakeroot.html">&size-fakeroot;</ulink></entry>
                <entry>
    provide fakeroot environment for building package as non-root
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/initramfs-tools">
<literal>initramfs-tools</literal> </ulink></entry>
                <entry><ulink
url="http://bugs.debian.org/initramfs-tools">&pop-initramfstools;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/i/initramfs-tools.html">&size-initramfstools;</ulink></entry>
                <entry>
    tool to build an initramfs (Debian specific)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/kernel-package">
<literal>kernel-package</literal> </ulink></entry>
                <entry><ulink
url="http://bugs.debian.org/kernel-package">&pop-kernelpackage;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/k/kernel-package.html">&size-kernelpackage;</ulink></entry>
                <entry>
    tool to build Linux kernel packages (Debian specific)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/module-assistant">
<literal>module-assistant</literal> </ulink></entry>
                <entry><ulink
url="http://bugs.debian.org/module-assistant">&pop-moduleassistant;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/m/module-assistant.html">&size-moduleassistant;</ulink></entry>
                <entry>
    tool to help build module packages (Debian specific)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/devscripts">
<literal>devscripts</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/devscripts">&pop-devscripts;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/d/devscripts.html">&size-devscripts;</ulink></entry>
                <entry>
    helper scripts for a Debian Package maintainer (Debian specific)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>linux-tree-2.6.*</literal>
                </entry>
                <entry>
    N/A
    </entry>
                <entry>
    N/A
    </entry>
                <entry>
    Linuxカーネルのソースツリーのメタパッケージ(Debian固有)
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>If you use <literal>initrd</literal> in <xref
linkend="_stage_2_the_boot_loader"/>, make sure to read the related
information in <literal>initramfs-tools</literal>(8),
<literal>update-initramfs</literal>(8), <literal>mkinitramfs</literal>(8)
and <literal>initramfs.conf</literal>(5).</simpara>
        <warning>
          <simpara>Do not put symlinks to the directories in the source tree
(e.g. "<literal>/usr/src/linux*</literal>") from
"<literal>/usr/include/linux</literal>" and
"<literal>/usr/include/asm</literal>" when compiling the Linux kernel
source. (Some outdated documents suggest this.)</simpara>
        </warning>
        <note>
          <simpara>When compiling the latest Linux kernel on the Debian
<literal>stable</literal> system, the use of backported latest tools from
the Debian <literal>unstable</literal> may be needed.</simpara>
        </note>
      </section>
      <section id="_kernel_source_compile_debian_standard_method">
        <title>Kernel source compile: Debian standard method</title>
        <simpara>The Debian standard method for compiling kernel source to create a custom
kernel package uses <literal>make-kpkg</literal>(1). The official
documentation is in (the bottom of)
"<literal>/usr/share/doc/kernel-package/README.gz</literal>".  See
<literal>kernel-pkg.conf</literal>(5) and
<literal>kernel-img.conf</literal>(5) for customization.</simpara>
        <simpara>Here is an example for amd64 system:</simpara>
        <screen># aptitude install linux-tree-&lt;version&gt;
$ cd /usr/src
$ tar -xjvf linux-source-&lt;version&gt;.tar.bz2
$ cd linux-source-&lt;version&gt;
$ cp /boot/config-&lt;oldversion&gt; .config
$ make menuconfig
 ...
$ make-kpkg clean
$ fakeroot make-kpkg --append_to_version -amd64 --initrd --revision=rev.01 kernel_image modules_image
$ cd ..
# dpkg -i linux-image*.deb</screen>
        <itemizedlist>
          <listitem>
            <simpara>
reboot to new kernel with "<literal>shutdown -r now</literal>" .
</simpara>
          </listitem>
        </itemizedlist>
        <caution>
          <simpara>When you intend to create a non-modularized kernel compiled only for one
machine, invoke <literal>make-kpkg</literal> without
"<literal>--initrd</literal>" option since initrd is not used. Invocation of
"<literal>make oldconfig</literal>" and "<literal>make dep</literal>" are
not required since "<literal>make-kpkg kernel_image</literal>" invokes them.</simpara>
        </caution>
      </section>
      <section id="_module_source_compile_debian_standard_method">
        <title>Module source compile: Debian standard method</title>
        <simpara>The Debian standard method for creating and installing a custom module
package for a custom kernel package uses
<literal>module-assistant</literal>(8) and module-source packages. For
example, following will build the <literal>unionfs</literal> kernel module
package and installs it.</simpara>
        <screen>$ sudo aptitude install module-assistant
...
$ sudo aptitude install unionfs-source unionfs-tools unionfs-utils
$ sudo m-a update
$ sudo m-a prepare
$ sudo m-a auto-install unionfs
...
$ sudo apt-get autoremove</screen>
      </section>
      <section id="_kernel_source_compile_classic_method">
        <title>Kernel source compile: classic method</title>
        <simpara>You can still build <ulink url="&linuxkernelfromtepristinesources;">Linux
kernel from the pristine sources</ulink> with the classic method.  You must
take care the details of the system configuration manually.</simpara>
        <screen>$ cd /usr/src
$ wget http://www.kernel.org/pub/linux/kernel/v2.6/linux-&lt;version&gt;.tar.bz2
$ tar -xjvf linux-&lt;version&gt;.tar.bz2
$ cd linux-&lt;version&gt;
$ cp /boot/config-&lt;version&gt; .config
$ make menuconfig
 ...
$ make dep; make bzImage
$ make modules
# cp ./arch/x86_64/boot/bzImage /boot/vmlinuz-&lt;version&gt;
# make modules_install
# depmod -a
# update-initramfs -c -k &lt;version&gt;</screen>
        <itemizedlist>
          <listitem>
            <simpara>
set up bootloader
</simpara>
            <itemizedlist>
              <listitem>
                <simpara>
edit "<literal>/etc/lilo.conf</literal>" and run
"<literal>/sbin/lilo</literal>", if you use <literal>lilo</literal>.
</simpara>
              </listitem>
              <listitem>
                <simpara>
edit "<literal>/boot/grub/menu.lst</literal>", if you use
<literal>grub</literal>.
</simpara>
              </listitem>
            </itemizedlist>
          </listitem>
          <listitem>
            <simpara>
reboot to new kernel with "<literal>shutdown -r now</literal>".
</simpara>
          </listitem>
        </itemizedlist>
      </section>
      <section id="_non_free_hardware_drivers">
        <title>Non-free hardware drivers</title>
        <simpara>Although most of hardware drivers are available as free software and as a
part of the Debian system, you may need to load some non-free external
drivers to support some hardwares, such as Winmodem, on your system.</simpara>
        <simpara>Check pertinent resources:</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
              <ulink
url="&httpenwikipediaorgwikisoftmodem;">http://en.wikipedia.org/wiki/Softmodem</ulink>
            </simpara>
          </listitem>
          <listitem>
            <simpara>
              <ulink
url="&httpenwikipediaowireless_drivers;">http://en.wikipedia.org/wiki/Comparison_of_open_source_wireless_drivers</ulink>
            </simpara>
          </listitem>
          <listitem>
            <simpara><ulink url="&google;">Google</ulink> or other search engines with keyword
"Linmodem".
</simpara>
          </listitem>
          <listitem>
            <simpara>
              <ulink
url="&httpndiswrappersourceforgenet;">http://ndiswrapper.sourceforge.net</ulink>
            </simpara>
          </listitem>
          <listitem>
            <simpara>
              <ulink url="&httplinuxwirelessorg;">http://linuxwireless.org</ulink>
            </simpara>
          </listitem>
          <listitem>
            <simpara><ulink url="&httpmadwifiprojectorg;">http://madwifi-project.org</ulink>
(there is ath5k which contains free drivers)
</simpara>
          </listitem>
        </itemizedlist>
      </section>
    </section>
    <section id="_chroot_system">
      <title>Chrootシステム</title>
      <simpara><literal>chroot</literal>(8) is most basic way to run different instances of
the GNU/Linux environment on a single system simultaneously without
rebooting. I will explain simple <ulink url="&chroot;">chroot</ulink>
systems in the following as examples.</simpara>
      <caution>
        <simpara>Examples below assumes both parent system and chroot system share the same
CPU architecture.</simpara>
      </caution>
      <simpara>For serious chroot setup with the detail configuration, such as
<literal>i386</literal> chroot system under <literal>amd64</literal> parent
system, please consider to use the specialized <literal>schroot</literal>
package.</simpara>
      <section id="_run_a_different_debian_distribution_with_chroot">
        <title>Run a different Debian distribution with chroot</title>
        <simpara>A chroot Debian environment can easily be created by
<literal>debootstrap</literal>(8) or <literal>cdebootstrap</literal>(1).</simpara>
        <simpara>For example, the following will create a <literal>sid</literal> chroot on
"<literal>/sid-root</literal>" while having fast Internet access:</simpara>
        <screen>main # debootstrap sid /sid-root http://ftp.debian.org/debian/</screen>
        <itemizedlist>
          <listitem>
            <simpara>
watch it download the whole system
</simpara>
          </listitem>
        </itemizedlist>
        <screen>main # echo "proc-sid    /sid-root/proc     proc   none 0 0" &gt;&gt; /etc/fstab
main # echo "devpts-sid  /sid-root/dev/pts  devpts defaults 0 0" &gt;&gt; /etc/fstab
main # mount -a
main # cp -f /etc/passwd /sid-root/etc/passwd
main # cp -f /etc/shadow /sid-root/etc/shadow
main # cp -f /etc/group  /sid-root/etc/group
main # cp -f /etc/hosts  /sid-root/etc/hosts
main # chroot /sid-root /bin/bash
chroot # cd /dev; /sbin/MAKEDEV generic ; cd -
chroot # vi /etc/apt/sources.list</screen>
        <itemizedlist>
          <listitem>
            <simpara>
point the source to unstable
</simpara>
          </listitem>
        </itemizedlist>
        <screen>chroot # aptitude update
...
chroot # aptitude install locales
...</screen>
        <itemizedlist>
          <listitem>
            <simpara>
add "en_US.UTF-8" as locale and make it default
</simpara>
          </listitem>
        </itemizedlist>
        <screen>Do you want to continue? [Y/n/?] y
chroot # aptitude install mc vim
...
Do you want to continue? [Y/n/?] y
...
chroot # exit
main #</screen>
        <simpara>At this point you should have a fully working Debian sid system, where you
can play around without fear of affecting your main Debian installation.</simpara>
        <caution>
          <simpara>If you use bind mount for directories such as home directory in the chroot,
you must be careful for its side effects.  I heard people lost their home
directory after executing "<literal>rm -rf /sid-root</literal>" <emphasis
role="strong">without unbinding</emphasis> their home directory in the
chroot. A <emphasis role="strong">bind mount</emphasis> is not normally
visible with <literal>df</literal>(1), you need to execute "<literal>df
-a</literal>" to see it.</simpara>
        </caution>
        <simpara>This <literal>debootstrap</literal> trick can also be used to <ulink
url="&installdebian;">install Debian</ulink> to a system without using a
Debian install disk, but instead from another GNU/Linux distribution.</simpara>
      </section>
      <section id="_setting_up_login_for_chroot">
        <title>Setting up login for chroot</title>
        <simpara>Typing "<literal>chroot /sid-root /bin/bash</literal>" is easy, but it
retains all sorts of environment variables that you may not want, and has
other issues.  A much better approach is to run another login process on a
separate virtual terminal where you can log in to the chroot directly.</simpara>
        <simpara>Since on default Debian systems <literal>tty1</literal> to
<literal>tty6</literal> run Linux consoles and <literal>tty7</literal> runs
the X Window System, let's set up <literal>tty8</literal> for a chrooted
console as an example.  After creating a chroot system, type from the root
shell of the main system:</simpara>
        <screen>main # echo "8:23:respawn:/usr/sbin/chroot /sid-root /sbin/getty 38400 tty8"  &gt;&gt; /etc/inittab
main # init q</screen>
        <itemizedlist>
          <listitem>
            <simpara>
reload init
</simpara>
          </listitem>
        </itemizedlist>
      </section>
      <section id="_setting_up_x_for_chroot">
        <title>Setting up X for chroot</title>
        <simpara>You want to run the latest X and GNOME safely in your chroot? That's
entirely possible! The following example will make GDM run on virtual
terminal <literal>vt9</literal>.</simpara>
        <simpara>First install a chroot system.  From the root of the main system, copy key
configuration files to the chroot system.</simpara>
        <screen>main # cp /etc/X11/xorg.conf /sid-root/etc/X11/xorg.conf
main # chroot /sid-root
chroot # cd /dev; /sbin/MAKEDEV generic ; cd -
chroot # aptitude install gdm gnome x-window-system
chroot # vim /etc/gdm/gdm.conf</screen>
        <itemizedlist>
          <listitem>
            <simpara>
change "<literal>[servers]</literal>" section with
"<literal>s/vt7/vt9/</literal>" to make the first virtual console in the
chroot from <literal>vt7</literal> to <literal>vt9</literal>.
</simpara>
          </listitem>
        </itemizedlist>
        <screen>chroot # /etc/init.d/gdm start</screen>
        <simpara>Now you can easily switch back and forth between full X environments in your
chroot and your main system just by switching between Linux virtual
terminals; e.g.  by using Ctrl-Alt-F7 and Ctrl-Alt-F9.  Have fun!</simpara>
      </section>
      <section id="_run_other_distributions_with_chroot">
        <title>Run other distributions with chroot</title>
        <simpara>A chroot environment for another Linux distribution can easily be
created. You install a system into separate partitions using the installer
of the other distribution.  If its root partition is in
"<literal>/dev/hda9</literal>":</simpara>
        <screen>main # cd / ; mkdir /other-dist
main # mount -t ext3 /dev/hda9 /other-dist
main # chroot /other-dist /bin/bash</screen>
      </section>
      <section id="_build_packages_under_chroot">
        <title>Build packages under chroot</title>
        <simpara>There is a more specialized chroot package, <literal>pbuilder</literal>,
which constructs a chroot system and builds a package inside the chroot.  It
is an ideal system to use to check that a package's build-dependencies are
correct, and to be sure that unnecessary and wrong build dependencies will
not exist in the resulting package.</simpara>
      </section>
      <section id="_other_virtualization_tools">
        <title>Other virtualization tools</title>
        <simpara>There are several system <ulink
url="&virtualization;">virtualization</ulink> and <ulink
url="&emulation;">emulation</ulink> related packages in Debian beyond simple
<ulink url="&chroot;">chroot</ulink>.</simpara>
        <table id="listofvirtualizationtools" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of virtualization tools</title>
          <tgroup cols="4">
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="288" align="left"/>
            <thead>
              <row>
                <entry>
    パッケージ
    </entry>
                <entry>
    Popcon
    </entry>
                <entry>
    サイズ
    </entry>
                <entry>
    説明
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/schroot">
<literal>schroot</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/schroot">&pop-schroot;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/s/schroot.html">&size-schroot;</ulink></entry>
                <entry>
    Specialized tool for executing Debian binary packages in chroot
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/sbuild">
<literal>sbuild</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/sbuild">&pop-sbuild;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/s/sbuild.html">&size-sbuild;</ulink></entry>
                <entry>
    Tool for building Debian binary packages from Debian sources
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/pbuilder">
<literal>pbuilder</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/pbuilder">&pop-pbuilder;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/p/pbuilder.html">&size-pbuilder;</ulink></entry>
                <entry>
    Debianパッケージの個人的なパッケージビルダー
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/debootstrap">
<literal>debootstrap</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/debootstrap">&pop-debootstrap;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/d/debootstrap.html">&size-debootstrap;</ulink></entry>
                <entry>
    Bootstrap a basic Debian system (written in sh)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/cdebootstrap">
<literal>cdebootstrap</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/cdebootstrap">&pop-cdebootstrap;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/c/cdebootstrap.html">&size-cdebootstrap;</ulink></entry>
                <entry>
    Bootstrap a Debian system (written in C)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/rootstrap">
<literal>rootstrap</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/rootstrap">&pop-rootstrap;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/r/rootstrap.html">&size-rootstrap;</ulink></entry>
                <entry>
    A tool for building complete Linux filesystem images
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/user-mode-linux">
<literal>user-mode-linux</literal> </ulink></entry>
                <entry><ulink
url="http://bugs.debian.org/user-mode-linux">&pop-usermodelinux;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/u/user-mode-linux.html">&size-usermodelinux;</ulink></entry>
                <entry><ulink url="&usermodelinux;">User-mode Linux</ulink> (kernel)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/xen-tools">
<literal>xen-tools</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/xen-tools">&pop-xentools;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/x/xen-tools.html">&size-xentools;</ulink></entry>
                <entry>
    Tools to manage debian <ulink url="&xen;">XEN</ulink> virtual server
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/bochs"> <literal>bochs</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/bochs">&pop-bochs;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/b/bochs.html">&size-bochs;</ulink></entry>
                <entry><ulink url="&bochs;">Bochs</ulink>: IA-32 PC emulator
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/qemu"> <literal>qemu</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/qemu">&pop-qemu;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/q/qemu.html">&size-qemu;</ulink></entry>
                <entry><ulink url="&qemu;">Qemu</ulink>: fast generic processor emulator
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/virtualbox-ose">
<literal>virtualbox-ose</literal> </ulink></entry>
                <entry><ulink
url="http://bugs.debian.org/virtualbox-ose">&pop-virtualboxose;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/v/virtualbox-ose.html">&size-virtualboxose;</ulink></entry>
                <entry><ulink url="&virtualbox;">VirtualBox</ulink>: x86 virtualization solution on
i386 and amd64
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/wine"> <literal>wine</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/wine">&pop-wine;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/w/wine.html">&size-wine;</ulink></entry>
                <entry><ulink url="&wine;">Wine</ulink>: Windows API Implementation (standard
suite)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/dosbox">
<literal>dosbox</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/dosbox">&pop-dosbox;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/d/dosbox.html">&size-dosbox;</ulink></entry>
                <entry><ulink url="&dosbox;">DOSBox</ulink>: x86 emulator with
Tandy/Herc/CGA/EGA/VGA/SVGA graphics, sound and DOS
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/util-vserver">
<literal>util-vserver</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/util-vserver">&pop-utilvserver;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/u/util-vserver.html">&size-utilvserver;</ulink></entry>
                <entry><ulink url="&linuxvserver;">Linux-VServer</ulink> virtual private servers -
user-space tools
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/vzctl"> <literal>vzctl</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/vzctl">&pop-vzctl;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/v/vzctl.html">&size-vzctl;</ulink></entry>
                <entry><ulink url="&openvz;">OpenVZ</ulink> server virtualization solution -
control tools
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/vzquota">
<literal>vzquota</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/vzquota">&pop-vzquota;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/v/vzquota.html">&size-vzquota;</ulink></entry>
                <entry><ulink url="&openvz;">OpenVZ</ulink> server virtualization solution - quota
tools
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>See Wikipedia article <ulink url="&comparisonofvirtualmachines;">Comparison
of virtual machines</ulink> for detail comparison of different
virtualization solutions.</simpara>
      </section>
    </section>
  </chapter>
  <chapter id="_data_management">
    <title>データ管理</title>
    <simpara>Tools and tips for managing binary and text data on the Debian system are
described.</simpara>
    <section id="_sharing_copying_and_archiving">
      <title>共有とコピーとアーカイブ</title>
      <simpara>データーのセキュリティとそのコントロールされた共有はいくつかの側面があります:</simpara>
      <itemizedlist>
        <listitem>
          <simpara>
データーアーカイブの作成
</simpara>
        </listitem>
        <listitem>
          <simpara>
遠隔ストレージアクセス
</simpara>
        </listitem>
        <listitem>
          <simpara>
複製
</simpara>
        </listitem>
        <listitem>
          <simpara>
変更履歴の追跡
</simpara>
        </listitem>
        <listitem>
          <simpara>
データ共有のアシスト
</simpara>
        </listitem>
        <listitem>
          <simpara>
不正なファイルへのアクセスの防止
</simpara>
        </listitem>
        <listitem>
          <simpara>
不正なファイルの改変の検出
</simpara>
        </listitem>
      </itemizedlist>
      <simpara>These can be realized by using some combination of:</simpara>
      <itemizedlist>
        <listitem>
          <simpara>
the archive and compression tools,
</simpara>
        </listitem>
        <listitem>
          <simpara>
the copy and synchronization tools,
</simpara>
        </listitem>
        <listitem>
          <simpara>
the network file system,
</simpara>
        </listitem>
        <listitem>
          <simpara>
the removable storage media,
</simpara>
        </listitem>
        <listitem>
          <simpara>
セキュアシェル
</simpara>
        </listitem>
        <listitem>
          <simpara>
認証システム
</simpara>
        </listitem>
        <listitem>
          <simpara>
the version control system tools, and
</simpara>
        </listitem>
        <listitem>
          <simpara>
hash and cryptographic encryption tools.
</simpara>
        </listitem>
      </itemizedlist>
      <section id="_archive_and_compression_tools">
        <title>Archive and compression tools</title>
        <simpara>Here is a summary of archive and compression tools available on the Debian
system:</simpara>
        <table id="listofarchiveandcompressiontools" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>アーカイブと圧縮のツールのリスト。</title>
          <tgroup cols="6">
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="144" align="left"/>
            <thead>
              <row>
                <entry>
    パッケージ
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    サイズ
    </entry>
                <entry>
    コマンド
    </entry>
                <entry>
    comment
    </entry>
                <entry>
    extension
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/tar"> <literal>tar</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/tar">&pop-tar;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/t/tar.html">&size-tar;</ulink></entry>
                <entry><literal>tar</literal>(1)
    </entry>
                <entry>
    the standard archiver (de facto standard)
    </entry>
                <entry>
                  <literal>.tar</literal>
                </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/cpio"> <literal>cpio</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/cpio">&pop-cpio;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/c/cpio.html">&size-cpio;</ulink></entry>
                <entry><literal>cpio</literal>(1)
    </entry>
                <entry>
    Unix System V style archiver, use with <literal>find</literal>(1)
    </entry>
                <entry>
                  <literal>.cpio</literal>
                </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/binutils">
<literal>binutils</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/binutils">&pop-binutils;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/b/binutils.html">&size-binutils;</ulink></entry>
                <entry><literal>ar</literal>(1)
    </entry>
                <entry>
    archiver for the creation of static libraries
    </entry>
                <entry>
                  <literal>.ar</literal>
                </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/fastjar">
<literal>fastjar</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/fastjar">&pop-fastjar;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/f/fastjar.html">&size-fastjar;</ulink></entry>
                <entry><literal>fastjar</literal>(1)
    </entry>
                <entry>
    archiver for Java (zip like)
    </entry>
                <entry>
                  <literal>.jar</literal>
                </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/pax"> <literal>pax</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/pax">&pop-pax;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/p/pax.html">&size-pax;</ulink></entry>
                <entry><literal>pax</literal>(1)
    </entry>
                <entry>
    new POSIX standard archiver, compromise between <literal>tar</literal> and
<literal>cpio</literal>
    </entry>
                <entry>
                  <literal>.pax</literal>
                </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/afio"> <literal>afio</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/afio">&pop-afio;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/a/afio.html">&size-afio;</ulink></entry>
                <entry><literal>afio</literal>(1)
    </entry>
                <entry>
    extended <literal>cpio</literal> with per-file compression etc.
    </entry>
                <entry>
                  <literal>.afio</literal>
                </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/gzip"> <literal>gzip</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/gzip">&pop-gzip;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/g/gzip.html">&size-gzip;</ulink></entry>
                <entry><literal>gzip</literal>(1), <literal>zcat</literal>(1), …
    </entry>
                <entry>
    GNU <ulink url="&lzhh;">LZ77</ulink> compression utility (de facto standard)
    </entry>
                <entry>
                  <literal>.gz</literal>
                </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/bzip2"> <literal>bzip2</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/bzip2">&pop-bzipc;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/b/bzip2.html">&size-bzipc;</ulink></entry>
                <entry><literal>bzip2</literal>(1), <literal>bzcat</literal>(1), …
    </entry>
                <entry><ulink url="&burrowswheelerblrtingcompression;">Burrows-Wheeler
block-sorting compression</ulink> utility with higher compression ratio than
<literal>gzip</literal>(1) (slower than <literal>gzip</literal> with similar
syntax)
    </entry>
                <entry>
                  <literal>.bz2</literal>
                </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/lzma"> <literal>lzma</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/lzma">&pop-lzma;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/l/lzma.html">&size-lzma;</ulink></entry>
                <entry><literal>lzma</literal>(1)
    </entry>
                <entry><ulink url="&lzma;">LZMA</ulink> compression utility with higher compression
ratio than <literal>gzip</literal>(1)  (slower than <literal>gzip</literal>
with similar syntax)
    </entry>
                <entry>
                  <literal>.lzma</literal>
                </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/p7zip"> <literal>p7zip</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/p7zip">&pop-phzip;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/p/p7zip.html">&size-phzip;</ulink></entry>
                <entry><literal>7zr</literal>(1), <literal>p7zip</literal>(1)
    </entry>
                <entry><ulink url="&hzip;">7-Zip</ulink> file archiver with high compression ratio
(<ulink url="&lzma;">LZMA</ulink> compression)
    </entry>
                <entry>
                  <literal>.7z</literal>
                </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/p7zip-full">
<literal>p7zip-full</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/p7zip-full">&pop-phzipfull;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/p/p7zip-full.html">&size-phzipfull;</ulink></entry>
                <entry><literal>7z</literal>(1), <literal>7za</literal>(1)
    </entry>
                <entry><ulink url="&hzip;">7-Zip</ulink> file archiver with high compression ratio
(<ulink url="&lzma;">LZMA</ulink> compression and others)
    </entry>
                <entry>
                  <literal>.7z</literal>
                </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/lzop"> <literal>lzop</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/lzop">&pop-lzop;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/l/lzop.html">&size-lzop;</ulink></entry>
                <entry><literal>lzop</literal>(1)
    </entry>
                <entry><ulink url="&lzo;">LZO</ulink> compression utility with higher compression
and decompression speed than <literal>gzip</literal>(1) (lower compression
ratio than <literal>gzip</literal> with similar syntax)
    </entry>
                <entry>
                  <literal>.lzo</literal>
                </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/zip"> <literal>zip</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/zip">&pop-zip;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/z/zip.html">&size-zip;</ulink></entry>
                <entry><literal>zip</literal>(1)
    </entry>
                <entry><ulink url="&infozip;">InfoZIP</ulink>: DOS archive and compression tool
    </entry>
                <entry>
                  <literal>.zip</literal>
                </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/unzip"> <literal>unzip</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/unzip">&pop-unzip;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/u/unzip.html">&size-unzip;</ulink></entry>
                <entry><literal>unzip</literal>(1)
    </entry>
                <entry><ulink url="&infozip;">InfoZIP</ulink>: DOS unarchive and decompression tool
    </entry>
                <entry>
                  <literal>.zip</literal>
                </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <warning>
          <simpara>Do not set the "<literal>$TAPE</literal>" variable unless you know what to
expect.  It will change <literal>tar</literal>(1) behavior.</simpara>
        </warning>
        <note>
          <simpara>The gzipped <literal>tar</literal>(1) archive uses the file extension
"<literal>.tgz</literal>" or <literal>.tar.gz</literal>".</simpara>
        </note>
        <note>
          <simpara><literal>cp</literal>(1), <literal>scp</literal>(1) and
<literal>tar</literal>(1) may have some limitation for special files.
<literal>cpio</literal>(1) and <literal>afio</literal>(1) are most
versatile.</simpara>
        </note>
        <note>
          <simpara><literal>cpio</literal>(1) and <literal>afio</literal>(1) are designed to be
used with <literal>find</literal>(1) and other commands and suitable for
creating backup scripts since the file selection part of the script can be
tested independently.</simpara>
        </note>
        <note>
          <simpara><literal>afio</literal>(1) compresses each file in the archive.  This makes
<literal>afio</literal> to be much safer for the file corruption than the
globally compressed <literal>tar</literal> or <literal>cpio</literal>
archives and to be <emphasis role="strong">the best archive
engine</emphasis> for the backup script.</simpara>
        </note>
        <note>
          <simpara>Internal structure of OpenOffice data files are "<literal>.jar</literal>"
file.</simpara>
        </note>
      </section>
      <section id="_copy_and_synchronization_tools">
        <title>Copy and synchronization tools</title>
        <simpara>Here is a summary of simple copy and backup tools available on the Debian
system:</simpara>
        <table id="listofcopyandsynhronizationtools" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of copy and synchronization tools.</title>
          <tgroup cols="5">
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="216" align="left"/>
            <thead>
              <row>
                <entry>
    パッケージ
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    サイズ
    </entry>
                <entry>
    tool
    </entry>
                <entry>
    機能
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/coreutils">
<literal>coreutils</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/coreutils">&pop-coreutils;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/c/coreutils.html">&size-coreutils;</ulink></entry>
                <entry>
    GNU cp
    </entry>
                <entry>
    Locally copy files and directories ("-a" for recursive).
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/openssh-client">
<literal>openssh-client</literal> </ulink></entry>
                <entry><ulink
url="http://bugs.debian.org/openssh-client">&pop-opensshclient;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/o/openssh-client.html">&size-opensshclient;</ulink></entry>
                <entry>
    scp
    </entry>
                <entry>
    Remotely copy files and directories (client). "<literal>-r</literal>" for
recursive.
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/openssh-server">
<literal>openssh-server</literal> </ulink></entry>
                <entry><ulink
url="http://bugs.debian.org/openssh-server">&pop-opensshserver;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/o/openssh-server.html">&size-opensshserver;</ulink></entry>
                <entry>
    sshd
    </entry>
                <entry>
    Remotely copy files and directories (remote server).
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/rsync"> <literal>rsync</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/rsync">&pop-rsync;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/r/rsync.html">&size-rsync;</ulink></entry>
                <entry>
    -
    </entry>
                <entry>
    1-way remote synchronization and backup.
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/unison">
<literal>unison</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/unison">&pop-unison;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/u/unison.html">&size-unison;</ulink></entry>
                <entry>
    -
    </entry>
                <entry>
    2-way remote synchronization and backup.
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/pdumpfs">
<literal>pdumpfs</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/pdumpfs">&pop-pdumpfs;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/p/pdumpfs.html">&size-pdumpfs;</ulink></entry>
                <entry>
    -
    </entry>
                <entry>
    Daily local backup using hardlinks, similar to Plan9's
<literal>dumpfs</literal>.
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <tip>
          <simpara>Execution of the <literal>bkup</literal> script mentioned in <xref
linkend="_a_copy_script_for_the_data_backup"/> with the
"<literal>-gl</literal>" option under <literal>cron</literal>(8) should
provide very similar functionality as <literal>pdumpfs</literal> for the
static data archive.</simpara>
        </tip>
        <tip>
          <simpara>Version control system (VCS) tools in <xref linkend="list-of-vcs"/> can
function as the multi-way copy and synchronization tools.</simpara>
        </tip>
      </section>
      <section id="_idioms_for_the_archive">
        <title>アーカイブのための慣用句</title>
        <simpara>Here are several ways to archive and unarchive the entire contents of the
directory "<literal>/source</literal>".</simpara>
        <simpara>With GNU <literal>tar</literal>(1):</simpara>
        <screen>$ tar cvzf archive.tar.gz /source
$ tar xvzf archive.tar.gz</screen>
        <simpara>With <literal>cpio</literal>(1):</simpara>
        <screen>$ find /source -xdev -print0 | cpio -ov --null &gt; archive.cpio; gzip archive.cpio
$ zcat archive.cpio.gz | cpio -i</screen>
        <simpara>With <literal>afio</literal>(1):</simpara>
        <screen>$ find /source -xdev -print0 | afio -ovZ0 archive.afio
$ afio -ivZ archive.afio</screen>
      </section>
      <section id="_idioms_for_the_copy">
        <title>Idioms for the copy</title>
        <simpara>Here are several ways to copy the entire contents of the directory</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
from "<literal>/source</literal>" to "<literal>/dest</literal>", and
</simpara>
          </listitem>
          <listitem>
            <simpara>
from "<literal>/source</literal>" at local to "<literal>/dest</literal>" at
"<literal>user@host.dom</literal>".
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>With GNU <literal>cp</literal>(1) and openSSH <literal>scp</literal>(1):</simpara>
        <screen># cp -a /source /dest
# scp -pr /source user@host.dom:/dest</screen>
        <simpara>With GNU <literal>tar</literal>(1):</simpara>
        <screen># (cd /source &amp;&amp; tar cf - . ) | (cd /dest &amp;&amp; tar xvfp - )
# (cd /source &amp;&amp; tar cf - . ) | ssh user@host.dom '(cd /dest &amp;&amp; tar xvfp - )'</screen>
        <simpara>With <literal>cpio</literal>(1):</simpara>
        <screen># cd /source; find . -print0 | cpio -pvdm --null --sparse /dest</screen>
        <simpara>With <literal>afio</literal>(1):</simpara>
        <screen># cd /source; find . -print0 | afio -pv0a /dest</screen>
        <simpara><literal>scp</literal>(1) can even copy files between remote hosts:</simpara>
        <screen># scp -pr user1@host1.dom:/source user2@host2.dom:/dest</screen>
      </section>
      <section id="_idioms_for_the_selection_of_files">
        <title>Idioms for the selection of files</title>
        <simpara><literal>find</literal>(1) is used to select files for archive and copy
commands (see <xref linkend="_idioms_for_the_archive"/> and <xref
linkend="_idioms_for_the_copy"/>) or for <literal>xargs</literal>(1) (see
<xref linkend="_repeating_a_command_looping_over_files"/>).  This can be
enhanced by using its command arguments.</simpara>
        <simpara>Basic syntax of <literal>find</literal>(1) can be summarized as:</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
Its conditional arguments are evaluated from left to right.
</simpara>
          </listitem>
          <listitem>
            <simpara>
This evaluation stops once its outcome is determined.
</simpara>
          </listitem>
          <listitem>
            <simpara>
"Logical <emphasis role="strong">OR</emphasis>" (specified by
"<literal>-o</literal>" between conditionals) has lower precedence than
"logical <emphasis role="strong">AND</emphasis>" (specified by
"<literal>-a</literal>" or nothing between conditionals).
</simpara>
          </listitem>
          <listitem>
            <simpara>
"Logical <emphasis role="strong">NOT</emphasis>" (specified by
"<literal>!</literal>" before a conditional) has higher precedence than
"logical <emphasis role="strong">AND</emphasis>".
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>-prune</literal>" always returns logical <emphasis
role="strong">TRUE</emphasis> and, if it is a directory, searching of file
is stopped beyond this point.
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>-name</literal>" matches the base of the filename with shell glob
(see <xref linkend="_shell_glob"/>) but it also matches its initial
"<literal>.</literal>" with metacharacters such as "<literal>*</literal>"
and "<literal>?</literal>". (New <ulink url="&posix;">POSIX</ulink> feature)
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>-regex</literal>" matches the full path with emacs style <emphasis
role="strong">BRE</emphasis> (see <xref linkend="_regular_expressions"/>) as
default.
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>-size</literal>" matches the file based on the file size (value
precedented with "<literal>+</literal>" for larger, precedented with
"<literal>-</literal>" for smaller)
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>-newer</literal>" matches the file newer than the one specified in
its argument.
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>-print0</literal>" always returns logical <emphasis
role="strong">TRUE</emphasis> and print the full filename (<ulink
url="&nullterminated;">null terminated</ulink>) on the standard output.
</simpara>
          </listitem>
        </itemizedlist>
        <simpara><literal>find</literal>(1) is often used with an idiomatic style.  For
example:</simpara>
        <screen># find /path/to \
    -xdev -regextype posix-extended \
    -type f -regex ".*\.afio|.*~" -prune -o \
    -type d -regex ".*/\.git" -prune -o \
    -type f -size +99M -prune -o \
    -type f -newer /path/to/timestamp -print0</screen>
        <simpara>This means to do following actions:</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
search all files starting from "<literal>/path/to</literal>"
</simpara>
          </listitem>
          <listitem>
            <simpara>
globally limit its search within its starting filesystem and uses <emphasis
role="strong">ERE</emphasis> (see <xref linkend="_regular_expressions"/>)
instead,
</simpara>
          </listitem>
          <listitem>
            <simpara>
exclude files matching regex of "<literal>.*\.afio</literal>" or
"<literal>.*~</literal>" from search by stop processing,
</simpara>
          </listitem>
          <listitem>
            <simpara>
exclude directories matching regex of "<literal>.*/\.git</literal>" from
search by stop processing,
</simpara>
          </listitem>
          <listitem>
            <simpara>
exclude files larger than 99 Megabytes (units of 1048576 bytes) from search
by stop processing, and
</simpara>
          </listitem>
          <listitem>
            <simpara>
print filenames which satisfy above search conditions and newer than
"<literal>/path/to/timestamp</literal>".
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>Please note the idiomatic use of "<literal>-prune -o</literal>" to exclude
files in the above example.</simpara>
        <note>
          <simpara>For non-Debian <ulink url="&unixlike;">Unix-like</ulink> system, some
options may not be supported for <literal>find</literal>(1). In such a case,
please consider to adjust matching methods and replace
"<literal>-print0</literal>" with "<literal>-print</literal>".  You may need
to adjust related commands too.</simpara>
        </note>
      </section>
      <section id="_backup_and_recovery">
        <title>Backup and recovery</title>
        <simpara>We all know that computers fail sometime or human errors cause system and
data damages.  Backup and recovery operations are the essential part of
successful system administration.  All possible failure modes will hit you
some day.</simpara>
        <simpara>There are 3 key factors which determine actual backup and recovery policy:</simpara>
        <orderedlist>
          <listitem>
            <simpara>
Knowing what to backup and recover.
</simpara>
            <itemizedlist>
              <listitem>
                <simpara>
Data files directly created by you: data in "<literal>~/</literal>"
</simpara>
              </listitem>
              <listitem>
                <simpara>
Data files created by applications used by you: data in
"<literal>/var/</literal>" (except "<literal>/var/cache/</literal>",
"<literal>/var/run/</literal>", and "<literal>/var/tmp/</literal>").
</simpara>
              </listitem>
              <listitem>
                <simpara>
System configuration files: data in "<literal>/etc/</literal>"
</simpara>
              </listitem>
              <listitem>
                <simpara>
Local softwares: data in "<literal>/usr/local/</literal>" or
"<literal>/opt/</literal>"
</simpara>
              </listitem>
              <listitem>
                <simpara>
System installation information: a memo in plain text on key steps
(partition, …).
</simpara>
              </listitem>
              <listitem>
                <simpara>
Proven set of data: experimenting with recovery operations in advance.
</simpara>
              </listitem>
            </itemizedlist>
          </listitem>
          <listitem>
            <simpara>
Knowing how to backup and recover.
</simpara>
            <itemizedlist>
              <listitem>
                <simpara>
Secure storage of data: protection from overwrite and system failure.
</simpara>
              </listitem>
              <listitem>
                <simpara>
Frequent backup: scheduled backup.
</simpara>
              </listitem>
              <listitem>
                <simpara>
Redundant backup: data mirroring.
</simpara>
              </listitem>
              <listitem>
                <simpara>
Fool proof process: easy single command backup.
</simpara>
              </listitem>
            </itemizedlist>
          </listitem>
          <listitem>
            <simpara>
Assessing risks and costs involved.
</simpara>
            <itemizedlist>
              <listitem>
                <simpara>
Failure mode and their possibility.
</simpara>
              </listitem>
              <listitem>
                <simpara>
Value of data when lost.
</simpara>
              </listitem>
              <listitem>
                <simpara>
Required resources for backup: human, hardware, software, …
</simpara>
              </listitem>
            </itemizedlist>
          </listitem>
        </orderedlist>
        <simpara>As for secure storage of data, data should be at least on different disk
partitions preferably on different disks and machines to withstand the
filesystem corruption.  Important data are best stored on a write-once media
such as CD/DVD-R to prevent overwrite accidents.  (See <xref
linkend="_the_binary_data"/> for how to write to the storage media from the
shell commandline.  GNOME desktop GUI environment gives you easy access via
menu: "Places→CD/DVD Creator".)</simpara>
        <note>
          <simpara>You may wish to stop some application daemons such as MTA (see <xref
linkend="_mta"/>) while backing up data.</simpara>
        </note>
        <note>
          <simpara>You should pay extra care to the backup and restoration of identity related
data files such as "<literal>/etc/ssh/ssh_host_dsa_key</literal>",
"<literal>/etc/ssh/ssh_host_rsa_key</literal>",
"<literal>~/.gnupg/*</literal>", "<literal>~/.ssh/*</literal>",
"<literal>/etc/passwd</literal>", "<literal>/etc/shadow</literal>",
"<literal>/etc/fetchmailrc</literal>",
"<literal>popularity-contest.conf</literal>",
"<literal>/etc/ppp/pap-secrets</literal>", and
"<literal>/etc/exim4/passwd.client</literal>".  Some of these data can not
be regenerated by entering the same input string to the system.</simpara>
        </note>
        <note>
          <simpara>If you run a cron job as a user process, you need to restart it after the
system restoration.  See <xref linkend="_schedule_tasks_regularly"/> for
<literal>cron</literal>(8) and <literal>crontab</literal>(1).</simpara>
        </note>
      </section>
      <section id="_backup_utility_suites">
        <title>Backup utility suites</title>
        <simpara>Here is a select list of notable backup utility suites available on the
Debian system:</simpara>
        <table id="listofbackupsuiteutilities" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>バックアップスイートのユーティリティのリスト。</title>
          <tgroup cols="4">
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="288" align="left"/>
            <thead>
              <row>
                <entry>
    パッケージ
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    サイズ
    </entry>
                <entry>
    説明
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/rdiff-backup">
<literal>rdiff-backup</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/rdiff-backup">&pop-rdiffbackup;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/r/rdiff-backup.html">&size-rdiffbackup;</ulink></entry>
                <entry>
    (remote) incremental backup
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/dump"> <literal>dump</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/dump">&pop-dump;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/d/dump.html">&size-dump;</ulink></entry>
                <entry>
    4.4<ulink url="&bsd;">BSD</ulink> <literal>dump</literal>(8) and
<literal>restore</literal>(8) for <ulink url="&extc;">ext2</ulink>/<ulink
url="&extd;">ext3</ulink> filesystems
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/xfsdump">
<literal>xfsdump</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/xfsdump">&pop-xfsdump;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/x/xfsdump.html">&size-xfsdump;</ulink></entry>
                <entry>
    Dump and restore with <literal>xfsdump</literal>(8) and
<literal>xfsrestore</literal>(8) for <ulink url="&xfs;">XFS</ulink>
filesystem on GNU/Linux and <ulink url="&irix;">IRIX</ulink>
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/backupninja">
<literal>backupninja</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/backupninja">&pop-backupninja;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/b/backupninja.html">&size-backupninja;</ulink></entry>
                <entry>
    lightweight, extensible <emphasis role="strong">meta-backup</emphasis>
system
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/mondo"> <literal>mondo</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/mondo">&pop-mondo;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/m/mondo.html">&size-mondo;</ulink></entry>
                <entry><ulink url="&mondorescue;">Mondo Rescue</ulink>: disaster recovery backup
suite
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/sbackup">
<literal>sbackup</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/sbackup">&pop-sbackup;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/s/sbackup.html">&size-sbackup;</ulink></entry>
                <entry>
    Simple Backup Suite for GNOME desktop
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/keep"> <literal>keep</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/keep">&pop-keep;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/k/keep.html">&size-keep;</ulink></entry>
                <entry>
    backup system for KDE
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/bacula-common">
<literal>bacula-common</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/bacula-common">&pop-baculacommon;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/b/bacula-common.html">&size-baculacommon;</ulink></entry>
                <entry><ulink url="&bacula;">Bacula</ulink>: network backup, recovery and
verification - common support files
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/bacula-client">
<literal>bacula-client</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/bacula-client">&pop-baculaclient;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/b/bacula-client.html">&size-baculaclient;</ulink></entry>
                <entry><ulink url="&bacula;">Bacula</ulink>: network backup, recovery and
verification - client meta-package
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/bacula-console">
<literal>bacula-console</literal> </ulink></entry>
                <entry><ulink
url="http://bugs.debian.org/bacula-console">&pop-baculaconsole;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/b/bacula-console.html">&size-baculaconsole;</ulink></entry>
                <entry><ulink url="&bacula;">Bacula</ulink>: network backup, recovery and
verification - text console
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/bacula-server">
<literal>bacula-server</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/bacula-server">&pop-baculaserver;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/b/bacula-server.html">&size-baculaserver;</ulink></entry>
                <entry><ulink url="&bacula;">Bacula</ulink>: network backup, recovery and
verification - server meta-package
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/amanda-common">
<literal>amanda-common</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/amanda-common">&pop-amandacommon;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/a/amanda-common.html">&size-amandacommon;</ulink></entry>
                <entry><ulink url="&amanda;">Amanda</ulink>: Advanced Maryland Automatic Network
Disk Archiver (Libs)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/amanda-client">
<literal>amanda-client</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/amanda-client">&pop-amandaclient;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/a/amanda-client.html">&size-amandaclient;</ulink></entry>
                <entry><ulink url="&amanda;">Amanda</ulink>: Advanced Maryland Automatic Network
Disk Archiver (Client)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/amanda-server">
<literal>amanda-server</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/amanda-server">&pop-amandaserver;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/a/amanda-server.html">&size-amandaserver;</ulink></entry>
                <entry><ulink url="&amanda;">Amanda</ulink>: Advanced Maryland Automatic Network
Disk Archiver (Server)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/cdrw-taper">
<literal>cdrw-taper</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/cdrw-taper">&pop-cdrwtaper;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/c/cdrw-taper.html">&size-cdrwtaper;</ulink></entry>
                <entry>
    taper replacement for <ulink url="&amanda;">Amanda</ulink> to support
backups to CD-RW or DVD+RW
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/backuppc">
<literal>backuppc</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/backuppc">&pop-backuppc;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/b/backuppc.html">&size-backuppc;</ulink></entry>
                <entry><ulink url="&backuppc;">BackupPC</ulink> is a high-performance,
enterprise-grade system for backing up PCs (disk based)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/backup-manager">
<literal>backup-manager</literal> </ulink></entry>
                <entry><ulink
url="http://bugs.debian.org/backup-manager">&pop-backupmanager;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/b/backup-manager.html">&size-backupmanager;</ulink></entry>
                <entry>
    command-line backup tool
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/backup2l">
<literal>backup2l</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/backup2l">&pop-backupcl;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/b/backup2l.html">&size-backupcl;</ulink></entry>
                <entry>
    low-maintenance backup/restore tool for mountable media (disk based)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/faubackup">
<literal>faubackup</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/faubackup">&pop-faubackup;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/f/faubackup.html">&size-faubackup;</ulink></entry>
                <entry>
    backup system using a filesystem for storage (disk based)
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>Basic tools such as ones descrived in <xref
linkend="_archive_and_compression_tools"/> and <xref
linkend="_copy_and_synchronization_tools"/> are used to facilitate system
backup.  In addition to these, <literal>rdiff-backup</literal> and
<literal>dump</literal> packages also facilitate system backup.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
The <literal>rdiff-backup</literal> package facilitates backs up of one
directory to another, possibly over a network.
</simpara>
          </listitem>
          <listitem>
            <simpara>
The <literal>dump</literal> package facilitates restoration of complete
system by archiving filesystems themselves.  This can perform incremental
backup of filesystems efficiently.  See files in
"<literal>/usr/share/doc/dump/</literal>" and <ulink
url="&isdumpreallydeprecated;">"Is dump really deprecated?"</ulink>.
</simpara>
          </listitem>
          <listitem>
            <simpara>
The <literal>xfsdump</literal> package works similarly to the
<literal>dump</literal> package.
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>There are programs for backup using these basic tools as their backends.</simpara>
        <itemizedlist>
          <listitem>
            <simpara><ulink url="&mondorescue;">Mondo Rescue</ulink> is a backup system to
facilitate restoration of complete system from backup CD/DVD etc. without
going through normal system installation processes.
</simpara>
          </listitem>
          <listitem>
            <simpara><literal>sbackup</literal> and <literal>keep</literal> packages provide easy
GUI frontend to regular backups of user data for desktop users. An
equivalent function can be realized by a simple script (<xref
linkend="_an_example_script_for_the_system_backup"/>) and
<literal>cron</literal>(8).
</simpara>
          </listitem>
          <listitem>
            <simpara><ulink url="&bacula;">Bacula</ulink>, <ulink url="&amanda;">Amanda</ulink>,
and <ulink url="&backuppc;">BackupPC</ulink> are full featured backup suite
utilities which are focused on regular backups over network.
</simpara>
          </listitem>
        </itemizedlist>
      </section>
      <section id="_an_example_script_for_the_system_backup">
        <title>An example script for the system backup</title>
        <simpara>For a personal Debian desktop system running <literal>unstable</literal>
suite, I only need to protect personal and critical data.  I reinstall
system once a year anyway.  Thus I see no reason to backup the whole system
or to install a full featured backup utility.</simpara>
        <simpara>I use a simple script to make a backup archive and burn it into CD/DVD using
GUI.  Here is an example script for this.</simpara>
        <screen>#!/bin/sh -e
# Copyright (C) 2007-2008 Osamu Aoki &lt;osamu@debian.org&gt;, Public Domain
BUUID=1000; USER=osamu # UID and name of a user who accesses backup files
BUDIR="/var/backups"
XDIR0=".+/Mail|.+/Desktop"
XDIR1=".+/\.thumbnails|.+/\.?Trash|.+/\.?[cC]ache|.+/\.gvfs|.+/sessions"
XDIR2=".+/CVS|.+/\.git|.+/\.svn|.+/Downloads|.+/Archive|.+/Checkout|.+/tmp"
XSFX=".+\.iso|.+\.tgz|.+\.tar\.gz|.+\.tar\.bz2|.+\.afio|.+\.tmp|.+\.swp|.+~"
SIZE="+99M"
DATE=$(date --utc +"%Y%m%d-%H%M")
[ -d "$BUDIR" ] || mkdir -p "BUDIR"
umask 077
dpkg --get-selections \* &gt; /var/lib/dpkg/dpkg-selections.list
debconf-get-selections &gt; /var/cache/debconf/debconf-selections

{
find /etc /usr/local /opt /var/lib/dpkg/dpkg-selections.list \
     /var/cache/debconf/debconf-selections -xdev -print0
find /home/$USER /root -xdev -regextype posix-extended \
  -type d -regex "$XDIR0|$XDIR1" -prune -o -type f -regex "$XSFX" -prune -o \
  -type f -size  "$SIZE" -prune -o -print0
find /home/$USER/Mail/Inbox /home/$USER/Mail/Outbox -print0
find /home/$USER/Desktop  -xdev -regextype posix-extended \
  -type d -regex "$XDIR2" -prune -o -type f -regex "$XSFX" -prune -o \
  -type f -size  "$SIZE" -prune -o -print0
} | cpio -ov --null -O $BUDIR/BU$DATE.cpio
chown $BUUID $BUDIR/BU$DATE.cpio
touch $BUDIR/backup.stamp</screen>
        <simpara>This is meant to be a script example executed from root:</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
Edit this script to cover all your important data (see <xref
linkend="_idioms_for_the_selection_of_files"/> and <xref
linkend="_backup_and_recovery"/>).
</simpara>
          </listitem>
          <listitem>
            <simpara>
Replace "<literal>find … -print0</literal>" with "<literal>find … -newer
$BUDIR/backup.stamp -print0</literal>" to make a differential backup.
</simpara>
          </listitem>
          <listitem>
            <simpara>
Transfer backup files to the remote host using <literal>scp</literal>(1) or
<literal>rsync</literal>(1) or burn them to CD/DVD for extra data security.
(I use GNOME desktop GUI for burning CD/DVD. See <xref
linkend="_shell_script_example_with_zenity"/> for extra redundancy.)
</simpara>
          </listitem>
          <listitem>
            <simpara>
Keep it simple!
</simpara>
          </listitem>
        </itemizedlist>
        <tip>
          <simpara>You can recover debconf configuration data with
"<literal>debconf-set-selections debconf-selections</literal>" and dpkg
selection data with "<literal>dpkg --set-selection
&lt;dpkg-selections.list</literal>".</simpara>
        </tip>
      </section>
      <section id="_a_copy_script_for_the_data_backup">
        <title>A copy script for the data backup</title>
        <simpara>For the set of data under a directory tree, the copy with "<literal>cp
-a</literal>" provides the normal backup.</simpara>
        <simpara>For the set of large non-overwritten static data under a directory tree such
as the data under the "<literal>/var/cache/apt/packages/</literal>"
directory, hardlinks with "<literal>cp -al</literal>" provide an alternative
to the normal backup with efficient use of the disk space.</simpara>
        <simpara>Here is a copy script, which I named as <literal>bkup</literal>, for the
data backup. This script copies all (non-VCS) files under the current
directory to the dated directory on the parent directory or on a remote
host.</simpara>
        <screen>#!/bin/sh -e
# Copyright (C) 2007-2008 Osamu Aoki &lt;osamu@debian.org&gt;, Public Domain
function fdot(){ find . -type d \( -iname ".?*" -o -iname "CVS" \) -prune -o -print0;}
function fall(){ find . -print0;}
function mkdircd(){ mkdir -p "$1";chmod 700 "$1";cd "$1"&gt;/dev/null;}
FIND="fdot";OPT="-a";MODE="CPIOP";HOST="localhost";EXTP="$(hostname -f)"
BKUP="$(basename $(pwd)).bkup";TIME="$(date  +%Y%m%d-%H%M%S)";BU="$BKUP/$TIME"
while getopts gcCsStrlLaAxe:h:T f; do case $f in
g)  MODE="GNUCP";; # cp (GNU)
c)  MODE="CPIOP";; # cpio -p
C)  MODE="CPIOI";; # cpio -i
s)  MODE="CPIOSSH";; # cpio/ssh
S)  MODE="AFIOSSH";; # afio/ssh
t)  MODE="TARSSH";; # tar/ssh
r)  MODE="RSYNCSSH";; # rsync/ssh
l)  OPT="-alv";; # hardlink (GNU cp)
L)  OPT="-av";;  # copy (GNU cp)
a)  FIND="fall";; # find all
A)  FIND="fdot";; # find non CVS/ .???/
x)  set -x;; # trace
e)  EXTP="${OPTARG}";; # hostname -f
h)  HOST="${OPTARG}";; # user@remotehost.example.com
T)  MODE="TEST";; # test find mode
\?) echo "use -x for trace."
esac; done
shift $(expr $OPTIND - 1)
if [ $# -gt 0 ]; then
  for x in $@; do cp $OPT $x $x.$TIME; done
elif [ $MODE = GNUCP ]; then
  mkdir -p "../$BU";chmod 700 "../$BU";cp $OPT . "../$BU/"
elif [ $MODE = CPIOP ]; then
  mkdir -p "../$BU";chmod 700 "../$BU"
  $FIND|cpio --null --sparse -pvd ../$BU
elif [ $MODE = CPIOI ]; then
  $FIND|cpio -ov --null | ( mkdircd "../$BU"&amp;&amp;cpio -i )
elif [ $MODE = CPIOSSH ]; then
  $FIND|cpio -ov --null|ssh -C $HOST "( mkdircd \"$EXTP/$BU\"&amp;&amp;cpio -i )"
elif [ $MODE = AFIOSSH ]; then
  $FIND|afio -ov -0 -|ssh -C $HOST "( mkdircd \"$EXTP/$BU\"&amp;&amp;afio -i - )"
elif [ $MODE = TARSSH ]; then
  (tar cvf - . )|ssh -C $HOST "( mkdircd \"$EXTP/$BU\"&amp;&amp; tar xvfp - )"
elif [ $MODE = RSYNCSSH ]; then
  rsync -rlpt ./ "${HOST}:${EXTP}-${BKUP}-${TIME}"
else
  echo "Any other idea to backup?"
  $FIND |xargs -0 -n 1 echo
fi</screen>
        <simpara>This is meant to be command examples.  Please read script and test it by
yourself.</simpara>
        <tip>
          <simpara>I keep this <literal>bkup</literal> in my
"<literal>/usr/local/bin/</literal>" directory.  I issue this
<literal>bkup</literal> command without any option in the working directory
whenever I need a temporary snapshot backup.</simpara>
        </tip>
        <tip>
          <simpara>For making snapshot history of a source file tree or a configuration file
tree, it is easier and space efficient to use <literal>git</literal>(7) (see
<xref linkend="_git_for_recording_configuration_history"/>).</simpara>
        </tip>
      </section>
      <section id="_removable_mass_storage_device">
        <title>Removable mass storage device</title>
        <simpara>Removable mass storage devices may be any one of</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
harddisk,
</simpara>
          </listitem>
          <listitem>
            <simpara>
any format of flash memory devices, or
</simpara>
          </listitem>
          <listitem>
            <simpara>
digital camera, which are connected via <ulink url="&usb;">USB</ulink>,
<ulink url="&ieeebdjefirewire;">IEEE 1394 / Firewire</ulink>, <ulink
url="&pccard;">PC Card</ulink>, etc.
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>These removable mass storage devices can be automatically mounted as a user
under modern desktop environment, such as GNOME using
<literal>gnome-mount</literal>(1).</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
Mount point under GNOME is chosen as
"<literal>/media/&lt;disk_label&gt;</literal>" which can be customized
</simpara>
            <itemizedlist>
              <listitem>
                <simpara>
by <literal>mlabel</literal>(1) for FAT filesystem,
</simpara>
              </listitem>
              <listitem>
                <simpara>
by <literal>genisoimage</literal>(1) with "<literal>-V</literal>" option for
ISO9660 filesystem, and
</simpara>
              </listitem>
              <listitem>
                <simpara>
by <literal>tune2fs</literal>(1) with "<literal>-L</literal>" option for
ext2/ext3 filesystem.
</simpara>
              </listitem>
            </itemizedlist>
          </listitem>
          <listitem>
            <simpara>
The choice of encoding may need to be provided as mount option (see <xref
linkend="_filename_encoding"/>).
</simpara>
          </listitem>
          <listitem>
            <simpara>
The ownership of the mounted filesystem may need to be adjusted for use by
the normal user.
</simpara>
          </listitem>
        </itemizedlist>
        <note>
          <simpara>Automounting under modern desktop environment happens only when those
removable media devices are not listed in "<literal>/etc/fstab</literal>".</simpara>
        </note>
        <tip>
          <simpara>When providing wrong mount option causes problem, erase its corresponding
setting under "<literal>/system/storage/</literal>" via
<literal>gconf-editor</literal>(1).</simpara>
        </tip>
        <table id="listofpackageswhingetcfstabentry" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of packages which permit normal users to mount removable devices
without a matching "<literal>/etc/fstab</literal>" entry.</title>
          <tgroup cols="4">
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="288" align="left"/>
            <thead>
              <row>
                <entry>
    パッケージ
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    サイズ
    </entry>
                <entry>
    説明
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/gnome-mount">
<literal>gnome-mount</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/gnome-mount">&pop-gnomemount;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/g/gnome-mount.html">&size-gnomemount;</ulink></entry>
                <entry>
    wrapper for (un)mounting and ejecting storage devices (used by GNOME)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/pmount">
<literal>pmount</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/pmount">&pop-pmount;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/p/pmount.html">&size-pmount;</ulink></entry>
                <entry>
    mount removable devices as normal user (used by KDE)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/cryptmount">
<literal>cryptmount</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/cryptmount">&pop-cryptmount;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/c/cryptmount.html">&size-cryptmount;</ulink></entry>
                <entry>
    Management and user-mode mounting of encrypted file systems
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/usbmount">
<literal>usbmount</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/usbmount">&pop-usbmount;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/u/usbmount.html">&size-usbmount;</ulink></entry>
                <entry>
    automatically mount and unmount USB mass storage devices
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>When sharing data with other system via removable mass storage device, you
should format it with common <ulink url="&filesystem;">filesystem</ulink>
supported by both systems. Here is a list of filesystem choices.</simpara>
        <table id="listoffilesystemalusagescenarios" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of filesystem choices for removable storage devices with typical usage
scenarios.</title>
          <tgroup cols="2">
            <colspec colwidth="144" align="left"/>
            <colspec colwidth="360" align="left"/>
            <thead>
              <row>
                <entry>
    ファイルシステム
    </entry>
                <entry>
    typical usage scenario
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <ulink url="&fatbc;">FAT12</ulink>
                </entry>
                <entry>
    Cross platform sharing of data on the floppy disk. (⇐32MiB)
    </entry>
              </row>
              <row>
                <entry>
                  <ulink url="&fatbg;">FAT16</ulink>
                </entry>
                <entry>
    Cross platform sharing of data on the small harddisk like device. (⇐2GiB)
    </entry>
              </row>
              <row>
                <entry>
                  <ulink url="&fatdc;">FAT32</ulink>
                </entry>
                <entry>
    Cross platform sharing of data on the large harddisk like device. (⇐8TiB,
supported by newer than MS Windows95 OSR2)
    </entry>
              </row>
              <row>
                <entry>
                  <ulink url="&ntfs;">NTFS</ulink>
                </entry>
                <entry>
    Cross platform sharing of data on the large harddisk like device. (supported
natively on <ulink url="&mswindowsnt;">MS Windows NT</ulink> and later
version, and supported by <ulink url="&ntfsdg;">NTFS-3G</ulink> via <ulink
url="&fuse;">FUSE</ulink> on Linux)
    </entry>
              </row>
              <row>
                <entry>
                  <ulink url="&isojgga;">ISO9660</ulink>
                </entry>
                <entry>
    Cross platform sharing of static data on CD-R and DVD+/-R
    </entry>
              </row>
              <row>
                <entry>
                  <ulink url="&udf;">UDF</ulink>
                </entry>
                <entry>
    Incremental data writing on CD-R and DVD+/-R (new)
    </entry>
              </row>
              <row>
                <entry>
                  <ulink url="&minixfilesystem;">MINIXファイルシステム</ulink>
                </entry>
                <entry>
    Space efficient unix file data storage on the floppy disk.
    </entry>
              </row>
              <row>
                <entry>
                  <ulink url="&extcfilesystem;">ext2ファイルシステム</ulink>
                </entry>
                <entry>
    Sharing of data on the harddisk like device with older Linux systems.
    </entry>
              </row>
              <row>
                <entry>
                  <ulink url="&extdfilesystem;">ext3ファイルシステム</ulink>
                </entry>
                <entry>
    Sharing of data on the harddisk like device with current Linux
systems. (Journaling file system)
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <tip>
          <simpara>See <xref linkend="_removable_disk_encryption_with_dm_crypt_luks"/> for
cross platform sharing of data using device level encryption.</simpara>
        </tip>
        <simpara>The FAT filesystem is supported by almost all modern operating systems and
is quite useful for the data exchange purpose via removable harddisk like
media (.</simpara>
        <simpara>When formatting removable harddisk like devices for cross platform sharing
of data with the FAT filesystem, the following should be safe choices:</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
Partitioning them with <literal>fdisk</literal>(8),
<literal>cfdisk</literal>(8) or <literal>parted</literal>(8) (see <xref
linkend="_partition_configuration"/>) into a single primary partition and to
mark it as:
</simpara>
            <itemizedlist>
              <listitem>
                <simpara>
type-"6" for FAT16 for media smaller than 2GB or
</simpara>
              </listitem>
              <listitem>
                <simpara>
type-"c" for FAT32 (LBA) for larger media.
</simpara>
              </listitem>
            </itemizedlist>
          </listitem>
          <listitem>
            <simpara>
Formatting the primary partition with <literal>mkfs.vfat</literal>(8)
</simpara>
            <itemizedlist>
              <listitem>
                <simpara>
with just its device name, e.g. "<literal>/dev/sda1</literal>" for FAT16, or
</simpara>
              </listitem>
              <listitem>
                <simpara>
with the explicit option and its device name, e.g. "<literal>-F 32
/dev/sda1</literal>" for FAT32.
</simpara>
              </listitem>
            </itemizedlist>
          </listitem>
        </itemizedlist>
        <simpara>When using the FAT or ISO9660 filesystems for sharing data, the following
should be the safe considerations:</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
Archiving files into an archive file first using <literal>tar</literal>(1),
<literal>cpio</literal>(1), or <literal>afio</literal>(1) to retain the long
filename, the symbolic link, the original Unix file permission and the owner
information.
</simpara>
          </listitem>
          <listitem>
            <simpara>
Splitting the archive file size into less than 2 GiB chunks with the
<literal>split</literal>(1) command to protect it from the file size
limitation.
</simpara>
          </listitem>
          <listitem>
            <simpara>
Encrypting the archive file to secure its contents from the unauthorized
access.
</simpara>
          </listitem>
        </itemizedlist>
        <note>
          <simpara>For FAT filesystems by its design, the maximum file size is <literal>(2^32 -
1) bytes = (4GiB - 1 byte)</literal>. For some applications on the older 32
bit OS, the maximum file size was even smaller <literal>(2^31 - 1) bytes =
(42GiB - 1 byte)</literal>.  Debian does not suffer the latter problem.</simpara>
        </note>
        <note>
          <simpara>Microsoft itself does not recommend to use FAT for drives or partitions of
over 200 MB.  Microsoft highlights its short comings such as inefficient
disk space usage in their "<ulink
url="&overviewoffathpfdntfsfilesystems;">Overview of FAT, HPFS, and NTFS
File Systems</ulink>".  Of course for the Linux, we should normally use the
ext3 filesystem.</simpara>
        </note>
        <tip>
          <simpara>For more on filesystems and accessing filesystems, please read "<ulink
url="&filesystemshowto;">Filesystems HOWTO</ulink>".</simpara>
        </tip>
      </section>
      <section id="_sharing_data_via_network">
        <title>Sharing data via network</title>
        <simpara>When sharing data with other system via network, you should use common
service. Here are some hints.</simpara>
        <table id="listofthenetworkcalusagescenario" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of the network service to chose with the typical usage scenario.</title>
          <tgroup cols="2">
            <colspec colwidth="144" align="left"/>
            <colspec colwidth="360" align="left"/>
            <thead>
              <row>
                <entry>
    network service
    </entry>
                <entry>
    typical usage scenario
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="&smbcifs;">SMB/CIFS</ulink> network mounted filesystem with
<ulink url="&samba;">Samba</ulink>
    </entry>
                <entry>
    Sharing files via "Microsoft Windows Network". See
<literal>smb.conf</literal>(5) and <ulink
url="&theofficialsambandreferenceguide;">The Official Samba 3.2.x HOWTO and
Reference Guide</ulink> or the <literal>samba-doc</literal> package.
    </entry>
              </row>
              <row>
                <entry><ulink url="&nfs;">NFS</ulink> network mounted filesystem with the Linux
kernel
    </entry>
                <entry>
    Sharing files via "Unix/Linux Network". See <literal>exports</literal>(5)
and <ulink url="&linuxnfshowto;">Linux NFS-HOWTO</ulink>.
    </entry>
              </row>
              <row>
                <entry><ulink url="&http;">HTTP</ulink>サービス
    </entry>
                <entry>
    Sharing file between the web server/client.
    </entry>
              </row>
              <row>
                <entry><ulink url="&https;">HTTPS</ulink>サービス
    </entry>
                <entry>
    Sharing file between the web server/client with encrypted Secure Sockets
Layer (SSL) or <ulink url="&transportlayersecurity;">Transport Layer
Security</ulink> (TLS).
    </entry>
              </row>
              <row>
                <entry><ulink url="&ftp;">FTP</ulink>サービス
    </entry>
                <entry>
    Sharing file between the FTP server/client.
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>Although these filesystems mounted over network or file transfer methods
over network are quite convenient for sharing data, these may be insecure.
Their network connection must be secured by:</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
encrypting it with <ulink url="&ssltls;">SSL/TLS</ulink>,
</simpara>
          </listitem>
          <listitem>
            <simpara>
<ulink url="&ssh;">SSH</ulink>経由でそれをトンネルしたり、
</simpara>
          </listitem>
          <listitem>
            <simpara>
tunneling it via <ulink url="&vpn;">VPN</ulink> or,
</simpara>
          </listitem>
          <listitem>
            <simpara>
limiting it behind the secure firewall.  See also <xref
linkend="_other_network_application_servers"/> and <xref
linkend="_other_network_application_clients"/>.
</simpara>
          </listitem>
        </itemizedlist>
      </section>
      <section id="_archive_media">
        <title>アーカイブ媒体</title>
        <simpara>When choosing <ulink url="&computerdatastoragemedia;">computer data storage
media</ulink> for important data archive, you should be careful about their
limitations.  For small personal data back up, I use CD-R and DVD-R by the
brand name company and store in a cool, dry, clean environment.  (Tape
archive media seem to be popular for professional use.)</simpara>
        <note>
          <simpara><ulink url="&afireresistantsafe;">A fire-resistant safe</ulink> are usually
meant for paper documents.  Most of the computer data storage media have
less temperature tolerance than paper. I usually rely on multiple secure
encrypted copies stored in multiple secure locations.</simpara>
        </note>
        <simpara>Optimistic storage life of archive media seen on the net (mostly from vendor
info):</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
100+ years : acid free paper with ink
</simpara>
          </listitem>
          <listitem>
            <simpara>
100 years : optical storage (CD/DVD, CD/DVD-R)
</simpara>
          </listitem>
          <listitem>
            <simpara>
30 years : magnetic storage (tape, floppy)
</simpara>
          </listitem>
          <listitem>
            <simpara>
20 years : phase change optical storage (CD-RW)  These do not count on the
mechanical failures due to handling etc.
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>Optimistic write cycle of archive media seen on the net (mostly from vendor
info):</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
250,000+ cycles : Harddisk drive
</simpara>
          </listitem>
          <listitem>
            <simpara>
10,000+ cycles : Flash memory
</simpara>
          </listitem>
          <listitem>
            <simpara>
1,000 cycles : CD/DVD-RW
</simpara>
          </listitem>
          <listitem>
            <simpara>
1 cycles : CD/DVD-R, paper
</simpara>
          </listitem>
        </itemizedlist>
        <caution>
          <simpara>Figures of storage life and write cycle here should not be used for
decisions on any critical data storage.  Please consult the specific product
information provided by the manufacture.</simpara>
        </caution>
        <tip>
          <simpara>Since CD/DVD-R and paper have only 1 write cycle, they inherently prevent
accidental data loss by overwriting.  This is advantage!</simpara>
        </tip>
        <tip>
          <simpara>If you need fast and frequent backup of large amount of data, a harddisk on
a remote host linked by a fast network connection, may be the only realistic
option.</simpara>
        </tip>
      </section>
    </section>
    <section id="_the_binary_data">
      <title>バイナリデータ</title>
      <simpara>Here, we discuss direct manipulation of the binary data on storage media.
See <xref linkend="_data_storage_tips"/>, too.</simpara>
      <section id="_make_the_disk_image_file">
        <title>Make the disk image file</title>
        <simpara>The disk image file, "<literal>disk.img</literal>", of an unmounted device,
e.g., the second SCSI drive "<literal>/dev/sdb</literal>", can be made using
<literal>cp</literal>(1) or <literal>dd</literal>(1):</simpara>
        <screen># cp /dev/sdb disk.img
# dd if=/dev/sdb of=disk.img</screen>
        <simpara>The disk image of the traditional PC's <ulink
url="&masterbootrecordmbr;">master boot record (MBR)</ulink> (see <xref
linkend="_partition_configuration"/>) which reside on the first sector on
the primary IDE disk partial disk can be made by using
<literal>dd</literal>(1):</simpara>
        <screen># dd if=/dev/hda of=mbr.img bs=512 count=1
# dd if=/dev/hda of=mbr-nopart.img bs=446 count=1
# dd if=/dev/hda of=mbr-part.img skip=446 bs=1 count=66</screen>
        <itemizedlist>
          <listitem>
            <simpara>
"<literal>mbr.img</literal>": the MBR with the partition table.
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>mbr-nopart.img</literal>": the MBR without the partition table.
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>part.img</literal>": the partition table of the MBR only..
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>If you have a SCSI device (including the new serial ATA drive) as the boot
disk, substitute "<literal>/dev/hda</literal>" with
"<literal>/dev/sda</literal>".</simpara>
        <simpara>If you are making an image of a disk partition of the original disk,
substitute "<literal>/dev/hda</literal>" with "<literal>/dev/hda1</literal>"
etc.</simpara>
      </section>
      <section id="_writing_directly_to_the_disk">
        <title>Writing directly to the disk</title>
        <simpara>The disk image file, "<literal>disk.img</literal>" can be written to an
unmounted device, e.g., the second SCSI drive "<literal>/dev/sdb</literal>"
with matching size, by <literal>dd</literal>(1):</simpara>
        <screen># dd if=disk.img of=/dev/sdb</screen>
        <simpara>Similarly, the disk partition image file, "<literal>disk.img</literal>" can
be written to an unmounted partition, e.g., the first partition of the
second SCSI drive "<literal>/dev/sdb1</literal>" with matching size, by
<literal>dd</literal>(1):</simpara>
        <screen># dd if=disk.img of=/dev/sdb1</screen>
      </section>
      <section id="_view_and_edit_binary_data">
        <title>View and edit binary data</title>
        <simpara>The most basic viewing method of binary data is to use "<literal>od -t
x1</literal>" command.</simpara>
        <table id="listofpackageswhndeditbinarydata" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>バイナリデーターを閲覧や編集するパッケージのリスト。</title>
          <tgroup cols="4">
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="288" align="left"/>
            <thead>
              <row>
                <entry>
    パッケージ
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    サイズ
    </entry>
                <entry>
    説明
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/coreutils">
<literal>coreutils</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/coreutils">&pop-coreutils;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/c/coreutils.html">&size-coreutils;</ulink></entry>
                <entry>
    This basic package has <literal>od</literal>(1) to dump files in octal and
other formats.
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/bsdmainutils">
<literal>bsdmainutils</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/bsdmainutils">&pop-bsdmainutils;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/b/bsdmainutils.html">&size-bsdmainutils;</ulink></entry>
                <entry>
    This utility package has <literal>hd</literal>(1) to dump files in ASCII,
decimal, hexadecimal, and octal formats.
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/hexedit">
<literal>hexedit</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/hexedit">&pop-hexedit;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/h/hexedit.html">&size-hexedit;</ulink></entry>
                <entry>
    View and edit files in hexadecimal or in ASCII
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/bless"> <literal>bless</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/bless">&pop-bless;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/b/bless.html">&size-bless;</ulink></entry>
                <entry>
    Full featured hexadecimal editor (GNOME)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/khexedit">
<literal>khexedit</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/khexedit">&pop-khexedit;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/k/khexedit.html">&size-khexedit;</ulink></entry>
                <entry>
    Full featured hexadecimal editor (KDE).
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/okteta">
<literal>okteta</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/okteta">&pop-okteta;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/o/okteta.html">&size-okteta;</ulink></entry>
                <entry>
    Full featured hexadecimal editor (KDE4).
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/ncurses-hexedit">
<literal>ncurses-hexedit</literal> </ulink></entry>
                <entry><ulink
url="http://bugs.debian.org/ncurses-hexedit">&pop-ncurseshexedit;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/n/ncurses-hexedit.html">&size-ncurseshexedit;</ulink></entry>
                <entry>
    Edit files/disks in HEX, ASCII and EBCDIC
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/lde"> <literal>lde</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/lde">&pop-lde;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/l/lde.html">&size-lde;</ulink></entry>
                <entry>
    Linux Disk Editor
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/beav"> <literal>beav</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/beav">&pop-beav;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/b/beav.html">&size-beav;</ulink></entry>
                <entry>
    Binary editor and viewer for HEX, ASCII, EBCDIC, OCTAL, DECIMAL, and BINARY
formats.
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/hex"> <literal>hex</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/hex">&pop-hex;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/h/hex.html">&size-hex;</ulink></entry>
                <entry>
    Hexadecimal dumping tool for Japanese
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <tip>
          <simpara>HEX is used as an acronym for hexadecimal format.</simpara>
        </tip>
      </section>
      <section id="_mount_the_disk_image_file">
        <title>Mount the disk image file</title>
        <simpara>If "<literal>disk.img</literal>" contains an image of the disk contents and
the original disk had a disk configuration which gives <literal>xxxx =
(bytes/sector) * (sectors/cylinder)</literal>, then the following will mount
it to "<literal>/mnt</literal>":</simpara>
        <screen># mount -o loop,offset=xxxx disk.img /mnt</screen>
        <simpara>Note that most hard disks have 512 bytes/sector.  This offset is to skip
<ulink url="&mbr;">MBR</ulink> of the hard disk. You can skip offset in the
above example, if "<literal>disk.img</literal>" contains</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
only an image of a disk partition of the original hard disk, or
</simpara>
          </listitem>
          <listitem>
            <simpara>
only an image of the original floppy disk.
</simpara>
          </listitem>
        </itemizedlist>
      </section>
      <section id="_manipulating_files_without_mounting_disk">
        <title>Manipulating files without mounting disk</title>
        <simpara>There are tools to read and write files without mounting disk.</simpara>
        <table id="listofpackagestoswithoutmounting" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of packages to manipulate files without mounting.</title>
          <tgroup cols="4">
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="288" align="left"/>
            <thead>
              <row>
                <entry>
    パッケージ
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    サイズ
    </entry>
                <entry>
    説明
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/mtools">
<literal>mtools</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/mtools">&pop-mtools;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/m/mtools.html">&size-mtools;</ulink></entry>
                <entry>
    Utilities for MSDOS files without mounting them.
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/hfsutils">
<literal>hfsutils</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/hfsutils">&pop-hfsutils;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/h/hfsutils.html">&size-hfsutils;</ulink></entry>
                <entry>
    Utilities for HFS and HFS+ files without mounting them.
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </section>
      <section id="_recover_data_files_from_harddisk">
        <title>Recover data files from harddisk</title>
        <simpara>There is a tool to recover data files from harddisk.</simpara>
        <table id="listofpackagestoilesfromharddisk" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of packages to recover data files from harddisk.</title>
          <tgroup cols="4">
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="288" align="left"/>
            <thead>
              <row>
                <entry>
    パッケージ
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    サイズ
    </entry>
                <entry>
    説明
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/testdisk">
<literal>testdisk</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/testdisk">&pop-testdisk;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/t/testdisk.html">&size-testdisk;</ulink></entry>
                <entry>
    Utilities for partition scan and disk recovery.
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </section>
      <section id="_make_the_iso9660_image_file">
        <title>Make the ISO9660 image file</title>
        <simpara>The <ulink url="&isojgga;">ISO9660</ulink> image file,
"<literal>cd.iso</literal>", from the source directory tree at
"<literal>source_directory</literal>" can be made using
<literal>genisoimage</literal>(1):</simpara>
        <screen>#  genisoimage -r -J -T -V volume_id -o cd.iso source_directory</screen>
        <simpara>Similary, the bootable ISO9660 image file, "<literal>cdboot.iso</literal>",
can be made from <literal>debian-installer</literal> like directory tree at
"<literal>source_directory</literal>":</simpara>
        <screen>#  genisoimage -r -o cdboot.iso -V volume_id \
   -b isolinux/isolinux.bin -c isolinux/boot.cat \
   -no-emul-boot -boot-load-size 4 -boot-info-table source_directory</screen>
        <simpara>Here <ulink url="&isolinuxbootloader;">Isolinux boot loader</ulink> (see
<xref linkend="_stage_2_the_boot_loader"/>) is used for booting.</simpara>
        <simpara>To make the disk image directly from the CD-ROM device using
<literal>cp</literal>(1) or <literal>dd</literal>(1) has a few problems. The
first run of <literal>dd</literal>(1) may cause an error message and may
yield a shorter disk image with a lost tail-end. The second run of
<literal>dd</literal>(1) may yield a larger disk image with garbage data
attached at the end on some systems if the data size is not specified. Only
the second run of <literal>dd</literal>(1) with the correct data size
specified, and without ejecting the CD after an error message, seems to
avoid these problems. If for example the image size displayed by
<literal>df</literal>(1) is 46301184 blocks, use the following command twice
to get the right image (this is my empirical information):</simpara>
        <screen># dd if=/dev/cdrom of=cd.iso bs=2048 count=$((46301184/2))</screen>
      </section>
      <section id="_writing_directly_to_the_cd_dvd_r_rw">
        <title>Writing directly to the CD/DVD-R/RW</title>
        <tip>
          <simpara>DVD is only a large CD to <literal>wodim</literal>(1).</simpara>
        </tip>
        <simpara>You can find a usable device by:</simpara>
        <screen># wodim --devices</screen>
        <simpara>Then the blank CD-R is inserted to the device, and the ISO9660 image file,
"<literal>cd.iso</literal>" is written to this device, e.g.,
"<literal>/dev/hda</literal>", by <literal>wodim</literal>(1):</simpara>
        <screen># wodim -v -eject dev=/dev/hda cd.iso</screen>
        <simpara>If CD-RW is used instead of CD-R, do this instead:</simpara>
        <screen># wodim -v -eject blank=fast dev=/dev/hda cd.iso</screen>
        <tip>
          <simpara>If your desktop system mounts CD automatically, unmount it by "<literal>sudo
unmount /dev/hda</literal>" before using <literal>wodim</literal>(1).</simpara>
        </tip>
      </section>
      <section id="_mount_the_iso9660_image_file">
        <title>Mount the ISO9660 image file</title>
        <simpara>If "<literal>cd.iso</literal>" contains an ISO9660 image, then the following
will manually mount it to "<literal>/cdrom</literal>":</simpara>
        <screen># mount -t iso9660 -o ro,loop cd.iso /cdrom</screen>
        <tip>
          <simpara>Modern desktop system mounts removable media automatically (see <xref
linkend="_removable_mass_storage_device"/>).</simpara>
        </tip>
      </section>
      <section id="_split_a_large_file_into_small_files">
        <title>Split a large file into small files</title>
        <simpara>When a data is too big to backup, you can back up a large file into,
e.g. 2000MiB chunks and merge those files into a large file.</simpara>
        <screen>$ split -b 2000m large_file
$ cat x* &gt;large_file</screen>
        <caution>
          <simpara>Please make sure you do not have any file starting with
"<literal>x</literal>" to avoid the file name crash.</simpara>
        </caution>
      </section>
      <section id="_clear_file_contents">
        <title>Clear file contents</title>
        <simpara>In order to clear the contents of a file such as a log file, do not use
<literal>rm</literal>(1) to delete the file and then create a new empty
file, because the file may still be accessed in the interval between
commands.  The following is the safe way to clear the contents of the file.</simpara>
        <screen>$ :&gt;file_to_be_cleared</screen>
      </section>
      <section id="_dummy_files">
        <title>Dummy files</title>
        <simpara>次のコマンドはダミーや空のファイルを作成します。</simpara>
        <screen>$ dd if=/dev/zero    of=5kb.file bs=1k count=5
$ dd if=/dev/urandom of=7mb.file bs=1M count=7
$ touch zero.file
$ : &gt; alwayszero.file</screen>
        <itemizedlist>
          <listitem>
            <simpara>
"<literal>5kb.file</literal>" is 5KB of zeros.
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>7mb.file</literal>" is 7MB of random data.
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>zero.file</literal>" is 0 byte file (if file exists, the file
contents are kept while updating mtime.)
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>alwayszero.file</literal>" is always 0 byte file (if file exists,
the file contents are not kept while updating mtime.)
</simpara>
          </listitem>
        </itemizedlist>
      </section>
      <section id="_erase_entire_harddisk">
        <title>Erase entire harddisk</title>
        <simpara>There are several ways to completely erase data from an entire harddisk-like
device, e.g., USB memory stick at "<literal>/dev/sda</literal>".</simpara>
        <caution>
          <simpara>Check your USB memory stick location with <literal>mount</literal>(8) first
before executing commands here.  The device pointed by
"<literal>/dev/sda</literal>" may be SCSI harddisk or serial-ATA harddisk
where your entire system resides.</simpara>
        </caution>
        <itemizedlist>
          <listitem>
            <simpara>
Erase all by resetting data to 0:
</simpara>
          </listitem>
        </itemizedlist>
        <screen>dd if=/dev/zero of=/dev/sda</screen>
        <itemizedlist>
          <listitem>
            <simpara>
Erase all by overwriting random data:
</simpara>
          </listitem>
        </itemizedlist>
        <screen># dd if=/dev/urandom of=/dev/sda</screen>
        <itemizedlist>
          <listitem>
            <simpara>
Erase all by overwriting random data very efficiently (fast):
</simpara>
          </listitem>
        </itemizedlist>
        <screen># shred -v -n 1 /dev/sda</screen>
        <simpara>Since <literal>dd</literal>(1) is available from the shell of many bootable
Linux CDs such as Debian installer CD, you can erase your installed system
completely by running an erase command from such media on the system hard
disk, e.g., "<literal>/dev/hda</literal>", "<literal>/dev/sda</literal>",
etc.</simpara>
      </section>
      <section id="_undelete_deleted_but_still_open_file">
        <title>Undelete deleted but still open file</title>
        <simpara>Even if you have accidentally deleted a file, as long as that file is still
being used by some application (read or write mode), it is possible to
recover such a file.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
On one terminal:
</simpara>
          </listitem>
        </itemizedlist>
        <screen>$ echo foo &gt; bar
$ less bar</screen>
        <itemizedlist>
          <listitem>
            <simpara>
Then on another terminal:
</simpara>
          </listitem>
        </itemizedlist>
        <screen>$ ps aux | grep ' less[ ]'
bozo    4775  0.0  0.0  92200   884 pts/8    S+   00:18   0:00 less bar
$ rm bar
$ ls -l /proc/4775/fd | grep bar
lr-x------ 1 bozo bozo 64 2008-05-09 00:19 4 -&gt; /home/bozo/bar (deleted)
$ cat /proc/4775/fd/4 &gt;bar
$ ls -l
-rw-r--r-- 1 bozo bozo 4 2008-05-09 00:25 bar
$ cat bar
foo</screen>
        <itemizedlist>
          <listitem>
            <simpara>
Alternatively, when you have the <literal>lsof</literal> package installed,
on another terminal:
</simpara>
          </listitem>
        </itemizedlist>
        <screen>$ ls -li bar
2228329 -rw-r--r-- 1 bozo bozo 4 2008-05-11 11:02 bar
$ lsof |grep bar|grep less
less 4775 bozo 4r REG 8,3 4 2228329 /home/bozo/bar
$ rm bar
$ lsof |grep bar|grep less
less 4775 bozo 4r REG 8,3 4 2228329 /home/bozo/bar (deleted)
$ cat /proc/4775/fd/4 &gt;bar
$ ls -li bar
2228302 -rw-r--r-- 1 bozo bozo 4 2008-05-11 11:05 bar
$ cat bar
foo</screen>
      </section>
      <section id="_searching_all_hardlinks">
        <title>Searching all hardlinks</title>
        <simpara>Files with hardlinks can be identified by "<literal>ls -li</literal>", e.g.:</simpara>
        <screen>$ ls -li
total 0
2738405 -rw-r--r-- 1 root root 0 2008-09-15 20:21 bar
2738404 -rw-r--r-- 2 root root 0 2008-09-15 20:21 baz
2738404 -rw-r--r-- 2 root root 0 2008-09-15 20:21 foo</screen>
        <simpara>Both "<literal>baz</literal>" and "<literal>foo</literal>" have link count
of "2" (&gt;1) showing them to have hardlinks.  Their inode numbers are
common "2738404".  This means they are the same hardlinked file.  If you do
not happen to find all hardlinked files by chance, you can search it by the
inode, e.g., "2738404":</simpara>
        <screen># find /path/to/mount/point -xdev -inum 2738404</screen>
      </section>
      <section id="_invisible_disk_space_consumption">
        <title>Invisible disk space consumption</title>
        <simpara>All deleted but open files consumes disk space although they are not visible
from normal <literal>du</literal>(1).  They can be listed with their size
by:</simpara>
        <screen># lsof -s -X / |grep deleted</screen>
      </section>
    </section>
    <section id="_data_security_infrastructure">
      <title>Data security infrastructure</title>
      <simpara>The data security infrastructure is provided by the combination of data
encryption tool, message digest tool, and signature tool.</simpara>
      <table id="listofdatasecurirastructuretools" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>データセキュリティインフラツールのリスト。</title>
        <tgroup cols="4">
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="288" align="left"/>
          <thead>
            <row>
              <entry>
    パッケージ
    </entry>
              <entry>
    popcon
    </entry>
              <entry>
    サイズ
    </entry>
              <entry>
    機能
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/gnupg"> <literal>gnupg</literal>
</ulink></entry>
              <entry><ulink url="http://bugs.debian.org/gnupg">&pop-gnupg;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/g/gnupg.html">&size-gnupg;</ulink></entry>
              <entry><ulink url="&gnuprivacyguard;">GNU privacy guard</ulink> - OpenPGP
encryption and signing tool. <literal>gpg</literal>(1)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/gnupg-doc">
<literal>gnupg-doc</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/gnupg-doc">&pop-gnupgdoc;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/g/gnupg-doc.html">&size-gnupgdoc;</ulink></entry>
              <entry>
    GNU Privacy Guard documentation
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/gpgv"> <literal>gpgv</literal>
</ulink></entry>
              <entry><ulink url="http://bugs.debian.org/gpgv">&pop-gpgv;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/g/gpgv.html">&size-gpgv;</ulink></entry>
              <entry>
    GNU privacy guard - signature verification tool
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/cryptsetup">
<literal>cryptsetup</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/cryptsetup">&pop-cryptsetup;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/c/cryptsetup.html">&size-cryptsetup;</ulink></entry>
              <entry>
    Utilities for <ulink url="&dmcrypto;">dm-crypto</ulink> block device
encryption supporting <ulink url="&luks;">LUKS</ulink>
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/ecryptfs-utils">
<literal>ecryptfs-utils</literal> </ulink></entry>
              <entry><ulink
url="http://bugs.debian.org/ecryptfs-utils">&pop-ecryptfsutils;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/e/ecryptfs-utils.html">&size-ecryptfsutils;</ulink></entry>
              <entry>
    Utilities for <ulink url="&ecryptfs;">ecryptfs</ulink> stacked filesystem
encryption
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/coreutils">
<literal>coreutils</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/coreutils">&pop-coreutils;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/c/coreutils.html">&size-coreutils;</ulink></entry>
              <entry>
    The <literal>md5sum</literal> command computes and checks MD5 message digest
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/coreutils">
<literal>coreutils</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/coreutils">&pop-coreutils;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/c/coreutils.html">&size-coreutils;</ulink></entry>
              <entry>
    The <literal>sha1sum</literal> command computes and checks SHA1 message
digest
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/openssl">
<literal>openssl</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/openssl">&pop-openssl;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/o/openssl.html">&size-openssl;</ulink></entry>
              <entry>
    The "<literal>openssl dgst</literal>" command computes message digest
(OpenSSL). <literal>dgst</literal>(1ssl)
    </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <simpara>See <xref linkend="_data_encryption_tips"/> on <ulink
url="&dmcrypto;">dm-crypto</ulink> and <ulink
url="&ecryptfs;">ecryptfs</ulink> which implement automatic data encryption
infrastructure via Linux kernel modules.</simpara>
      <section id="_key_management_for_gnupg">
        <title>Gnupgのためのキー管理</title>
        <simpara>Here are <ulink url="&gnuprivacyguard;">GNU Privacy Guard</ulink> commands
for the basic key management:</simpara>
        <table id="listofgnuprivacythekeymanagement" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of GNU Privacy Guard commands for the key management</title>
          <tgroup cols="2">
            <colspec colwidth="144" align="left"/>
            <colspec colwidth="360" align="left"/>
            <thead>
              <row>
                <entry>
    コマンド
    </entry>
                <entry>
    説明
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>gpg --gen-key</literal>
                </entry>
                <entry>
    generate a new key
    </entry>
              </row>
              <row>
                <entry>
                  <literal>gpg --gen-revoke my_user_ID</literal>
                </entry>
                <entry>
    generate revoke key for my_user_ID
    </entry>
              </row>
              <row>
                <entry>
                  <literal>gpg --edit-key user_ID</literal>
                </entry>
                <entry>
    edit key interactively, "help" for help
    </entry>
              </row>
              <row>
                <entry>
                  <literal>gpg -o file --exports</literal>
                </entry>
                <entry>
    export all keys to file
    </entry>
              </row>
              <row>
                <entry>
                  <literal>gpg --imports file</literal>
                </entry>
                <entry>
    import all keys from file
    </entry>
              </row>
              <row>
                <entry>
                  <literal>gpg --send-keys user_ID</literal>
                </entry>
                <entry>
    send key of user_ID to keyserver
    </entry>
              </row>
              <row>
                <entry>
                  <literal>gpg --recv-keys user_ID</literal>
                </entry>
                <entry>
    recv. key of user_ID from keyserver
    </entry>
              </row>
              <row>
                <entry>
                  <literal>gpg --list-keys user_ID</literal>
                </entry>
                <entry>
    list keys of user_ID
    </entry>
              </row>
              <row>
                <entry>
                  <literal>gpg --list-sigs user_ID</literal>
                </entry>
                <entry>
    list sig. of user_ID
    </entry>
              </row>
              <row>
                <entry>
                  <literal>gpg --check-sigs user_ID</literal>
                </entry>
                <entry>
    check sig. of user_ID
    </entry>
              </row>
              <row>
                <entry>
                  <literal>gpg --fingerprint user_ID</literal>
                </entry>
                <entry>
    check fingerprint of "user_ID"
    </entry>
              </row>
              <row>
                <entry>
                  <literal>gpg --refresh-keys</literal>
                </entry>
                <entry>
    update local keyring
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>Here is the meaning of trust code:</simpara>
        <table id="listofthemeaningoftrustcode" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>信頼性コードの意味のリスト。</title>
          <tgroup cols="2">
            <colspec colwidth="144" align="left"/>
            <colspec colwidth="360" align="left"/>
            <thead>
              <row>
                <entry>
    コード
    </entry>
                <entry>
    信頼性
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>-</literal>
                </entry>
                <entry>
    No owner trust assigned / not yet calculated.
    </entry>
              </row>
              <row>
                <entry>
                  <literal>e</literal>
                </entry>
                <entry>
    Trust calculation has failed.
    </entry>
              </row>
              <row>
                <entry>
                  <literal>q</literal>
                </entry>
                <entry>
    Not enough information for calculation.
    </entry>
              </row>
              <row>
                <entry>
                  <literal>n</literal>
                </entry>
                <entry>
    Never trust this key.
    </entry>
              </row>
              <row>
                <entry>
                  <literal>m</literal>
                </entry>
                <entry>
    Marginally trusted.
    </entry>
              </row>
              <row>
                <entry>
                  <literal>f</literal>
                </entry>
                <entry>
    Fully trusted.
    </entry>
              </row>
              <row>
                <entry>
                  <literal>u</literal>
                </entry>
                <entry>
    Ultimately trusted.
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>The following will upload my key "<literal>A8061F32</literal>" to the
popular keyserver "<literal>hkp://subkeys.pgp.net</literal>":</simpara>
        <screen>$ gpg --keyserver hkp://subkeys.pgp.net --send-keys A8061F32</screen>
        <simpara>A good default keyserver set up in "<literal>~/.gnupg/gpg.conf</literal>"
(or old location "<literal>~/.gnupg/options</literal>") contains:</simpara>
        <screen>keyserver hkp://subkeys.pgp.net</screen>
        <simpara>The following will obtain unknown keys from the keyserver:</simpara>
        <screen>$ gpg --list-sigs | \
  sed -n '/^sig.*\[User ID not found\]/s/^sig..........\(\w\w*\)\W.*/\1/p' |\
  sort | uniq | xargs gpg --recv-keys</screen>
        <simpara>There was a bug in <ulink url="&openpgppublickeyserver;">OpenPGP Public Key
Server</ulink> (pre version 0.9.6) which corrupted key with more than 2
sub-keys.  The newer <literal>gnupg</literal> (&gt;1.2.1-2) package can
handle these corrupted subkeys.  See <literal>gpg</literal>(1) under
"<literal>--repair-pks-subkey-bug</literal>" option.</simpara>
      </section>
      <section id="_using_gnupg_with_files">
        <title>Using GnuPG with files</title>
        <simpara>File handling:</simpara>
        <table id="listofgnuprivacydcommandsonfiles" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of gnu privacy guard commands on files</title>
          <tgroup cols="2">
            <colspec colwidth="144" align="left"/>
            <colspec colwidth="360" align="left"/>
            <thead>
              <row>
                <entry>
    コマンド
    </entry>
                <entry>
    説明
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>gpg -a -s file</literal>
                </entry>
                <entry>
    sign file into ascii armored file.asc
    </entry>
              </row>
              <row>
                <entry>
                  <literal>gpg --armor --sign file</literal>
                </entry>
                <entry>
    , ,
    </entry>
              </row>
              <row>
                <entry>
                  <literal>gpg --clearsign file</literal>
                </entry>
                <entry>
    clear-sign message
    </entry>
              </row>
              <row>
                <entry>
                  <literal>gpg --clearsign --not-dash-escaped patchfile</literal>
                </entry>
                <entry>
    clear-sign patchfile
    </entry>
              </row>
              <row>
                <entry>
                  <literal>gpg --verify file</literal>
                </entry>
                <entry>
    verify clear-signed file
    </entry>
              </row>
              <row>
                <entry>
                  <literal>gpg -o file.sig -b file</literal>
                </entry>
                <entry>
    create detached signature
    </entry>
              </row>
              <row>
                <entry>
                  <literal>gpg -o file.sig --detach-sig file</literal>
                </entry>
                <entry>
    , ,
    </entry>
              </row>
              <row>
                <entry>
                  <literal>gpg --verify file.sig file</literal>
                </entry>
                <entry>
    verify file with file.sig
    </entry>
              </row>
              <row>
                <entry>
                  <literal>gpg -o crypt_file.gpg -r name -e file</literal>
                </entry>
                <entry>
    public-key encryption intended for name from file to binary crypt_file.gpg
    </entry>
              </row>
              <row>
                <entry>
                  <literal>gpg -o crypt_file.gpg --recipient name --encrypt file</literal>
                </entry>
                <entry>
    , ,
    </entry>
              </row>
              <row>
                <entry>
                  <literal>gpg -o crypt_file.asc -a -r name -e file</literal>
                </entry>
                <entry>
    public-key encryption intended for name from file to ASCII armored
crypt_file.asc
    </entry>
              </row>
              <row>
                <entry>
                  <literal>gpg -o crypt_file.gpg -c file</literal>
                </entry>
                <entry>
    symmetric encryption from file to crypt_file.gpg
    </entry>
              </row>
              <row>
                <entry>
                  <literal>gpg -o crypt_file.gpg --symmetric file</literal>
                </entry>
                <entry>
    , ,
    </entry>
              </row>
              <row>
                <entry>
                  <literal>gpg -o crypt_file.asc -a -c file</literal>
                </entry>
                <entry>
    symmetric encryption intended for name from file to ASCII armored
crypt_file.asc
    </entry>
              </row>
              <row>
                <entry>
                  <literal>gpg -o file -d crypt_file.gpg -r name</literal>
                </entry>
                <entry>
    暗号解読
    </entry>
              </row>
              <row>
                <entry>
                  <literal>gpg -o file --decrypt crypt_file.gpg</literal>
                </entry>
                <entry>
    , ,
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </section>
      <section id="_using_gnupg_with_mutt">
        <title>Using GnuPG with Mutt</title>
        <simpara>Add the following to "<literal>~/.muttrc</literal>" to keep a slow GnuPG
from automatically starting, while allowing it to be used by typing
"<literal>S</literal>" at the index menu.</simpara>
        <screen>macro index S ":toggle pgp_verify_sig\n"
set pgp_verify_sig=no</screen>
      </section>
      <section id="_using_gnupg_with_vim">
        <title>Using GnuPG with Vim</title>
        <simpara>The <literal>gnupg</literal> plugin let you run GnuPG transparently for
files with extension "<literal>.gpg</literal>", "<literal>.asc</literal>",
and "<literal>.ppg</literal>".</simpara>
        <screen># aptitude install vim-scripts vim-addon-manager
$ vim-addons install gnupg</screen>
      </section>
      <section id="_the_md5_sum">
        <title>The MD5 sum</title>
        <simpara><literal>md5sum</literal>(1) provides utility to make a digest file using
the method in <ulink url="&rfcbdcb;">rfc1321</ulink> and verifying each file
with it.</simpara>
        <screen>$ md5sum foo bar &gt;baz.md5
$ cat baz.md5
d3b07384d113edec49eaa6238ad5ff00  foo
c157a79031e1c40f85931829bc5fc552  bar
$ md5sum -c baz.md5
foo: OK
bar: OK</screen>
        <note>
          <simpara>The computation for the <ulink url="&mdf;">MD5</ulink> sum is less CPU
intensive than the one for the cryptographic signature by <ulink
url="&gnuprivacyguardgnupg;">GNU Privacy Guard (GnuPG)</ulink>. Usually,
only the top level digest file is cryptographically signed to ensure data
integrity.</simpara>
        </note>
      </section>
    </section>
    <section id="_source_code_merge_tools">
      <title>Source code merge tools</title>
      <simpara>There are many merge tools for the source code.  Following commands caught
my eyes.:</simpara>
      <table id="listofsourcecodemergetools" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>ソースコードマージツールのリスト。</title>
        <tgroup cols="5">
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="216" align="left"/>
          <thead>
            <row>
              <entry>
    コマンド
    </entry>
              <entry>
    パッケージ
    </entry>
              <entry>
    popcon
    </entry>
              <entry>
    サイズ
    </entry>
              <entry>
    説明
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry><literal>diff</literal>(1)
    </entry>
              <entry><ulink url="http://packages.debian.org/sid/diff"> <literal>diff</literal>
</ulink></entry>
              <entry><ulink url="http://bugs.debian.org/diff">&pop-diff;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/d/diff.html">&size-diff;</ulink></entry>
              <entry>
    This compares files line by line.
    </entry>
            </row>
            <row>
              <entry><literal>diff3</literal>(1)
    </entry>
              <entry><ulink url="http://packages.debian.org/sid/diff"> <literal>diff</literal>
</ulink></entry>
              <entry><ulink url="http://bugs.debian.org/diff">&pop-diff;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/d/diff.html">&size-diff;</ulink></entry>
              <entry>
    This compares and merges three files line by line.
    </entry>
            </row>
            <row>
              <entry><literal>vimdiff</literal>(1)
    </entry>
              <entry><ulink url="http://packages.debian.org/sid/vim"> <literal>vim</literal>
</ulink></entry>
              <entry><ulink url="http://bugs.debian.org/vim">&pop-vim;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/v/vim.html">&size-vim;</ulink></entry>
              <entry>
    This compares 2 files side by side in vim.
    </entry>
            </row>
            <row>
              <entry><literal>patch</literal>(1)
    </entry>
              <entry><ulink url="http://packages.debian.org/sid/patch"> <literal>patch</literal>
</ulink></entry>
              <entry><ulink url="http://bugs.debian.org/patch">&pop-patch;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/p/patch.html">&size-patch;</ulink></entry>
              <entry>
    This applies a diff file to an original.
    </entry>
            </row>
            <row>
              <entry><literal>dpatch</literal>(1)
    </entry>
              <entry><ulink url="http://packages.debian.org/sid/dpatch">
<literal>dpatch</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/dpatch">&pop-dpatch;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/d/dpatch.html">&size-dpatch;</ulink></entry>
              <entry>
    This manage series of patches for Debian package.
    </entry>
            </row>
            <row>
              <entry><literal>diffstat</literal>(1)
    </entry>
              <entry><ulink url="http://packages.debian.org/sid/diffstat">
<literal>diffstat</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/diffstat">&pop-diffstat;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/d/diffstat.html">&size-diffstat;</ulink></entry>
              <entry>
    This produces a histogram of changes by the diff.
    </entry>
            </row>
            <row>
              <entry><literal>combinediff</literal>(1)
    </entry>
              <entry><ulink url="http://packages.debian.org/sid/patchutils">
<literal>patchutils</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/patchutils">&pop-patchutils;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/p/patchutils.html">&size-patchutils;</ulink></entry>
              <entry>
    This creates a cumulative patch from two incremental patches.
    </entry>
            </row>
            <row>
              <entry><literal>dehtmldiff</literal>(1)
    </entry>
              <entry><ulink url="http://packages.debian.org/sid/patchutils">
<literal>patchutils</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/patchutils">&pop-patchutils;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/p/patchutils.html">&size-patchutils;</ulink></entry>
              <entry>
    This extracts a diff from an HTML page.
    </entry>
            </row>
            <row>
              <entry><literal>filterdiff</literal>(1)
    </entry>
              <entry><ulink url="http://packages.debian.org/sid/patchutils">
<literal>patchutils</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/patchutils">&pop-patchutils;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/p/patchutils.html">&size-patchutils;</ulink></entry>
              <entry>
    This extracts or excludes diffs from a diff file.
    </entry>
            </row>
            <row>
              <entry><literal>fixcvsdiff</literal>(1)
    </entry>
              <entry><ulink url="http://packages.debian.org/sid/patchutils">
<literal>patchutils</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/patchutils">&pop-patchutils;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/p/patchutils.html">&size-patchutils;</ulink></entry>
              <entry>
    This fixes diff files created by CVS that "patch" mis-interprets.
    </entry>
            </row>
            <row>
              <entry><literal>flipdiff</literal>(1)
    </entry>
              <entry><ulink url="http://packages.debian.org/sid/patchutils">
<literal>patchutils</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/patchutils">&pop-patchutils;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/p/patchutils.html">&size-patchutils;</ulink></entry>
              <entry>
    This exchanges the order of two patches.
    </entry>
            </row>
            <row>
              <entry><literal>grepdiff</literal>(1)
    </entry>
              <entry><ulink url="http://packages.debian.org/sid/patchutils">
<literal>patchutils</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/patchutils">&pop-patchutils;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/p/patchutils.html">&size-patchutils;</ulink></entry>
              <entry>
    This shows which files are modified by a patch matching a regex.
    </entry>
            </row>
            <row>
              <entry><literal>interdiff</literal>(1)
    </entry>
              <entry><ulink url="http://packages.debian.org/sid/patchutils">
<literal>patchutils</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/patchutils">&pop-patchutils;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/p/patchutils.html">&size-patchutils;</ulink></entry>
              <entry>
    This shows differences between two unified diff files.
    </entry>
            </row>
            <row>
              <entry><literal>lsdiff</literal>(1)
    </entry>
              <entry><ulink url="http://packages.debian.org/sid/patchutils">
<literal>patchutils</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/patchutils">&pop-patchutils;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/p/patchutils.html">&size-patchutils;</ulink></entry>
              <entry>
    This shows which files are modified by a patch.
    </entry>
            </row>
            <row>
              <entry><literal>recountdiff</literal>(1)
    </entry>
              <entry><ulink url="http://packages.debian.org/sid/patchutils">
<literal>patchutils</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/patchutils">&pop-patchutils;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/p/patchutils.html">&size-patchutils;</ulink></entry>
              <entry>
    This recomputes counts and offsets in unified context diffs.
    </entry>
            </row>
            <row>
              <entry><literal>rediff</literal>(1)
    </entry>
              <entry><ulink url="http://packages.debian.org/sid/patchutils">
<literal>patchutils</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/patchutils">&pop-patchutils;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/p/patchutils.html">&size-patchutils;</ulink></entry>
              <entry>
    This fixes offsets and counts of a hand-edited diff.
    </entry>
            </row>
            <row>
              <entry><literal>splitdiff</literal>(1)
    </entry>
              <entry><ulink url="http://packages.debian.org/sid/patchutils">
<literal>patchutils</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/patchutils">&pop-patchutils;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/p/patchutils.html">&size-patchutils;</ulink></entry>
              <entry>
    This separates out incremental patches.
    </entry>
            </row>
            <row>
              <entry><literal>unwrapdiff</literal>(1)
    </entry>
              <entry><ulink url="http://packages.debian.org/sid/patchutils">
<literal>patchutils</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/patchutils">&pop-patchutils;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/p/patchutils.html">&size-patchutils;</ulink></entry>
              <entry>
    This demangles patches that have been word-wrapped.
    </entry>
            </row>
            <row>
              <entry><literal>wiggle</literal>(1)
    </entry>
              <entry><ulink url="http://packages.debian.org/sid/wiggle">
<literal>wiggle</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/wiggle">&pop-wiggle;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/w/wiggle.html">&size-wiggle;</ulink></entry>
              <entry>
    This applies rejected patches.
    </entry>
            </row>
            <row>
              <entry><literal>quilt</literal>(1)
    </entry>
              <entry><ulink url="http://packages.debian.org/sid/quilt"> <literal>quilt</literal>
</ulink></entry>
              <entry><ulink url="http://bugs.debian.org/quilt">&pop-quilt;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/q/quilt.html">&size-quilt;</ulink></entry>
              <entry>
    This manage series of patches.
    </entry>
            </row>
            <row>
              <entry><literal>meld</literal>(1)
    </entry>
              <entry><ulink url="http://packages.debian.org/sid/meld"> <literal>meld</literal>
</ulink></entry>
              <entry><ulink url="http://bugs.debian.org/meld">&pop-meld;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/m/meld.html">&size-meld;</ulink></entry>
              <entry>
    This is a GTK graphical file comparator and merge tool.
    </entry>
            </row>
            <row>
              <entry><literal>xxdiff</literal>(1)
    </entry>
              <entry><ulink url="http://packages.debian.org/sid/xxdiff">
<literal>xxdiff</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/xxdiff">&pop-xxdiff;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/x/xxdiff.html">&size-xxdiff;</ulink></entry>
              <entry>
    This is a plain X graphical file comparator and merge tool.
    </entry>
            </row>
            <row>
              <entry><literal>dirdiff</literal>(1)
    </entry>
              <entry><ulink url="http://packages.debian.org/sid/dirdiff">
<literal>dirdiff</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/dirdiff">&pop-dirdiff;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/d/dirdiff.html">&size-dirdiff;</ulink></entry>
              <entry>
    This displays and merges changes between directory trees.
    </entry>
            </row>
            <row>
              <entry><literal>docdiff</literal>(1)
    </entry>
              <entry><ulink url="http://packages.debian.org/sid/docdiff">
<literal>docdiff</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/docdiff">&pop-docdiff;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/d/docdiff.html">&size-docdiff;</ulink></entry>
              <entry>
    This compares two files word by word / char by char.
    </entry>
            </row>
            <row>
              <entry><literal>imediff2</literal>(1)
    </entry>
              <entry><ulink url="http://packages.debian.org/sid/imediff2">
<literal>imediff2</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/imediff2">&pop-imediffc;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/i/imediff2.html">&size-imediffc;</ulink></entry>
              <entry>
    This is an interactive full screen 2-way merge tool.
    </entry>
            </row>
            <row>
              <entry><literal>makepatch</literal>(1)
    </entry>
              <entry><ulink url="http://packages.debian.org/sid/makepatch">
<literal>makepatch</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/makepatch">&pop-makepatch;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/m/makepatch.html">&size-makepatch;</ulink></entry>
              <entry>
    This generates extended patch files.
    </entry>
            </row>
            <row>
              <entry><literal>applypatch</literal>(1)
    </entry>
              <entry><ulink url="http://packages.debian.org/sid/makepatch">
<literal>makepatch</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/makepatch">&pop-makepatch;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/m/makepatch.html">&size-makepatch;</ulink></entry>
              <entry>
    This applies extended patch files.
    </entry>
            </row>
            <row>
              <entry><literal>wdiff</literal>(1)
    </entry>
              <entry><ulink url="http://packages.debian.org/sid/wdiff"> <literal>wdiff</literal>
</ulink></entry>
              <entry><ulink url="http://bugs.debian.org/wdiff">&pop-wdiff;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/w/wdiff.html">&size-wdiff;</ulink></entry>
              <entry>
    This displays word differences between text files.
    </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <section id="_extract_differences_for_source_files">
        <title>Extract differences for source files</title>
        <simpara>Following one of these procedures will extract differences between two
source files and create unified diff files "<literal>file.patch0</literal>"
or "<literal>file.patch1</literal>" depending on the file location:</simpara>
        <screen>$ diff -u file.old file.new &gt; file.patch0
$ diff -u old/file new/file &gt; file.patch1</screen>
      </section>
      <section id="_merge_updates_for_source_files">
        <title>Merge updates for source files</title>
        <simpara>The diff file (alternatively called patch file) is used to send a program
update.  The receiving party will apply this update to another file by:</simpara>
        <screen>$ patch -p0 file &lt; file.patch0
$ patch -p1 file &lt; file.patch1</screen>
      </section>
      <section id="_3_way_merge_updates">
        <title>3 way merge updates</title>
        <simpara>If you have three versions of source code, you can merge them more
effectively using <literal>diff3</literal>(1):</simpara>
        <screen>$ diff3 -m file.mine file.old file.yours &gt; file</screen>
      </section>
    </section>
    <section id="_version_control_systems">
      <title>Version control systems</title>
      <simpara>Here is a summary of the <ulink url="&versioncontrolsystemsvcs;">version
control systems (VCS)</ulink> on the Debian system:</simpara>
      <note>
        <simpara>If you are new to VCS systems, you should start learning with <emphasis
role="strong">Git</emphasis>, which is growing fast in popularity.</simpara>
      </note>
      <table id="list-of-vcs" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>List of version control system tools.</title>
        <tgroup cols="6">
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="144" align="left"/>
          <thead>
            <row>
              <entry>
    パッケージ
    </entry>
              <entry>
    popcon
    </entry>
              <entry>
    サイズ
    </entry>
              <entry>
    tool
    </entry>
              <entry>
    VCS type
    </entry>
              <entry>
    comment
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/cssc"> <literal>cssc</literal>
</ulink></entry>
              <entry><ulink url="http://bugs.debian.org/cssc">&pop-cssc;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/c/cssc.html">&size-cssc;</ulink></entry>
              <entry>
                <ulink url="&cssc;">CSSC</ulink>
              </entry>
              <entry>
    local
    </entry>
              <entry>
    Clone of the <ulink url="&unixsccs;">Unix SCCS</ulink> (deprecated)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/rcs"> <literal>rcs</literal>
</ulink></entry>
              <entry><ulink url="http://bugs.debian.org/rcs">&pop-rcs;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/r/rcs.html">&size-rcs;</ulink></entry>
              <entry>
                <ulink url="&rcs;">RCS</ulink>
              </entry>
              <entry>
    local
    </entry>
              <entry>
    "<ulink url="&unixsccs;">Unix SCCS</ulink> done right"
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/cvs"> <literal>cvs</literal>
</ulink></entry>
              <entry><ulink url="http://bugs.debian.org/cvs">&pop-cvs;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/c/cvs.html">&size-cvs;</ulink></entry>
              <entry>
                <ulink url="&cvs;">CVS</ulink>
              </entry>
              <entry>
    remote
    </entry>
              <entry>
    The previous standard remote VCS
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/subversion">
<literal>subversion</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/subversion">&pop-subversion;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/s/subversion.html">&size-subversion;</ulink></entry>
              <entry>
                <ulink url="&subversion;">Subversion</ulink>
              </entry>
              <entry>
    remote
    </entry>
              <entry>
    "CVS done right", the new de facto standard remote VCS
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/git-core">
<literal>git-core</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/git-core">&pop-gitcore;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/g/git-core.html">&size-gitcore;</ulink></entry>
              <entry>
                <ulink url="&git;">Git</ulink>
              </entry>
              <entry>
    分散型
    </entry>
              <entry>
    fast DVCS in C (used by the Linux kernel and others)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/mercurial">
<literal>mercurial</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/mercurial">&pop-mercurial;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/m/mercurial.html">&size-mercurial;</ulink></entry>
              <entry>
                <ulink url="&mercurial;">Mercurial</ulink>
              </entry>
              <entry>
    分散型
    </entry>
              <entry>
    DVCS in python and some C.
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/bzr"> <literal>bzr</literal>
</ulink></entry>
              <entry><ulink url="http://bugs.debian.org/bzr">&pop-bzr;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/b/bzr.html">&size-bzr;</ulink></entry>
              <entry>
                <ulink url="&bazaar;">Bazaar</ulink>
              </entry>
              <entry>
    分散型
    </entry>
              <entry>
    DVCS influenced by <literal>tla</literal> written in python (used by <ulink
url="&ubuntu;">Ubuntu</ulink>)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/darcs"> <literal>darcs</literal>
</ulink></entry>
              <entry><ulink url="http://bugs.debian.org/darcs">&pop-darcs;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/d/darcs.html">&size-darcs;</ulink></entry>
              <entry>
                <ulink url="&darcs;">Darcs</ulink>
              </entry>
              <entry>
    分散型
    </entry>
              <entry>
    DVCS with smart algebra of patches (slow).
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/tla"> <literal>tla</literal>
</ulink></entry>
              <entry><ulink url="http://bugs.debian.org/tla">&pop-tla;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/t/tla.html">&size-tla;</ulink></entry>
              <entry>
                <ulink url="&gnuarch;">GNU arch</ulink>
              </entry>
              <entry>
    分散型
    </entry>
              <entry>
    DVCS mainly by Tom Lord. (Historic)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/monotone">
<literal>monotone</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/monotone">&pop-monotone;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/m/monotone.html">&size-monotone;</ulink></entry>
              <entry>
                <ulink url="&monotone;">Monotone</ulink>
              </entry>
              <entry>
    分散型
    </entry>
              <entry>
    DVCS in C++
    </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <simpara>VCS is sometimes known as revision control system (RCS), or software
configuration management (SCM).</simpara>
      <simpara>Distributed VCS such as Git is the tool of choice these days.  CVS and
Subversion may still be useful to join some existing open source program
activities.</simpara>
      <simpara>Debian provides free VCS services via <ulink
url="&debianaliothservice;">Debian Alioth service</ulink>.  It supports
practically all VCSs. Its documentation can be found at <ulink
url="&httpwikidebianorgalioth;">http://wiki.debian.org/Alioth</ulink> .</simpara>
      <caution>
        <simpara>The <literal>git</literal> package is "GNU Interactive Tools" which is not
the DVCS.</simpara>
      </caution>
      <section id="_native_vcs_commands">
        <title>Native VCS commands</title>
        <simpara>Here is an oversimplified comparison of native VCS commands to provide the
big picture. The typical command sequence may require options and arguments.</simpara>
        <table id="comparisonofnativevcscommands" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>Comparison of native VCS commands.</title>
          <tgroup cols="4">
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="288" align="left"/>
            <thead>
              <row>
                <entry>
    CVS
    </entry>
                <entry>
    Subversion
    </entry>
                <entry>
    Git
    </entry>
                <entry>
    機能
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>cvs init</literal>
                </entry>
                <entry>
                  <literal>svn create</literal>
                </entry>
                <entry>
                  <literal>git init</literal>
                </entry>
                <entry>
    create the (local) repository
    </entry>
              </row>
              <row>
                <entry>
                  <literal>cvs login</literal>
                </entry>
                <entry>
    -
    </entry>
                <entry>
    -
    </entry>
                <entry>
    login to the remote repository
    </entry>
              </row>
              <row>
                <entry>
                  <literal>cvs co</literal>
                </entry>
                <entry>
                  <literal>svn co</literal>
                </entry>
                <entry>
                  <literal>git clone</literal>
                </entry>
                <entry>
    check out the remote repository as the working tree
    </entry>
              </row>
              <row>
                <entry>
                  <literal>cvs up</literal>
                </entry>
                <entry>
                  <literal>svn up</literal>
                </entry>
                <entry>
                  <literal>git pull</literal>
                </entry>
                <entry>
    update the working tree by merging the remote repository
    </entry>
              </row>
              <row>
                <entry>
                  <literal>cvs add</literal>
                </entry>
                <entry>
                  <literal>svn add</literal>
                </entry>
                <entry>
                  <literal>git add .</literal>
                </entry>
                <entry>
    add file(s) in the working tree to the VCS
    </entry>
              </row>
              <row>
                <entry>
                  <literal>cvs rm</literal>
                </entry>
                <entry>
                  <literal>svn rm</literal>
                </entry>
                <entry>
                  <literal>git rm</literal>
                </entry>
                <entry>
    remove file(s) in working tree from the VCS
    </entry>
              </row>
              <row>
                <entry>
                  <literal>cvs ci</literal>
                </entry>
                <entry>
                  <literal>svn ci</literal>
                </entry>
                <entry>
    -
    </entry>
                <entry>
    commit changes to the remote repository
    </entry>
              </row>
              <row>
                <entry>
    -
    </entry>
                <entry>
    -
    </entry>
                <entry>
                  <literal>git commit -a</literal>
                </entry>
                <entry>
    commit changes to the local repository
    </entry>
              </row>
              <row>
                <entry>
    -
    </entry>
                <entry>
    -
    </entry>
                <entry>
                  <literal>git push</literal>
                </entry>
                <entry>
    update the remote repository by the local repository
    </entry>
              </row>
              <row>
                <entry>
                  <literal>cvs status</literal>
                </entry>
                <entry>
                  <literal>svn status</literal>
                </entry>
                <entry>
                  <literal>git status</literal>
                </entry>
                <entry>
    display the working tree status from the VCS
    </entry>
              </row>
              <row>
                <entry>
                  <literal>cvs diff</literal>
                </entry>
                <entry>
                  <literal>svn diff</literal>
                </entry>
                <entry>
                  <literal>git diff</literal>
                </entry>
                <entry>
    diff &lt;reference_repository&gt; &lt;working_tree&gt;
    </entry>
              </row>
              <row>
                <entry>
    -
    </entry>
                <entry>
    -
    </entry>
                <entry>
                  <literal>git repack -a -d; git prune</literal>
                </entry>
                <entry>
    repack the local repository into single pack.
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <caution>
          <simpara>Invoking a <literal>git</literal> subcommand as
"<literal>git-xyzzy</literal>" from the command line has been deprecated
since early 2006.</simpara>
        </caution>
        <tip>
          <simpara>Git can work directly with different VCS repositories such as ones provided
by CVS and Subversion, and provides the local repository for local changes
with <literal>git-cvs</literal> and <literal>git-svn</literal> packages.
See <ulink url="&gitforcvsusers;">git for CVS users</ulink>, <ulink
url="&gitforgnomedevelopers;">Git for GNOME developers</ulink> and <xref
linkend="_git"/>.</simpara>
        </tip>
        <tip>
          <simpara>Git has commands which have no equivalents in CVS and Subversion.  "Fetch",
"Rebase", "Cherrypick", …</simpara>
        </tip>
      </section>
      <section id="_cvs">
        <title>CVS</title>
        <simpara>Check</simpara>
        <itemizedlist>
          <listitem>
            <simpara><literal>cvs</literal>(1),
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>/usr/share/doc/cvs/html-cvsclient</literal>",
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>/usr/share/doc/cvs/html-info</literal>",
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>/usr/share/doc/cvsbook</literal>", and
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>info cvs</literal>", for detailed information.
</simpara>
          </listitem>
        </itemizedlist>
        <section id="_installing_a_cvs_server">
          <title>Installing a CVS server</title>
          <simpara>The following setup will allow commits to the CVS repository only by a
member of the "<literal>src</literal>" group, and administration of CVS only
by a member of the "<literal>staff</literal>" group, thus reducing the
chance of shooting oneself.</simpara>
          <screen># cd /var/lib; umask 002; mkdir cvs
# export CVSROOT=/var/lib/cvs
# cd $CVSROOT
# chown root:src .
# chmod 2775 .
# cvs -d $CVSROOT init
# cd CVSROOT
# chown -R root:staff .
# chmod 2775 .
# touch val-tags
# chmod 664 history val-tags
# chown root:src history val-tags</screen>
          <simpara>You may restrict creation of new project by changing the owner of
"<literal>$CVSROOT</literal>" directory to "<literal>root:staff</literal>"
and its permission to "<literal>3775</literal>".</simpara>
        </section>
        <section id="_use_local_cvs_server">
          <title>Use local CVS server</title>
          <simpara>The following will set up shell environments for the local access to the CVS
repository:</simpara>
          <screen>$ export CVSROOT=/var/lib/cvs</screen>
        </section>
        <section id="_use_remote_cvs_pserver">
          <title>Use remote CVS pserver</title>
          <simpara>The following will set up shell environments for the read-only remote access
to the CVS repository without SSH (use RSH protocol capability in
<literal>cvs</literal>(1)):</simpara>
          <screen>$ export CVSROOT=:pserver:account@cvs.foobar.com:/var/lib/cvs
$ cvs login</screen>
          <simpara>This is prone to eavesdropping attack.</simpara>
        </section>
        <section id="_anonymous_cvs_download_only">
          <title>Anonymous CVS (download only)</title>
          <simpara>The following will set up shell environments for the read-only remote access
to the CVS repository:</simpara>
          <screen>$ export CVSROOT=:pserver:anonymous@cvs.sf.net:/cvsroot/qref
$ cvs login
$ cvs -z3 co qref</screen>
        </section>
        <section id="_use_remote_cvs_through_ssh">
          <title>Use remote CVS through ssh</title>
          <simpara>The following will set up shell environments for the read-only remote access
to the CVS repository with SSH:</simpara>
          <screen>$ export CVSROOT=:ext:account@cvs.foobar.com:/var/lib/cvs</screen>
          <simpara>or for SourceForge:</simpara>
          <screen>$ export CVSROOT=:ext:account@cvs.sf.net:/cvsroot/qref</screen>
          <simpara>You can also use public key authentication for SSH which eliminates the
password prompt.</simpara>
        </section>
        <section id="_create_a_new_cvs_archive">
          <title>Create a new CVS archive</title>
          <simpara>For,</simpara>
          <table id="assumptionforthecvsarchive" pgwide="0" frame="topbot" rowsep="1" colsep="1">
            <title>Assumption for the CVS archive.</title>
            <tgroup cols="3">
              <colspec colwidth="108" align="left"/>
              <colspec colwidth="108" align="left"/>
              <colspec colwidth="288" align="left"/>
              <thead>
                <row>
                  <entry>
    ITEM
    </entry>
                  <entry>
    VALUE
    </entry>
                  <entry>
    MEANING
    </entry>
                </row>
              </thead>
              <tbody>
                <row>
                  <entry>
    source tree
    </entry>
                  <entry>
                    <literal>~/project-x</literal>
                  </entry>
                  <entry>
    All source codes
    </entry>
                </row>
                <row>
                  <entry>
    プロジェクト名
    </entry>
                  <entry>
                    <literal>project-x</literal>
                  </entry>
                  <entry>
    Name for this project
    </entry>
                </row>
                <row>
                  <entry>
    Vendor Tag
    </entry>
                  <entry>
                    <literal>Main-branch</literal>
                  </entry>
                  <entry>
    Tag for the entire branch
    </entry>
                </row>
                <row>
                  <entry>
    Release Tag
    </entry>
                  <entry>
                    <literal>Release-initial</literal>
                  </entry>
                  <entry>
    Tag for a specific release
    </entry>
                </row>
              </tbody>
            </tgroup>
          </table>
          <simpara>Then,</simpara>
          <screen>$ cd ~/project-x</screen>
          <itemizedlist>
            <listitem>
              <simpara>
create a source tree …
</simpara>
            </listitem>
          </itemizedlist>
          <screen>$ cvs import -m "Start project-x" project-x Main-branch Release-initial
$ cd ..; rm -R ~/project-x</screen>
        </section>
        <section id="_work_with_cvs">
          <title>Work with CVS</title>
          <simpara>To work with <literal>project-x</literal> using the local CVS repository:</simpara>
          <screen>$ mkdir -p /path/to; cd /path/to
$ cvs co project-x</screen>
          <itemizedlist>
            <listitem>
              <simpara>
get sources from CVS to local
</simpara>
            </listitem>
          </itemizedlist>
          <screen>$ cd project-x</screen>
          <itemizedlist>
            <listitem>
              <simpara>
make changes to the content …
</simpara>
            </listitem>
          </itemizedlist>
          <screen>$ cvs diff -u</screen>
          <itemizedlist>
            <listitem>
              <simpara>
similar to "<literal>diff -u repository/ local/</literal>"
</simpara>
            </listitem>
          </itemizedlist>
          <screen>$ cvs up -C modified_file</screen>
          <itemizedlist>
            <listitem>
              <simpara>
undo changes to a file
</simpara>
            </listitem>
          </itemizedlist>
          <screen>$ cvs ci -m "Describe change"</screen>
          <itemizedlist>
            <listitem>
              <simpara>
save local sources to CVS
</simpara>
            </listitem>
          </itemizedlist>
          <screen>$ vi newfile_added
$ cvs add newfile_added
$ cvs ci -m "Added newfile_added"
$ cvs up</screen>
          <itemizedlist>
            <listitem>
              <simpara>
merge latest version from CVS.
</simpara>
            </listitem>
            <listitem>
              <simpara>
To create all newly created subdirectories from CVS, use "<literal>cvs up -d
-P</literal>" instead.
</simpara>
            </listitem>
            <listitem>
              <simpara>
Watch out for lines starting with "<literal>C filename</literal>" which
indicates conflicting changes.
</simpara>
            </listitem>
            <listitem>
              <simpara>
unmodified code is moved to .#filename.version .
</simpara>
            </listitem>
            <listitem>
              <simpara>
search for "<literal>&lt;&lt;&lt;&lt;&lt;&lt;&lt;</literal>" and
"<literal>&gt;&gt;&gt;&gt;&gt;&gt;&gt;</literal>" in the files for
conflicting changes.
</simpara>
            </listitem>
            <listitem>
              <simpara>
edit file to fix conflicts.
</simpara>
            </listitem>
          </itemizedlist>
          <screen>$ cvs tag Release-1</screen>
          <itemizedlist>
            <listitem>
              <simpara>
add release tag
</simpara>
            </listitem>
            <listitem>
              <simpara>
edit further …
</simpara>
            </listitem>
          </itemizedlist>
          <screen>$ cvs tag -d Release-1</screen>
          <itemizedlist>
            <listitem>
              <simpara>
remove release tag
</simpara>
            </listitem>
          </itemizedlist>
          <screen>$ cvs ci -m "more comments"
$ cvs tag Release-1</screen>
          <simpara>* re-add release tag</simpara>
          <screen>$ cd /path/to
$ cvs co -r Release-initial -d old project-x</screen>
          <itemizedlist>
            <listitem>
              <simpara>
get original version to "<literal>/path/to/old</literal>" directory
</simpara>
            </listitem>
          </itemizedlist>
          <screen>$ cd old
$ cvs tag -b Release-initial-bugfixes</screen>
          <itemizedlist>
            <listitem>
              <simpara>
create branch (-b) tag "<literal>Release-initial-bugfixes</literal>"
</simpara>
            </listitem>
            <listitem>
              <simpara>
now you can work on the old version (Tag is sticky)
</simpara>
            </listitem>
          </itemizedlist>
          <screen>$ cvs update -d -P</screen>
          <itemizedlist>
            <listitem>
              <simpara>
don't create empty directories
</simpara>
            </listitem>
            <listitem>
              <simpara>
source tree now has sticky tag "Release-initial-bugfixes"
</simpara>
            </listitem>
            <listitem>
              <simpara>
work on this branch … while someone else making changes too
</simpara>
            </listitem>
          </itemizedlist>
          <screen>$ cvs up -d -P</screen>
          <itemizedlist>
            <listitem>
              <simpara>
sync with files modified by others on this branch
</simpara>
            </listitem>
          </itemizedlist>
          <screen>$ cvs ci -m "check into this branch"
$ cvs update -kk -A -d -P</screen>
          <itemizedlist>
            <listitem>
              <simpara>
remove sticky tag and forget contents
</simpara>
            </listitem>
            <listitem>
              <simpara>
update from main trunk without keyword expansion
</simpara>
            </listitem>
          </itemizedlist>
          <screen>$ cvs update -kk -d -P -j Release-initial-bugfixes</screen>
          <itemizedlist>
            <listitem>
              <simpara>
merge from Release-initial-bugfixes branch into the main
</simpara>
            </listitem>
            <listitem>
              <simpara>
trunk without keyword expansion.  Fix conflicts with editor.
</simpara>
            </listitem>
          </itemizedlist>
          <screen>$ cvs ci -m "merge Release-initial-bugfixes"
$ cd
$ tar -cvzf old-project-x.tar.gz old</screen>
          <itemizedlist>
            <listitem>
              <simpara>
make archive. use "<literal>-j</literal>" if you want
"<literal>.tar.bz2</literal>".
</simpara>
            </listitem>
          </itemizedlist>
          <screen>$ cvs release -d old</screen>
          <itemizedlist>
            <listitem>
              <simpara>
remove local source (optional)
</simpara>
            </listitem>
          </itemizedlist>
          <table id="notableoptionsfotargumentstocvsb" pgwide="0" frame="topbot" rowsep="1" colsep="1">
            <title>Notable options for CVS commands (use as first argument(s) to
<literal>cvs</literal>(1)).</title>
            <tgroup cols="2">
              <colspec colwidth="144" align="left"/>
              <colspec colwidth="360" align="left"/>
              <thead>
                <row>
                  <entry>
    オプション
    </entry>
                  <entry>
    意味
    </entry>
                </row>
              </thead>
              <tbody>
                <row>
                  <entry>
                    <literal>-n</literal>
                  </entry>
                  <entry>
    dry run, no effect
    </entry>
                </row>
                <row>
                  <entry>
                    <literal>-t</literal>
                  </entry>
                  <entry>
    display messages showing steps of cvs activity
    </entry>
                </row>
              </tbody>
            </tgroup>
          </table>
        </section>
        <section id="_export_files_from_cvs">
          <title>Export files from CVS</title>
          <simpara>To get the latest version from CVS, use "<literal>tomorrow</literal>":</simpara>
          <screen>$ cvs ex -D tomorrow module_name</screen>
        </section>
        <section id="_administer_cvs">
          <title>Administer CVS</title>
          <simpara>Add alias to a project (local server):</simpara>
          <screen>$ export CVSROOT=/var/lib/cvs
$ cvs co CVSROOT/modules
$ cd CVSROOT
$ echo "px -a project-x" &gt;&gt;modules
$ cvs ci -m "Now px is an alias for project-x"
$ cvs release -d .
$ cvs co -d project px</screen>
          <itemizedlist>
            <listitem>
              <simpara>
check out project-x (alias:px) from CVS to directory project
</simpara>
            </listitem>
          </itemizedlist>
          <screen>$ cd project</screen>
          <itemizedlist>
            <listitem>
              <simpara>
make changes to the content …
</simpara>
            </listitem>
          </itemizedlist>
          <simpara>In order to perform above procedure, you should have the appropriate file
permission.</simpara>
        </section>
        <section id="_file_permissions_in_repository">
          <title>File permissions in repository</title>
          <simpara>CVS will not overwrite the current repository file but replaces it with
another one.  Thus, write permission to the repository directory is
critical.  For every new repository creation, run the following to ensure
this condition if needed.</simpara>
          <screen># cd /var/lib/cvs
# chown -R root:src repository
# chmod -R ug+rwX   repository
# chmod    2775     repository</screen>
        </section>
        <section id="_execution_bit">
          <title>Execution bit</title>
          <simpara>A file's execution bit is retained when checked out.  Whenever you see
execution permission problems in checked-out files, change permissions of
the file in the CVS repository with the following command.</simpara>
          <screen># chmod ugo-x filename</screen>
        </section>
      </section>
      <section id="_subversion">
        <title>Subversion</title>
        <simpara>Subversion is a <emphasis role="strong">next-generation</emphasis> version
control system, intended to replace CVS, so it has most of CVS's
features. Generally, Subversion's interface to a particular feature is
similar to CVS's, except where there's a compelling reason to do otherwise.</simpara>
        <section id="_installing_a_subversion_server">
          <title>Installing a Subversion server</title>
          <simpara>You need to install <literal>subversion</literal>,
<literal>libapache2-svn</literal> and <literal>subversion-tools</literal>
packages to set up a server.</simpara>
        </section>
        <section id="_setting_up_a_repository">
          <title>Setting up a repository</title>
          <simpara>Currently, the <literal>subversion</literal> package does not set up a
repository, so one must be set up manually.  One possible location for a
repository is in "<literal>/var/local/repos</literal>".</simpara>
          <simpara>ディレクトリ作成</simpara>
          <screen># mkdir -p /var/local/repos</screen>
          <simpara>Create the repository database:</simpara>
          <screen># svnadmin create /var/local/repos</screen>
          <simpara>Make the repository writable by the WWW server:</simpara>
          <screen># chown -R www-data:www-data /var/local/repos</screen>
        </section>
        <section id="_configuring_apache2">
          <title>Configuring Apache2</title>
          <simpara>To allow access to the repository via user authentication, add (or
uncomment) the following in
"<literal>/etc/apache2/mods-available/dav_svn.conf</literal>":</simpara>
          <screen>&lt;Location /repos&gt;
  DAV svn
  SVNPath /var/local/repos
  AuthType Basic
  AuthName "Subversion repository"
  AuthUserFile /etc/subversion/passwd
&lt;LimitExcept GET PROPFIND OPTIONS REPORT&gt;
    Require valid-user
&lt;/LimitExcept&gt;
&lt;/Location&gt;</screen>
          <simpara>Then, create a user authentication file with the command:</simpara>
          <screen># htpasswd2 -c /etc/subversion/passwd some-username</screen>
          <simpara>Restart Apache2, and your new Subversion repository will be accessible with
the URL "<literal>http://hostname/repos</literal>".</simpara>
        </section>
        <section id="_subversion_usage_examples">
          <title>Subversion usage examples</title>
          <simpara>The following sections teach you how to use different commands in
Subversion.</simpara>
        </section>
        <section id="_create_a_new_subversion_archive">
          <title>Create a new Subversion archive</title>
          <simpara>To create a new Subversion archive, type the following:</simpara>
          <screen>$ cd ~/your-project         # go to your source directory
$ svn import http://localhost/repos your-project project-name -m "initial project import"</screen>
          <simpara>This creates a directory named project-name in your Subversion repository
which contains your project files.  Look at
"<literal>http://localhost/repos/</literal>" to see if it's there.</simpara>
        </section>
        <section id="_working_with_subversion">
          <title>Working with Subversion</title>
          <simpara>Working with project-y using Subversion:</simpara>
          <screen>$ mkdir -p /path/to ;cd  /path/to
$ svn co http://localhost/repos/project-y</screen>
          <itemizedlist>
            <listitem>
              <simpara>
Check out sources
</simpara>
            </listitem>
          </itemizedlist>
          <screen>$ cd project-y</screen>
          <itemizedlist>
            <listitem>
              <simpara>
do some work …
</simpara>
            </listitem>
          </itemizedlist>
          <screen>$ svn diff</screen>
          <simpara>-similar to "<literal>diff -u repository/ local/</literal>"</simpara>
          <screen>$ svn revert modified_file</screen>
          <itemizedlist>
            <listitem>
              <simpara>
undo changes to a file
</simpara>
            </listitem>
          </itemizedlist>
          <screen>$ svn ci -m "Describe changes"</screen>
          <itemizedlist>
            <listitem>
              <simpara>
check in your changes to the repository
</simpara>
            </listitem>
          </itemizedlist>
          <screen>$ vi newfile_added
$ svn add newfile_added
$ svn add new_dir</screen>
          <itemizedlist>
            <listitem>
              <simpara>
recursively add all files in new_dir
</simpara>
            </listitem>
          </itemizedlist>
          <screen>$ svn add -N new_dir2</screen>
          <itemizedlist>
            <listitem>
              <simpara>
non recursively add the directory
</simpara>
            </listitem>
          </itemizedlist>
          <screen>$ svn ci -m "Added newfile_added, new_dir, new_dir2"
$ svn up</screen>
          <itemizedlist>
            <listitem>
              <simpara>
merge in latest version from repository
</simpara>
            </listitem>
          </itemizedlist>
          <screen>$ svn log</screen>
          <itemizedlist>
            <listitem>
              <simpara>
shows all changes committed
</simpara>
            </listitem>
          </itemizedlist>
          <screen>$ svn copy http://localhost/repos/project-y \
      http://localhost/repos/project-y-branch \
      -m "creating my branch of project-y"</screen>
          <itemizedlist>
            <listitem>
              <simpara>
branching project-y
</simpara>
            </listitem>
          </itemizedlist>
          <screen>$ svn copy http://localhost/repos/project-y \
      http://localhost/repos/projct-y-release1.0 \
      -m "project-y 1.0 release"</screen>
          <itemizedlist>
            <listitem>
              <simpara>
added release tag.
</simpara>
            </listitem>
            <listitem>
              <simpara>
note that branching and tagging are the same. The only difference is that
branches get committed whereas tags do not.
</simpara>
            </listitem>
            <listitem>
              <simpara>
make changes to branch …
</simpara>
            </listitem>
          </itemizedlist>
          <screen>$ svn merge http://localhost/repos/project-y \
   http://localhost/repos/project-y-branch</screen>
          <itemizedlist>
            <listitem>
              <simpara>
merge branched copy back to main copy
</simpara>
            </listitem>
          </itemizedlist>
          <screen>$ svn co -r 4 http://localhost/repos/project-y</screen>
          <itemizedlist>
            <listitem>
              <simpara>
get revision 4
</simpara>
            </listitem>
          </itemizedlist>
        </section>
      </section>
      <section id="_git">
        <title>Git</title>
        <simpara>Git can do everything for both local and remote source code management.
This means that you can record the source code changes without needing
network connectivity to the remote repository.</simpara>
        <section id="_before_using_git">
          <title>Before using Git</title>
          <simpara>You may wish to set several global configuration in
"<literal>~/.gitconfig</literal>" such as your name and email address used
by Git:</simpara>
          <screen>$ git config --global user.name "Name Surname"
$ git config --global user.email yourname@example.com</screen>
          <simpara>If you are too used to CVS or Subversion commands, you may wish to set
several command aliases;</simpara>
          <screen>$ git config --global alias.ci "commit -a"
$ git config --global alias.co checkout</screen>
          <simpara>You can check your global configuration by:</simpara>
          <screen>$ git config --global --list</screen>
        </section>
        <section id="_git_references">
          <title>Gitリファレンス</title>
          <simpara>There are good references for Git.</simpara>
          <itemizedlist>
            <listitem>
              <simpara><ulink url="&manpagegitb;">manpage: git(1)</ulink>
(<literal>/usr/share/doc/git-doc/git.html</literal>)
</simpara>
            </listitem>
            <listitem>
              <simpara><ulink url="&gitusersmanual;">Git User's Manual</ulink>
(<literal>/usr/share/doc/git-doc/user-manual.html</literal>)
</simpara>
            </listitem>
            <listitem>
              <simpara><ulink url="&atutorialintroductiontogit;">A tutorial introduction to
git</ulink> (<literal>/usr/share/doc/git-doc/gittutorial.html</literal>)
</simpara>
            </listitem>
            <listitem>
              <simpara><ulink url="&atutorialintrodutiontogitparttwo;">A tutorial introduction to
git: part two</ulink>
(<literal>/usr/share/doc/git-doc/gittutorial-2.html</literal>)
</simpara>
            </listitem>
            <listitem>
              <simpara><ulink url="&everydaygitwithcacommandsorso;">Everyday GIT With 20 Commands
Or So</ulink> (<literal>/usr/share/doc/git-doc/everyday.html</literal>)
</simpara>
            </listitem>
            <listitem>
              <simpara><ulink url="&gitforcvsusers;">git for CVS users</ulink>
(<literal>/usr/share/doc/git-doc/gitcvs-migration.html</literal>)
</simpara>
              <itemizedlist>
                <listitem>
                  <simpara>
This also describes how to set up server like CVS and extract old data from
CVS into there.
</simpara>
                </listitem>
              </itemizedlist>
            </listitem>
            <listitem>
              <simpara><ulink url="&othergitresourcevailableontheweb;">Other git resources
available on the web</ulink>:
</simpara>
              <itemizedlist>
                <listitem>
                  <simpara>
                    <ulink url="&gitsvncrashcourse;">Git - SVN Crash Course</ulink>
                  </simpara>
                </listitem>
                <listitem>
                  <simpara><ulink url="&gitmagic;">Git Magic</ulink>
(<literal>/usr/share/doc/gitmagic/html/index.html</literal>)
</simpara>
                </listitem>
              </itemizedlist>
            </listitem>
          </itemizedlist>
          <simpara><literal>git-gui</literal>(1) and <literal>gitk</literal>(1) commands make
using Git very easy.</simpara>
          <warning>
            <simpara>Do not use the tag string with spaces in it even if some tools such as
<literal>gitk</literal>(1) allow you to use it.  It will choke some other
<literal>git</literal> commands.</simpara>
          </warning>
        </section>
        <section id="_git_commands">
          <title>Git commands</title>
          <simpara>Even if your upstream uses different VCS, it is good idea to use
<literal>git</literal>(1) for local activity since you can manage your local
copy of source tree without the network connection to the upstream.  Here
are commands used with <literal>git</literal>(1).</simpara>
          <table id="listofgitpackagesandcommands" pgwide="0" frame="topbot" rowsep="1" colsep="1">
            <title>List of git packages and commands.</title>
            <tgroup cols="5">
              <colspec colwidth="72" align="left"/>
              <colspec colwidth="72" align="left"/>
              <colspec colwidth="72" align="left"/>
              <colspec colwidth="72" align="left"/>
              <colspec colwidth="216" align="left"/>
              <thead>
                <row>
                  <entry>
    コマンド
    </entry>
                  <entry>
    パッケージ
    </entry>
                  <entry>
    popcon
    </entry>
                  <entry>
    サイズ
    </entry>
                  <entry>
    説明
    </entry>
                </row>
              </thead>
              <tbody>
                <row>
                  <entry>
    N/A
    </entry>
                  <entry><ulink url="http://packages.debian.org/sid/git-doc">
<literal>git-doc</literal> </ulink></entry>
                  <entry><ulink url="http://bugs.debian.org/git-doc">&pop-gitdoc;</ulink></entry>
                  <entry><ulink
url="http://packages.qa.debian.org/g/git-doc.html">&size-gitdoc;</ulink></entry>
                  <entry>
    This provides the oficial documentation for Git.
    </entry>
                </row>
                <row>
                  <entry>
    N/A
    </entry>
                  <entry><ulink url="http://packages.debian.org/sid/gitmagic">
<literal>gitmagic</literal> </ulink></entry>
                  <entry><ulink url="http://bugs.debian.org/gitmagic">&pop-gitmagic;</ulink></entry>
                  <entry><ulink
url="http://packages.qa.debian.org/g/gitmagic.html">&size-gitmagic;</ulink></entry>
                  <entry>
    "Git Magic" provides easier to understand guide for Git.
    </entry>
                </row>
                <row>
                  <entry><literal>git</literal>(7)
    </entry>
                  <entry><ulink url="http://packages.debian.org/sid/git-core">
<literal>git-core</literal> </ulink></entry>
                  <entry><ulink url="http://bugs.debian.org/git-core">&pop-gitcore;</ulink></entry>
                  <entry><ulink
url="http://packages.qa.debian.org/g/git-core.html">&size-gitcore;</ulink></entry>
                  <entry>
    The main command for Git.
    </entry>
                </row>
                <row>
                  <entry><literal>gitk</literal>(1)
    </entry>
                  <entry><ulink url="http://packages.debian.org/sid/gitk"> <literal>gitk</literal>
</ulink></entry>
                  <entry><ulink url="http://bugs.debian.org/gitk">&pop-gitk;</ulink></entry>
                  <entry><ulink url="http://packages.qa.debian.org/g/gitk.html">&size-gitk;</ulink></entry>
                  <entry>
    The GUI Git repository browser with history.
    </entry>
                </row>
                <row>
                  <entry><literal>git-gui</literal>(1)
    </entry>
                  <entry><ulink url="http://packages.debian.org/sid/git-gui">
<literal>git-gui</literal> </ulink></entry>
                  <entry><ulink url="http://bugs.debian.org/git-gui">&pop-gitgui;</ulink></entry>
                  <entry><ulink
url="http://packages.qa.debian.org/g/git-gui.html">&size-gitgui;</ulink></entry>
                  <entry>
    The GUI for Git. (No history)
    </entry>
                </row>
                <row>
                  <entry><literal>git-svnimport</literal>(1)
    </entry>
                  <entry><ulink url="http://packages.debian.org/sid/git-svn">
<literal>git-svn</literal> </ulink></entry>
                  <entry><ulink url="http://bugs.debian.org/git-svn">&pop-gitsvn;</ulink></entry>
                  <entry><ulink
url="http://packages.qa.debian.org/g/git-svn.html">&size-gitsvn;</ulink></entry>
                  <entry>
    This import the data out of Subversion into Git.
    </entry>
                </row>
                <row>
                  <entry><literal>git-svn</literal>(1)
    </entry>
                  <entry><ulink url="http://packages.debian.org/sid/git-svn">
<literal>git-svn</literal> </ulink></entry>
                  <entry><ulink url="http://bugs.debian.org/git-svn">&pop-gitsvn;</ulink></entry>
                  <entry><ulink
url="http://packages.qa.debian.org/g/git-svn.html">&size-gitsvn;</ulink></entry>
                  <entry>
    This provides bidirectional operation between the Subversion and Git.
    </entry>
                </row>
                <row>
                  <entry><literal>git-cvsimport</literal>(1)
    </entry>
                  <entry><ulink url="http://packages.debian.org/sid/git-cvs">
<literal>git-cvs</literal> </ulink></entry>
                  <entry><ulink url="http://bugs.debian.org/git-cvs">&pop-gitcvs;</ulink></entry>
                  <entry><ulink
url="http://packages.qa.debian.org/g/git-cvs.html">&size-gitcvs;</ulink></entry>
                  <entry>
    This import the data out of CVS into Git.
    </entry>
                </row>
                <row>
                  <entry><literal>git-cvsexportcommit</literal>(1)
    </entry>
                  <entry><ulink url="http://packages.debian.org/sid/git-cvs">
<literal>git-cvs</literal> </ulink></entry>
                  <entry><ulink url="http://bugs.debian.org/git-cvs">&pop-gitcvs;</ulink></entry>
                  <entry><ulink
url="http://packages.qa.debian.org/g/git-cvs.html">&size-gitcvs;</ulink></entry>
                  <entry>
    This exports a commit to a CVS checkout from Git.
    </entry>
                </row>
                <row>
                  <entry><literal>git-cvsserver</literal>(1)
    </entry>
                  <entry><ulink url="http://packages.debian.org/sid/git-cvs">
<literal>git-cvs</literal> </ulink></entry>
                  <entry><ulink url="http://bugs.debian.org/git-cvs">&pop-gitcvs;</ulink></entry>
                  <entry><ulink
url="http://packages.qa.debian.org/g/git-cvs.html">&size-gitcvs;</ulink></entry>
                  <entry>
    A CVS server emulator for Git.
    </entry>
                </row>
                <row>
                  <entry><literal>git-send-email</literal>(1)
    </entry>
                  <entry><ulink url="http://packages.debian.org/sid/git-email">
<literal>git-email</literal> </ulink></entry>
                  <entry><ulink url="http://bugs.debian.org/git-email">&pop-gitemail;</ulink></entry>
                  <entry><ulink
url="http://packages.qa.debian.org/g/git-email.html">&size-gitemail;</ulink></entry>
                  <entry>
    This sends a collection of patches as email from the Git.
    </entry>
                </row>
                <row>
                  <entry><literal>stg</literal>(1)
    </entry>
                  <entry><ulink url="http://packages.debian.org/sid/stgit"> <literal>stgit</literal>
</ulink></entry>
                  <entry><ulink url="http://bugs.debian.org/stgit">&pop-stgit;</ulink></entry>
                  <entry><ulink url="http://packages.qa.debian.org/s/stgit.html">&size-stgit;</ulink></entry>
                  <entry>
    This is quilt on top of git. (Python)
    </entry>
                </row>
                <row>
                  <entry><literal>git-buildpackage</literal>(1)
    </entry>
                  <entry><ulink url="http://packages.debian.org/sid/git-buildpackage">
<literal>git-buildpackage</literal> </ulink></entry>
                  <entry><ulink
url="http://bugs.debian.org/git-buildpackage">&pop-gitbuildpackage;</ulink></entry>
                  <entry><ulink
url="http://packages.qa.debian.org/g/git-buildpackage.html">&size-gitbuildpackage;</ulink></entry>
                  <entry>
    This automates the Debian packaging with the Git.
    </entry>
                </row>
                <row>
                  <entry><literal>guilt</literal>(7)
    </entry>
                  <entry><ulink url="http://packages.debian.org/sid/guilt"> <literal>guilt</literal>
</ulink></entry>
                  <entry><ulink url="http://bugs.debian.org/guilt">&pop-guilt;</ulink></entry>
                  <entry><ulink url="http://packages.qa.debian.org/g/guilt.html">&size-guilt;</ulink></entry>
                  <entry>
    This is quilt on top of git. (SH/AWK/SED/…)
    </entry>
                </row>
              </tbody>
            </tgroup>
          </table>
        </section>
        <section id="_git_for_recording_configuration_history">
          <title>Git for recording configuration history</title>
          <simpara>You can manually record chronological history of configuration using <ulink
url="&git;">Git</ulink> tools.  Here is a simple example for your practice
to record "<literal>/etc/apt/</literal>" contents.:</simpara>
          <screen>$ cd /etc/apt/
$ sudo git init
$ sudo chmod 700 .git
$ sudo git add .
$ sudo git commit -a</screen>
          <itemizedlist>
            <listitem>
              <simpara>
commit configuration with description.
</simpara>
            </listitem>
            <listitem>
              <simpara>
make modification to the configuration files
</simpara>
            </listitem>
          </itemizedlist>
          <screen>$ cd /etc/apt/
$ sudo git commit -a</screen>
          <itemizedlist>
            <listitem>
              <simpara>
commit configuration with description.
</simpara>
            </listitem>
            <listitem>
              <simpara>
… continue your life …
</simpara>
            </listitem>
          </itemizedlist>
          <screen>$ cd /etc/apt/
$ sudo gitk --all</screen>
          <itemizedlist>
            <listitem>
              <simpara>
you have full configuration history with you.
</simpara>
            </listitem>
          </itemizedlist>
          <note>
            <simpara><literal>sudo</literal>(8) is needed to work with permissions of
configuration data.  For user configuration data, you may skip
<literal>sudo</literal>.</simpara>
          </note>
          <note>
            <simpara>The "<literal>chmod 700 .git</literal>" command in the above example is
needed to protect archive data from unauthorized read access.</simpara>
          </note>
          <tip>
            <simpara>For more complete setup for recording configuration history, please look for
the <literal>etckeeper</literal> package: <xref
linkend="_recording_changes_in_configuration_files"/>.</simpara>
          </tip>
        </section>
      </section>
    </section>
  </chapter>
  <chapter id="_data_conversion">
    <title>データ変換</title>
    <simpara>Tools and tips for converting data formats on the Debian system are
described.</simpara>
    <simpara>Standard based tools are in very good shape but support for proprietary data
formats are limited.</simpara>
    <section id="_text_data_conversion_tools">
      <title>Text data conversion tools</title>
      <simpara>Following packages for the text data conversion caught my eyes:</simpara>
      <table id="listoftextdataconversiontools" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>テキストデータ変換ツールのリスト。</title>
        <tgroup cols="5">
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="216" align="left"/>
          <thead>
            <row>
              <entry>
    パッケージ
    </entry>
              <entry>
    popcon
    </entry>
              <entry>
    サイズ
    </entry>
              <entry>
    keyword
    </entry>
              <entry>
    機能
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/libc6"> <literal>libc6</literal>
</ulink></entry>
              <entry><ulink url="http://bugs.debian.org/libc6">&pop-libcg;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/libc/libc6.html">&size-libcg;</ulink></entry>
              <entry>
    charset
    </entry>
              <entry>
    The text encoding converter between locales by
<literal>iconv</literal>(1). (fundamental)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/recode">
<literal>recode</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/recode">&pop-recode;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/r/recode.html">&size-recode;</ulink></entry>
              <entry>
    charset+eol
    </entry>
              <entry>
    The text encoding converter between locales. (versatile, more aliases and
features)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/konwert">
<literal>konwert</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/konwert">&pop-konwert;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/k/konwert.html">&size-konwert;</ulink></entry>
              <entry>
    charset
    </entry>
              <entry>
    The text encoding converter between locales. (fancy)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/nkf"> <literal>nkf</literal>
</ulink></entry>
              <entry><ulink url="http://bugs.debian.org/nkf">&pop-nkf;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/n/nkf.html">&size-nkf;</ulink></entry>
              <entry>
    charset
    </entry>
              <entry>
    The character set translator for Japanese.
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/tcs"> <literal>tcs</literal>
</ulink></entry>
              <entry><ulink url="http://bugs.debian.org/tcs">&pop-tcs;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/t/tcs.html">&size-tcs;</ulink></entry>
              <entry>
    charset
    </entry>
              <entry>
    The character set translator.
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/unaccent">
<literal>unaccent</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/unaccent">&pop-unaccent;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/u/unaccent.html">&size-unaccent;</ulink></entry>
              <entry>
    charset
    </entry>
              <entry>
    Replace accented letters by their unaccented equivalent.
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/tofrodos">
<literal>tofrodos</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/tofrodos">&pop-tofrodos;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/t/tofrodos.html">&size-tofrodos;</ulink></entry>
              <entry>
    eol
    </entry>
              <entry>
    The text format converter between DOS and Unix:
<literal>fromdos</literal>(1) and <literal>todos</literal>(1)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/macutils">
<literal>macutils</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/macutils">&pop-macutils;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/m/macutils.html">&size-macutils;</ulink></entry>
              <entry>
    eol
    </entry>
              <entry>
    The text format converter between Macintosh and Unix:
<literal>frommac</literal>(1) and <literal>tomac</literal>(1)
    </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <section id="_to_convert_a_text_file_with_iconv">
        <title>To convert a text file with iconv</title>
        <simpara><literal>iconv</literal>(1) is provided as a part of the
<literal>libc6</literal> package and it is always available on all system to
convert the encoding of characters:</simpara>
        <screen>$ iconv -f encoding1 -t encoding2 input.txt &gt;output.txt</screen>
        <simpara>Encoding values are case insensitive and ignore "<literal>-</literal>" and
"<literal>_</literal>" for matching.  Supported encodings can be checked by
the "<literal>iconv -l</literal>" command.</simpara>
        <table id="list-of-encoding-values" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of encoding values and their usage.</title>
          <tgroup cols="2">
            <colspec colwidth="144" align="left"/>
            <colspec colwidth="360" align="left"/>
            <thead>
              <row>
                <entry>
    encoding value
    </entry>
                <entry>
    使い方
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="&ascii;">ASCII</ulink>.
    </entry>
                <entry><ulink url="&americanstandardationinterchange;">American Standard Code for
Information Interchange</ulink>. 7 bit code w/o accented characters.
    </entry>
              </row>
              <row>
                <entry>
                  <ulink url="&utfi;">UTF-8</ulink>
                </entry>
                <entry>
    Standard multilingual compatibility for all modern OSs.
    </entry>
              </row>
              <row>
                <entry>
                  <ulink url="&isoiifjb;">ISO-8859-1</ulink>
                </entry>
                <entry>
    Old standard for western European languages, ASCII + accented characters.
    </entry>
              </row>
              <row>
                <entry>
                  <ulink url="&isoiifjc;">ISO-8859-2</ulink>
                </entry>
                <entry>
    Old standard for eastern European languages, ASCII + accented characters.
    </entry>
              </row>
              <row>
                <entry>
                  <ulink url="&isoiifjbf;">ISO-8859-15</ulink>
                </entry>
                <entry>
    Old standard for western European languages, <ulink
url="&isoiifjb;">ISO-8859-1</ulink> with euro sign.
    </entry>
              </row>
              <row>
                <entry>
                  <ulink url="&cpifa;">CP850</ulink>
                </entry>
                <entry>
    Code page 850, Microsoft DOS characters with graphics for western European
languages. <ulink url="&isoiifjb;">ISO-8859-1</ulink> variant.
    </entry>
              </row>
              <row>
                <entry>
                  <ulink url="&cpjdc;">CP932</ulink>
                </entry>
                <entry>
    Code page 932, Microsoft Windows style <ulink
url="&shiftjis;">Shift-JIS</ulink> variant, for Japanese.
    </entry>
              </row>
              <row>
                <entry>
                  <ulink url="&cpjdg;">CP936</ulink>
                </entry>
                <entry>
    Code page 936, Microsoft Windows style <ulink url="&gbcdbc;">GB2312</ulink>,
<ulink url="&gbk;">GBK</ulink>, or <ulink url="&gbbiada;">GB18030</ulink>
variant, for Simplified Chinese.
    </entry>
              </row>
              <row>
                <entry>
                  <ulink url="&cpjej;">CP949</ulink>
                </entry>
                <entry>
    Code page 949, Microsoft Windows style <ulink url="&euckr;">EUC-KR</ulink>
or Unified Hangul Code variant, for Korean.
    </entry>
              </row>
              <row>
                <entry>
                  <ulink url="&cpjfa;">CP950</ulink>
                </entry>
                <entry>
    Code page 950, Microsoft Windows style <ulink url="&bigf;">Big5</ulink>
variant, for Traditional Chinese.
    </entry>
              </row>
              <row>
                <entry>
                  <ulink url="&cpbcfb;">CP1251</ulink>
                </entry>
                <entry>
    Code page 1251, Microsoft Windows style encoding for the Cyrillic alphabet.
    </entry>
              </row>
              <row>
                <entry>
                  <ulink url="&cpbcfc;">CP1252</ulink>
                </entry>
                <entry>
    Code page 1252, Microsoft Windows style <ulink
url="&isoiifjbf;">ISO-8859-15</ulink> variant for western European
languages.
    </entry>
              </row>
              <row>
                <entry>
                  <ulink url="&koiir;">KOI8-R</ulink>
                </entry>
                <entry>
    Old Russian UNIX standard for the Cyrillic alphabet.
    </entry>
              </row>
              <row>
                <entry>
                  <ulink url="&isocaccjp;">ISO-2022-JP</ulink>
                </entry>
                <entry>
    Standard encoding for Japanese e-mail which uses only 7 bit codes.
    </entry>
              </row>
              <row>
                <entry>
                  <ulink url="&eucjp;">eucJP</ulink>
                </entry>
                <entry>
    Old Japanese UNIX standard 8 bit code and completely different from <ulink
url="&shiftjis;">Shift-JIS</ulink>.
    </entry>
              </row>
              <row>
                <entry>
                  <ulink url="&shiftjis;">Shift-JIS</ulink>
                </entry>
                <entry>
    JIS X 0208 Appendix 1 standard, for Japanese. See <ulink
url="&cpjdc;">CP932</ulink> above.
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <note>
          <simpara>Some encodings are only supported for the data conversion and are not used
as locale values (<xref linkend="_basics_of_encoding"/>).</simpara>
        </note>
        <simpara>For character sets which fit in single byte such as <ulink
url="&ascii;">ASCII</ulink> and <ulink url="&isoiifj;">ISO-8859</ulink>
character sets, the <ulink url="&characterencoding;">character
encoding</ulink> means almost the same thing as the character set.</simpara>
        <simpara>For character sets with many characters such as <ulink url="&jisxacbd;">JIS
X 0213</ulink> for Japanese or <ulink
url="&universalcharactunicodeisobagegb;">Universal Character Set (UCS,
Unicode, ISO-10646-1)</ulink> for practically all languages, there are many
encoding schemes to fit them into the sequence of the byte data:</simpara>
        <itemizedlist>
          <listitem>
            <simpara><ulink url="&euc;">EUC</ulink> and <ulink
url="&isoieccaccalsoknownasjisxacac;">ISO/IEC 2022 (also known as JIS X
0202)</ulink> for Japanese, or
</simpara>
          </listitem>
          <listitem>
            <simpara><ulink url="&utfi;">UTF-8</ulink> and <ulink
url="&utfdcucse;">UTF-32/UCS-4</ulink> for Unicode.  For these, there is
clear differentiation between the character set and the character encoding.
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>The <ulink url="&codepage;">code page</ulink> is used as the synonym to the
character encoding tables for some vendor specific ones.</simpara>
        <note>
          <simpara>Please note most encoding systems share the same code with ASCII for the 7
bit characters.  But there are some exceptions. If you are converting old
Japanese C programs and URLs data from the casually-called shift-JIS
encoding format to UTF-8 format, use "<literal>CP932</literal>" as the
encoding name instead of "<literal>shift-JIS</literal>" to get the expected
results: <literal>0x5C</literal> → "<literal>\</literal>" and
<literal>0x7E</literal> → "<literal>~</literal>" .  Otherwise, these are
converted to wrong characters.</simpara>
        </note>
        <tip>
          <simpara><literal>recode</literal>(1) may be used too and offers more than the
combined functionality of <literal>iconv</literal>(1),
<literal>fromdos</literal>(1), <literal>todos</literal>(1),
<literal>frommac</literal>(1), and <literal>tomac</literal>(1).  For more,
see "<literal>info recode</literal>".</simpara>
        </tip>
      </section>
      <section id="_to_convert_file_names_with_iconv">
        <title>To convert file names with iconv</title>
        <simpara>Here is an example script to convert encoding of file names from ones
created under older OS to modern UTF-8 ones in a single directory.</simpara>
        <screen>#!/bin/sh
ENCDN=iso-8859-1
for x in *;
 do
 mv "$x" $(echo "$x" | iconv -f $ENCDN -t utf-8)
done</screen>
        <simpara>The "<literal>$ENCDN</literal>" variable should be set by the encoding value
in <xref linkend="list-of-encoding-values"/>.</simpara>
        <simpara>For more complicated case, please mount disk drive containing such file
names with proper encoding as the <literal>mount</literal>(8) option (see
<xref linkend="_filename_encoding"/>) and copy entire disk to another disk
drive mounted as UTF-8 with "<literal>cp -a</literal>" command.</simpara>
      </section>
      <section id="_eol_conversion">
        <title>EOL conversion</title>
        <simpara>The text file format, specifically the end-of-line (EOL) code, is dependent
on the platform:</simpara>
        <table id="listofeolconversiontools" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of EOL conversion tools.</title>
          <tgroup cols="4">
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="288" align="left"/>
            <thead>
              <row>
                <entry>
    platform
    </entry>
                <entry>
    EOL code
    </entry>
                <entry>
    EOL control sequence
    </entry>
                <entry>
    EOL ASCII value
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
    Debian (unix)
    </entry>
                <entry>
    LF
    </entry>
                <entry>
                  <literal>^J</literal>
                </entry>
                <entry>
    10
    </entry>
              </row>
              <row>
                <entry>
    MSDOS and Windows
    </entry>
                <entry>
    CR-LF
    </entry>
                <entry>
                  <literal>^M^J</literal>
                </entry>
                <entry>
    13, 10
    </entry>
              </row>
              <row>
                <entry>
    Apple's Macintosh
    </entry>
                <entry>
    CR
    </entry>
                <entry>
                  <literal>^M</literal>
                </entry>
                <entry>
    13
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>The EOL format conversion programs, <literal>fromdos</literal>(1),
<literal>todos</literal>(1), <literal>frommac</literal>(1), and
<literal>tomac</literal>(1), are quite handy.  <literal>recode</literal>(1)
is also useful.</simpara>
        <note>
          <simpara>Some data on the Debian system, such as the wiki page data for the
<literal>python-moinmoin</literal> package, use MSDOS style CR-LF as the EOL
code.  So the above rule is just a general rule.</simpara>
        </note>
        <note>
          <simpara>Most editors (eg. <literal>vim</literal>, <literal>emacs</literal>,
<literal>gedit</literal>, …) can handle files in MSDOS style EOL
transparently.</simpara>
        </note>
        <tip>
          <simpara>The use of "<literal>sed -e '/\r$/!s/$/\r/'</literal>" instead of
<literal>todos</literal>(1) is better when you want to unify the EOL style
to the MSDOS style from the mixed MSDOS and Unix style.  (e.g., after
merging 2 MSDOS style files with <literal>diff3</literal>(1).)  This is
because <literal>todos</literal> adds CR to all lines.</simpara>
        </tip>
      </section>
      <section id="_tab_conversion">
        <title>TAB conversion</title>
        <simpara>There are few popular specialized programs to convert the tab codes:</simpara>
        <table id="listoftabconversoreutilspackages" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of TAB conversion commands from <literal>bsdmainutils</literal> and
<literal>coreutils</literal> packages.</title>
          <tgroup cols="3">
            <colspec colwidth="108" align="left"/>
            <colspec colwidth="108" align="left"/>
            <colspec colwidth="288" align="left"/>
            <thead>
              <row>
                <entry>
    機能
    </entry>
                <entry>
                  <literal>bsdmainutils</literal>
                </entry>
                <entry>
                  <literal>coreutils</literal>
                </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
    expand tab to spaces
    </entry>
                <entry>
    "<literal>col -x</literal>"
    </entry>
                <entry>
                  <literal>expand</literal>
                </entry>
              </row>
              <row>
                <entry>
    unexpand tab from spaces
    </entry>
                <entry>
    "<literal>col -h</literal>"
    </entry>
                <entry>
                  <literal>unexpand</literal>
                </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara><literal>indent</literal>(1) from the <literal>indent</literal> package
completely reformats whitespaces in the C program.</simpara>
        <simpara>Editor programs such as <literal>vim</literal> and <literal>emacs</literal>
can be used for TAB conversion, too.  For example with
<literal>vim</literal>, you can expand TAB with "<literal>:set
expandtab</literal>" and "<literal>:%retab</literal>" command sequence.  You
can revert this with "<literal>:set noexpandtab</literal>" and
"<literal>:%retab!</literal>" command sequence.</simpara>
      </section>
      <section id="_editors_with_auto_conversion">
        <title>Editors with auto-conversion</title>
        <simpara>Intelligent modern editors such as the <literal>vim</literal> program are
quite smart and copes well with any encoding systems and any file formats.
You should use these editors under the UTF-8 locale in the UTF-8 capable
console for the best compatibility.</simpara>
        <simpara>An old western European Unix text file, "<literal>u-file.txt</literal>",
stored in the latin1 (iso-8859-1) encoding can be edited simply with
<literal>vim</literal> as:</simpara>
        <screen>$ vim u-file.txt</screen>
        <simpara>This is possible since the auto detection mechanism of the file encoding in
<literal>vim</literal> assumes the UTF-8 encoding first and, if it fails,
assumes it to be latin1.</simpara>
        <simpara>An old Polish Unix text file, "<literal>pu-file.txt</literal>", stored in
the latin2 (iso-8859-2) encoding can be edited with <literal>vim</literal>
as:</simpara>
        <screen>$ vim '+e ++enc=latin2 pu-file.txt'</screen>
        <simpara>An old Japanese unix text file, "<literal>ju-file.txt</literal>", stored in
the eucJP encoding can be edited with <literal>vim</literal> as:</simpara>
        <screen>$ vim '+e ++enc=eucJP ju-file.txt'</screen>
        <simpara>An old Japanese MS-Windows text file, "<literal>jw-file.txt</literal>",
stored in the so called shift-JIS encoding (more precisely: CP932) can be
edited with <literal>vim</literal> as:</simpara>
        <screen>$ vim '+e ++enc=CP932 ++ff=dos jw-file.txt'</screen>
        <simpara>When a file is opened with "<literal><literal>enc</literal>" and
"<literal/>ff</literal>" options, "<literal>:w</literal>" in the Vim command
line stores it in the original format and overwrite the original file.  You
can also specify the saving format and the file name in the Vim command
line, e.g., "<literal>:w ++enc=utf8 new.txt</literal>".</simpara>
        <simpara>Please refer to the mbyte.txt "multi-byte text support" in
<literal>vim</literal> on-line help.</simpara>
        <simpara>The <literal>emacs</literal> family of programs can perform the equivalent
functions.</simpara>
      </section>
      <section id="_plain_text_extraction">
        <title>Plain text extraction</title>
        <simpara>Following will read a web page into a text file.  This is very useful when
copying configurations off the Web or applying basic Unix text tools such as
<literal>grep</literal>(1) on the web page.</simpara>
        <screen>$ w3m -dump http://www.remote-site.com/help-info.html &gt;textfile</screen>
        <simpara>Similarly, you can extract plain text data from other formats using
followings:</simpara>
        <table id="listoftoolstoextactplaintextdata" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of tools to extract plain text data.</title>
          <tgroup cols="5">
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="216" align="left"/>
            <thead>
              <row>
                <entry>
    パッケージ
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    サイズ
    </entry>
                <entry>
    keyword
    </entry>
                <entry>
    機能
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/w3m"> <literal>w3m</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/w3m">&pop-wdm;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/w/w3m.html">&size-wdm;</ulink></entry>
                <entry>
    html→text
    </entry>
                <entry>
    An HTML to text converter with the "<literal>w3m -dump</literal>" command.
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/html2text">
<literal>html2text</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/html2text">&pop-htmlctext;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/h/html2text.html">&size-htmlctext;</ulink></entry>
                <entry>
    html→text
    </entry>
                <entry>
    An advanced HTML to text converter. (ISO 8859-1)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/lynx"> <literal>lynx</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/lynx">&pop-lynx;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/l/lynx.html">&size-lynx;</ulink></entry>
                <entry>
    html→text
    </entry>
                <entry>
    An HTML to text converter with the "<literal>lynx -dump</literal>" command.
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/elinks">
<literal>elinks</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/elinks">&pop-elinks;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/e/elinks.html">&size-elinks;</ulink></entry>
                <entry>
    html→text
    </entry>
                <entry>
    An HTML to text converter with the "<literal>elinks -dump</literal>"
command.
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/links"> <literal>links</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/links">&pop-links;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/l/links.html">&size-links;</ulink></entry>
                <entry>
    html→text
    </entry>
                <entry>
    An HTML to text converter with the "<literal>links -dump</literal>" command.
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/links2">
<literal>links2</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/links2">&pop-linksc;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/l/links2.html">&size-linksc;</ulink></entry>
                <entry>
    html→text
    </entry>
                <entry>
    An HTML to text converter with the "<literal>links2 -dump</literal>"
command.
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/antiword">
<literal>antiword</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/antiword">&pop-antiword;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/a/antiword.html">&size-antiword;</ulink></entry>
                <entry>
    MSWord→text,ps
    </entry>
                <entry>
    This converts MSWord files to plain text or ps.
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/catdoc">
<literal>catdoc</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/catdoc">&pop-catdoc;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/c/catdoc.html">&size-catdoc;</ulink></entry>
                <entry>
    MSWord→text,TeX
    </entry>
                <entry>
    This converts MSWord files to plain text or TeX.
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/pstotext">
<literal>pstotext</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/pstotext">&pop-pstotext;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/p/pstotext.html">&size-pstotext;</ulink></entry>
                <entry>
    ps/pdf→text
    </entry>
                <entry>
    Extract text from PostScript and PDF files.
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/unhtml">
<literal>unhtml</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/unhtml">&pop-unhtml;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/u/unhtml.html">&size-unhtml;</ulink></entry>
                <entry>
    html→text
    </entry>
                <entry>
    Remove the markup tags from an HTML file.
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/odt2txt">
<literal>odt2txt</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/odt2txt">&pop-odtctxt;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/o/odt2txt.html">&size-odtctxt;</ulink></entry>
                <entry>
    odt→text
    </entry>
                <entry>
    The converter from OpenDocument Text to text.
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/wpd2sxw">
<literal>wpd2sxw</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/wpd2sxw">&pop-wpdcsxw;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/w/wpd2sxw.html">&size-wpdcsxw;</ulink></entry>
                <entry>
    WordPerfect→sxw
    </entry>
                <entry>
    WordPerfect to OpenOffice.org/StarOffice writer document converter.
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </section>
      <section id="_highlighting_and_formatting_plain_text_data">
        <title>Highlighting and formatting plain text data</title>
        <table id="listoftoolstohigghtplaintextdata" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of tools to highlight plain text data.</title>
          <tgroup cols="5">
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="216" align="left"/>
            <thead>
              <row>
                <entry>
    パッケージ
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    サイズ
    </entry>
                <entry>
    keyword
    </entry>
                <entry>
    機能
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/vim-runtime">
<literal>vim-runtime</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/vim-runtime">&pop-vimruntime;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/v/vim-runtime.html">&size-vimruntime;</ulink></entry>
                <entry>
    highlight
    </entry>
                <entry>
    Vim can convert source code to HTML with "<literal>:source
$VIMRUNTIME/syntax/html.vim</literal>" (vim MACRO)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/cxref"> <literal>cxref</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/cxref">&pop-cxref;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/c/cxref.html">&size-cxref;</ulink></entry>
                <entry>
    c→html
    </entry>
                <entry>
    The converter for the C program to latex and HTML. (C language)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/src2tex">
<literal>src2tex</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/src2tex">&pop-srcctex;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/s/src2tex.html">&size-srcctex;</ulink></entry>
                <entry>
    highlight
    </entry>
                <entry>
    This convert many source codes to TeX. (C language)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/source-highlight">
<literal>source-highlight</literal> </ulink></entry>
                <entry><ulink
url="http://bugs.debian.org/source-highlight">&pop-sourcehighlight;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/s/source-highlight.html">&size-sourcehighlight;</ulink></entry>
                <entry>
    highlight
    </entry>
                <entry>
    This convert many source codes to HTML, XHTML, LaTeX, Texinfo, ANSI color
escape sequences and DocBook files with highlight. (C++)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/highlight">
<literal>highlight</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/highlight">&pop-highlight;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/h/highlight.html">&size-highlight;</ulink></entry>
                <entry>
    highlight
    </entry>
                <entry>
    This convert many source codes to HTML, XHTML, RTF, LaTeX, TeX or XSL-FO
files with highlight. (C++)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/grc"> <literal>grc</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/grc">&pop-grc;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/g/grc.html">&size-grc;</ulink></entry>
                <entry>
    text→color
    </entry>
                <entry>
    The generic colouriser for everything. (Python)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/txt2html">
<literal>txt2html</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/txt2html">&pop-txtchtml;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/t/txt2html.html">&size-txtchtml;</ulink></entry>
                <entry>
    text→html
    </entry>
                <entry>
    Text to HTML converter. (Perl)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/markdown">
<literal>markdown</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/markdown">&pop-markdown;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/m/markdown.html">&size-markdown;</ulink></entry>
                <entry>
    text→html
    </entry>
                <entry>
    Markdown text document formatter to (X)HTML. (Perl)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/asciidoc">
<literal>asciidoc</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/asciidoc">&pop-asciidoc;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/a/asciidoc.html">&size-asciidoc;</ulink></entry>
                <entry>
    text→any
    </entry>
                <entry>
    AsciiDoc text document formatter to XML/HTML. (Python)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/python-docutils">
<literal>python-docutils</literal> </ulink></entry>
                <entry><ulink
url="http://bugs.debian.org/python-docutils">&pop-pythondocutils;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/p/python-docutils.html">&size-pythondocutils;</ulink></entry>
                <entry>
    text→any
    </entry>
                <entry>
    ReStructured Text document formatter to XML. (Python)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/txt2tags">
<literal>txt2tags</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/txt2tags">&pop-txtctags;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/t/txt2tags.html">&size-txtctags;</ulink></entry>
                <entry>
    text→any
    </entry>
                <entry>
    The document conversion from text to HTML, SGML, LaTeX, man page, MoinMoin,
Magic Point and PageMaker. (Python)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/udo"> <literal>udo</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/udo">&pop-udo;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/u/udo.html">&size-udo;</ulink></entry>
                <entry>
    text→any
    </entry>
                <entry>
    universal document - text processing utility. (C language)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/stx2any">
<literal>stx2any</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/stx2any">&pop-stxcany;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/s/stx2any.html">&size-stxcany;</ulink></entry>
                <entry>
    text→any
    </entry>
                <entry>
    The document converter from structured plain text to other formats. (m4)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/rest2web">
<literal>rest2web</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/rest2web">&pop-restcweb;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/r/rest2web.html">&size-restcweb;</ulink></entry>
                <entry>
    text→html
    </entry>
                <entry>
    The document converter from ReStructured Text to html. (Python)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/aft"> <literal>aft</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/aft">&pop-aft;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/a/aft.html">&size-aft;</ulink></entry>
                <entry>
    text→any
    </entry>
                <entry>
    The "free form" document preparation system. (Perl)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/yodl"> <literal>yodl</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/yodl">&pop-yodl;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/y/yodl.html">&size-yodl;</ulink></entry>
                <entry>
    text→any
    </entry>
                <entry>
    A pre-document language and tools to process it. (C language)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/sdf"> <literal>sdf</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/sdf">&pop-sdf;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/s/sdf.html">&size-sdf;</ulink></entry>
                <entry>
    text→any
    </entry>
                <entry>
    The simple document parser. (Perl)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/sisu"> <literal>sisu</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/sisu">&pop-sisu;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/s/sisu.html">&size-sisu;</ulink></entry>
                <entry>
    text→any
    </entry>
                <entry>
    The document structuring, publishing and search framework. (Ruby)
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </section>
    </section>
    <section id="_xml_data">
      <title>XML data</title>
      <simpara><ulink url="&theextensiblemarkuplanguagexml;">The Extensible Markup Language
(XML)</ulink> is a markup language for documents containing structured
information.</simpara>
      <simpara><ulink url="&xmlcom;">XML.COM</ulink> has good introductory information:</simpara>
      <itemizedlist>
        <listitem>
          <simpara>
            <ulink url="&whatisxml;">"What is XML?"</ulink>
          </simpara>
        </listitem>
        <listitem>
          <simpara>
            <ulink url="&whatisxslt;">"What Is XSLT?"</ulink>
          </simpara>
        </listitem>
        <listitem>
          <simpara>
            <ulink url="&whatisxslfo;">"What Is XSL-FO?"</ulink>
          </simpara>
        </listitem>
        <listitem>
          <simpara>
            <ulink url="&whatisxlink;">"What Is XLink?"</ulink>
          </simpara>
        </listitem>
      </itemizedlist>
      <section id="_basic_hints_for_xml">
        <title>Basic hints for XML</title>
        <simpara>XML text looks somewhat like <ulink url="&html;">HTML</ulink>.  It enables
us to manage multiple formats of output for a document.  One easy XML system
is the <literal>docbook-xsl</literal> package, which is used here.</simpara>
        <simpara>Each XML file starts with standard XML declaration:</simpara>
        <screen>&lt;?xml version="1.0" encoding="UTF-8"?&gt;</screen>
        <simpara>The basic syntax for one XML element is marked up as:</simpara>
        <screen>&lt;name attribute="value"&gt;content&lt;/name&gt;</screen>
        <simpara>XML element with empty content is marked up in the short form as:</simpara>
        <screen>&lt;name attribute="value"/&gt;</screen>
        <simpara>The "<literal>attribute="value"</literal>" in the above examples are
optional.</simpara>
        <simpara>The comment section in XML is marked up as:</simpara>
        <screen>&lt;!-- comment --&gt;</screen>
        <simpara>Other than adding markups, XML requires minor conversion to the content
using predefined entities for the following character:</simpara>
        <table id="listofpredefinedentitiesforxml" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of predefined entities for XML.</title>
          <tgroup cols="2">
            <colspec colwidth="144" align="left"/>
            <colspec colwidth="360" align="left"/>
            <thead>
              <row>
                <entry>
    predefined entity
    </entry>
                <entry>
    character to be converted from
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>&amp;quot;</literal>
                </entry>
                <entry><literal>"</literal> : quote
    </entry>
              </row>
              <row>
                <entry>
                  <literal>&amp;apos;</literal>
                </entry>
                <entry><literal>'</literal> : apostrophe
    </entry>
              </row>
              <row>
                <entry>
                  <literal>&amp;lt;</literal>
                </entry>
                <entry><literal>&lt;</literal> : less-than
    </entry>
              </row>
              <row>
                <entry>
                  <literal>&amp;gt;</literal>
                </entry>
                <entry><literal>&gt;</literal> : greater-than
    </entry>
              </row>
              <row>
                <entry>
                  <literal>&amp;amp;</literal>
                </entry>
                <entry><literal>&amp;</literal> : ampersand
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <caution>
          <simpara>"<literal>&lt;</literal>" or "<literal>&amp;</literal>" can not be used in
attributes or elements.</simpara>
        </caution>
        <note>
          <simpara>When SGML style user defined entities,
e.g. "<literal>&amp;some-tag:</literal>", are used, the first definition
wins over others.  The entity definition is expressed in
"<literal>&lt;!ENTITY some-tag "entity value"&gt;</literal>".</simpara>
        </note>
        <note>
          <simpara>As long as the XML markup are done consistently with certain set of the tag
name (either some data as content or attribute value), conversion to another
XML is trivial task using <ulink
url="&extensiblestylesnsformationsxslt;">Extensible Stylesheet Language
Transformations (XSLT)</ulink>.</simpara>
        </note>
      </section>
      <section id="_xml_processing">
        <title>XML processing</title>
        <simpara>There are many tools available to process XML files such as <ulink
url="&theextensiblestysheetlanguagexsl;">the Extensible Stylesheet Language
(XSL)</ulink>.</simpara>
        <simpara>Basically, once you create well formed XML file, you can convert it to any
format using <ulink url="&extensiblestylesnsformationsxslt;">Extensible
Stylesheet Language Transformations (XSLT)</ulink>.</simpara>
        <simpara>The <ulink url="&extensiblestylesttingobjectxslfo;">Extensible Stylesheet
Language for Formatting Object (XSL-FO)</ulink> is supposed to be solution
for formatting. The <literal>fop</literal> package is in the Debian
<literal>contrib</literal> (not <literal>main</literal>) archive still. So
the LaTeX code is usually generated from XML using XSLT and the LaTeX system
is used to create printable file such as DVI, PostScript, and PDF.</simpara>
        <table id="listofxmltools" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of XML tools.</title>
          <tgroup cols="5">
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="216" align="left"/>
            <thead>
              <row>
                <entry>
    パッケージ
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    サイズ
    </entry>
                <entry>
    keyword
    </entry>
                <entry>
    機能
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/docbook-xml">
<literal>docbook-xml</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/docbook-xml">&pop-docbookxml;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/d/docbook-xml.html">&size-docbookxml;</ulink></entry>
                <entry>
    xml
    </entry>
                <entry>
    This package contains the XML document type definition (DTD) for DocBook.
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/xsltproc">
<literal>xsltproc</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/xsltproc">&pop-xsltproc;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/x/xsltproc.html">&size-xsltproc;</ulink></entry>
                <entry>
    xslt
    </entry>
                <entry>
    XSLT command line processor. (XML→ XML, HTML, plain text, etc.)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/docbook-xsl">
<literal>docbook-xsl</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/docbook-xsl">&pop-docbookxsl;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/d/docbook-xsl.html">&size-docbookxsl;</ulink></entry>
                <entry>
    xml/xslt
    </entry>
                <entry>
    This contains XSL stylesheets for processing DocBook XML to various output
formats with XSLT.
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/xmlto"> <literal>xmlto</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/xmlto">&pop-xmlto;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/x/xmlto.html">&size-xmlto;</ulink></entry>
                <entry>
    xml/xslt
    </entry>
                <entry>
    XML-to-any converter with XSLT.
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/dblatex">
<literal>dblatex</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/dblatex">&pop-dblatex;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/d/dblatex.html">&size-dblatex;</ulink></entry>
                <entry>
    xml/xslt
    </entry>
                <entry>
    This converts Docbook files to DVI, PostScript, PDF documents with XSLT.
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/fop"> <literal>fop</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/fop">&pop-fop;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/f/fop.html">&size-fop;</ulink></entry>
                <entry>
    xml/xsl-fo
    </entry>
                <entry>
    This converts Docbook XML files to PDF.
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>Since XML is subset of <ulink
url="&standardgeneralirkuplanguagesgml;">Standard Generalized Markup
Language (SGML)</ulink>, it can be processed by the extensive tools
available for SGML, such as <ulink
url="&documentstylesemionlanguagedsssl;">Document Style Semantics and
Specification Language (DSSSL)</ulink>.</simpara>
        <table id="listofdssltools" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of DSSL tools.</title>
          <tgroup cols="5">
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="216" align="left"/>
            <thead>
              <row>
                <entry>
    パッケージ
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    サイズ
    </entry>
                <entry>
    keyword
    </entry>
                <entry>
    機能
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/openjade">
<literal>openjade</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/openjade">&pop-openjade;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/o/openjade.html">&size-openjade;</ulink></entry>
                <entry>
    dsssl
    </entry>
                <entry>
    Implementation of the DSSSL language based on James Clark's Jade software.
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/jade"> <literal>jade</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/jade">&pop-jade;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/j/jade.html">&size-jade;</ulink></entry>
                <entry>
    dsssl
    </entry>
                <entry>
    James lark's DSSSL language.
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/docbook-dsssl">
<literal>docbook-dsssl</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/docbook-dsssl">&pop-docbookdsssl;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/d/docbook-dsssl.html">&size-docbookdsssl;</ulink></entry>
                <entry>
    xml/dsssl
    </entry>
                <entry>
    This contains DSSSL stylesheets for processing DocBook XML to various output
formats with DSSSL.
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/docbook-utils">
<literal>docbook-utils</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/docbook-utils">&pop-docbookutils;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/d/docbook-utils.html">&size-docbookutils;</ulink></entry>
                <entry>
    xml/dsssl
    </entry>
                <entry>
    The utilities for Docbook files including conversion to other formats (HTML,
RTF, PS, man, PDF) with <literal>docbook2*</literal> commands with DSSSL.
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/sgml2x">
<literal>sgml2x</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/sgml2x">&pop-sgmlcx;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/s/sgml2x.html">&size-sgmlcx;</ulink></entry>
                <entry>
    SGML/dsssl
    </entry>
                <entry>
    The converter from SGML and XML using DSSSL stylesheets.
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </section>
      <section id="_the_xml_data_extraction">
        <title>The XML data extraction</title>
        <simpara>You can extract HTML or XML data from other formats using followings:</simpara>
        <table id="listofxmldataextractiontools" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of XML data extraction tools.</title>
          <tgroup cols="5">
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="216" align="left"/>
            <thead>
              <row>
                <entry>
    パッケージ
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    サイズ
    </entry>
                <entry>
    keyword
    </entry>
                <entry>
    機能
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/wv"> <literal>wv</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/wv">&pop-wv;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/w/wv.html">&size-wv;</ulink></entry>
                <entry>
    MSWord→any
    </entry>
                <entry>
    The document converter from Microsoft Word to HTML, LaTeX, etc..
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/texi2html">
<literal>texi2html</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/texi2html">&pop-texichtml;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/t/texi2html.html">&size-texichtml;</ulink></entry>
                <entry>
    texi→html
    </entry>
                <entry>
    The converter from Texinfo to HTML.
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/man2html">
<literal>man2html</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/man2html">&pop-manchtml;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/m/man2html.html">&size-manchtml;</ulink></entry>
                <entry>
    manpage→html
    </entry>
                <entry>
    The converter from manpage to HTML. (CGI support)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/tex4ht">
<literal>tex4ht</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/tex4ht">&pop-texeht;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/t/tex4ht.html">&size-texeht;</ulink></entry>
                <entry>
    tex⇔html
    </entry>
                <entry>
    The converter between (La)TeX and HTML.
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/xlhtml">
<literal>xlhtml</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/xlhtml">&pop-xlhtml;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/x/xlhtml.html">&size-xlhtml;</ulink></entry>
                <entry>
    MSExcel→html
    </entry>
                <entry>
    The converter from MSExcel .xls to HTML.
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/ppthtml">
<literal>ppthtml</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/ppthtml">&pop-ppthtml;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/p/ppthtml.html">&size-ppthtml;</ulink></entry>
                <entry>
    MSPowerPoint→html
    </entry>
                <entry>
    The converter from MSPowerPoint to HTML.
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/unrtf"> <literal>unrtf</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/unrtf">&pop-unrtf;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/u/unrtf.html">&size-unrtf;</ulink></entry>
                <entry>
    rtf→html
    </entry>
                <entry>
    The document converter from RTF to HTML, etc..
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/info2www">
<literal>info2www</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/info2www">&pop-infocwww;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/i/info2www.html">&size-infocwww;</ulink></entry>
                <entry>
    info→html
    </entry>
                <entry>
    The converter from GNU info to HTML. (CGI support)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/ooo2dbk">
<literal>ooo2dbk</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/ooo2dbk">&pop-ooocdbk;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/o/ooo2dbk.html">&size-ooocdbk;</ulink></entry>
                <entry>
    sxw→xml
    </entry>
                <entry>
    The converter from OpenOffice.org SXW documents to DocBook XML.
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/wp2x"> <literal>wp2x</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/wp2x">&pop-wpcx;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/w/wp2x.html">&size-wpcx;</ulink></entry>
                <entry>
    WordPerfect→any
    </entry>
                <entry>
    WordPerfect 5.0 and 5.1 files to TeX, LaTeX, troff, GML and HTML.
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/doclifter">
<literal>doclifter</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/doclifter">&pop-doclifter;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/d/doclifter.html">&size-doclifter;</ulink></entry>
                <entry>
    troff→xml
    </entry>
                <entry>
    The converter from troff to DocBook XML.
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>For non-XML HTML files, you can convert them to XHTML which is an instance
of well formed XML and can be processed by XML tools.</simpara>
        <table id="listofxmlprettyprinttools" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of XML pretty print tools.</title>
          <tgroup cols="5">
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="216" align="left"/>
            <thead>
              <row>
                <entry>
    パッケージ
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    サイズ
    </entry>
                <entry>
    keyword
    </entry>
                <entry>
    機能
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/libxml2-utils">
<literal>libxml2-utils</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/libxml2-utils">&pop-libxmlcutils;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/libx/libxml2-utils.html">&size-libxmlcutils;</ulink></entry>
                <entry>
    xml⇔html⇔xhtml
    </entry>
                <entry>
    The command line XML tool with <literal>xmllint</literal>(1). (syntax check,
reformat, lint, …)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/tidy"> <literal>tidy</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/tidy">&pop-tidy;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/t/tidy.html">&size-tidy;</ulink></entry>
                <entry>
    xml⇔html⇔xhtml
    </entry>
                <entry>
    HTML syntax checker and reformatter.
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>Once proper XML is generated, you can use XSLT technology to extract data
based on the mark-up context etc.</simpara>
      </section>
    </section>
    <section id="_printable_data">
      <title>Printable data</title>
      <simpara>Printable data is expressed in the <ulink
url="&postscript;">PostScript</ulink> format on the Debian system.  <ulink
url="&commonunixprintingsystemcups;">Common Unix Printing System
(CUPS)</ulink> uses Ghostscript as its rasterizer backend program for
non-PostScript printers.</simpara>
      <section id="_ghostscript">
        <title>Ghostscript</title>
        <simpara>The core of printable data manipulation is the <ulink
url="&ghostscript;">Ghostscript</ulink> <ulink
url="&postscriptps;">PostScript (PS)</ulink> interpreter which generates
raster image.</simpara>
        <simpara>The latest upstream Ghostscript from Artifex was re-licensed from AFPL to
GPL and merged all the latest ESP version changes such as CUPS related ones
at 8.60 release as unified release.</simpara>
        <table id="listofghostscripriptinterpreters" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of Ghostscript PostScript interpreters.</title>
          <tgroup cols="4">
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="288" align="left"/>
            <thead>
              <row>
                <entry>
    パッケージ
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    サイズ
    </entry>
                <entry>
    説明
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/ghostscript">
<literal>ghostscript</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/ghostscript">&pop-ghostscript;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/g/ghostscript.html">&size-ghostscript;</ulink></entry>
                <entry>
                  <ulink url="&thegplghostscripptpdfinterpreter;">The GPL Ghostscript
PostScript/PDF interpreter</ulink>
                </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/ghostscript-x">
<literal>ghostscript-x</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/ghostscript-x">&pop-ghostscriptx;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/g/ghostscript-x.html">&size-ghostscriptx;</ulink></entry>
                <entry>
    The GPL Ghostscript PostScript/PDF interpreter - X Display support
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/gs-cjk-resource">
<literal>gs-cjk-resource</literal> </ulink></entry>
                <entry><ulink
url="http://bugs.debian.org/gs-cjk-resource">&pop-gscjkresource;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/g/gs-cjk-resource.html">&size-gscjkresource;</ulink></entry>
                <entry>
    Resource files for gs-cjk, Ghostscript <ulink
url="&cjk;">CJK</ulink>-TrueType extension
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/cmap-adobe-cns1">
<literal>cmap-adobe-cns1</literal> </ulink></entry>
                <entry><ulink
url="http://bugs.debian.org/cmap-adobe-cns1">&pop-cmapadobecnsb;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/c/cmap-adobe-cns1.html">&size-cmapadobecnsb;</ulink></entry>
                <entry>
    CMaps for Adobe-CNS1 (for traditional Chinese support)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/cmap-adobe-gb1">
<literal>cmap-adobe-gb1</literal> </ulink></entry>
                <entry><ulink
url="http://bugs.debian.org/cmap-adobe-gb1">&pop-cmapadobegbb;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/c/cmap-adobe-gb1.html">&size-cmapadobegbb;</ulink></entry>
                <entry>
    CMaps for Adobe-GB1 (for simplified Chinese support)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/cmap-adobe-japan1">
<literal>cmap-adobe-japan1</literal> </ulink></entry>
                <entry><ulink
url="http://bugs.debian.org/cmap-adobe-japan1">&pop-cmapadobejapanb;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/c/cmap-adobe-japan1.html">&size-cmapadobejapanb;</ulink></entry>
                <entry>
    CMaps for Adobe-Japan1 (for Japanese standard support)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/cmap-adobe-japan2">
<literal>cmap-adobe-japan2</literal> </ulink></entry>
                <entry><ulink
url="http://bugs.debian.org/cmap-adobe-japan2">&pop-cmapadobejapanc;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/c/cmap-adobe-japan2.html">&size-cmapadobejapanc;</ulink></entry>
                <entry>
    CMaps for Adobe-Japan2 (for Japanese extra support)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/cmap-adobe-korea1">
<literal>cmap-adobe-korea1</literal> </ulink></entry>
                <entry><ulink
url="http://bugs.debian.org/cmap-adobe-korea1">&pop-cmapadobekoreab;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/c/cmap-adobe-korea1.html">&size-cmapadobekoreab;</ulink></entry>
                <entry>
    CMaps for Adobe-Korea1 (for Korean support)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/libpoppler4">
<literal>libpoppler4</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/libpoppler4">&pop-libpopplere;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/libp/libpoppler4.html">&size-libpopplere;</ulink></entry>
                <entry>
    PDF rendering library based on xpdf PDF viewer
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/libpoppler-glib4">
<literal>libpoppler-glib4</literal> </ulink></entry>
                <entry><ulink
url="http://bugs.debian.org/libpoppler-glib4">&pop-libpopplerglibe;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/libp/libpoppler-glib4.html">&size-libpopplerglibe;</ulink></entry>
                <entry>
    PDF rendering library (GLib-based shared library)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/poppler-data">
<literal>poppler-data</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/poppler-data">&pop-popplerdata;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/p/poppler-data.html">&size-popplerdata;</ulink></entry>
                <entry>
    CMaps for PDF rendering library (for <ulink url="&cjk;">CJK</ulink> support:
Adobe-*)
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <tip>
          <simpara>"<literal>gs -h</literal>" to display the configuration of Ghostscript.</simpara>
        </tip>
      </section>
      <section id="_merge_two_ps_or_pdf_files">
        <title>Merge two PS or PDF files</title>
        <simpara>You can merge two <ulink url="&postscriptps;">PostScript (PS)</ulink> or
<ulink url="&portabledocumentformatpdf;">Portable Document Format
(PDF)</ulink> files using <literal>gs</literal>(1) of Ghostscript.</simpara>
        <screen>$ gs -q -dNOPAUSE -dBATCH -sDEVICE=pswrite -sOutputFile=bla.ps -f foo1.ps foo2.ps
$ gs -q -dNOPAUSE -dBATCH -sDEVICE=pdfwrite -sOutputFile=bla.pdf -f foo1.pdf foo2.pdf</screen>
        <note>
          <simpara>The <ulink url="&pdf;">PDF</ulink>, which is widely used cross-platform
printable data format, is essentially the compressed <ulink
url="&ps;">PS</ulink> format with few additional features and extensions.</simpara>
        </note>
        <tip>
          <simpara>From command line, <literal>psmerge</literal>(1) and other commands from the
<literal>psutils</literal> package are useful for manipulating PostScript
documents.  Commands in the <literal>pdfjam</literal> package work similarly
for manipulating PDF documents. <literal>pdftk</literal>(1) from the
<literal>pdftk</literal> package is useful for manipulating PDF documents,
too.</simpara>
        </tip>
      </section>
      <section id="_printable_data_utilities">
        <title>Printable data utilities</title>
        <simpara>The following packages for the printable data utilities caught my eyes:</simpara>
        <table id="listofprintabledatautilities" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of printable data utilities.</title>
          <tgroup cols="5">
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="216" align="left"/>
            <thead>
              <row>
                <entry>
    パッケージ
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    サイズ
    </entry>
                <entry>
    keyword
    </entry>
                <entry>
    機能
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/poppler-utils">
<literal>poppler-utils</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/poppler-utils">&pop-popplerutils;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/p/poppler-utils.html">&size-popplerutils;</ulink></entry>
                <entry>
    pdf→ps,text,…
    </entry>
                <entry>
    PDF utilities. (pdftops, pdfinfo, pdfimages, pdftotext, and pdffonts)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/psutils">
<literal>psutils</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/psutils">&pop-psutils;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/p/psutils.html">&size-psutils;</ulink></entry>
                <entry>
    ps→ps
    </entry>
                <entry>
    PostScript document conversion tools
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/poster">
<literal>poster</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/poster">&pop-poster;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/p/poster.html">&size-poster;</ulink></entry>
                <entry>
    ps→ps
    </entry>
                <entry>
    Create large posters out of PostScript pages.
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/xpdf-utils">
<literal>xpdf-utils</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/xpdf-utils">&pop-xpdfutils;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/x/xpdf-utils.html">&size-xpdfutils;</ulink></entry>
                <entry>
    pdf→ps,text,…
    </entry>
                <entry>
    PDF utilities. (pdftops, pdfinfo, pdfimages, pdftotext, and pdffonts)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/enscript">
<literal>enscript</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/enscript">&pop-enscript;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/e/enscript.html">&size-enscript;</ulink></entry>
                <entry>
    text→ps, html, rtf
    </entry>
                <entry>
    Converts ASCII text to Postscript, HTML, RTF or Pretty-Print.
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/a2ps"> <literal>a2ps</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/a2ps">&pop-acps;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/a/a2ps.html">&size-acps;</ulink></entry>
                <entry>
    text→ps
    </entry>
                <entry>
    'Anything to PostScript' converter and pretty-printer.
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/pdftk"> <literal>pdftk</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/pdftk">&pop-pdftk;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/p/pdftk.html">&size-pdftk;</ulink></entry>
                <entry>
    pdf→pdf
    </entry>
                <entry>
    PDF document conversion tool: (<literal>pdftk</literal>)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/mpage"> <literal>mpage</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/mpage">&pop-mpage;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/m/mpage.html">&size-mpage;</ulink></entry>
                <entry>
    text,ps→ps
    </entry>
                <entry>
    Print multiple pages per sheet.
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/html2ps">
<literal>html2ps</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/html2ps">&pop-htmlcps;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/h/html2ps.html">&size-htmlcps;</ulink></entry>
                <entry>
    html→ps
    </entry>
                <entry>
    The converter from HTML to PostScript.
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/pdfjam">
<literal>pdfjam</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/pdfjam">&pop-pdfjam;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/p/pdfjam.html">&size-pdfjam;</ulink></entry>
                <entry>
    pdf→pdf
    </entry>
                <entry>
    PDF document conversion tools: <literal>pdf90</literal>,
<literal>pdfjoin</literal>, and <literal>pdfnup</literal>
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/gnuhtml2latex">
<literal>gnuhtml2latex</literal> </ulink></entry>
                <entry><ulink
url="http://bugs.debian.org/gnuhtml2latex">&pop-gnuhtmlclatex;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/g/gnuhtml2latex.html">&size-gnuhtmlclatex;</ulink></entry>
                <entry>
    html→latex
    </entry>
                <entry>
    The converter from html to latex.
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/latex2rtf">
<literal>latex2rtf</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/latex2rtf">&pop-latexcrtf;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/l/latex2rtf.html">&size-latexcrtf;</ulink></entry>
                <entry>
    latex→rtf
    </entry>
                <entry>
    This converts documents from LaTeX to RTF which can be read by MS Word.
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/ps2eps">
<literal>ps2eps</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/ps2eps">&pop-psceps;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/p/ps2eps.html">&size-psceps;</ulink></entry>
                <entry>
    ps→eps
    </entry>
                <entry>
    The converter from PostScript to EPS (Encapsulated PostScript).
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/e2ps"> <literal>e2ps</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/e2ps">&pop-ecps;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/e/e2ps.html">&size-ecps;</ulink></entry>
                <entry>
    text→ps
    </entry>
                <entry>
    Text to PostScript converter with Japanese encoding support.
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/impose+">
<literal>impose+</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/impose+">&pop-impose;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/i/impose+.html">&size-impose;</ulink></entry>
                <entry>
    ps→ps
    </entry>
                <entry>
    Postscript utilities.
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/trueprint">
<literal>trueprint</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/trueprint">&pop-trueprint;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/t/trueprint.html">&size-trueprint;</ulink></entry>
                <entry>
    text→ps
    </entry>
                <entry>
    This pretty print many source codes (C, C++, Java, Pascal, Perl, Pike, Sh,
and Verilog) to PostScript. (C language)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/pdf2svg">
<literal>pdf2svg</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/pdf2svg">&pop-pdfcsvg;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/p/pdf2svg.html">&size-pdfcsvg;</ulink></entry>
                <entry>
    ps→svg
    </entry>
                <entry>
    Converter from PDF to <ulink url="&scalablevectorgraphics;">Scalable vector
graphics</ulink> format.
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/pdftoipe">
<literal>pdftoipe</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/pdftoipe">&pop-pdftoipe;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/p/pdftoipe.html">&size-pdftoipe;</ulink></entry>
                <entry>
    ps→ipe
    </entry>
                <entry>
    Converter from PDF to IPE's XML format.
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </section>
      <section id="_printing_with_cups">
        <title>Printing with CUPS</title>
        <simpara>Both <literal>lp</literal>(1) and <literal>lpr</literal>(1) commands offered
by <ulink url="&commonunixprintingsystemcups;">Common Unix Printing System
(CUPS)</ulink> provides options for customized printing the printable data.</simpara>
        <simpara>For printing 3 copies of a file collated:</simpara>
        <screen>$ lp -n 3 -o Collate=True filename</screen>
        <simpara>, or</simpara>
        <screen>$ lpr -#3 -o Collate=True filename</screen>
        <simpara>You can further customize printer operation by using printer option such as
"<literal>-o number-up=2</literal>", "<literal>-o page-set=even</literal>",
"<literal>-o page-set=odd</literal>", "<literal>-o scaling=200</literal>",
"<literal>-o natural-scaling=200</literal>", etc., documented at <ulink
url="&commandlineprintingandoptions;">Command-Line Printing and
Options</ulink>.</simpara>
      </section>
    </section>
    <section id="_type_setting">
      <title>Type setting</title>
      <simpara>The Unix <ulink url="&troff;">troff</ulink> program originally developed by
AT&amp;T can be used for simple type setting.  It is usually used to create
manpages.</simpara>
      <simpara><ulink url="&tex;">TeX</ulink> created by Donald Knuth is very powerful type
setting tool and is the de facto standard. <ulink
url="&latex;">LaTeX</ulink> originally written by Leslie Lamport enables a
high-level access to the power of TeX.</simpara>
      <table id="listoftypesettingtools" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>List of type setting tools.</title>
        <tgroup cols="5">
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="216" align="left"/>
          <thead>
            <row>
              <entry>
    パッケージ
    </entry>
              <entry>
    popcon
    </entry>
              <entry>
    サイズ
    </entry>
              <entry>
    keyword
    </entry>
              <entry>
    機能
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/texlive-base">
<literal>texlive-base</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/texlive-base">&pop-texlivebase;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/t/texlive-base.html">&size-texlivebase;</ulink></entry>
              <entry>
    (La)TeX
    </entry>
              <entry>
    TeX system for typesetting, previewing and printing.
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/groff"> <literal>groff</literal>
</ulink></entry>
              <entry><ulink url="http://bugs.debian.org/groff">&pop-groff;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/g/groff.html">&size-groff;</ulink></entry>
              <entry>
    troff
    </entry>
              <entry>
    GNU troff text-formatting system.
    </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <section id="_roff_typesetting">
        <title>roff typesetting</title>
        <simpara>Traditionally, <literal>roff</literal> is the main Unix text processing
system.  See <literal>roff</literal>(7), <literal>groff</literal>(7),
<literal>groff</literal>(1), <literal>grotty</literal>(1),
<literal>troff</literal>(1), <literal>groff_mdoc</literal>(7),
<literal>groff_man</literal>(7), <literal>groff_ms</literal>(7),
<literal>groff_me</literal>(7), <literal>groff_mm</literal>(7), and
"<literal>info groff</literal>".</simpara>
        <simpara>A good tutorial on "<literal>-me</literal>" macros is availabe:</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
Install the <literal>groff</literal> package,
</simpara>
          </listitem>
          <listitem>
            <simpara>
find "<literal>/usr/share/doc/groff/meintro.me.gz</literal>", and
</simpara>
          </listitem>
          <listitem>
            <simpara>
do the following:
</simpara>
          </listitem>
        </itemizedlist>
        <screen>$ zcat /usr/share/doc/groff/meintro.me.gz | \
     groff -Tascii -me - | less -R</screen>
        <simpara>The following will make a completely plain text file:</simpara>
        <screen>$ zcat /usr/share/doc/groff/meintro.me.gz | \
    GROFF_NO_SGR=1 groff -Tascii -me - | col -b -x &gt; meintro.txt</screen>
        <simpara>For printing, use PostScript output.</simpara>
        <screen>$ groff -Tps meintro.txt | lpr
$ groff -Tps meintro.txt | mpage -2 | lpr</screen>
      </section>
      <section id="_tex_latex">
        <title>TeX/LaTeX</title>
        <simpara>Preparation:</simpara>
        <screen># aptitude install texlive</screen>
        <simpara>References for <ulink url="&latex;">LaTeX</ulink>:</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
              <ulink url="&thetetexhowtothextetexlocalguide;">The teTeX HOWTO: The
Linux-teTeX Local Guide</ulink>
            </simpara>
          </listitem>
          <listitem>
            <simpara><literal>tex</literal>(1)
</simpara>
          </listitem>
          <listitem>
            <simpara><literal>latex</literal>(1)
</simpara>
          </listitem>
          <listitem>
            <simpara>
"The TeXbook", by Donald E. Knuth, (Addison-Wesley)
</simpara>
          </listitem>
          <listitem>
            <simpara>
"LaTeX - A Document Preparation System", by Leslie Lamport, (Addison-Wesley)
</simpara>
          </listitem>
          <listitem>
            <simpara>
"The LaTeX Companion", by Goossens, Mittelbach, Samarin, (Addison-Wesley)
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>This is the most powerful typesetting environment.  Many SGML processors use
this as their back end text processor.  Lyx provided by the
<literal>lyx</literal> package and GNU TeXmacs provided by the
<literal>texmacs</literal> package offer nice WYSIWYG editing environment
for LaTeX while many use Emacs and Vim as the choice for the source editor.</simpara>
        <simpara>There are many online resources available:</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
The TEX Live Guide - TEX Live 2007
("<literal>/usr/share/doc/texlive-doc-base/english/texlive-en/live.html</literal>")
(<literal>texlive-doc-base</literal> package)
</simpara>
          </listitem>
          <listitem>
            <simpara>
              <ulink url="&asimpleguidetolatexlyx;">A Simple Guide to Latex/Lyx</ulink>
            </simpara>
          </listitem>
          <listitem>
            <simpara>
              <ulink url="&wordprocessingusinglatex;">Word Processing Using LaTeX</ulink>
            </simpara>
          </listitem>
          <listitem>
            <simpara>
              <ulink url="&localuserguidetotetexlatex;">Local User Guide to
teTeX/LaTeX</ulink>
            </simpara>
          </listitem>
        </itemizedlist>
        <simpara>When documents become bigger, sometimes TeX may cause errors.  You must
increase pool size in "<literal>/etc/texmf/texmf.cnf</literal>" (or more
appropriately edit "<literal>/etc/texmf/texmf.d/95NonPath</literal>" and run
<literal>update-texmf</literal>(8)) to fix this.</simpara>
        <note>
          <simpara>The TeX source of "The TeXbook" is available at <ulink
url="&httptugctanorgteisttextexbooktex;">http://tug.ctan.org/tex-archive/systems/knuth/dist/tex/texbook.tex</ulink>.</simpara>
        </note>
        <simpara>This file contains most of the required macros.  I heard that you can
process this document with <literal>tex</literal>(1) after commenting lines
7 to 10 and adding "<literal>\input manmac \proofmodefalse</literal>". It's
strongly recommended to buy this book (and all other books from Donald
E. Knuth) instead of using the online version but the source is a great
example of TeX input!</simpara>
      </section>
      <section id="_pretty_print_a_manual_page">
        <title>Pretty print a manual page</title>
        <simpara>The following will print a manual page in PostScript and print it.</simpara>
        <screen>$ man -Tps some_manpage | lpr
$ man -Tps some_manpage | mpage -2 | lpr</screen>
      </section>
      <section id="_creating_a_manual_page">
        <title>Creating a manual page</title>
        <simpara>Although writing a manual page (manpage) in the plain <ulink
url="&troff;">troff</ulink> format is possible, there are few helper
packages to create it.</simpara>
        <table id="listofpackagestoeatingthemanpage" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of packages to help creating the manpage.</title>
          <tgroup cols="5">
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="216" align="left"/>
            <thead>
              <row>
                <entry>
    パッケージ
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    サイズ
    </entry>
                <entry>
    keyword
    </entry>
                <entry>
    機能
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/docbook-to-man">
<literal>docbook-to-man</literal> </ulink></entry>
                <entry><ulink
url="http://bugs.debian.org/docbook-to-man">&pop-docbooktoman;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/d/docbook-to-man.html">&size-docbooktoman;</ulink></entry>
                <entry>
    SGML→manpage
    </entry>
                <entry>
    The converter from DocBook SGML into roff man macros.
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/help2man">
<literal>help2man</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/help2man">&pop-helpcman;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/h/help2man.html">&size-helpcman;</ulink></entry>
                <entry>
    text→manpage
    </entry>
                <entry>
    Automatic manpage generator from --help.
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/info2man">
<literal>info2man</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/info2man">&pop-infocman;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/i/info2man.html">&size-infocman;</ulink></entry>
                <entry>
    info→manpage
    </entry>
                <entry>
    The converter from GNU info to POD or man pages.
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/txt2man">
<literal>txt2man</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/txt2man">&pop-txtcman;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/t/txt2man.html">&size-txtcman;</ulink></entry>
                <entry>
    text→manpage
    </entry>
                <entry>
    Converts flat ASCII text to man page format.
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </section>
    </section>
    <section id="_the_mail_data_conversion">
      <title>The mail data conversion</title>
      <simpara>The following packages for the mail data conversion caught my eyes:</simpara>
      <table id="listofpackagestoildataconversion" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>List of packages to help mail data conversion.</title>
        <tgroup cols="5">
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="216" align="left"/>
          <thead>
            <row>
              <entry>
    パッケージ
    </entry>
              <entry>
    popcon
    </entry>
              <entry>
    サイズ
    </entry>
              <entry>
    keyword
    </entry>
              <entry>
    機能
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/sharutils">
<literal>sharutils</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/sharutils">&pop-sharutils;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/s/sharutils.html">&size-sharutils;</ulink></entry>
              <entry>
    mail
    </entry>
              <entry><literal>shar</literal>(1), <literal>unshar</literal>(1),
<literal>uuencode</literal>(1), <literal>uudecode</literal>(1)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/mpack"> <literal>mpack</literal>
</ulink></entry>
              <entry><ulink url="http://bugs.debian.org/mpack">&pop-mpack;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/m/mpack.html">&size-mpack;</ulink></entry>
              <entry>
    mail
    </entry>
              <entry>
    The encoder and decoder <ulink url="&mime;">MIME</ulink> messages:
<literal>mpack</literal>(1) and <literal>munpack</literal>(1).
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/tnef"> <literal>tnef</literal>
</ulink></entry>
              <entry><ulink url="http://bugs.debian.org/tnef">&pop-tnef;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/t/tnef.html">&size-tnef;</ulink></entry>
              <entry>
    mail
    </entry>
              <entry>
    unpacking <ulink url="&mime;">MIME</ulink> attachments of type
"application/ms-tnef" which is a Microsoft only format.
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/uudeview">
<literal>uudeview</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/uudeview">&pop-uudeview;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/u/uudeview.html">&size-uudeview;</ulink></entry>
              <entry>
    mail
    </entry>
              <entry>
    The encoder and decoder for the following formats: <ulink
url="&uuencode;">uuencode</ulink>, <ulink url="&xxencode;">xxencode</ulink>,
<ulink url="&basege;">BASE64</ulink>, <ulink url="&quotedprintable;">quoted
printable</ulink>, and <ulink url="&binhex;">BinHex</ulink>
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/mimedecode">
<literal>mimedecode</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/mimedecode">&pop-mimedecode;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/m/mimedecode.html">&size-mimedecode;</ulink></entry>
              <entry>
    mail
    </entry>
              <entry>
    This decodes transfer encoded text type <ulink url="&mime;">MIME</ulink>
messages.
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/readpst">
<literal>readpst</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/readpst">&pop-readpst;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/r/readpst.html">&size-readpst;</ulink></entry>
              <entry>
    windows/mail
    </entry>
              <entry>
    This converts <ulink url="&outlookpstfiles;">Outlook PST files</ulink> to
<ulink url="&mbox;">mbox</ulink> format.
    </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <tip>
        <simpara>The <ulink url="&internetmessageaccessprotocol;">Internet Message Access
Protocol</ulink> version 4 (IMAP4) server (see <xref
linkend="_pop3_imap4_server"/>) may be used to move mails out from
proprietary mail systems if the mail client software can be configured to
use IMAP4 server too.</simpara>
      </tip>
      <section id="_mail_data_basics">
        <title>Mail data basics</title>
        <simpara>Mail (SMTP) data should be limited to 7 bit.  So binary data and 8 bit text
data are encoded into 7 bit format with the <ulink
url="&multipurposeinteilextensionsmime;">Multipurpose Internet Mail
Extensions (MIME)</ulink> and the selection of the charset (see <xref
linkend="_basics_of_encoding"/>).</simpara>
        <simpara>The standard mail storage format is mbox formatted according to <ulink
url="&rfcciccupdatedrfcicc;">RFC2822 (updated RFC822)</ulink>.  See
<literal>mbox</literal>(5) (provided by the <literal>mutt</literal>
package).</simpara>
        <simpara>For European languages, "<literal>Content-Transfer-Encoding:
quoted-printable</literal>" with the ISO-8859-1 charset is usually used
since there are no much 8 bit characters. If the text is in UTF-8,
"<literal>Content-Transfer-Encoding: quoted-printable</literal>" is also
used since it is mostly 7 bit data.</simpara>
        <simpara>For Japanese, traditionally "<literal>Content-Type: text/plain;
charset=ISO-2022-JP</literal>" should be used to keep text in 7 bits. But
mails from older Microsoft systems may use in Shift-JIS without proper
declaration.  For Japanese, if the text is in UTF-8, it contains many 8 bit
data and is encoded into 7 bit data by <ulink
url="&basege;">Base64</ulink>.  The situation of other Asian languages is
similar.</simpara>
        <note>
          <simpara>If your non-Unix mail data is accessible by a non-Debian client software
which can talk to the IMAP4 server, you may be able to move them out by
running your own IMAP4 server (see <xref linkend="_pop3_imap4_server"/>).</simpara>
        </note>
        <note>
          <simpara>If you use other mail storage formats, moving them to mbox format is the
good first step.  The versatile client program such as
<literal>mutt</literal>(1) may be handy for this.</simpara>
        </note>
        <simpara>You can split mailbox contents to each message using
<literal>procmail</literal>(1) and <literal>formail</literal>(1).</simpara>
        <simpara>Each mail message can be unpacked using <literal>munpack</literal>(1) from
the <literal>mpack</literal> package (or other specialized tools) to obtain
the MIME encoded contents.</simpara>
      </section>
    </section>
    <section id="_graphic_data_tools">
      <title>Graphic data tools</title>
      <simpara>The following packages for the graphic data conversion, editing, and
organization tools caught my eyes:</simpara>
      <table id="listofgraphicdatatools" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>List of graphic data tools.</title>
        <tgroup cols="5">
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="216" align="left"/>
          <thead>
            <row>
              <entry>
    パッケージ
    </entry>
              <entry>
    popcon
    </entry>
              <entry>
    サイズ
    </entry>
              <entry>
    keyword
    </entry>
              <entry>
    機能
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/gimp"> <literal>gimp</literal>
</ulink></entry>
              <entry><ulink url="http://bugs.debian.org/gimp">&pop-gimp;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/g/gimp.html">&size-gimp;</ulink></entry>
              <entry>
    image(bitmap)
    </entry>
              <entry>
    The GNU Image Manipulation Program.
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/imagemagick">
<literal>imagemagick</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/imagemagick">&pop-imagemagick;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/i/imagemagick.html">&size-imagemagick;</ulink></entry>
              <entry>
    image(bitmap)
    </entry>
              <entry>
    Image manipulation programs.
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/graphicsmagick">
<literal>graphicsmagick</literal> </ulink></entry>
              <entry><ulink
url="http://bugs.debian.org/graphicsmagick">&pop-graphicsmagick;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/g/graphicsmagick.html">&size-graphicsmagick;</ulink></entry>
              <entry>
    image(bitmap)
    </entry>
              <entry>
    Image manipulation programs. (folk of <literal>imagemagick</literal>)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/xsane"> <literal>xsane</literal>
</ulink></entry>
              <entry><ulink url="http://bugs.debian.org/xsane">&pop-xsane;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/x/xsane.html">&size-xsane;</ulink></entry>
              <entry>
    image(bitmap)
    </entry>
              <entry>
    GTK+-based X11 frontend for SANE (Scanner Access Now Easy).
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/netpbm">
<literal>netpbm</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/netpbm">&pop-netpbm;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/n/netpbm.html">&size-netpbm;</ulink></entry>
              <entry>
    image(bitmap)
    </entry>
              <entry>
    Graphics conversion tools.
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/icoutils">
<literal>icoutils</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/icoutils">&pop-icoutils;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/i/icoutils.html">&size-icoutils;</ulink></entry>
              <entry>
    png⇔ico(bitmap)
    </entry>
              <entry>
    Converts <ulink url="&mswindowsiconsanndfrompngformats;">MS Windows icons
and cursors to and from PNG formats</ulink> (<ulink
url="&faviconico;">favicon.ico</ulink>)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/xpm2wico">
<literal>xpm2wico</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/xpm2wico">&pop-xpmcwico;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/x/xpm2wico.html">&size-xpmcwico;</ulink></entry>
              <entry>
    xpm→ico(bitmap)
    </entry>
              <entry>
    Converts XPM to <ulink url="&mswindowsiconformats;">MS Windows icon
formats</ulink>
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/scribus">
<literal>scribus</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/scribus">&pop-scribus;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/s/scribus.html">&size-scribus;</ulink></entry>
              <entry>
    ps/pdf/SVG/…
    </entry>
              <entry>
    The <ulink url="&scribus;">Scribus</ulink> DTP editor.
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/openoffice.org-draw">
<literal>openoffice.org-draw</literal> </ulink></entry>
              <entry><ulink
url="http://bugs.debian.org/openoffice.org-draw">&pop-openofficeorgdraw;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/o/openoffice.org-draw.html">&size-openofficeorgdraw;</ulink></entry>
              <entry>
    image(vector)
    </entry>
              <entry>
    OpenOffice.org office suite - drawing
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/inkscape">
<literal>inkscape</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/inkscape">&pop-inkscape;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/i/inkscape.html">&size-inkscape;</ulink></entry>
              <entry>
    image(vector)
    </entry>
              <entry>
    The <ulink url="&svgscalablevectorgraphics;">SVG (Scalable Vector
Graphics)</ulink> editor.
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/dia-gnome">
<literal>dia-gnome</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/dia-gnome">&pop-diagnome;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/d/dia-gnome.html">&size-diagnome;</ulink></entry>
              <entry>
    image(vector)
    </entry>
              <entry>
    Diagram editor (GNOME)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/dia"> <literal>dia</literal>
</ulink></entry>
              <entry><ulink url="http://bugs.debian.org/dia">&pop-dia;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/d/dia.html">&size-dia;</ulink></entry>
              <entry>
    image(vector)
    </entry>
              <entry>
    Diagram editor (Gtk)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/xfig"> <literal>xfig</literal>
</ulink></entry>
              <entry><ulink url="http://bugs.debian.org/xfig">&pop-xfig;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/x/xfig.html">&size-xfig;</ulink></entry>
              <entry>
    image(vector)
    </entry>
              <entry>
    Facility for Interactive Generation of figures under X11
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/pstoedit">
<literal>pstoedit</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/pstoedit">&pop-pstoedit;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/p/pstoedit.html">&size-pstoedit;</ulink></entry>
              <entry>
    ps/pdf→image(vector)
    </entry>
              <entry>
    PostScript and PDF files to editable vector graphics converter. (SVG)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/libwmf-bin">
<literal>libwmf-bin</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/libwmf-bin">&pop-libwmfbin;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/libw/libwmf-bin.html">&size-libwmfbin;</ulink></entry>
              <entry>
    Windows/image(vector)
    </entry>
              <entry>
    Windows metafile (vector graphic data) conversion tools.
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/fig2sxd">
<literal>fig2sxd</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/fig2sxd">&pop-figcsxd;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/f/fig2sxd.html">&size-figcsxd;</ulink></entry>
              <entry>
    fig→sxd(vector)
    </entry>
              <entry>
    Convert XFig files to OpenOffice.org Draw format
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/unpaper">
<literal>unpaper</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/unpaper">&pop-unpaper;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/u/unpaper.html">&size-unpaper;</ulink></entry>
              <entry>
    image→image
    </entry>
              <entry>
    Post-processing tool for scanned pages for <ulink url="&ocr;">OCR</ulink>.
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/tesseract-ocr">
<literal>tesseract-ocr</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/tesseract-ocr">&pop-tesseractocr;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/t/tesseract-ocr.html">&size-tesseractocr;</ulink></entry>
              <entry>
    image→text
    </entry>
              <entry>
    Free <ulink url="&ocr;">OCR</ulink> software based on the HP's commercial
OCR engine.
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/tesseract-ocr-eng">
<literal>tesseract-ocr-eng</literal> </ulink></entry>
              <entry><ulink
url="http://bugs.debian.org/tesseract-ocr-eng">&pop-tesseractocreng;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/t/tesseract-ocr-eng.html">&size-tesseractocreng;</ulink></entry>
              <entry>
    image→text
    </entry>
              <entry>
    OCR engine data: tesseract-ocr language files for English text.
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/clara"> <literal>clara</literal>
</ulink></entry>
              <entry><ulink url="http://bugs.debian.org/clara">&pop-clara;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/c/clara.html">&size-clara;</ulink></entry>
              <entry>
    image→text
    </entry>
              <entry>
    Free OCR software.
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/gocr"> <literal>gocr</literal>
</ulink></entry>
              <entry><ulink url="http://bugs.debian.org/gocr">&pop-gocr;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/g/gocr.html">&size-gocr;</ulink></entry>
              <entry>
    image→text
    </entry>
              <entry>
    Free OCR software.
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/ocrad"> <literal>ocrad</literal>
</ulink></entry>
              <entry><ulink url="http://bugs.debian.org/ocrad">&pop-ocrad;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/o/ocrad.html">&size-ocrad;</ulink></entry>
              <entry>
    image→text
    </entry>
              <entry>
    Free OCR software.
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/gtkam"> <literal>gtkam</literal>
</ulink></entry>
              <entry><ulink url="http://bugs.debian.org/gtkam">&pop-gtkam;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/g/gtkam.html">&size-gtkam;</ulink></entry>
              <entry>
    image(Exif)
    </entry>
              <entry>
    Manipulates digital camera photo files (GNOME) - GUI
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/gphoto2">
<literal>gphoto2</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/gphoto2">&pop-gphotoc;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/g/gphoto2.html">&size-gphotoc;</ulink></entry>
              <entry>
    image(Exif)
    </entry>
              <entry>
    Manipulates digital camera photo files (GNOME) - command line
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/kamera">
<literal>kamera</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/kamera">&pop-kamera;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/k/kamera.html">&size-kamera;</ulink></entry>
              <entry>
    image(Exif)
    </entry>
              <entry>
    Manipulates digital camera photo files (KDE)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/jhead"> <literal>jhead</literal>
</ulink></entry>
              <entry><ulink url="http://bugs.debian.org/jhead">&pop-jhead;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/j/jhead.html">&size-jhead;</ulink></entry>
              <entry>
    image(Exif)
    </entry>
              <entry>
    Manipulates the non-image part of Exif compliant JPEG (digital camera photo)
files
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/exif"> <literal>exif</literal>
</ulink></entry>
              <entry><ulink url="http://bugs.debian.org/exif">&pop-exif;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/e/exif.html">&size-exif;</ulink></entry>
              <entry>
    image(Exif)
    </entry>
              <entry>
    Command-line utility to show EXIF information in JPEG files
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/exiftags">
<literal>exiftags</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/exiftags">&pop-exiftags;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/e/exiftags.html">&size-exiftags;</ulink></entry>
              <entry>
    image(Exif)
    </entry>
              <entry>
    Utility to read Exif tags from a digital camera JPEG file
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/exiftran">
<literal>exiftran</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/exiftran">&pop-exiftran;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/e/exiftran.html">&size-exiftran;</ulink></entry>
              <entry>
    image(Exif)
    </entry>
              <entry>
    Transforms digital camera jpeg images
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/exifprobe">
<literal>exifprobe</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/exifprobe">&pop-exifprobe;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/e/exifprobe.html">&size-exifprobe;</ulink></entry>
              <entry>
    image(Exif)
    </entry>
              <entry>
    Reads metadata from digital pictures
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/dcraw"> <literal>dcraw</literal>
</ulink></entry>
              <entry><ulink url="http://bugs.debian.org/dcraw">&pop-dcraw;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/d/dcraw.html">&size-dcraw;</ulink></entry>
              <entry>
    image(Raw)→ppm
    </entry>
              <entry>
    Decodes raw digital camera images
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/findimagedupes">
<literal>findimagedupes</literal> </ulink></entry>
              <entry><ulink
url="http://bugs.debian.org/findimagedupes">&pop-findimagedupes;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/f/findimagedupes.html">&size-findimagedupes;</ulink></entry>
              <entry>
    image→fingerprint
    </entry>
              <entry>
    Finds visually similar or duplicate images
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/ale"> <literal>ale</literal>
</ulink></entry>
              <entry><ulink url="http://bugs.debian.org/ale">&pop-ale;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/a/ale.html">&size-ale;</ulink></entry>
              <entry>
    image→image
    </entry>
              <entry>
    Merges images to increase fidelity or create mosaics
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/imageindex">
<literal>imageindex</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/imageindex">&pop-imageindex;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/i/imageindex.html">&size-imageindex;</ulink></entry>
              <entry>
    image(Exif)→html
    </entry>
              <entry>
    Generates static HTML galleries from images
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/f-spot">
<literal>f-spot</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/f-spot">&pop-fspot;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/f/f-spot.html">&size-fspot;</ulink></entry>
              <entry>
    image(Exif)
    </entry>
              <entry>
    Personal photo management application (GNOME)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/bins"> <literal>bins</literal>
</ulink></entry>
              <entry><ulink url="http://bugs.debian.org/bins">&pop-bins;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/b/bins.html">&size-bins;</ulink></entry>
              <entry>
    image(Exif)→html
    </entry>
              <entry>
    Generates static HTML photo albums using XML and EXIF tags
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/galrey">
<literal>galrey</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/galrey">&pop-galrey;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/g/galrey.html">&size-galrey;</ulink></entry>
              <entry>
    image(Exif)→html
    </entry>
              <entry>
    Generates browsable HTML photo albums with thumbnails
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/outguess">
<literal>outguess</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/outguess">&pop-outguess;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/o/outguess.html">&size-outguess;</ulink></entry>
              <entry>
    jpeg,png
    </entry>
              <entry>
    Universal Steganographic tool
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/qcad"> <literal>qcad</literal>
</ulink></entry>
              <entry><ulink url="http://bugs.debian.org/qcad">&pop-qcad;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/q/qcad.html">&size-qcad;</ulink></entry>
              <entry>
    DXF
    </entry>
              <entry>
    CAD data editor (KDE)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/blender">
<literal>blender</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/blender">&pop-blender;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/b/blender.html">&size-blender;</ulink></entry>
              <entry>
    blend, TIFF, VRML, …
    </entry>
              <entry>
    3D content editor for animation etc.
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/open-font-design-toolkit">
<literal>open-font-design-toolkit</literal> </ulink></entry>
              <entry><ulink
url="http://bugs.debian.org/open-font-design-toolkit">&pop-openfontdesigntoolkit;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/o/open-font-design-toolkit.html">&size-openfontdesigntoolkit;</ulink></entry>
              <entry>
    ttf, ps, …
    </entry>
              <entry>
    Metapackage for open font design
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/fontforge">
<literal>fontforge</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/fontforge">&pop-fontforge;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/f/fontforge.html">&size-fontforge;</ulink></entry>
              <entry>
    ttf, ps, …
    </entry>
              <entry>
    Font editor for PS, TrueType and OpenType fonts
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/xgridfit">
<literal>xgridfit</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/xgridfit">&pop-xgridfit;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/x/xgridfit.html">&size-xgridfit;</ulink></entry>
              <entry>
    ttf
    </entry>
              <entry>
    a program for gridfitting, or "hinting," TrueType fonts
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/gbdfed">
<literal>gbdfed</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/gbdfed">&pop-gbdfed;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/g/gbdfed.html">&size-gbdfed;</ulink></entry>
              <entry>
    bdf
    </entry>
              <entry>
    Editor for BDF fonts
    </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <tip>
        <simpara>Search more image tools using regex "<literal>~Gworks-with::image</literal>"
in <literal>aptitude</literal>(8) (see <xref
linkend="_search_method_options_with_aptitude"/>).</simpara>
      </tip>
      <simpara>Although GUI programs such as <literal>gimp</literal>(1) are very powerful,
command line tools such as <literal>imagemagick</literal>(1) are quite
useful for automating image manipulation with the script.</simpara>
      <simpara>The de facto image file format of the digital camera is the <ulink
url="&exchangeableimagefileformat;">Exchangeable Image File Format</ulink>
(EXIF) which is the <ulink url="&jpeg;">JPEG</ulink> image file format with
additional metadata tags.  It can hold information such as date, time, and
camera settings.</simpara>
      <simpara><ulink url="&thelempelzivwelcsdatacompression;">The Lempel-Ziv-Welch (LZW)
lossless data compression</ulink> patent has been expired.  <ulink
url="&graphicsinterchangeformatgif;">Graphics Interchange Format
(GIF)</ulink> utilities which use the LZW compression method are now freely
available on the Debian system.</simpara>
      <tip>
        <simpara>Any digital camera or scanner with removable recording media will work with
Linux through <ulink url="&usbmassstorage;">USB Mass Storage</ulink> readers
since it follows the <ulink url="&designruleforcamerafilesystem;">Design
rule for Camera File system</ulink>.</simpara>
      </tip>
    </section>
    <section id="_miscellaneous_data_conversion">
      <title>Miscellaneous data conversion</title>
      <simpara>There are many other programs for converting data. Following packages caught
my eyes using regex "<literal>~Guse::converting</literal>" in
<literal>aptitude</literal>(8) (see <xref
linkend="_search_method_options_with_aptitude"/>):</simpara>
      <table id="listofmiscellaneaconversiontools" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>List of miscellaneous data conversion tools.</title>
        <tgroup cols="5">
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="216" align="left"/>
          <thead>
            <row>
              <entry>
    パッケージ
    </entry>
              <entry>
    popcon
    </entry>
              <entry>
    サイズ
    </entry>
              <entry>
    keyword
    </entry>
              <entry>
    機能
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/alien"> <literal>alien</literal>
</ulink></entry>
              <entry><ulink url="http://bugs.debian.org/alien">&pop-alien;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/a/alien.html">&size-alien;</ulink></entry>
              <entry>
    rpm/tgz→deb
    </entry>
              <entry>
    The converter for the foreign package into the Debian package.
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/freepwing">
<literal>freepwing</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/freepwing">&pop-freepwing;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/f/freepwing.html">&size-freepwing;</ulink></entry>
              <entry>
    EB→EPWING
    </entry>
              <entry>
    The converter from "Electric Book" (popular in Japan) to a single <ulink
url="&jisxeaib;">JIS X 4081</ulink> format (a subset of the <ulink
url="&epwing;">EPWING</ulink> V1).
    </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <simpara>You can also extract data from RPM format with:</simpara>
      <screen>$ rpm2cpio file.src.rpm | cpio --extract</screen>
    </section>
  </chapter>
  <chapter id="_programming">
    <title>Programming</title>
    <simpara>I provide some pointers for people to learn programming on the Debian system
enough to trace the packaged source code.  Here are notable packages and
corresponding documentation packages for programing.</simpara>
    <table id="listofpackagestohelpprograming" pgwide="0" frame="topbot" rowsep="1" colsep="1">
      <title>List of packages to help programing.</title>
      <tgroup cols="4">
        <colspec colwidth="72" align="left"/>
        <colspec colwidth="72" align="left"/>
        <colspec colwidth="72" align="left"/>
        <colspec colwidth="288" align="left"/>
        <thead>
          <row>
            <entry>
    パッケージ
    </entry>
            <entry>
    popcon
    </entry>
            <entry>
    サイズ
    </entry>
            <entry>
    文書
    </entry>
          </row>
        </thead>
        <tbody>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/autoconf">
<literal>autoconf</literal> </ulink></entry>
            <entry><ulink url="http://bugs.debian.org/autoconf">&pop-autoconf;</ulink></entry>
            <entry><ulink
url="http://packages.qa.debian.org/a/autoconf.html">&size-autoconf;</ulink></entry>
            <entry>
    "<literal>info autoconf</literal>" provided by
<literal>autoconf-doc</literal>
    </entry>
          </row>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/automake">
<literal>automake</literal> </ulink></entry>
            <entry><ulink url="http://bugs.debian.org/automake">&pop-automake;</ulink></entry>
            <entry><ulink
url="http://packages.qa.debian.org/a/automake.html">&size-automake;</ulink></entry>
            <entry>
    "<literal>info automake</literal>" provided by
<literal>automake1.10-doc</literal>
    </entry>
          </row>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/bash"> <literal>bash</literal>
</ulink></entry>
            <entry><ulink url="http://bugs.debian.org/bash">&pop-bash;</ulink></entry>
            <entry><ulink url="http://packages.qa.debian.org/b/bash.html">&size-bash;</ulink></entry>
            <entry>
    "<literal>info bash</literal>" provided by <literal>bash-doc</literal>
    </entry>
          </row>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/bison"> <literal>bison</literal>
</ulink></entry>
            <entry><ulink url="http://bugs.debian.org/bison">&pop-bison;</ulink></entry>
            <entry><ulink url="http://packages.qa.debian.org/b/bison.html">&size-bison;</ulink></entry>
            <entry>
    "<literal>info bison</literal>" provided by <literal>bison-doc</literal>
    </entry>
          </row>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/cpp"> <literal>cpp</literal>
</ulink></entry>
            <entry><ulink url="http://bugs.debian.org/cpp">&pop-cpp;</ulink></entry>
            <entry><ulink url="http://packages.qa.debian.org/c/cpp.html">&size-cpp;</ulink></entry>
            <entry>
    "<literal>info cpp</literal>" provided by <literal>cpp-doc</literal>
    </entry>
          </row>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/ddd"> <literal>ddd</literal>
</ulink></entry>
            <entry><ulink url="http://bugs.debian.org/ddd">&pop-ddd;</ulink></entry>
            <entry><ulink url="http://packages.qa.debian.org/d/ddd.html">&size-ddd;</ulink></entry>
            <entry>
    "<literal>info ddd</literal>" provided by <literal>ddd-doc</literal>
    </entry>
          </row>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/exuberant-ctags">
<literal>exuberant-ctags</literal> </ulink></entry>
            <entry><ulink
url="http://bugs.debian.org/exuberant-ctags">&pop-exuberantctags;</ulink></entry>
            <entry><ulink
url="http://packages.qa.debian.org/e/exuberant-ctags.html">&size-exuberantctags;</ulink></entry>
            <entry><literal>exuberant-ctags</literal>(1)
    </entry>
          </row>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/flex"> <literal>flex</literal>
</ulink></entry>
            <entry><ulink url="http://bugs.debian.org/flex">&pop-flex;</ulink></entry>
            <entry><ulink url="http://packages.qa.debian.org/f/flex.html">&size-flex;</ulink></entry>
            <entry>
    "<literal>info flex</literal>" provided by <literal>flex-doc</literal>
    </entry>
          </row>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/gawk"> <literal>gawk</literal>
</ulink></entry>
            <entry><ulink url="http://bugs.debian.org/gawk">&pop-gawk;</ulink></entry>
            <entry><ulink url="http://packages.qa.debian.org/g/gawk.html">&size-gawk;</ulink></entry>
            <entry>
    "<literal>info gawk</literal>" provided by <literal>gawk-doc</literal>
    </entry>
          </row>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/gcc"> <literal>gcc</literal>
</ulink></entry>
            <entry><ulink url="http://bugs.debian.org/gcc">&pop-gcc;</ulink></entry>
            <entry><ulink url="http://packages.qa.debian.org/g/gcc.html">&size-gcc;</ulink></entry>
            <entry>
    "<literal>info gcc</literal>" provided by <literal>gcc-doc</literal>
    </entry>
          </row>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/gdb"> <literal>gdb</literal>
</ulink></entry>
            <entry><ulink url="http://bugs.debian.org/gdb">&pop-gdb;</ulink></entry>
            <entry><ulink url="http://packages.qa.debian.org/g/gdb.html">&size-gdb;</ulink></entry>
            <entry>
    "<literal>info gdb</literal>" provided by <literal>gdb-doc</literal>
    </entry>
          </row>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/gettext">
<literal>gettext</literal> </ulink></entry>
            <entry><ulink url="http://bugs.debian.org/gettext">&pop-gettext;</ulink></entry>
            <entry><ulink
url="http://packages.qa.debian.org/g/gettext.html">&size-gettext;</ulink></entry>
            <entry>
    "<literal>info gettext</literal>" provided by <literal>gettext-doc</literal>
    </entry>
          </row>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/gfortran">
<literal>gfortran</literal> </ulink></entry>
            <entry><ulink url="http://bugs.debian.org/gfortran">&pop-gfortran;</ulink></entry>
            <entry><ulink
url="http://packages.qa.debian.org/g/gfortran.html">&size-gfortran;</ulink></entry>
            <entry>
    "<literal>info gfortran</literal>" provided by
<literal>gfortran-doc</literal>
    </entry>
          </row>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/glade"> <literal>glade</literal>
</ulink></entry>
            <entry><ulink url="http://bugs.debian.org/glade">&pop-glade;</ulink></entry>
            <entry><ulink url="http://packages.qa.debian.org/g/glade.html">&size-glade;</ulink></entry>
            <entry>
    Help provided via menu
    </entry>
          </row>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/glade-gnome">
<literal>glade-gnome</literal> </ulink></entry>
            <entry><ulink url="http://bugs.debian.org/glade-gnome">&pop-gladegnome;</ulink></entry>
            <entry><ulink
url="http://packages.qa.debian.org/g/glade-gnome.html">&size-gladegnome;</ulink></entry>
            <entry>
    Help provided via menu
    </entry>
          </row>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/libc6"> <literal>libc6</literal>
</ulink></entry>
            <entry><ulink url="http://bugs.debian.org/libc6">&pop-libcg;</ulink></entry>
            <entry><ulink
url="http://packages.qa.debian.org/libc/libc6.html">&size-libcg;</ulink></entry>
            <entry>
    "<literal>info libc</literal>" provided by <literal>glibc-doc</literal> and
<literal>glibc-doc-reference</literal>
    </entry>
          </row>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/make"> <literal>make</literal>
</ulink></entry>
            <entry><ulink url="http://bugs.debian.org/make">&pop-make;</ulink></entry>
            <entry><ulink url="http://packages.qa.debian.org/m/make.html">&size-make;</ulink></entry>
            <entry>
    "<literal>info make</literal>" provided by <literal>make-doc</literal>
    </entry>
          </row>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/mawk"> <literal>mawk</literal>
</ulink></entry>
            <entry><ulink url="http://bugs.debian.org/mawk">&pop-mawk;</ulink></entry>
            <entry><ulink url="http://packages.qa.debian.org/m/mawk.html">&size-mawk;</ulink></entry>
            <entry><literal>mawk</literal>(1)
    </entry>
          </row>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/perl"> <literal>perl</literal>
</ulink></entry>
            <entry><ulink url="http://bugs.debian.org/perl">&pop-perl;</ulink></entry>
            <entry><ulink url="http://packages.qa.debian.org/p/perl.html">&size-perl;</ulink></entry>
            <entry><literal>perl</literal>(1) and html pages provided by
<literal>perl-doc</literal> and <literal>perl-doc-html</literal>
    </entry>
          </row>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/python">
<literal>python</literal> </ulink></entry>
            <entry><ulink url="http://bugs.debian.org/python">&pop-python;</ulink></entry>
            <entry><ulink
url="http://packages.qa.debian.org/p/python.html">&size-python;</ulink></entry>
            <entry><literal>python</literal>(1) and html pages provided by
<literal>python-doc</literal></entry>
          </row>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/tcl8.4">
<literal>tcl8.4</literal> </ulink></entry>
            <entry><ulink url="http://bugs.debian.org/tcl8.4">&pop-tclie;</ulink></entry>
            <entry><ulink
url="http://packages.qa.debian.org/t/tcl8.4.html">&size-tclie;</ulink></entry>
            <entry><literal>tcl</literal>(3) and detail manual pages provided by
<literal>tcl8.4-doc</literal></entry>
          </row>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/tk8.4"> <literal>tk8.4</literal>
</ulink></entry>
            <entry><ulink url="http://bugs.debian.org/tk8.4">&pop-tkie;</ulink></entry>
            <entry><ulink url="http://packages.qa.debian.org/t/tk8.4.html">&size-tkie;</ulink></entry>
            <entry><literal>tk</literal>(3) and detail manual pages provided by
<literal>tk8.4-doc</literal></entry>
          </row>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/ruby"> <literal>ruby</literal>
</ulink></entry>
            <entry><ulink url="http://bugs.debian.org/ruby">&pop-ruby;</ulink></entry>
            <entry><ulink url="http://packages.qa.debian.org/r/ruby.html">&size-ruby;</ulink></entry>
            <entry><literal>ruby</literal>(1) and interactive reference provided by
<literal>ri</literal></entry>
          </row>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/vim"> <literal>vim</literal>
</ulink></entry>
            <entry><ulink url="http://bugs.debian.org/vim">&pop-vim;</ulink></entry>
            <entry><ulink url="http://packages.qa.debian.org/v/vim.html">&size-vim;</ulink></entry>
            <entry>
    Help(F1) menu provided by <literal>vim-doc</literal>
    </entry>
          </row>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/susv2"> <literal>susv2</literal>
</ulink></entry>
            <entry><ulink url="http://bugs.debian.org/susv2">&pop-susvc;</ulink></entry>
            <entry><ulink url="http://packages.qa.debian.org/s/susv2.html">&size-susvc;</ulink></entry>
            <entry>
    Fetch "<ulink url="&thesingleunixspecificationsvc;">The Single Unix
Specifications v2</ulink>"
    </entry>
          </row>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/susv3"> <literal>susv3</literal>
</ulink></entry>
            <entry><ulink url="http://bugs.debian.org/susv3">&pop-susvd;</ulink></entry>
            <entry><ulink url="http://packages.qa.debian.org/s/susv3.html">&size-susvd;</ulink></entry>
            <entry>
    Fetch "<ulink url="&thesingleunixspecificationsvd;">The Single Unix
Specifications v3</ulink>"
    </entry>
          </row>
        </tbody>
      </tgroup>
    </table>
    <simpara>Online references are available by typing "<literal>man name</literal>"
after installing <literal>manpages</literal> and
<literal>manpages-dev</literal> packages. Online references for the GNU
tools are available by typing "<literal>info program_name</literal>" after
installing the pertinent documentation packages.  You may need to include
the <literal>contrib</literal> and <literal>non-free</literal> archives in
addition to the <literal>main</literal> archive since some GFDL
documentations are not considered to be DSFG compliant.</simpara>
    <warning>
      <simpara>Do not use "<literal>test</literal>" as the name of an executable test
file.  "<literal>test</literal>" is a shell builtin.</simpara>
    </warning>
    <caution>
      <simpara>You should install software programs directly compiled from source into
"<literal>/usr/local</literal>" or "<literal>/opt</literal>" to avoid
collision with system programs.</simpara>
    </caution>
    <tip>
      <simpara><ulink url="&codeexamplesofcrgjjbottlesofbeer;">Code examples of creating
"Song 99 Bottles of Beer"</ulink> should give you good idea of practically
all the programming languages.</simpara>
    </tip>
    <section id="_the_shell_script">
      <title>シェルスクリプト</title>
      <simpara>The <ulink url="&shellscript;">shell script</ulink> is a text file with the
execution bit set and contains the commands in the following format.</simpara>
      <screen>#!/bin/sh
... command lines ...</screen>
      <simpara>The first line specifies the shell interpreter which read and execute this
file contents.</simpara>
      <simpara>Reading shell scripts is the <emphasis role="strong">best</emphasis> way to
understand how a Unix-like system works.  Here, I give some pointers and
reminders for shell programming. See "Shell Mistakes" (<ulink
url="&httpwwwgreenendokcaabaeshellhtml;">http://www.greenend.org.uk/rjk/2001/04/shell.html</ulink>)
to learn from mistakes.</simpara>
      <simpara>Unlike shell interactive mode (see <xref
linkend="_the_simple_shell_command"/> and <xref
linkend="_unix_like_text_processing"/>), parameters, conditionals, and loops
are used frequently.</simpara>
      <section id="_posix_shell_compatibility">
        <title>POSIX shell compatibility</title>
        <simpara>Many system scripts may be interpreted by any one of <ulink
url="&posix;">POSIX</ulink> shells (see <xref
linkend="list-of-shell-programs"/>).  For this shell
<literal>bash</literal>(1) may be used, but for the sake of speed,
<literal>dash</literal>(1) is recommended.  You can switch actual shell
program to be used by changing symlink for "<literal>/bin/sh</literal>".</simpara>
        <simpara>Avoid writing a shell script with "bashisms" or "zshisms" to make it
portable among all POSIX shells:</simpara>
        <table id="listofbashizms" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>bashizmsのリスト</title>
          <tgroup cols="2">
            <colspec colwidth="144" align="left"/>
            <colspec colwidth="360" align="left"/>
            <thead>
              <row>
                <entry>
    Good: POSIX
    </entry>
                <entry>
    Avoid: bashism
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>if [ "$foo" = "$bar" ] ; then …</literal>
                </entry>
                <entry>
                  <literal>if [ "$foo" == "$bar" ] ; then …</literal>
                </entry>
              </row>
              <row>
                <entry>
                  <literal>diff -u file.c.orig file.c</literal>
                </entry>
                <entry><literal>diff -u file.c{.orig,</literal>}
    </entry>
              </row>
              <row>
                <entry>
                  <literal>mkdir /foobar /foobaz</literal>
                </entry>
                <entry><literal>mkdir /foo{bar,baz</literal>}
    </entry>
              </row>
              <row>
                <entry>
    octal format: <literal>"\377"</literal>
    </entry>
                <entry>
    hexadecimal format: <literal>"\xff"</literal>
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>The "<literal>echo</literal>" command must be used with care since its
implementation differs among shell builtin commands and external command.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
Avoid using any command options except "<literal>-n</literal>".  (Notably
avoid "<literal>-e</literal>" and "<literal>-E</literal>")
</simpara>
          </listitem>
          <listitem>
            <simpara>
Avoid using escape sequences in the string since their handling varies.
</simpara>
          </listitem>
        </itemizedlist>
        <note>
          <simpara>Although "<literal>-n</literal> option is <emphasis
role="strong">not</emphasis> really POSIX syntax, it is generally accepted.</simpara>
        </note>
        <tip>
          <simpara>Use the "<literal>printf</literal>" command instead of the
"<literal>echo</literal>" command if you need to embed escape sequences in
the output string.</simpara>
        </tip>
      </section>
      <section id="_shell_parameters">
        <title>シェル変数</title>
        <simpara>Special shell parameters are frequently used in the shell script:</simpara>
        <table id="listofshellparameters" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>シェル変数のリスト。</title>
          <tgroup cols="2">
            <colspec colwidth="144" align="left"/>
            <colspec colwidth="360" align="left"/>
            <thead>
              <row>
                <entry>
    シェル変数
    </entry>
                <entry>
    value
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>$0</literal>
                </entry>
                <entry>
    name of the shell or shell script
    </entry>
              </row>
              <row>
                <entry>
                  <literal>$1</literal>
                </entry>
                <entry>
    first(1) shell argument
    </entry>
              </row>
              <row>
                <entry>
                  <literal>$9</literal>
                </entry>
                <entry>
    ninth(9) shell argument
    </entry>
              </row>
              <row>
                <entry>
                  <literal>$#</literal>
                </entry>
                <entry>
    number of positional parameters
    </entry>
              </row>
              <row>
                <entry>
                  <literal>"$*"</literal>
                </entry>
                <entry>
                  <literal>"$1 $2 $3 $4 … "</literal>
                </entry>
              </row>
              <row>
                <entry>
                  <literal>"$@"</literal>
                </entry>
                <entry>
                  <literal>"$1" "$2" "$3" "$4" …</literal>
                </entry>
              </row>
              <row>
                <entry>
                  <literal>$?</literal>
                </entry>
                <entry>
    exit status of the most recent command
    </entry>
              </row>
              <row>
                <entry>
                  <literal>$$</literal>
                </entry>
                <entry>
    PID of this shell script
    </entry>
              </row>
              <row>
                <entry>
                  <literal>$!</literal>
                </entry>
                <entry>
    PID of most recently started background job
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>Basic <emphasis role="strong">parameter expansions</emphasis> to remember:</simpara>
        <table id="listofshellparameterexpansions" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of shell parameter expansions.</title>
          <tgroup cols="3">
            <colspec colwidth="108" align="left"/>
            <colspec colwidth="108" align="left"/>
            <colspec colwidth="288" align="left"/>
            <thead>
              <row>
                <entry>
    parameter expression form
    </entry>
                <entry>
    value if <literal>var</literal> is set
    </entry>
                <entry>
    value if <literal>var</literal> is not set
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>${var:-string}</literal>
                </entry>
                <entry>
    "<literal>$var</literal>"
    </entry>
                <entry>
    "<literal>string</literal>"
    </entry>
              </row>
              <row>
                <entry>
                  <literal>${var:+string}</literal>
                </entry>
                <entry>
    "<literal>string</literal>"
    </entry>
                <entry>
    "<literal>null</literal>"
    </entry>
              </row>
              <row>
                <entry>
                  <literal>${var:=string}</literal>
                </entry>
                <entry>
    "<literal>$var</literal>"
    </entry>
                <entry>
    "<literal>string</literal>" (and run "<literal>var=string</literal>")
    </entry>
              </row>
              <row>
                <entry>
                  <literal>${var:?string}</literal>
                </entry>
                <entry>
    "<literal>$var</literal>"
    </entry>
                <entry>
    echo "<literal>string</literal>" to <emphasis
role="strong">stderr</emphasis> (and exit with error)
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>Here, the colon "<literal>:</literal>" in all of these operators is actually
optional.</simpara>
        <itemizedlist>
          <listitem>
            <simpara><emphasis role="strong">With</emphasis> "<literal>:</literal>" = operator
test for <emphasis role="strong">exist</emphasis> and <emphasis
role="strong">not null</emphasis>.
</simpara>
          </listitem>
          <listitem>
            <simpara><emphasis role="strong">Without</emphasis> "<literal>:</literal>" = operator
test for <emphasis role="strong">exist</emphasis> only.
</simpara>
          </listitem>
        </itemizedlist>
        <table id="listofkeyshellpatersubstitutions" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of key shell parameter substitutions.</title>
          <tgroup cols="2">
            <colspec colwidth="144" align="left"/>
            <colspec colwidth="360" align="left"/>
            <thead>
              <row>
                <entry>
    parameter substitution form
    </entry>
                <entry>
    Result
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>${var%suffix}</literal>
                </entry>
                <entry>
    Remove smallest suffix pattern
    </entry>
              </row>
              <row>
                <entry>
                  <literal>${var%%suffix}</literal>
                </entry>
                <entry>
    Remove largest suffix pattern
    </entry>
              </row>
              <row>
                <entry>
                  <literal>${var#prefix}</literal>
                </entry>
                <entry>
    Remove smallest prefix pattern
    </entry>
              </row>
              <row>
                <entry>
                  <literal>${var##prefix}</literal>
                </entry>
                <entry>
    Remove largest prefix pattern
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </section>
      <section id="_shell_conditionals">
        <title>Shell conditionals</title>
        <simpara>Each command returns an <emphasis role="strong">exit status</emphasis> which
can be used for conditional expressions:</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
Success: 0 (True)
</simpara>
          </listitem>
          <listitem>
            <simpara>
Error: 1--255 (False)  Note that the use here of a 0 value to mean "true"
differs from the usual convention in some other areas of computing.  Also,
"<literal>[</literal>" is the equivalent of the <literal>test</literal>
command, which evaluates its arguments up to "<literal>]</literal>" as a
conditional expression.
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>Basic <emphasis role="strong">conditional idioms</emphasis> to remember are:</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
"<literal>&lt;command&gt; &amp;&amp; &lt;if_success_run_this_command_too&gt;
|| true</literal>",
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>&lt;command&gt; || &lt;if_not_success_run_this_command_too&gt; ||
true</literal>", and
</simpara>
          </listitem>
          <listitem>
            <simpara>
a multi-line script snippet:
</simpara>
          </listitem>
        </itemizedlist>
        <screen>if [ &lt;conditional_expression&gt; ]; then
 &lt;if_success_run_this_command&gt;
else
 &lt;if_not_success_run_this_command&gt;
fi</screen>
        <simpara>Here trailing "<literal>|| true</literal>" was needed to ensure this shell
script will not exit at this line accidentally when shell is invoked with
"<literal>-e</literal>" flag.</simpara>
        <table id="listoffilecompartionalexpression" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of file comparison operators in the conditional expression.</title>
          <tgroup cols="2">
            <colspec colwidth="144" align="left"/>
            <colspec colwidth="360" align="left"/>
            <thead>
              <row>
                <entry>
    equation
    </entry>
                <entry>
    value
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal> -e &lt;file&gt; </literal>
                </entry>
                <entry>
    True if &lt;file&gt; exists.
    </entry>
              </row>
              <row>
                <entry>
                  <literal> -d &lt;file&gt; </literal>
                </entry>
                <entry>
    True if &lt;file&gt; exists and is a directory.
    </entry>
              </row>
              <row>
                <entry>
                  <literal> -f &lt;file&gt; </literal>
                </entry>
                <entry>
    True if &lt;file&gt; exists and is a regular file.
    </entry>
              </row>
              <row>
                <entry>
                  <literal> -w &lt;file&gt; </literal>
                </entry>
                <entry>
    True if &lt;file&gt; exists and is writable.
    </entry>
              </row>
              <row>
                <entry>
                  <literal> -x &lt;file&gt; </literal>
                </entry>
                <entry>
    True if &lt;file&gt; exists and is executable.
    </entry>
              </row>
              <row>
                <entry>
                  <literal> &lt;file1&gt; -nt &lt;file2&gt; </literal>
                </entry>
                <entry>
    True if &lt;file1&gt; is newer than &lt;file2&gt;. (modification).
    </entry>
              </row>
              <row>
                <entry>
                  <literal> &lt;file1&gt; -ot &lt;file2&gt; </literal>
                </entry>
                <entry>
    True if &lt;file1&gt; is older than &lt;file2&gt;. (modification).
    </entry>
              </row>
              <row>
                <entry>
                  <literal> &lt;file1&gt; -ef &lt;file2&gt; </literal>
                </entry>
                <entry>
    True if they are the same device and inode number.
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <table id="listofstringcomptionalexpression" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of string comparison operators in the conditional expression.</title>
          <tgroup cols="2">
            <colspec colwidth="144" align="left"/>
            <colspec colwidth="360" align="left"/>
            <thead>
              <row>
                <entry>
    equation
    </entry>
                <entry>
    value
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal> -z &lt;str&gt; </literal>
                </entry>
                <entry>
    True if the length of &lt;str&gt; is zero.
    </entry>
              </row>
              <row>
                <entry>
                  <literal> -n &lt;str&gt; </literal>
                </entry>
                <entry>
    True if the length of &lt;str&gt; is non-zero.
    </entry>
              </row>
              <row>
                <entry>
                  <literal> &lt;str1&gt; = &lt;str2&gt; </literal>
                </entry>
                <entry>
    True if &lt;str1&gt; and &lt;str2&gt; are equal.
    </entry>
              </row>
              <row>
                <entry>
                  <literal> &lt;str1&gt; != &lt;str2&gt; </literal>
                </entry>
                <entry>
    True if &lt;str1&gt; and &lt;str2&gt; are not equal.
    </entry>
              </row>
              <row>
                <entry>
                  <literal> &lt;str1&gt; &lt; &lt;str2&gt; </literal>
                </entry>
                <entry>
    True if &lt;str1&gt; sorts before &lt;str2&gt;. (locale dependent)
    </entry>
              </row>
              <row>
                <entry>
                  <literal> &lt;str1&gt; &gt; &lt;str2&gt; </literal>
                </entry>
                <entry>
    True if &lt;str1&gt; sorts after &lt;str2&gt;. (locale dependent)
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara><emphasis role="strong">Arithmetic</emphasis> integer comparison operators
in the conditional expression are "<literal>-eq</literal>",
"<literal>-ne</literal>", "<literal>-lt</literal>",
"<literal>-le</literal>", "<literal>-gt</literal>", and
"<literal>-ge</literal>".</simpara>
      </section>
      <section id="_shell_loops">
        <title>シェルループ</title>
        <simpara>There are several loop idioms to use in POSIX shell:</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
"<literal>for name in word ; do list ; done</literal>": loops over list of
words.
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>while list; do list; done</literal>": repeats while true.
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>until list; do list; done</literal>": repeats while not true.
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>break</literal>": enables to exit from the loop.
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>continue</literal>" enables to resume the next iteration of the
loop.
</simpara>
          </listitem>
        </itemizedlist>
        <tip>
          <simpara>The <ulink url="&c;">C</ulink>-language like numeric iteration can be
realized by using <literal>seq</literal>(1) as the "<literal>word</literal>"
generator.</simpara>
        </tip>
        <tip>
          <simpara>See <xref linkend="_repeating_a_command_looping_over_files"/>.</simpara>
        </tip>
      </section>
      <section id="_the_shell_command_line_processing_sequence">
        <title>The shell command-line processing sequence</title>
        <simpara>The shell processes a script as following sequence:</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
split line into <emphasis role="strong">tokens</emphasis> by the
metacharacters: <literal>SPACE TAB NEWLINE ; ( ) &lt; &gt; | &amp;</literal>
</simpara>
          </listitem>
          <listitem>
            <simpara>
check <emphasis role="strong">keyword</emphasis> if not within
<literal>"…"</literal> or <literal>'…'</literal> (loop)
</simpara>
          </listitem>
          <listitem>
            <simpara>
expand <emphasis role="strong">alias</emphasis> if not within
<literal>"…"</literal> or <literal>'…'</literal> (loop)
</simpara>
          </listitem>
          <listitem>
            <simpara>
expand <emphasis role="strong">tilde</emphasis>,
"<literal>~&lt;user&gt;</literal>" → <literal>&lt;user&gt;</literal>'s home
directory, if not within <literal>"…"</literal> or <literal>'…'</literal>
</simpara>
          </listitem>
          <listitem>
            <simpara>
expand <emphasis role="strong">parameter</emphasis>,
"<literal>$PARAMETER</literal>", if not within <literal>'…'</literal>
</simpara>
          </listitem>
          <listitem>
            <simpara>
expand <emphasis role="strong">command substitution</emphasis>, "<literal>$(
command )</literal>", if not within <literal>'…'</literal>
</simpara>
          </listitem>
          <listitem>
            <simpara>
split into <emphasis role="strong">words</emphasis> with
"<literal>$IFS</literal>" if not within <literal>"…"</literal> or
<literal>'…'</literal>
</simpara>
          </listitem>
          <listitem>
            <simpara>
expand <literal> * ? [ ] </literal> in <emphasis
role="strong">pathname</emphasis> if not within <literal>"…"</literal> or
<literal>'…'</literal>
</simpara>
          </listitem>
          <listitem>
            <simpara>
look up <emphasis role="strong">command</emphasis> from:
</simpara>
            <itemizedlist>
              <listitem>
                <simpara><emphasis role="strong">function</emphasis> definition
</simpara>
              </listitem>
              <listitem>
                <simpara><emphasis role="strong">builtin</emphasis> command
</simpara>
              </listitem>
              <listitem>
                <simpara><emphasis role="strong">executable file</emphasis> in
"<literal>$PATH</literal>"
</simpara>
              </listitem>
            </itemizedlist>
          </listitem>
          <listitem>
            <simpara>
go to the next line and repeat this process again from the top of this
sequence
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>Single quotes within double quotes have no effect.</simpara>
        <simpara>Executing "<literal>set -x</literal>" in the shell or invoking the shell
with "<literal>-x</literal>" option make the shell to print all of commands
executed.  This is quite handy for debugging.</simpara>
      </section>
      <section id="_utility_programs_for_shell_script">
        <title>Utility programs for shell script</title>
        <simpara>In order to make your shell program as portable as possible across Debian
system, it is good idea to limit utility programs used within Essential
programs listed by "<literal>aptitude search ~E</literal>" as much as
possible.</simpara>
        <simpara><literal>coreutils</literal>, <literal>bsdutils</literal>, and
<literal>debianutils</literal> packages contain many useful small utilities.</simpara>
      </section>
      <section id="_shell_script_dialog">
        <title>Shell script dialog</title>
        <simpara>The user interface of a simple shell program can be improved from dull
interaction by <literal>echo</literal> and <literal>read</literal> commands
to more interactive one by using one of the so-called dialog program etc.</simpara>
        <table id="listofuserinterfaceprograms" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of user interface programs.</title>
          <tgroup cols="4">
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="288" align="left"/>
            <thead>
              <row>
                <entry>
    パッケージ
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    サイズ
    </entry>
                <entry>
    機能
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/x11-utils">
<literal>x11-utils</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/x11-utils">&pop-xbbutils;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/x/x11-utils.html">&size-xbbutils;</ulink></entry>
                <entry><literal>xmessage</literal>(1) displays a message or query in a window. (X)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/whiptail">
<literal>whiptail</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/whiptail">&pop-whiptail;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/w/whiptail.html">&size-whiptail;</ulink></entry>
                <entry>
    displays user-friendly dialog boxes from shell scripts. (newt)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/dialog">
<literal>dialog</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/dialog">&pop-dialog;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/d/dialog.html">&size-dialog;</ulink></entry>
                <entry>
    displays user-friendly dialog boxes from shell scripts. (ncurses)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/zenity">
<literal>zenity</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/zenity">&pop-zenity;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/z/zenity.html">&size-zenity;</ulink></entry>
                <entry>
    display graphical dialog boxes from shell scripts. (gtk2.0)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/gtkdialog">
<literal>gtkdialog</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/gtkdialog">&pop-gtkdialog;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/g/gtkdialog.html">&size-gtkdialog;</ulink></entry>
                <entry>
    GUI-creation command-line utility based on GTK+ library. (gtk2.0+glade2)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/ssft"> <literal>ssft</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/ssft">&pop-ssft;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/s/ssft.html">&size-ssft;</ulink></entry>
                <entry>
    Shell Scripts Frontend Tool. (wrapper for zenity, kdialog, and dialog with
gettext)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/gettext">
<literal>gettext</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/gettext">&pop-gettext;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/g/gettext.html">&size-gettext;</ulink></entry>
                <entry>
    "<literal>/usr/bin/gettext.sh</literal>" for translate message
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </section>
      <section id="_shell_script_example_with_zenity">
        <title>Shell script example with zenity</title>
        <simpara>Here is a simple script which creates ISO image with RS02 data supplemented
by <literal>dvdisaster</literal>(1):</simpara>
        <screen>#!/bin/sh -e
# gmkrs02 : Copyright (C) 2007 Osamu Aoki &lt;osamu@debian.org&gt;, Public Domain
#set -x
error_exit()
{
  echo "$1" &gt;&amp;2
  exit 1
}
# Initialize variables
DATA_ISO="$HOME/Desktop/iso-$$.img"
LABEL=$(date +%Y%m%d-%H%M%S-%Z)
if [ $# != 0 ] &amp;&amp; [ -d "$1" ]; then
  DATA_SRC="$1"
else
  # Select directory for creating ISO image from folder on desktop
  DATA_SRC=$(zenity --file-selection --directory  \
    --title="Select the directory tree root to create ISO image") \
    || error_exit "Exit on directory selection"
fi
# Check size of archive
xterm -T "Check size $DATA_SRC" -e du -s $DATA_SRC/*
SIZE=$(($(du -s $DATA_SRC | awk '{print $1}')/1024))
if [ $SIZE -le 520 ] ; then
  zenity --info --title="Dvdisaster RS02" --width 640  --height 400 \
    --text="The data size is good for CD backup:\\n $SIZE MB"
elif [ $SIZE -le 3500 ]; then
  zenity --info --title="Dvdisaster RS02" --width 640  --height 400 \
    --text="The data size is good for DVD backup :\\n $SIZE MB"
else
  zenity --info --title="Dvdisaster RS02" --width 640  --height 400 \
    --text="The data size is too big to backup : $SIZE MB"
  error_exit "The data size is too big to backup :\\n $SIZE MB"
fi
# only xterm is sure to have working -e option
# Create raw ISO image
rm -f "$DATA_ISO" || true
xterm -T "genisoimage $DATA_ISO" \
  -e genisoimage -r -J -V "$LABEL" -o "$DATA_ISO" "$DATA_SRC"
# Create RS02 supplemental redundancy
xterm -T "dvdisaster $DATA_ISO" -e  dvdisaster -i "$DATA_ISO" -mRS02 -c
zenity --info --title="Dvdisaster RS02" --width 640  --height 400 \
  --text="ISO/RS02 data ($SIZE MB) \\n created at: $DATA_ISO"
# EOF</screen>
        <simpara>You may wish to create launcher on the desktop with command set something
like "<literal>/usr/local/bin/gmkrs02 %d</literal>".</simpara>
      </section>
    </section>
    <section id="_make">
      <title>Make</title>
      <simpara><ulink url="&make;">Make</ulink> is a utility to maintain groups of
programs. Upon execution of <literal>make</literal>(1),
<literal>make</literal> read the rule file, "<literal>Makefile</literal>",
and updates a target if it depends on prerequisite files that have been
modified since the target was last modified, or if the target does not
exist.  The execution of these updates may occur concurrently.</simpara>
      <simpara>The rule file syntax is :</simpara>
      <screen>target: [ prerequisites ... ]
 [TAB]  command1
 [TAB]  -command2 # ignore errors
 [TAB]  @command3 # suppress echoing</screen>
      <simpara>Here "<literal> [TAB] </literal>" is a TAB code.  Each line is interpreted
by the shell after make variable substitution.  Use "<literal>\</literal>"
at the end of a line to continue the script.  Use "<literal>$$</literal>" to
enter "<literal>$</literal>" for environment values for a shell script.</simpara>
      <simpara>Implicit rules for the target and prerequisites can be written, for example,
as:</simpara>
      <screen>%.o: %.c header.h</screen>
      <simpara>Here, the target contains the character "<literal>%</literal>" (exactly one
of them). The "<literal>%</literal>" can match any nonempty substring in the
actual target filenames. The prerequisites likewise use
"<literal>%</literal>" to show how their names relate to the actual target
name.</simpara>
      <table id="listofmakeautomaticvariables" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>List of make automatic variables.</title>
        <tgroup cols="2">
          <colspec colwidth="144" align="left"/>
          <colspec colwidth="360" align="left"/>
          <thead>
            <row>
              <entry>
    automatic variable
    </entry>
              <entry>
    value
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry>
                <literal>$@</literal>
              </entry>
              <entry>
    target
    </entry>
            </row>
            <row>
              <entry>
                <literal>$&lt;</literal>
              </entry>
              <entry>
    最初の前提条件
    </entry>
            </row>
            <row>
              <entry>
                <literal>$?</literal>
              </entry>
              <entry>
    全ての新規の前提条件
    </entry>
            </row>
            <row>
              <entry>
                <literal>$^</literal>
              </entry>
              <entry>
    全ての前提条件
    </entry>
            </row>
            <row>
              <entry>
                <literal>$*</literal>
              </entry>
              <entry>
    "<literal>%</literal>" matched stem in the target pattern
    </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <table id="listofmakevariableexpansions" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>List of make variable expansions.</title>
        <tgroup cols="2">
          <colspec colwidth="144" align="left"/>
          <colspec colwidth="360" align="left"/>
          <thead>
            <row>
              <entry>
    variable expansion
    </entry>
              <entry>
    説明
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry>
                <literal>foo1 := bar</literal>
              </entry>
              <entry>
    One-time expansion
    </entry>
            </row>
            <row>
              <entry>
                <literal>foo2 = bar</literal>
              </entry>
              <entry>
    Recursive expansion
    </entry>
            </row>
            <row>
              <entry>
                <literal>foo3 += bar</literal>
              </entry>
              <entry>
    後ろに追加
    </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <simpara>Run "<literal>make -p -f/dev/null</literal>" to see automatic internal
rules.</simpara>
    </section>
    <section id="_c">
      <title>C</title>
      <simpara>You can set up proper environment to compile programs written in the <ulink
url="&cprogramminglanguage;">C programming language</ulink> by:</simpara>
      <screen># aptitude install glibc-doc manpages-dev libc6-dev gcc build-essential</screen>
      <simpara>The <literal>libc6-dev</literal> package, i.e., GNU C Library, provides
<ulink url="&cstandardlibrary;">C standard library</ulink> which is
collection of header files and library routines used by the C programming
language.</simpara>
      <simpara>References for C:</simpara>
      <itemizedlist>
        <listitem>
          <simpara>
"<literal>info libc</literal>" (C library function reference)
</simpara>
        </listitem>
        <listitem>
          <simpara><literal>gcc</literal>(1) and "<literal>info gcc</literal>"
</simpara>
        </listitem>
        <listitem>
          <simpara><literal>each_C_library_function_name</literal>(3)
</simpara>
        </listitem>
        <listitem>
          <simpara>
Kernighan &amp;amp; Ritchie, "The C Programming Language", 2nd edition
(Prentice Hall).
</simpara>
        </listitem>
      </itemizedlist>
      <section id="_simple_c_program_gcc">
        <title>Simple C program (gcc)</title>
        <simpara>A simple example "<literal>example.c</literal>" is compiled with a library
"<literal>libm</literal>" into an executable
"<literal>run_example</literal>":</simpara>
        <screen>$ cat &gt; example.c &lt;&lt; EOF
#include &lt;stdio.h&gt;
#include &lt;math.h&gt;
#include &lt;string.h&gt;

int main(int argc, char **argv, char **envp){
        double x;
        char y[11];
        x=sqrt(argc+7.5);
        strncpy(y, argv[0], 10); /* prevent buffer overflow */
        y[10] = '\0'; /* fill to make sure string ends with '\0' */
        printf("%5i, %5.3f, %10s, %10s\n", argc, x, y, argv[1]);
        return 0;
}
EOF
$ gcc -Wall -g -o run_example example.c -lm
$ ./run_example
        1, 2.915, ./run_exam,     (null)
$ ./run_example 1234567890qwerty
        2, 3.082, ./run_exam, 1234567890qwerty</screen>
        <simpara>Here, "<literal>-lm</literal>" is needed to link library
"<literal>/usr/lib/libm.so</literal>" from the <literal>libc6</literal>
package for <literal>sqrt</literal>(3).  The actual library is in
"<literal>/lib/</literal>" with filename "<literal>libm.so.6</literal>",
which is a symlink to "<literal>libm-2.7.so</literal>".</simpara>
        <simpara>Look at the last parameter in the output text.  There are more than 10
characters even though "<literal>%10s</literal>" is specified.</simpara>
        <simpara>The use of pointer memory operation functions without boundary checks, such
as <literal>sprintf</literal>(3) and <literal>strcpy</literal>(3), is
deprecated to prevent buffer overflow exploits that leverage the above
overrun effects.  Instead, use <literal>snprintf</literal>(3) and
<literal>strncpy</literal>(3).</simpara>
      </section>
      <section id="_debugging_with_gdb">
        <title>Debugging with gdb</title>
        <simpara>In order to be a good Debian user, you must be able to produce meaningful
bug report using <ulink url="&debugger;">debugger</ulink>.  The fist step is
to install <literal>gdb</literal>:</simpara>
        <screen># aptitude install gdb gdb-doc build-essential devscripts</screen>
        <simpara>Good tutorial of <literal>gdb</literal> is provided by "<literal>info
gdb</literal>" or found <ulink url="&elsewhereontheweb;">elsewhere on the
web</ulink>.</simpara>
        <section id="_basic_gdb_execution">
          <title>基本的なgdb実行</title>
          <simpara>Here is a simple example of using <literal>gdb</literal>(1) on a
"<literal>program</literal>" compiled with the "<literal>-g</literal>"
option to produce debugging information.</simpara>
          <screen>$ gdb program
(gdb) b 1                # set break point at line 1
(gdb) run args           # run program with args
(gdb) next               # next line
...
(gdb) step               # step forward
...
(gdb) p parm             # print parm
...
(gdb) p parm=12          # set value to 12
...
(gdb) quit</screen>
          <tip>
            <simpara>Many <literal>gdb</literal> commands can be abbreviated.  Tab expansion
works as in the shell.</simpara>
          </tip>
        </section>
        <section id="_debugging_the_debian_package">
          <title>Debugging the Debian package</title>
          <simpara>Since all installed binaries should be stripped on the Debian system by
default, most debugging symbols are removed in the normal package.  In order
to debug Debian packages with <literal>gdb</literal>(1), corresponding
<literal>*-dbg</literal> packages need to be installed (e.g. libc6-dbg in
the case of libc6).</simpara>
          <simpara>If a package to be debugged does not provide its <literal>*-dbg</literal>
package, you need to install it after rebuilding it:</simpara>
          <screen>$ mkdir /path/new ; cd /path/new
$ sudo aptitude update
$ sudo aptitude dist-upgrade
$ sudo aptitude install fakeroot devscripts build-essential
$ sudo apt-get build-dep source_package_name
$ apt-get source package_name
$ cd package_name*</screen>
          <itemizedlist>
            <listitem>
              <simpara>
fix bugs if needed.
</simpara>
            </listitem>
          </itemizedlist>
          <screen>$ dch -i</screen>
          <itemizedlist>
            <listitem>
              <simpara>
bump package version to one which does not collide with official Debian
versions, e.g. one appended with "<literal>+debug1</literal>" when
recompiling existing package version, or one appended with
"<literal>~pre1</literal>" when compiling unreleased package version.
</simpara>
            </listitem>
          </itemizedlist>
          <screen>$ export DEB_BUILD_OPTIONS=nostrip,noopt
$ debuild
$ cd ..
$ sudo debi package_name*.changes</screen>
          <simpara>You need to check build scripts of the package and ensure to use
"<literal>CFLAGS=-g -Wall</literal>" for compiling binaries.</simpara>
        </section>
        <section id="_obtaining_backtrace">
          <title>Obtaining backtrace</title>
          <simpara>When you encounter program crash, reporting bug report with cut-and-pasted
backtrace information is a good idea.</simpara>
          <simpara>The backtrace can be obtained by the following steps:</simpara>
          <itemizedlist>
            <listitem>
              <simpara>
run the program under <literal>gdb</literal>(1),
</simpara>
            </listitem>
            <listitem>
              <simpara>
reproduce crash (causing you to be dropped back to the
<literal>gdb</literal> prompt), and
</simpara>
            </listitem>
            <listitem>
              <simpara>
type "<literal>bt</literal>" at the <literal>gdb</literal> prompt.
</simpara>
            </listitem>
          </itemizedlist>
          <simpara>In case of program freeze, you can crash the program by pressing
<literal>Ctrl-C</literal> in the terminal running <literal>gdb</literal> to
obtain <literal>gdb</literal> prompt.</simpara>
          <tip>
            <simpara>Often, you will see a backtrace where one or more of the top lines is in
"<literal>malloc()</literal>" or "<literal>g_malloc()</literal>". When this
happens, chances are your backtrace isn't very useful. The easiest way to
find some useful information is to set the environment variable
"<literal>$MALLOC_CHECK_</literal>" to a value of 2
(<literal>malloc</literal>(3)). You can do this while running
<literal>gdb</literal> by doing this:</simpara>
          </tip>
          <screen> $ MALLOC_CHECK_=2 gdb hello</screen>
        </section>
        <section id="_advanced_gdb_commands">
          <title>Advanced gdb commands</title>
          <table id="listofadvancedgdbcommands" pgwide="0" frame="topbot" rowsep="1" colsep="1">
            <title>List of advanced gdb commands</title>
            <tgroup cols="2">
              <colspec colwidth="144" align="left"/>
              <colspec colwidth="360" align="left"/>
              <thead>
                <row>
                  <entry>
    objective
    </entry>
                  <entry>
    commands
    </entry>
                </row>
              </thead>
              <tbody>
                <row>
                  <entry>
    To get a backtrace for all threads for multi-threaded program.
    </entry>
                  <entry>
                    <literal>(gdb) thread apply all bt</literal>
                  </entry>
                </row>
                <row>
                  <entry>
    To get parameters came on the stack of function calls.
    </entry>
                  <entry>
                    <literal>(gdb) bt full</literal>
                  </entry>
                </row>
                <row>
                  <entry>
    To get a backtrace and parameters as the combination of the preceding
options.
    </entry>
                  <entry>
                    <literal>(gdb) thread apply all bt full</literal>
                  </entry>
                </row>
                <row>
                  <entry>
    To get them for top 10 calls to cut off irrelevant output.
    </entry>
                  <entry>
                    <literal>(gdb) thread apply all bt full 10</literal>
                  </entry>
                </row>
                <row>
                  <entry>
    To write log of gdb output to a file (the default is gdb.txt).
    </entry>
                  <entry>
                    <literal>(gdb) set logging on</literal>
                  </entry>
                </row>
              </tbody>
            </tgroup>
          </table>
        </section>
        <section id="_debugging_x_errors">
          <title>Debugging X Errors</title>
          <simpara>If the GNOME program has received an X error; i.e. you see a message of the
form:</simpara>
          <screen>The program 'preview1' received an X Window System error.</screen>
          <simpara>then you can try running the program with "<literal>--sync</literal>", and
break on the "<literal>gdk_x_error</literal>" function in order to obtain a
backtrace.</simpara>
        </section>
      </section>
      <section id="_check_dependency_on_libraries">
        <title>ライブラリーへの依存の確認</title>
        <simpara>Use <literal>ldd</literal>(1) to find out a program's dependency on
libraries:</simpara>
        <screen>$ ldd /bin/ls
        librt.so.1 =&gt; /lib/librt.so.1 (0x4001e000)
        libc.so.6 =&gt; /lib/libc.so.6 (0x40030000)
        libpthread.so.0 =&gt; /lib/libpthread.so.0 (0x40153000)
        /lib/ld-linux.so.2 =&gt; /lib/ld-linux.so.2 (0x40000000)</screen>
        <simpara>For <literal>ls</literal>(1) to work in a `chroot`ed environment, the above
libraries must be available in your `chroot`ed environment.</simpara>
        <simpara>See also <xref linkend="_trace_program_activities"/>.</simpara>
      </section>
      <section id="_debugging_with_memory_leak_detection_tools">
        <title>Debugging with memory leak detection tools</title>
        <simpara>There are several memory leak detection tools available in Debian.</simpara>
        <table id="listofmemoryleakdetectiontools" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of memory leak detection tools</title>
          <tgroup cols="4">
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="288" align="left"/>
            <thead>
              <row>
                <entry>
    パッケージ
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    サイズ
    </entry>
                <entry>
    説明
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/libc6-dev">
<literal>libc6-dev</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/libc6-dev">&pop-libcgdev;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/libc/libc6-dev.html">&size-libcgdev;</ulink></entry>
                <entry><literal>mtrace</literal>(1): malloc debugging functionality in glibc
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/valgrind">
<literal>valgrind</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/valgrind">&pop-valgrind;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/v/valgrind.html">&size-valgrind;</ulink></entry>
                <entry>
    memory debugger and profiler
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/kmtrace">
<literal>kmtrace</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/kmtrace">&pop-kmtrace;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/k/kmtrace.html">&size-kmtrace;</ulink></entry>
                <entry>
    KDE memory leak tracer using glibc's <literal>mtrace</literal>(1)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/alleyoop">
<literal>alleyoop</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/alleyoop">&pop-alleyoop;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/a/alleyoop.html">&size-alleyoop;</ulink></entry>
                <entry>
    GNOME front-end to the Valgrind memory checker
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/electric-fence">
<literal>electric-fence</literal> </ulink></entry>
                <entry><ulink
url="http://bugs.debian.org/electric-fence">&pop-electricfence;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/e/electric-fence.html">&size-electricfence;</ulink></entry>
                <entry><literal>malloc</literal>(3) debugger
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/ccmalloc">
<literal>ccmalloc</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/ccmalloc">&pop-ccmalloc;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/c/ccmalloc.html">&size-ccmalloc;</ulink></entry>
                <entry>
    memory profiler/debugger
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/leaktracer">
<literal>leaktracer</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/leaktracer">&pop-leaktracer;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/l/leaktracer.html">&size-leaktracer;</ulink></entry>
                <entry>
    memory-leak tracer for C++ programs
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/libdmalloc5">
<literal>libdmalloc5</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/libdmalloc5">&pop-libdmallocf;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/libd/libdmalloc5.html">&size-libdmallocf;</ulink></entry>
                <entry>
    debug memory allocation library
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/mpatrolc2">
<literal>mpatrolc2</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/mpatrolc2">&pop-mpatrolcc;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/m/mpatrolc2.html">&size-mpatrolcc;</ulink></entry>
                <entry>
    library for debugging memory allocations
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </section>
      <section id="_disassemble_binary">
        <title>Disassemble binary</title>
        <simpara>You can disassemble binary code with <literal>objdump</literal>(1). For
example:</simpara>
        <screen>$  objdump -m i386 -b binary -D /usr/lib/grub/x86_64-pc/stage1</screen>
        <note>
          <simpara><literal>gdb</literal>(1) may be used to disassemble code interactively.</simpara>
        </note>
      </section>
      <section id="_flex_8212_a_better_lex">
        <title>Flex — a better Lex</title>
        <simpara><ulink url="&flex;">Flex</ulink> is a a <ulink
url="&lex;">Lex</ulink>-compatible fast <ulink
url="&lexicalanalyzer;">lexical analyzer</ulink> generator.</simpara>
        <simpara>Tutorial for <literal>flex</literal>(1) can be found in "<literal>info
flex</literal>".</simpara>
        <simpara>You need to provide your own "<literal>main()</literal>" and
"<literal>yywrap()</literal>", or your "<literal>program.l</literal>" should
look like this to compile without a library ("<literal>yywrap</literal>" is
a macro; "<literal>%option main</literal>" turns on "<literal>%option
noyywrap</literal>" implicitly):</simpara>
        <screen>%option main
%%
.|\n    ECHO ;
%%</screen>
        <simpara>Alternatively, you may compile with the "<literal>-lfl</literal>" linker
option at the end of your <literal>cc</literal>(1) command line (like
AT&amp;T-Lex with "<literal>-ll</literal>").  No
"<literal>%option</literal>" is needed in this case.</simpara>
      </section>
      <section id="_bison_8212_a_better_yacc">
        <title>Bison — a better Yacc</title>
        <simpara>Several packages provide a <ulink url="&yacc;">Yacc</ulink>-compatible
lookahead <ulink url="&lrparser;">LR parser</ulink> or <ulink
url="&lalrparser;">LALR parser</ulink> generator in Debian:</simpara>
        <table id="listofyacccompatparsergenerators" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of Yacc-compatible LALR parser generators</title>
          <tgroup cols="4">
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="72" align="left"/>
            <colspec colwidth="288" align="left"/>
            <thead>
              <row>
                <entry>
    パッケージ
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    サイズ
    </entry>
                <entry>
    説明
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/bison"> <literal>bison</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/bison">&pop-bison;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/b/bison.html">&size-bison;</ulink></entry>
                <entry>
                  <ulink url="&gnulalrparsergenerator;">GNU LALR parser generator</ulink>
                </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/byacc"> <literal>byacc</literal>
</ulink></entry>
                <entry><ulink url="http://bugs.debian.org/byacc">&pop-byacc;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/b/byacc.html">&size-byacc;</ulink></entry>
                <entry>
    The Berkeley LALR parser generator
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/btyacc">
<literal>btyacc</literal> </ulink></entry>
                <entry><ulink url="http://bugs.debian.org/btyacc">&pop-btyacc;</ulink></entry>
                <entry><ulink
url="http://packages.qa.debian.org/b/btyacc.html">&size-btyacc;</ulink></entry>
                <entry>
    Backtracking parser generator based on <literal>byacc</literal>
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>Tutorial for <literal>bison</literal>(1) can be found in "<literal>info
bison</literal>".</simpara>
        <simpara>You need to provide your own "<literal>main()</literal>" and
"<literal>yyerror()</literal>".  "<literal>main()</literal>" calls
"<literal>yyparse()</literal>" which calls "<literal>yylex()</literal>",
usually created with Flex.</simpara>
        <screen>%%

%%</screen>
      </section>
    </section>
    <section id="_autoconf">
      <title>Autoconf</title>
      <simpara><ulink url="&autoconf;">Autoconf</ulink> is a tool for producing shell
scripts that automatically configure software source code packages to adapt
to many kinds of Unix-like systems using the entire GNU build system.</simpara>
      <simpara><literal>autoconf</literal>(1) produces the configuration script
"<literal>configure</literal>". "<literal>configure</literal>" automatically
creates a customized "<literal>Makefile</literal>" using the
"<literal>Makefile.in</literal>" template.</simpara>
      <section id="_compile_and_install_a_program">
        <title>Compile and install a program</title>
        <warning>
          <simpara>Do not overwrite system files with your compiled programs when installing
them.</simpara>
        </warning>
        <simpara>Debian does not touch files in "<literal>/usr/local/</literal>" or
"<literal>/opt</literal>".  So if you compile a program from source, install
it into "<literal>/usr/local/</literal>" so it will not interfere with
Debian.</simpara>
        <screen>$ cd src
$ ./configure --prefix=/usr/local
$ make
$ make install # this puts the files in the system</screen>
      </section>
      <section id="_uninstall_program">
        <title>Uninstall program</title>
        <simpara>If you still have the source and if it uses
<literal>autoconf</literal>(1)/<literal>automake</literal>(1) and if you can
remember how you configured it:</simpara>
        <screen>$ ./configure ''all-of-the-options-you-gave-it''
# make uninstall</screen>
        <simpara>Alternatively, if you are absolutely sure that the install process puts
files only under "<literal>/usr/local/</literal>" and there is nothing
important there, you can erase all its contents by:</simpara>
        <screen># find /usr/local -type f -print0 | xargs -0 rm -f</screen>
        <simpara>If you are not sure where files are installed, you should consider using
<literal>checkinstall</literal>(8)  from the <literal>checkinstall</literal>
package, which provides a clean path for the uninstall.  It now supports to
create a Debian package with "<literal>-D</literal>" option.</simpara>
      </section>
    </section>
    <section id="_perl_short_script_madness">
      <title>Perl short script madness</title>
      <simpara>Although any <ulink url="&awk;">AWK</ulink> scripts can be automatically
rewritten in <ulink url="&perl;">Perl</ulink> using
<literal>a2p</literal>(1), one-liner AWK scripts are best converted to
one-liner perl scripts manually.  For example</simpara>
      <screen>awk '($2=="1957") { print $3 }' |</screen>
      <simpara>is equivalent to any one of the following lines:</simpara>
      <screen>perl -ne '@f=split; if ($f[1] eq "1957") { print "$f[2]\n"}' |</screen>
      <screen>perl -ne 'if ((@f=split)[1] eq "1957") { print "$f[2]\n"}' |</screen>
      <screen>perl -ne '@f=split; print $f[2] if ( $f[1]==1957 )' |</screen>
      <screen>perl -lane 'print $F[2] if $F[1] eq "1957"' |</screen>
      <screen>perl -lane 'print$F[2]if$F[1]eq+1957' |</screen>
      <simpara>The last one is a riddle.  It took advantage of the Perl features that</simpara>
      <itemizedlist>
        <listitem>
          <simpara>
the whitespace is optional and
</simpara>
        </listitem>
        <listitem>
          <simpara>
the automatic conversion from number to the string.  See
<literal>perlrun</literal>(1) for the command-line options.  For more crazy
Perl scripts, <ulink url="&perlgolf;">Perl Golf</ulink> may be interesting.
</simpara>
        </listitem>
      </itemizedlist>
    </section>
    <section id="_web">
      <title>Web</title>
      <simpara>Basic interactive dynamic web pages can be made as follows:</simpara>
      <itemizedlist>
        <listitem>
          <simpara>
Queries are presented to the browser user using <ulink
url="&html;">HTML</ulink> forms.
</simpara>
        </listitem>
        <listitem>
          <simpara>
Filling and clicking on the form entries will send an <ulink
url="&url;">URL</ulink> with encoded parameters from the browser to the web
server.  For example:
</simpara>
          <itemizedlist>
            <listitem>
              <simpara>
"<literal>http://www.foo.dom/cgi-bin/program.pl?VAR1=VAL1&amp;VAR2=VAL2&amp;VAR3=VAL3</literal>"
</simpara>
            </listitem>
            <listitem>
              <simpara>
"<literal>http://www.foo.dom/cgi-bin/program.py?VAR1=VAL1&amp;VAR2=VAL2&amp;VAR3=VAL3</literal>"
</simpara>
            </listitem>
            <listitem>
              <simpara>
"<literal>http://www.foo.dom/program.php?VAR1=VAL1&amp;VAR2=VAL2&amp;VAR3=VAL3</literal>"
</simpara>
            </listitem>
          </itemizedlist>
        </listitem>
        <listitem>
          <simpara>
"<literal>%nn</literal>" in URL is replaced with a character with
hexadecimal <literal>nn</literal> value.
</simpara>
        </listitem>
        <listitem>
          <simpara>
The environment variable is set as: "<literal>QUERY_STRING="VAR1=VAL1
VAR2=VAL2 VAR3=VAL3"</literal>"
</simpara>
        </listitem>
        <listitem>
          <simpara><ulink url="&cgi;">CGI</ulink> program (any one of
"<literal>program.*</literal>") on the web server executes itself with the
environment variable "<literal>$QUERY_STRING</literal>".
</simpara>
        </listitem>
        <listitem>
          <simpara><literal>stdout</literal> of CGI program will be sent to the web browser and
is presented as an interactive dynamic web page.
</simpara>
        </listitem>
      </itemizedlist>
      <simpara>For security reasons it is better not to hand craft new hacks for parsing
CGI parameters.  There are established modules for them in Perl and Python.
<ulink url="&php;">PHP</ulink> comes with these functionalities.  When
client data storage is needed, cookies are used.  When client side data
processing is needed, javascript is frequently used.</simpara>
      <simpara>For more, see <ulink url="&thecommongatewayinterface;">The Common Gateway
Interface</ulink>, <ulink url="&theapachesoftwarefoundation;">The Apache
Software Foundation</ulink>, and <ulink
url="&javascript;">JavaScript</ulink>.</simpara>
      <simpara>Searching "CGI tutorial" on Google by typing encoded URL <ulink
url="&httpwwwgooglecomiampqcgitutorial;">http://www.google.com/search?hl=en&amp;ie=UTF-8&amp;q=CGI+tutorial</ulink>
directly to the browser address is a good way to see the CGI script in
action on the Google server.</simpara>
    </section>
    <section id="_static_code_analysis_tools">
      <title>Static code analysis tools</title>
      <simpara>There are <ulink url="&lint;">lint</ulink> like tools for <ulink
url="&staticcodeanalysis;">static code analysis</ulink>:</simpara>
      <table id="listoftoolsforstaticcodeanalysis" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>List of tools for static code analysis</title>
        <tgroup cols="4">
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="288" align="left"/>
          <thead>
            <row>
              <entry>
    パッケージ
    </entry>
              <entry>
    popcon
    </entry>
              <entry>
    サイズ
    </entry>
              <entry>
    説明
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/splint">
<literal>splint</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/splint">&pop-splint;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/s/splint.html">&size-splint;</ulink></entry>
              <entry>
    A tool for statically checking C programs for bugs
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/rats"> <literal>rats</literal>
</ulink></entry>
              <entry><ulink url="http://bugs.debian.org/rats">&pop-rats;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/r/rats.html">&size-rats;</ulink></entry>
              <entry>
    Rough Auditing Tool for Security (C, C++, PHP, Perl, and Python code)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/flawfinder">
<literal>flawfinder</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/flawfinder">&pop-flawfinder;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/f/flawfinder.html">&size-flawfinder;</ulink></entry>
              <entry>
    A tool to examine C/C++ source code and looks for security weaknesses
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/perl"> <literal>perl</literal>
</ulink></entry>
              <entry><ulink url="http://bugs.debian.org/perl">&pop-perl;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/p/perl.html">&size-perl;</ulink></entry>
              <entry>
    This package has internal code static checker:
<literal>B::Lint</literal>(3perl)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/pylint">
<literal>pylint</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/pylint">&pop-pylint;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/p/pylint.html">&size-pylint;</ulink></entry>
              <entry>
    A python code static checker
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/jlint"> <literal>jlint</literal>
</ulink></entry>
              <entry><ulink url="http://bugs.debian.org/jlint">&pop-jlint;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/j/jlint.html">&size-jlint;</ulink></entry>
              <entry>
    A Java program checker
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/weblint-perl">
<literal>weblint-perl</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/weblint-perl">&pop-weblintperl;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/w/weblint-perl.html">&size-weblintperl;</ulink></entry>
              <entry>
    A syntax and minimal style checker for HTML
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/linklint">
<literal>linklint</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/linklint">&pop-linklint;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/l/linklint.html">&size-linklint;</ulink></entry>
              <entry>
    A fast link checker and web site maintenance tool
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/libxml2-utils">
<literal>libxml2-utils</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/libxml2-utils">&pop-libxmlcutils;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/libx/libxml2-utils.html">&size-libxmlcutils;</ulink></entry>
              <entry>
    This package provides <literal>xmllint</literal>(1) to validate XML files
    </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
    </section>
    <section id="_the_source_code_translation">
      <title>ソースコード変換</title>
      <simpara>ソースコード変換するプログラムがあります。</simpara>
      <table id="listofsourcecodetranslationtools" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>ソースコードの変換ツールのリスト。</title>
        <tgroup cols="5">
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="72" align="left"/>
          <colspec colwidth="216" align="left"/>
          <thead>
            <row>
              <entry>
    パッケージ
    </entry>
              <entry>
    popcon
    </entry>
              <entry>
    サイズ
    </entry>
              <entry>
    keyword
    </entry>
              <entry>
    説明
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/perl"> <literal>perl</literal>
</ulink></entry>
              <entry><ulink url="http://bugs.debian.org/perl">&pop-perl;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/p/perl.html">&size-perl;</ulink></entry>
              <entry>
    AWK→PERL
    </entry>
              <entry><literal>a2p</literal>(1) converts source codes from AWK to PERL.
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/f2c"> <literal>f2c</literal>
</ulink></entry>
              <entry><ulink url="http://bugs.debian.org/f2c">&pop-fcc;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/f/f2c.html">&size-fcc;</ulink></entry>
              <entry>
    FORTRAN→C
    </entry>
              <entry><literal>f2c</literal>(1) converts source codes from A FORTRAN 77 to C/C++.
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/protoize">
<literal>protoize</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/protoize">&pop-protoize;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/p/protoize.html">&size-protoize;</ulink></entry>
              <entry>
    ANSI C
    </entry>
              <entry>
    Create/remove ANSI prototypes from C code.
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/intel2gas">
<literal>intel2gas</literal> </ulink></entry>
              <entry><ulink url="http://bugs.debian.org/intel2gas">&pop-intelcgas;</ulink></entry>
              <entry><ulink
url="http://packages.qa.debian.org/i/intel2gas.html">&size-intelcgas;</ulink></entry>
              <entry>
    intel→gas
    </entry>
              <entry>
    The converter from NASM (intel format) to the GNU Assembler (GAS).
    </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
    </section>
    <section id="_making_debian_package">
      <title>Debianパッケージ作成</title>
      <simpara>If you want to make a Debian package, read:</simpara>
      <itemizedlist>
        <listitem>
          <simpara><xref linkend="_debian_package_management"/> to understand the basic package
system,
</simpara>
        </listitem>
        <listitem>
          <simpara><xref linkend="_port_a_package_to_the_stable_system"/> to understand basic
porting process,
</simpara>
        </listitem>
        <listitem>
          <simpara><xref linkend="_chroot_system"/> to understand basic chroot techniques,
</simpara>
        </listitem>
        <listitem>
          <simpara><literal>debuild</literal>(1), <literal>pbuilder</literal>(1) and
<literal>pdebuild</literal>(1),
</simpara>
        </listitem>
        <listitem>
          <simpara>リコンパイルとデバグは<xref linkend="_debugging_the_debian_package"/>、
</simpara>
        </listitem>
        <listitem>
          <simpara><ulink url="&debiannewmaintainersguide;">Debian New Maintainers'
Guide</ulink> as tutorial (the <literal>maint-guide</literal> package),
</simpara>
        </listitem>
        <listitem>
          <simpara><ulink url="&debiandevelopersreference;">Debian Developer's
Reference</ulink> (the <literal>developers-reference</literal> package), and
</simpara>
        </listitem>
        <listitem>
          <simpara><ulink
url="&debianpolicymanual;">Debianポリシーマニュアル</ulink>(<literal>debian-policy</literal>パッケージ)。
</simpara>
        </listitem>
      </itemizedlist>
      <simpara><literal>dh-make</literal>や<literal>dh-make-perl</literal>等のようなパッケージングを補助するパッケージもあります。</simpara>
    </section>
  </chapter>
  <appendix id="_appendix">
    <title>補遺</title>
    <simpara>以下が本文書の背景です。</simpara>
    <section id="_the_debian_maze">
      <title>Debian迷路</title>
      <simpara>Linuxシステムはネットワーク化されたコンピュータのための非常にパワフルなコンピュータプラットフォームです。しかし、Linuxの全能力を利用する方法を学ぶことはたやすいことではありません。非PostScriptプリンタが接続されたLPRプリンタの設定がこんなつまずく点の良い例でした。(新しいインストレーションではCUPSシステムが使われるのでもうこの様な問題はありません。)</simpara>
      <simpara>"ソースコード"という完全かつ詳細なマップが存在します。これは非常に正確ですが理解することが難しいものです。また、HOWTOやmini-HOWTOと呼ばれるリファレンスもあります。これらは理解はしやすいのですが、詳細過ぎて全体像を失いがちです。ちょっとコマンドを実行する必要がある時に、長大なHOWTOの該当する章を探すのには骨が折れることが時々あります。</simpara>
      <simpara>この"Debianリファレンス(第2版)"がDebian迷路の真っ只中にいる皆様にとって解決の糸口となることを望みます。</simpara>
    </section>
    <section id="_copyright_history">
      <title>著作権の経緯</title>
      <simpara>Debianリファレンスは青木 修 &lt;osamu at debian dot org&gt;
が自分のためのシステム管理メモとして書きはじめました。多くの内容が<ulink
url="&thedebianusermailinglist;">debian-user メーリングリスト</ulink>や他のDebian
のリソースから得られた知識由来です。</simpara>
      <simpara>当時 <ulink url="&debiandocumentationprojectddp;">Debian Documentation
Project</ulink>で非常にアクティブであった、Josip Rodin氏の助言に従い、
DDP文書の一部として"Debianリファレンス(第1版、2001-2007)"を作りました。</simpara>
      <simpara>6年経った時点で、青木はオリジナルの "Debianリファレンス(第1版、2001-2007)"
が時代遅れとなっている事に気づき多くの内容を書き換え始めました。新たな "Debianリファレンス(第2版)" が2008年にリリースされました。</simpara>
      <simpara>チュートリアルの内容はその内容とインスピレーションを次から得ました。</simpara>
      <itemizedlist>
        <listitem>
          <simpara>
"<ulink url="&linuxusersguide;">Linux User's Guide</ulink>" Larry Greenfield
著。 (1996年12月)
</simpara>
          <itemizedlist>
            <listitem>
              <simpara>
"Debian Tutorial"によって時代遅れとなりました。
</simpara>
            </listitem>
          </itemizedlist>
        </listitem>
        <listitem>
          <simpara>
"<ulink url="&debiantutorial;">Debian Tutorial</ulink>" Havoc Pennington著。
(1998年12年11日)
</simpara>
          <itemizedlist>
            <listitem>
              <simpara>
内容の一部はOliver ElphickとOle TetlieとJames TreacyとCraig SawyerとIvan E. Moore
IIによって書かれました。
</simpara>
            </listitem>
            <listitem>
              <simpara>
"Debian GNU/Linux: Guide to Installation and Usage"によって時代遅れとなりました。
</simpara>
            </listitem>
          </itemizedlist>
        </listitem>
        <listitem>
          <simpara>
"<ulink url="&debiangnulinuxguallationandusage;">Debian GNU/Linux: Guide to
Installation and Usage</ulink>" John Goerzen and Ossama Othman著。 (1999年)
</simpara>
          <itemizedlist>
            <listitem>
              <simpara>
"Debianリファレンス(第1版)"によって時代遅れとなりました。
</simpara>
            </listitem>
          </itemizedlist>
        </listitem>
      </itemizedlist>
      <simpara>パッケージやアーカイブに関する記述はそのオリジンやインスピレーションの一部を次に遡ることができます:</simpara>
      <itemizedlist>
        <listitem>
          <simpara>
"<ulink url="&debianfaq;">Debian FAQ</ulink>" (Josip Rodinが維持していた2002年3月版)
</simpara>
        </listitem>
      </itemizedlist>
      <simpara>他の内容はそのオリジンやインスピレーションを次に遡ることができます:</simpara>
      <itemizedlist>
        <listitem>
          <simpara>
"<ulink url="&debianreference;">Debianリファレンス</ulink> (第1版)" 青木 修著
(2001年〜2007年)
</simpara>
          <itemizedlist>
            <listitem>
              <simpara>
この新しい "Debianリファレンス(第2版)"によって時代遅れとなりました。
</simpara>
            </listitem>
          </itemizedlist>
        </listitem>
      </itemizedlist>
      <simpara>以前の "Debianリファレンス(第1版)" は次によって作られました,</simpara>
      <itemizedlist>
        <listitem>
          <simpara>
ネットワークコンフィギュレーションに関する大部分の内容はThomas Hoodが寄稿、
</simpara>
        </listitem>
        <listitem>
          <simpara>
X と VCS に関連するかなりの内容は Brian Nelson が寄稿、
</simpara>
        </listitem>
        <listitem>
          <simpara>
ビルドスクリプトや多くの内容に関する訂正で Jens Seidel が寄与,
</simpara>
        </listitem>
        <listitem>
          <simpara>
 David Sewell による徹底的な校正と、
</simpara>
        </listitem>
        <listitem>
          <simpara>
翻訳者やコントリビューターやバグ報告者達による多くの寄与。
</simpara>
        </listitem>
      </itemizedlist>
      <simpara>Debianシステム上の多くのマニュアルページやinfoページが本文書を書く上での第一義的参照情報として使われました。青木 修が<ulink
url="&fairuse;">公正な使用</ulink>と考える範囲内で、それらの多くの部分、特にコマンドの定義が、本文書の文体と目的に合うように注意深い編集をした後、断片的文言として使われました。</simpara>
      <simpara>gdbデバッガーに関する記述はArii PollakとLoïc MinierとDafydd Harriesの了承のもと<ulink
url="&debianwikicontentsonbacktrace;">backtraceに関するDebian
wikiの内容</ulink>を拡張して使いました。</simpara>
      <simpara>既に上記で触れた項目を除くほとんどの"Debianリファレンス(第2版)"の内容は私自身の仕事です。これらはコントリビュータ−によっても更新されています。</simpara>
      <simpara>著者である青木 修は本文書を世に送ることにご助力戴いた皆様に感謝いたします。</simpara>
    </section>
    <section id="_document_format">
      <title>文書のフォーマット</title>
      <simpara>英語のオリジナル文書のソースは<ulink
url="&asciidoc;">AsciiDoc</ulink>のテキストファイルを用いて書かれました。これを使うと生のXMLのテキストよりタイプすることが少なくて済み、また非常に分かりやすいフォーマットで表をサポートできます。ビルドスクリプトによってDocBook
XMLソースに変換され、更に自動的に生成されるデータを埋め込み最終的なDocBook
XMLソースとされました。本文書はHTML,plaintext,PostScriptと,PDFとして見ることができます。現在はHTMLとplaintextへの変換のみが有効とされています。</simpara>
    </section>
  </appendix>
</book>
