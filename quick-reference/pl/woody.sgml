<!-- CVS revision of this document "$Revision: 1.2 $"  -->
<!-- CVS revision of original english document "1.37"  -->
<chapt id="woody">Uaktualnianie dystrybucji do wersji <tt>testowej</tt>

<![%f-ref;[
<p>
Oficjalne informacje o wydaniach uaktualnieñ s± umieszczone na
stronie <url id="&stable-release;">
oraz
<url id="&testing-release;"> (w przygotowaniu).

<p>
Aktualizacja systemu do wersji <tt>testowej/niestabilnej</tt> przebiega wed³ug
nastêpuj±cego schematu:
<list>
  <item>aktualizacja systemu APT do wersji Woody, je¶li twój system
  to Potato, poniewa¿ stara wersja APT nie posiada cech opisanych
  w <manref name="apt_preferences" section="5"> w Woodym.
  <item>zmiana pliku <file>/etc/apt/sources.list</file> i
  <file>/etc/apt/preferences</file>, by odnosi³y siê do repozytoriów
  ,,testing''. Mo¿esz te¿ dodaæ, je¶li tylko chcesz, odniesienia do ,,unstable''.
  <item> aktualizacja listy pakietów oraz instalacja dowolnego, daj±cego
  siê zaktualizowaæ pakietu.
</list>
]]>

<sect id="woody-transition">Przej¶cie do APT z Woodiego
<p>
Aktualizacja sieciowa systemu APT i kilka pakietów podstawowych do wersji
Woody, je¶li nadal u¿ywasz Potato, mo¿e byæ wykonana jak poni¿ej, po dodaniu
¼ród³a wersji <tt>stabilnej</tt> do pliku <file>/etc/apt/sources.list</file>.
<example>
# apt-get update
# apt-get install libc6 perl libdb2 debconf
# apt-get install apt apt-utils dselect dpkg
</example>

<sect id="testing-transition">Przygotowanie do przej¶cia (z wersji <tt>stabilnej</tt> na
<tt>testow±</tt>)
<p>Przej¶cie na dystrybucjê <tt>testow±</tt> Debiana ma pewien skutek uboczny -
trzeba d³u¿ej czekaæ na uaktualnienia bezpieczeñstwa. Ostrze¿ono Ciê -
wybór nale¿y do Ciebie.
<p>
Aktualizacja sieciowa do wersji <tt>testowej</tt> mo¿e przebiegaæ w nastêpuj±cy
sposób (uruchom skrypt <url id="&examples;" name="go-woody">, by wykonaæ
poni¿sze czynno¶ci jednym poleceniem):
<p>
Wyczy¶æ istniej±cy plik <file>sources.list</file>:
<example>
# cd /etc/apt
# cp -f sources.list sources.old
# :&gt;sources.list
</example>
<p>
Pobierz czyst± listê repozytoriów dla wersji <tt>stabilnej</tt>:
<example>
# cd /
# apt-setup noprobe
 ... wybierz repozytoria dostêpne przez HTTP lub FTP
</example>
<p>
Dodaj sekcjê wersji <tt>testowej</tt> do nowej listy.
Linie <tt>deb-src</tt> s± zakomentowane.
<example>
# cd /etc/apt
# grep -e "^deb " sources.list  &gt;sources.deb
# grep -e "^deb-" sources.list  &gt;sources.src
# sed -e "s/stable/testing/"  sources.deb \
     &gt;&gt;sources.list
# sed -e "s/stable/testing/" sources.src | \
     sed -e "s/^deb-/#deb-/"  &gt;&gt;sources.list

# apt-get update
# apt-get install apt apt-utils
# cat &gt;preferences &lt;&lt;EOF
 Package: *
 Pin: release a=testing
 Pin-Priority: 600
 
 Package: *
 Pin: release a=unstable
 Pin-Priority: 50

 EOF
</example>
<p>
Ewentualnie mo¿esz dodaæ odno¶niki do archiwów wersji <tt>niestabilnej</tt>.
<example>
# sed -e "s/stable/unstable/" sources.deb \
     &gt;&gt;sources.list
# sed -e "s/stable/unstable/" sources.src | \
     sed -e "s/^deb-/#deb-/"  &gt;&gt;sources.list
</example>
<p>
Zobacz <ref id="apt-install">, gdzie opisana jest sztuka
dopieszczania plików <file>/etc/apt/sources.list</file>
i <file>/etc/apt/preferences</file>.
<p>
Mo¿esz teraz uaktualniæ pakiety, u¿ywaj±æ jednego ze sposobów opisanych poni¿ej.
</sect>

<sect id="upgrade-system">Aktualizacja systemu
<p>
Po prawid³owym ustawieniu plików <file>/etc/apt/sources.list</file>
i <file>/etc/apt/preferences</file>, system jest gotowy do przej¶cia
na wersjê <tt>testow±</tt>. Przeczytaj rozdzia³ <ref id="package">,
by zapoznaæ siê z podstawami, oraz <ref id="apt-trouble">, je¶li
bêdziesz mia³ problemy.

<sect1>Najlepiej do aktualizacji jest u¿yæ programu <prgn>dselect</prgn>
<p>
Je¶li system posiada wiele pakietów maj±cych w nazwach <tt>-dev</tt>, itp.,
poni¿sza metoda z u¿yciem <prgn>dselect</prgn> jest zalecana do w³a¶ciwej
kontroli pakietów.
<example>
# dselect update # rób to zawsze przed aktualizacj±
# dselect select # wybierz pakiety oznaczone ,,suggests'' i ,,recommends''
</example>
Zaraz po uruchomieniu <prgn>dselect</prgn> wybierze aktualnie zainstalowane
pakiety. Mo¿e Ciê zapytaæ o dodatkowe pakiety, których
nazwy we¼mie z pól <tt>depends</tt>, <tt>suggests</tt> oraz <tt>recommends</tt>.
Je¶li nie chcesz dodawaæ ¿adnych pakietów, wci¶nij <tt>Q</tt>, by opu¶ciæ
program <prgn>dselect</prgn>.
<example>
# dselect install
</example>
Bêdziesz jeszcze musia³ odpowiedzieæ na pytania stawiane przez konfiguratory
pakietów podczas tego procesu, wiêc przygotuj swoje notatki i po¶wiêæ tej
czê¶ci trochê czasu. Zobacz te¿ <ref id="dselect">.
<p>
U¿ywaj <prgn>dselect</prgn>. <strong>To zawsze dzia³a :).</strong>

<![%f-ref;[
<sect1>Niezalecany sposób aktualizacji przy u¿yciu <prgn>apt-get</prgn>
<p>
<strong>U¿ycie <prgn>apt-get</prgn>, które jest opisane poni¿ej, ma du¿o
wiêksze mo¿liwo¶ci, ale <em>nie</em> jest zalecane do aktualizacji
systemu.</strong>
]]>

Je¶li musisz aktualizowaæ bez u¿ycia <prgn>dselect</prgn>, rozwa¿
skorzytanie z <prgn>aptitude</prgn> oraz z innych programów.

<![%f-ref;[
<p>
Je¶li w systemie znajduje siê niewiele pakietów lub w archiwach Debiana
nie zasz³o du¿o zmian, poni¿sze polecenia mog± byæ wystarczaj±ce.
<example>
# apt-get update # rób to zawsze przed aktualizacj±
... by uaktualniæ system z zale¿no¶ciami (,,depends''):
# apt-get upgrade
 ... by uaktualniæ ca³± dystrybucjê wraz z zale¿no¶ciami:
# apt-get -u dist-upgrade
 ... lub by uaktualniæ i zastosowaæ dotychczasowe ustawienia dselect (nowe, lepsze):
# apt-get -u dselect-upgrade         # u¿yj ustawieñ dselect
</example>
<p>
Poniewa¿ ten sposób aktualizacji u¿ywa <prgn>apt-get</prgn>,
wybieranie pakietów <em>zalecanych</em> i <em>sugerowanych</em> jest
ograniczone.
Zobacz <ref id="depends">.
]]>

</sect>

</chapt>
