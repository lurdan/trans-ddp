<!-- CVS revision of this document "$Revision: 1.1 $"  -->
<!-- CVS revision of original english document "1.2"  -->
<chapt id="woody">Transition vers woody
<p>
<sect>Transition de potato à woody
<p>
Ajoutez les entrées suivantes au fichier /etc/apt/sources.list après la ligne pour la distribution stable:
<example>
deb http://http.us.debian.org/debian testing main contrib non-free
deb http://non-us.debian.org/debian-non-US testing/non-US main contrib non-free
</example>
Ne mettez à jour que les paquets principaux, juste par précaution.
<example>
# apt-get update
# apt-get install libc6 libdb2 perl
# apt-get install dpkg debconf apt
</example>
Ajoutez les entrées suivantes à /etc/apt/sources.list après les lignes pour stable et testing:
<example>
deb http://http.us.debian.org/debian unstable main contrib non-free
deb http://non-us.debian.org/debian-non-US unstable/non-US main contrib non-free
</example>
utilisez toujours l'ordre stable -&gt; testing -&gt; unstable -&gt; pour lister les sources externes dans sources.list.
<p>
pour intégrer un contrôle des versions, ajustez /etc/apt/preferences de la manière suivante:
<example>
Package: *
Pin: release a=testing
Pin-Priority: 800

Package: *
Pin: release a=stable
Pin-Priority: 500

Package: *
Pin: release a=unstable
Pin-Priority: 80
</example>
On pose ainsi "testing" en version par défaut. Pour plus de détails, "man apt_preferences" (woody).  
Si on veut rester en testing mais que l'on veut aussi suivre les versions instables des paquets installés à partir de l'arbre unstable, il faut ajuster Pin-Priority pour unstable à 400 ( &lt; stable, &gt; 100 ) à la place.
<p>
Vous pouvez décider de poser la valeur de Pin-Priority pour testing à 90 in /etc/apt/preferences si "testing" est trop instable pour le moment et que vous voulez garder "stable" en tant que distribution par défaut.  (cela sera peut-être approprié juste après la sortie de la woody.)
<p>
Assurez vous qu'apt utilise un proxy en définissant la variable d'environnement http_proxy ou en configurant le proxy dans /etc/apt/apt.conf.
</sect>

<sect>Mise à jour vers woody
<p>
<example>
# apt-get update                     # faites toujours ça avant une mise à jour
 ... pour mettre à jour tout le système avec la sélection "suggests" 
# apt-get -u dist-upgrade
 ... pour mettre à jour et garder la configuration de dselect (nouveau, meilleur)
# apt-get -u dselect-upgrade         # utilise les résultats de la sélection par dselect
</example>
</sect>

<sect>Configuration de woody
<p>
Il se peut que ça devienne inutile avec les améliorations apportées à woody.
<p>
Sur un système woody fraichement installé, éditez /etc/apt/sources.list et  
/etc/apt/apt.conf pour obtenir la même structure que celle décrite dans la section ci-dessus.
</sect>

</chapt>
