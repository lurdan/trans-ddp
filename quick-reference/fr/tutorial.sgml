<!-- CVS revision of this document "$Revision: 1.5 $"  -->
<!-- CVS revision of original english document "1.8"  -->
<!-- Révision de la traduction française de R. Casagraude -->
<!-- et achèvement de cette trad.(JP) -->
<!--Line width ruler (ruler uses 78 characters)    34567890123456789012345-->

<chapt id="tutorial">Tutoriels GNU/Linux

<![%FIXME[<p>===Proof reading by dsew: DONE ===]]>

<p>
Cette section propose une orientation basique sur le monde Linux pour les
débutants. Si vous utilisez Linux depuis un certain temps déjà, utilisez-le
comme un inventaire.

<sect>Sources d'information
<p>
<example>
# apt-get install doc-debian doc-linux-text apt-howto info \
                  man-db manpages less mc
<![%FIXME[<p>=== doc-debian-fr doc-linux-fr manpages-fr ===]]>
</example>
Ensuite, jettez un oeil au <url id="http://www.debian.org/doc/ddp"
name="Debian Documentation Project (DDP)"> qui fait référence pour Debian.  La
plupart de ces documents sont généralement installés dans /usr/share/doc/.
Regardez aussi dans /usr/share/doc-base/, qui offre des liens vers des
documents sur votre système.  Ajoutez "export
CDPATH=.:/usr/share/doc:/usr/src/local" a votre ~/.bash_profile pour accéder
facilement aux répertoires de documentation.
<p>
Le <url id="http://www.linuxdoc.org/" name="Linux Documentation Project
(LDP)"> est une référence sur Linux en général.  Le contenu du LDP est
généralement installé dans /usr/share/doc/HOWTO/.
<p>
La navigation a travers les documents locaux ou sur des sites ftp distants se
fait en utilisant la touche F9 dans Midnight Commander (voir <ref id="mc">). 
</sect>

<sect>La console Linux

<sect1 id="login">Se conecter
<p>
Dans un système Linux ordinaire, il y a 6 pseudo-terminals indépendants.  Le
passage de l'un a l'autre se fait avec la combinaison de touches
<tt>Left-Alt</tt> et <tt>F1</tt> a <tt>F6</tt> simultanément.  Chaque
pseudo-terminal permet de se connecter de manière indépendante à vos différents
comptes. L'environnement multi-utilisateurs est une des grandes
fonctionnalités d'Unix à laquelle on devient vite accro.
<p>
Sous Unix, une bonne habitude à prendre est de se connecter en tant
qu'utilisateur ordinaire pour une utilisation normale.  Je dois admettre que
je continue a utiliser le compte du super utilisateur (root) plus qu'il ne se
doit juste à cause de son aisance et de ma négligence.
<p>
Désormais j'utilise un compte ordinaire avec les commandes "sudo", "super" ou
"su -c" pour acquérir des accès "root".  
</sect1>

<sect1 id="newuser">Ajouter un compte utilisateur
<p>
Après l'installation du système, j'ajoute généralement un compte utilisateur
ordinaire.  Si le nom d'utilisateur est "pingouin",
<example>
# adduser pingouin
</example>
le créera.
<p>
J'utilise la commande "vigr" pour éditer /etc/group comme cela :
<example>
src:x:40:admin, debian, ...
staff:x:50:admin
...
</example>
<!-- Osamu: maybe add a sentence to explain the function of these groups,
for
the newbie? Or even the oldbie who doesn't use them? 

I think there was long discussion on this matter in debian-devel ML.
Some one famous is making document.  I do not know where is it.
I use src for CVS  but it owns /usr/src used for kernel compile.
staff is used for /usr/home so good for maintaining user accounts?
-->
<p>
Utiliser "adduser", "addgroup", "vipw", "vipw -s", "vigr", et
"vigr -s" pour configurer proprement les utilisateurs et les groupes.
</sect1>

<sect1>Comment éteindre
<p>
Comme tout autre OS moderne (ndt : "Operating System", système d'exploitation)
où les fichiers sont "cachés" en mémoire, Linux a besoin d'être éteint
proprement avant que le courant ne soit coupé sans danger.
Voici la commande en mode multi-utilisateur :
<example>
# shutdown -h now
</example>
Voici la commande en mode mono-utilisateur (single-user mode) :
<example>
# poweroff -i -f
</example>
Attendez jusqu'à ce que le système vous affiche "System halted" (ndt : le
système a été arrété), puis coupez le courant.  Si l'apm est activé dans le
BIOS et sous Linux, le système s'éteindra puis coupera l'alimentation par lui
même.
Voir <ref id="apm"> pour plus de détails.
</sect1>

<sect1>Edition en ligne de commande
<p>
L'interpréteur de commande (shell), <tt>bash</tt>, est doté d'une possibilité
d'édition de commande.  Utilisez simplement la flêche vers le haut pour entrer
dans l'historique, ensuite utilisez les flêches comme vous l'entendriez.
Autres combinaisons de touches importantes à se rapeler :
<example>
Ctrl-C:                  Interrompre un programme
Ctrl-D:                  Interrompre une entrée
Ctrl-S:                  Interrompre la sortie à l'ecran
Ctrl-Q:                  Réactiver la sortie à l'ecran
Ctrl-Alt-Del:            Redémarrer/arrêter le système (voir
/etc/inittab)
Lt-click-and-drag-mouse: Sélectionner et copier dans le presse papier
(gpm)
Ctrl-click-mouse:        Coller le contenu du presse papier au niveau du
curseur (gpm)
</example>
<p>
Sur une console Linux normale, seules les touches <tt>Ctrl</tt> gauche et
<tt>Alt</tt> fonctionnent comme on le pense.
</sect1>

<sect1>Commandes basiques à retenir
<p>
Ce qui suit sont les commandes de base Unix :
<example>
ls, ls -al, ls -d, pwd, cd, cd ~user, cd -, cat /etc/passwd, less,
bg, fg, kill, killall, uname -a, type commandname, sync, netstat,
ping, traceroute, top, vi, ps aux, tar, zcat, grep, ifconfig, ...
</example>
<!-- Osamu: I removed a couple redundant commands and added a bit of
info below. -->
<p>
Chercher leur signification en les entrant à une invite de commande ou en
tapant "man " ou "info " suivi de leur nom (NDT : si votre système est
localisé correctement, vous obtiendrez de l'aide en français). Beaucoup de
commandes Linux afficheront une aide brève si vous les invoquez d'une des
manières suivantes :
<example>
$ nomdelacommande --help
$ nomdelacommande -h
</example>
"whatis <em>nomdelacommande</em>" donne un sommaire d'une ligne de n'importe
quelle commande ayant une entrée dans les pages de manuel.
</sect1>

<sect1>Le système X Window
<p>
Pour démarrer le système X Window depuis la console:
<!-- Osamu: formal name here per request in "man 7 X" manpage -->
<example>
# exec startx
</example>
Un click droit sur la fenêtre principale (root window) affichera un menu de
sélections.
</sect1>

<sect1>Plus de touches pour bouger
<p>
Quelques combinaisons importantes pour la console Linux à retenir :
<example>
Alt-F1 a F6 :         Passer à d'autres pseudo-terminaux
Ctrl-Alt-F1 a F6 :    Passer à d'autre pseudo-terminaux
                          (depuis un X-window, DOSEMU, etc.)
Alt-F7 :              Retourner à X-window
Ctrl-Alt-moins :      Changer la résolution de l'écran dans X-window
Ctrl-Alt-plus :       Changer la résolution dans l'autre sens dans
X-window
Ctrl-Alt-Backspace :  Arrêter X-window
Alt-X, Alt-C, Alt-V : Combinaisons de touches Windows/Mac usuelles pour
                      Couper, Copier, Coller  avec la touche Ctrl- qui est
		      remplacée par ces Alt- dans certain programmes
		      comme Netscape Composer.
</example>
</sect1>
</sect>

<sect id="mc">Midnight Commander (MC)
<p>
Midnight Commander (MC) est le "couteau Suisse armée" GNU pour la console
Linux et autres environnements de terminaux.  

<sect1>Installer MC
<p>
<example>
# apt-get install mc
</example>
Ensuite, ajoutez la fonction suivante à votre ~/.bashrc (ou dans
/etc/bash.bashrc, appelé depuis le .bashrc).
<example>
mc ()
{
  mkdir -p ~/.mc/tmp 2&gt; /dev/null
  chmod 700 ~/.mc/tmp
  MC=~/.mc/tmp/mc-$$
  /usr/bin/mc -P "$@" &gt; "$MC"
  cd "$(cat $MC)"
  rm -f "$MC"
  unset MC;
}
</example>
Ceci autorise MC à changer de répertoire de travail avant de sortir.
<p>
Si vous utilisez un terminal, comme kon et Kterm pour le japonais,
qui utilise certains caractères graphiques, ajouter "-a" à la ligne de
commande de mc peut aider à prévenir quelques problèmes.
</sect1>

<sect1>Démarrer MC
<p>
<example>
$ mc
</example>
Toutes les opérations sur fichiers peuvent être effectuées depuis les menus de
MC, requérant un effort minimal de la part de l'utilisateur.
</sect1>

<sect1>Gestionnaire de fichiers
<p>
Par défaut on a deux panneaux-répertoires contenant la liste des fichiers.  Un
autre mode utile est de configurer la fenêtre de droite sur "information" pour
voir l'information sur le type de privilèges, etc.  Ci-dessous, quelques
raccourcis clavvier essentiels. Avec le démon gpm, on peut utiliser aussi une
souris.  (Vérifiez d'avoir appuyé sur la touche Majuscule pour obtenir le
comportement normal concernant le "couper/coller" dans MC.)
<list>
<item>F1: Menu d'Aide
<item>F3: Afficheur de fichier interne
<item>F4: Éditeur interne
<item>F9:  Active le menu déroulant
<item>F10: Quitte Midnight Commander
<item>Tab: Passe d'une Fenêtre à l'autre
<item>Insert: Marque le fichier pour des opérations multiples telles que
copier
<item>Del: Efface le fichier (Soyez prudent ! réglez MC pour qu'il soit en
mode de sauvegarde.)
<item>Touches du Curseur: Auto-explicatif
</list>
</sect1>

<sect1>Astuces en ligne de commande
<p>
<list>
<item>Toute commande 'cd' changera le répertoire affiché à l'écran.
<item>Contrôle-Entrée ou Alt-Entrée copiera un nom de fichier sur la ligne
de commande. Utilisez ceci avec les commandes 'cp' ou 'mv' associées avec
l'édition en ligne de commande
<item>Alt-Tab affichera les différentes applications à ouvrir (dans un
terminal) ou ouvertes, si la commande est utilisée hors d'un terminal
(NDT : et avec un clavier configuré en français).
<item>On peut spécifier le répertoire de départ pour les deux fenêtres
comme arguments dans
MC; par exemple, "mc /etc /root".
<item>Esc + numéro de touche == Fn (i.e., Esc + 1 = F1, etc.; Esc + 0 =
F10)
<item>Esc key			     == Alt-key (= Meta, M-); i.e., type Esc + c for Alt-c
</list>
</sect1>

<sect1>Éditeur
<p>
L'éditeur interne (de MC) possède une manière intéressante de procéder à un
copier-coller.  Presser la touche F3 marque le début de la sélection, une
seconde fois F3 marque la fin de la sélection et met celle-ci en surbrillance.
Ensuite vous pouvez bouger votre curseur. Si vous appuyez sur F6, la zone
sélectionnée sera déplacée jusqu'à l'endroit où se trouve le curseur. Si vous
pressez sur F5, la zone sélectionnée sera copiée et insérée à l'endroit où se
trouve le curseur.  F2 sauvera le fichier. F10 vous fera quitter l'éditeur. La
plupart des raccourcis clavier fonctionnent à l'intuition.
<p>
Cet éditeur peut être démarré directement avec un fichier chargé:
<example>
$ mc -e fichier_à_éditer
$ mcedit fichier_to_éditer
</example>
<p>
Il ne s'agit pas d'un éditeur multi-fenêtres mais on peut faire usage de
plusieurs consoles Linux pour atteindre le même effet. Pour copier d'une
fenêtre sur l'autre, utilisez les touches Alt-Fn pour basculer d'une console
virtuelle à l'autre et utilisez "File-&gt;Insert file" ou "File-&gt;Copy to
file" pour déplacer une portion d'un fichier dans un autre fichier.
<!-- Osamu: you could try "&rarr;" instead of "-&gt;" to get a right arrow
above. It's valid SGML, but I don't know if all browsers support it. 

For this version 1, let us keep it as is for consistency.  
I will think about it for version 2,  Thanks. 
-->
<p>
Cet éditeur interne peut être remplacé par n'importe quel autre éditeur
externe de votre choix.
<p>
De plus, de nombreux programmes utilisent les variables d'environnement
<tt>EDITOR</tt> ou <tt>VISUAL</tt> pour décider quel éditeur utiliser.  Si
vous n'êtes pas à l'aise avec vim, configurez ces variables sur "mcedit" en
ajoutant ces lignes dans le fichier ~/.bashrc:
<example>
...
export EDITOR=mcedit
export VISUAL=mcedit
...
</example>
<p>
Je recommande vraiment d'ajouter ces lignes pour VIM, si c'est possible.
Utiliser fréquemment les commandes de vi(m) est une bonne chose à faire,
puisqu'elles sont toujours présentes dans le monde Linux/Unix.
</sect1>

<sect1>Afficheur
<p>
MC possède un visualiseur intelligent. C'est un très bon outil pour chercher des
mots dans des documents. Je l'utilise toujours pour lire les fichiers qui sont
dans le répertoire /usr/share/doc. C'est la manière la plus rapide de
surfer dans la masse d'informations sous Linux. Cet afficheur peut être
chargé directement ainsi :
<example>
$ mc -v fichier _à_voir
</example>
(Notez que certains paquets violent la politique Debian (Debian Policy) et
continuent à stocker leurs documents dans /usr/doc.)
</sect1>

<sect1>Possibilités de démarrage automatique
<p>
Faites "Entrée" sur un fichier, et le programme approprié vous montrera
le contenu du fichier. Il s'agit là d'une possibilité très utile de MC.
<example>
exécutable:            Exécute la commande
fichiers man, html:    Envoie le contenu à un visualiseur
fichiers tar, gz, rpm: Affiche le contenu comme sous-répertoire
</example>
Afin de permettre à ces possibilités de visualisation de fonctionner, les
fichiers visionnables ne doivent pas être des exécutables. Changez leur statut
en utilisant la commande chmod ou via le menu de  MC.
</sect1>

<sect1>Système de fichiers FTP virtuel
<p>
MC peut être utilisé pour accéder à des fichiers sur l'Internet via FTP.
Accédez au menu avec la touche F9, puis tapez "p" pour activer le système de
fichiers FTP . Entrez une URL sous la forme
"username:passwd@hostname.domainname", ce qui permettra d'être dans un
répertoire distant comme s'il était local.
</sect1>

</sect>


<sect>Étude approfondie
<p>
Il existe beaucoup de bonnes références pour débutants sur UNIX ailleurs que
sur ce site.  Les livres de l'éditeur O'Reilly sont très souvent de bons
guides dans n'importe quel domaine de l'informatique. Je recommande <em>Unix
Power Tools</em>, qui est une bonne source d'information.
<p>
<file>/usr/share/doc/HOWTO/en-txt/Tips-HOWTO.gz</file> (LDP) est une autre
source d'information à regarder.
</sect>

</chapt>
