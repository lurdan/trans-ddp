<!-- CVS revision of this document "$Revision: 1.1 $"  -->
<!-- CVS revision of original english document "1.8"  -->
<!--Line width ruler (ruler uses 78 characters)     34567890123456789012345-->

<chapt id="tutorial">Tutoriels GNU/Linux

<![%FIXME[<p>===Proof reading by dsew: DONE ===]]>

<p>
Cette section propose une orientation basique au monde Linux pour les
débutants. Si vous utilisez Linux depuis un certain temps déjà, utilisé le
comme un inventaire.

<sect>Sources d'information
<p>
<example>
# apt-get install doc-debian doc-linux-text apt-howto info \
                  man-db manpages less mc
<![%FIXME[<p>=== doc-debian-fr doc-linux-fr manpages-fr ===]]>
</example>
Ensuite, jettez un oeil au <url id="http://www.debian.org/doc/ddp"
name="Debian Documentation Project (DDP)"> qui fait référence pour Debian.
La plupart de ces documents sont généralement installé dans
/usr/share/doc/.  Regarder aussi dans /usr/share/doc-base/, qui offre des
liens vers des documents sur votre systeme.  Ajoutez
"export CDPATH=.:/usr/share/doc:/usr/src/local" a votre ~/.bash_profile pour
accéder facilement aux répertoires de documentation.
<p>
Le <url id="http://www.linuxdoc.org/" name="Linux Documentation Project
(LDP)"> est une référence sur Linux en général.  Le contenu du LDP est
généralement installé dans /usr/share/doc/HOWTO/.
<p>
La navigation a travers les documents locaux ou sur des sites ftp distant se
fait en utilisant la touche F9 dans Midnight
Commander (voir <ref id="mc">). 
</sect>

<sect>La console Linux

<sect1 id="login">Se logguer
<p>
Dans un systeme Linux ordinaire, il y a 6 pseudo-terminals indépendants. Le
passage de l'un a l'autre se fait avec la combinaison de touches
<tt>Left-Alt</tt> et <tt>F1</tt> a
<tt>F6</tt> simultanément.  Chaque pseudo-terminal permet de se logguer de
maniere independante a vos differents comptes. L'environnement
multi-utilisateurs est une des grande fonctionnalités d'Unix a laquelle on
devient vite accro.
<p>
Sous Unix, une bonne habitude a prendre est de se loguer en tant qu'utilisateur
ordinaire pour une utilisation normale.  Je doit admettre que je continue a
utiliser le cmpte du super utilisateur (root) plus qui ne se doit juste a
cause de son aisance et de ma négligence.
<p>
Désormais j'utilise un compte ordinaire avec les commandes "sudo",
"super" ou "su
-c" pour acquerir des acces root.  
</sect1>

<sect1 id="newuser">Ajouter un compte utilisateur
<p>
Après l'installation du systeme, j'ajoute généralement un compte utilisateur
ordinaire.
Si le nom d'utilisateur est "pinguoin",
<example>
# adduser pinguoin
</example>
le créera.
<p>
J'utilise la commande "vigr" pour éditer /etc/group comme cela :
<example>
src:x:40:admin, debian, ...
staff:x:50:admin
...
</example>
<!-- Osamu: maybe add a sentence to explain the function of these groups, for
the newbie? Or even the oldbie who doesn't use them? 

I think there was long discussion on this matter in debian-devel ML.
Some one famous is making document.  I do not know where is it.
I use src for CVS  but it owns /usr/src used for kernel compile.
staff is used for /usr/home so good for maintaining user accounts?
-->
<p>
Utiliser "adduser", "addgroup", "vipw", "vipw -s", "vigr", et
"vigr -s" pour configurer proprement les utilisateurs et les groupes.
</sect1>

<sect1>Comment éteindre
<p>
Comme tout autre OS (ndt : Operating system, systeme d'exploitation) moderne
ou les fichiers sont "cachés" en mémoire, Linux a besoin d'etre éteind
proprement avant que le courant ne soit couper sans danger.
Voici la commande en mode multi-utilisateur :
<example>
# shutdown -h now
</example>
Voici la commande en mode mono-utilisateur (single-user mode) :
<example>
# poweroff -i -f
</example>
Attendez jusqu'a ce que le systeme vous affiche "System halted" (ndt : le
systeme a été arreté) puis couper le courant.
Si l'apm est activé dans le BIOS et sous Linux, le systeme s'éteindra puis
coupera l'alimentation par lui
meme.
Voir <ref id="apm"> pour plus de détails.
</sect1>

<sect1>Edition en ligne de commande
<p>
L'interpreteur de commande (shell), <tt>bash</tt>, est doté d'une possibilité
d'édition de commande.
Utilisez simplement la fleche vers le haut pour entrer dans l'historique,
ensuite utiliser les fleches comme vous l'entendriez.  Autre combinaisons de
touche importante à se rapeler :
<example>
Ctrl-C:                  Interrompre un programme
Ctrl-D:                  Interrompre une entrée
Ctrl-S:                  Interrompre la sortie a l'ecran
Ctrl-Q:                  Réactiver la sortie a l'ecran
Ctrl-Alt-Del:            Redémmarrer/arreter le systeme (voir /etc/inittab)
Lt-click-and-drag-mouse: Selectionner et copier dans le presse papier (gpm)
Ctrl-click-mouse:        Coller le contenu du presse papier au niveau du
curseur (gpm)
</example>
<p>
Sur une console Linux normale, seule les touches <tt>Ctrl</tt> gauche et <tt>Alt</tt>
fonctionnent comme on le pense.
</sect1>

<sect1>Commandes basique a retenir
<p>
Ce qui suit sont les commande de base Unix :
<example>
ls, ls -al, ls -d, pwd, cd, cd ~user, cd -, cat /etc/passwd, less,
bg, fg, kill, killall, uname -a, type commandname, sync, netstat,
ping, traceroute, top, vi, ps aux, tar, zcat, grep, ifconfig, ...
</example>
<!-- Osamu: I removed a couple redundant commands and added a bit of
info below. -->
<p>
Chercher leur signification en les entrant a une invite de commande ou en
tapant "man " ou "info " suivit de leur nom. Beaucoup de commandes Linux
afficheront une aide breve si vous les invoquez d'une des manieres suivantes :
<example>
$ nomdelacommande --help
$ nomdelacommande -h
</example>
"whatis <em>nomdelacommande</em>" donne un sommaire d'une ligne de n'importe
quelle commande ayant une entrée dans les pages de manuel.
</sect1>

<sect1>Le systeme X Window
<p>
Pour demarrer le systeme X Window depuis la console:
<!-- Osamu: formal name here per request in "man 7 X" manpage -->
<example>
# exec startx
</example>
Un click droit sur la fenetre principale (root window) affichera un menu de
selections.
</sect1>

<sect1>Plus de touche pour bouger
<p>
Quelques combinaison importante pour la console Linux a retenir :
<example>
Alt-F1 a F6 :         Passer a d'autre pseudo-terminals
Ctrl-Alt-F1 a F6 :    Passer a d'autre pseudo-terminals
                          (depuis un X-window, DOSEMU, etc.)
Alt-F7 :              Retourner a X-window
Ctrl-Alt-moins :      Changer la resolution de l'ecran dans X-window
Ctrl-Alt-plus :       Changer la resolution dans l'autre sens dans X-window
Ctrl-Alt-Backspace :  Arreter X-windows
Alt-X, Alt-C, Alt-V : Combinaisons de touches Windows/Mac usuelles pour
                      Couper, Copier, Coller  avec la touche Ctrl- qui est
		      remplacer par ces Alt- dans certain programmes
		      comme Netscape Composer.
</example>
</sect1>
</sect>

<sect id="mc">Midnight Commander (MC)
<p>
Midnight Commander (MC) est le "couteau Suisse armée" GNU pour la console
Linux et autres environnement de terminaux.  

<sect1>Installer MC
<p>
<example>
# apt-get install mc
</example>
Ensuite ajoutez la fonction suivante a votre ~/.bashrc (ou dans
/etc/bash.bashrc, appeler depuis le .bashrc).
<example>
mc ()
{
  mkdir -p ~/.mc/tmp 2&gt; /dev/null
  chmod 700 ~/.mc/tmp
  MC=~/.mc/tmp/mc-$$
  /usr/bin/mc -P "$@" &gt; "$MC"
  cd "$(cat $MC)"
  rm -f "$MC"
  unset MC;
}
</example>
This enables MC to change working directory upon exit.
<p>
If one is in a terminal, like kon and Kterm for Japanese, which utilizes
certain graphics characters, adding "-a" to the mc's command line may
help prevent problems.
</sect1>

<sect1>Start MC
<p>
<example>
$ mc
</example>
MC takes care of all file operations through its menu, requiring minimal 
user effort.
</sect1>

<sect1>File manager
<p>
The default is 2 directory panels containing file lists.  Another useful
mode is to set the right window to "information" to see file access privilege
information, etc. Following are some essential keystrokes. With the gpm daemon
running, one can use a mouse, too.  (Make sure to press the shift key to
obtain the normal behavior of cut and paste in MC.)
<list>
<item>F1: Help menu
<item>F3: Internal file viewer
<item>F4: Internal editor
<item>F9:  Activate pulldown menu
<item>F10: Exit Midnight Commander
<item>Tab: Move between 2 windows
<item>Insert: Mark file for a multiple-file operation such as copy
<item>Del: Delete file (Be careful&mdash;set MC to safe delete mode.)
<item>Cursor keys: Self-explanatory
</list>
</sect1>

<sect1>Command-line tricks:
<p>
<list>
<item>Any 'cd' command will change the directory shown on the selected screen.
<item>Control-Enter or Alt-Enter will copy a filename to the command line. Use
this with the 'cp' or 'mv' command together with command-line editing.
<item>Alt-Tab will show shell filename expansion choices.
<item>One can specify the starting directory for both windows as arguments to
MC; for example, "mc /etc /root".
<item>Esc + numberkey == Fn (i.e., Esc + 1 = F1, etc.; Esc + 0 = F10)
<item>Esc key       == Alt-key (= Meta, M-); i.e., type Esc + c for Alt-c
</list>
</sect1>

<sect1>Editor
<p>
The internal editor has an interesting cut-and-paste scheme. Pressing F3 marks
the start of a selection, a second F3 marks the end of selection and
highlights the selection. Then you can move your cursor. If you press F6, the
selected area will be moved to the cursor location. If you press F5, the
selected area will be copied and inserted at the cursor location.  F2 will
save the file. F10 will get you out. Most cursor keys work intuitively.
<p>
This editor can be directly started on a file:
<example>
$ mc -e filename_to_edit
$ mcedit filename_to_edit
</example>
<p>
This is not a multi-window editor but one can use multiple Linux consoles
to achieve the same effect. To copy between windows, use Alt-Fn-keys to switch
virtual consoles and use "File-&gt;Insert file" or "File-&gt;Copy to file"
to move a portion of a file to another file.
<!-- Osamu: you could try "&rarr;" instead of "-&gt;" to get a right arrow
above. It's valid SGML, but I don't know if all browsers support it. 

For this version 1, let us keep it as is for consistency.  
I will think about it for version 2,  Thanks. 
-->
<p>
This internal editor can be replaced with any external editor of choice.
<p>
Also, many programs use environment variables <tt>EDITOR</tt> or 
<tt>VISUAL</tt> to decide which editor to use.  If you are unconfortable
with vim, set these to "mcedit" by adding these lines to ~/.bashrc:
<example>
...
export EDITOR=mcedit
export VISUAL=mcedit
...
</example>
<p>
I do recommend setting these to vim if possible.  Getting used to 
vi(m) commands is the right thing to do, since they are always there in 
the Linux/Unix world.
</sect1>

<sect1>Viewer
<p>
Very smart viewer. This is a great tool for searching words in documents.  I
always use this for files in the /usr/share/doc directory. This is the fastest
way to browse through masses of Linux information. This viewer can be directly
started like so:
<example>
$ mc -v filename_to_view
</example>
(Note that some packages violate policy and still store their documents under
/usr/doc.)
</sect1>

<sect1>Auto start features
<p>
Press "Enter" on a file, and the appropriate program will
handle the content of the file. This is a very convenient MC feature.
<example>
executable:        Execute command
man, html file:    Pipe content to viewer software
tar, gz, rpm file: Browse its contents as if subdirectory
</example>
In order to allow these viewer/virtual file features to function, viewable
files should not be set as executable. Change their status using the chmod
command or via the MC file menu.
</sect1>

<sect1>FTP Virtual file system
<p>
MC can be used to access files over the Internet using FTP. Go to the menu
by pressing F9, then type "p" to activate the FTP virtual file system. Enter
a URL in the form "username:passwd@hostname.domainname", which will retrieve a
remote directory that appears like a local one.
</sect1>

</sect>


<sect>Further study
<p>
There are many good Unix entry-level references out there.  O'Reilly's books
are usually safe bets for good guidebooks in any field of computer topics. I
recommend <em>Unix Power Tools</em>, which is full of information.
<p>
<file>/usr/share/doc/HOWTO/en-txt/Tips-HOWTO.gz</file> 
(LDP) is another resource to check.
</sect>

</chapt>
