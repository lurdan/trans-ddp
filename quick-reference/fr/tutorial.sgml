<!-- CVS revision of this document "$Revision: 1.7 $"  -->
<!-- CVS revision of original english document "1.11"  -->
<!-- Révision de la traduction française de R. Casagraude -->
<!-- et achèvement de cette trad.(JP) -->
<!--Line width ruler (ruler uses 78 characters)    34567890123456789012345-->

<chapt id="tutorial">Tutoriels GNU/Linux

<![%FIXME[<p>===Proof reading by dsew: DONE ===]]>

<p>
Cette section propose une orientation basique dans le monde Linux pour les
débutants. Si vous utilisez Linux depuis un certain temps déjà, utilisez-la
comme un inventaire.

<sect>Sources d'information
<p>
<example>
# apt-get install doc-debian doc-linux-text apt-howto info \
                  doc-debian-fr doc-linux-fr manpages-fr \
                  man-db manpages less mc
</example>
Ensuite, jettez un oeil au <url id="http://www.debian.org/doc/ddp"
name="Debian Documentation Project (DDP)"> qui fait référence pour Debian.
La plupart de ces documents sont généralement installés dans
<file>/usr/share/doc/</file>.  Regardez aussi dans
<file>/usr/share/doc-base/</file>, qui offre des liens vers des
documents sur votre système.  Ajoutez
<tt>export CDPATH=.:/usr/share/doc:/usr/src/local</tt> a votre
<file>~/.bash_profile</file> pour accéder
facilement aux répertoires de documentation.
<p>
Le <url id="http://www.linuxdoc.org/" name="Linux Documentation Project
(LDP)"> est une référence sur Linux en général.  En principe Le contenu
du LDP est installé dans <file>/usr/share/doc/HOWTO/</file>.
<p>
La navigation a travers les documents locaux ou sur des sites ftp distants se
fait en utilisant la touche <tt>F9</tt> dans Midnight Commander
(voir <ref id="mc">). 
</sect>

<sect>La console Linux

<sect1 id="login">Se conecter
<p>
Dans un système Linux ordinaire, il y a 6 pseudo-terminals indépendants.  Le
passage de l'un a l'autre se fait avec la combinaison de touches
<tt>Left-Alt</tt> et <tt>F1</tt> à <tt>F6</tt> simultanément.  Chaque
pseudo-terminal permet de se connecter de manière indépendante à vos
différents comptes.
L'environnement multi-utilisateurs est une des grandes fonctionnalités
d'Unix à laquelle on devient vite accro.
<p>
Sous Unix, une bonne habitude à prendre est de se connecter en tant
qu'utilisateur ordinaire pour une utilisation normale.  Je dois admettre que
je continue a utiliser le compte du super utilisateur (root) plus qu'il ne se
doit juste à cause de son aisance et de ma négligence.
<p>
Désormais j'utilise un compte ordinaire avec les commandes <tt>sudo</tt>, 
<tt>super</tt> ou <tt>su -c</tt> pour acquérir des accès root limités.  
</sect1>

<sect1 id="newuser">Ajouter un compte utilisateur
<p>
Après l'installation du système, j'ajoute généralement un compte utilisateur
ordinaire.  Si le nom d'utilisateur est "pingouin",
<example>
# adduser pingouin
</example>
le créera.
<p>
J'utilise la commande <tt>vigr</tt> pour éditer <file>/etc/group</file>
comme cela :
<example>
src:x:40:admin, debian, ...
staff:x:50:admin
...
</example>
<!-- Osamu: maybe add a sentence to explain the function of these groups,
for
the newbie? Or even the oldbie who doesn't use them? 

I think there was long discussion on this matter in debian-devel ML.
Some one famous is making document.  I do not know where is it.
I use src for CVS  but it owns /usr/src used for kernel compile.
staff is used for /usr/home so good for maintaining user accounts?
-->
<p>
Utilisez <tt>adduser</tt>, <tt>addgroup</tt>, <tt>vipw</tt>, 
<tt>vipw -s</tt>, <tt>vigr</tt>, et <tt>vigr -s</tt> 
pour configurer proprement les utilisateurs et les groupes.
</sect1>

<sect1>Comment éteindre
<p>
Comme tout autre OS (NDT : Operating System, système d'exploitation) moderne
où les fichiers sont "cachés" en mémoire, Linux a besoin d'être éteint
proprement avant que le courant ne soit coupé sans danger.
Voici la commande en mode multi-utilisateur :
<example>
# shutdown -h now
</example>
Voici la commande en mode mono-utilisateur (single-user mode) :
<example>
# poweroff -i -f
</example>
Attendez jusqu'à ce que le système vous affiche "System halted" (ndt : le
système a été arrété), puis coupez le courant.  Si l'apm est activé dans le
BIOS et sous Linux, le système s'éteindra puis coupera l'alimentation par lui
même.
Voir <ref id="apm"> pour plus de détails.
</sect1>

<sect1>Édition en ligne de commande
<p>
L'interpréteur de commande (shell), <prgn>bash</prgn>, est doté d'une 
possibilité d'édition de commandes.  Utilisez simplement la flêche vers
le haut pour entrer dans l'historique, ensuite utilisez les flêches comme
vous l'entendriez.
Autres combinaisons de touches importantes à se rappeler :
<example>
Ctrl-C :                  Interrompre un programme
Ctrl-D :                  Interrompre une entrée
Ctrl-S :                  Interrompre la sortie à l'écran
Ctrl-Q :                  Réactiver la sortie à l'écran
Ctrl-Alt-Del :            Redémarrer/arrêter le système
                          (voir /etc/inittab)
Lt-click-and-drag-mouse : Sélectionner et copier dans le presse papier
                          (gpm)
Ctrl-click-mouse :        Coller le contenu du presse papier au niveau 
                          du curseur (gpm)
</example>
<p>
Sur une console Linux normale, seules les touches <tt>Ctrl</tt> gauche et
<tt>Alt</tt> fonctionnent comme on le pense.
</sect1>

<sect1>Commandes trés basiques à retenir
<p>
Ce qui suit sont les commandes de base Unix :
<example>
ls, ls -al, ls -d, pwd, cd, cd ~user, cd -, 
cat /etc/passwd, less, bg, fg, kill, killall, 
uname -a, type commandname, sync, netstat, 
ping, traceroute, top, vi, ps aux, tar, zcat, 
grep, ifconfig, ...
</example>
<p>
Cherchez leur signification en les entrant à une invite de commande ou en
tapant <tt>man</tt> ou <tt>info</tt> suivi de leur nom 
(NDT : si votre système est localisé correctement, vous 
obtiendrez de l'aide en français). Beaucoup de commandes Linux afficheront 
une aide brève si vous les invoquez de l'une des manières suivantes :
<example>
$ nomdelacommande --help
$ nomdelacommande -h
</example>
<tt>whatis <em>nomdelacommande</em></tt> donne un sommaire d'une 
ligne de n'importe quelle commande ayant une entrée dans les pages 
de manuel.
</sect1>

<sect1>Le système X Window
<p>
Pour démarrer le système X Window depuis la console:
<!-- Osamu: formal name here per request in "man 7 X" manpage -->
<example>
# exec startx
</example>
Un click droit sur la fenêtre principale (root window) affichera un menu de
sélections.
</sect1>

<sect1>Plus de touches pour se déplacer
<p>
Quelques combinaisons importantes pour la console Linux à retenir :
<example>
Alt-F1 a F6 :         Passer à d'autres pseudo-terminaux
Ctrl-Alt-F1 a F6 :    Passer à d'autre pseudo-terminaux
                      (depuis un X-window, DOSEMU, etc.)
Alt-F7 :              Retourner à X-window
Ctrl-Alt-moins :      Changer la résolution de l'écran dans X-window
Ctrl-Alt-plus :       Changer la résolution dans l'autre sens 
                      dans X-window
Ctrl-Alt-Backspace :  Arrêter X-window
Alt-X, Alt-C, Alt-V : Combinaisons de touches usuelles Windows/Mac pour
        Couper, Copier, Coller  avec la touche Ctrl- qui est remplacée 
        par ces Alt- dans certain programmes comme Netscape Composer.
</example>
</sect1>
</sect>

<sect id="mc">Midnight Commander (MC)
<p>
Midnight Commander (MC) est le "couteau Suisse armée" GNU pour la console
Linux et autres environnements de terminaux.  

<sect1>Installer MC
<p>
<example>
# apt-get install mc
</example>
Ensuite, ajoutez la fonction suivante à votre <file>~/.bashrc</file> (ou dans
<file>/etc/bash.bashrc</file>, appelé depuis le <file>.bashrc</file>).
<example>
mc ()
{
  mkdir -p ~/.mc/tmp 2&gt; /dev/null
  chmod 700 ~/.mc/tmp
  MC=~/.mc/tmp/mc-$$
  /usr/bin/mc -P "$@" &gt; "$MC"
  cd "$(cat $MC)"
  rm -f "$MC"
  unset MC;
}
</example>
Ceci autorise MC à changer de répertoire de travail avant de sortir.
<p>
Si vous utilisez un terminal, comme <prgn>kon</prgn> et <prgn>Kterm</prgn> 
pour le japonais, qui utilise certains caractères graphiques, ajouter 
<tt>-a</tt> à la ligne de commande de mc peut aider à prévenir 
quelques problèmes.
</sect1>

<sect1>Démarrer MC
<p>
<example>
$ mc
</example>
Toutes les opérations sur fichiers peuvent être effectuées depuis 
les menus de MC, requérant un effort minimal de la part de l'utilisateur.
</sect1>

<sect1>Gestionnaire de fichiers
<p>
Par défaut on a deux panneaux-répertoires contenant la liste des fichiers. 
Un autre mode utile est de configurer la fenêtre de droite sur 
"information" pour voir l'information sur le type de privilèges, etc. 
Ci-dessous, quelques raccourcis clavier essentiels. Avec le démon 
<prgn>gpm</prgn>, on peut aussi utiliser une souris. 
(Vérifiez d'avoir appuyé sur la touche Majuscule pour obtenir le
comportement normal concernant le "couper/coller" dans MC.)
<list>
<item><tt>F1</tt> : Menu d'aide
<item><tt>F3</tt> : Afficheur de fichier interne
<item><tt>F4</tt> : Éditeur interne
<item><tt>F9</tt> :  Active le menu déroulant
<item><tt>F10</tt> : Quitte Midnight Commander
<item><tt>Tab</tt> : Passe d'une fenêtre à l'autre
<item><tt>Insert</tt> : Marque le fichier pour des opérations multiples 
telles que copier
<item><tt>Del</tt> : Efface le fichier (Soyez prudent &mdash; réglez MC pour
qu'il soit en mode de sauvegarde.)
<item>Touches du curseur : Auto-explicatif
</list>
</sect1>

<sect1>Astuces en ligne de commande
<p>
<list>
<item>Toute commande <prgn>cd</prgn> changera le répertoire affiché 
à l'écran.
<item><tt>Contrôle-Entrée</tt> ou <tt>Alt-Entrée</tt> copiera un 
nom de fichier sur la ligne de commande. Utilisez ceci avec les 
commandes <prgn>cp</prgn> ou <prgn>mv</prgn> associées avec
l'édition en ligne de commande.
<item><tt>Alt-Tab</tt> affichera les différentes applications à ouvrir 
(dans un terminal) ou ouvertes, si la commande est utilisée hors d'un 
terminal (NDT : et avec un clavier configuré en français).
<item>On peut spécifier le répertoire de départ pour les deux fenêtres
comme arguments dans MC; par exemple, <tt>mc /etc /root</tt>.
<item><tt>Esc</tt> + <var>numéro de touche</var> == <tt>Fn</tt> (i.e., 
<tt>Esc</tt> + <tt>1</tt> = <tt>F1</tt>, etc.; <tt>Esc</tt> + <tt>0</tt> =
<tt>F10</tt>)
<item><tt>Esc</tt> key == <tt>Alt</tt> key (= <tt>Meta</tt>, <tt>M-</tt>); 
i.e., type <tt>Esc</tt> + <tt>c</tt> for <tt>Alt-c</tt>
</list>
</sect1>

<sect1>Éditeur
<p>
L'éditeur interne (de MC) possède une manière intéressante de procéder à un
copier-coller.
Presser la touche <tt>F3</tt> marque le début de la sélection, 
une seconde fois <tt>F3</tt> marque la fin de la sélection et met 
celle-ci en surbrillance.
Ensuite vous pouvez bouger votre curseur. 
Si vous appuyez sur <tt>F6</tt>, la zone sélectionnée sera déplacée 
jusqu'à l'endroit où se trouve le curseur. 
Si vous pressez sur <tt>F5</tt>, la zone sélectionnée sera copiée et 
insérée à l'endroit où se trouve le curseur. 
<tt>F2</tt> sauvera le fichier. 
<tt>F10</tt> vous fera quitter l'éditeur. La plupart des raccourcis 
clavier fonctionnent à l'intuition.
<p>
Cet éditeur peut être démarré directement avec un fichier chargé :
<example>
$ mc -e fichier_à_éditer
$ mcedit fichier_à_éditer
</example>
<p>
Il ne s'agit pas d'un éditeur multi-fenêtres mais on peut faire usage de
plusieurs consoles Linux pour atteindre le même effet. Pour copier d'une
fenêtre sur l'autre, utilisez les touches <tt>Alt-Fn</tt> pour basculer 
d'une console virtuelle à l'autre et utilisez "File-&gt;Insert file" ou 
"File-&gt;Copy to file" pour déplacer une portion d'un fichier dans 
un autre fichier.
<!-- Osamu: you could try "&rarr;" instead of "-&gt;" to get a right arrow
above. It's valid SGML, but I don't know if all browsers support it. 

For this version 1, let us keep it as is for consistency.  
I will think about it for version 2,  Thanks.

Anyway, PS/PDF compile is real problem
-->
<p>
Cet éditeur interne peut être remplacé par n'importe quel autre éditeur
externe de votre choix.
<p>
De plus, de nombreux programmes utilisent les variables d'environnement
<tt>EDITOR</tt> ou <tt>VISUAL</tt> pour décider quel éditeur utiliser.  Si
vous n'êtes pas à l'aise avec <tt>vim</tt>, configurez ces variables 
sur <tt>mcedit</tt> en
ajoutant ces lignes dans le fichier <file>~/.bashrc</file> :
<example>
...
export EDITOR=mcedit
export VISUAL=mcedit
...
</example>
<p>
Je recommande vraiment d'ajouter ces lignes pour <tt>vim</tt>, si 
c'est possible.
Utiliser fréquemment les commandes de vi(m) est une bonne chose à faire,
puisqu'elles sont toujours présentes dans le monde Linux/Unix.
</sect1>

<sect1>Visualisateur
<p>
MC possède un visualiseur intelligent. C'est un très bon outil pour 
chercher des mots dans des documents. Je l'utilise toujours pour lire 
les fichiers qui sont dans le répertoire <file>/usr/share/doc</file>. 
C'est la manière la plus rapide de surfer dans la masse d'informations 
sous Linux. Cet afficheur peut être
chargé directement ainsi :
<example>
$ mc -v fichier _à_voir
</example>
(Notez que certains paquets violent la politique Debian (Debian Policy) et
continuent à stocker leurs documents dans <file>/usr/doc</file>.)
</sect1>

<sect1>Possibilités de démarrage automatique
<p>
Faites <tt>Entrée</tt> sur un fichier, et le programme approprié vous montrera
le contenu du fichier. Il s'agit là d'une possibilité très utile de MC.
<example>
exécutable :            Exécute la commande
fichiers man, html :    Envoie le contenu à un visualiseur
fichiers tar, gz, rpm : Affiche le contenu comme sous-répertoire
</example>
Afin de permettre à ces possibilités de visualisation de fonctionner, les
fichiers visionnables ne doivent pas être des exécutables. 
Changez leur statut
en utilisant la commande <tt>chmod</tt> ou via le menu de  MC.
</sect1>

<sect1>Système de fichiers FTP virtuel
<p>
MC peut être utilisé pour accéder à des fichiers sur l'Internet via FTP.
Accédez au menu avec la touche <tt>F9</tt>, puis tapez <tt>p</tt> pour 
activer le système de fichiers FTP . 
Entrez une URL sous la forme <tt>username:passwd@hostname.domainname</tt>, 
ce qui permettra d'être dans un répertoire distant comme s'il était local.
</sect1>

</sect>


<sect>Étude approfondie
<p>
Il existe beaucoup de bonnes références pour débutants sur UNIX ailleurs que
sur ce site.  Les livres de l'éditeur O'Reilly sont très souvent de bons
guides dans n'importe quel domaine de l'informatique. Je recommande <em>Unix
Power Tools</em>, qui est une bonne source d'information.
<p>
<file>/usr/share/doc/HOWTO/en-txt/Tips-HOWTO.gz</file> (LDP) est une autre
source d'information à regarder.
</sect>

</chapt>
