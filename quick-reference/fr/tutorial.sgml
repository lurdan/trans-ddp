<!-- CVS revision of this document "$Revision: 1.16 $"  -->
<!-- CVS revision of original english document "1.18"  -->
<!--Line width ruler (ruler uses 78 characters)    34567890123456789012345-->

<chapt id="tutorial">Didacticiels &debian;

<p>
Cette section propose une orientation basique dans le monde Linux pour les
débutants. Si vous utilisez Linux depuis un certain temps déjà, utilisez-la
comme un inventaire.

<sect>Sources d'information
<p>
Jetez un oeil au <url id="&debiandoc;" name="Debian Documentation Project
(DDP)"> qui fait référence pour Debian.  La plupart de ces documents sont
généralement installés dans <file>/usr/share/doc/</file>.  Regardez aussi dans
<file>/usr/share/doc-base/</file>, qui offre des liens vers des documents sur
votre système.  Ajoutez <tt>export CDPATH=.:/usr/share/doc:/usr/src/local</tt>
à votre <file>~/.bash_profile</file> pour accéder facilement aux répertoires de
documentation.
<p>
Le <url id="&linuxdoc;" name="Linux Documentation Project (LDP)"> est une
référence sur Linux en général.  En principe le contenu du LDP est installé
dans <file>/usr/share/doc/HOWTO/</file>.
<p>
La navigation a travers les documents locaux ou sur des sites ftp distants se
fait en utilisant la touche <tt>F9</tt> dans Midnight Commander (voir <ref
id="mc">). 
</sect>

<sect>La console Linux

<sect1 id="login">Se connecter
<p>
Dans un système Linux ordinaire, il y a 6 pseudo-terminals indépendants.  Le
passage de l'un a l'autre se fait avec la combinaison de touches
<tt>Left-Alt</tt> et <tt>F1</tt> à <tt>F6</tt> simultanément.  Chaque
pseudo-terminal permet de se connecter de manière indépendante à vos différents
comptes. L'environnement multi-utilisateurs est une des grandes
fonctionnalités d'Unix à laquelle on devient vite accro.
<p>
Sous Unix, une bonne habitude à prendre est de se connecter en tant
qu'utilisateur ordinaire pour une utilisation normale.  Je dois admettre que
je continue a utiliser le compte du super utilisateur (root) plus qu'il ne se
doit juste à cause de son aisance et de ma négligence.
<p>
Désormais j'utilise un compte ordinaire avec les commandes <tt>sudo</tt>, 
<tt>super</tt> ou <tt>su -c</tt> pour acquérir des accès root limités.  
</sect1>

<sect1 id="newuser">Ajouter un compte utilisateur
<p>
Après l'installation du système, j'ajoute généralement un compte utilisateur
ordinaire. Si le nom d'utilisateur est «&nbsp;pingouin&nbsp;»,
<example>
# adduser pingouin
</example>
le créera.
<p>
J'utilise la commande <tt>vigr</tt> pour éditer <file>/etc/group</file>
comme cela&nbsp;:
<example>
src:x:40:admin, debian, ...
staff:x:50:admin
...
</example>
J'utilise le groupe <tt>staff</tt> pour les utilisateurs qui effectuent des
tâches administratives et ont le privilège exclusif de <prgn>su</prgn> (voir
<ref id="wheel">) et le groupe <tt>src</tt> pour CVS (voir <ref id="cvs">).
<p>
Dans le système installé par défaut, le groupe <tt>staff</tt> possède
<file>/home</file>, donc ses membres peuvent maintenir les comptes
utilisateurs. Le groupe <tt>src</tt> possède <file>/usr/src</file>, utilisé
pour compiler un noyau, etc.
<p>
Utilisez <prgn>adduser</prgn>, <prgn>addgroup</prgn>, <prgn>vipw</prgn>, 
<tt>vipw -s</tt>, <prgn>vigr</prgn>, et <tt>vigr -s</tt> 
pour configurer proprement les utilisateurs et les groupes.
</sect1>

<sect1>Comment éteindre
<p>
Comme tout autre système d'exploitation moderne
où les fichiers sont mis en cache en mémoire, Linux a besoin d'être éteint
proprement avant que le courant ne soit coupé sans danger.
Voici la commande en mode multi-utilisateur&nbsp;:
<example>
# shutdown -h now
</example>
Voici la commande en mode mono-utilisateur (single-user mode)&nbsp;:
<example>
# poweroff -i -f
</example>
Attendez jusqu'à ce que le système vous affiche «&nbsp;System halted&nbsp;»
(NdT&nbsp;: système arrêté), puis coupez le courant. Si apm est activé dans le
BIOS et sous Linux, le système s'éteindra puis coupera l'alimentation par lui
même. Voir <ref id="apm"> pour plus de détails.
</sect1>

<sect1>Édition en ligne de commande
<p>
L'interpréteur de commande (shell), <prgn>bash</prgn>, est doté d'une
possibilité d'édition de commandes.  Utilisez simplement la flèche vers le haut
pour entrer dans l'historique, ensuite utilisez les flèches comme vous
l'entendriez. Autres combinaisons de touches importantes à se rappeler&nbsp;:
<example>
Ctrl-C&nbsp;:                   Interrompre un programme
Ctrl-D&nbsp;:                   Interrompre une entrée
Ctrl-S&nbsp;:                   Interrompre la sortie à l'écran
Ctrl-Q&nbsp;:                   Réactiver la sortie à l'écran
Ctrl-Alt-Del&nbsp;:                     Redémarrer/arrêter le système (voir /etc/inittab)
Click-gauche-et-déplace-souris&nbsp;: Sélectionner et copier dans le presse-papier (gpm)
Ctrl-click-souris&nbsp;:                Coller le contenu du presse-papier au niveau du curseur (gpm)
</example>
<p>
Sur une console Linux normale, seules les touches <tt>Ctrl</tt> gauche et
<tt>Alt</tt> fonctionnent comme on le pense.
</sect1>

<sect1>Commandes de base à retenir
<p>
Ce qui suit sont les commandes de base Unix&nbsp;:
<example>
ls, ls -al, ls -d, pwd, cd, cd ~user, cd -, 
cat /etc/passwd, less, bg, fg, kill, killall, 
uname -a, type commandname, sync, netstat, 
ping, traceroute, top, vi, ps aux, tar, zcat, 
grep, ifconfig, ...
</example>
<p>
Cherchez leur signification en les entrant à une invite de commande ou en
tapant <tt>man</tt> ou <tt>info</tt> suivi de leur nom (NdT&nbsp;: si votre
système est localisé correctement, vous obtiendrez de l'aide en français).
Beaucoup de commandes Linux afficheront une aide brève si vous les invoquez de
l'une des manières suivantes&nbsp;:
<example>
$ nomdelacommande --help
$ nomdelacommande -h
</example>
<tt>whatis <em>nomdelacommande</em></tt> donne un résumé d'une 
ligne de n'importe quelle commande ayant une entrée dans les pages 
de manuel.
</sect1>

<sect1>Le système X Window
<p>
Pour démarrer le système X Window depuis la console&nbsp;:
<!-- Osamu: formal name here per request in "man 7 X" manpage -->
<example>
# exec startx
</example>
Un clic droit sur la fenêtre principale affichera un menu de sélections.
</sect1>

<sect1>Commandes importantes au clavier
<p>
Quelques combinaisons importantes pour la console Linux à retenir&nbsp;:
<example>
Alt-F1 à F6&nbsp;:         Passer à d'autres pseudo-terminaux
Ctrl-Alt-F1 à F6&nbsp;:    Passer à d'autres pseudo-terminaux
                           (depuis un X-window, DOSEMU, etc.)
Alt-F7&nbsp;:              Retourner à X-window
Ctrl-Alt-moins&nbsp;:      Changer la résolution de l'écran dans X-window
Ctrl-Alt-plus&nbsp;:       Changer la résolution dans l'autre sens 
                           dans X-window
Ctrl-Alt-Backspace&nbsp;:  Arrêter X-window
Alt-X, Alt-C, Alt-V&nbsp;: Combinaisons de touches usuelles Windows/Mac pour
        Couper, Copier, Coller  avec la touche Ctrl- qui est remplacée 
        par ces Alt- dans certain programmes comme Netscape Composer.
</example>
</sect1>
</sect>

<sect id="mc">Midnight Commander (MC)
<p>
Midnight Commander (MC) est le «&nbsp;couteau suisse&nbsp;» GNU pour la console
Linux et autres environnements de terminaux.  

<sect1>Installer MC
<p>
<example>
# apt-get install mc
</example>
Ensuite, ajoutez la fonction suivante à votre <file>~/.bashrc</file> (ou dans
<file>/etc/bash.bashrc</file>, appelé depuis le <file>.bashrc</file>).
<example>
mc ()
{
  mkdir -p ~/.mc/tmp 2&gt; /dev/null
  chmod 700 ~/.mc/tmp
  MC=~/.mc/tmp/mc-$$
  /usr/bin/mc -P "$@" &gt; "$MC"
  cd "$(cat $MC)"
  rm -f "$MC"
  unset MC;
}
</example>
Ceci autorise MC à changer de répertoire de travail avant de sortir.
<p>
Si vous utilisez un terminal, comme <prgn>kon</prgn> et <prgn>Kterm</prgn> 
pour le japonais, qui utilise certains caractères graphiques, ajouter 
<tt>-a</tt> à la ligne de commande de mc peut aider à prévenir 
quelques problèmes.
</sect1>

<sect1>Démarrer MC
<p>
<example>
$ mc
</example>
Toutes les opérations sur fichiers peuvent être effectuées depuis 
les menus de MC, moyennant un effort minimal de la part de l'utilisateur.
</sect1>

<sect1>Gestionnaire de fichiers
<p>
Par défaut on a deux panneaux contenant la liste des fichiers de répertoires. 
Un autre mode utile est de configurer la fenêtre de droite sur 
"information" pour voir l'information sur le type de privilèges, etc. 
Ci-dessous, quelques raccourcis clavier essentiels. Avec le démon 
<prgn>gpm</prgn>, on peut aussi utiliser une souris. 
(Vérifiez d'avoir appuyé sur la touche Majuscule pour obtenir le
comportement normal concernant le "couper/coller" dans MC.)
<list compact>
<item><tt>F1</tt>&nbsp;: Menu d'aide
<item><tt>F3</tt>&nbsp;: Afficheur de fichier interne
<item><tt>F4</tt>&nbsp;: Éditeur interne
<item><tt>F9</tt>&nbsp;:  Active le menu déroulant
<item><tt>F10</tt>&nbsp;: Quitte Midnight Commander
<item><tt>Tab</tt>&nbsp;: Passe d'une fenêtre à l'autre
<item><tt>Insert</tt>&nbsp;: Marque le fichier pour des opérations multiples 
telles que copier
<item><tt>Del</tt>&nbsp;: Efface le fichier (Soyez prudent &mdash; réglez MC
pour qu'il soit en mode de sauvegarde.)
<item>Touches du curseur&nbsp;: Auto-explicatif
</list>
</sect1>

<sect1>Astuces en ligne de commande
<p>
<list>
<item>Toute commande <prgn>cd</prgn> changera le répertoire affiché 
à l'écran.
<item><tt>Contrôle-Entrée</tt> ou <tt>Alt-Entrée</tt> copiera un 
nom de fichier sur la ligne de commande. Utilisez ceci avec les 
commandes <prgn>cp</prgn> ou <prgn>mv</prgn> associées avec
l'édition en ligne de commande.
<item><tt>Alt-Tab</tt> affichera les différentes applications à ouvrir 
(dans un terminal) ou ouvertes, si la commande est utilisée hors d'un 
terminal (NdT : et avec un clavier configuré en français).
<item>On peut spécifier le répertoire de départ pour les deux fenêtres
comme arguments à MC&nbsp;; par exemple, <tt>mc /etc /root</tt>.
<item><tt>Esc</tt> + <var>numéro de touche</var> == <tt>Fn</tt> (càd., 
<tt>Esc</tt> + <tt>1</tt> = <tt>F1</tt>, etc. ; <tt>Esc</tt> + <tt>0</tt> =
<tt>F10</tt>)
<item><tt>Esc</tt> key == <tt>Alt</tt> key (= <tt>Meta</tt>,
<tt>M-</tt>)&nbsp;; càd., tapez <tt>Esc</tt> + <tt>c</tt> pour <tt>Alt-c</tt>
</list>
</sect1>

<sect1 id="mcedit">Éditeur
<p>
L'éditeur interne possède une manière intéressante de procéder à un
copier-coller. Presser la touche <tt>F3</tt> marque le début de la sélection,
une seconde fois <tt>F3</tt> marque la fin de la sélection et met celle-ci en
surbrillance. Ensuite vous pouvez bouger votre curseur. Si vous appuyez sur
<tt>F6</tt>, la zone sélectionnée sera déplacée jusqu'à l'endroit où se trouve
le curseur. Si vous pressez sur <tt>F5</tt>, la zone sélectionnée sera copiée
et insérée à l'endroit où se trouve le curseur. <tt>F2</tt> sauvera le
fichier. <tt>F10</tt> vous fera quitter l'éditeur. La plupart des raccourcis
clavier fonctionnent à l'intuition.
<p>
Cet éditeur peut charger un fichier au démarrage&nbsp;:
<example>
$ mc -e fichier_à_éditer
$ mcedit fichier_à_éditer
</example>
<p>
Il ne s'agit pas d'un éditeur multi-fenêtres mais on peut faire usage de
plusieurs consoles Linux pour atteindre le même effet. Pour copier d'une
fenêtre sur l'autre, utilisez les touches <tt>Alt-Fn</tt> pour basculer d'une
console virtuelle à l'autre et utilisez «&nbsp;File-&gt;Insert file&nbsp;» ou
«&nbsp;File-&gt;Copy to file&nbsp;» pour déplacer une portion d'un fichier dans
un autre fichier.
<!-- Osamu: you could try "&rarr;" instead of "-&gt;" to get a right arrow
above. It's valid SGML, but I don't know if all browsers support it. 

For this version 1, let us keep it as is for consistency.  
I will think about it for version 2,  Thanks.

Anyway, PS/PDF compile is real problem
-->
<p>
Cet éditeur interne peut être remplacé par n'importe quel autre éditeur
externe de votre choix.
<p>
De plus, de nombreux programmes utilisent les variables d'environnement
<tt>EDITOR</tt> ou <tt>VISUAL</tt> pour décider quel éditeur utiliser. Si
vous n'êtes pas à l'aise avec <tt>vim</tt>, configurez ces variables 
sur <tt>mcedit</tt> en
ajoutant ces lignes dans le fichier <file>~/.bashrc</file>&nbsp;:
<example>
...
export EDITOR=mcedit
export VISUAL=mcedit
...
</example>
<p>
Je recommande vraiment de positionner ces variables à <tt>vim</tt>, si 
c'est possible.
Utiliser fréquemment les commandes de vi(m) est une bonne chose à faire,
puisqu'elles sont toujours présentes dans le monde Linux/Unix.
</sect1>

<sect1>Visionneur
<p>
MC possède un visionneur intelligent. C'est un très bon outil pour 
chercher des mots dans des documents. Je l'utilise toujours pour lire 
les fichiers qui sont dans le répertoire <file>/usr/share/doc</file>. 
C'est la manière la plus rapide de surfer dans la masse d'informations 
sous Linux. Ce visionneur peut être
chargé directement ainsi&nbsp;:
<example>
$ mc -v fichier _à_voir
</example>
(Notez que certains paquets violent la Charte Debian et
continuent à stocker leurs documents dans <file>/usr/doc</file>.)
</sect1>

<sect1>Possibilités de démarrage automatique
<p>
Faites <tt>Entrée</tt> sur un fichier, et le programme approprié vous montrera
le contenu du fichier. Il s'agit là d'une possibilité très utile de MC.
<example>
exécutable&nbsp;:            Exécute la commande
fichiers man, html&nbsp;:    Envoie le contenu à un visionneur
fichiers tar, gz, rpm&nbsp;: Affiche le contenu comme sous-répertoire
</example>
Afin de permettre à ces possibilités de visualisation de fonctionner, les
fichiers visionnables ne doivent pas être exécutables. Changez leur
statut en utilisant la commande <tt>chmod</tt> ou via le menu de MC.
</sect1>

<sect1>Système de fichiers FTP virtuel
<p>
MC peut être utilisé pour accéder à des fichiers sur l'Internet via FTP.
Accédez au menu avec la touche <tt>F9</tt>, puis tapez <tt>p</tt> pour 
activer le système de fichiers FTP. 
Entrez une URL sous la forme <tt>username:passwd@hostname.domainname</tt>, 
ce qui permettra d'être dans un répertoire distant comme s'il était local.
</sect1>

</sect>


<sect>Étude approfondie
<p>
Il existe beaucoup de bonnes références pour débutants sur UNIX ailleurs que
sur ce site.  Les livres de l'éditeur O'Reilly sont très souvent de bons
guides dans n'importe quel domaine de l'informatique. Le document <url
id="&tips-howto;" name="Tips-HOWTO"> du LDP est une autre source d'information
à consulter. Voir <ref id="support"> pour plus de ressources.

</sect>

</chapt>
