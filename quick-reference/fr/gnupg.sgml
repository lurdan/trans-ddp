<!-- CVS revision of this document "$Revision: 1.1 $"  -->
<!-- CVS revision of original english document "1.2"  -->
<chapt id="gnupg">GnuPG
<p>
Consultez /usr/share/doc/gnupg/README.gz pour des informations détaillées ou
lisez "man gpg".

<sect>Installer Gnu PG
<p>
Lisez le manuel de GNU privacy (dans woody, gnupg-doc).
<example>
# gpg --gen-key                         # génère une nouvelle clé
# gpg --gen-revoke my_user_ID           # génère une clé de révocation pour
					  my_user_ID
# host -l pgp.net | grep www|less       # cherche les serveurs de clés pgp
</example>
Aujourd'hui, les bons serveurs de clés sont :
<example>
# pas bon
#keyserver search.keyserver.net
# Europe _bon_ mais loin (NdT : pour l'auteur original)
#keyserver wwwkeys.eu.pgp.net
# même hôte pgp5. Devrait marcher mais paquet perdu...
#keyserver wwwkeys.us.pgp.net
#keyserver pgp.ai.mit.edu
# Bon mais commercial
keyserver certserver.pgp.com
</example>
</sect>

<sect>Utiliser GnuPG
<p>
Gestion de fichiers :
<example>
$ gpg  [options]  command  [args]
$ gpg {--armor|-a} {--sign|-s} file     # signe file dans le fichier file.asc
$ gpg --clearsign file                  # signe file sans le chiffrer
$ gpg --clearsign --not-dash-escaped patchfile  # signe sans chiffrer
						  patchfile
$ gpg --verify file                     # vérifie un fichier signé sans
					  chiffrement
$ gpg -o file.sig {-b|--detach-sign} file    # crée une signature détachée
$ gpg --verify file.sig file            # vérifie file à l'aide de file.sig
$ gpg -o crypt_file {--recipient|-r} name {--encrypt|-e} file 
                                   # chiffrement à clé publique pour le
                                   # destinataire name
$ gpg -o crypt_file {--symmetric|-c} file # chiffrement symétrique
$ gpg -o file --decrypt crypt_file      # déchiffrement
</example>
</sect>

<sect>Gérer GnuPG
<p>
Gestion des clés :
<example>
$ gpg --edit-key user_ID               # "help" pour l'aide, intéractive
$ gpg -o file --exports                # exporte toutes les clés vers le
					 fichier file
$ gpg --imports file                   # importe toutes les clés depuis un
					 fichier file
$ gpg --send-keys user_ID              # envoie la clé de user_ID vers un
					 serveur de clés
$ gpg --recv-keys user_ID              # reçoit la clé de user_ID depuis le
					 serveur de clés
$ gpg --list-keys user_ID              # liste les clés de user_ID
$ gpg --list-sigs user_ID              # liste les  signatures de user_ID
$ gpg --check-sigs user_ID             # vérifie la signature de user_ID
$ gpg --fingerprint user_ID            # vérifie l'empreinte de user_ID
$ gpg --list-sigs | grep '^sig' | grep '[User id not found]' \
  | awk '{print $2}' | sort -u | xargs gpg --recv-keys # get unknownkeys
  # met à jour les clés pour toutes les signatures inconnues
</example>
Code de confiance :
<example>
-         Pas de confiance du possesseur assignée / pas encore calculée
e         Calcul de la confiance échoué
q         Pas assez d'informations pour le calcul
n         Ne jamais faire confiance à cette clé
m         Confiance marginale
f         Confiance complète
u         Confiance ultime
</example>
</sect>

<sect>Utilisation avec Mutt
<p>
Ajoutez les instructions suivantes à ~/.muttrc pour éviter que GnuPG, qui est
lent, s'exécute automatiquement mais soit quand même utile.
<example>
macro index S ":toggle pgp_verify_sig\n"
set pgp_verify_sig=no
</example>
</sect>

</chapt>
