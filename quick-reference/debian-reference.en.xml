<?xml version="1.0"?>
<!-- -*- DocBook -*- -->
<!DOCTYPE book PUBLIC "-//OASIS//DTD DocBook XML V4.2//EN"
    "/usr/share/sgml/docbook/dtd/xml/4.2/docbookx.dtd" [
 <!ENTITY % sgml.features "IGNORE">
 <!ENTITY % xml.features  "INCLUDE">
 <!ENTITY % dbcent PUBLIC
      "-//OASIS//ENTITIES DocBook Character Entities V4.2//EN"
      "/usr/share/sgml/docbook/dtd/xml/4.2/dbcentx.mod"> %dbcent;
 <!ENTITY % commondata     SYSTEM "common.ent"      > %commondata;
 <!ENTITY % popcon         SYSTEM "popcon.ent"      > %popcon;
 <!ENTITY % datadate1      SYSTEM "datadatepop.ent" > %datadate1;
 <!ENTITY % pkgsize        SYSTEM "pkgsize.ent"     > %pkgsize;
 <!ENTITY % datadate2      SYSTEM "datadatesize.ent"> %datadate2;
 <!ENTITY % urlsdata       SYSTEM "urls.ent"        > %urlsdata;
]>
<book lang="en">
  <bookinfo>
    <title>Debian Reference</title>
    <author>
      <firstname>Osamu</firstname>
      <surname>Aoki</surname>
    </author>
    <authorinitials>OA</authorinitials>
    <abstract>
      <para>This book is free; you may redistribute it and/or modify it under the terms of the GNU General Public License of any version compliant to the Debian Free Software Guidelines (DFSG).</para>
    </abstract>
    <copyright>
      <year>2007-2009</year>
      <holder>Osamu Aoki</holder>
    </copyright>
    <legalnotice>
      <para>This Debian Reference (v2) (&build-date;) is intended to provide a broad overview of the Debian system as a post-installation user's guide. It covers many aspects of system administration through shell-command examples for non-developers.</para>
    </legalnotice>
  </bookinfo>
  <preface id="_preface">
    <title>Preface</title>
    <simpara>This <ulink url="&debianreferenceversionc;">Debian Reference (version 2)</ulink> (&build-date;) is intended to provide a broad overview of Debian system administration as a post-installation user guide.</simpara>
    <simpara>The target reader is someone who is willing to learn shell scripts but who is not ready to read all the C sources to figure out how the <ulink url="&gnu;">GNU</ulink>/<ulink url="&linux;">Linux</ulink> system works.</simpara>
    <section id="_disclaimer">
      <title>Disclaimer</title>
      <simpara>All warranties are disclaimed.  All trademarks are property of their respective trademark owners.</simpara>
      <simpara>The Debian system itself is a moving target.  This makes its documentation difficult to be current and correct.  Although the current unstable version of Debian system was used as the basis for writing this, some contents may be already outdated by the time you read this.</simpara>
      <simpara>Please treat this document as the secondary reference. This document does not replace any authoritative guides. The author and contributors do not take responsibility for consequences of errors, omissions or ambiguity in this document.</simpara>
    </section>
    <section id="_what_is_debian">
      <title>What is Debian</title>
      <simpara>The <ulink url="&debianproject;">Debian Project</ulink> is an association of individuals who have made common cause to create a free operating system.  It's distribution is characterized by the following.</simpara>
      <itemizedlist>
        <listitem>
          <simpara>
Commitment to the software freedom: <ulink url="&debiansocialcontreguidelinesdfsg;">Debian Social Contract and Debian Free Software Guidelines (DFSG)</ulink>
</simpara>
        </listitem>
        <listitem>
          <simpara>
Internet based distributed unpaid volunteer effort: <ulink url="&httpwwwdebianorg;">http://www.debian.org</ulink>
</simpara>
        </listitem>
        <listitem>
          <simpara>
Large number of pre-compiled high quality softwares
</simpara>
        </listitem>
        <listitem>
          <simpara>
Focus on stability and security with easy access to the security updates
</simpara>
        </listitem>
        <listitem>
          <simpara>
Focus on smooth upgrade to latest softwares with <literal>unstable</literal> and <literal>testing</literal> archives
</simpara>
        </listitem>
        <listitem>
          <simpara>
Large number of supported hardware architectures
</simpara>
        </listitem>
      </itemizedlist>
      <simpara>Free Software pieces in Debian come from <ulink url="&gnu;">GNU</ulink>, <ulink url="&linux;">Linux</ulink>, <ulink url="&bsd;">BSD</ulink>, <ulink url="&x;">X</ulink>, <ulink url="&isc;">ISC</ulink>, <ulink url="&apache;">Apache</ulink>, <ulink url="&ghostscript;">Ghostscript</ulink>, <ulink url="&commonunixprintingsystem;">Common Unix Printing System </ulink>, <ulink url="&samba;">Samba</ulink>, <ulink url="&gnome;">GNOME</ulink>, <ulink url="&kde;">KDE</ulink>, <ulink url="&mozilla;">Mozilla</ulink>, <ulink url="&openofficeorg;">OpenOffice.org</ulink>, <ulink url="&vim;">Vim</ulink>, <ulink url="&tex;">TeX</ulink>, <ulink url="&latex;">LaTeX</ulink>, <ulink url="&docbook;">DocBook</ulink>, <ulink url="&perl;">Perl</ulink>, <ulink url="&python;">Python</ulink>, <ulink url="&tcl;">Tcl</ulink>, <ulink url="&java;">Java</ulink>, <ulink url="&ruby;">Ruby</ulink>, <ulink url="&php;">PHP</ulink>, <ulink url="&berkeleydb;">Berkeley DB</ulink>, <ulink url="&mysql;">MySQL</ulink>, <ulink url="&postgresql;">PostgreSQL</ulink>, <ulink url="&exim;">Exim</ulink>, <ulink url="&postfix;">Postfix</ulink>, <ulink url="&mutt;">Mutt</ulink>, <ulink url="&freebsd;">FreeBSD</ulink>, <ulink url="&openbsd;">OpenBSD</ulink>, <ulink url="&planj;">Plan 9</ulink> and many more independent free software projects.  Debian integrates this diversity of Free Software into one system.</simpara>
    </section>
    <section id="_about_this_document">
      <title>About this document</title>
      <section id="_guiding_rules">
        <title>Guiding rules</title>
        <simpara>Following guiding rules are followed while compiling this document.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
Provide overview and skip corner cases. (<emphasis role="strong">Big Picture</emphasis>)
</simpara>
          </listitem>
          <listitem>
            <simpara>
Keep It Short and Simple. (<emphasis role="strong">KISS</emphasis>)
</simpara>
          </listitem>
          <listitem>
            <simpara>
Do not reinvent the wheel. (Use pointers to <emphasis role="strong">the existing references</emphasis>)
</simpara>
          </listitem>
          <listitem>
            <simpara>
Focus on non-GUI tools and consoles. (Use <emphasis role="strong">shell examples</emphasis>)
</simpara>
          </listitem>
          <listitem>
            <simpara>
Be objective. (Use <ulink url="&popcon;">popcon</ulink> etc.)
</simpara>
          </listitem>
        </itemizedlist>
        <tip>
          <simpara>I tried to elucidate hierarchical aspects and lower levels of the system.</simpara>
        </tip>
      </section>
      <section id="_prerequisites">
        <title>Prerequisites</title>
        <warning>
          <simpara>You are expected to make good efforts to seek answers by yourself beyond this documentation.  This document only gives efficient starting points.</simpara>
        </warning>
        <simpara>You must seek solution by yourself from primary sources.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
The Debian site at <ulink url="&httpwwwdebianorg;">http://www.debian.org</ulink> for the general information
</simpara>
          </listitem>
          <listitem>
            <simpara>
The documentation under the "<literal>/usr/share/doc/&lt;package_name&gt;</literal>" directory
</simpara>
          </listitem>
          <listitem>
            <simpara>
The Unix style <emphasis role="strong">manpage</emphasis>: "<literal>dpkg -L &lt;package_name&gt; |grep '/man/man.*/'</literal>"
</simpara>
          </listitem>
          <listitem>
            <simpara>
The GNU style <emphasis role="strong">info page</emphasis>: "<literal>dpkg -L &lt;package_name&gt; |grep '/info/'</literal>"
</simpara>
          </listitem>
          <listitem>
            <simpara>
The bug report: <ulink url="&httpbugsdebianorgpackage_name;">http://bugs.debian.org/&lt;package_name&gt;</ulink>
</simpara>
          </listitem>
          <listitem>
            <simpara>
The Debian Wiki at <ulink url="&httpwikidebianorg;">http://wiki.debian.org/</ulink> for the moving and specific topics
</simpara>
          </listitem>
          <listitem>
            <simpara>
The HOWTOs from The Linux Documentation Project (TLDP) at <ulink url="&httptldporg;">http://tldp.org/</ulink>
</simpara>
          </listitem>
          <listitem>
            <simpara>
The Single UNIX Specification from the Open Group's The UNIX System Home Page at <ulink url="&httpwwwunixorg;">http://www.unix.org/</ulink>
</simpara>
          </listitem>
          <listitem>
            <simpara>
The free encyclopedia from Wikipedia at <ulink url="&httpwikipediaorg;">http://wikipedia.org/</ulink>
</simpara>
          </listitem>
        </itemizedlist>
        <note>
          <simpara>For detailed documentation, you may need to install the corresponding documentation package named with "<literal>-doc</literal>" as its suffix.</simpara>
        </note>
      </section>
      <section id="_conventions">
        <title>Conventions</title>
        <simpara>This document provides information through the following simplified presentation style with <literal>bash</literal>(1) shell command examples.</simpara>
        <screen># &lt;command in root account&gt;
$ &lt;command in user account&gt;</screen>
        <simpara>These shell prompts distinguish account used and correspond to set environment variables as: "<literal>PS1='\$'</literal>" and "<literal>PS2=' '</literal>".  These values are chosen for the sake of readability of this document and are not typical on actual installed system.</simpara>
        <note>
          <simpara>See the meaning of the "<literal>$PS1</literal>" and "<literal>$PS2</literal>" environment variables in <literal>bash</literal>(1).</simpara>
        </note>
        <simpara><emphasis role="strong">Action</emphasis> required by the system administrator is written in the imperative sentence, e.g. "Type Enter-key after typing each command string to the shell."</simpara>
        <simpara>The <emphasis role="strong">description</emphasis> column and similar ones in the table may contain a <emphasis role="strong">noun phrase</emphasis> following <ulink url="&thepackageshortdiptionconvention;">the package short description convention</ulink> which drops leading articles such as "a" and "the".  They may alternatively contain an infinitive phrase as a <emphasis role="strong">noun phrase</emphasis> without leading "to" following the short command description convention in manpages.  These may look funy to some people but are my intentional choices of style to keep this documentation as simple as possible.  These <emphasis role="strong">Noun phrases</emphasis> do not capitalize their startings nor end with periods following theese short description convention.</simpara>
        <note>
          <simpara>Proper nouns including command names keeps their case irrespective of their location.</simpara>
        </note>
        <simpara>A <emphasis role="strong">command snippet</emphasis> quoted in a text paragraph is referred by the typewriter font between double quotation marks, such as "<literal>aptitude safe-upgrade</literal>".</simpara>
        <simpara>A <emphasis role="strong">text data</emphasis> from a configuration file quoted in a text paragraph is referred by the typewriter font between double quotation marks, such as "<literal>deb-src</literal>".</simpara>
        <simpara>A <emphasis role="strong">command</emphasis> is referred by its name in the typewriter font optionally followed by its manpage section number in parenthesis, such as <literal>bash</literal>(1).  You are encouraged to obtain information by typing the following.</simpara>
        <screen>$ man 1 bash</screen>
        <simpara>A <emphasis role="strong">manpage</emphasis> is referred by its name in the typewriter font followed by its manpage section number in parenthesis, such as <literal>sources.list</literal>(5).   You are encouraged to obtain information by typing the following.</simpara>
        <screen>$ man 5 sources.list</screen>
        <simpara>An <emphasis role="strong">info page</emphasis> is referred by its command snippet in the typewriter font between double quotation marks, such as "<literal>info make</literal>".  You are encouraged to obtain information by typing the following.</simpara>
        <screen>$ info make</screen>
        <simpara>A <emphasis role="strong">filename</emphasis> is referred by the typewriter font between double quotation marks, such as "<literal>/etc/passwd</literal>".  For configuration files, you are encouraged to obtain information by typing the following.</simpara>
        <screen>$ sensible-pager "/etc/passwd"</screen>
        <simpara>A <emphasis role="strong">directory name</emphasis> is referred by the typewriter font between double quotation marks, such as "<literal>/etc/init.d/</literal>".  You are encouraged to explore its contents by typing the following.</simpara>
        <screen>$ mc "/etc/init.d/"</screen>
        <simpara>A <emphasis role="strong">package name</emphasis> is referred by its name in the typewriter font, such as <literal>vim</literal>.  You are encouraged to obtain information by typing the following.</simpara>
        <screen>$ dpkg -L vim
$ apt-cache show vim
$ aptitude show vim</screen>
        <simpara>A <emphasis role="strong">documentation</emphasis> may indicate its location by the filename in the typewriter font between double quotation marks, such as "<literal>/usr/share/doc/sysv-rc/README.runlevels.gz</literal>" and "<literal>/usr/share/doc/base-passwd/users-and-groups.html</literal>"; or by its <ulink url="&url;">URL</ulink>, such as <ulink url="&httpwwwdebianorg;">http://www.debian.org</ulink>.  You are encouraged to read the documentation by typing the following.</simpara>
        <screen>$ zcat "/usr/share/doc/sysv-rc/README.runlevels.gz" | sensible-pager
$ sensible-browser "/usr/share/doc/base-passwd/users-and-groups.html"
$ sensible-browse "http://www.debian.org"</screen>
        <simpara>An <emphasis role="strong">environment variable</emphasis> is referred by its name with leading "<literal>$</literal>" in the typewriter font between double quotation marks, such as "<literal>$TERM</literal>".  You are encouraged to obtain its current value by typing the following.</simpara>
        <screen>$ echo "$TERM"</screen>
      </section>
      <section id="_debian_bts">
        <title>Debian BTS</title>
        <simpara>Astarisk "*" placed right after each package name is linked to <ulink url="&debianbugtrackingsystembts;">Debian bug tracking system (BTS)</ulink> of each package.</simpara>
      </section>
      <section id="_the_popcon">
        <title>The popcon</title>
        <simpara>The <ulink url="&popcon;">popcon</ulink> data is presented as the objective measure for the popularity of each package.  It was downloaded on &pop-date; and contains the total submission of &pop-submissions; reports over &pop-packages; binary packages and &pop-architectures; architectures.</simpara>
        <note>
          <simpara>Please note that the <literal>&arch;</literal> <literal>unstable</literal> archive contains only &all-packages; packages currently.  The popcon data contains reports from many old system installations.</simpara>
        </note>
        <simpara>The popcon number preceded with "V:" for "votes" is calculated by "100 * (the popcon submissions for the package executed recently on the PC)/(the total popcon submissions)".</simpara>
        <simpara>The popcon number preceded with "I:"  for "installs" is calculated by "100 * (the popcon submissions for the package installed on the PC)/(the total popcon submissions)".</simpara>
        <note>
          <simpara>The popcon figures should not be considered as absolute measures of the importance of packages.  There are many factors which can skew statistics.  For example, some system participating popcon may have mounted directories such as "<literal>/bin</literal>" with "<literal>noatime</literal>" option for system performance improvement and effectively disabled "vote" from such system.</simpara>
        </note>
      </section>
      <section id="_the_package_size">
        <title>The package size</title>
        <simpara>The package size data is also presented as the objective measure for each package.  It is based on the "<literal>Installed-Size:</literal>" reported by "<literal>apt-cache show</literal>" or "<literal>aptitude show</literal>" command (currently on <literal>&arch;</literal> architecture for the <literal>unstable</literal> release).  The reported size is in KiB (<ulink url="&kibibyte;">Kibibyte</ulink> = unit for 1024 bytes).</simpara>
        <note>
          <simpara>A package with a small numerical package size may indicate that the package in the <literal>unstable</literal> release is a dummy package which installs other packages with significant contents by the dependency.  The dummy package enables a smooth transition or split of the package.</simpara>
        </note>
        <note>
          <simpara>A package size followed by "(*)" indicates that the package in the <literal>unstable</literal> release is missing and the package size for the <literal>experimental</literal> release is used instead.</simpara>
        </note>
      </section>
      <section id="_bug_reports_on_this_document">
        <title>Bug reports on this document</title>
        <simpara>Please file bug reports on the <literal>debian-reference</literal> package using <literal>reportbug</literal>(1) if you find any issues on this document. Please include correction suggestion by "<literal>diff -u</literal>" to the plain text version or to the source.</simpara>
      </section>
    </section>
    <section id="_some_quotes_for_new_users">
      <title>Some quotes for new users</title>
      <simpara>Here are some interesting quotes from the Debian mailing list which may help enlighten new users.</simpara>
      <itemizedlist>
        <listitem>
          <simpara>
"This is Unix.  It gives you enough rope to hang yourself."  --- Miquel van Smoorenburg <literal>&lt;miquels at cistron.nl&gt;</literal>
</simpara>
        </listitem>
        <listitem>
          <simpara>
"Unix IS user friendly…  It's just selective about who its friends are." --- Tollef Fog Heen <literal>&lt;tollef at add.no&gt;</literal>
</simpara>
        </listitem>
      </itemizedlist>
    </section>
  </preface>
  <chapter id="_gnu_linux_tutorials">
    <title>GNU/Linux tutorials</title>
    <simpara>I think learning a computer system is like learning a new foreign language.  Although tutorial books and documentation are helpful, you have to practice it yourself.  In order to help you get started smoothly, I will elaborate a few basic points.</simpara>
    <simpara>The powerful design of <ulink url="&debian;">Debian</ulink> <ulink url="&gnu;">GNU</ulink>/<ulink url="&linux;">Linux</ulink> comes from the <ulink url="&unix;">Unix</ulink> operating system, i.e., a <ulink url="&multiuser;">multiuser</ulink>, <ulink url="&multitasking;">multitasking</ulink> operating system.  You must learn to take advantage of the power of these features and similarities between Unix and GNU/Linux.</simpara>
    <simpara>Don't shy away from Unix oriented texts and don't rely solely on GNU/Linux texts, as this will rob you of much useful information.</simpara>
    <simpara>"<ulink url="&ruteuserstutorialandexposition;">Rute User's Tutorial and Exposition</ulink>", in the Debian non-free archive as the <literal>rutebook</literal> package (popcon: &pop-rutebook;), provides a good online resource to the generic system administration.</simpara>
    <note>
      <simpara>If you have been using any <ulink url="&unixlike;">Unix-like</ulink> system for a while with command line tools, you probably know everything I explain here.  Please use this as a reality check and refresher.</simpara>
    </note>
    <section id="_console_basics">
      <title>Console basics</title>
      <section id="_the_shell_prompt">
        <title>The shell prompt</title>
        <simpara>Upon starting the system, you are presented with the character based login screen if you did not install <ulink url="&xwindowsystem;">X Window System</ulink> with the display manager such as <literal>gdm</literal>. Suppose your hostname is <literal>foo</literal>, the login prompt looks as follows.</simpara>
        <screen>foo login:</screen>
        <simpara>If you did install a <ulink url="&gui;">GUI</ulink> environment such as <ulink url="&gnome;">GNOME</ulink> or <ulink url="&kde;">KDE</ulink>, then you can get to a login prompt by Ctrl-Alt-F1, and you can return to the GUI environment via Alt-F7 (see <xref linkend="_virtual_consoles"/> below for more).</simpara>
        <simpara>At the login prompt, you type your username, e.g. <literal>penguin</literal>, and press the Enter-key, then type your password and press the Enter-key again.</simpara>
        <note>
          <simpara>Following the Unix tradition, the username and password of the Debian system are case sensitive.  The username is usually chosen only from the lowercase.  The first user account is usually created during the installation.  Additional user accounts can be created with <literal>adduser</literal>(8) by root.</simpara>
        </note>
        <simpara>The system starts with the greeting message stored in "<literal>/etc/motd</literal>" (Message Of The Day) and presents a command prompt.</simpara>
        <screen>Debian GNU/Linux lenny/sid foo tty1
foo login: penguin
Password:
Last login: Sun Apr 22 09:29:34 2007 on tty1
Linux snoopy 2.6.20-1-amd64 #1 SMP Sun Apr 15 20:25:49 UTC 2007 x86_64

The programs included with the Debian GNU/Linux system are free software;
the exact distribution terms for each program are described in the
individual files in /usr/share/doc/*/copyright.

Debian GNU/Linux comes with ABSOLUTELY NO WARRANTY, to the extent
permitted by applicable law.
foo:~$</screen>
        <simpara>Here, the main part of the greeting message can be customized by editing the "<literal>/etc/motd.tail</literal>" file. The first line is generated from the system information using "<literal>uname -snrvm</literal>".</simpara>
        <simpara>Now you are in the <ulink url="&shell;">shell</ulink>. The shell interprets your commands.</simpara>
      </section>
      <section id="_the_shell_prompt_under_x">
        <title>The shell prompt under X</title>
        <simpara>If you installed <ulink url="&xwindowsystem;">X Window System</ulink> with a display manager such as <ulink url="&gnome;">GNOME</ulink>'s <literal>gdm</literal> by selecting "Desktop environment" task during the installation, you will be presented with the graphical login screen upon starting your system.  You type your username and your password to login to the non-privileged user account.  Use tab to navigate between username and password, or use the mouse and primary click.</simpara>
        <simpara>You can gain the shell prompt under X by starting a <literal>x-terminal-emulator</literal> program such as <literal>gnome-terminal</literal>(1), <literal>rxvt</literal>(1) or <literal>xterm</literal>(1).  Under the GNOME Desktop environment, clicking "Applications" → "Accessories" → "Terminal" does the trick.</simpara>
        <simpara>You can also see the section below <xref linkend="_virtual_consoles"/>.</simpara>
        <simpara>Under some other Desktop systems (like <literal>fluxbox</literal>), there may be no obvious starting point for the menu.  If this happens, just try (right) clicking the center of the screen and hope for a menu to pop-up.</simpara>
      </section>
      <section id="_the_root_account">
        <title>The root account</title>
        <simpara>The root account is also called <ulink url="&superuser;">superuser</ulink> or privileged user.  From this account, you can perform the following system administration tasks.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
Read, write, and remove any files on the system irrespective of their file permissions
</simpara>
          </listitem>
          <listitem>
            <simpara>
Set file ownership and permissions of any files on the system
</simpara>
          </listitem>
          <listitem>
            <simpara>
Set the password of any non-privileged users on the system
</simpara>
          </listitem>
          <listitem>
            <simpara>
Login to any accounts without their passwords
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>This unlimited power of root account requires you to be considerate and responsible when using it.</simpara>
        <warning>
          <simpara>Never share the root password with others.</simpara>
        </warning>
        <note>
          <simpara>File permissions of a file (including hardware devices such as CD-ROM etc. which are just another file for the Debian system) may render it unusable or inaccessible by non-root users.  Although the use of root account is a quick way to test this kind of situation, its resolution should be done through proper setting of file permissions and user's group membership (see <xref linkend="_filesystem_permissions"/>).</simpara>
        </note>
      </section>
      <section id="_the_root_shell_prompt">
        <title>The root shell prompt</title>
        <simpara>Here are a few basic methods to gain the root shell prompt by using the root password.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
Type <literal>root</literal> at the character based login prompt.
</simpara>
          </listitem>
          <listitem>
            <simpara>
Click "Applications" → "Accessories" → "Root Terminal", under the GNOME Desktop environment.
</simpara>
          </listitem>
          <listitem>
            <simpara>
Type "<literal>su -l</literal>" from any user shell prompt.
</simpara>
            <itemizedlist>
              <listitem>
                <simpara>
This does not preserve the environment of the current user.
</simpara>
              </listitem>
            </itemizedlist>
          </listitem>
          <listitem>
            <simpara>
Type "<literal>su</literal>" from any user shell prompt.
</simpara>
            <itemizedlist>
              <listitem>
                <simpara>
This preserves some of the environment of the current user.
</simpara>
              </listitem>
            </itemizedlist>
          </listitem>
        </itemizedlist>
      </section>
      <section id="_gui_system_administration_tools">
        <title>GUI system administration tools</title>
        <simpara>When your desktop menu does not start GUI system administration tools automatically with the appropriate privilege, you can start them from the root shell prompt of the X terminal emulator, such as <literal>gnome-terminal</literal>(1), <literal>rxvt</literal>(1), or <literal>xterm</literal>(1). See <xref linkend="_the_root_shell_prompt"/> and <xref linkend="_running_x_clients_as_root"/>.</simpara>
        <warning>
          <simpara>Never start the X display/session manager under the root account by typing in <literal>root</literal> to the prompt of the display manager such as <literal>gdm</literal>(1).</simpara>
        </warning>
        <warning>
          <simpara>Never run untrusted remote GUI program under X Window when critical information is displayed since it may eavesdrop your X screen.</simpara>
        </warning>
      </section>
      <section id="_virtual_consoles">
        <title>Virtual consoles</title>
        <simpara>In the default Debian system, there are six switchable <ulink url="&vtbaalike;">VT100-like</ulink> character consoles available to start the command shell directly on the Linux host.  Unless you are in a GUI environment, you can switch between the virtual consoles by pressing the <literal>Left-Alt-key</literal> and one of the <literal>F1</literal> — <literal>F6</literal> keys simultaneously.  Each character console allows independent login to the account and offers the multiuser environment.  This multiuser environment is a great Unix feature, and very addictive.</simpara>
        <simpara>If you are under the X Window System, you gain access to the character console 1 by pressing <literal>Ctrl-Alt-F1</literal> key, i.e., the <literal>left-Ctrl-key</literal>, the <literal>left-Alt-key</literal>, and the <literal>F1-key</literal> are pressed together.   You can get back to the X Window System, normally running on the virtual console 7, by pressing <literal>Alt-F7</literal>.</simpara>
        <simpara>You can alternatively change to another virtual console, e.g. to the console 1, from the commandline.</simpara>
        <screen># chvt 1</screen>
      </section>
      <section id="_how_to_leave_the_command_prompt">
        <title>How to leave the command prompt</title>
        <simpara>You type <literal>Ctrl-D</literal>, i.e., the <literal>left-Ctrl-key</literal> and the <literal>d-key</literal> pressed together, at the command prompt to close the shell activity.  If you are at the character console, you will return to the login prompt with this.  Even though these control characters are referred as "control D" with the upper case, you do not need to press the Shift-key. The short hand expression, <literal>^D</literal>, is also used for <literal>Ctrl-D</literal>.  Alternately, you can type "exit".</simpara>
        <simpara>If you are at <literal>x-terminal-emulator</literal>(1), you can close <literal>x-terminal-emulator</literal> window with this.</simpara>
      </section>
      <section id="_how_to_shutdown_the_system">
        <title>How to shutdown the system</title>
        <simpara>Just like any other modern OS where the file operation involves <ulink url="&cachingdata;">caching data</ulink> in memory for improved performance, the Debian system needs the proper shutdown procedure before power can safely be turned off. This is to maintain the integrity of files, by forcing all changes in memory to be written to disk. If the software power control is available, the shutdown procedure automatically turns off power of the system. (Otherwise, you may have to press power button for few seconds after the shutdown procedure.)</simpara>
        <simpara>You can shutdown the system under the normal multiuser mode from the commandline.</simpara>
        <screen># shutdown -h now</screen>
        <simpara>You can shutdown the system under the single-user mode from the commandline.</simpara>
        <screen># poweroff -i -f</screen>
        <simpara>Alternatively, you may type <literal>Ctrl-Alt-Delete</literal> (The <literal>left-Ctrl-key</literal>, the <literal>left-Alt-Key</literal>, and the <literal>Delete</literal> are pressed together) to shutdown if "<literal>/etc/inittab</literal>" contains "<literal>ca:12345:ctrlaltdel:/sbin/shutdown -t1 -a -h now</literal>" in it.  See <literal>inittab</literal>(5) for details.</simpara>
      </section>
      <section id="_recovering_a_sane_console">
        <title>Recovering a sane console</title>
        <simpara>When the screen goes berserk after doing some funny things such as "<literal>cat &lt;some-binary-file&gt;</literal>", type "<literal>reset</literal>" at the command prompt. You may not be able to see the command echoed as you type.  You may also issue "<literal>clear</literal>" to clean up the screen.</simpara>
      </section>
      <section id="_additional_package_suggestions_for_the_newbie">
        <title>Additional package suggestions for the newbie</title>
        <simpara>Although even the minimal installation of the Debian system without any desktop environment tasks provides the basic Unix functionality, it is a good idea to install few additional commandline and curses based character terminal packages such as <literal>mc</literal> and <literal>vim</literal> with <literal>aptitude</literal>(8) for beginners to get started by the following.</simpara>
        <screen># aptitude update
 ...
# aptitude install mc vim sudo
 ...</screen>
        <simpara>If you already had these packages installed, nothing will be installed.</simpara>
        <table id="listofinterestineprogrampackages" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of interesting text-mode program packages</title>
          <tgroup cols="4">
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="40%*" align="left"/>
            <thead>
              <row>
                <entry>
    package
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    size
    </entry>
                <entry>
    description
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/mc">
                  <literal>mc</literal>
                </ulink> <ulink url="http://bugs.debian.org/mc">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=mc">&pop-mc;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/m/mc.html">&size-mc;</ulink></entry>
                <entry>
    A text-mode full-screen file manager
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/sudo">
                  <literal>sudo</literal>
                </ulink> <ulink url="http://bugs.debian.org/sudo">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=sudo">&pop-sudo;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/s/sudo.html">&size-sudo;</ulink></entry>
                <entry>
    A program to allow limited root privileges to users
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/vim">
                  <literal>vim</literal>
                </ulink> <ulink url="http://bugs.debian.org/vim">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=vim">&pop-vim;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/v/vim.html">&size-vim;</ulink></entry>
                <entry>
    Unix text editor Vi IMproved, a programmers text editor (standard version)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/vim-tiny">
                  <literal>vim-tiny</literal>
                </ulink> <ulink url="http://bugs.debian.org/vim-tiny">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=vim-tiny">&pop-vimtiny;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/v/vim-tiny.html">&size-vimtiny;</ulink></entry>
                <entry>
    Unix text editor Vi IMproved, a programmers text editor (compact version)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/emacs21">
                  <literal>emacs21</literal>
                </ulink> <ulink url="http://bugs.debian.org/emacs21">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=emacs21">&pop-emacscb;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/e/emacs21.html">&size-emacscb;</ulink></entry>
                <entry>
    GNU project Emacs, the Lisp based extensible text editor (version 21)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/emacs22">
                  <literal>emacs22</literal>
                </ulink> <ulink url="http://bugs.debian.org/emacs22">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=emacs22">&pop-emacscc;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/e/emacs22.html">&size-emacscc;</ulink></entry>
                <entry>
    GNU project Emacs, the Lisp based extensible text editor (version 22)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/w3m">
                  <literal>w3m</literal>
                </ulink> <ulink url="http://bugs.debian.org/w3m">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=w3m">&pop-wdm;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/w/w3m.html">&size-wdm;</ulink></entry>
                <entry>
    Text-mode WWW browsers
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/gpm">
                  <literal>gpm</literal>
                </ulink> <ulink url="http://bugs.debian.org/gpm">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=gpm">&pop-gpm;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/g/gpm.html">&size-gpm;</ulink></entry>
                <entry>
    The Unix style cut-and-paste on the text console (daemon)
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>It may be a good idea to read some informative documentations.</simpara>
        <table id="listofinformativentationpackages" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of informative documentation packages</title>
          <tgroup cols="4">
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="40%*" align="left"/>
            <thead>
              <row>
                <entry>
    package
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    size
    </entry>
                <entry>
    description
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/doc-debian">
                  <literal>doc-debian</literal>
                </ulink> <ulink url="http://bugs.debian.org/doc-debian">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=doc-debian">&pop-docdebian;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/d/doc-debian.html">&size-docdebian;</ulink></entry>
                <entry>
    Debian Project documentation, (Debian FAQ) and other documents
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/debian-policy">
                  <literal>debian-policy</literal>
                </ulink> <ulink url="http://bugs.debian.org/debian-policy">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=debian-policy">&pop-debianpolicy;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/d/debian-policy.html">&size-debianpolicy;</ulink></entry>
                <entry>
    Debian Policy Manual and related documents
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/developers-reference">
                  <literal>developers-reference</literal>
                </ulink> <ulink url="http://bugs.debian.org/developers-reference">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=developers-reference">&pop-developersreference;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/d/developers-reference.html">&size-developersreference;</ulink></entry>
                <entry>
    Guidelines and information for Debian developers
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/maint-guide">
                  <literal>maint-guide</literal>
                </ulink> <ulink url="http://bugs.debian.org/maint-guide">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=maint-guide">&pop-maintguide;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/m/maint-guide.html">&size-maintguide;</ulink></entry>
                <entry>
    Debian New Maintainers' Guide
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/debian-history">
                  <literal>debian-history</literal>
                </ulink> <ulink url="http://bugs.debian.org/debian-history">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=debian-history">&pop-debianhistory;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/d/debian-history.html">&size-debianhistory;</ulink></entry>
                <entry>
    History of the Debian Project
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/debian-faq">
                  <literal>debian-faq</literal>
                </ulink> <ulink url="http://bugs.debian.org/debian-faq">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=debian-faq">&pop-debianfaq;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/d/debian-faq.html">&size-debianfaq;</ulink></entry>
                <entry>
    Debian FAQ
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/doc-linux-text">
                  <literal>doc-linux-text</literal>
                </ulink> <ulink url="http://bugs.debian.org/doc-linux-text">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=doc-linux-text">&pop-doclinuxtext;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/d/doc-linux-text.html">&size-doclinuxtext;</ulink></entry>
                <entry>
    Linux HOWTOs and FAQ (text)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/doc-linux-html">
                  <literal>doc-linux-html</literal>
                </ulink> <ulink url="http://bugs.debian.org/doc-linux-html">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=doc-linux-html">&pop-doclinuxhtml;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/d/doc-linux-html.html">&size-doclinuxhtml;</ulink></entry>
                <entry>
    Linux HOWTOs and FAQ (html)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/sysadmin-guide">
                  <literal>sysadmin-guide</literal>
                </ulink> <ulink url="http://bugs.debian.org/sysadmin-guide">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=sysadmin-guide">&pop-sysadminguide;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/s/sysadmin-guide.html">&size-sysadminguide;</ulink></entry>
                <entry>
    The Linux System Administrators' Guide
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/rutebook">
                  <literal>rutebook</literal>
                </ulink> <ulink url="http://bugs.debian.org/rutebook">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=rutebook">&pop-rutebook;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/r/rutebook.html">&size-rutebook;</ulink></entry>
                <entry>
    Linux: Rute User's Tutorial and Exposition (non-free)
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>You can install some of these packages by the following.</simpara>
        <screen># aptitude install package_name</screen>
      </section>
      <section id="_an_extra_user_account">
        <title>An extra user account</title>
        <simpara>If you do not want to use your main user account for the following training activities, you can create a training user account, e.g. <literal>fish</literal> by the following.</simpara>
        <screen># adduser fish</screen>
        <simpara>Answer all questions.</simpara>
        <simpara>This creates a new account named as <literal>fish</literal>.  After your practice, you can remove this user account and its home directory by the following.</simpara>
        <screen># deluser --remove-home fish</screen>
      </section>
      <section id="_sudo_configuration">
        <title>sudo configuration</title>
        <simpara>For the typical single user workstation such as the desktop Debian system on the laptop PC, it is common to deploy simple configuration of <literal>sudo</literal>(8) as follows to let the non-privileged user, e.g. <literal>penguin</literal>, to gain administrative privilege just with his user password but without the root password.</simpara>
        <screen># echo "penguin  ALL=(ALL) ALL" &gt;&gt; /etc/sudoers</screen>
        <simpara>This trick should only be used for the single user workstation which you administer and where you are the only user.</simpara>
        <warning>
          <simpara>Do not set up accounts of regular users on multiuser workstation like this because it would be very bad for system security.</simpara>
        </warning>
        <caution>
          <simpara>The password and the account of the <literal>penguin</literal> in the above example requires as much protection as the root password and the root account.</simpara>
        </caution>
        <caution>
          <simpara>Administrative privilege in this context belongs to someone authorized to perform the system administration task on the workstation.  Never give some manager in the Admin department of your company or your boss such privilege unless they are authorized and capable.</simpara>
        </caution>
        <note>
          <simpara>For providing access privilege to limited devices and limited files, you should consider to use <emphasis role="strong">group</emphasis> to provide limited access instead of using the <literal>root</literal> privilege via <literal>sudo</literal>(8).</simpara>
        </note>
        <note>
          <simpara>With more thoughtful and careful configuration, <literal>sudo</literal>(8) can grant limited administrative privileges to other users on a shared system without sharing the root password.  This can help with accountability with hosts with multiple administrators so you can tell who did what.  On the other hand, you might not want anyone else to have such privileges.</simpara>
        </note>
      </section>
      <section id="_play_time">
        <title>Play time</title>
        <simpara>Now you are ready to play with the Debian system without risks as long as you use the non-privileged user account.</simpara>
        <simpara>This is because the Debian system is, even after the default installation, configured with proper file permissions which prevent non-privileged users from damaging the system.  Of course, there may still be some holes which can be exploited but those who worry about these issues should not be reading this section but should be reading <ulink url="&securingdebianmanual;">Securing Debian Manual</ulink>.</simpara>
        <simpara>We learn the Debian system as a <ulink url="&unixlike;">Unix-like</ulink> system with the following.</simpara>
        <itemizedlist>
          <listitem>
            <simpara><xref linkend="_unix_like_filesystem"/> (basic concept)
</simpara>
          </listitem>
          <listitem>
            <simpara><xref linkend="_midnight_commander_mc"/> (survival method)
</simpara>
          </listitem>
          <listitem>
            <simpara><xref linkend="_the_basic_unix_like_work_environment"/> (basic method)
</simpara>
          </listitem>
          <listitem>
            <simpara><xref linkend="_the_simple_shell_command"/> (shell mechanism)
</simpara>
          </listitem>
          <listitem>
            <simpara><xref linkend="_unix_like_text_processing"/> (text processing method)
</simpara>
          </listitem>
        </itemizedlist>
      </section>
    </section>
    <section id="_unix_like_filesystem">
      <title>Unix-like filesystem</title>
      <simpara>In GNU/Linux and other <ulink url="&unixlike;">Unix-like</ulink> operating systems, <ulink url="&files;">files</ulink> are organized into <ulink url="&directories;">directories</ulink>.  All files and directories are arranged in one big tree rooted at "<literal>/</literal>". It's called a tree because if you draw the filesystem, it looks like a tree but it is upside down.</simpara>
      <simpara>These files and directories can be spread out over several devices. <literal>mount</literal>(8) serves to attach the filesystem found on some device to the big file tree.  Conversely, <literal>umount</literal>(8) will detach it again.  On recent Linux kernels, <literal>mount</literal>(8) with some options can bind part of a file tree somewhere else or can mount filesystem as shared, private, slave, or unbindable.  Supported mount options for each filesystem are available in "<literal>/share/doc/linux-doc-2.6.*/Documentation/filesystems/</literal>".</simpara>
      <simpara><emphasis role="strong">Directories</emphasis> on Unix systems are called <emphasis role="strong">folders</emphasis> on some other systems.  Please also note that there is no concept for <emphasis role="strong">drive</emphasis> such as "<literal>A:</literal>" on any Unix system.  There is one filesystem, and everything is included. This is a huge advantage compared to Windows.</simpara>
      <section id="_unix_file_basics">
        <title>Unix file basics</title>
        <simpara>Here are some Unix file basics.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
Filenames are <emphasis role="strong">case sensitive</emphasis>.  That is, "<literal>MYFILE</literal>" and "<literal>MyFile</literal>" are different files.
</simpara>
          </listitem>
          <listitem>
            <simpara>
The <emphasis role="strong">root directory</emphasis> means root of the filesystem referred as simply "<literal>/</literal>".  Don't confuse this with the home directory for the root user: "<literal>/root</literal>".
</simpara>
          </listitem>
          <listitem>
            <simpara>
Every directory has a name which can contain any letters or symbols <emphasis role="strong">except "<literal>/</literal>"</emphasis>.  The root directory is an exception; its name is "<literal>/</literal>" (pronounced "slash" or "the root directory") and it cannot be renamed.
</simpara>
          </listitem>
          <listitem>
            <simpara>
Each file or directory is designated by a <emphasis role="strong">fully-qualified filename</emphasis>, <emphasis role="strong">absolute filename</emphasis>, or <emphasis role="strong">path</emphasis>, giving the sequence of directories which must be passed through to reach it.  The three terms are synonymous.
</simpara>
          </listitem>
          <listitem>
            <simpara>
All <emphasis role="strong">fully-qualified filenames</emphasis> begin with the "<literal>/</literal>" directory, and there's a "<literal>/</literal>" between each directory or file in the filename.  The first "<literal>/</literal>" is the top level directory, and the other "<literal>/</literal>"'s separate successive subdirectories, until we reach the last entry which is the name of the actual file.  The words used here can be confusing.  Take the following  <emphasis role="strong">fully-qualified filename</emphasis> as an example: "<literal>/usr/share/keytables/us.map.gz</literal>".  However, people will also refer to its basename "<literal>us.map.gz</literal>" alone as a filename.
</simpara>
          </listitem>
          <listitem>
            <simpara>
The root directory has a number of branches, such as "<literal>/etc/</literal>" and "<literal>/usr/</literal>".  These subdirectories in turn branch into still more subdirectories, such as "<literal>/etc/init.d/</literal>" and "<literal>/usr/local/</literal>".  The whole thing viewed collectively is called the <emphasis role="strong">directory tree</emphasis>.  You can think of an absolute filename as a route from the base of the tree ("<literal>/</literal>") to the end of some branch (a file).  You will also hear people talk about the directory tree as if it were a <emphasis role="strong">family</emphasis> tree: thus subdirectories have <emphasis role="strong">parents</emphasis>, and a path shows the complete ancestry of a file.  There are also relative paths that begin somewhere other than the root directory.  You should remember that the directory "<literal>../</literal>" refers to the parent directory.  This terminology also applies to other directory like structures, such as hierarchical data structures.
</simpara>
          </listitem>
          <listitem>
            <simpara>
There's no special directory path name component that corresponds to a physical device, such as your hard disk.  This differs from <ulink url="&rtbb;">RT-11</ulink>, <ulink url="&cpm;">CP/M</ulink>, <ulink url="&openvms;">OpenVMS</ulink>, <ulink url="&msdos;">MS-DOS</ulink>, <ulink url="&amigaos;">AmigaOS</ulink>, and <ulink url="&microsoftwindows;">Microsoft Windows</ulink>, where the path contains a device name such as "<literal>C:\</literal>".  (However, directory entries do exist that refer to physical devices as a part of the normal filesystem.  See <xref linkend="_filesystem_internals"/>.)
</simpara>
          </listitem>
        </itemizedlist>
        <note>
          <simpara>While you <emphasis role="strong">can</emphasis> use almost any letters or symbols in a file name, in practice it is a bad idea to do so.  It is better to avoid any characters that often have special meanings on the command line, including spaces, tabs, newlines, and other special characters: <literal>{ } ( ) [ ] ' ` " \ / &gt; &lt; | ; ! # &amp; ^ * % @ $</literal> .  If you want to separate words in a name, good choices are the period, hyphen, and underscore.  You could also capitalize each word, "<literal>LikeThis</literal>". Experienced Linux users tend to avoid spaces in filenames.</simpara>
        </note>
        <note>
          <simpara>The word "root" can mean either "root user" or "root directory".  The context of their usage should make it clear.</simpara>
        </note>
        <note>
          <simpara>The word <emphasis role="strong">path</emphasis> is used not only for <emphasis role="strong">fully-qualified filename</emphasis> as above but also for the <emphasis role="strong">command search path</emphasis>.  The intended meaning is usually clear from the context.</simpara>
        </note>
        <simpara>The detailed best practices for the file hierarchy are described in the Filesystem Hierarchy Standard ("<literal>/usr/share/doc/debian-policy/fhs/fhs-2.3.txt.gz</literal>" and <literal>hier</literal>(7)).  You should remember the following facts as the starter.</simpara>
        <table id="listofusageofkeydirectories" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of usage of key directories</title>
          <tgroup cols="2">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="70%*" align="left"/>
            <thead>
              <row>
                <entry>
    directory
    </entry>
                <entry>
    usage of the directory
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>/</literal>
                </entry>
                <entry>
    the root directory
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/etc/</literal>
                </entry>
                <entry>
    system wide configuration files
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/var/log/</literal>
                </entry>
                <entry>
    system log files
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/home/</literal>
                </entry>
                <entry>
    all the home directories for all non-privileged users
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </section>
      <section id="_filesystem_internals">
        <title>Filesystem internals</title>
        <simpara>Following the <emphasis role="strong">Unix tradition</emphasis>, the Debian GNU/Linux system provides the <ulink url="&filesystem;">filesystem</ulink> under which physical data on hard disks and other storage devices reside, and the interaction with the hardware devices such as console screens and remote serial consoles are represented in an unified manner under "<literal>/dev/</literal>".</simpara>
        <simpara>Each file, directory, named pipe (a way two programs can share data), or physical device on a Debian GNU/Linux system has a data structure called an <ulink url="&inode;">inode</ulink> which describes its associated attributes such as the user who owns it (owner), the group that it belongs to, the time last accessed, etc.  If you are really interested, see "<literal>/usr/include/linux/fs.h</literal>" for the exact definition of "<literal>struct inode</literal>" in the Debian GNU/Linux system. The idea of representing just about everything in the filesystem was a Unix innovation, and modern Linux kernels have developed this idea ever further. Now, even information about processes running in the computer can be found in the filesystem.</simpara>
        <simpara>This abstract and unified representation of physical entities and internal processes is very powerful since this allows us to use the same command for the same kind of operation on many totally different devices. It is even possible to change the way the kernel works by writing data to special files that are linked to running processes.</simpara>
        <tip>
          <simpara>If you need to identify the correspondence between the file tree and the physical entity, execute <literal>mount</literal>(8) with no arguments.</simpara>
        </tip>
      </section>
      <section id="_filesystem_permissions">
        <title>Filesystem permissions</title>
        <simpara><ulink url="&filesystempermissions;">Filesystem permissions</ulink> of <ulink url="&unixlike;">Unix-like</ulink> system are defined for three categories of affected users.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
The <emphasis role="strong">user</emphasis> who owns the file (<emphasis role="strong">u</emphasis>)
</simpara>
          </listitem>
          <listitem>
            <simpara>
Other users in the <emphasis role="strong">group</emphasis> which the file belongs to (<emphasis role="strong">g</emphasis>)
</simpara>
          </listitem>
          <listitem>
            <simpara>
All <emphasis role="strong">other</emphasis> users (<emphasis role="strong">o</emphasis>) also referred to as "world" and "everyone"
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>For the file, each corresponding permission allows following actions.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
The <emphasis role="strong">read</emphasis> (<emphasis role="strong">r</emphasis>) permission allows owner to examine contents of the file.
</simpara>
          </listitem>
          <listitem>
            <simpara>
The <emphasis role="strong">write</emphasis> (<emphasis role="strong">w</emphasis>) permission allows owner to modify the file.
</simpara>
          </listitem>
          <listitem>
            <simpara>
The <emphasis role="strong">execute</emphasis> (<emphasis role="strong">x</emphasis>) permission allows owner to run the file as a command.
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>For the directory, each corresponding permission allows following actions.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
The <emphasis role="strong">read</emphasis> (<emphasis role="strong">r</emphasis>) permission allows owner to list contents of the directory.
</simpara>
          </listitem>
          <listitem>
            <simpara>
The <emphasis role="strong">write</emphasis> (<emphasis role="strong">w</emphasis>) permission allows owner to add or remove files in the directory.
</simpara>
          </listitem>
          <listitem>
            <simpara>
The <emphasis role="strong">execute</emphasis> (<emphasis role="strong">x</emphasis>) permission allows owner to access files in the directory.
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>Here, the <emphasis role="strong">execute</emphasis> permission on a directory means not only to allow reading of files in that directory but also to allow viewing their attributes, such as the size and the modification time.</simpara>
        <simpara><literal>ls</literal>(1) is used to display permission information (and more) for files and directories.  When it is invoked with the "<literal>-l</literal>" option, it displays the following information in the order given.</simpara>
        <itemizedlist>
          <listitem>
            <simpara><emphasis role="strong">Type of file</emphasis> (first character)
</simpara>
          </listitem>
          <listitem>
            <simpara>
Access <emphasis role="strong">permission</emphasis> of the file (nine characters, consisting of three characters each for user, group, and other in this order)
</simpara>
          </listitem>
          <listitem>
            <simpara><emphasis role="strong">Number of hard links</emphasis> to the file
</simpara>
          </listitem>
          <listitem>
            <simpara>
Name of the <emphasis role="strong">user</emphasis> who owns the file
</simpara>
          </listitem>
          <listitem>
            <simpara>
Name of the <emphasis role="strong">group</emphasis> which the file belongs to
</simpara>
          </listitem>
          <listitem>
            <simpara><emphasis role="strong">Size</emphasis> of the file in characters (bytes)
</simpara>
          </listitem>
          <listitem>
            <simpara><emphasis role="strong">Date and time</emphasis> of the file (mtime)
</simpara>
          </listitem>
          <listitem>
            <simpara><emphasis role="strong">Name</emphasis> of the file
</simpara>
          </listitem>
        </itemizedlist>
        <table id="listofthefirstchacteroflsloutput" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of the first character of "<literal>ls -l</literal>" output</title>
          <tgroup cols="2">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="70%*" align="left"/>
            <thead>
              <row>
                <entry>
    character
    </entry>
                <entry>
    meaning
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>-</literal>
                </entry>
                <entry>
    normal file
    </entry>
              </row>
              <row>
                <entry>
                  <literal>d</literal>
                </entry>
                <entry>
    directory
    </entry>
              </row>
              <row>
                <entry>
                  <literal>l</literal>
                </entry>
                <entry>
    symlink
    </entry>
              </row>
              <row>
                <entry>
                  <literal>c</literal>
                </entry>
                <entry>
    character device node
    </entry>
              </row>
              <row>
                <entry>
                  <literal>b</literal>
                </entry>
                <entry>
    block device node
    </entry>
              </row>
              <row>
                <entry>
                  <literal>p</literal>
                </entry>
                <entry>
    named pipe
    </entry>
              </row>
              <row>
                <entry>
                  <literal>s</literal>
                </entry>
                <entry>
    socket
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara><literal>chown</literal>(1) is used from the root account to change the owner of the file.  <literal>chgrp</literal>(1) is used from the file's owner or root account to change the group of the file.  <literal>chmod</literal>(1) is used from the file's owner or root account to change file and directory access permissions.  Basic syntax to manipulate a <literal>foo</literal> file is the following.</simpara>
        <screen># chown &lt;newowner&gt; foo
# chgrp &lt;newgroup&gt; foo
# chmod  [ugoa][+-=][rwxXst][,...] foo</screen>
        <simpara>For example, you can make a directory tree to be owned by a user <literal>foo</literal> and shared by a group <literal>bar</literal> by the following.</simpara>
        <screen># cd /some/location/
# chown -R foo:bar .
# chmod -R ug+rwX,o=rX .</screen>
        <simpara>There are three more special permission bits.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
The <emphasis role="strong">set user ID</emphasis> bit (<emphasis role="strong">s</emphasis> or <emphasis role="strong">S</emphasis> instead of user's <emphasis role="strong">x</emphasis>)
</simpara>
          </listitem>
          <listitem>
            <simpara>
The <emphasis role="strong">set group ID</emphasis> bit (<emphasis role="strong">s</emphasis> or <emphasis role="strong">S</emphasis> instead of group's <emphasis role="strong">x</emphasis>)
</simpara>
          </listitem>
          <listitem>
            <simpara>
The <emphasis role="strong">sticky</emphasis> bit (<emphasis role="strong">t</emphasis> or <emphasis role="strong">T</emphasis> instead of other's <emphasis role="strong">x</emphasis>)
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>Here the output of "<literal>ls -l</literal>" for these bits is <emphasis role="strong">capitalized</emphasis> if execution bits hidden by these outputs are <emphasis role="strong">unset</emphasis>.</simpara>
        <simpara>Setting <emphasis role="strong">set user ID</emphasis> on an executable file allows a user to execute the executable file with the owner ID of the file (for example <emphasis role="strong">root</emphasis>).  Similarly, setting <emphasis role="strong">set group ID</emphasis> on an executable file allows a user to execute the executable file with the group ID of the file (for example <emphasis role="strong">root</emphasis>).  Because these settings can cause security risks, enabling them requires extra caution.</simpara>
        <simpara>Setting <emphasis role="strong">set group ID</emphasis> on a directory enables the <ulink url="&bsdlike;">BSD-like</ulink> file creation scheme where all files created in the directory belong to the <emphasis role="strong">group</emphasis> of the directory.</simpara>
        <simpara>Setting the <emphasis role="strong">sticky bit</emphasis> on a directory prevents a file in the directory from being removed by a user who is not the owner of the file.  In order to secure contents of a file in world-writable directories such as "<literal>/tmp</literal>" or in group-writable directories, one must not only reset the <emphasis role="strong">write</emphasis> permission for the file but also set the <emphasis role="strong">sticky bit</emphasis> on the directory.  Otherwise, the file can be removed and a new file can be created with the same name by any user who has write access to the directory.</simpara>
        <simpara>Here are a few interesting examples of file permissions.</simpara>
        <screen>$ ls -l /etc/passwd /etc/shadow /dev/ppp /usr/sbin/exim4
crw------- 1 root root   108, 0 2007-04-29 07:00 /dev/ppp
-rw-r--r-- 1 root root     1427 2007-04-16 00:19 /etc/passwd
-rw-r----- 1 root shadow    943 2007-04-16 00:19 /etc/shadow
-rwsr-xr-x 1 root root   700056 2007-04-22 05:29 /usr/sbin/exim4
$ ls -ld /tmp /var/tmp /usr/local /var/mail /usr/src
drwxrwxrwt 10 root root  4096 2007-04-29 07:59 /tmp
drwxrwsr-x 10 root staff 4096 2007-03-24 18:48 /usr/local
drwxrwsr-x  4 root src   4096 2007-04-27 00:31 /usr/src
drwxrwsr-x  2 root mail  4096 2007-03-28 23:33 /var/mail
drwxrwxrwt  2 root root  4096 2007-04-29 07:11 /var/tmp</screen>
        <simpara>There is an alternative numeric mode to describe file permissions with <literal>chmod</literal>(1).  This numeric mode uses 3 to 4 digit wide octal (radix=8) numbers.</simpara>
        <table id="thenumericmodefoinchmodbcommands" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>The numeric mode for file permissions in <literal>chmod</literal>(1) commands</title>
          <tgroup cols="2">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="70%*" align="left"/>
            <thead>
              <row>
                <entry>
    digit
    </entry>
                <entry>
    meaning
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
    1st optional digit
    </entry>
                <entry>
    sum of <emphasis role="strong">set user ID</emphasis> (=4), <emphasis role="strong">set group ID</emphasis> (=2), and <emphasis role="strong">sticky bit</emphasis> (=1)
    </entry>
              </row>
              <row>
                <entry>
    2nd digit
    </entry>
                <entry>
    sum of <emphasis role="strong">read</emphasis> (=4), <emphasis role="strong">write</emphasis> (=2), and <emphasis role="strong">execute</emphasis> (=1) permissions for <emphasis role="strong">user</emphasis>
    </entry>
              </row>
              <row>
                <entry>
    3rd digit
    </entry>
                <entry>
    ditto for <emphasis role="strong">group</emphasis>
    </entry>
              </row>
              <row>
                <entry>
    4th digit
    </entry>
                <entry>
    ditto for <emphasis role="strong">other</emphasis>
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>This sounds complicated but it is actually quite simple.  If you look at the first few (2-10) columns from "<literal>ls -l</literal>" command output and read it as a binary (radix=2) representation of file permissions ("-" being "0" and "rwx" being "1"), the last 3 digit of the numeric mode value should make sense as an octal (radix=8) representation of file permissions to you.</simpara>
        <simpara>For example, try the following</simpara>
        <screen>$ touch foo bar
$ chmod u=rw,go=r foo
$ chmod 644 bar
$ ls -l foo bar
-rw-r--r-- 1 penguin penguin 17 2007-04-29 08:22 bar
-rw-r--r-- 1 penguin penguin 12 2007-04-29 08:22 foo</screen>
        <tip>
          <simpara>If you need to access information displayed by "<literal>ls -l</literal>" in shell script, you should use pertinent commands such as <literal>test</literal>(1), <literal>stat</literal>(1) and <literal>readlink</literal>(1).  The shell builtin such as "<literal>[</literal>" or "<literal>test</literal>" may be used too.</simpara>
        </tip>
      </section>
      <section id="_control_of_permissions_for_newly_created_files_umask">
        <title>Control of permissions for newly created files: umask</title>
        <simpara>What permissions are applied to a newly created file or directory is restricted by the <literal>umask</literal> shell builtin command.  See <literal>dash</literal>(1), <literal>bash</literal>(1), and <literal>builtins</literal>(7).</simpara>
        <screen> (file permissions) = (requested file permissions) &amp; ~(umask value)</screen>
        <table id="theumaskvalueexamples" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>The <emphasis role="strong">umask</emphasis> value examples</title>
          <tgroup cols="4">
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="40%*" align="left"/>
            <thead>
              <row>
                <entry>
    umask
    </entry>
                <entry>
    file permissions created
    </entry>
                <entry>
    directory permissions created
    </entry>
                <entry>
    usage
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>0022</literal>
                </entry>
                <entry>
                  <literal>-rw-r--r--</literal>
                </entry>
                <entry>
                  <literal>-rwxr-xr-x</literal>
                </entry>
                <entry>
    writable only by the user
    </entry>
              </row>
              <row>
                <entry>
                  <literal>0002</literal>
                </entry>
                <entry>
                  <literal>-rw-rw-r--</literal>
                </entry>
                <entry>
                  <literal>-rwxrwxr-x</literal>
                </entry>
                <entry>
    writable by the group
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>The Debian system uses a user private group (UPG) scheme as its default. A UPG is created whenever a new user is added to the system. A UPG has the same name as the user for which it was created and that user is the only member of the UPG. UPG scheme makes it is safe to set umask to <literal>0002</literal> since every user has their own private group.  (In some Unix variants, it is quite common to setup all normal users belonging to a single <emphasis role="strong"><literal>users</literal></emphasis> group and is good idea to set umask to <literal>0022</literal> for security in such cases.)</simpara>
      </section>
      <section id="_permissions_for_groups_of_users_group">
        <title>Permissions for groups of users (group)</title>
        <simpara>In order to make group permissions to be applied to a particular user, that user needs to be made a member of the group using "<literal>sudo vigr</literal>".</simpara>
        <note>
          <simpara>Alternatively, you may dynamically add users to groups during the authentication process by adding "<literal>auth optional pam_group.so</literal>" line to "<literal>/etc/pam.d/common-auth</literal>" and setting "<literal>/etc/security/group.conf</literal>".  (See <xref linkend="_authentication"/>.)</simpara>
        </note>
        <simpara>The hardware devices are just another kind of file on the Debian system.  If you have problems accessing devices such as CD-ROM and USB memory stick from a user account, you should make that user a member of the relevant group.</simpara>
        <simpara>Some notable system-provided groups allow their members to access particular files and devices without <literal>root</literal> privilege.</simpara>
        <table id="listofnotablesysupsforfileaccess" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of notable system-provided groups for file access</title>
          <tgroup cols="2">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="70%*" align="left"/>
            <thead>
              <row>
                <entry>
    group
    </entry>
                <entry>
    description for accessible files and devices
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>dialout</literal>
                </entry>
                <entry>
    full and direct access to serial ports ("<literal>/dev/ttyS[0-3]</literal>")
    </entry>
              </row>
              <row>
                <entry>
                  <literal>dip</literal>
                </entry>
                <entry>
    limited access to serial ports for <emphasis role="strong">Dialup IP</emphasis> connection to trusted peers
    </entry>
              </row>
              <row>
                <entry>
                  <literal>cdrom</literal>
                </entry>
                <entry>
    CD-ROM, DVD+/-RW drives
    </entry>
              </row>
              <row>
                <entry>
                  <literal>audio</literal>
                </entry>
                <entry>
    audio device
    </entry>
              </row>
              <row>
                <entry>
                  <literal>video</literal>
                </entry>
                <entry>
    video device
    </entry>
              </row>
              <row>
                <entry>
                  <literal>scanner</literal>
                </entry>
                <entry>
    scanner(s)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>adm</literal>
                </entry>
                <entry>
    system monitoring logs
    </entry>
              </row>
              <row>
                <entry>
                  <literal>staff</literal>
                </entry>
                <entry>
    some directories for junior administrative work: "<literal>/usr/local</literal>", "<literal>/home</literal>"
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <tip>
          <simpara>You need to belong to the <literal>dialout</literal> group to reconfigure modem, dial anywhere, etc.  But if <literal>root</literal> creates pre-defined configuration files for trusted peers in "<literal>/etc/ppp/peers/</literal>", you only need to belong to the <literal>dip</literal> group to create <emphasis role="strong">Dialup IP</emphasis> connection to those trusted peers using <literal>pppd</literal>(8), <literal>pon</literal>(1), and <literal>poff</literal>(1) commands.</simpara>
        </tip>
        <simpara>Some notable system-provided groups allow their members to execute particular commands without <literal>root</literal> privilege.</simpara>
        <table id="listofnotablesysommandexecutions" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of notable system provided groups for particular command executions</title>
          <tgroup cols="2">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="70%*" align="left"/>
            <thead>
              <row>
                <entry>
    group
    </entry>
                <entry>
    accessible commands
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>sudo</literal>
                </entry>
                <entry>
    execute <literal>sudo</literal> without their password
    </entry>
              </row>
              <row>
                <entry>
                  <literal>lpadmin</literal>
                </entry>
                <entry>
    execute commands to add, modify, and remove printers from printer databases
    </entry>
              </row>
              <row>
                <entry>
                  <literal>plugdev</literal>
                </entry>
                <entry>
    execute <literal>pmount</literal>(1) for removable devices such as USB memories
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>For the full listing of the system provided users and groups, see the recent version of the "Users and Groups" document in "<literal>/usr/share/doc/base-passwd/users-and-groups.html</literal>" provided by the <literal>base-passwd</literal> package.</simpara>
        <simpara>See <literal>passwd</literal>(5), <literal>group</literal>(5), <literal>shadow</literal>(5), <literal>newgrp</literal>(1), <literal>vipw</literal>(8), <literal>vigr</literal>(8), and <literal>pam_group</literal>(8) for management commands of the user and group system.</simpara>
      </section>
      <section id="_timestamps">
        <title>Timestamps</title>
        <simpara>There are three types of timestamps for a GNU/Linux file.</simpara>
        <table id="listoftypesoftimestamps" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of types of timestamps</title>
          <tgroup cols="2">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="70%*" align="left"/>
            <thead>
              <row>
                <entry>
    type
    </entry>
                <entry>
    meaning
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <emphasis role="strong">mtime</emphasis>
                </entry>
                <entry>
    the file modification time (<literal>ls -l</literal>)
    </entry>
              </row>
              <row>
                <entry>
                  <emphasis role="strong">ctime</emphasis>
                </entry>
                <entry>
    the file status change time (<literal>ls -lc</literal>)
    </entry>
              </row>
              <row>
                <entry>
                  <emphasis role="strong">atime</emphasis>
                </entry>
                <entry>
    the last file access time (<literal>ls -lu</literal>)
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <note>
          <simpara><emphasis role="strong">ctime</emphasis> is not file creation time.</simpara>
        </note>
        <itemizedlist>
          <listitem>
            <simpara>
Overwriting a file will change all of the <emphasis role="strong">mtime</emphasis>, <emphasis role="strong">ctime</emphasis>, and <emphasis role="strong">atime</emphasis> attributes of the file.
</simpara>
          </listitem>
          <listitem>
            <simpara>
Changing ownership or permissions of a file will change the <emphasis role="strong">ctime</emphasis> and <emphasis role="strong">atime</emphasis> attributes of the file.
</simpara>
          </listitem>
          <listitem>
            <simpara>
Reading a file will change the <emphasis role="strong">atime</emphasis> of the file.
</simpara>
          </listitem>
        </itemizedlist>
        <note>
          <simpara>Even simply reading a file on the Debian system will normally cause a file write operation to update <emphasis role="strong">atime</emphasis> information in the <emphasis role="strong">inode</emphasis>.  Mounting a filesystem with "<literal>noatime</literal>" or "<literal>relatime</literal>" option will let the system skip this operation and will result in faster file access for the read. This is often recommended for laptops, because it reduces hard drive activity and saves power. See <literal>mount</literal>(8).</simpara>
        </note>
        <simpara>Use <literal>touch</literal>(1) command to change timestamps of existing files.</simpara>
        <simpara>For timestamps, the <literal>ls</literal> command outputs different strings under the modern English locale ("<literal>en_US.UTF-8</literal>") from under the old one ("<literal>C</literal>").</simpara>
        <screen>$ LANG=en_US.UTF-8  ls -l foo
-rw-r--r-- 1 penguin penguin 3 2008-03-05 00:47 foo
$ LANG=C  ls -l foo
-rw-r--r-- 1 penguin penguin 3 Mar  5 00:47 foo</screen>
        <tip>
          <simpara>See <xref linkend="_customized_display_of_time_and_date"/> to customize "<literal>ls -l</literal>" output.</simpara>
        </tip>
      </section>
      <section id="_links">
        <title>Links</title>
        <simpara>There are two methods of associating a file "<literal>foo</literal>" with a different filename "<literal>bar</literal>".</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
              <ulink url="&hardlink;">Hard link</ulink>
            </simpara>
            <itemizedlist>
              <listitem>
                <simpara>
Duplicate name for an existing file
</simpara>
              </listitem>
              <listitem>
                <simpara>
"<literal>ln foo bar</literal>"
</simpara>
              </listitem>
            </itemizedlist>
          </listitem>
          <listitem>
            <simpara>
              <ulink url="&symboliclinkorsymlink;">Symbolic link or symlink</ulink>
            </simpara>
            <itemizedlist>
              <listitem>
                <simpara>
Special file that points to another file by name
</simpara>
              </listitem>
              <listitem>
                <simpara>
"<literal>ln -s foo bar</literal>"
</simpara>
              </listitem>
            </itemizedlist>
          </listitem>
        </itemizedlist>
        <simpara>See the following example for changes in link counts and the subtle differences in the result of the <literal>rm</literal> command.</simpara>
        <screen>$ echo "Original Content" &gt; foo
$ ls -li foo
2398521 -rw-r--r-- 1 penguin penguin 17 2007-04-29 08:15 foo
$ ln foo bar     # hard link
$ ln -s foo baz  # symlink
$ ls -li foo bar baz
2398521 -rw-r--r-- 2 penguin penguin 17 2007-04-29 08:15 bar
2398538 lrwxrwxrwx 1 penguin penguin  3 2007-04-29 08:16 baz -&gt; foo
2398521 -rw-r--r-- 2 penguin penguin 17 2007-04-29 08:15 foo
$ rm foo
$ echo "New Content" &gt; foo
$ ls -li foo bar baz
2398521 -rw-r--r-- 1 penguin penguin 17 2007-04-29 08:15 bar
2398538 lrwxrwxrwx 1 penguin penguin  3 2007-04-29 08:16 baz -&gt; foo
2398540 -rw-r--r-- 1 penguin penguin 12 2007-04-29 08:17 foo
$ cat bar
Original Content
$ cat baz
New Content</screen>
        <simpara>The hardlink can be made within the same filesystem and shares the same inode number which the "<literal>-i</literal>" option with <literal>ls</literal>(1)  reveals.</simpara>
        <simpara>The symlink always has nominal file access permissions of "<literal>rwxrwxrwx</literal>", as shown in the above example, with the effective access permissions dictated by permissions of the file that it points to.</simpara>
        <caution>
          <simpara>It is generally good idea not to create complicated symbolic links or hardlinks at all unless you have a very good reason.  It may cause nightmares where the logical combination of the symbolic links results in loops in the filesystem.</simpara>
        </caution>
        <note>
          <simpara>It is generally preferable to use symbolic links rather than hardlinks unless you have a good reason for using a hardlink.</simpara>
        </note>
        <simpara>The "<literal>.</literal>"  directory links to the directory that it appears in, thus the link count of any new directory starts at 2.  The "<literal>..</literal>"  directory links to the parent directory, thus the link count of the directory increases with the addition of new subdirectories.</simpara>
        <simpara>If you are just moving to Linux from Windows, it will soon become clear how well-designed the filename linking of Unix is, compared with the nearest Windows equivalent of "shortcuts". Because it is implemented in the filesystem, applications can't see any difference between a linked file and the original. In the case of hardlinks, there really is no difference.</simpara>
      </section>
      <section id="_named_pipes_fifos">
        <title>Named pipes (FIFOs)</title>
        <simpara>A <ulink url="&namedpipe;">named pipe</ulink> is a file that acts like a pipe.  You put something into the file, and it comes out the other end.  Thus it's called a FIFO, or First-In-First-Out: the first thing you put in the pipe is the first thing to come out the other end.</simpara>
        <simpara>If you write to a named pipe, the process which is writing to the pipe doesn't terminate until the information being written is read from the pipe.  If you read from a named pipe, the reading process waits until there is nothing to read before terminating.  The size of the pipe is always zero --- it does not store data, it just links two processes like the shell "<literal>|</literal>".  However, since this pipe has a name, the two processes don't have to be on the same command line or even be run by the same user. Pipes were a very influential innovation of Unix.</simpara>
        <simpara>For example, try the following</simpara>
        <screen>$ cd; mkfifo mypipe
$ echo "hello" &gt;mypipe &amp; # put into background
[1] 8022
$ ls -l mypipe
prw-r--r-- 1 penguin penguin 0 2007-04-29 08:25 mypipe
$ cat mypipe
hello
[1]+  Done                    echo "hello" &gt;mypipe
$ ls mypipe
mypipe
$ rm mypipe</screen>
      </section>
      <section id="_sockets">
        <title>Sockets</title>
        <simpara>Sockets are used extensively by all the Internet communication, databases, and the operating system itself. It is similar to the named pipe (FIFO) and allows processes to exchange information even between different computers.  For the socket, those processes do not need to be running at the same time nor to be running as the children of the same ancestor process.  This is the endpoint for <ulink url="&theinterprocesscommunicationipc;">the inter process communication (IPC)</ulink>.  The exchange of information may occur over the network between different hosts.  The two most common ones are <ulink url="&theinternetsocket;">the Internet socket</ulink> and <ulink url="&theunixdomainsocket;">the Unix domain socket</ulink>.</simpara>
        <tip>
          <simpara>"<literal>netstat -an</literal>" will provide a very useful overview of sockets that are open on a given system.</simpara>
        </tip>
      </section>
      <section id="_device_files">
        <title>Device files</title>
        <simpara><ulink url="&devicefiles;">Device files</ulink> refer to physical or virtual devices on your system, such as your hard disk, video card, screen, or keyboard.  An example of a virtual device is the console, represented by "<literal>/dev/console</literal>".</simpara>
        <simpara>There are 2 types of device files.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
              <emphasis role="strong">Character device</emphasis>
            </simpara>
            <itemizedlist>
              <listitem>
                <simpara>
Accessed one character at a time
</simpara>
              </listitem>
              <listitem>
                <simpara>
1 character = 1 byte
</simpara>
              </listitem>
              <listitem>
                <simpara>
E.g. keyboard device, serial port, …
</simpara>
              </listitem>
            </itemizedlist>
          </listitem>
          <listitem>
            <simpara>
              <emphasis role="strong">Block device</emphasis>
            </simpara>
            <itemizedlist>
              <listitem>
                <simpara>
accessed in larger units called blocks
</simpara>
              </listitem>
              <listitem>
                <simpara>
1 block &gt; 1 byte
</simpara>
              </listitem>
              <listitem>
                <simpara>
E.g. hard disk, …
</simpara>
              </listitem>
            </itemizedlist>
          </listitem>
        </itemizedlist>
        <simpara>You can read and write device files, though the file may well contain binary data which may be an incomprehensible-to-humans gibberish.  Writing data directly to these files is sometimes useful for the troubleshooting of hardware connections.  For example, you can dump a text file to the printer device "<literal>/dev/lp0</literal>" or send modem commands to the appropriate serial port "<literal>/dev/ttyS0</literal>".  But, unless this is done carefully, it may cause a major disaster.  So be cautious.</simpara>
        <note>
          <simpara>For the normal access to a printer, use <literal>lp</literal>(1).</simpara>
        </note>
        <simpara>The device node number are displayed by executing <literal>ls</literal>(1) as the following.</simpara>
        <screen>$ ls -l /dev/hda /dev/ttyS0 /dev/zero
brw-rw---- 1 root cdrom   3,  0 2007-04-29 07:00 /dev/hda
crw-rw---- 1 root dialout 4, 64 2007-04-29 07:00 /dev/ttyS0
crw-rw-rw- 1 root root    1,  5 2007-04-29 07:00 /dev/zero</screen>
        <itemizedlist>
          <listitem>
            <simpara>
"<literal>/dev/hda</literal>" has the major device number 3 and the minor device number 0.  This is read/write accessible by the user who belongs to <literal>disk</literal> group.
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>/dev/ttyS0</literal>" has the major device number 4 and the minor device number 64.  This is read/write accessible by the user who belongs to <literal>dialout</literal> group.
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>/dev/zero</literal>" has the major device number 1 and the minor device number 5.  This is read/write accessible by anyone.
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>In the Linux 2.6 system, the filesystem under "<literal>/dev/</literal>" is automatically populated by the <literal>udev</literal>(7) mechanism.</simpara>
      </section>
      <section id="_special_device_files">
        <title>Special device files</title>
        <simpara>There are some special device files.</simpara>
        <table id="listofspecialdevicefiles" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of special device files</title>
          <tgroup cols="3">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="40%*" align="left"/>
            <thead>
              <row>
                <entry>
    device file
    </entry>
                <entry>
    action
    </entry>
                <entry>
    description of response
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>/dev/null</literal>
                </entry>
                <entry>
    read
    </entry>
                <entry>
    return "end-of-file (EOF) character"
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/dev/null</literal>
                </entry>
                <entry>
    write
    </entry>
                <entry>
    return nothing (a bottomless data dump pit)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/dev/zero</literal>
                </entry>
                <entry>
    read
    </entry>
                <entry>
    return "the <literal>\0</literal> (NUL) character" (not the same as the number zero ASCII)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/dev/random</literal>
                </entry>
                <entry>
    read
    </entry>
                <entry>
    return random characters from a true random number generator, delivering real entropy (slow)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/dev/urandom</literal>
                </entry>
                <entry>
    read
    </entry>
                <entry>
    return random characters from a cryptographically secure pseudorandom number generator
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/dev/full</literal>
                </entry>
                <entry>
    write
    </entry>
                <entry>
    return the disk-full (ENOSPC) error
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>These are frequently used in conjunction with the shell redirection (see <xref linkend="_typical_command_sequences_and_shell_redirection"/>).</simpara>
      </section>
      <section id="_procfs_and_sysfs">
        <title>procfs and sysfs</title>
        <simpara>The <ulink url="&procfs;">procfs</ulink> and <ulink url="&sysfs;">sysfs</ulink> mounted on "<literal>/proc</literal>" and "<literal>/sys</literal>" are the pseudo-filesystem and expose internal data structures of the kernel to the userspace.  In other word, these entries are virtual, meaning that they act as a convenient window into the operation of the operating system.</simpara>
        <simpara>The directory "<literal>/proc</literal>" contains (among other things) one subdirectory for each process running on the system, which is named after the process ID (PID). System utilities that access process information, such as <literal>ps</literal>(1), get their information from this directory structure.</simpara>
        <simpara>The directories under "<literal>/proc/sys/</literal>" contain interface to change certain kernel parameters at run time.  (You may do the same through specialized <literal>sysctl</literal>(8) command or its preload/configuration file "<literal>/etc/sysctrl.conf</literal>".)</simpara>
        <note>
          <simpara>The Linux kernel may complain "Too many open files".  You can fix this by increasing "<literal>file-max</literal>" value to a larger value from the root shell, e.g., "<literal>echo "65536"  &gt; /proc/sys/fs/file-max</literal>" (This was needed on older kernels).</simpara>
        </note>
        <simpara>People frequently panic when they notice one file in particular - "<literal>/proc/kcore</literal>" - which is generally huge.  This is (more or less) a copy of the content of your computer's memory.  It's used to debug the kernel.  It is a virtual file that points to computer memory, so don't worry about its size.</simpara>
        <simpara>The directory under "<literal>/sys</literal>" contains exported kernel data structures, their attributes, and their linkages between them. It also contains interface to change certain kernel parameters at run time.</simpara>
        <simpara>See "<literal>proc.txt(.gz)</literal>", "<literal>sysfs.txt(.gz)</literal>" and other related documents in the Linux kernel documentation ("<literal>/usr/share/doc/linux-doc-2.6.*/Documentation/filesystems/*</literal>") provided by the <literal>linux-doc-2.6.*</literal> package.</simpara>
      </section>
    </section>
    <section id="_midnight_commander_mc">
      <title>Midnight Commander (MC)</title>
      <simpara><ulink url="&midnightcommandermc;">Midnight Commander (MC)</ulink> is a GNU "Swiss army knife" for the Linux console and other terminal environments.  This gives newbie a menu driven console experience which is much easier to learn than standard Unix commands.</simpara>
      <simpara>You may need to install the Midnight Commander package which is titled "<literal>mc</literal>" by the following.</simpara>
      <screen>$ sudo aptitude install mc</screen>
      <simpara>Use the <literal>mc</literal>(1) command to explore the Debian system.  This is the best way to learn.  Please explore few interesting locations just using the cursor keys and Enter key.</simpara>
      <itemizedlist>
        <listitem>
          <simpara>
"<literal>/etc</literal>" and its subdirectories
</simpara>
        </listitem>
        <listitem>
          <simpara>
"<literal>/var/log</literal>" and its subdirectories
</simpara>
        </listitem>
        <listitem>
          <simpara>
"<literal>/usr/share/doc</literal>" and its subdirectories
</simpara>
        </listitem>
        <listitem>
          <simpara>
"<literal>/sbin</literal>" and "<literal>/bin</literal>"
</simpara>
        </listitem>
      </itemizedlist>
      <section id="_customization_of_mc">
        <title>Customization of MC</title>
        <simpara>In order to make MC to change working directory upon exit and <literal>cd</literal> to the directory, I suggest to modify "<literal>~/.bashrc</literal>" to include a script provided by the <literal>mc</literal> package.</simpara>
        <screen>. /usr/share/mc/bin/mc.sh</screen>
        <simpara>See <literal>mc</literal>(1) (under the "<literal>-P</literal>" option) for the reason. (If you do not understand what exactly I am talking here, you can do this later.)</simpara>
      </section>
      <section id="_starting_mc">
        <title>Starting MC</title>
        <simpara>MC can be started by the following.</simpara>
        <screen>$ mc</screen>
        <simpara>MC takes care of all file operations through its menu, requiring minimal user effort.  Just press F1 to get the help screen.  You can play with MC just by pressing cursor-keys and function-keys.</simpara>
        <note>
          <simpara>In some consoles such as <literal>gnome-terminal</literal>(1), key strokes of function-keys may be stolen by the console program.   You can disable these features by "Edit" → "Keyboard Shortcuts" for <literal>gnome-terminal</literal>.</simpara>
        </note>
        <simpara>If you encounter character encoding problem which displays garbage characters, adding "<literal>-a</literal>" to MC's command line may help prevent problems.</simpara>
        <simpara>If this doesn't clear up your display problems with MC, see <xref linkend="_the_terminal_configuration"/>.</simpara>
      </section>
      <section id="_file_manager_in_mc">
        <title>File manager in MC</title>
        <simpara>The default is two directory panels containing file lists.  Another useful mode is to set the right window to "information" to see file access privilege information, etc.  Following are some essential keystrokes.  With the <literal>gpm</literal>(8) daemon running, one can use a mouse on Linux character consoles, too.  (Make sure to press the shift-key to obtain the normal behavior of cut and paste in MC.)</simpara>
        <table id="thekeybindingsofmc" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>The key bindings of MC</title>
          <tgroup cols="2">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="70%*" align="left"/>
            <thead>
              <row>
                <entry>
    key
    </entry>
                <entry>
    key binding
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>F1</literal>
                </entry>
                <entry>
    help menu
    </entry>
              </row>
              <row>
                <entry>
                  <literal>F3</literal>
                </entry>
                <entry>
    internal file viewer
    </entry>
              </row>
              <row>
                <entry>
                  <literal>F4</literal>
                </entry>
                <entry>
    internal editor
    </entry>
              </row>
              <row>
                <entry>
                  <literal>F9</literal>
                </entry>
                <entry>
    activate pull down menu
    </entry>
              </row>
              <row>
                <entry>
                  <literal>F10</literal>
                </entry>
                <entry>
    exit Midnight Commander
    </entry>
              </row>
              <row>
                <entry>
                  <literal>Tab</literal>
                </entry>
                <entry>
    move between two windows
    </entry>
              </row>
              <row>
                <entry><literal>Insert</literal> or <literal>Ctrl-T</literal>
    </entry>
                <entry>
    mark file for a multiple-file operation such as copy
    </entry>
              </row>
              <row>
                <entry>
                  <literal>Del</literal>
                </entry>
                <entry>
    delete file (be careful---set MC to safe delete mode)
    </entry>
              </row>
              <row>
                <entry>
    Cursor keys
    </entry>
                <entry>
    self-explanatory
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </section>
      <section id="_command_line_tricks_in_mc">
        <title>Command-line tricks in MC</title>
        <itemizedlist>
          <listitem>
            <simpara>
Any <literal>cd</literal> command will change the directory shown on the selected screen.
</simpara>
          </listitem>
          <listitem>
            <simpara><literal>Ctrl-Enter</literal> or <literal>Alt-Enter</literal> will copy a filename to the command line. Use this with <literal>cp</literal>(1) and <literal>mv</literal>(1) commands together with command-line editing.
</simpara>
          </listitem>
          <listitem>
            <simpara><literal>Alt-Tab</literal> will show shell filename expansion choices.
</simpara>
          </listitem>
          <listitem>
            <simpara>
One can specify the starting directory for both windows as arguments to MC; for example, "<literal>mc /etc /root</literal>".
</simpara>
          </listitem>
          <listitem>
            <simpara><literal>Esc</literal> + <literal>n-key</literal> → <literal>Fn</literal> (i.e., <literal>Esc</literal> + <literal>1</literal> → <literal>F1</literal>, etc.; <literal>Esc</literal> + <literal>0</literal> → <literal>F10</literal>)
</simpara>
          </listitem>
          <listitem>
            <simpara>
Pressing <literal>Esc</literal> before the key has the same effect as pressing the <literal>Alt</literal> and the key together.; i.e., type <literal>Esc</literal> + <literal>c</literal> for <literal>Alt-C</literal>.  <literal>Esc</literal> is called meta-key and sometimes noted as "<literal>M-</literal>".
</simpara>
          </listitem>
        </itemizedlist>
      </section>
      <section id="_the_internal_editor_in_mc">
        <title>The internal editor in MC</title>
        <simpara>The internal editor has an interesting cut-and-paste scheme.  Pressing <literal>F3</literal> marks the start of a selection, a second <literal>F3</literal> marks the end of selection and highlights the selection.  Then you can move your cursor.  If you press F6, the selected area will be moved to the cursor location.  If you press F5, the selected area will be copied and inserted at the cursor location.  <literal>F2</literal> will save the file.  <literal>F10</literal> will get you out.  Most cursor keys work intuitively.</simpara>
        <simpara>This editor can be directly started on a file using one of the following commands.</simpara>
        <screen>$ mc -e filename_to_edit</screen>
        <screen>$ mcedit filename_to_edit</screen>
        <simpara>This is not a multi-window editor, but one can use multiple Linux consoles to achieve the same effect.  To copy between windows, use Alt-F&lt;n&gt; keys to switch virtual consoles and use "File→Insert file" or "File→Copy to file" to move a portion of a file to another file.</simpara>
        <simpara>This internal editor can be replaced with any external editor of choice.</simpara>
        <simpara>Also, many programs use the environment variables "<literal>$EDITOR</literal>" or "<literal>$VISUAL</literal>" to decide which editor to use.  If you are uncomfortable with <literal>vim</literal>(1) or <literal>nano</literal>(1) initially, you may set these to "<literal>mcedit</literal>" by adding the following lines to "<literal>~/.bashrc</literal>".</simpara>
        <screen>export EDITOR=mcedit
export VISUAL=mcedit</screen>
        <simpara>I do recommend setting these to "<literal>vim</literal>" if possible.</simpara>
        <simpara>If you are uncomfortable with <literal>vim</literal>(1), you can keep using <literal>mcedit</literal>(1) for most system maintenance tasks.</simpara>
      </section>
      <section id="_the_internal_viewer_in_mc">
        <title>The internal viewer in MC</title>
        <simpara>MC is a very smart viewer.  This is a great tool for searching words in documents.  I always use this for files in the "<literal>/usr/share/doc</literal>" directory.  This is the fastest way to browse through masses of Linux information.  This viewer can be directly started using one of the following commands.</simpara>
        <screen>$ mc -v path/to/filename_to_view</screen>
        <screen>$ mcview path/to/filename_to_view</screen>
      </section>
      <section id="_auto_start_features_of_mc">
        <title>Auto-start features of MC</title>
        <simpara>Press Enter on a file, and the appropriate program will handle the content of the file (see <xref linkend="_customizing_program_to_be_started"/>).  This is a very convenient MC feature.</simpara>
        <table id="thereactiontotheenterkeyinmc" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>The reaction to the enter key in MC</title>
          <tgroup cols="2">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="70%*" align="left"/>
            <thead>
              <row>
                <entry>
    file type
    </entry>
                <entry>
    reaction to enter key
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
    executable file
    </entry>
                <entry>
    execute command
    </entry>
              </row>
              <row>
                <entry>
    man file
    </entry>
                <entry>
    pipe content to viewer software
    </entry>
              </row>
              <row>
                <entry>
    html file
    </entry>
                <entry>
    pipe content to web browser
    </entry>
              </row>
              <row>
                <entry>
    "<literal>*.tar.gz</literal>" and "<literal>*.deb</literal>" file
    </entry>
                <entry>
    browse its contents as if subdirectory
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>In order to allow these viewer and virtual file features to function, viewable files should not be set as executable.  Change their status using <literal>chmod</literal>(1) or via the MC file menu.</simpara>
      </section>
      <section id="_ftp_virtual_filesystem_of_mc">
        <title>FTP virtual filesystem of MC</title>
        <simpara>MC can be used to access files over the Internet using FTP.  Go to the menu by pressing <literal>F9</literal>, then type "<literal>p</literal>" to activate the FTP virtual filesystem.  Enter a URL in the form "<literal>username:passwd@hostname.domainname</literal>", which will retrieve a remote directory that appears like a local one.</simpara>
        <simpara>Try "[http.us.debian.org/debian]" as the URL and browse the Debian archive.</simpara>
      </section>
    </section>
    <section id="_the_basic_unix_like_work_environment">
      <title>The basic Unix-like work environment</title>
      <simpara>Although MC enables you to do almost everything, it is very important for you to learn how to use the command line tools invoked from the shell prompt and become familiar with the Unix-like work environment.</simpara>
      <section id="_the_login_shell">
        <title>The login shell</title>
        <simpara>You can select your login shell with <literal>chsh</literal>(1).</simpara>
        <table id="list-of-shell-programs" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of shell programs</title>
          <tgroup cols="5">
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="60%*" align="left"/>
            <thead>
              <row>
                <entry>
    package
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    size
    </entry>
                <entry>
    POSIX shell
    </entry>
                <entry>
    description
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/bash">
                  <literal>bash</literal>
                </ulink> <ulink url="http://bugs.debian.org/bash">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=bash">&pop-bash;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/b/bash.html">&size-bash;</ulink></entry>
                <entry>
    Yes
    </entry>
                <entry><ulink url="&bash;">Bash</ulink>: the GNU Bourne Again SHell (de facto standard)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/tcsh">
                  <literal>tcsh</literal>
                </ulink> <ulink url="http://bugs.debian.org/tcsh">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=tcsh">&pop-tcsh;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/t/tcsh.html">&size-tcsh;</ulink></entry>
                <entry>
    No
    </entry>
                <entry><ulink url="&tenexcshell;">TENEX C Shell</ulink>: an enhanced version of <ulink url="&berkeleycsh;">Berkeley csh</ulink></entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/dash">
                  <literal>dash</literal>
                </ulink> <ulink url="http://bugs.debian.org/dash">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=dash">&pop-dash;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/d/dash.html">&size-dash;</ulink></entry>
                <entry>
    Yes
    </entry>
                <entry>
    Debian <ulink url="&almquistshell;">Almquist Shell</ulink>, good for shell script
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/zsh">
                  <literal>zsh</literal>
                </ulink> <ulink url="http://bugs.debian.org/zsh">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=zsh">&pop-zsh;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/z/zsh.html">&size-zsh;</ulink></entry>
                <entry>
    Yes
    </entry>
                <entry><ulink url="&zshell;">Z shell</ulink>: the standard shell with many enhancements
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/pdksh">
                  <literal>pdksh</literal>
                </ulink> <ulink url="http://bugs.debian.org/pdksh">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=pdksh">&pop-pdksh;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/p/pdksh.html">&size-pdksh;</ulink></entry>
                <entry>
    Yes
    </entry>
                <entry>
    public domain version of the <ulink url="&kornshell;">Korn shell</ulink>
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/csh">
                  <literal>csh</literal>
                </ulink> <ulink url="http://bugs.debian.org/csh">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=csh">&pop-csh;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/c/csh.html">&size-csh;</ulink></entry>
                <entry>
    No
    </entry>
                <entry><ulink url="&openbsd;">OpenBSD</ulink> C Shell, a version of <ulink url="&berkeleycsh;">Berkeley csh</ulink>
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/sash">
                  <literal>sash</literal>
                </ulink> <ulink url="http://bugs.debian.org/sash">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=sash">&pop-sash;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/s/sash.html">&size-sash;</ulink></entry>
                <entry>
    Yes
    </entry>
                <entry><ulink url="&standaloneshell;">Stand-alone shell</ulink> with builtin commands (Not meant for standard "<literal>/bin/sh</literal>")
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/ksh">
                  <literal>ksh</literal>
                </ulink> <ulink url="http://bugs.debian.org/ksh">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=ksh">&pop-ksh;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/k/ksh.html">&size-ksh;</ulink></entry>
                <entry>
    Yes
    </entry>
                <entry>
    the real, AT&amp;T version of the <ulink url="&kornshell;">Korn shell</ulink>
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/rc">
                  <literal>rc</literal>
                </ulink> <ulink url="http://bugs.debian.org/rc">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=rc">&pop-rc;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/r/rc.html">&size-rc;</ulink></entry>
                <entry>
    No
    </entry>
                <entry>
    implementation of the <ulink url="&attplanj;">AT&amp;T Plan 9</ulink> <ulink url="&rcshell;">rc shell</ulink>
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/posh">
                  <literal>posh</literal>
                </ulink> <ulink url="http://bugs.debian.org/posh">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=posh">&pop-posh;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/p/posh.html">&size-posh;</ulink></entry>
                <entry>
    Yes
    </entry>
                <entry>
    Policy-compliant Ordinary SHell (<literal>pdksh</literal> derivative)
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>In this tutorial chapter, the interactive shell always means <literal>bash</literal>.</simpara>
      </section>
      <section id="_customizing_bash">
        <title>Customizing bash</title>
        <simpara>You can customize <literal>bash</literal>(1) behavior by "<literal>~/.bashrc</literal>".</simpara>
        <simpara>For example, try the following.</simpara>
        <screen># CD upon exiting MC
. /usr/share/mc/bin/mc.sh

# set CDPATH to good one
CDPATH=.:/usr/share/doc:~/Desktop/src:~/Desktop:~
export CDPATH

PATH="${PATH}":/usr/sbin:/sbin
# set PATH so it includes user's private bin if it exists
if [ -d ~/bin ] ; then
  PATH=~/bin:"${PATH}"
fi
export PATH

EDITOR=vim
export EDITOR</screen>
        <tip>
          <simpara>You can find more <literal>bash</literal> customization tips, such as <xref linkend="_colorized_commands"/>, in <xref linkend="_system_tips"/>.</simpara>
        </tip>
      </section>
      <section id="_special_key_strokes">
        <title>Special key strokes</title>
        <simpara>In the <ulink url="&unixlike;">Unix-like</ulink> environment, there are few key strokes which have special meanings.  Please note that on a normal Linux character console, only the left-hand <literal>Ctrl</literal> and <literal>Alt</literal> keys work as expected.  Here are few notable key strokes to remember.</simpara>
        <table id="listofkeybindingsforbash" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of key bindings for bash</title>
          <tgroup cols="2">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="70%*" align="left"/>
            <thead>
              <row>
                <entry>
    key
    </entry>
                <entry>
    description of key binding
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>Ctrl-U</literal>
                </entry>
                <entry>
    erase line before cursor
    </entry>
              </row>
              <row>
                <entry>
                  <literal>Ctrl-H</literal>
                </entry>
                <entry>
    erase a character before cursor
    </entry>
              </row>
              <row>
                <entry>
                  <literal>Ctrl-D</literal>
                </entry>
                <entry>
    terminate input (exit shell if you are using shell)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>Ctrl-C</literal>
                </entry>
                <entry>
    terminate a running program
    </entry>
              </row>
              <row>
                <entry>
                  <literal>Ctrl-Z</literal>
                </entry>
                <entry>
    temporarily stop program by moving it to the background job
    </entry>
              </row>
              <row>
                <entry>
                  <literal>Ctrl-S</literal>
                </entry>
                <entry>
    halt output to screen
    </entry>
              </row>
              <row>
                <entry>
                  <literal>Ctrl-Q</literal>
                </entry>
                <entry>
    reactivate output to screen
    </entry>
              </row>
              <row>
                <entry>
                  <literal>Ctrl-Alt-Del</literal>
                </entry>
                <entry>
    reboot/halt the system, see <literal>inittab</literal>(5)
    </entry>
              </row>
              <row>
                <entry><literal>Left-Alt-key</literal> (optionally, <literal>Windows-key</literal>)
    </entry>
                <entry>
    meta-key for Emacs and the similar UI
    </entry>
              </row>
              <row>
                <entry>
                  <literal>Up-arrow</literal>
                </entry>
                <entry>
    start command history search under <literal>bash</literal>
    </entry>
              </row>
              <row>
                <entry>
                  <literal>Ctrl-R</literal>
                </entry>
                <entry>
    start incremental command history search under <literal>bash</literal>
    </entry>
              </row>
              <row>
                <entry>
                  <literal>Tab</literal>
                </entry>
                <entry>
    complete input of the filename to the command line under <literal>bash</literal>
    </entry>
              </row>
              <row>
                <entry>
                  <literal>Ctrl-V</literal>
                  <literal>Tab</literal>
                </entry>
                <entry>
    input <literal>Tab</literal> without expansion to the command line under <literal>bash</literal>
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <tip>
          <simpara>The terminal feature of <literal>Ctrl-S</literal> can be disabled using <literal>stty</literal>(1).</simpara>
        </tip>
      </section>
      <section id="_unix_style_mouse_operations">
        <title>Unix style mouse operations</title>
        <simpara>Unix style mouse operations are based on the 3 button mouse system.</simpara>
        <table id="listofunixstylemouseoperations" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of Unix style mouse operations</title>
          <tgroup cols="2">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="70%*" align="left"/>
            <thead>
              <row>
                <entry>
    action
    </entry>
                <entry>
    response
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
    Left-click-and-drag mouse
    </entry>
                <entry>
    select and copy to the clipboard
    </entry>
              </row>
              <row>
                <entry>
    Left-click
    </entry>
                <entry>
    select the start of selection
    </entry>
              </row>
              <row>
                <entry>
    Right-click
    </entry>
                <entry>
    select the end of selection and copy to the clipboard
    </entry>
              </row>
              <row>
                <entry>
    Middle-click
    </entry>
                <entry>
    paste clipboard at the cursor
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>The center wheel on the modern wheel mouse is considered middle mouse button and can be used for middle-click.  Clicking left and right mouse buttons together serves as the middle-click under the 2 button mouse system situation.  In order to use a mouse in Linux character consoles, you need to have <literal>gpm</literal>(8) running as daemon.</simpara>
      </section>
      <section id="_the_pager">
        <title>The pager</title>
        <simpara><literal>less</literal>(1) is the enhanced pager (file content browser).  Hit "<literal>h</literal>" for help.  It can do much more than <literal>more</literal>(1) and can be supercharged by executing "<literal>eval $(lesspipe)</literal>" or "<literal>eval $(lessfile)</literal>" in the shell startup script. See more in "<literal>/usr/share/doc/lessf/LESSOPEN</literal>".  The "<literal>-R</literal>" option allows raw character output and enables ANSI color escape sequences.  See <literal>less</literal>(1).</simpara>
      </section>
      <section id="_the_text_editor">
        <title>The text editor</title>
        <simpara>You should become proficient in one of variants of <ulink url="&vim;">Vim</ulink> or <ulink url="&emacs;">Emacs</ulink> programs which are popular in the Unix-like system.</simpara>
        <simpara>I think getting used to Vim commands is the right thing to do, since Vi-editor is always there in the Linux/Unix world.  (Actually, original <literal>vi</literal> or new <literal>nvi</literal> are programs you find everywhere.  I chose Vim instead for newbie since it offers you help through <literal>F1</literal> key while it is similar enough and more powerful.)</simpara>
        <simpara>If you chose either <ulink url="&emacs;">Emacs</ulink> or <ulink url="&xemacs;">XEmacs</ulink> instead as your choice of the editor, that is another good choice indeed, particularly for programming.  Emacs has a plethora of other features as well, including functioning as a newsreader, directory editor, mail program, etc.  When used for programming or editing shell scripts, it intelligently recognizes the format of what you are working on, and tries to provide assistance.  Some people maintain that the only program they need on Linux is Emacs.  Ten minutes learning Emacs now can save hours later.  Having the GNU Emacs manual for reference when learning Emacs is highly recommended.</simpara>
        <simpara>All these programs usually come with tutoring program for you to learn them by practice.  Start Vim by typing "<literal>vim</literal>" and press F1-key.  You should at least read the first 35 lines.  Then do the online training course by moving cursor to "<literal>|tutor|</literal>" and pressing <literal>Ctrl-]</literal>.</simpara>
        <note>
          <simpara>Good editors, such as Vim and Emacs, can be used to handle UTF-8 and other exotic encoding texts correctly with proper option in the x-terminal-emulator on X under UTF-8 locale with proper font settings.  Please refer to their documentation on multibyte text.</simpara>
        </note>
      </section>
      <section id="_setting_a_default_text_editor">
        <title>Setting a default text editor</title>
        <simpara>Debian comes with a number of different editors. We recommend to install the <literal>vim</literal> package, as mentioned above.</simpara>
        <simpara>Debian provides unified access to the system default editor via command "<literal>/usr/bin/editor</literal>" so other programs (e.g., <literal>reportbug</literal>(1)) can invoke it.  You can change it by the following.</simpara>
        <screen>$ sudo update-alternatives --config editor</screen>
        <simpara>The choice "<literal>/usr/bin/vim.basic</literal>" over "<literal>/usr/bin/vim.tiny</literal>" is my recommendation for newbies since it supports syntax highlighting.</simpara>
        <tip>
          <simpara>Many programs use the environment variables "<literal>$EDITOR</literal>" or "<literal>$VISUAL</literal>" to decide which editor to use (see <xref linkend="_the_internal_editor_in_mc"/> and <xref linkend="_customizing_program_to_be_started"/>).  For the consistency on Debian system, set these to "<literal>/usr/bin/editor</literal>". (Historically, "<literal>$EDITOR</literal>" was "<literal>ed</literal>" and "<literal>$VISUAL</literal>" was "<literal>vi</literal>".)</simpara>
        </tip>
      </section>
      <section id="_customizing_vim">
        <title>Customizing vim</title>
        <simpara>You can customize <literal>vim</literal>(1) behavior by "<literal>~/.vimrc</literal>".</simpara>
        <simpara>For example, try the following</simpara>
        <screen>" -------------------------------
" Local configuration
"
set nocompatible
set nopaste
set pastetoggle=&lt;f2&gt;
syn on
if $USER == "root"
 set nomodeline
 set noswapfile
else
 set modeline
 set swapfile
endif
" filler to avoid the line above being recognized as a modeline
" filler
" filler</screen>
      </section>
      <section id="_recording_the_shell_activities">
        <title>Recording the shell activities</title>
        <simpara>The output of the shell command may roll off your screen and may be lost forever.  It is good practice to log shell activities into the file for you to review them later.  This kind of record is essential when you perform any system administration tasks.</simpara>
        <simpara>The basic method of recording the shell activity is to run it under <literal>script</literal>(1).</simpara>
        <simpara>For example, try the following</simpara>
        <screen>$ script
Script started, file is typescript</screen>
        <simpara>Do whatever shell commands under <literal>script</literal>.</simpara>
        <simpara>Press <literal>Ctrl-D</literal> to exit <literal>script</literal>.</simpara>
        <screen>$ vim typescript</screen>
        <simpara>See <xref linkend="_recording_the_shell_activities_cleanly"/> .</simpara>
      </section>
      <section id="_basic_unix_commands">
        <title>Basic Unix commands</title>
        <simpara>Let's learn basic Unix commands.  Here I use "Unix" in its generic sense.  Any Unix clone OSs usually offer equivalent commands.  The Debian system is no exception.  Do not worry if some commands do not work as you wish now. If <literal>alias</literal> is used in the shell, its corresponding command outputs are different.  These examples are not meant to be executed in this order.</simpara>
        <simpara>Try all following commands from the non-privileged user account.</simpara>
        <table id="listofbasicunixcommands" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of basic Unix commands</title>
          <tgroup cols="2">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="70%*" align="left"/>
            <thead>
              <row>
                <entry>
    command
    </entry>
                <entry>
    description
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>pwd</literal>
                </entry>
                <entry>
    display name of current/working directory
    </entry>
              </row>
              <row>
                <entry>
                  <literal>whoami</literal>
                </entry>
                <entry>
    display current user name
    </entry>
              </row>
              <row>
                <entry>
                  <literal>id</literal>
                </entry>
                <entry>
    display current user identity (name, uid, gid, and associated groups)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>file &lt;foo&gt;</literal>
                </entry>
                <entry>
    display a type of file for the file "<literal>&lt;foo&gt;</literal>"
    </entry>
              </row>
              <row>
                <entry>
                  <literal>type -p &lt;commandname&gt;</literal>
                </entry>
                <entry>
    display a file location of command "<literal>&lt;commandname&gt;</literal>"
    </entry>
              </row>
              <row>
                <entry>
                  <literal>which &lt;commandname&gt;</literal>
                </entry>
                <entry>
    , ,
    </entry>
              </row>
              <row>
                <entry>
                  <literal>type &lt;commandname&gt;</literal>
                </entry>
                <entry>
    display information on command "<literal>&lt;commandname&gt;</literal>"
    </entry>
              </row>
              <row>
                <entry>
                  <literal>apropos &lt;key-word&gt;</literal>
                </entry>
                <entry>
    find commands related to "<literal>&lt;key-word&gt;</literal>"
    </entry>
              </row>
              <row>
                <entry>
                  <literal>man -k &lt;key-word&gt;</literal>
                </entry>
                <entry>
    , ,
    </entry>
              </row>
              <row>
                <entry>
                  <literal>whatis &lt;commandname&gt;</literal>
                </entry>
                <entry>
    display one line explanation on command "<literal>&lt;commandname&gt;</literal>"
    </entry>
              </row>
              <row>
                <entry>
                  <literal>man -a &lt;commandname&gt;</literal>
                </entry>
                <entry>
    display explanation on command "<literal>&lt;commandname&gt;</literal>" (Unix style)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>info &lt;commandname&gt;</literal>
                </entry>
                <entry>
    display rather long explanation on command "<literal>&lt;commandname&gt;</literal>" (GNU style)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>ls</literal>
                </entry>
                <entry>
    list contents of directory (non-dot files and directories)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>ls -a</literal>
                </entry>
                <entry>
    list contents of directory (all files and directories)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>ls -A</literal>
                </entry>
                <entry>
    list contents of directory (almost all files and directories, i.e., skip "<literal>..</literal>" and "<literal>.</literal>")
    </entry>
              </row>
              <row>
                <entry>
                  <literal>ls -la</literal>
                </entry>
                <entry>
    list all contents of directory with detail information
    </entry>
              </row>
              <row>
                <entry>
                  <literal>ls -lai</literal>
                </entry>
                <entry>
    list all contents of directory with inode number and detail information
    </entry>
              </row>
              <row>
                <entry>
                  <literal>ls -d</literal>
                </entry>
                <entry>
    list all directories under the current directory
    </entry>
              </row>
              <row>
                <entry>
                  <literal>tree</literal>
                </entry>
                <entry>
    display file tree contents
    </entry>
              </row>
              <row>
                <entry>
                  <literal>lsof &lt;foo&gt;</literal>
                </entry>
                <entry>
    list open status of file "<literal>&lt;foo&gt;</literal>"
    </entry>
              </row>
              <row>
                <entry>
                  <literal>lsof -p &lt;pid&gt;</literal>
                </entry>
                <entry>
    list files opened by the process ID: "<literal>&lt;pid&gt;</literal>"
    </entry>
              </row>
              <row>
                <entry>
                  <literal>mkdir &lt;foo&gt;</literal>
                </entry>
                <entry>
    make a new directory "<literal>&lt;foo&gt;</literal>" in the current directory
    </entry>
              </row>
              <row>
                <entry>
                  <literal>rmdir &lt;foo&gt;</literal>
                </entry>
                <entry>
    remove a directory "<literal>&lt;foo&gt;</literal>" in the current directory
    </entry>
              </row>
              <row>
                <entry>
                  <literal>cd &lt;foo&gt;</literal>
                </entry>
                <entry>
    change directory to the directory "<literal>&lt;foo&gt;</literal>" in the current directory or in the directory listed in the variable "<literal>$CDPATH</literal>"
    </entry>
              </row>
              <row>
                <entry>
                  <literal>cd /</literal>
                </entry>
                <entry>
    change directory to the root directory
    </entry>
              </row>
              <row>
                <entry>
                  <literal>cd</literal>
                </entry>
                <entry>
    change directory to the current user's home directory
    </entry>
              </row>
              <row>
                <entry>
                  <literal>cd /&lt;foo&gt;</literal>
                </entry>
                <entry>
    change directory to the absolute path directory "<literal>/&lt;foo&gt;</literal>"
    </entry>
              </row>
              <row>
                <entry>
                  <literal>cd ..</literal>
                </entry>
                <entry>
    change directory to the parent directory
    </entry>
              </row>
              <row>
                <entry>
                  <literal>cd ~&lt;foo&gt;</literal>
                </entry>
                <entry>
    change directory to the home directory of the user "<literal>&lt;foo&gt;</literal>"
    </entry>
              </row>
              <row>
                <entry>
                  <literal>cd -</literal>
                </entry>
                <entry>
    change directory to the previous directory
    </entry>
              </row>
              <row>
                <entry>
                  <literal>&lt;/etc/motd pager</literal>
                </entry>
                <entry>
    display contents of "<literal>/etc/motd</literal>" using the default pager
    </entry>
              </row>
              <row>
                <entry>
                  <literal>touch &lt;junkfile&gt;</literal>
                </entry>
                <entry>
    create a empty file "<literal>&lt;junkfile&gt;</literal>"
    </entry>
              </row>
              <row>
                <entry>
                  <literal>cp &lt;foo&gt; &lt;bar&gt;</literal>
                </entry>
                <entry>
    copy a existing file "<literal>&lt;foo&gt;</literal>" to a new file "<literal>&lt;bar&gt;</literal>"
    </entry>
              </row>
              <row>
                <entry>
                  <literal>rm &lt;junkfile&gt;</literal>
                </entry>
                <entry>
    remove a file "<literal>&lt;junkfile&gt;</literal>"
    </entry>
              </row>
              <row>
                <entry>
                  <literal>mv &lt;foo&gt; &lt;bar&gt;</literal>
                </entry>
                <entry>
    rename an existing file "<literal>&lt;foo&gt;</literal>" to a new name "<literal>&lt;bar&gt;</literal>" ("<literal>&lt;bar&gt;</literal>" must not exist)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>mv &lt;foo&gt; &lt;bar&gt;</literal>
                </entry>
                <entry>
    move an existing file "<literal>&lt;foo&gt;</literal>" to a new location "<literal>&lt;bar&gt;/&lt;foo&gt;</literal>" (the directory "<literal>&lt;bar&gt;</literal>" must exist)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>mv &lt;foo&gt; &lt;bar&gt;/&lt;baz&gt;</literal>
                </entry>
                <entry>
    move an existing file "<literal>&lt;foo&gt;</literal>" to a new location with a new name "<literal>&lt;bar&gt;/&lt;baz&gt;</literal>" (the directory "<literal>&lt;bar&gt;</literal>" must exist but the directory "<literal>&lt;bar&gt;/&lt;baz&gt;</literal>" must not exist)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>chmod 600 &lt;foo&gt;</literal>
                </entry>
                <entry>
    make an existing file "<literal>&lt;foo&gt;</literal>" to be non-readable and non-writable by the other people (non-executable for all)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>chmod 644 &lt;foo&gt;</literal>
                </entry>
                <entry>
    make an existing file "<literal>&lt;foo&gt;</literal>" to be readable but non-writable by the other people (non-executable for all)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>chmod 755 &lt;foo&gt;</literal>
                </entry>
                <entry>
    make an existing file "<literal>&lt;foo&gt;</literal>" to be readable but non-writable by the other people (executable for all)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>find .  -name &lt;pattern&gt;</literal>
                </entry>
                <entry>
    find matching filenames using shell "<literal>&lt;pattern&gt;</literal>" (slower)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>locate -d .  &lt;pattern&gt;</literal>
                </entry>
                <entry>
    find matching filenames using shell "<literal>&lt;pattern&gt;</literal>" (quicker using regularly generated database)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>grep -e "&lt;pattern&gt;" *.html</literal>
                </entry>
                <entry>
    find a "&lt;pattern&gt;" in all files ending with "<literal>.html</literal>" in current directory and display them all
    </entry>
              </row>
              <row>
                <entry>
                  <literal>top</literal>
                </entry>
                <entry>
    display process information using full screen, type "<literal>q</literal>" to quit
    </entry>
              </row>
              <row>
                <entry>
                  <literal>ps aux | pager</literal>
                </entry>
                <entry>
    display information on all the running processes using BSD style output
    </entry>
              </row>
              <row>
                <entry>
                  <literal>ps -ef | pager</literal>
                </entry>
                <entry>
    display information on all the running processes using Unix system-V style output
    </entry>
              </row>
              <row>
                <entry>
                  <literal>ps aux | grep -e "[e]xim4*"</literal>
                </entry>
                <entry>
    display all processes running "<literal>exim</literal>" and "<literal>exim4</literal>"
    </entry>
              </row>
              <row>
                <entry>
                  <literal>ps axf | pager</literal>
                </entry>
                <entry>
    display information on all the running processes with ASCII art output
    </entry>
              </row>
              <row>
                <entry>
                  <literal>kill &lt;1234&gt;</literal>
                </entry>
                <entry>
    kill a process identified by the process ID: "&lt;1234&gt;"
    </entry>
              </row>
              <row>
                <entry>
                  <literal>gzip &lt;foo&gt;</literal>
                </entry>
                <entry>
    compress "<literal>&lt;foo&gt;</literal>" to create "<literal>&lt;foo&gt;.gz</literal>" using the Lempel-Ziv coding (LZ77)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>gunzip &lt;foo&gt;.gz</literal>
                </entry>
                <entry>
    decompress "<literal>&lt;foo&gt;.gz</literal>" to create "<literal>&lt;foo&gt;</literal>"
    </entry>
              </row>
              <row>
                <entry>
                  <literal>bzip2 &lt;foo&gt;</literal>
                </entry>
                <entry>
    compress "<literal>&lt;foo&gt;</literal>" to create "<literal>&lt;foo&gt;.bz2</literal>" using the Burrows-Wheeler block sorting text compression algorithm, and Huffman coding (better compression than <literal>gzip</literal>)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>bunzip2 &lt;foo&gt;.bz2</literal>
                </entry>
                <entry>
    decompress "<literal>&lt;foo&gt;.bz2</literal>" to create "<literal>&lt;foo&gt;</literal>"
    </entry>
              </row>
              <row>
                <entry>
                  <literal>tar -xvf &lt;foo&gt;.tar</literal>
                </entry>
                <entry>
    extract files from "<literal>&lt;foo&gt;.tar</literal>" archive
    </entry>
              </row>
              <row>
                <entry>
                  <literal>tar -xvzf &lt;foo&gt;.tar.gz</literal>
                </entry>
                <entry>
    extract files from gzipped "<literal>&lt;foo&gt;.tar.gz</literal>" archive
    </entry>
              </row>
              <row>
                <entry>
                  <literal>tar -xvf -j &lt;foo&gt;.tar.bz2</literal>
                </entry>
                <entry>
    extract files from "<literal>&lt;foo&gt;.tar.bz2</literal>" archive
    </entry>
              </row>
              <row>
                <entry>
                  <literal>tar -cvf &lt;foo&gt;.tar &lt;bar&gt;/</literal>
                </entry>
                <entry>
    archive contents of folder "<literal>&lt;bar&gt;/</literal>" in "<literal>&lt;foo&gt;.tar</literal>" archive
    </entry>
              </row>
              <row>
                <entry>
                  <literal>tar -cvzf &lt;foo&gt;.tar.gz &lt;bar&gt;/</literal>
                </entry>
                <entry>
    archive contents of folder "<literal>&lt;bar&gt;/</literal>" in compressed "<literal>&lt;foo&gt;.tar.gz</literal>" archive
    </entry>
              </row>
              <row>
                <entry>
                  <literal>tar -cvjf &lt;foo&gt;.tar.bz2 &lt;bar&gt;/</literal>
                </entry>
                <entry>
    archive contents of folder "<literal>&lt;bar&gt;/</literal>" in "<literal>&lt;foo&gt;.tar.bz2</literal>" archive
    </entry>
              </row>
              <row>
                <entry>
                  <literal>zcat README.gz | pager</literal>
                </entry>
                <entry>
    display contents of compressed "<literal>README.gz</literal>" using the default pager
    </entry>
              </row>
              <row>
                <entry>
                  <literal>zcat README.gz &gt; foo</literal>
                </entry>
                <entry>
    create a file "<literal>foo</literal>" with the decompressed content of "<literal>README.gz</literal>"
    </entry>
              </row>
              <row>
                <entry>
                  <literal>zcat README.gz &gt;&gt; foo</literal>
                </entry>
                <entry>
    append the decompressed content of "<literal>README.gz</literal>" to the end of the file "<literal>foo</literal>" (if it does not exist, create it first)
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <note>
          <simpara>Unix has a tradition to hide filenames which start with "<literal>.</literal>".  They are traditionally files that contain configuration information and user preferences.</simpara>
        </note>
        <note>
          <simpara>For <literal>cd</literal> command, see <literal>builtins</literal>(7).</simpara>
        </note>
        <note>
          <simpara>The default pager of the bare bone Debian system is <literal>more</literal>(1) which cannot scroll back.  By installing the <literal>less</literal> package using command line "<literal>aptitude install less</literal>", <literal>less</literal>(1) becomes default pager and you can scroll back with cursor keys.</simpara>
        </note>
        <note>
          <simpara>The "<literal>[</literal>" and "<literal>]</literal>" in the regular expression of the "<literal>ps aux | grep -e "[e]xim4*"</literal>" command above enable <literal>grep</literal> to avoid matching itself.  The "<literal>4*</literal>" in the regular expression means 0 or more repeats of character "<literal>4</literal>" thus enables <literal>grep</literal> to match both "<literal>exim</literal>" and "<literal>exim4</literal>".  Although "<literal>*</literal>" is used in the shell filename glob and the regular expression, their meanings are different.  Learn the regular expression from <literal>grep</literal>(1).</simpara>
        </note>
        <simpara>Please traverse directories and peek into the system using the above commands as training.  If you have questions on any of console commands, please make sure to read the manual page.</simpara>
        <simpara>For example, try the following</simpara>
        <screen>$ man man
$ man bash
$ man builtins
$ man grep
$ man ls</screen>
        <simpara>The style of man pages may be a little hard to get used to, because they are rather terse, particularly the older, very traditional ones. But once you get used to it, you come to appreciate their succinctness.</simpara>
        <simpara>Please note that many Unix-like commands including ones from GNU and BSD will display brief help information if you invoke them in one of the following ways (or without any arguments in some cases).</simpara>
        <screen>$ &lt;commandname&gt; --help
$ &lt;commandname&gt; -h</screen>
      </section>
    </section>
    <section id="_the_simple_shell_command">
      <title>The simple shell command</title>
      <simpara>Now you have some feel on how to use the Debian system.  Let's look deep into the mechanism of the command execution in the Debian system. Here, I have simplified reality for the newbie.  See <literal>bash</literal>(1) for the exact explanation.</simpara>
      <simpara>A simple command is a sequence of components.</simpara>
      <orderedlist>
        <listitem>
          <simpara>
Variable assignments (optional)
</simpara>
        </listitem>
        <listitem>
          <simpara>
Command name
</simpara>
        </listitem>
        <listitem>
          <simpara>
Arguments (optional)
</simpara>
        </listitem>
        <listitem>
          <simpara>
Redirections (optional: <literal>&gt;</literal> , <literal>&gt;&gt;</literal> , <literal>&lt;</literal> , <literal>&lt;&lt;</literal> , etc.)
</simpara>
        </listitem>
        <listitem>
          <simpara>
Control operator (optional: <literal>&amp;&amp;</literal> , <literal>||</literal> , &lt;newline&gt; , <literal>;</literal> , <literal>&amp;</literal> , <literal>(</literal> , <literal>)</literal> )
</simpara>
        </listitem>
      </orderedlist>
      <section id="_command_execution_and_environment_variable">
        <title>Command execution and environment variable</title>
        <simpara>Values of some <ulink url="&environmentvariables;">environment variables</ulink> change the behavior of some Unix commands.</simpara>
        <simpara>Default values of environment variables are initially set by the PAM system and then some of them may be reset by some application programs.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
The display manager such as <literal>gdm</literal> resets environment variables.
</simpara>
          </listitem>
          <listitem>
            <simpara>
The shell in its start up codes resets environment variables in "<literal>~/bash_profile</literal>" and "<literal>~/.bashrc</literal>".
</simpara>
          </listitem>
        </itemizedlist>
      </section>
      <section id="_literal_lang_literal_variable">
        <title>"<literal>$LANG</literal>" variable</title>
        <simpara>The full locale value given to "<literal>$LANG</literal>" variable consists of 3 parts: "<literal>xx_YY.ZZZZ</literal>".</simpara>
        <table id="dpartsoflocalevalue" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>3 parts of locale value</title>
          <tgroup cols="2">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="70%*" align="left"/>
            <thead>
              <row>
                <entry>
    locale value
    </entry>
                <entry>
    meaning
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>xx</literal>
                </entry>
                <entry>
                  <ulink url="&isogdjlanguagecoowercasesuchasen;">ISO 639 language codes (lower case) such as "en"</ulink>
                </entry>
              </row>
              <row>
                <entry>
                  <literal>YY</literal>
                </entry>
                <entry>
                  <ulink url="&isodbggcountrycoppercasesuchasus;">ISO 3166 country codes (upper case) such as "US"</ulink>
                </entry>
              </row>
              <row>
                <entry>
                  <literal>ZZZZ</literal>
                </entry>
                <entry>
                  <ulink url="&codesetalwayssettoutfi;">codeset, always set to "UTF-8"</ulink>
                </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>For language codes and country codes, see pertinent description in the "<literal>info gettext</literal>".</simpara>
        <simpara>For the codeset on the modern Debian system, you should always set it to <emphasis role="strong"><literal>UTF-8</literal></emphasis> unless you specifically want to use the historic one with good reason and background knowledge.</simpara>
        <simpara>For fine details of the locale configuration, see <xref linkend="_the_locale"/>.</simpara>
        <note>
          <simpara>The "<literal>LANG=en_US</literal>" is not "<literal>LANG=C</literal>" nor "<literal>LANG=en_US.UTF-8</literal>". It is "<literal>LANG=en_US.ISO-8859-1</literal>" (see <xref linkend="_basics_of_encoding"/>).</simpara>
        </note>
        <table id="listoflocalerecommendations" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of locale recommendations</title>
          <tgroup cols="2">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="70%*" align="left"/>
            <thead>
              <row>
                <entry>
    locale recommendation
    </entry>
                <entry>
    Language (area)
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>en_US.UTF-8</literal>
                </entry>
                <entry>
    English(USA)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>en_GB.UTF-8</literal>
                </entry>
                <entry>
    English(Great_Britain)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>fr_FR.UTF-8</literal>
                </entry>
                <entry>
    French(France)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>de_DE.UTF-8</literal>
                </entry>
                <entry>
    German(Germany)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>it_IT.UTF-8</literal>
                </entry>
                <entry>
    Italian(Italy)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>es_ES.UTF-8</literal>
                </entry>
                <entry>
    Spanish(Spain)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>ca_ES.UTF-8</literal>
                </entry>
                <entry>
    Catalan(Spain)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>sv_SE.UTF-8</literal>
                </entry>
                <entry>
    Swedish(Sweden)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>pt_BR.UTF-8</literal>
                </entry>
                <entry>
    Portuguese(Brazil)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>ru_RU.UTF-8</literal>
                </entry>
                <entry>
    Russian(Russia)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>zh_CN.UTF-8</literal>
                </entry>
                <entry>
    Chinese(P.R._of_China)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>zh_TW.UTF-8</literal>
                </entry>
                <entry>
    Chinese(Taiwan_R.O.C.)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>ja_JP.UTF-8</literal>
                </entry>
                <entry>
    Japanese(Japan)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>ko_KR.UTF-8</literal>
                </entry>
                <entry>
    Korean(Republic_of_Korea)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>vi_VN.UTF-8</literal>
                </entry>
                <entry>
    Vietnamese(Vietnam)
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>Typical command execution uses a shell line sequence as the following.</simpara>
        <screen>$ date
Sun Jun  3 10:27:39 JST 2007
$ LANG=fr_FR.UTF-8 date
dimanche 3 juin 2007, 10:27:33 (UTC+0900)</screen>
        <simpara>Here, the program <literal>date</literal>(1) is executed with different values of the environment variable "<literal>$LANG</literal>".</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
For the first command, "<literal>$LANG</literal>" is set to the system default <ulink url="&locale;">locale</ulink> value "<literal>en_US.UTF-8</literal>".
</simpara>
          </listitem>
          <listitem>
            <simpara>
For the second command, "<literal>$LANG</literal>" is set to the French UTF-8 <ulink url="&locale;">locale</ulink> value "<literal>fr_FR.UTF-8</literal>".
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>Most command executions usually do not have preceding environment variable definition.  For the above example, you can alternatively execute as the following.</simpara>
        <screen>$ LANG=fr_FR.UTF-8
$ date
dimanche 3 juin 2007, 10:27:33 (UTC+0900)</screen>
        <simpara>As you can see here, the output of command is affected by the environment variable to produce French output.  If you want the environment variable to be inherited to subprocesses (e.g., when calling shell script), you need to <emphasis role="strong">export</emphasis> it instead by the following.</simpara>
        <screen>$ export LANG</screen>
        <tip>
          <simpara>When filing a bug report, running and checking the command under "<literal>LANG=en_US.UTF-8</literal>" is good idea if you use non-English environment.</simpara>
        </tip>
        <simpara>See <literal>locale</literal>(5) and <literal>locale</literal>(7) for "<literal>$LANG</literal>" and related environment variables.</simpara>
        <note>
          <simpara>I recommend you to configure the system environment just by the "<literal>$LANG</literal>" variable and to stay away from "<literal>$LC_*</literal>" variables unless it is absolutely needed.</simpara>
        </note>
      </section>
      <section id="_literal_path_literal_variable">
        <title>"<literal>$PATH</literal>" variable</title>
        <simpara>When you type a command into the shell, the shell searches the command in the list of directories contained in the "<literal>$PATH</literal>" environment variable.  The value of the "<literal>$PATH</literal>" environment variable is also called the shell's search path.</simpara>
        <simpara>In the default Debian installation, the "<literal>$PATH</literal>" environment variable of user accounts may not include "<literal>/sbin</literal>" and "<literal>/usr/sbin</literal>".  For example, the <literal>ifconfig</literal> command needs to be issued with full path as "<literal>/sbin/ifconfig</literal>". (Similar <literal>ip</literal> command is located in "<literal>/bin</literal>".)</simpara>
        <simpara>You can change the "<literal>$PATH</literal>" environment variable of Bash shell by "<literal>~/.bash_profile</literal>" or "<literal>~/.bashrc</literal>" files.</simpara>
      </section>
      <section id="_literal_home_literal_variable">
        <title>"<literal>$HOME</literal>" variable</title>
        <simpara>Many commands stores user specific configuration in the home directory and changes their behavior by their contents.  The home directory is identified by the environment variable "<literal>$HOME</literal>".</simpara>
        <table id="listofhomevalues" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of "<literal>$HOME</literal>" values</title>
          <tgroup cols="2">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="70%*" align="left"/>
            <thead>
              <row>
                <entry>
    value of "<literal>$HOME</literal>"
    </entry>
                <entry>
    program execution situation
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>/</literal>
                </entry>
                <entry>
    program run by the init process (daemon)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/root</literal>
                </entry>
                <entry>
    program run from the normal root shell
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/home/&lt;normal_user&gt;</literal>
                </entry>
                <entry>
    program run from the normal user shell
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/home/&lt;normal_user&gt;</literal>
                </entry>
                <entry>
    program run from the normal user GUI desktop menu
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/home/&lt;normal_user&gt;</literal>
                </entry>
                <entry>
    program run as root with "<literal>sudo program</literal>"
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/root</literal>
                </entry>
                <entry>
    program run as root with "<literal>sudo -H program</literal>"
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <tip>
          <simpara>Shell expands "<literal>~/</literal>" to current user’s home directory, i.e., "<literal>$HOME/</literal>". Shell expands "<literal>~foo/</literal>" to <literal>foo</literal>'s home directory, i.e., "<literal>/home/foo/</literal>".</simpara>
        </tip>
      </section>
      <section id="_command_line_options">
        <title>Command line options</title>
        <simpara>Some commands take arguments.  Arguments starting with "<literal>-</literal>" or "<literal>--</literal>" are called options and control the behavior of the command.</simpara>
        <screen>$ date
Mon Oct 27 23:02:09 CET 2003
$ date -R
Mon, 27 Oct 2003 23:02:40 +0100</screen>
        <simpara>Here the command-line argument "<literal>-R</literal>" changes <literal>date</literal>(1) behavior to output <ulink url="&rfccicc;">RFC2822</ulink> compliant date string.</simpara>
      </section>
      <section id="_shell_glob">
        <title>Shell glob</title>
        <simpara>Often you want a command to work with a group of files without typing all of them.  The filename expansion pattern using the shell <emphasis role="strong">glob</emphasis>, (sometimes referred as <emphasis role="strong">wildcards</emphasis>), facilitate this need.</simpara>
        <table id="shellglobpatterns" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>Shell glob patterns</title>
          <tgroup cols="2">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="70%*" align="left"/>
            <thead>
              <row>
                <entry>
    shell glob pattern
    </entry>
                <entry>
    description of match rule
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>*</literal>
                </entry>
                <entry>
    filename (segment) not started with "<literal>.</literal>"
    </entry>
              </row>
              <row>
                <entry>
                  <literal>.*</literal>
                </entry>
                <entry>
    filename (segment) started with "<literal>.</literal>"
    </entry>
              </row>
              <row>
                <entry>
                  <literal>?</literal>
                </entry>
                <entry>
    exactly one character
    </entry>
              </row>
              <row>
                <entry>
                  <literal>[…]</literal>
                </entry>
                <entry>
    exactly one character with any character enclosed in brackets
    </entry>
              </row>
              <row>
                <entry>
                  <literal>[a-z]</literal>
                </entry>
                <entry>
    exactly one character with any character between "<literal>a</literal>" and "<literal>z</literal>"
    </entry>
              </row>
              <row>
                <entry>
                  <literal>[^…]</literal>
                </entry>
                <entry>
    exactly one character other than any character enclosed in brackets (excluding "<literal>^</literal>")
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>For example, try the following</simpara>
        <screen>$ mkdir junk; cd junk; touch 1.txt 2.txt 3.c 4.h .5.txt ..6.txt
$ echo *.txt
1.txt 2.txt
$ echo *
1.txt 2.txt 3.c 4.h
$ echo *.[hc]
3.c 4.h
$ echo .*
. .. .5.txt ..6.txt
$ echo .*[^.]*
.5.txt ..6.txt
$ echo [^1-3]*
4.h
$ cd ..; rm -rf junk</screen>
        <simpara>See <literal>glob</literal>(7).</simpara>
        <note>
          <simpara>Unlike normal filename expansion by the shell, the shell pattern "<literal>*</literal>" tested in <literal>find</literal>(1) with "<literal>-name</literal>" test etc., matches the initial "<literal>.</literal>" of the filename. (New <ulink url="&posix;">POSIX</ulink> feature)</simpara>
        </note>
        <note>
          <simpara>BASH can be tweaked to change its glob behavior with its shopt builtin options such as "<literal>dotglob</literal>", "<literal>noglob</literal>", "<literal>nocaseglob</literal>", "<literal>nullglob</literal>", "<literal>nocaseglob</literal>", "<literal>extglob</literal>", etc.  See <literal>bash</literal>(1).</simpara>
        </note>
      </section>
      <section id="_return_value_of_the_command">
        <title>Return value of the command</title>
        <simpara>Each command returns its exit status (variable: "<literal>$?</literal>") as the return value.</simpara>
        <table id="commandexitcodes" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>Command exit codes</title>
          <tgroup cols="3">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="40%*" align="left"/>
            <thead>
              <row>
                <entry>
    command exit status
    </entry>
                <entry>
    numeric return value
    </entry>
                <entry>
    logical return value
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
    success
    </entry>
                <entry>
    zero, 0
    </entry>
                <entry>
                  <emphasis role="strong">TRUE</emphasis>
                </entry>
              </row>
              <row>
                <entry>
    error
    </entry>
                <entry>
    non-zero, -1
    </entry>
                <entry>
                  <emphasis role="strong">FALSE</emphasis>
                </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>For example, try the following.</simpara>
        <screen>$ [ 1 = 1 ] ; echo $?
0
$ [ 1 = 2 ] ; echo $?
1</screen>
        <note>
          <simpara>Please note that, in the logical context for the shell, <emphasis role="strong">success</emphasis> is treated as the logical <emphasis role="strong">TRUE</emphasis> which has 0 (zero) as its value.  This is somewhat non-intuitive and needs to be reminded here.</simpara>
        </note>
      </section>
      <section id="_typical_command_sequences_and_shell_redirection">
        <title>Typical command sequences and shell redirection</title>
        <simpara>Let's try to remember following shell command idioms typed in one line as a part of shell command.</simpara>
        <table id="shellcommandidioms" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>Shell command idioms</title>
          <tgroup cols="2">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="70%*" align="left"/>
            <thead>
              <row>
                <entry>
    command idiom
    </entry>
                <entry>
    description
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>command &amp;</literal>
                </entry>
                <entry><emphasis role="strong">background</emphasis> execution of <literal>command</literal> in the subshell
    </entry>
              </row>
              <row>
                <entry>
                  <literal>command1 | command2</literal>
                </entry>
                <entry><emphasis role="strong">pipe</emphasis> the standard output of <literal>command1</literal> to the standard input of <literal>command2</literal> (<emphasis role="strong">concurrent</emphasis> execution)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>command1 2&gt;&amp;1 | command2</literal>
                </entry>
                <entry><emphasis role="strong">pipe</emphasis> both standard output and standard error of <literal>command1</literal> to the standard input of <literal>command2</literal> (<emphasis role="strong">concurrent</emphasis> execution)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>command1 ; command2</literal>
                </entry>
                <entry>
    execute <literal>command1</literal> and <literal>command2</literal> <emphasis role="strong">sequentially</emphasis>
    </entry>
              </row>
              <row>
                <entry>
                  <literal>command1 &amp;&amp; command2</literal>
                </entry>
                <entry>
    execute <literal>command1</literal>; if successful, execute <literal>command2</literal> <emphasis role="strong">sequentially</emphasis> (return success if both <literal>command1</literal> <emphasis role="strong">and</emphasis> <literal>command2</literal> are successful)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>command1 || command2</literal>
                </entry>
                <entry>
    execute <literal>command1</literal>; if not successful, execute <literal>command2</literal> <emphasis role="strong">sequentially</emphasis> (return success if <literal>command1</literal> <emphasis role="strong">or</emphasis> <literal>command2</literal> are successful)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>command &gt; foo</literal>
                </entry>
                <entry>
    redirect standard output of <literal>command</literal> to a file <literal>foo</literal> (overwrite)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>command 2&gt; foo</literal>
                </entry>
                <entry>
    redirect standard error of <literal>command</literal> to a file <literal>foo</literal> (overwrite)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>command &gt;&gt; foo</literal>
                </entry>
                <entry>
    redirect standard output of <literal>command</literal> to a file <literal>foo</literal> (append)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>command 2&gt;&gt; foo</literal>
                </entry>
                <entry>
    redirect standard error of <literal>command</literal> to a file <literal>foo</literal> (append)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>command &gt; foo 2&gt;&amp;1</literal>
                </entry>
                <entry>
    redirect both standard output and standard error of <literal>command</literal> to a file "<literal>foo</literal>"
    </entry>
              </row>
              <row>
                <entry>
                  <literal>command &lt; foo</literal>
                </entry>
                <entry>
    redirect standard input of <literal>command</literal> to a file <literal>foo</literal>
    </entry>
              </row>
              <row>
                <entry>
                  <literal>command &lt;&lt; delimiter</literal>
                </entry>
                <entry>
    redirect standard input of <literal>command</literal> to the following lines until "<literal>delimiter</literal>" is met (here document)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>command &lt;&lt;- delimiter</literal>
                </entry>
                <entry>
    redirect standard input of <literal>command</literal> to the following lines until "<literal>delimiter</literal>" is met (here document, the leading tab characters are stripped from input lines)
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>The Debian system is a multi-tasking system. Background jobs allow users to run multiple programs in a single shell.  The management of the background process involves the shell builtins: <literal>jobs</literal>, <literal>fg</literal>, <literal>bg</literal>, and <literal>kill</literal>.  Please read sections of bash(1) under "SIGNALS", and "JOB CONTROL", and <literal>builtins</literal>(1).</simpara>
        <simpara>For example, try the following</simpara>
        <screen>$ &lt;/etc/motd pager</screen>
        <screen>$ pager &lt;/etc/motd</screen>
        <screen>$ pager /etc/motd</screen>
        <screen>$ cat /etc/motd | pager</screen>
        <simpara>Although all 4 examples of shell redirections display the same thing, the last example runs an extra <literal>cat</literal> command and wastes resources with no reason.</simpara>
        <simpara>The shell allows you to open files using the <literal>exec</literal> builtin with an arbitrary file descriptor.</simpara>
        <screen>$ echo Hello &gt;foo
$ exec 3&lt;foo 4&gt;bar  # open files
$ cat &lt;&amp;3 &gt;&amp;4       # redirect stdin to 3, stdout to 4
$ exec 3&lt;&amp;- 4&gt;&amp;-    # close files
$ cat bar
Hello</screen>
        <simpara>Here, "<literal><emphasis>n</emphasis>&lt;&amp;-</literal>" and "<literal><emphasis>n</emphasis>&gt;&amp;-</literal>" mean to close the file descriptor "<literal><emphasis>n</emphasis></literal>".</simpara>
        <simpara>The file descriptor 0-2 are predefined.</simpara>
        <table id="predefinedfiledescriptors" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>Predefined file descriptors</title>
          <tgroup cols="3">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="40%*" align="left"/>
            <thead>
              <row>
                <entry>
    device
    </entry>
                <entry>
    description
    </entry>
                <entry>
    file descriptor
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>stdin</literal>
                </entry>
                <entry>
    standard input
    </entry>
                <entry>
    0
    </entry>
              </row>
              <row>
                <entry>
                  <literal>stdout</literal>
                </entry>
                <entry>
    standard output
    </entry>
                <entry>
    1
    </entry>
              </row>
              <row>
                <entry>
                  <literal>stderr</literal>
                </entry>
                <entry>
    standard error
    </entry>
                <entry>
    2
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </section>
      <section id="_command_alias">
        <title>Command alias</title>
        <simpara>You can set an alias for the frequently used command.</simpara>
        <simpara>For example, try the following</simpara>
        <screen>$ alias la='ls -la'</screen>
        <simpara>Now, "<literal>la</literal>" works as a short hand for "<literal>ls -la</literal>" which lists all files in the long listing format.</simpara>
        <simpara>You can list any existing aliases by <literal>alias</literal> (see <literal>bash</literal>(1) under "SHELL BUILTIN COMMANDS").</simpara>
        <screen>$ alias
...
alias la='ls -la'</screen>
        <simpara>You can identity exact path or identity of the command by <literal>type</literal> (see <literal>bash</literal>(1) under "SHELL BUILTIN COMMANDS").</simpara>
        <simpara>For example, try the following</simpara>
        <screen>$ type ls
ls is hashed (/bin/ls)
$ type la
la is aliased to ls -la
$ type echo
echo is a shell builtin
$ type file
file is /usr/bin/file</screen>
        <simpara>Here <literal>ls</literal> was recently searched while "<literal>file</literal>" was not, thus "<literal>ls</literal>" is "hashed", i.e., the shell has an internal record for the quick access to the location of the "<literal>ls</literal>" command.</simpara>
        <tip>
          <simpara>See <xref linkend="_colorized_commands"/>.</simpara>
        </tip>
      </section>
    </section>
    <section id="_unix_like_text_processing">
      <title>Unix-like text processing</title>
      <simpara>In Unix-like work environment, text processing is done by piping text through chains of standard text processing tools. This was another crucial Unix innovation.</simpara>
      <section id="_unix_text_tools">
        <title>Unix text tools</title>
        <simpara>There are few standard text processing tools which are used very often on the Unix-like system.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
No regular expression is used:
</simpara>
            <itemizedlist>
              <listitem>
                <simpara><literal>cat</literal>(1) concatenates files and outputs the whole content.
</simpara>
              </listitem>
              <listitem>
                <simpara><literal>tac</literal>(1) concatenates files and outputs in reverse.
</simpara>
              </listitem>
              <listitem>
                <simpara><literal>cut</literal>(1) selects parts of lines and outputs.
</simpara>
              </listitem>
              <listitem>
                <simpara><literal>head</literal>(1) outputs the first part of files.
</simpara>
              </listitem>
              <listitem>
                <simpara><literal>tail</literal>(1) outputs the last part of files.
</simpara>
              </listitem>
              <listitem>
                <simpara><literal>sort</literal>(1) sorts lines of text files.
</simpara>
              </listitem>
              <listitem>
                <simpara><literal>uniq</literal>(1) removes duplicate lines from a sorted file.
</simpara>
              </listitem>
              <listitem>
                <simpara><literal>tr</literal>(1) translates or deletes characters.
</simpara>
              </listitem>
              <listitem>
                <simpara><literal>diff</literal>(1) compares files line by line.
</simpara>
              </listitem>
            </itemizedlist>
          </listitem>
          <listitem>
            <simpara>
Basic regular expression (<emphasis role="strong">BRE</emphasis>) is used:
</simpara>
            <itemizedlist>
              <listitem>
                <simpara><literal>grep</literal>(1) matches text with patterns.
</simpara>
              </listitem>
              <listitem>
                <simpara><literal>ed</literal>(1) is a primitive line editor.
</simpara>
              </listitem>
              <listitem>
                <simpara><literal>sed</literal>(1) is a stream editor.
</simpara>
              </listitem>
              <listitem>
                <simpara><literal>vim</literal>(1) is a screen editor.
</simpara>
              </listitem>
              <listitem>
                <simpara><literal>emacs</literal>(1) is a screen editor. (somewhat extended <emphasis role="strong">BRE</emphasis>)
</simpara>
              </listitem>
            </itemizedlist>
          </listitem>
          <listitem>
            <simpara>
Extended regular expression (<emphasis role="strong">ERE</emphasis>) is used:
</simpara>
            <itemizedlist>
              <listitem>
                <simpara><literal>egrep</literal>(1) matches text with patterns.
</simpara>
              </listitem>
              <listitem>
                <simpara><literal>awk</literal>(1) does simple text processing.
</simpara>
              </listitem>
              <listitem>
                <simpara><literal>tcl</literal>(3tcl) can do every conceivable text processing: <literal>re_syntax</literal>(3). Often used with <literal>tk</literal>(3tk).
</simpara>
              </listitem>
              <listitem>
                <simpara><literal>perl</literal>(1) can do every conceivable text processing.  <literal>perlre</literal>(1).
</simpara>
              </listitem>
              <listitem>
                <simpara><literal>pcregrep</literal>(1) from the <literal>pcregrep</literal> package matches text with <ulink url="&perlcompatiblererexpressionspcre;">Perl Compatible Regular Expressions (PCRE)</ulink> pattern.
</simpara>
              </listitem>
              <listitem>
                <simpara><literal>python</literal>(1) with the <literal>re</literal> module can do every conceivable text processing. See "<literal>/usr/share/doc/python/html/index.html</literal>".
</simpara>
              </listitem>
            </itemizedlist>
          </listitem>
        </itemizedlist>
        <simpara>If you are not sure what exactly these commands do, please use "<literal>man command</literal>" to figure it out by yourself.</simpara>
        <note>
          <simpara>Sort order and range expression are locale dependent.  If you wish to obtain traditional behavior for a command, use <emphasis role="strong">C</emphasis> locale instead of <emphasis role="strong">UTF-8</emphasis> ones by prepnding command with "<literal>LANG=C</literal>" (see <xref linkend="_literal_lang_literal_variable"/> and <xref linkend="_the_locale"/>).</simpara>
        </note>
        <note>
          <simpara><ulink url="&perl;">Perl</ulink> regular expressions (<literal>perlre</literal>(1)), <ulink url="&perlcompatiblererexpressionspcre;">Perl Compatible Regular Expressions (PCRE)</ulink>, and <ulink url="&python;">Python</ulink> regular expressions offered by the <literal>re</literal> module have many common extensions to the normal <emphasis role="strong">ERE</emphasis>.</simpara>
        </note>
      </section>
      <section id="_regular_expressions">
        <title>Regular expressions</title>
        <simpara><ulink url="&regularexpressions;">Regular expressions</ulink> are used in many text processing tools.  They are analogous to the shell globs, but they are more complicated and powerful.</simpara>
        <simpara>The regular expression describes the matching pattern and is made up of text characters and <emphasis role="strong">metacharacters</emphasis>.</simpara>
        <simpara>The <emphasis role="strong">metacharacter</emphasis> is just a character with a special meaning.  There are 2 major styles, <emphasis role="strong">BRE</emphasis> and <emphasis role="strong">ERE</emphasis>, depending on the text tools as described above.</simpara>
        <table id="metacharactersforbreandere" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>Metacharacters for BRE and ERE</title>
          <tgroup cols="3">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="40%*" align="left"/>
            <thead>
              <row>
                <entry>
    BRE
    </entry>
                <entry>
    ERE
    </entry>
                <entry>
    description of the regular expression
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal> \ .  [ ] ^ $ *  </literal>
                </entry>
                <entry>
                  <literal>\ .  [ ] ^ $ *</literal>
                </entry>
                <entry>
    common <emphasis role="strong">metacharacters</emphasis>
    </entry>
              </row>
              <row>
                <entry>
                  <literal>\+ \? \( \) \{ \} \|</literal>
                </entry>
                <entry>
     
    </entry>
                <entry>
    BRE only "<literal>\</literal>" escaped <emphasis role="strong">metacharacters</emphasis>
    </entry>
              </row>
              <row>
                <entry>
     
    </entry>
                <entry>
                  <literal>+ ? ( ) { } |</literal>
                </entry>
                <entry>
    ERE only non-"<literal>\</literal>" escaped <emphasis role="strong">metacharacters</emphasis>
    </entry>
              </row>
              <row>
                <entry>
                  <literal>c</literal>
                </entry>
                <entry>
                  <literal>c</literal>
                </entry>
                <entry>
    match <emphasis role="strong">non-metacharacter</emphasis> "<literal>c</literal>"
    </entry>
              </row>
              <row>
                <entry>
                  <literal>\c</literal>
                </entry>
                <entry>
                  <literal>\c</literal>
                </entry>
                <entry>
    match a literal character "<literal>c</literal>" even if "<literal>c</literal>" is <emphasis role="strong">metacharacter</emphasis> by itself
    </entry>
              </row>
              <row>
                <entry>
                  <literal>.</literal>
                </entry>
                <entry>
                  <literal>.</literal>
                </entry>
                <entry>
    match any character including newline
    </entry>
              </row>
              <row>
                <entry>
                  <literal>^</literal>
                </entry>
                <entry>
                  <literal>^</literal>
                </entry>
                <entry>
    position at the beginning of a string
    </entry>
              </row>
              <row>
                <entry>
                  <literal>$</literal>
                </entry>
                <entry>
                  <literal>$</literal>
                </entry>
                <entry>
    position at the end of a string
    </entry>
              </row>
              <row>
                <entry>
                  <literal>\&lt;</literal>
                </entry>
                <entry>
                  <literal>\&lt;</literal>
                </entry>
                <entry>
    position at the beginning of a word
    </entry>
              </row>
              <row>
                <entry>
                  <literal>\&gt;</literal>
                </entry>
                <entry>
                  <literal>\&gt;</literal>
                </entry>
                <entry>
    position at the end of a word
    </entry>
              </row>
              <row>
                <entry>
                  <literal>\[abc…\]</literal>
                </entry>
                <entry>
                  <literal>[abc…]</literal>
                </entry>
                <entry>
    match any characters in "<literal>abc…</literal>"
    </entry>
              </row>
              <row>
                <entry>
                  <literal>\[^abc…\]</literal>
                </entry>
                <entry>
                  <literal>[^abc…]</literal>
                </entry>
                <entry>
    match any characters except in "<literal>abc…</literal>"
    </entry>
              </row>
              <row>
                <entry>
                  <literal>r*</literal>
                </entry>
                <entry>
                  <literal>r*</literal>
                </entry>
                <entry>
    match zero or more regular expressions identified by "<literal>r</literal>"
    </entry>
              </row>
              <row>
                <entry>
                  <literal>r\+</literal>
                </entry>
                <entry>
                  <literal>r+</literal>
                </entry>
                <entry>
    match one or more regular expressions identified by "<literal>r</literal>"
    </entry>
              </row>
              <row>
                <entry>
                  <literal>r\?</literal>
                </entry>
                <entry>
                  <literal>r?</literal>
                </entry>
                <entry>
    match zero or one regular expressions identified by "<literal>r</literal>"
    </entry>
              </row>
              <row>
                <entry>
                  <literal>r1\|r2</literal>
                </entry>
                <entry>
                  <literal>r1|r2</literal>
                </entry>
                <entry>
    match one of the regular expressions identified by "<literal>r1</literal>" or "<literal>r2</literal>"
    </entry>
              </row>
              <row>
                <entry>
                  <literal>\(r1\|r2\)</literal>
                </entry>
                <entry>
                  <literal>(r1|r2)</literal>
                </entry>
                <entry>
    match one of the regular expressions identified by "<literal>r1</literal>" or "<literal>r2</literal>" and treat it as a <emphasis role="strong">bracketed</emphasis> regular expression
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>The regular expression of <emphasis role="strong"><literal>emacs</literal></emphasis> is basically <emphasis role="strong">BRE</emphasis> but has been extended to treat "<literal>+</literal>"and "<literal>?</literal>" as the <emphasis role="strong">metacharacters</emphasis> as in <emphasis role="strong">ERE</emphasis>.  Thus, there are no needs to escape them with "<literal>\</literal>" in the regular expression of <literal>emacs</literal>.</simpara>
        <simpara><literal>grep</literal>(1) can be used to perform the text search using the regular expression.</simpara>
        <simpara>For example, try the following</simpara>
        <screen>$ egrep 'GNU.*LICENSE|Yoyodyne' /usr/share/common-licenses/GPL
GNU GENERAL PUBLIC LICENSE
GNU GENERAL PUBLIC LICENSE
Yoyodyne, Inc., hereby disclaims all copyright interest in the program</screen>
        <tip>
          <simpara>See <xref linkend="_colorized_commands"/>.</simpara>
        </tip>
      </section>
      <section id="_replacement_expressions">
        <title>Replacement expressions</title>
        <simpara>For the replacement expression, some characters have special meanings.</simpara>
        <table id="thereplacementexpression" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>The replacement expression</title>
          <tgroup cols="2">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="70%*" align="left"/>
            <thead>
              <row>
                <entry>
    replacement expression
    </entry>
                <entry>
    description of the text to replace the replacement expression
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>&amp;</literal>
                </entry>
                <entry>
    what the regular expression matched (use <literal>\&amp;</literal> in <literal>emacs</literal>)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>\n</literal>
                </entry>
                <entry>
    what the n-th <emphasis role="strong">bracketed</emphasis> regular expression matched ("n" being number)
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>For Perl replacement string, "<literal>$n</literal>" is used instead of "<literal>\n</literal>" and "<literal>&amp;</literal>" has no special meaning.</simpara>
        <simpara>For example, try the following</simpara>
        <screen>$ echo zzz1abc2efg3hij4 | \
sed -e 's/\(1[a-z]*\)[0-9]*\(.*\)$/=&amp;=/'
zzz=1abc2efg3hij4=
$ echo zzz1abc2efg3hij4 | \
sed -e 's/\(1[a-z]*\)[0-9]*\(.*\)$/\2===\1/'
zzzefg3hij4===1abc
$ echo zzz1abc2efg3hij4 | \
perl -pe 's/(1[a-z]*)[0-9]*(.*)$/$2===$1/'
zzzefg3hij4===1abc
$ echo zzz1abc2efg3hij4 | \
perl -pe 's/(1[a-z]*)[0-9]*(.*)$/=&amp;=/'
zzz=&amp;=</screen>
        <simpara>Here please pay extra attention to the style of the <emphasis role="strong">bracketed</emphasis> regular expression and how the matched strings are used in the text replacement process on different tools.</simpara>
        <simpara>These regular expressions can be used for cursor movements and text replacement actions in some editors too.</simpara>
        <simpara>The back slash "<literal>\</literal>" at the end of line in the shell commandline escapes newline as a white space character and continues shell command line input to the next line.</simpara>
        <simpara>Please read all the related manual pages to learn these commands.</simpara>
      </section>
      <section id="_global_substitution_with_regular_expressions">
        <title>Global substitution with regular expressions</title>
        <simpara>The <literal>ed</literal>(1) command can replace all instances of "<literal>FROM_REGEX</literal>" with "<literal>TO_TEXT</literal>" in "<literal>file</literal>".</simpara>
        <screen>$ ed file &lt;&lt;EOF
,s/FROM_REGEX/TO_TEXT/g
w
q
EOF</screen>
        <simpara>The <literal>sed</literal>(1) command can replace all instances of "<literal>FROM_REGEX</literal>" with "<literal>TO_TEXT</literal>" in "<literal>file</literal>".</simpara>
        <screen>$ sed file 's/FROM_REGEX/TO_TEXT/g' | sponge file</screen>
        <tip>
          <simpara>The <literal>sponge</literal>(8) command is a non-standard Unix tool offered by the <literal>moreutils</literal> package.  This is quite useful when you wish to overwrite original file.</simpara>
        </tip>
        <simpara>The <literal>vim</literal>(1) command can replace all instances of "<literal>FROM_REGEX</literal>" with "<literal>TO_TEXT</literal>" in "<literal>file</literal>" by using <literal>ex</literal>(1) commands.</simpara>
        <screen>$ vim '+%s/FROM_REGEX/TO_TEXT/gc' '+w' '+q' file</screen>
        <tip>
          <simpara>The "<literal>c</literal>" flag in the above ensures interactive confirmation for each substitution.</simpara>
        </tip>
        <simpara>Multiple files ("<literal>file1</literal>", "<literal>file2</literal>", and "<literal>file3</literal>") can be processed with regular expressions similarly with <literal>vim</literal>(1) or <literal>perl</literal>(1).</simpara>
        <screen>$ vim '+argdo %s/FROM_REGEX/TO_TEXT/ge|update' '+q' file1 file2 file3</screen>
        <tip>
          <simpara>The "<literal>e</literal>" flag in the above prevents the "No match" error from breaking a mapping.</simpara>
        </tip>
        <screen>$ perl -i -p -e 's/FROM_REGEX/TO_TEXT/g;' file1 file2 file3</screen>
        <simpara>In the perl(1) example, "<literal>-i</literal>" is for in-place editing, "<literal>-p</literal>" is for implicit loop over files.</simpara>
        <tip>
          <simpara>Use of argument "<literal>-i.bak</literal>" instead of "<literal>-i</literal>" will keep each original file by adding "<literal>.bak</literal>" to its filename.  This makes recovery from errors easier for complex substitutions.</simpara>
        </tip>
        <note>
          <simpara><literal>ed</literal>(1) and <literal>vim</literal>(1) are <emphasis role="strong">BRE</emphasis>; <literal>perl</literal>(1) is <emphasis role="strong">ERE</emphasis>.</simpara>
        </note>
      </section>
      <section id="_extracting_data_from_text_file_table">
        <title>Extracting data from text file table</title>
        <simpara>Let's consider a text file called "<literal>DPL</literal>" in which some pre-2004 Debian project leader's names and their initiation days are listed in a
space-separated format.</simpara>
        <screen>Ian     Murdock   August  1993
Bruce   Perens    April   1996
Ian     Jackson   January 1998
Wichert Akkerman  January 1999
Ben     Collins   April   2001
Bdale   Garbee    April   2002
Martin  Michlmayr March   2003</screen>
        <tip>
          <simpara>See <ulink url="&abriefhistoryofdebian;">"A Brief History of Debian"</ulink> for the latest <ulink url="&debianleadershiphistory;">Debian leadership history</ulink>.</simpara>
        </tip>
        <simpara>Awk is frequently used to extract data from these types of files.</simpara>
        <simpara>For example, try the following</simpara>
        <screen>$ awk '{ print $3 }' &lt;DPL                   # month started
August
April
January
January
April
April
March
$ awk '($1=="Ian") { print }' &lt;DPL          # DPL called Ian
Ian     Murdock   August  1993
Ian     Jackson   January 1998
$ awk '($2=="Perens") { print $3,$4 }' &lt;DPL # When Perens started
April 1996</screen>
        <simpara>Shells such as Bash can be also used to parse this kind of file.</simpara>
        <simpara>For example, try the following</simpara>
        <screen>$ while read first last month year; do
    echo $month
  done &lt;DPL
... same output as the first Awk example</screen>
        <simpara>Here, the <literal>read</literal> builtin command uses characters in "<literal>$IFS</literal>" (internal field separators) to split lines into words.</simpara>
        <simpara>If you change "<literal>$IFS</literal>" to "<literal>:</literal>", you can parse "<literal>/etc/passwd</literal>" with shell nicely.</simpara>
        <screen>$ oldIFS="$IFS"   # save old value
$ IFS=':'
$ while read user password uid gid rest_of_line; do
    if [ "$user" = "bozo" ]; then
      echo "$user's ID is $uid"
    fi
  done &lt; /etc/passwd
bozo's ID is 1000
$ IFS="$oldIFS"   # restore old value</screen>
        <simpara>(If Awk is used to do the equivalent, use "<literal>FS=':'</literal>" to set the field separator.)</simpara>
        <simpara>IFS is also used by the shell to split results of parameter expansion, command substitution, and arithmetic expansion.  These do not occur within double or single quoted words.  The default value of IFS is &lt;space&gt;, &lt;tab&gt;, and &lt;newline&gt; combined.</simpara>
        <simpara>Be careful about using this shell IFS tricks.  Strange things may happen, when shell interprets some parts of the script as its <emphasis role="strong">input</emphasis>.</simpara>
        <screen>$ IFS=":,"                        # use ":" and "," as IFS
$ echo IFS=$IFS,   IFS="$IFS"     # echo is a Bash builtin
IFS=  , IFS=:,
$ date -R                         # just a command output
Sat, 23 Aug 2003 08:30:15 +0200
$ echo $(date -R)                 # sub shell --&gt; input to main shell
Sat  23 Aug 2003 08 30 36 +0200
$ unset IFS                       # reset IFS to the default
$ echo $(date -R)
Sat, 23 Aug 2003 08:30:50 +0200</screen>
      </section>
      <section id="_script_snippets_for_piping_commands">
        <title>Script snippets for piping commands</title>
        <simpara>The following scripts will do nice things as a part of a pipe.</simpara>
        <table id="listofscriptsniporpipingcommands" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of script snippets for piping commands</title>
          <tgroup cols="2">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="70%*" align="left"/>
            <thead>
              <row>
                <entry>
    script snippet (type in one line)
    </entry>
                <entry>
    effect of command
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>find /usr -print</literal>
                </entry>
                <entry>
    find all files under "<literal>/usr</literal>"
    </entry>
              </row>
              <row>
                <entry>
                  <literal>seq 1 100</literal>
                </entry>
                <entry>
    print 1 to 100
    </entry>
              </row>
              <row>
                <entry>
                  <literal> | xargs -n 1 &lt;command&gt;</literal>
                </entry>
                <entry>
    run command repeatedly with each item from pipe as its argument
    </entry>
              </row>
              <row>
                <entry>
                  <literal> | xargs -n 1 echo</literal>
                </entry>
                <entry>
    split white-space-separated items from pipe into lines
    </entry>
              </row>
              <row>
                <entry>
                  <literal> | xargs echo</literal>
                </entry>
                <entry>
    merge all lines from pipe into a line
    </entry>
              </row>
              <row>
                <entry>
                  <literal> | grep -e &lt;regex_pattern&gt;</literal>
                </entry>
                <entry>
    extract lines from pipe containing &lt;regex_pattern&gt;
    </entry>
              </row>
              <row>
                <entry>
                  <literal> | grep -v -e &lt;regex_pattern&gt;</literal>
                </entry>
                <entry>
    extract lines from pipe not containing &lt;regex_pattern&gt;
    </entry>
              </row>
              <row>
                <entry>
                  <literal> | cut -d: -f3 -</literal>
                </entry>
                <entry>
    extract third field from pipe separated by "<literal>:</literal>" (passwd file etc.)
    </entry>
              </row>
              <row>
                <entry>
                  <literal> | awk '{ print $3 }'</literal>
                </entry>
                <entry>
    extract third field from pipe separated by whitespaces
    </entry>
              </row>
              <row>
                <entry>
                  <literal> | awk -F'\t' '{ print $3 }'</literal>
                </entry>
                <entry>
    extract third field from pipe separated by tab
    </entry>
              </row>
              <row>
                <entry>
                  <literal> | col -bx</literal>
                </entry>
                <entry>
    remove backspace and expand tabs to spaces
    </entry>
              </row>
              <row>
                <entry>
                  <literal> | expand -</literal>
                </entry>
                <entry>
    expand tabs
    </entry>
              </row>
              <row>
                <entry>
                  <literal> | sort| uniq</literal>
                </entry>
                <entry>
    sort and remove duplicates
    </entry>
              </row>
              <row>
                <entry>
                  <literal> | tr 'A-Z' 'a-z'</literal>
                </entry>
                <entry>
    convert uppercase to lowercase
    </entry>
              </row>
              <row>
                <entry>
                  <literal> | tr -d '\n'</literal>
                </entry>
                <entry>
    concatenate lines into one line
    </entry>
              </row>
              <row>
                <entry>
                  <literal> | tr -d '\r'</literal>
                </entry>
                <entry>
    remove CR
    </entry>
              </row>
              <row>
                <entry>
                  <literal> | sed 's/^/# /'</literal>
                </entry>
                <entry>
    add "<literal>#</literal>" to the start of each line
    </entry>
              </row>
              <row>
                <entry>
                  <literal> | sed 's/\.ext//g'</literal>
                </entry>
                <entry>
    remove "<literal>.ext</literal>"
    </entry>
              </row>
              <row>
                <entry>
                  <literal> | sed -n -e 2p</literal>
                </entry>
                <entry>
    print the second line
    </entry>
              </row>
              <row>
                <entry>
                  <literal> | head -n 2 -</literal>
                </entry>
                <entry>
    print the first 2 lines
    </entry>
              </row>
              <row>
                <entry>
                  <literal> | tail -n 2 -</literal>
                </entry>
                <entry>
    print the last 2 lines
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>One-line shell script can loop over many files using <literal>find</literal>(1) and <literal>xargs</literal>(1) to perform quite complicated tasks.  See <xref linkend="_idioms_for_the_selection_of_files"/> and <xref linkend="_repeating_a_command_looping_over_files"/>.</simpara>
        <simpara>When using the shell interactive mode becomes too complicated, please consider to write a shell script (see <xref linkend="_the_shell_script"/>).</simpara>
      </section>
    </section>
  </chapter>
  <chapter id="_debian_package_management">
    <title>Debian package management</title>
    <note>
      <simpara>This chapter is written assuming the latest stable release is codename: <literal>&codename-stable;</literal>.</simpara>
    </note>
    <simpara><ulink url="&debian;">Debian</ulink> is a volunteer organization which builds <emphasis role="strong">consistent</emphasis> distributions of pre-compiled binary packages of free software and distributes them from its archive.</simpara>
    <simpara><ulink url="&thedebianarchive;">The Debian archive</ulink> is offered by <ulink url="&manyremotemirrorsites;">many remote mirror sites</ulink> for access through HTTP and FTP methods. It is also available as <ulink url="&cdromdvd;">CD-ROM/DVD</ulink>.</simpara>
    <simpara>The Debian package management system, <emphasis role="strong">when used properly</emphasis>, offers the user to install <emphasis role="strong">consistent sets of binary packages</emphasis> to the system from the archive.  Currently, there are &all-packages; packages available for the &arch; architecture.</simpara>
    <simpara>The Debian package management system has a rich history and many choices for the front end user program and back end archive access method to be used.  Currently, we recommend <literal>aptitude</literal>(8) as the main front end program for the Debian package management activity.</simpara>
    <table id="listofdebianpackemanagementtools" pgwide="0" frame="topbot" rowsep="1" colsep="1">
      <title>List of Debian package management tools</title>
      <tgroup cols="4">
        <colspec colwidth="20%*" align="left"/>
        <colspec colwidth="20%*" align="left"/>
        <colspec colwidth="20%*" align="left"/>
        <colspec colwidth="40%*" align="left"/>
        <thead>
          <row>
            <entry>
    package
    </entry>
            <entry>
    popcon
    </entry>
            <entry>
    size
    </entry>
            <entry>
    description
    </entry>
          </row>
        </thead>
        <tbody>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/aptitude">
              <literal>aptitude</literal>
            </ulink> <ulink url="http://bugs.debian.org/aptitude">*</ulink></entry>
            <entry><ulink url="http://qa.debian.org/popcon.php?package=aptitude">&pop-aptitude;</ulink></entry>
            <entry><ulink url="http://packages.qa.debian.org/a/aptitude.html">&size-aptitude;</ulink></entry>
            <entry>
    terminal-based package manager (current standard, front-end for <literal>apt</literal>)
    </entry>
          </row>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/apt">
              <literal>apt</literal>
            </ulink> <ulink url="http://bugs.debian.org/apt">*</ulink></entry>
            <entry><ulink url="http://qa.debian.org/popcon.php?package=apt">&pop-apt;</ulink></entry>
            <entry><ulink url="http://packages.qa.debian.org/a/apt.html">&size-apt;</ulink></entry>
            <entry>
    Advanced Packaging Tool (APT), front-end for <literal>dpkg</literal> providing "<literal>http</literal>", "<literal>ftp</literal>", and "<literal>file</literal>" archive access methods (<literal>apt-get</literal>/<literal>apt-cache</literal> commands included)
    </entry>
          </row>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/tasksel">
              <literal>tasksel</literal>
            </ulink> <ulink url="http://bugs.debian.org/tasksel">*</ulink></entry>
            <entry><ulink url="http://qa.debian.org/popcon.php?package=tasksel">&pop-tasksel;</ulink></entry>
            <entry><ulink url="http://packages.qa.debian.org/t/tasksel.html">&size-tasksel;</ulink></entry>
            <entry>
    tool for selecting tasks for installation on Debian system (front-end for APT)
    </entry>
          </row>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/unattended-upgrades">
              <literal>unattended-upgrades</literal>
            </ulink> <ulink url="http://bugs.debian.org/unattended-upgrades">*</ulink></entry>
            <entry><ulink url="http://qa.debian.org/popcon.php?package=unattended-upgrades">&pop-unattendedupgrades;</ulink></entry>
            <entry><ulink url="http://packages.qa.debian.org/u/unattended-upgrades.html">&size-unattendedupgrades;</ulink></entry>
            <entry>
    enhancement package for APT to enable automatic installation of security upgrades
    </entry>
          </row>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/dselect">
              <literal>dselect</literal>
            </ulink> <ulink url="http://bugs.debian.org/dselect">*</ulink></entry>
            <entry><ulink url="http://qa.debian.org/popcon.php?package=dselect">&pop-dselect;</ulink></entry>
            <entry><ulink url="http://packages.qa.debian.org/d/dselect.html">&size-dselect;</ulink></entry>
            <entry>
    terminal-based package manager (previous standard, front-end for APT and other old access methods)
    </entry>
          </row>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/dpkg">
              <literal>dpkg</literal>
            </ulink> <ulink url="http://bugs.debian.org/dpkg">*</ulink></entry>
            <entry><ulink url="http://qa.debian.org/popcon.php?package=dpkg">&pop-dpkg;</ulink></entry>
            <entry><ulink url="http://packages.qa.debian.org/d/dpkg.html">&size-dpkg;</ulink></entry>
            <entry>
    package management system for Debian
    </entry>
          </row>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/dpkg-ftp">
              <literal>dpkg-ftp</literal>
            </ulink> <ulink url="http://bugs.debian.org/dpkg-ftp">*</ulink></entry>
            <entry><ulink url="http://qa.debian.org/popcon.php?package=dpkg-ftp">&pop-dpkgftp;</ulink></entry>
            <entry><ulink url="http://packages.qa.debian.org/d/dpkg-ftp.html">&size-dpkgftp;</ulink></entry>
            <entry>
    older ftp method for <literal>dselect</literal>
    </entry>
          </row>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/synaptic">
              <literal>synaptic</literal>
            </ulink> <ulink url="http://bugs.debian.org/synaptic">*</ulink></entry>
            <entry><ulink url="http://qa.debian.org/popcon.php?package=synaptic">&pop-synaptic;</ulink></entry>
            <entry><ulink url="http://packages.qa.debian.org/s/synaptic.html">&size-synaptic;</ulink></entry>
            <entry>
    graphical package manager (GNOME front-end for APT)
    </entry>
          </row>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/kpackage">
              <literal>kpackage</literal>
            </ulink> <ulink url="http://bugs.debian.org/kpackage">*</ulink></entry>
            <entry><ulink url="http://qa.debian.org/popcon.php?package=kpackage">&pop-kpackage;</ulink></entry>
            <entry><ulink url="http://packages.qa.debian.org/k/kpackage.html">&size-kpackage;</ulink></entry>
            <entry>
    graphical package manager (KDE front-end for APT)
    </entry>
          </row>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/apt-utils">
              <literal>apt-utils</literal>
            </ulink> <ulink url="http://bugs.debian.org/apt-utils">*</ulink></entry>
            <entry><ulink url="http://qa.debian.org/popcon.php?package=apt-utils">&pop-aptutils;</ulink></entry>
            <entry><ulink url="http://packages.qa.debian.org/a/apt-utils.html">&size-aptutils;</ulink></entry>
            <entry>
    APT utility programs: <literal>apt-extracttemplates</literal>(1), <literal>apt-ftparchive</literal>(1), and <literal>apt-sortpkgs</literal>(1)
    </entry>
          </row>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/apt-listchanges">
              <literal>apt-listchanges</literal>
            </ulink> <ulink url="http://bugs.debian.org/apt-listchanges">*</ulink></entry>
            <entry><ulink url="http://qa.debian.org/popcon.php?package=apt-listchanges">&pop-aptlistchanges;</ulink></entry>
            <entry><ulink url="http://packages.qa.debian.org/a/apt-listchanges.html">&size-aptlistchanges;</ulink></entry>
            <entry>
    package change history notification tool
    </entry>
          </row>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/apt-listbugs">
              <literal>apt-listbugs</literal>
            </ulink> <ulink url="http://bugs.debian.org/apt-listbugs">*</ulink></entry>
            <entry><ulink url="http://qa.debian.org/popcon.php?package=apt-listbugs">&pop-aptlistbugs;</ulink></entry>
            <entry><ulink url="http://packages.qa.debian.org/a/apt-listbugs.html">&size-aptlistbugs;</ulink></entry>
            <entry>
    lists critical bugs before each APT installation
    </entry>
          </row>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/apt-file">
              <literal>apt-file</literal>
            </ulink> <ulink url="http://bugs.debian.org/apt-file">*</ulink></entry>
            <entry><ulink url="http://qa.debian.org/popcon.php?package=apt-file">&pop-aptfile;</ulink></entry>
            <entry><ulink url="http://packages.qa.debian.org/a/apt-file.html">&size-aptfile;</ulink></entry>
            <entry>
    APT package searching utility — command-line interface
    </entry>
          </row>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/apt-rdepends">
              <literal>apt-rdepends</literal>
            </ulink> <ulink url="http://bugs.debian.org/apt-rdepends">*</ulink></entry>
            <entry><ulink url="http://qa.debian.org/popcon.php?package=apt-rdepends">&pop-aptrdepends;</ulink></entry>
            <entry><ulink url="http://packages.qa.debian.org/a/apt-rdepends.html">&size-aptrdepends;</ulink></entry>
            <entry>
    recursively lists package dependencies
    </entry>
          </row>
        </tbody>
      </tgroup>
    </table>
    <note>
      <simpara>The annoying <ulink url="&bugebbbcd;">bug #411123</ulink> for the mixed use of <literal>aptitude</literal>(8) and <literal>apt-get</literal>(8) commands has been resolved.  If this kept you from using <literal>aptitude</literal>, please reconsider.</simpara>
    </note>
    <section id="_debian_package_management_prerequisites">
      <title>Debian package management prerequisites</title>
      <section id="_package_configuration">
        <title>Package configuration</title>
        <simpara>Here are some key points for package configuration on the Debian system.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
The manual configuration by the system administrator is respected. In other words, the package configuration system makes no intrusive configuration for the sake of convenience.
</simpara>
          </listitem>
          <listitem>
            <simpara>
Each package comes with its own configuration script with standardized user interface called <literal>debconf</literal>(7) to help initial installation process of the package.
</simpara>
          </listitem>
          <listitem>
            <simpara>
Debian Developers try their best to make your upgrade experience flawless with package configuration scripts.
</simpara>
          </listitem>
          <listitem>
            <simpara>
Full functionalities of packaged software are available to the system administrator.  But ones with security risks are disabled in the default installation.
</simpara>
          </listitem>
          <listitem>
            <simpara>
If you manually activate a service with some security risks, you are responsible for the risk containment.
</simpara>
          </listitem>
          <listitem>
            <simpara>
Esoteric configuration may be manually enabled by the system administrator.  This may creates interference with popular generic helper programs for the system configuration.
</simpara>
          </listitem>
        </itemizedlist>
      </section>
      <section id="_basic_precautions">
        <title>Basic precautions</title>
        <warning>
          <simpara>Do not install packages from random mixture of suites.  It probably will break the package consistency which requires deep system management knowledge, such as compiler <ulink url="&abi;">ABI</ulink>, <ulink url="&library;">library</ulink> version, interpreter features, etc.</simpara>
        </warning>
        <simpara>The <ulink url="&newbie;">newbie</ulink> Debian system administrator should stay with the <emphasis role="strong"><literal>stable</literal></emphasis> release of Debian while applying only security updates.  I mean that some of the following valid actions are better avoided, as a precaution, until you understand the Debian system very well.  Here are some reminders.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
Do not include <emphasis role="strong"><literal>testing</literal></emphasis> or <emphasis role="strong"><literal>unstable</literal></emphasis> in "<literal>/etc/apt/sources.list</literal>".
</simpara>
          </listitem>
          <listitem>
            <simpara>
Do not mix standard Debian with other non-Debian archives such as Ubuntu in "<literal>/etc/apt/sources.list</literal>".
</simpara>
          </listitem>
          <listitem>
            <simpara>
Do not create "<literal>/etc/apt/preferences</literal>".
</simpara>
          </listitem>
          <listitem>
            <simpara>
Do not change default behavior of package management tools through configuration files without knowing their full impacts.
</simpara>
          </listitem>
          <listitem>
            <simpara>
Do not install random packages by "<literal>dpkg -i &lt;random_package&gt;</literal>".
</simpara>
          </listitem>
          <listitem>
            <simpara>
Do not ever install random packages by  "<literal>dpkg --force-all -i &lt;random_package&gt;</literal>".
</simpara>
          </listitem>
          <listitem>
            <simpara>
Do not erase or alter files in "<literal>/var/lib/dpkg/</literal>".
</simpara>
          </listitem>
          <listitem>
            <simpara>
Do not overwrite system files by installing software programs directly compiled from source.
</simpara>
            <itemizedlist>
              <listitem>
                <simpara>
Install them into "<literal>/usr/local</literal>" or "<literal>/opt</literal>", if needed.
</simpara>
              </listitem>
            </itemizedlist>
          </listitem>
        </itemizedlist>
        <simpara>The non-compatible effects caused by above actions to the Debian package management system may leave your system unusable.</simpara>
        <simpara>The serious Debian system administrator who runs mission critical servers, should use extra precautions.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
Do not install any packages including security updates from Debian without thoroughly testing them with your particular configuration under safe conditions.
</simpara>
            <itemizedlist>
              <listitem>
                <simpara>
You as the system administrator are responsible for your system in the end.
</simpara>
              </listitem>
              <listitem>
                <simpara>
The long stability history of Debian system is no gurantee by itself.
</simpara>
              </listitem>
            </itemizedlist>
          </listitem>
        </itemizedlist>
      </section>
      <section id="_life_with_eternal_upgrades">
        <title>Life with eternal upgrades</title>
        <simpara>Despite my warnings above, I know many readers of this document wish to run the <literal>testing</literal> or <literal>unstable</literal> suites of Debian as their main system for <emphasis role="strong">self-administered Desktop environments</emphasis>. This is because they work very well, are updated frequently, and offer the latest features.</simpara>
        <caution>
          <simpara>For your <emphasis role="strong">production server</emphasis>, the <literal>stable</literal> suite with the security updates is recommended.  The same can be said for desktop PCs on which you can spend limited administration efforts, e.g. for your mother's PC.</simpara>
        </caution>
        <simpara>It takes no more than simply setting the distribution string in the "<literal>/etc/apt/sources.list</literal>" to the suite name: "<literal>testing</literal>" or "<literal>unstable</literal>"; or the codename:  "<literal>&codename-testing;</literal>" or "<literal>&codename-unstable;</literal>". This will let you live <emphasis role="strong">the life of eternal upgrades</emphasis>.</simpara>
        <simpara>The use of <literal>testing</literal> or <literal>unstable</literal> is <emphasis role="strong">a lot of fun</emphasis> but comes with some risks.  Even though the <literal>unstable</literal> suite of Debian system looks very stable for most of the times, there have been some package problems on the <literal>testing</literal> and <literal>unstable</literal> suite of Debian system and a few of them were not so trivial to resolve. It may be <emphasis role="strong">quite painful</emphasis> for you. Sometimes, you may have a broken package or missing functionality for a few weeks.</simpara>
        <simpara>Here are some ideas to ensure quick and easy recovery from bugs in Debian packages.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
Make the system <emphasis role="strong">dual bootable</emphasis> by installing the <literal>stable</literal> suite of Debian system to another partition
</simpara>
          </listitem>
          <listitem>
            <simpara>
Make the installation CD handy for the <emphasis role="strong">rescue boot</emphasis>
</simpara>
          </listitem>
          <listitem>
            <simpara>
Consider installing <literal>apt-listbugs</literal> to check the <ulink url="&debianbugtrackingsystembts;">Debian Bug Tracking System (BTS)</ulink> information before the upgrade
</simpara>
          </listitem>
          <listitem>
            <simpara>
Learn the package system infrastructure enough to work around the problem
</simpara>
          </listitem>
          <listitem>
            <simpara>
Create a chroot or similar environment and run the latest system in it in advance (optional)
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>(If you can not do any one of these precautionary actions, you are probably not ready for the <literal>testing</literal> and <literal>unstable</literal> suites.)</simpara>
        <simpara><ulink url="&enlightenment;">Enlightenment</ulink> with the following will save a person from the eternal <ulink url="&karmic;">karmic</ulink> struggle of upgrade <ulink url="&hell;">hell</ulink> and let him reach Debian <ulink url="&nirvana;">nirvana</ulink>.</simpara>
      </section>
      <section id="_debian_archive_basics">
        <title>Debian archive basics</title>
        <simpara>Let's look into <ulink url="&thedebianarchive;">the Debian archive</ulink> from a system user's perspective.</simpara>
        <tip>
          <simpara>Official policy of the Debian archive is defined at <ulink url="&debianpolicymanuthedebianarchive;">Debian Policy Manual, Chapter 2 - The Debian Archive</ulink>.</simpara>
        </tip>
        <simpara>For the typical HTTP access, the archive is specified in the "<literal>/etc/apt/sources.list</literal>" file as the following, e.g. for the current <literal>stable</literal> = <literal>&codename-stable;</literal> system.</simpara>
        <screen>deb http://ftp.XX.debian.org/debian/ &codename-stable; main contrib non-free
deb-src http://ftp.XX.debian.org/debian/ &codename-stable; main contrib non-free

deb http://security.debian.org/ &codename-stable;/updates main contrib
deb-src http://security.debian.org/ &codename-stable;/updates main contrib</screen>
        <simpara>Please note "<literal>ftp.XX.debian.org</literal>" must be replaced with appropriate mirror site URL for your location, for USA "<literal>ftp.us.debian.org</literal>", which can be found in <ulink url="&thelistofdebianwdwidemirrorsites;">the list of Debian worldwide mirror sites</ulink>.  The status of these servers can be checked at <ulink url="&debianmirrorcheckersite;">Debian Mirror Checker site</ulink>.</simpara>
        <simpara>Here, I tend to use codename "<literal>&codename-stable;</literal>" instead of suite name "<literal>stable</literal>" to avoid surprises when the next <literal>stable</literal> is released.</simpara>
        <simpara>The meaning of "<literal>/etc/apt/sources.list</literal>" is described in <literal>sources.list</literal>(5) and key points are followings.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
The "<literal>deb</literal>" line defines for the binary packages.
</simpara>
          </listitem>
          <listitem>
            <simpara>
The "<literal>deb-src</literal>" line defines for the source packages.
</simpara>
          </listitem>
          <listitem>
            <simpara>
The 1st argument is the root URL of the Debian archive.
</simpara>
          </listitem>
          <listitem>
            <simpara>
The 2nd argument is the distribution name: either the suite name or the codename.
</simpara>
          </listitem>
          <listitem>
            <simpara>
The 3rd and following arguments are the list of valid archive component names of the Debian archive.
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>The "<literal>deb-src</literal>" lines can safely be omitted (or commented out by placing "#" at the start of the line) if it is just for <literal>aptitude</literal> which does not access source related meta data. It will speed up the updates of the archive meta data. The URL can be "<literal>http://</literal>", "<literal>ftp://</literal>", "<literal>file://</literal>", ….</simpara>
        <tip>
          <simpara>If "<literal>sid</literal>" is used in the above example instead of "<literal>&codename-stable;</literal>", the "<literal>deb: <ulink url="&httpsecuritydebianorg;">http://security.debian.org/</ulink> …</literal>" line for security updates in the "<literal>/etc/apt/sources.list</literal>" is not required.  Security updates are only available for <literal>stable</literal> and <literal>testing</literal> (i.e., <literal>&codename-stable;</literal> and <literal>&codename-testing;</literal>).</simpara>
        </tip>
        <simpara>Here is the list of URL of the Debian archive sites and suite name or codename used in the configuration file.</simpara>
        <table id="listofdebianarchivesites" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of Debian archive sites</title>
          <tgroup cols="3">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="40%*" align="left"/>
            <thead>
              <row>
                <entry>
    archive URL
    </entry>
                <entry>
    suite name (codename)
    </entry>
                <entry>
    purpose
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <ulink url="&httpftpxxdebianorgdebian;">http://ftp.XX.debian.org/debian/</ulink>
                </entry>
                <entry><literal>stable</literal> (<literal>&codename-stable;</literal>)
    </entry>
                <entry>
    stable (&codename-stable;) release
    </entry>
              </row>
              <row>
                <entry>
                  <ulink url="&httpftpxxdebianorgdebian;">http://ftp.XX.debian.org/debian/</ulink>
                </entry>
                <entry><literal>testing</literal> (<literal>&codename-testing;</literal>)
    </entry>
                <entry>
    testing (&codename-testing;) release
    </entry>
              </row>
              <row>
                <entry>
                  <ulink url="&httpftpxxdebianorgdebian;">http://ftp.XX.debian.org/debian/</ulink>
                </entry>
                <entry><literal>unstable</literal> (<literal>&codename-unstable;</literal>)
    </entry>
                <entry>
    unstable (&codename-unstable;) release
    </entry>
              </row>
              <row>
                <entry>
                  <ulink url="&httpftpxxdebianorgdebian;">http://ftp.XX.debian.org/debian/</ulink>
                </entry>
                <entry>
                  <literal>experimental</literal>
                </entry>
                <entry>
    experimental pre-release (optional, only for developer)
    </entry>
              </row>
              <row>
                <entry>
                  <ulink url="&httpftpxxdebianorgdebian;">http://ftp.XX.debian.org/debian/</ulink>
                </entry>
                <entry>
                  <literal>stable-proposed-updates</literal>
                </entry>
                <entry>
    Updates for the next stable point release (optional)
    </entry>
              </row>
              <row>
                <entry>
                  <ulink url="&httpsecuritydebianorg;">http://security.debian.org/</ulink>
                </entry>
                <entry>
                  <literal>stable/updates</literal>
                </entry>
                <entry>
    security updates for stable release (important)
    </entry>
              </row>
              <row>
                <entry>
                  <ulink url="&httpsecuritydebianorg;">http://security.debian.org/</ulink>
                </entry>
                <entry>
                  <literal>testing/updates</literal>
                </entry>
                <entry>
    security updates for testing release (important)
    </entry>
              </row>
              <row>
                <entry>
                  <ulink url="&httpvolatiledebirgdebianvolatile;">http://volatile.debian.org/debian-volatile/</ulink>
                </entry>
                <entry>
                  <literal>volatile</literal>
                </entry>
                <entry>
    compatible updates for spam filter, IM clients, etc.
    </entry>
              </row>
              <row>
                <entry>
                  <ulink url="&httpvolatiledebirgdebianvolatile;">http://volatile.debian.org/debian-volatile/</ulink>
                </entry>
                <entry>
                  <literal>volatile-sloppy</literal>
                </entry>
                <entry>
    non-compatible updates for spam filter, IM clients, etc.
    </entry>
              </row>
              <row>
                <entry>
                  <ulink url="&httpbackportsorgdebian;">http://backports.org/debian/</ulink>
                </entry>
                <entry>
                  <literal>&codename-stable;-backports</literal>
                </entry>
                <entry>
    newer backported packages for &codename-stable; (non-official, optional)
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <caution>
          <simpara>Only pure <emphasis role="strong"><literal>stable</literal></emphasis> release with security updates provides the best stability. Running mostly <emphasis role="strong"><literal>stable</literal></emphasis> release mixed with some packages from <emphasis role="strong"><literal>testing</literal></emphasis> or <emphasis role="strong"><literal>unstable</literal></emphasis> release is riskier than running pure <emphasis role="strong"><literal>unstable</literal></emphasis> release.  If you really need the latest version of some programs under <emphasis role="strong"><literal>stable</literal></emphasis> release, please use packages from <ulink url="&thedebianvolatileproject;">the debian-volatile project</ulink> and <ulink url="&backportsorg;">backports.org</ulink> (see <xref linkend="_volatile_and_backports_org"/>) services.  These services must be used with extra care.</simpara>
        </caution>
        <caution>
          <simpara>You should basically list only one of <literal>stable</literal>, <literal>testing</literal>, or <literal>unstable</literal> suites in the "<literal>deb</literal>" line.  If you list any combination of <literal>stable</literal>, <literal>testing</literal>, and <literal>unstable</literal> suites in the "<literal>deb</literal>" line, APT programs slow down while only the latest archive is effective.  Multiple listing makes sense for these when the "<literal>/etc/apt/preferences</literal>" file is used with clear objectives (see <xref linkend="_tweaking_candidate_version"/>).</simpara>
        </caution>
        <note>
          <simpara>For the Debian system with the <literal>stable</literal> and <literal>testing</literal> suites, it is a good idea to include lines with "<literal>http://security.debian.org/</literal>" in the "<literal>/etc/apt/sources.list</literal>" to enable security updates as in the example above.</simpara>
        </note>
        <simpara>Each Debian archive consists of 3 components. Components are alternatively called <ulink url="&categoriesindebianpolicy;">categories in "Debian Policy"</ulink> or areas in <ulink url="&debiansocialcontract;">"Debian Social Contract"</ulink>.  The component is grouped by the compliance to <ulink url="&thedebianfreesofreguidelinesdfsg;">"The Debian Free Software Guidelines" (DFSG)</ulink>.</simpara>
        <table id="listofdebianarchivecomponents" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of Debian archive components</title>
          <tgroup cols="3">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="40%*" align="left"/>
            <thead>
              <row>
                <entry>
    component
    </entry>
                <entry>
    number of packages
    </entry>
                <entry>
    criteria of package
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>main</literal>
                </entry>
                <entry>
    &main-packages;
    </entry>
                <entry>
    DSFG complient and no dependency to <literal>non-free</literal>
    </entry>
              </row>
              <row>
                <entry>
                  <literal>contrib</literal>
                </entry>
                <entry>
    &contrib-packages;
    </entry>
                <entry>
    DSFG complient but having dependency to <literal>non-free</literal>
    </entry>
              </row>
              <row>
                <entry>
                  <literal>non-free</literal>
                </entry>
                <entry>
    &non-free-packages;
    </entry>
                <entry>
    not DSFG complient
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>Here the number of packages in the above is for the &arch; architecture.  Strictly speaking, only the <literal>main</literal> component archive shall be considered as the Debian system.</simpara>
        <simpara>The Debian archive organization can be studied best by pointing your browser to the each archive URL appended with <literal>dists</literal> or <literal>pool</literal>.</simpara>
        <simpara>The distribution is referred by two ways, the suite or <ulink url="&codename;">codename</ulink>. The word distribution is alternatively used as the synonym to the suite in many documentations. The relationship between the suite and the codename can be summarized as the following.</simpara>
        <table id="therelationshipbsuiteandcodename" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>The relationship between suite and codename</title>
          <tgroup cols="4">
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="40%*" align="left"/>
            <thead>
              <row>
                <entry>
    Timing
    </entry>
                <entry>
    suite = <literal>stable</literal>
    </entry>
                <entry>
    suite = <literal>testing</literal>
    </entry>
                <entry>
    suite = <literal>unstable</literal>
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
    after the <literal>&codename-stable;</literal> release
    </entry>
                <entry>
    codename = <literal>&codename-stable;</literal>
    </entry>
                <entry>
    codename = <literal>&codename-testing;</literal>
    </entry>
                <entry>
    codename = <literal>sid</literal>
    </entry>
              </row>
              <row>
                <entry>
    after the <literal>&codename-testing;</literal> release
    </entry>
                <entry>
    codename = <literal>&codename-testing;</literal>
    </entry>
                <entry>
    codename = <literal>&codename-nexttesting;</literal>
    </entry>
                <entry>
    codename = <literal>sid</literal>
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>The history of codenames are described in <ulink url="&debianfaqgdbwhiceenusedinthepast;">Debian FAQ: 6.3.1 Which other codenames have been used in the past?</ulink></simpara>
        <simpara>In the stricter Debian archive terminology, the word "section" is specifically used for the categorization of packages by the application area.  (Although, the word "main section" may sometimes be used to describe the Debian archive section which provides the main component.)</simpara>
        <simpara>Every time a new upload is done by the Debian developer (DD) to the <literal>unstable</literal> archive (via <ulink url="&incoming;">incoming</ulink> processing), DD is required to ensure uploaded packages to be compatible with the latest set of packages in the latest <literal>unstable</literal> archive.</simpara>
        <simpara>If DD breaks this compatibility intentionally for important library upgrade etc, there is usually announcement to <ulink url="&thedebiandevelmailinglist;">the debian-devel mailing list</ulink> etc.</simpara>
        <simpara>Before a set of packages are moved by the Debian archive maintenance script from the <literal>unstable</literal> archive to the <literal>testing</literal> archive, the archive maintenance script not only checks the maturity (about 10 days old) and the status of the RC bug reports for the packages but also tries to ensure them to be compatible with the latest set of packages in the <literal>testing</literal> archive. This process makes the <literal>testing</literal> archive very current and usable.</simpara>
        <simpara>Through the gradual archive freeze process led by the release team, the <literal>testing</literal> archive will be matured to make it completely consistent and bug free with some manual interventions.  Then the new <literal>stable</literal> release is created by assigning the codename for the old <literal>testing</literal> archive to the new <literal>stable</literal> archive and creating the new codename for the new <literal>testing</literal> archive.  The initial contents of the new <literal>testing</literal> archive is exactly the same as that of the newly released <literal>stable</literal> archive.</simpara>
        <simpara>Both the <literal>unstable</literal> and the <literal>testing</literal> archives may suffer temporary glitches due to several factors.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
Broken package upload to the archive (mostly for <literal>unstable</literal>)
</simpara>
          </listitem>
          <listitem>
            <simpara>
Delay of accepting the new packages to the archive (mostly for <literal>unstable</literal>)
</simpara>
          </listitem>
          <listitem>
            <simpara>
Archive synchronization timing issue (both for <literal>testing</literal> and <literal>unstable</literal>)
</simpara>
          </listitem>
          <listitem>
            <simpara>
Manual intervention to the archive such as package removal (more for <literal>testing</literal>) etc.
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>So if you ever decide to use these archives, you should be able to fix or work around these kinds of glitches.</simpara>
        <caution>
          <simpara>For about few months after a new <literal>stable</literal> release, most desktop users should use the <literal>stable</literal> archive with its security updates even if they usually use <literal>unstable</literal> or <literal>testing</literal> archives.  For this transition period, both <literal>unstable</literal> and <literal>testing</literal> archives are not good for most people. Your system is difficult to keep in good working condition with the <literal>unstable</literal> archive since it suffers surges of major upgrades for core packages.  The <literal>testing</literal> archive is not useful either since it contains mostly the same content as the <literal>stable</literal> archive without its security support (<ulink url="&debiantestingsectyannouncecaaibc;">Debian testing-security-announce 2008-12</ulink>). After a month or so, the <literal>unstable</literal> archive may be usable if you are careful.</simpara>
        </caution>
        <tip>
          <simpara>When tracking the <literal>testing</literal> archive, problem caused by a removed package is usually worked around by installing corresponding package from the <literal>unstable</literal> archive which is uploaded for bug fix.</simpara>
        </tip>
        <simpara>See <ulink url="&debianpolicymanual;">Debian Policy Manual</ulink> for archive definitions.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
"<ulink url="&sections;">Sections</ulink>"
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<ulink url="&priorities;">Priorities</ulink>"
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<ulink url="&basesystem;">Base system</ulink>"
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<ulink url="&essentialpackages;">Essential packages</ulink>"
</simpara>
          </listitem>
        </itemizedlist>
      </section>
      <section id="_package_dependencies">
        <title>Package dependencies</title>
        <simpara>The Debian system offers a consistent set of binary packages through its versioned binary dependency declaration mechanism in the control file fields.   Here is a bit over simplified definition for them.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
"Depends"
</simpara>
            <itemizedlist>
              <listitem>
                <simpara>
This declares an absolute dependency and all of the packages listed in this field must be installed at the same time or in advance.
</simpara>
              </listitem>
            </itemizedlist>
          </listitem>
          <listitem>
            <simpara>
"Pre-Depends"
</simpara>
            <itemizedlist>
              <listitem>
                <simpara>
This is like Depends, except that it requires completed installation of the listed packages in advance.
</simpara>
              </listitem>
            </itemizedlist>
          </listitem>
          <listitem>
            <simpara>
"Recommends"
</simpara>
            <itemizedlist>
              <listitem>
                <simpara>
This declares a strong, but not absolute, dependency.  Most users would not want the package unless all of the packages listed in this field are installed.
</simpara>
              </listitem>
            </itemizedlist>
          </listitem>
          <listitem>
            <simpara>
"Suggests"
</simpara>
            <itemizedlist>
              <listitem>
                <simpara>
This declares a weak dependency.  Many users of this package may benefit from installing packages listed in this field but can have reasonable functions without them.
</simpara>
              </listitem>
            </itemizedlist>
          </listitem>
          <listitem>
            <simpara>
"Enhances"
</simpara>
            <itemizedlist>
              <listitem>
                <simpara>
This declares a week dependency like Suggests but works in the opposite direction.
</simpara>
              </listitem>
            </itemizedlist>
          </listitem>
          <listitem>
            <simpara>
"Conflicts"
</simpara>
            <itemizedlist>
              <listitem>
                <simpara>
This declares an absolute incompatibility.  All of the packages listed in this field must be removed to install this package.
</simpara>
              </listitem>
            </itemizedlist>
          </listitem>
          <listitem>
            <simpara>
"Replaces"
</simpara>
            <itemizedlist>
              <listitem>
                <simpara>
This is declared when files installed by this package replace files in the listed packages.
</simpara>
              </listitem>
            </itemizedlist>
          </listitem>
          <listitem>
            <simpara>
"Provides"
</simpara>
            <itemizedlist>
              <listitem>
                <simpara>
This is declared when this package provide all of the files and functionality in the listed packages.
</simpara>
              </listitem>
            </itemizedlist>
          </listitem>
        </itemizedlist>
        <note>
          <simpara>Please note that defining, "Provides", "Conflicts" and "Replaces" simultaneously to an virtual package is the sane configuration.  This ensures that only one real package providing this virtual package can be installed at any one time.</simpara>
        </note>
        <simpara>The official definition including source dependency can be found in <ulink url="&thepolicymanualcsbetweenpackages;">the Policy Manual: Chapter 7 - Declaring relationships between packages</ulink>.</simpara>
      </section>
      <section id="_the_event_flow_of_the_package_management">
        <title>The event flow of the package management</title>
        <simpara>Here is a summary of the simplified event flow of the package management by APT.</simpara>
        <itemizedlist>
          <listitem>
            <simpara><emphasis role="strong">Update</emphasis> ("<literal>aptitude update</literal>" or "<literal>apt-get update</literal>"):
</simpara>
            <orderedlist>
              <listitem>
                <simpara>
Fetch archive metadata from remote archive
</simpara>
              </listitem>
              <listitem>
                <simpara>
Reconstruct and update local metadata for use by APT
</simpara>
              </listitem>
            </orderedlist>
          </listitem>
          <listitem>
            <simpara><emphasis role="strong">Upgrade</emphasis> ("<literal>aptitude safe-upgrade</literal>" and "<literal>aptitude full-upgrade</literal>", or "<literal>apt-get upgrade</literal>" and "<literal>apt-get dist-upgrade</literal>"):
</simpara>
            <orderedlist>
              <listitem>
                <simpara>
Chose candidate version which is usually the latest available version for all installed packages (see <xref linkend="_tweaking_candidate_version"/> for exception)
</simpara>
              </listitem>
              <listitem>
                <simpara>
Make package dependency resolution
</simpara>
              </listitem>
              <listitem>
                <simpara>
Fetch selected binary packages from remote archive if candidate version is different from installed version
</simpara>
              </listitem>
              <listitem>
                <simpara>
Unpack fetched binary packages
</simpara>
              </listitem>
              <listitem>
                <simpara>
Run <emphasis role="strong">preinst</emphasis> script
</simpara>
              </listitem>
              <listitem>
                <simpara>
Install binary files
</simpara>
              </listitem>
              <listitem>
                <simpara>
Run <emphasis role="strong">postinst</emphasis> script
</simpara>
              </listitem>
            </orderedlist>
          </listitem>
          <listitem>
            <simpara><emphasis role="strong">Install</emphasis> ("<literal>aptitude install …</literal>" or "<literal>apt-get install …</literal>"):
</simpara>
            <orderedlist>
              <listitem>
                <simpara>
Chose packages listed on the command line
</simpara>
              </listitem>
              <listitem>
                <simpara>
Make package dependency resolution
</simpara>
              </listitem>
              <listitem>
                <simpara>
Fetch selected binary packages from remote archive
</simpara>
              </listitem>
              <listitem>
                <simpara>
Unpack fetched binary packages
</simpara>
              </listitem>
              <listitem>
                <simpara>
Run <emphasis role="strong">preinst</emphasis> script
</simpara>
              </listitem>
              <listitem>
                <simpara>
Install binary files
</simpara>
              </listitem>
              <listitem>
                <simpara>
Run <emphasis role="strong">postinst</emphasis> script
</simpara>
              </listitem>
            </orderedlist>
          </listitem>
          <listitem>
            <simpara><emphasis role="strong">Remove</emphasis> ("<literal>aptitude remove …</literal>" or "<literal>apt-get remove …</literal>"):
</simpara>
            <orderedlist>
              <listitem>
                <simpara>
Chose packages listed on the command line
</simpara>
              </listitem>
              <listitem>
                <simpara>
Make package dependency resolution
</simpara>
              </listitem>
              <listitem>
                <simpara>
Run <emphasis role="strong">prerm</emphasis> script
</simpara>
              </listitem>
              <listitem>
                <simpara>
Remove installed files <emphasis role="strong">except</emphasis> configuration files
</simpara>
              </listitem>
              <listitem>
                <simpara>
Run <emphasis role="strong">postrm</emphasis> script
</simpara>
              </listitem>
            </orderedlist>
          </listitem>
          <listitem>
            <simpara><emphasis role="strong">Purge</emphasis> ("<literal>aptitude purge …</literal>" or "<literal>apt-get purge …</literal>"):
</simpara>
            <orderedlist>
              <listitem>
                <simpara>
Chose packages listed on the command line
</simpara>
              </listitem>
              <listitem>
                <simpara>
Make package dependency resolution
</simpara>
              </listitem>
              <listitem>
                <simpara>
Run <emphasis role="strong">prerm</emphasis> script
</simpara>
              </listitem>
              <listitem>
                <simpara>
Remove installed files <emphasis role="strong">including</emphasis> configuration files
</simpara>
              </listitem>
              <listitem>
                <simpara>
Run <emphasis role="strong">postrm</emphasis> script
</simpara>
              </listitem>
            </orderedlist>
          </listitem>
        </itemizedlist>
        <simpara>Here, I intentionally skipped technical details for the sake of big picture.</simpara>
      </section>
      <section id="_first_response_to_package_management_troubles">
        <title>First response to package management troubles</title>
        <simpara>You should read the fine official documentation.  The first document to read is the Debian specific "<literal>/usr/share/doc/&lt;package_name&gt;/README.Debian</literal>".  Other documentation in "<literal>/usr/share/doc/&lt;package_name&gt;/</literal>" should be consulted too.  If you set shell as <xref linkend="_customizing_bash"/>, type the following.</simpara>
        <screen>$ cd &lt;package_name&gt;
$ pager README.Debian
$ mc</screen>
        <simpara>You may need to install the corresponding documentation package named with "<literal>-doc</literal>" suffix for detailed information.</simpara>
        <simpara>If you are experiencing problems with a specific package, make sure to check out <ulink url="&thedebianbugtrackingsystembts;">the Debian bug tracking system (BTS)</ulink> sites, first.</simpara>
        <table id="listofkeywebsiteaspecificpackage" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of key web site to resolving problems with a specific package</title>
          <tgroup cols="2">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="70%*" align="left"/>
            <thead>
              <row>
                <entry>
    web site
    </entry>
                <entry>
    command
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
    Home page of <ulink url="&thedebianbugtrackingsystembts;">the Debian bug tracking system (BTS)</ulink>
    </entry>
                <entry>
                  <literal>sensible-browser "http://bugs.debian.org/"</literal>
                </entry>
              </row>
              <row>
                <entry>
    The bug report of a known package name
    </entry>
                <entry>
                  <literal>sensible-browser "http://bugs.debian.org/&lt;package_name&gt;"</literal>
                </entry>
              </row>
              <row>
                <entry>
    The bug report of known bug number
    </entry>
                <entry>
                  <literal>sensible-browser "http://bugs.debian.org/&lt;bug_number&gt;"</literal>
                </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>Search <ulink url="&google;">Google</ulink> with search words including "<literal>site:debian.org</literal>", "<literal>site:wiki.debian.org</literal>", "<literal>site:lists.debian.org</literal>", etc.</simpara>
        <simpara>When you file a bug report, please use <literal>reportbug</literal>(1) command.</simpara>
      </section>
    </section>
    <section id="_basic_package_management_operations">
      <title>Basic package management operations</title>
      <simpara>Aptitude is the current preferred package management tool for the Debian system.  It can be used as the commandline alternative to <literal>apt-get</literal> / <literal>apt-cache</literal> and also as the full screen interactive package management tool.</simpara>
      <simpara>For the package management operation which involves package installation or updates package metadata, you need to have root privilege.</simpara>
      <section id="_basic_package_management_operations_with_commandline">
        <title>Basic package management operations with commandline</title>
        <simpara>Here are basic package management operations with commandline using <literal>aptitude</literal>(8) and <literal>apt-get</literal>(8) /<literal>apt-cache</literal>(8).</simpara>
        <table id="basicpackagemanaaptgetiaptcachei" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>Basic package management operations with commandline using <literal>aptitude</literal>(8) and <literal>apt-get</literal>(8) /<literal>apt-cache</literal>(8)</title>
          <tgroup cols="3">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="40%*" align="left"/>
            <thead>
              <row>
                <entry><literal>aptitude</literal> syntax
    </entry>
                <entry><literal>apt-get</literal>/<literal>apt-cache</literal> syntax
    </entry>
                <entry>
    description
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>aptitude update</literal>
                </entry>
                <entry>
                  <literal>apt-get update</literal>
                </entry>
                <entry>
    update package archive metadata
    </entry>
              </row>
              <row>
                <entry>
                  <literal>aptitude install foo</literal>
                </entry>
                <entry>
                  <literal>apt-get install foo</literal>
                </entry>
                <entry>
    install candidate version of "<literal>foo</literal>" package with its dependencies
    </entry>
              </row>
              <row>
                <entry>
                  <literal>aptitude safe-upgrade</literal>
                </entry>
                <entry>
                  <literal>apt-get upgrade</literal>
                </entry>
                <entry>
    install candidate version of installed packages without removing any other packages
    </entry>
              </row>
              <row>
                <entry>
                  <literal>aptitude full-upgrade</literal>
                </entry>
                <entry>
                  <literal>apt-get dist-upgrade &lt;package&gt;</literal>
                </entry>
                <entry>
    install candidate version of installed packages while removing other packages if needed
    </entry>
              </row>
              <row>
                <entry>
                  <literal>aptitude remove foo</literal>
                </entry>
                <entry>
                  <literal>apt-get remove foo</literal>
                </entry>
                <entry>
    remove "<literal>foo</literal>" package while leaving its configuration files
    </entry>
              </row>
              <row>
                <entry>
    N/A
    </entry>
                <entry>
                  <literal>apt-get autoremove</literal>
                </entry>
                <entry>
    remove auto-installed packages which is no longer required
    </entry>
              </row>
              <row>
                <entry>
                  <literal>aptitude purge foo</literal>
                </entry>
                <entry>
                  <literal>apt-get purge foo</literal>
                </entry>
                <entry>
    purge "<literal>foo</literal>" package with its configuration files
    </entry>
              </row>
              <row>
                <entry>
                  <literal>aptitude clean</literal>
                </entry>
                <entry>
                  <literal>apt-get clean</literal>
                </entry>
                <entry>
    clear out the local repository of retrieved package files completely
    </entry>
              </row>
              <row>
                <entry>
                  <literal>aptitude autoclean</literal>
                </entry>
                <entry>
                  <literal>apt-get autoclean</literal>
                </entry>
                <entry>
    clear out the local repository of retrieved package files for outdated packages
    </entry>
              </row>
              <row>
                <entry>
                  <literal>aptitude show foo</literal>
                </entry>
                <entry>
                  <literal>apt-cache show &lt;package&gt;</literal>
                </entry>
                <entry>
    display detailed information about "<literal>foo</literal>" package
    </entry>
              </row>
              <row>
                <entry>
                  <literal>aptitude search &lt;regex&gt;</literal>
                </entry>
                <entry>
                  <literal>apt-cache search &lt;regex&gt;</literal>
                </entry>
                <entry>
    search packages which match &lt;regex&gt;
    </entry>
              </row>
              <row>
                <entry>
                  <literal>aptitude why &lt;regex&gt;</literal>
                </entry>
                <entry>
    N/A
    </entry>
                <entry>
    explain the reason why &lt;regex&gt; matching packages should be installed
    </entry>
              </row>
              <row>
                <entry>
                  <literal>aptitude why-not &lt;regex&gt;</literal>
                </entry>
                <entry>
    N/A
    </entry>
                <entry>
    explain the reason why &lt;regex&gt; matching packages can not be installed
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>Although it is now safe to mix different package tools on the Debian system, it is best to continue using <literal>aptitude</literal> as much as possible.</simpara>
        <simpara>The difference between "<literal>safe-upgrade</literal>"/"<literal>upgrade</literal>" and "<literal>full-upgrade</literal>"/"<literal>dist-upgrade</literal>" only appears when new versions of packages stand in different dependency relationships from old versions of those packages.  The "<literal>aptitude safe-upgrade</literal>" command will never install new packages nor remove installed packages.</simpara>
        <simpara>The "<literal>aptitude why &lt;regex&gt;</literal>" can list more information by "<literal>aptitude -v why &lt;regex&gt;</literal>".  Similar information can be obtained by "<literal>apt-cache rdepends &lt;package&gt;</literal>".</simpara>
        <simpara>When <literal>aptitude</literal> command is started in the commandline mode and faces some issues such as package conflicts, you can switch to the full screen interactive mode by pressing "<literal>e</literal>"-key later at the prompt.</simpara>
        <simpara>You may provide command options right after "<literal>aptitude</literal>".</simpara>
        <table id="notablecommandopionsforaptitudei" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>Notable command options for <literal>aptitude</literal>(8)</title>
          <tgroup cols="2">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="70%*" align="left"/>
            <thead>
              <row>
                <entry>
    command option
    </entry>
                <entry>
    description
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>-s</literal>
                </entry>
                <entry>
    simulate the result of the command
    </entry>
              </row>
              <row>
                <entry>
                  <literal>-d</literal>
                </entry>
                <entry>
    download only but no install/upgrade
    </entry>
              </row>
              <row>
                <entry>
                  <literal>-D</literal>
                </entry>
                <entry>
    show brief explanations before the automatic installations and removals
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>See <literal>aptitude</literal>(8) and "aptitude user's manual" at "<literal>/usr/share/doc/aptitude/README</literal>" for more.</simpara>
        <tip>
          <simpara>The <literal>dselect</literal> package is still available and was the preferred full screen interactive package management tool in previous releases.</simpara>
        </tip>
      </section>
      <section id="_interactive_use_of_aptitude">
        <title>Interactive use of aptitude</title>
        <simpara>For the interactive package management, you start <literal>aptitude</literal> in interactive mode from the console shell prompt as follows.</simpara>
        <screen>$ sudo aptitude -u
Password:</screen>
        <simpara>This will update the local copy of the archive information and display the package list in the full screen with menu.  Aptitude places its configuration at "<literal>~/.aptitude/config</literal>".</simpara>
        <tip>
          <simpara>If you want to use root's configuration instead of user's one, use "<literal>sudo -H aptitude …</literal>" instead of "<literal>sudo aptitude …</literal>" in the above expression.</simpara>
        </tip>
        <tip>
          <simpara><literal>Aptitude</literal> automatically sets <emphasis role="strong">pending actions</emphasis> as it is started interactively. If you do not like it, you can reset it from menu: "Action" → "Cancel pending actions".</simpara>
        </tip>
      </section>
      <section id="_key_bindings_of_aptitude">
        <title>Key bindings of aptitude</title>
        <simpara>Notable key strokes to browse status of packages and to set "planned action" on them in this full screen mode are the following.</simpara>
        <table id="listofkeybindingsforaptitude" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of key bindings for aptitude</title>
          <tgroup cols="2">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="70%*" align="left"/>
            <thead>
              <row>
                <entry>
    key
    </entry>
                <entry>
    key binding
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><literal>F10</literal> or <literal>Ctrl-t</literal>
    </entry>
                <entry>
    menu
    </entry>
              </row>
              <row>
                <entry>
                  <literal>?</literal>
                </entry>
                <entry>
    display <emphasis role="strong">help</emphasis> for keystroke (more complete listing)
    </entry>
              </row>
              <row>
                <entry><literal>F10</literal> → Help → User's Manual
    </entry>
                <entry>
    display User's Manual
    </entry>
              </row>
              <row>
                <entry>
                  <literal>u</literal>
                </entry>
                <entry>
    update package archive information
    </entry>
              </row>
              <row>
                <entry>
                  <literal>+</literal>
                </entry>
                <entry>
    mark the package for the <emphasis role="strong">upgrade</emphasis> or the <emphasis role="strong">install</emphasis>
    </entry>
              </row>
              <row>
                <entry>
                  <literal>-</literal>
                </entry>
                <entry>
    mark the package for the <emphasis role="strong">remove</emphasis> (keep configuration files)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>_</literal>
                </entry>
                <entry>
    mark the package for the <emphasis role="strong">purge</emphasis> (remove configuration files)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>=</literal>
                </entry>
                <entry>
    place the package on <emphasis role="strong">hold</emphasis>
    </entry>
              </row>
              <row>
                <entry>
                  <literal>U</literal>
                </entry>
                <entry>
    mark all upgradable packages (function as <emphasis role="strong">full-upgrade</emphasis>)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>g</literal>
                </entry>
                <entry>
    start <emphasis role="strong">downloading</emphasis> and <emphasis role="strong">installing</emphasis> selected packages
    </entry>
              </row>
              <row>
                <entry>
                  <literal>q</literal>
                </entry>
                <entry>
    quit current screen and save changes
    </entry>
              </row>
              <row>
                <entry>
                  <literal>x</literal>
                </entry>
                <entry>
    quit current screen and discard changes
    </entry>
              </row>
              <row>
                <entry>
                  <literal>Enter</literal>
                </entry>
                <entry>
    view information about a package
    </entry>
              </row>
              <row>
                <entry>
                  <literal>C</literal>
                </entry>
                <entry>
    view a package's changelog
    </entry>
              </row>
              <row>
                <entry>
                  <literal>l</literal>
                </entry>
                <entry>
    change the limit for the displayed packages
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/</literal>
                </entry>
                <entry>
    search for the first match
    </entry>
              </row>
              <row>
                <entry>
                  <literal>\</literal>
                </entry>
                <entry>
    repeat the last search
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>The file name specification of the command line and the menu prompt after pressing "<literal>l</literal>" and "<literal>//</literal>" take the aptitude regex as described below.  Aptitude regex can explicitly match a package name using a string started by "<literal>~n</literal> and followed by the package name.</simpara>
        <tip>
          <simpara>You need to press "<literal>U</literal>" to get all the installed packages upgraded to the <emphasis role="strong">candidate version</emphasis> in the visual interface.  Otherwise only the selected packages and certain packages with versioned dependency to them are upgraded to the <emphasis role="strong">candidate version</emphasis>.</simpara>
        </tip>
      </section>
      <section id="_package_views_under_aptitude">
        <title>Package views under aptitude</title>
        <simpara>In the interactive full screen mode of <literal>aptitude</literal>(8), packages in the package list are displayed as the next example.</simpara>
        <screen>idA   libsmbclient                             -2220kB 3.0.25a-1  3.0.25a-2</screen>
        <simpara>Here, this line means from the left as the following.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
The "current state" flag (the first letter)
</simpara>
          </listitem>
          <listitem>
            <simpara>
The "planned action" flag (the second letter)
</simpara>
          </listitem>
          <listitem>
            <simpara>
The "automatic" flag (the  third letter)
</simpara>
          </listitem>
          <listitem>
            <simpara>
The Package name
</simpara>
          </listitem>
          <listitem>
            <simpara>
The change in disk space usage attributed to "planned action"
</simpara>
          </listitem>
          <listitem>
            <simpara>
The current version of the package
</simpara>
          </listitem>
          <listitem>
            <simpara>
The candidate version of the package
</simpara>
          </listitem>
        </itemizedlist>
        <tip>
          <simpara>The full list of flags are given at the bottom of <emphasis role="strong">Help</emphasis> screen shown by pressing "<literal>?</literal>".</simpara>
        </tip>
        <simpara>The <emphasis role="strong">candidate version</emphasis> is chosen according to the current local preferences (see <literal>apt_preferences</literal>(5) and <xref linkend="_tweaking_candidate_version"/>).</simpara>
        <simpara>Several types of package views are available under the menu "<literal>Views</literal>".</simpara>
        <table id="listofviewsforaptitude" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of views for aptitude</title>
          <tgroup cols="3">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="40%*" align="left"/>
            <thead>
              <row>
                <entry>
    view
    </entry>
                <entry>
    status
    </entry>
                <entry>
    description of view
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>Package View</literal>
                </entry>
                <entry>
    Good
    </entry>
                <entry>
    see <xref linkend="standard-package-views"/> (default)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>Audit Recommendations</literal>
                </entry>
                <entry>
    Good
    </entry>
                <entry>
    list packages which are recommended by some installed packages but not yet installed are listed
    </entry>
              </row>
              <row>
                <entry>
                  <literal>Flat Package List</literal>
                </entry>
                <entry>
    Good
    </entry>
                <entry>
    list packages without categorization (for use with regex)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>Debtags Browser</literal>
                </entry>
                <entry>
    Very usable
    </entry>
                <entry>
    list packages categorized according to their <ulink url="&debtags;">debtags</ulink> entries
    </entry>
              </row>
              <row>
                <entry>
                  <literal>Categorical Browser</literal>
                </entry>
                <entry>
    Deprecated
    </entry>
                <entry>
    list packages categorized according to their category (use <literal>Debtags Browser</literal>, instead)
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <note>
          <simpara>Please help us <ulink url="&improvingtaggingkageswithdebtags;">improving tagging packages with debtags!</ulink></simpara>
        </note>
        <simpara>The standard "<literal>Package View</literal>" categorizes packages somewhat like <literal>dselect</literal> with few extra features.</simpara>
        <table id="standard-package-views" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>The categorization of standard package views</title>
          <tgroup cols="2">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="70%*" align="left"/>
            <thead>
              <row>
                <entry>
    category
    </entry>
                <entry>
    description of view
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>Upgradable Packages</literal>
                </entry>
                <entry>
    list packages organized as <literal>section</literal> → <literal>component</literal> → <literal>package</literal>
    </entry>
              </row>
              <row>
                <entry>
                  <literal>New Packages</literal>
                </entry>
                <entry>
    , ,
    </entry>
              </row>
              <row>
                <entry>
                  <literal>Installed Packages</literal>
                </entry>
                <entry>
    , ,
    </entry>
              </row>
              <row>
                <entry>
                  <literal>Not Installed Packages</literal>
                </entry>
                <entry>
    , ,
    </entry>
              </row>
              <row>
                <entry>
                  <literal>Obsolete and Locally Created Packages</literal>
                </entry>
                <entry>
    , ,
    </entry>
              </row>
              <row>
                <entry>
                  <literal>Virtual Packages</literal>
                </entry>
                <entry>
    list packages with the same function
    </entry>
              </row>
              <row>
                <entry>
                  <literal>Tasks</literal>
                </entry>
                <entry>
    list packages with different functions generally needed for a task
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <tip>
          <simpara><literal>Tasks</literal> view can be used to cherry pick packages for your task.</simpara>
        </tip>
      </section>
      <section id="_search_method_options_with_aptitude">
        <title>Search method options with aptitude</title>
        <simpara>Aptitude offers several options for you to search packages using its regex formula.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
Shell commandline:
</simpara>
            <itemizedlist>
              <listitem>
                <simpara>
"<literal>aptitude search '&lt;aptitude_regex&gt;'</literal>" to list installation status, package name and short description of matching packages
</simpara>
              </listitem>
              <listitem>
                <simpara>
"<literal>aptitude show '&lt;package_name&gt;'</literal>" to list detailed description of the package
</simpara>
              </listitem>
            </itemizedlist>
          </listitem>
          <listitem>
            <simpara>
Interactive full screen mode:
</simpara>
            <itemizedlist>
              <listitem>
                <simpara>
"<literal>l</literal>" to limit package view to matching packages
</simpara>
              </listitem>
              <listitem>
                <simpara>
"<literal>/</literal>" for search to a matching package
</simpara>
              </listitem>
              <listitem>
                <simpara>
"<literal>\</literal>" for backward search to a matching package
</simpara>
              </listitem>
              <listitem>
                <simpara>
"<literal>n</literal>" for find-next
</simpara>
              </listitem>
              <listitem>
                <simpara>
"<literal>N</literal>" for find-next (backward)
</simpara>
              </listitem>
            </itemizedlist>
          </listitem>
        </itemizedlist>
        <tip>
          <simpara>The string for &lt;package_name&gt; is treated as the exact string match to the package name unless it is started explicitly with "<literal>~</literal>" to be the regex formula.</simpara>
        </tip>
      </section>
      <section id="_the_aptitude_regex_formula">
        <title>The aptitude regex formula</title>
        <simpara>The aptitude regex formula is mutt-like extended <emphasis role="strong">ERE</emphasis> (see <xref linkend="_regular_expressions"/>) and the meanings of the <literal>aptitude</literal> specific special match rule extensions are as follows.</simpara>
        <table id="listoftheaptituderegexformula" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of the aptitude regex formula</title>
          <tgroup cols="2">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="70%*" align="left"/>
            <thead>
              <row>
                <entry>
    desciption of the extended match rule
    </entry>
                <entry>
    regex formula
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
    match on package name
    </entry>
                <entry>
                  <literal>~n&lt;regex_name&gt;</literal>
                </entry>
              </row>
              <row>
                <entry>
    match on description
    </entry>
                <entry>
                  <literal>~d&lt;regex_description&gt;</literal>
                </entry>
              </row>
              <row>
                <entry>
    match on task name
    </entry>
                <entry>
                  <literal>~t&lt;regex_task&gt;</literal>
                </entry>
              </row>
              <row>
                <entry>
    match on debtag
    </entry>
                <entry>
                  <literal>~G&lt;regex_debtag&gt;</literal>
                </entry>
              </row>
              <row>
                <entry>
    match on maintainer
    </entry>
                <entry>
                  <literal>~m&lt;regex_maintainer&gt;</literal>
                </entry>
              </row>
              <row>
                <entry>
    match on package section
    </entry>
                <entry>
                  <literal>~s&lt;regex_section&gt;</literal>
                </entry>
              </row>
              <row>
                <entry>
    match on package version
    </entry>
                <entry>
                  <literal>~V&lt;regex_version&gt;</literal>
                </entry>
              </row>
              <row>
                <entry>
    match archive
    </entry>
                <entry><literal>~A{sarge,etch,sid</literal>}
    </entry>
              </row>
              <row>
                <entry>
    match origin
    </entry>
                <entry><literal>~O{debian,…</literal>}
    </entry>
              </row>
              <row>
                <entry>
    match priority
    </entry>
                <entry><literal>~p{extra,important,optional,required,standard</literal>}
    </entry>
              </row>
              <row>
                <entry>
    match essential packages
    </entry>
                <entry>
                  <literal>~E</literal>
                </entry>
              </row>
              <row>
                <entry>
    match virtual packages
    </entry>
                <entry>
                  <literal>~v</literal>
                </entry>
              </row>
              <row>
                <entry>
    match new packages
    </entry>
                <entry>
                  <literal>~N</literal>
                </entry>
              </row>
              <row>
                <entry>
    match with pending action
    </entry>
                <entry><literal>~a{install,upgrade,downgrade,remove,purge,hold,keep</literal>}
    </entry>
              </row>
              <row>
                <entry>
    match installed packages
    </entry>
                <entry>
                  <literal>~i</literal>
                </entry>
              </row>
              <row>
                <entry>
    match installed packages with <emphasis role="strong">A</emphasis>-mark (auto installed package)
    </entry>
                <entry>
                  <literal>~M</literal>
                </entry>
              </row>
              <row>
                <entry>
    match installed packages without <emphasis role="strong">A</emphasis>-mark (administrator selected package)
    </entry>
                <entry>
                  <literal>~i!~M</literal>
                </entry>
              </row>
              <row>
                <entry>
    match installed and upgradable packages
    </entry>
                <entry>
                  <literal>~U</literal>
                </entry>
              </row>
              <row>
                <entry>
    match removed but not purged packages
    </entry>
                <entry>
                  <literal>~c</literal>
                </entry>
              </row>
              <row>
                <entry>
    match removed, purged or can-be-removed packages
    </entry>
                <entry>
                  <literal>~g</literal>
                </entry>
              </row>
              <row>
                <entry>
    match packages with broken relation
    </entry>
                <entry>
                  <literal>~b</literal>
                </entry>
              </row>
              <row>
                <entry>
    match packages with broken depends/predepends/conflict
    </entry>
                <entry>
                  <literal>~B&lt;type&gt;</literal>
                </entry>
              </row>
              <row>
                <entry>
    match packages from which relation &lt;type&gt; is defined to &lt;term&gt; package
    </entry>
                <entry>
                  <literal>~D[&lt;type&gt;:]&lt;term&gt;</literal>
                </entry>
              </row>
              <row>
                <entry>
    match packages from which <emphasis role="strong">broken</emphasis> relation &lt;type&gt; is defined to &lt;term&gt; package
    </entry>
                <entry>
                  <literal>~DB[&lt;type&gt;:]&lt;term&gt;</literal>
                </entry>
              </row>
              <row>
                <entry>
    match packages to which the &lt;term&gt; package defines relation &lt;type&gt;
    </entry>
                <entry>
                  <literal>~R[&lt;type&gt;:]&lt;term&gt;</literal>
                </entry>
              </row>
              <row>
                <entry>
    match packages to which the &lt;term&gt; package defines <emphasis role="strong">broken</emphasis> relation &lt;type&gt;
    </entry>
                <entry>
                  <literal>~RB[&lt;type&gt;:]&lt;term&gt;</literal>
                </entry>
              </row>
              <row>
                <entry>
    match packages to which some other installed packages depend on
    </entry>
                <entry>
                  <literal>~R~i</literal>
                </entry>
              </row>
              <row>
                <entry>
    match packages to which no other installed packages depend on
    </entry>
                <entry>
                  <literal>!~R~i</literal>
                </entry>
              </row>
              <row>
                <entry>
    match packages to which some other installed packages depend or recommend on
    </entry>
                <entry>
                  <literal>~R~i|~Rrecommends:~i</literal>
                </entry>
              </row>
              <row>
                <entry>
    match &lt;term&gt; package with filtered version
    </entry>
                <entry>
                  <literal>~S filter &lt;term&gt;</literal>
                </entry>
              </row>
              <row>
                <entry>
    match all packages (true)
    </entry>
                <entry>
                  <literal>~T</literal>
                </entry>
              </row>
              <row>
                <entry>
    match no packages (false)
    </entry>
                <entry>
                  <literal>~F</literal>
                </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <itemizedlist>
          <listitem>
            <simpara>
The regex part is the same <emphasis role="strong">ERE</emphasis> as the one used in typical Unix-like text tools using "<literal>^</literal>", "<literal>.*</literal>", "<literal>$</literal>" etc. as in <literal>egrep</literal>(1), <literal>awk</literal>(1) and <literal>perl</literal>(1).
</simpara>
          </listitem>
          <listitem>
            <simpara>
The relation &lt;type&gt; is one of (depends, predepends, recommends, suggests, conflicts, replaces, provides).
</simpara>
          </listitem>
          <listitem>
            <simpara>
The default relation type is "depends".
</simpara>
          </listitem>
        </itemizedlist>
        <tip>
          <simpara>When &lt;regex_pattern&gt; is a null string, place "<literal>~T</literal>" immediately after the command.</simpara>
        </tip>
        <simpara>Here are some short cuts.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
"<literal>~P&lt;term&gt;</literal>" == "<literal>~Dprovides:&lt;term&gt;</literal>"
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>~C&lt;term&gt;</literal>" == "<literal>~Dconflicts:&lt;term&gt;</literal>"
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>…~W term</literal>" == "<literal>(…|term)</literal>"
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>Users familiar with <literal>mutt</literal> will pick up quickly, as mutt was the inspiration for the expression syntax. See "SEARCHING, LIMITING, AND EXPRESSIONS" in the "User's Manual" "<literal>/usr/share/doc/aptitude/README</literal>".</simpara>
        <note>
          <simpara>With the <literal>lenny</literal> version of <literal>aptitude</literal>(8), the new <emphasis role="strong">long form</emphasis> syntax such as "<literal>?broken</literal>" may be used for regex matching in place for its old <emphasis role="strong">short form</emphasis> equivalent "<literal>~b</literal>". Now space character "<literal> </literal>" is considered as one of the regex terminating character in addition to tilde character "<literal>~</literal>".  See "User's Manual" for the new <emphasis role="strong">long form</emphasis> syntax.</simpara>
        </note>
      </section>
      <section id="_dependency_resolution_of_aptitude">
        <title>Dependency resolution of aptitude</title>
        <simpara>The selection of a package in <literal>aptitude</literal> not only pulls in packages which are defined in its "<literal>Depends:</literal>" list but also defined in the "<literal>Recommends:</literal>" list if the menu "<literal>F10</literal> → Options → Dependency handling" is set accordingly.  These auto installed packages are removed automatically if they are no longer needed under <literal>aptitude</literal>.</simpara>
        <note>
          <simpara>Before the <literal>lenny</literal> release, <literal>apt-get</literal> and other standard APT tools did not offer the autoremove functionality.</simpara>
        </note>
      </section>
      <section id="_package_activity_logs">
        <title>Package activity logs</title>
        <simpara>You can check package activity history in the log files.</simpara>
        <table id="thelogfilesforpackageactivities" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>The log files for package activities</title>
          <tgroup cols="2">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="70%*" align="left"/>
            <thead>
              <row>
                <entry>
    file
    </entry>
                <entry>
    content
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>/var/log/dpkg.log</literal>
                </entry>
                <entry>
    Log of <literal>dpkg</literal> level activity for all package activities
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/var/log/apt/term.log</literal>
                </entry>
                <entry>
    Log of generic APT activity
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/var/log/aptitude</literal>
                </entry>
                <entry>
    Log of <literal>aptitude</literal> command activity
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>In reality, it is not so easy to get meaningful understanding quickly out from these logs.  See <xref linkend="_recording_changes_in_configuration_files"/> for easier way.</simpara>
      </section>
      <section id="_aptitude_advantages">
        <title>Aptitude advantages</title>
        <simpara>Aptitude has advantages over other APT based packaging systems (apt-get, apt-cache, synaptic, …).</simpara>
        <itemizedlist>
          <listitem>
            <simpara><literal>aptitude</literal> removes unused auto installed packages automatically using its own extra layer of package state file (<literal>/var/lib/aptitude/pkgstates</literal>). (For new "<literal>lenny</literal>", other APT does the same.)
</simpara>
          </listitem>
          <listitem>
            <simpara><literal>aptitude</literal> makes it easy to resolve package conflicts and to add recommended packages.
</simpara>
          </listitem>
          <listitem>
            <simpara><literal>aptitude</literal> makes it easy to keep track of obsolete software by listing under "Obsolete and Locally Created Packages".
</simpara>
          </listitem>
          <listitem>
            <simpara><literal>aptitude</literal> gives a log of its history in "<literal>/var/log/aptitude</literal>".
</simpara>
          </listitem>
          <listitem>
            <simpara><literal>aptitude</literal> offers access to all versions of the package if available.
</simpara>
          </listitem>
          <listitem>
            <simpara><literal>aptitude</literal> includes a fairly powerful regex based system for searching particular packages and limiting the package display.
</simpara>
          </listitem>
          <listitem>
            <simpara><literal>aptitude</literal> in the full screen mode has <literal>su</literal> functionality embedded and can be run from normal user until you really need administrative privileges.
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>For the old <literal>etch</literal> release version, <literal>synaptic</literal> also gives you the history log; <literal>apt-get</literal> did not but you can rely on the log of <literal>dpkg</literal>.</simpara>
        <simpara>Anyway, <literal>aptitude</literal> is nice for interactive console use.</simpara>
      </section>
    </section>
    <section id="_examples_of_aptitude_operations">
      <title>Examples of aptitude operations</title>
      <simpara>Here are few examples of <literal>aptitude</literal>(8) operations.</simpara>
      <section id="_listing_packages_with_regex_matching_on_package_names">
        <title>Listing packages with regex matching on package names</title>
        <simpara>The following command lists packages with regex matching on package names.</simpara>
        <screen>$ aptitude search '~n(pam|nss).*ldap'
p libnss-ldap - NSS module for using LDAP as a naming service
p libpam-ldap - Pluggable Authentication Module allowing LDAP interfaces</screen>
        <simpara>This is quite handy for you to find the exact name of a package.</simpara>
      </section>
      <section id="_browsing_with_the_regex_matching">
        <title>Browsing with the regex matching</title>
        <simpara>The regex "<literal>~dipv6</literal>" in the "New Flat Package List" view with "<literal>l</literal>" prompt, limits view to packages with the matching description and let you browse their information interactively.</simpara>
      </section>
      <section id="_purging_removed_packages_for_good">
        <title>Purging removed packages for good</title>
        <simpara>You can purge all remaining configuration files of removed packages.</simpara>
        <simpara>Check results of the following command.</simpara>
        <screen># aptitude search '~c'</screen>
        <simpara>If you think listed packages are OK to be purged, execute the following command.</simpara>
        <screen># aptitude purge '~c'</screen>
        <simpara>You may want to do the similar in the interactive mode for fine grained control.</simpara>
        <simpara>You provide the regex "<literal>~c</literal>" in the "New Flat Package List" view with "<literal>l</literal>" prompt.  This limits the package view only to regex matched packages, i.e., "removed but not purged".  All these regex matched packages can be shown by pressing "<literal>[</literal>" at top level headings.</simpara>
        <simpara>Then you press "<literal>_</literal>" at top level headings such as "Installed Packages".  Only regex matched packages under the heading are marked to be purged by this.  You can exclude some packages to be purged by pressing "<literal>=</literal>" interactively for each of them.</simpara>
        <simpara>This technique is quite handy and works for many other command keys.</simpara>
      </section>
      <section id="_tidying_auto_manual_install_status">
        <title>Tidying auto/manual install status</title>
        <simpara>Here is how I tidy auto/manual install status for packages (after using non-aptitude package installer etc.).</simpara>
        <orderedlist>
          <listitem>
            <simpara>
Start <literal>aptitude</literal> in interactive mode as root.
</simpara>
          </listitem>
          <listitem>
            <simpara>
Type "<literal>u</literal>", "<literal>U</literal>", "<literal>f</literal>" and "<literal>g</literal>" to update and upgrade package list and packages.
</simpara>
          </listitem>
          <listitem>
            <simpara>
Type "<literal>l</literal>" to enter the package display limit as "<literal>~i(~R~i|~Rrecommends:~i)</literal>" and type "<literal>M</literal>" over "<literal>Installed Packages</literal>" as auto installed.
</simpara>
          </listitem>
          <listitem>
            <simpara>
Type "<literal>l</literal>" to enter the package display limit as "<literal>~prequired|~pimportant|~pstandard|~E</literal>" and type "<literal>m</literal>" over "<literal>Installed Packages</literal>" as manual installed.
</simpara>
          </listitem>
          <listitem>
            <simpara>
Type "<literal>l</literal>" to enter the package display limit as "<literal>~i!~M</literal>" and remove unused package by typing "<literal>-</literal>" over each of them after exposing them by typing "<literal>[</literal>" over "<literal>Installed Packages</literal>".
</simpara>
          </listitem>
          <listitem>
            <simpara>
Type "<literal>l</literal>" to enter the package display limit as "<literal>~i</literal>" and type "<literal>m</literal>" over "<literal>Tasks</literal>" as manual installed.
</simpara>
          </listitem>
          <listitem>
            <simpara>
Exit <literal>aptitude</literal>.
</simpara>
          </listitem>
          <listitem>
            <simpara>
Start "<literal>apt-get -s autoremove|less</literal>" as root to check what are not used.
</simpara>
          </listitem>
          <listitem>
            <simpara>
Restart <literal>aptitude</literal> in interactive mode and mark needed packages as "<literal>m</literal>".
</simpara>
          </listitem>
          <listitem>
            <simpara>
Restart "<literal>apt-get -s autoremove|less</literal>" as root to recheck REMOVED contain only expected packages.
</simpara>
          </listitem>
          <listitem>
            <simpara>
Start "<literal>apt-get autoremove|less</literal>" as root to autoremove unused packages.
</simpara>
          </listitem>
        </orderedlist>
        <simpara>The "<literal>m</literal>" action over "<literal>Tasks</literal>" is an optional one to prevent mass package removal situation in future.</simpara>
      </section>
      <section id="_system_wide_upgrade_with_aptitude">
        <title>System wide upgrade with aptitude</title>
        <note>
          <simpara>When moving to a new release etc, you should consider to perform a clean installation of new system even though Debian is upgradable as described below.  This provides you a chance to remove garbages collected and exposes you to the best combination of latest packages.  Of course, you should make a full backup of system to a safe place (see <xref linkend="_backup_and_recovery"/>) before doing this. I recommend to make a dual boot configuration using different partition to have the smoothest transition.</simpara>
        </note>
        <simpara>You can perform system wide upgrade to a newer release by changing contents of the "<literal>/etc/apt/sources.list</literal>" file pointing to a new release and running the "<literal>aptitude update; aptitude full-upgrade</literal>" command.</simpara>
        <simpara>To upgrade from <literal>stable</literal> to <literal>testing</literal> or <literal>unstable</literal>, you replace "<literal>&codename-stable;</literal>" in the "<literal>/etc/apt/sources.list</literal>" example of <xref linkend="_debian_archive_basics"/> with "<literal>&codename-testing;</literal>" or "<literal>sid</literal>".</simpara>
        <simpara>In reality, you may face some complications due to some package transition issues, mostly due to package dependencies.  The larger the difference of the upgrade, the more likely you face larger troubles.  For the transition from the old <literal>stable</literal> to the new <literal>stable</literal> after its release, you can read its new <ulink url="&releasenotes;">Release Notes</ulink> and follow the exact procedure described in it to minimize troubles.</simpara>
        <simpara>When you decide to move from <literal>stable</literal> to <literal>testing</literal> before its formal release, there are no <ulink url="&releasenotes;">Release Notes</ulink> to help you. The difference between <literal>stable</literal> and <literal>testing</literal> could have grown quite large after the previous <literal>stable</literal> release and makes upgrade situation complicated.</simpara>
        <simpara>You should make precautionary moves for the full upgrade while gathering latest information from mailing list and using common senses.</simpara>
        <orderedlist>
          <listitem>
            <simpara>
Read previous "Release Notes".
</simpara>
          </listitem>
          <listitem>
            <simpara>
Backup entire system (especially data and configuration information).
</simpara>
          </listitem>
          <listitem>
            <simpara>
Have bootable media handy for broken bootloader.
</simpara>
          </listitem>
          <listitem>
            <simpara>
Inform users on the system well in advance.
</simpara>
          </listitem>
          <listitem>
            <simpara>
Record upgrade activity with <literal>script</literal>(1).
</simpara>
          </listitem>
          <listitem>
            <simpara>
Apply "unmarkauto" to required packages, e.g., "<literal>aptitude unmarkauto vim</literal>", to prevent removal.
</simpara>
          </listitem>
          <listitem>
            <simpara>
Minimize installed packages to reduce chance of package conflicts, e.g., remove desktop task packages.
</simpara>
          </listitem>
          <listitem>
            <simpara>
Remove the "<literal>/etc/apt/preferences</literal>" file (disable apt-pinning).
</simpara>
          </listitem>
          <listitem>
            <simpara>
Try to upgrade step wise: <literal>oldstable</literal> → <literal>stable</literal> → <literal>testing</literal> → <literal>unstable</literal>.
</simpara>
          </listitem>
          <listitem>
            <simpara>
Update the "<literal>/etc/apt/sources.list</literal>" file to point to new archive only and run "<literal>aptitude update</literal>".
</simpara>
          </listitem>
          <listitem>
            <simpara>
Install, optionally, new <emphasis role="strong">core packages</emphasis> first, e.g., "<literal>aptitude install perl</literal>".
</simpara>
          </listitem>
          <listitem>
            <simpara>
Run the "<literal>aptitude full-upgrade -s</literal>" command to assess impact.
</simpara>
          </listitem>
          <listitem>
            <simpara>
Run the "<literal>aptitude full-upgrade</literal>" command at last.
</simpara>
          </listitem>
        </orderedlist>
        <caution>
          <simpara>It is not wise to skip major Debian release when upgrading between <literal>stable</literal> releases.</simpara>
        </caution>
        <caution>
          <simpara>In previous "Release Notes", GCC, Linux Kernel, initrd-tools, Glibc, Perl, APT tool chain, etc. have required some special attention for system wide upgrade.</simpara>
        </caution>
        <simpara>For daily upgrade in <literal>unstable</literal>, see <xref linkend="_safeguarding_for_package_problems"/>.</simpara>
      </section>
    </section>
    <section id="_advanced_package_management_operations">
      <title>Advanced package management operations</title>
      <section id="_advanced_package_management_operations_with_commandline">
        <title>Advanced package management operations with commandline</title>
        <simpara>Here are list of other package management operations for which <literal>aptitude</literal> is too high-level or lacks required functionalities.</simpara>
        <table id="listofadvancedpagementoperations" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of advanced package management operations</title>
          <tgroup cols="2">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="70%*" align="left"/>
            <thead>
              <row>
                <entry>
    command
    </entry>
                <entry>
    action
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>COLUMNS=120 dpkg -l &lt;package_name_pattern&gt;</literal>
                </entry>
                <entry>
    list status of an installed package for the bug report
    </entry>
              </row>
              <row>
                <entry>
                  <literal>dpkg -L &lt;package_name&gt;</literal>
                </entry>
                <entry>
    list contents of an installed package
    </entry>
              </row>
              <row>
                <entry>
                  <literal>dpkg -L &lt;package_name&gt; | egrep '/usr/share/man/man.*/.+'</literal>
                </entry>
                <entry>
    list manpages for an installed package
    </entry>
              </row>
              <row>
                <entry>
                  <literal>dpkg -S &lt;file_name_pattern&gt;</literal>
                </entry>
                <entry>
    list installed packages which have matching file name
    </entry>
              </row>
              <row>
                <entry>
                  <literal>apt-file search &lt;file_name_pattern&gt;</literal>
                </entry>
                <entry>
    list packages in archive which have matching file name
    </entry>
              </row>
              <row>
                <entry>
                  <literal>apt-file list &lt;package_name_pattern&gt;</literal>
                </entry>
                <entry>
    list contents of matching packages in archive
    </entry>
              </row>
              <row>
                <entry>
                  <literal>dpkg-reconfigure &lt;package_name&gt;</literal>
                </entry>
                <entry>
    reconfigure the exact package
    </entry>
              </row>
              <row>
                <entry>
                  <literal>dpkg-reconfigure -p=low &lt;package_name&gt;</literal>
                </entry>
                <entry>
    reconfigure the exact package with the most detailed question
    </entry>
              </row>
              <row>
                <entry>
                  <literal>configure-debian</literal>
                </entry>
                <entry>
    reconfigure packages from the full screen menu
    </entry>
              </row>
              <row>
                <entry>
                  <literal>dpkg --audit</literal>
                </entry>
                <entry>
    audit system for partially installed packages
    </entry>
              </row>
              <row>
                <entry>
                  <literal>dpkg --configure -a</literal>
                </entry>
                <entry>
    configure all partially installed packages
    </entry>
              </row>
              <row>
                <entry>
                  <literal>apt-cache policy &lt;binary_package_name&gt;</literal>
                </entry>
                <entry>
    show available version, priority, and archive information of a binary package
    </entry>
              </row>
              <row>
                <entry>
                  <literal>apt-cache madison &lt;package_name&gt;</literal>
                </entry>
                <entry>
    show available version, archive information of a package
    </entry>
              </row>
              <row>
                <entry>
                  <literal>apt-cache showsrc &lt;binary_package_name&gt;</literal>
                </entry>
                <entry>
    show source package information of a binary package
    </entry>
              </row>
              <row>
                <entry>
                  <literal>apt-get build-dep &lt;package_name&gt;</literal>
                </entry>
                <entry>
    install required packages to build package
    </entry>
              </row>
              <row>
                <entry>
                  <literal>apt-get source &lt;package_name&gt;</literal>
                </entry>
                <entry>
    download a source (from standard archive)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>dget &lt;URL for dsc file&gt;</literal>
                </entry>
                <entry>
    download a source packages (from other archive)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>dpkg-source -x &lt;package_name&gt;_&lt;version&gt;-&lt;debian_version&gt;.dsc</literal>
                </entry>
                <entry>
    build a source tree from a set of source packages ("<literal>*.tar.gz</literal>" and "<literal>*.diff.gz</literal>")
    </entry>
              </row>
              <row>
                <entry>
                  <literal>debuild binary</literal>
                </entry>
                <entry>
    build package(s) from a local source tree
    </entry>
              </row>
              <row>
                <entry>
                  <literal>make-kpkg kernel_image</literal>
                </entry>
                <entry>
    build a kernel package from a kernel source tree
    </entry>
              </row>
              <row>
                <entry>
                  <literal>make-kpkg --initrd kernel_image</literal>
                </entry>
                <entry>
    build a kernel package from a kernel source tree with initramfs enabled
    </entry>
              </row>
              <row>
                <entry>
                  <literal>dpkg -i &lt;package_name&gt;<emphasis>&lt;version&gt;-&lt;debian_version&gt;</emphasis>&lt;arch&gt;.deb</literal>
                </entry>
                <entry>
    install a local package to the system
    </entry>
              </row>
              <row>
                <entry>
                  <literal>debi &lt;package_name&gt;<emphasis>&lt;version&gt;-&lt;debian_version&gt;</emphasis>&lt;arch&gt;.dsc</literal>
                </entry>
                <entry>
    install local package(s) to the system
    </entry>
              </row>
              <row>
                <entry>
                  <literal>dpkg --get-selection '*' &gt;selection.txt</literal>
                </entry>
                <entry>
    save <literal>dpkg</literal> level package selection state information
    </entry>
              </row>
              <row>
                <entry>
                  <literal>dpkg --set-selection &lt;selection.txt</literal>
                </entry>
                <entry>
    set <literal>dpkg</literal> level package selection state information
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <caution>
          <simpara>Lower level package tools such as "<literal>dpkg -i …</literal>" and "<literal>debi …</literal>" should be carefully used by the system administrator.  It does not automatically take care required package dependencies. Dpkg's commandline options "<literal>--force-all</literal>" and similar (see <literal>dpkg</literal>(1)) are intended to be used by experts only.  Using them without fully understanding their effects may break your whole system.</simpara>
        </caution>
        <simpara>Please note the following.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
All system configuration and installation commands require to be run from root.
</simpara>
          </listitem>
          <listitem>
            <simpara>
Unlike <literal>aptitude</literal> which uses regex (see <xref linkend="_regular_expressions"/>), other package management commands use pattern like shell glob (see <xref linkend="_shell_glob"/>).
</simpara>
          </listitem>
          <listitem>
            <simpara><literal>apt-file</literal>(1) provided by the <literal>apt-file</literal> package must run "<literal>apt-file update</literal>" in advance.
</simpara>
          </listitem>
          <listitem>
            <simpara><literal>configure-debian</literal>(8) provided by the <literal>configure-debian</literal> package runs <literal>dpkg-reconfigure</literal>(8) as its backend.
</simpara>
          </listitem>
          <listitem>
            <simpara><literal>dpkg-reconfigure</literal>(8) runs package scripts using <literal>debconf</literal>(1) as its backend.
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>apt-get build-dep</literal>", "<literal>apt-get source</literal>" and "<literal>apt-cache showsrc</literal>" commands require "<literal>deb-src</literal>" entry in "<literal>/etc/apt/sources.list</literal>".
</simpara>
          </listitem>
          <listitem>
            <simpara><literal>dget</literal>(1), <literal>debuild</literal>(1), and <literal>debi</literal>(1) require <literal>devscripts</literal> package.
</simpara>
          </listitem>
          <listitem>
            <simpara>
See (re)packaging procedure using "<literal>apt-get source</literal>" in <xref linkend="_porting_a_package_to_the_stable_system"/>.
</simpara>
          </listitem>
          <listitem>
            <simpara><literal>make-kpkg</literal> command requires the <literal>kernel-package</literal> package (see <xref linkend="_the_kernel"/>).
</simpara>
          </listitem>
          <listitem>
            <simpara>
See <xref linkend="_making_debian_package"/> for general packaging.
</simpara>
          </listitem>
        </itemizedlist>
        <tip>
          <simpara>The source package format described here as a set of source packages ("<literal>*.tar.gz</literal>" and "<literal>*.diff.gz</literal>") is format 1.0 which is still popular.  See more on <literal>dpkg-source</literal>(1) for other newer formats.</simpara>
        </tip>
      </section>
      <section id="_verification_of_installed_package_files">
        <title>Verification of installed package files</title>
        <simpara>The installation of <literal>debsums</literal> enables verification of installed package files against MD5sum values in the "<literal>/var/lib/dpkg/info/*.md5sums</literal>" file with <literal>debsums</literal>(1).  See <xref linkend="_the_md5_sum"/> for how MD5sum works.</simpara>
        <note>
          <simpara>Because MD5sum database may be tampered by the intruder, <literal>debsums</literal>(1) is of limited use as a security tool. It is only good for checking local modifications by the administrator or damage due to media errors.</simpara>
        </note>
      </section>
      <section id="_safeguarding_for_package_problems">
        <title>Safeguarding for package problems</title>
        <simpara>Many users prefer to follow the <emphasis role="strong">unstable</emphasis> release of the Debian system for its new features and packages.  This makes the system more prone to be hit by the critical package bugs.</simpara>
        <simpara>The installation of the <literal>apt-listbugs</literal> package will safeguard your system agaist critical bugs by checking Debian BTS automatically for critical bugs when upgrading with APT system.</simpara>
        <simpara>The installation of the <literal>apt-listchanges</literal> package will provide important news in "<literal>NEWS.Debian</literal>" when upgrading with APT system.</simpara>
      </section>
      <section id="_searching_on_the_package_meta_data">
        <title>Searching on the package meta data</title>
        <simpara>Although visiting Debian site <ulink url="&httppackagesdebianorg;">http://packages.debian.org/</ulink> facilitates easy ways to search on the package meta data these days, let's look into more traditional ways.</simpara>
        <simpara>The <literal>grep-dctrl</literal>(1), <literal>grep-status</literal>(1), and <literal>grep-available</literal>(1) commands can be used to search any file which has the general format of a Debian package control file.</simpara>
        <simpara>The "<literal>dpkg -S &lt;file_name_pattern&gt;</literal>" can be used search package names which contain files with the matching name installed by <literal>dpkg</literal>.  But this overlooks files created by the maintainer scripts.</simpara>
        <simpara>If you need to make more elaborate search on the dpkg meta data, you need to run "<literal>grep -e regex_pattern *</literal>" command in the "<literal>/var/lib/dpkg/info/</literal>" directory.  This will let you search words mentioned in package scrips and installation query texts.</simpara>
        <simpara>If you wish to look up package dependency recursively, you should use <literal>apt-rdepends</literal>(8).</simpara>
      </section>
    </section>
    <section id="_debian_package_management_internals">
      <title>Debian package management internals</title>
      <simpara>Let's learn how the Debian package management system works internally.  This should help you to create your own solution to some package problems.</simpara>
      <section id="_archive_meta_data">
        <title>Archive meta data</title>
        <simpara>Meta data files for each distribution are stored under "<literal>dist/&lt;codename&gt;</literal>" on each Debian mirror sites, e.g., "<literal>http://ftp.us.debian.org/debian/</literal>".  Its archive structure can be browsed by the web browser. There are 6 types of key meta data.</simpara>
        <table id="thecontentofthednarchivemetadata" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>The content of the Debian archive meta data</title>
          <tgroup cols="3">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="40%*" align="left"/>
            <thead>
              <row>
                <entry>
    file
    </entry>
                <entry>
    location
    </entry>
                <entry>
    content
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>Release</literal>
                </entry>
                <entry>
    top of distribution
    </entry>
                <entry>
    archive description and integrity information
    </entry>
              </row>
              <row>
                <entry>
                  <literal>Release.gpg</literal>
                </entry>
                <entry>
    top of distribution
    </entry>
                <entry>
    signature file for the "<literal>Release</literal>" file signed with the archive key
    </entry>
              </row>
              <row>
                <entry>
                  <literal>Contents-&lt;architecture&gt;</literal>
                </entry>
                <entry>
    top of distribution
    </entry>
                <entry>
    list of all files for all the packages in the pertinent archive
    </entry>
              </row>
              <row>
                <entry>
                  <literal>Release</literal>
                </entry>
                <entry>
    top of each distribution/component/architecture combination
    </entry>
                <entry>
    archive description used for the rule of <literal>apt_preferences</literal>(5)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>Packages</literal>
                </entry>
                <entry>
    top of each distribution/component/binary-architecture combination
    </entry>
                <entry>
    concatenated <literal>debian/control</literal> for binary packages
    </entry>
              </row>
              <row>
                <entry>
                  <literal>Sources</literal>
                </entry>
                <entry>
    top of each distribution/component/source combination
    </entry>
                <entry>
    concatenated <literal>debian/control</literal> for source packages
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>In the recent archive, these meta data are stored as the compressed and differential files to reduce network traffic.</simpara>
      </section>
      <section id="_top_level_release_file_and_authenticity">
        <title>Top level "Release" file and authenticity</title>
        <tip>
          <simpara>The top level "<literal>Release</literal>" file is used for signing the archive under the <emphasis role="strong">secure APT</emphasis> system.</simpara>
        </tip>
        <simpara>Each suite of the Debian archive has a top level "<literal>Release</literal>" file, e.g., "<literal>http://ftp.us.debian.org/debian/dists/unstable/Release</literal>", as follows.</simpara>
        <screen>Origin: Debian
Label: Debian
Suite: unstable
Codename: sid
Date: Sat, 26 Jan 2008 20:13:58 UTC
Architectures: alpha amd64 arm hppa hurd-i386 i386 ia64 m68k mips mipsel powerpc s390 sparc
Components: main contrib non-free
Description: Debian x.y Unstable - Not Released
MD5Sum:
 e9f11bc50b12af7927d6583de0a3bd06 22788722 main/binary-alpha/Packages
 43524d07f7fa21b10f472c426db66168  6561398 main/binary-alpha/Packages.gz
...</screen>
        <note>
          <simpara>Here, you can find my rationale to use the "suite", "codeneme", and "components" in <xref linkend="_debian_archive_basics"/>.  The "distribution" is used when referring to both "suite" and "codeneme".</simpara>
        </note>
        <simpara>The integrity of the top level "<literal>Release</literal>" file is verified by cryptographic infrastructure called the <ulink url="&secureapt;">secure apt</ulink>.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
The cryptographic signature file "<literal>Release.gpg</literal>" is created from the authentic top level "<literal>Release</literal>" file and the secret Debian archive key.
</simpara>
          </listitem>
          <listitem>
            <simpara>
The public Debian archive key can be seeded into "<literal>/etc/apt/trusted.gpg</literal>";
</simpara>
            <itemizedlist>
              <listitem>
                <simpara>
automatically by installing the keyring with the latest <literal>base-files</literal> package, or
</simpara>
              </listitem>
              <listitem>
                <simpara>
manually by <literal>gpg</literal> or <literal>apt-key</literal> tool with <ulink url="&thelatestpublicapmasterdebianorg;">the latest public archive key posted on the ftp-master.debian.org</ulink> .
</simpara>
              </listitem>
            </itemizedlist>
          </listitem>
          <listitem>
            <simpara>
The <emphasis role="strong">secure APT</emphasis> system verifies the integrity of the downloaded top level "<literal>Release</literal>" file cryptographically by this "<literal>Release.gpg</literal>" file and the public Debian archive key in "<literal>/etc/apt/trusted.gpg</literal>".
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>The integrity of all the "<literal>Packages</literal>" and "<literal>Sources</literal>" files are verified by using MD5sum values in its top level "<literal>Release</literal>" file.  The integrity of all package files are verified by using MD5sum values in the "<literal>Packages</literal>" and "<literal>Sources</literal>" files.  See <literal>debsums</literal>(1) and <xref linkend="_verification_of_installed_package_files"/>.</simpara>
        <simpara>Since the cryptographic signature verification is very CPU intensive process than the MD5sum value calculation, use of MD5sum value for each package while using cryptographic signature for the top level "<literal>Release</literal>" file provides <ulink url="&thegoodsecuritywththeperformance;">the good security with the performance</ulink> (see <xref linkend="_data_security_infrastructure"/>).</simpara>
      </section>
      <section id="_archive_level_release_files">
        <title>Archive level "Release" files</title>
        <tip>
          <simpara>The archive level "<literal>Release</literal>" files are used for the rule of <literal>apt_preferences</literal>(5).</simpara>
        </tip>
        <simpara>There are archive level "<literal>Release</literal>" files for all archive locations specified by "<literal>deb</literal>" line in "<literal>/etc/apt/sources.list</literal>", such as "<literal>http://ftp.us.debian.org/debian/dists/unstable/main/binary-amd64/Release</literal>" or "<literal>http://ftp.us.debian.org/debian/dists/sid/main/binary-amd64/Release</literal>" as follows.</simpara>
        <screen>Archive: unstable
Component: main
Origin: Debian
Label: Debian
Architecture: amd64</screen>
        <caution>
          <simpara>For "<literal>Archive:</literal>" stanza, suite names ("<literal>stable</literal>", "<literal>testing</literal>", "<literal>unstable</literal>", …) are used in <ulink url="&thedebianarchive;">the Debian archive</ulink> while codenames ("<literal>dapper</literal>", "<literal>feisty</literal>", "<literal>gutsy</literal>", "<literal>hardy</literal>", "<literal>intrepid</literal>", …) are used in <ulink url="&theubuntuarchive;">the Ubuntu archive</ulink>.</simpara>
        </caution>
        <simpara>For some archives, such as <literal>experimental</literal>, <literal>volatile-sloppy</literal>, and <literal>&codename-stable;-backports</literal>, which contain packages which should not be installed automatically, there is an extra line, e.g., "<literal>http://ftp.us.debian.org/debian/dists/experimental/main/binary-amd64/Release</literal>" as follows.</simpara>
        <screen>Archive: experimental
Component: main
Origin: Debian
Label: Debian
NotAutomatic: yes
Architecture: amd64</screen>
        <simpara>Please note that for normal archives without "<literal>NotAutomatic: yes</literal>", the default Pin-Priority value is 500, while for special archives with "<literal>NotAutomatic: yes</literal>", the default Pin-Priority value is 1 (see <literal>apt_preferences</literal>(5) and <xref linkend="_tweaking_candidate_version"/>).</simpara>
      </section>
      <section id="_fetching_of_the_meta_data_for_the_package">
        <title>Fetching of the meta data for the package</title>
        <simpara>When APT tools, such as <literal>aptitude</literal>, <literal>apt-get</literal>, <literal>synaptic</literal>, <literal>apt-file</literal>, <literal>auto-apt</literal>…, are used, we need to update the local copies of the meta data containing the Debian archive information. These local copies have following file names corresponding to the specified <literal>distribution</literal>, <literal>component</literal>, and <literal>architecture</literal> names in the "<literal>/etc/apt/sources.list</literal>" (see <xref linkend="_debian_archive_basics"/>).</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
"<literal>/var/lib/apt/lists/ftp.us.debian.org_debian_dists_&lt;distribution&gt;_Release</literal>"
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>/var/lib/apt/lists/ftp.us.debian.org_debian_dists_&lt;distribution&gt;_Release.gpg</literal>"
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>/var/lib/apt/lists/ftp.us.debian.org_debian_dists_&lt;distribution&gt;_&lt;component&gt;_binary-&lt;architecture&gt;_Packages</literal>"
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>/var/lib/apt/lists/ftp.us.debian.org_debian_dists_&lt;distribution&gt;_&lt;component&gt;_source_Sources</literal>"
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>/var/cache/apt/apt-file/ftp.us.debian.org_debian_dists_&lt;distribution&gt;_Contents-&lt;architecture&gt;.gz</literal>" (for <literal>apt-file</literal>)
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>First 4 types of files are shared by all the pertinent APT commands and updated from command line by "<literal>apt-get update</literal>" and "<literal>aptitude update</literal>".  The "<literal>Packages</literal>" meta data are updated if there is the "<literal>deb</literal>" line in "<literal>/etc/apt/sources.list</literal>". The "<literal>Sources</literal>" meta data are updated if there is the "<literal>deb-src</literal>" line in "<literal>/etc/apt/sources.list</literal>".</simpara>
        <simpara>The "<literal>Packages</literal>" and "<literal>Sources</literal>" meta data contain "<literal>Filename:</literal>" stanza pointing to the file location of the binary and source packages.  Currently, these packages are located under the "<literal>pool/</literal>" directory tree for the improved transition over the releases.</simpara>
        <simpara>Local copies of "<literal>Packages</literal>" meta data can be interactively searched with the help of <literal>aptitude</literal>.  The specialized search command <literal>grep-dctrl</literal>(1) can search local copies of "<literal>Packages</literal>" and "<literal>Sources</literal>" meta data.</simpara>
        <simpara>Local copy of "<literal>Contents-&lt;architecture&gt;</literal>" meta data can be updated by "<literal>apt-file update</literal>" and its location is different from other 4 ones. See <literal>apt-file</literal>(1). (The <literal>auto-apt</literal> uses different location for local copy of "<literal>Contents-&lt;architecture&gt;.gz</literal>" as default.)</simpara>
      </section>
      <section id="_the_package_state_for_apt">
        <title>The package state for APT</title>
        <simpara>In addition to the remotely fetched meta data, the APT tool after <literal>lenny</literal> stores its locally generated installation state information in the "<literal>/var/lib/apt/extended_states</literal>" which is used by all APT tools to track all auto installed packages.</simpara>
      </section>
      <section id="_the_package_state_for_aptitude">
        <title>The package state for aptitude</title>
        <simpara>In addition to the remotely fetched meta data, the <literal>aptitude</literal> command stores its locally generated installation state information in the "<literal>/var/lib/aptitude/pkgstates</literal>" which is used only by it.</simpara>
      </section>
      <section id="_local_copies_of_the_fetched_packages">
        <title>Local copies of the fetched packages</title>
        <simpara>All the remotely fetched packages via APT mechanism are stored in the "<literal>/var/cache/apt/packages</literal>" until they are cleaned.</simpara>
      </section>
      <section id="_debian_package_file_names">
        <title>Debian package file names</title>
        <simpara>Debian package files have particular name structures.</simpara>
        <table id="thenamestructureofdebianpackages" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>The name structure of Debian packages</title>
          <tgroup cols="2">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="70%*" align="left"/>
            <thead>
              <row>
                <entry>
    package type
    </entry>
                <entry>
    name structure
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
    The binary package (a.k.a deb)
    </entry>
                <entry>
                  <literal>&lt;package-name&gt;_&lt;epoch&gt;:&lt;upstream-version&gt;-&lt;debian.version&gt;-&lt;architecture&gt;.deb</literal>
                </entry>
              </row>
              <row>
                <entry>
    The binary package for the debian-installer (a.k.a udeb)
    </entry>
                <entry>
                  <literal>&lt;package-name&gt;_&lt;epoch&gt;:&lt;upstream-version&gt;-&lt;debian.version&gt;-&lt;architecture&gt;.udeb</literal>
                </entry>
              </row>
              <row>
                <entry>
    The source package (upstream source)
    </entry>
                <entry>
                  <literal>&lt;package-name&gt;_&lt;epoch&gt;:&lt;upstream-version&gt;-&lt;debian.version&gt;.tar.gz</literal>
                </entry>
              </row>
              <row>
                <entry>
    The source package (Debian changes)
    </entry>
                <entry>
                  <literal>&lt;package-name&gt;_&lt;epoch&gt;:&lt;upstream-version&gt;-&lt;debian.version&gt;.diff.gz</literal>
                </entry>
              </row>
              <row>
                <entry>
    The source package (description)
    </entry>
                <entry>
                  <literal>&lt;package-name&gt;_&lt;epoch&gt;:&lt;upstream-version&gt;-&lt;debian.version&gt;.dsc</literal>
                </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <table id="theusablecharactbianpackagenames" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>The usable characters for each component in the Debian package names</title>
          <tgroup cols="3">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="40%*" align="left"/>
            <thead>
              <row>
                <entry>
    name component
    </entry>
                <entry>
    usable characters (regex)
    </entry>
                <entry>
    existance
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>&lt;package-name&gt;</literal>
                </entry>
                <entry>
                  <literal>[a-z,A-Z,0-9,.,<literal>,-]</literal></literal>
                </entry>
                <entry>
    required
    </entry>
              </row>
              <row>
                <entry>
                  <literal>&lt;epoch&gt;:</literal>
                </entry>
                <entry>
                  <literal>[0-9]+:</literal>
                </entry>
                <entry>
    optional
    </entry>
              </row>
              <row>
                <entry>
                  <literal>&lt;upstream-version&gt;</literal>
                </entry>
                <entry>
                  <literal>[a-z,A-Z,0-9,.,<literal>,-,:]</literal></literal>
                </entry>
                <entry>
    required
    </entry>
              </row>
              <row>
                <entry>
                  <literal>&lt;debian.version&gt;</literal>
                </entry>
                <entry>
                  <literal>[a-z,A-Z,0-9,.,<literal>,~]</literal></literal>
                </entry>
                <entry>
    optional
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <note>
          <simpara>You can check package version order by <literal>dpkg</literal>(1), e.g., "<literal>dpkg --compare-versions 7.0 gt 7.~pre1 ; echo $?</literal>" .</simpara>
        </note>
        <note>
          <simpara><ulink url="&thedebianinstallerdi;">The debian-installer (d-i)</ulink> uses <literal>udeb</literal> as the file extension for its binary package instead of normal <literal>deb</literal>.  An <literal>udeb</literal> package is a stripped down <literal>deb</literal> package which removes few non-essential contents such as documentation to save space while relaxing the package policy requirements.  Both <literal>deb</literal> and <literal>udeb</literal> packages share the same package structure.  The "<literal>u</literal>" stands for micro.</simpara>
        </note>
      </section>
      <section id="_the_dpkg_command">
        <title>The dpkg command</title>
        <simpara><literal>dpkg</literal>(1) is the lowest level tool for the Debian package management.  This is very powerful and needs to be used with care.</simpara>
        <simpara>While installing package called "<literal>&lt;package_name&gt;</literal>", <literal>dpkg</literal> process it in the following order.</simpara>
        <orderedlist>
          <listitem>
            <simpara>
Unpack the deb file ("<literal>ar -x</literal>" equivalent)
</simpara>
          </listitem>
          <listitem>
            <simpara>
Execute "<literal>&lt;package_name&gt;.preinst</literal>" using <literal>debconf</literal>(1)
</simpara>
          </listitem>
          <listitem>
            <simpara>
Install the package content to the system ("<literal>tar -x</literal>" equivalent)
</simpara>
          </listitem>
          <listitem>
            <simpara>
Execute "<literal>&lt;package_name&gt;.postinst</literal>" using <literal>debconf</literal>(1)
</simpara>
          </listitem>
        </orderedlist>
        <simpara>The <literal>debconf</literal> system provides standardized user interaction with I18N and L10N (<xref linkend="_i18n_and_l10n"/>) supports.</simpara>
        <table id="thenotablefilescreatedbydpkg" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>The notable files created by <literal>dpkg</literal></title>
          <tgroup cols="2">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="70%*" align="left"/>
            <thead>
              <row>
                <entry>
    file
    </entry>
                <entry>
    description of contents
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>/var/lib/dpkg/info/&lt;package_name&gt;.conffiles</literal>
                </entry>
                <entry>
    list of configuration files. (user modifiable)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/var/lib/dpkg/info/&lt;package_name&gt;.list</literal>
                </entry>
                <entry>
    list of files and directories installed by the package
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/var/lib/dpkg/info/&lt;package_name&gt;.md5sums</literal>
                </entry>
                <entry>
    list of MD5 hash values for files installed by the package
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/var/lib/dpkg/info/&lt;package_name&gt;.preinst</literal>
                </entry>
                <entry>
    package script run before the package installation
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/var/lib/dpkg/info/&lt;package_name&gt;.postinst</literal>
                </entry>
                <entry>
    package script run after the package installation
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/var/lib/dpkg/info/&lt;package_name&gt;.prerm</literal>
                </entry>
                <entry>
    package script run before the package removal
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/var/lib/dpkg/info/&lt;package_name&gt;.postrm</literal>
                </entry>
                <entry>
    package script run after the package removal
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/var/lib/dpkg/info/&lt;package_name&gt;.config</literal>
                </entry>
                <entry>
    package script for <literal>debconf</literal> system
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/var/lib/dpkg/alternatives/&lt;package_name&gt;</literal>
                </entry>
                <entry>
    the alternative information used by the <literal>update-alternatives</literal> command
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/var/lib/dpkg/available</literal>
                </entry>
                <entry>
    the availability information for all the package
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/var/lib/dpkg/diversions</literal>
                </entry>
                <entry>
    the diversions information used by <literal>dpkg</literal>(1) and set by`dpkg-divert`(8)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/var/lib/dpkg/statoverride</literal>
                </entry>
                <entry>
    the stat override information used by <literal>dpkg</literal>(1) and set by`dpkg-statoverride`(8)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/var/lib/dpkg/status</literal>
                </entry>
                <entry>
    the status information for all the packages
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/var/lib/dpkg/status-old</literal>
                </entry>
                <entry>
    the first-generation backup of the "<literal>var/lib/dpkg/status</literal>" file
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/var/backups/dpkg.status*</literal>
                </entry>
                <entry>
    the second-generation backup and older ones of the "<literal>var/lib/dpkg/status</literal>" file
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>The "<literal>status</literal>" file is also used by the tools such as <literal>dpkg</literal>(1), "<literal>dselect update</literal>" and "<literal>apt-get -u dselect-upgrade</literal>".</simpara>
        <simpara>The specialized search command <literal>grep-dctrl</literal>(1) can search the local copies of "<literal>status</literal>" and "<literal>available</literal>" meta data.</simpara>
        <tip>
          <simpara>In <ulink url="&thedebianinstaller;">the debian-installer</ulink> environment, the <literal>udpkg</literal> command is used to open <literal>udeb</literal> packages.  The <literal>udpkg</literal> command is a stripped down version of the <literal>dpkg</literal> command.</simpara>
        </tip>
      </section>
      <section id="_the_update_alternative_command">
        <title>The update-alternative command</title>
        <simpara>The Debian system has mechanism to install somewhat overlapping programs peacefully using <literal>update-alternatives</literal>(8).  For example, you can make the <literal>vi</literal> command select to run <literal>vim</literal> while installing both <literal>vim</literal> and <literal>nvi</literal> packages.</simpara>
        <screen>$ ls -l $(type -p vi)
lrwxrwxrwx 1 root root 20 2007-03-24 19:05 /usr/bin/vi -&gt; /etc/alternatives/vi
$ sudo update-alternatives --display vi
...
$ sudo update-alternatives --config vi
  Selection    Command
 ----------------------------------------------
      1        /usr/bin/vim
*+    2        /usr/bin/nvi

Enter to keep the default[*], or type selection number: 1</screen>
        <simpara>The Debian alternatives system keeps its selection as symlinks in "<literal>/etc/alternatives/</literal>".  The selection process uses corresponding file in "<literal>/var/lib/dpkg/alternatives/</literal>".</simpara>
      </section>
      <section id="_the_dpkg_statoverride_command">
        <title>The dpkg-statoverride command</title>
        <simpara><emphasis role="strong">Stat overrides</emphasis> provided by the <literal>dpkg-statoverride</literal>(8) command are a way to tell <literal>dpkg</literal>(1) to use a different owner or mode for a <emphasis role="strong">file</emphasis> when a package is installed. If "<literal>--update</literal>" is specified and file exists, it is immediately set to the new owner and mode.</simpara>
        <caution>
          <simpara>The direct alteration of owner or mode for a <emphasis role="strong">file</emphasis> owned by the package using <literal>chmod</literal> or <literal>chown</literal> commands by the system administrator will be reset by the next upgrade of the package.</simpara>
        </caution>
        <note>
          <simpara>I use the word <emphasis role="strong">file</emphasis> here, but in reality this can be any filesystem object that <literal>dpkg</literal> handles, including directories, devices, etc.</simpara>
        </note>
      </section>
      <section id="_the_dpkg_divert_command">
        <title>The dpkg-divert command</title>
        <simpara>File <emphasis role="strong">diversions</emphasis> provided by the <literal>dpkg-divert</literal>(8) command are a way of forcing <literal>dpkg</literal>(1) not to install a file into its default location, but to a <emphasis role="strong">diverted</emphasis> location.  The use of <literal>dpkg-divert</literal> is meant for the package maintenance scripts.  Its casual use by the system administrator is deprecated.</simpara>
      </section>
    </section>
    <section id="_recovery_from_a_broken_system">
      <title>Recovery from a broken system</title>
      <simpara>When running <literal>unstable</literal> system, the administrator is expected to recover from broken package management situation.</simpara>
      <caution>
        <simpara>Some methods described here are high risk actions.  You have been warned!</simpara>
      </caution>
      <section id="_incompatibility_with_old_user_configuration">
        <title>Incompatibility with old user configuration</title>
        <simpara>If a desktop GUI program experienced instability after significant upstream version upgrade, you should suspect interferences with old local configuration files created by it. If it is stable under newly created user account, this hypothesis is confirmed.  (This is a bug of packaging and usually avoided by the packager.)</simpara>
        <simpara>To recover stability, you should move corresponding local configuration files and restart the GUI program.  You may need to read old configuration file contents to recover configuration information later.  (Do not erase them too quickly.)</simpara>
      </section>
      <section id="_different_packages_with_overlapped_files">
        <title>Different packages with overlapped files</title>
        <simpara>Archive level package management systems, such as <literal>aptitude</literal>(8) or <literal>apt-get</literal>(1), will not even try to install packages with overlapped files using package dependencies (see <xref linkend="_package_dependencies"/>).</simpara>
        <simpara>Errors by the package maintainer or deployment of inconsistently mixed source of archives (see <xref linkend="_packages_from_mixed_source_of_archives"/>) by the system administrator may create situation with incorrectly defined package dependencies. When you install a package with overlapped files using <literal>aptitude</literal>(8) or <literal>apt-get</literal>(1) under such situation, <literal>dpkg</literal>(1) which unpacks package ensures to return error to the calling program without overwriting existing files.</simpara>
        <caution>
          <simpara>The use of third party packages introduces significant system risks via maintainer scripts which are run with root privilege and can do anything to your system.  The <literal>dpkg</literal>(1) command only protects against overwriting by the unpacking.</simpara>
        </caution>
        <simpara>You can work around such broken installation by removing the old offending package, <literal>&lt;old-package&gt;</literal>, first.</simpara>
        <screen>$ sudo dpkg -P &lt;old-package&gt;</screen>
      </section>
      <section id="_fixing_broken_package_script">
        <title>Fixing broken package script</title>
        <simpara>When a command in the package script returns error for some reason and the script exits with error, the package management system aborts their action and ends up with partially installed packages.  When a package contains bugs in its removal scripts, the package may become impossible to remove and quite nasty.</simpara>
        <simpara>For the package script problem of "<literal>&lt;package_name&gt;</literal>", you should look into following package scripts.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
"<literal>/var/lib/dpkg/info/&lt;package_name&gt;.preinst</literal>"
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>/var/lib/dpkg/info/&lt;package_name&gt;.postinst</literal>"
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>/var/lib/dpkg/info/&lt;package_name&gt;.prerm</literal>"
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>/var/lib/dpkg/info/&lt;package_name&gt;.postrm</literal>"
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>Edit the offending package script from the root using following techniques.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
disable the offending line by prepending "<literal>#</literal>"
</simpara>
          </listitem>
          <listitem>
            <simpara>
force to return success by appending the offending line with "<literal>|| true</literal>"
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>Configure all partially installed packages with the following command.</simpara>
        <screen># dpkg --configure -a</screen>
      </section>
      <section id="_rescue_with_the_dpkg_command">
        <title>Rescue with the dpkg command</title>
        <simpara>Since <literal>dpkg</literal> is very low level package tool, it can function under the very bad situation such as unbootable system without network connection.  Let's assume <literal>foo</literal> package was broken and needs to be replaced.</simpara>
        <simpara>You may still find cached copies of older bug free version of <literal>foo</literal> package in the package cache directory: "<literal>/var/cache/apt/archives/</literal>".  (If not, you can download it from archive of <ulink url="&httpsnapshotdebiannet;">http://snapshot.debian.net/</ulink> or copy it from package cache of a functioning machine.)</simpara>
        <simpara>If you can boot the system, you may install it by the following command.</simpara>
        <screen># dpkg -i /path/to/foo_&lt;old_version&gt;_&lt;arch&gt;.deb</screen>
        <tip>
          <simpara>If system breakage is minor, you may alternatively downgrade the whole system as <xref linkend="_emergency_downgrading"/> using the higher level APT system.</simpara>
        </tip>
        <simpara>If your system is unbootable from hard disk, you should seek other ways to boot it.</simpara>
        <orderedlist>
          <listitem>
            <simpara>
Boot the system using the debian-installer CD in rescue mode.
</simpara>
          </listitem>
          <listitem>
            <simpara>
Mount the unbootable system on the hard disk to "<literal>/target</literal>".
</simpara>
          </listitem>
          <listitem>
            <simpara>
Install older version of <literal>foo</literal> package by the following.
</simpara>
          </listitem>
        </orderedlist>
        <screen># dpkg --root /target -i /path/to/foo_&lt;old_version&gt;_&lt;arch&gt;.deb</screen>
        <simpara>This example works even if the <literal>dpkg</literal> command on the hard disk is broken.</simpara>
        <tip>
          <simpara>Any GNU/Linux system started by another system on hard disk, live GNU/Linux CD, bootable USB-key drive, or netboot can be used similarly to rescue broken system.</simpara>
        </tip>
        <simpara>If attempting to install a package this way fails due to some dependency violations and you really need to do this as the last resort, you can override dependency using <literal>dpkg</literal>'s "<literal>--ignore-depends</literal>", "<literal>--force-depends</literal>" and other options.    If you do this, you need to make serious effort to restore proper dependency later. See <literal>dpkg</literal>(8) for details.</simpara>
        <note>
          <simpara>When your system is seriously broken, you should make a full backup of system to a safe place (see <xref linkend="_backup_and_recovery"/>) and should perform a clean installation.  This is less time consuming and produces better results in the end.</simpara>
        </note>
      </section>
      <section id="_recovering_package_selection_data">
        <title>Recovering package selection data</title>
        <simpara>If "<literal>/var/lib/dpkg/status</literal>" becomes corrupt for any reason, the Debian system loses package selection data and suffers severely.  Look for the old "<literal>/var/lib/dpkg/status</literal>" file at "<literal>/var/lib/dpkg/status-old</literal>" or "<literal>/var/backups/dpkg.status.*</literal>".</simpara>
        <simpara>Keeping "<literal>/var/backups/</literal>" in a separate partition may be a good idea since this directory contains lots of important system data.</simpara>
        <simpara>For serious breakage, I recommend to make fresh re-install after making backup of the system. Even if everything in "<literal>/var/</literal>" is gone, you can still recover some information from directories in "<literal>/usr/share/doc/</literal>" to guide your new installation.</simpara>
        <simpara>Reinstall minimal (desktop) system.</simpara>
        <screen># mkdir -p /path/to/old/system</screen>
        <simpara>Mount old system at "<literal>/path/to/old/system/</literal>".</simpara>
        <screen># cd /path/to/old/system/usr/share/doc
# ls -1 &gt;~/ls1.txt
# cd /usr/share/doc
# ls -1 &gt;&gt;~/ls1.txt
# cd
# sort ls1.txt | uniq | less</screen>
        <simpara>Then you will be presented with package names to install.  (There may be some non-package names such as "<literal>texmf</literal>".)</simpara>
      </section>
    </section>
    <section id="_tips_for_the_package_management">
      <title>Tips for the package management</title>
      <section id="_how_to_pick_debian_packages">
        <title>How to pick Debian packages</title>
        <simpara>You can seek packages which satisfy your needs with <literal>aptitude</literal> from the package description or from the list under "Tasks".</simpara>
        <simpara>When you encounter more than 2 similar packages and wonder which one to install without "trial and error" efforts, you should use some <emphasis role="strong">common sense</emphasis>.  I consider following points are good indications of preferred packages.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
Essential: yes &gt; no
</simpara>
          </listitem>
          <listitem>
            <simpara>
Component: main &gt; contrib &gt; non-free
</simpara>
          </listitem>
          <listitem>
            <simpara>
Priority: required &gt; important &gt; standard &gt; optional &gt; extra
</simpara>
          </listitem>
          <listitem>
            <simpara>
Tasks: packages listed in tasks such as "Desktop environment"
</simpara>
          </listitem>
          <listitem>
            <simpara>
Packages selected by the dependency package (e.g., <literal>python2.4</literal> by <literal>python</literal>)
</simpara>
          </listitem>
          <listitem>
            <simpara>
Popcon: higher in the vote and install number
</simpara>
          </listitem>
          <listitem>
            <simpara>
Changelog: regular updates by the maintainer
</simpara>
          </listitem>
          <listitem>
            <simpara>
BTS: No RC bugs (no critical, no grave, and no serious bugs)
</simpara>
          </listitem>
          <listitem>
            <simpara>
BTS: responsive maintainer to bug reports
</simpara>
          </listitem>
          <listitem>
            <simpara>
BTS: higher number of the recently fixed bugs
</simpara>
          </listitem>
          <listitem>
            <simpara>
BTS: lower number of remaining non-wishlist bugs
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>Debian being a volunteer project with distributed development model, its archive contains many packages with different focus and quality.  You must make your own decision what to do with them.</simpara>
      </section>
      <section id="_packages_from_mixed_source_of_archives">
        <title>Packages from mixed source of archives</title>
        <caution>
          <simpara>Installing packages from mixed source of archives is not supported by the official Debian distribution except for officially supported particular combinations of archives such as <literal>stable</literal> with <ulink url="&securityupdates;">security updates</ulink> and <ulink url="&volatileupdates;">volatile updates</ulink>.</simpara>
        </caution>
        <simpara>Here is an example of operations to include specific newer upstream version packages found in <literal>unstable</literal> while tracking <literal>testing</literal> for single occasion.</simpara>
        <orderedlist>
          <listitem>
            <simpara>
Change the "<literal>/etc/apt/sources.list</literal>" file temporarily to single "<literal>unstable</literal>" entry.
</simpara>
          </listitem>
          <listitem>
            <simpara>
Run "<literal>aptitude update</literal>".
</simpara>
          </listitem>
          <listitem>
            <simpara>
Run "<literal>aptitude install &lt;package-name&gt;</literal>".
</simpara>
          </listitem>
          <listitem>
            <simpara>
Recover the original "<literal>/etc/apt/sources.list</literal>" file for <literal>testing</literal>.
</simpara>
          </listitem>
          <listitem>
            <simpara>
Run "<literal>aptitude update</literal>".
</simpara>
          </listitem>
        </orderedlist>
        <simpara>You do not create the "<literal>/etc/apt/preferences</literal>" file nor need to worry about apt-pinning with this manual approach.  But this is very cumbersome.</simpara>
        <caution>
          <simpara>When using mixed source of archives, you must ensure compatibility of packages by yourself since the Debian does not guarantee it. If package incompatibility exists, you may break system. You must be able to judge these technical requirements. The use of mixed source of random archives is completely optional operation and its use is not something I encourage you to use.</simpara>
        </caution>
        <simpara>General rules for installing packages from different archives are followings.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
Non-binary packages ("<literal>Architecture: all</literal>") are <emphasis role="strong">safer</emphasis> to install.
</simpara>
            <itemizedlist>
              <listitem>
                <simpara>
documentation packages: no special requirements
</simpara>
              </listitem>
              <listitem>
                <simpara>
interpreter program packages: compatible interpreter must be available
</simpara>
              </listitem>
            </itemizedlist>
          </listitem>
          <listitem>
            <simpara>
Binary packages (non "<literal>Architecture: all</literal>") usually face many road blocks and <emphasis role="strong">unsafe</emphasis> to install.
</simpara>
            <itemizedlist>
              <listitem>
                <simpara>
library version compatibility (including "<literal>libc</literal>")
</simpara>
              </listitem>
              <listitem>
                <simpara>
related utility program version compatibility
</simpara>
              </listitem>
              <listitem>
                <simpara>
Kernel <ulink url="&abi;">ABI</ulink> compatibility
</simpara>
              </listitem>
              <listitem>
                <simpara>
C++ <ulink url="&abi;">ABI</ulink> compatibility
</simpara>
              </listitem>
              <listitem>
                <simpara>
…
</simpara>
              </listitem>
            </itemizedlist>
          </listitem>
        </itemizedlist>
        <note>
          <simpara>In order to make a package to be <emphasis role="strong">safer</emphasis> to install, some commercial non-free binary program packages may be provided with completely statically linked libraries.  You should still check <ulink url="&abi;">ABI</ulink> compatibility issues etc. for them.</simpara>
        </note>
        <note>
          <simpara>Except to avoid broken package for a short term, installing binary packages from officially unsupported archives is generally bad idea.  This is true even if you use apt-pinning (see <xref linkend="_tweaking_candidate_version"/>).  You should consider chroot or similar techniques (see <xref linkend="_virtualized_system"/>) to run programs from different archives.</simpara>
        </note>
      </section>
      <section id="_tweaking_candidate_version">
        <title>Tweaking candidate version</title>
        <warning>
          <simpara>In <literal>lenny</literal>, <literal>aptitude</literal>(8) has a bug for handling "<literal>/etc/apt/preferences</literal>" file. (<ulink url="&bugfbejda;">Bug#514930</ulink>)</simpara>
        </warning>
        <simpara>Without the "<literal>/etc/apt/preferences</literal>" file, APT system choses the latest available version as the <emphasis role="strong">candidate version</emphasis> using the version string.  This is the normal state and most recommended usage of APT system.  All officially supported combinations of archives do not require the "<literal>/etc/apt/preferences</literal>" file since some archives which should not be used as the automatic source of upgrades are marked as <emphasis role="strong">NotAutomatic</emphasis> and dealt properly.</simpara>
        <tip>
          <simpara>The version string comparison rule can be verified with, e.g., "<literal>dpkg  --compare-versions ver1.1 gt ver1.1~1; echo $?</literal>" (see <literal>dpkg</literal>(1)).</simpara>
        </tip>
        <simpara>When you install packages from mixed source of archives (see <xref linkend="_packages_from_mixed_source_of_archives"/>) regularly, you can automate these complicated operations by creating the "<literal>/etc/apt/preferences</literal>" file with proper entries and tweaking the package selection rule for <emphasis role="strong">candidate version</emphasis> as described in <literal>apt_preferences</literal>(5).  This is called <emphasis role="strong">apt-pinning</emphasis>.</simpara>
        <warning>
          <simpara>Use of apt-pinning by a novice user is sure call for major troubles.  You must avoid using apt-pinning except when you absolutely need it.</simpara>
        </warning>
        <caution>
          <simpara>When using apt-pinning, you must ensure compatibility of packages by yourself since the Debian does not guarantee it.  The apt-pinning is completely optional operation and its use is not something I encourage you to use.</simpara>
        </caution>
        <caution>
          <simpara>Archive level Release files (see <xref linkend="_archive_level_release_files"/>) are used for the rule of <literal>apt_preferences</literal>(5).  Thus apt-pinning works only with "suite" name for <ulink url="&normaldebianarchives;">normal Debian archives</ulink> and <ulink url="&securitydebianarchives;">security Debian archives</ulink>. (This is different from <ulink url="&ubuntu;">Ubuntu</ulink> archives).  For example, you can do "<literal>Pin: release a=unstable</literal>" but can not do "<literal>Pin: release a=sid</literal>" in the "<literal>/etc/apt/preferences</literal>" file.</simpara>
        </caution>
        <caution>
          <simpara>When you use non-Debian archive as a part of apt-pinning, you should check what they are intended for and also check their credibility.  For example, Ubuntu and Debian are not meant to be mixed.</simpara>
        </caution>
        <note>
          <simpara>Even if you do not create the "<literal>/etc/apt/preferences</literal>" file, you can do fairly complex system operations (see <xref linkend="_rescue_with_the_dpkg_command"/> and <xref linkend="_packages_from_mixed_source_of_archives"/>) without apt-pinning.</simpara>
        </note>
        <simpara>Here is a simplified explanation of <emphasis role="strong">apt-pinning</emphasis> technique.</simpara>
        <simpara>APT system choses highest Pin-Priority <emphasis role="strong">upgrading</emphasis> package from available package sources defined in the "<literal>/etc/apt/sources.list</literal>" file as the <emphasis role="strong">candidate version</emphasis> package.  If the Pin-Priority of the package is larger than 1000, this version restriction for <emphasis role="strong">upgrading</emphasis> is dropped to enable downgrading (see <xref linkend="_emergency_downgrading"/>).</simpara>
        <simpara>Pin-Priority value of each package is defined by "Pin-Priority" entries in the "<literal>/etc/apt/preferences</literal>" file or uses its default value.</simpara>
        <table id="listofthedefaultackagesourcetype" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of the default Pin-Priority value for each package source type</title>
          <tgroup cols="2">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="70%*" align="left"/>
            <thead>
              <row>
                <entry>
    default Pin-Priority
    </entry>
                <entry>
    package source type
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
    990
    </entry>
                <entry><emphasis role="strong">target release</emphasis> archive
    </entry>
              </row>
              <row>
                <entry>
    500
    </entry>
                <entry><emphasis role="strong">normal</emphasis> archive
    </entry>
              </row>
              <row>
                <entry>
    100
    </entry>
                <entry><emphasis role="strong">installed</emphasis> package
    </entry>
              </row>
              <row>
                <entry>
    1
    </entry>
                <entry><emphasis role="strong">NotAutomatic</emphasis> archive
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>The <emphasis role="strong">target release</emphasis> archive can be set by several methods.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
"<literal>/etc/apt/apt.conf</literal>" configuration file with "<literal>APT::Default-Release "stable";</literal>" line
</simpara>
          </listitem>
          <listitem>
            <simpara>
command line option, e.g., "<literal>apt-get install -t testing some-package</literal>"
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>The  <emphasis role="strong">NotAutomatic</emphasis> archive is set by archive server having its archive level Release file (see <xref linkend="_archive_level_release_files"/>) containing "<literal>NotAutomatic: yes</literal>".</simpara>
        <simpara>The <emphasis role="strong">apt-pinning situation</emphasis> of &lt;package&gt; from multiple archive sources is displayed by "<literal>apt-cache policy &lt;package&gt;</literal>".</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
A line started with "<literal>Package pin:</literal>" lists the package version of <emphasis role="strong">pin</emphasis> if association just with &lt;package&gt; is defined, e.g., "<literal>Package pin: 0.190</literal>".
</simpara>
          </listitem>
          <listitem>
            <simpara>
No line with "<literal>Package pin:</literal>" exists if no association just with &lt;package&gt; is defined.
</simpara>
          </listitem>
          <listitem>
            <simpara>
The Pin-Priority value associated just with &lt;package&gt; is listed right side of all version strings, e.g., "<literal>0.181 700</literal>".
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>0</literal>" is listed right side of all version strings if no association just with &lt;package&gt; is defined, e.g., "<literal>0.181 0</literal>".
</simpara>
          </listitem>
          <listitem>
            <simpara>
The Pin-Priority values of archives (defined as "<literal>Package: *</literal>" in the "<literal>/etc/apt/preferences</literal>" file) are listed left side of all archive paths, e.g., "<literal>200 http://backports.org etch-backports/main Packages</literal>".
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>Here is an example of <emphasis role="strong">apt-pinning</emphasis> technique to include specific newer upstream version packages found in <literal>unstable</literal> regularly upgraded while tracking <literal>testing</literal>.  You list all required archives in the "<literal>/etc/apt/sources.list</literal>" file as the following.</simpara>
        <screen>deb http://ftp.us.debian.org/debian/ testing main contrib non-free
deb http://ftp.us.debian.org/debian/ unstable main contrib non-free
deb http://security.debian.org/ testing/updates main contrib</screen>
        <simpara>Set the "<literal>/etc/apt/preferences</literal>" file as as the following.</simpara>
        <screen>Package: *
Pin: release a=testing
Pin-Priority: 500

Package: *
Pin: release a=unstable
Pin-Priority: 200</screen>
        <simpara>When you wish to install a package named "<literal>&lt;package-name&gt;</literal>" with its dependencies from <literal>unstable</literal> archive under this configuration, you issue the following command which switches target release with "<literal>-t</literal>" option (Pin-Priority of <literal>unstable</literal> becomes 990.).</simpara>
        <screen>$ sudo apt-get install -t unstable &lt;package-name&gt;</screen>
        <simpara>With this configuration, usual execution of "<literal>apt-get upgrade</literal>" and "<literal>apt-get dist-upgrade</literal>" (or "<literal>aptitude safe-upgrade</literal>" and "<literal>aptitude full-upgrade</literal>" for <literal>squeeze</literal>) will upgrade packages which were installed from <literal>testing</literal> archive using current <literal>testing</literal> archive and packages which were installed from <literal>unstable</literal> archive using current <literal>unstable</literal> archive.</simpara>
        <caution>
          <simpara>Be careful not to remove "<literal>testing</literal>" entry from the "<literal>/etc/apt/sources.list</literal>" file.  Without "<literal>testing</literal>" entry in it, APT system will upgrade packages using newer <literal>unstable</literal> archive.</simpara>
        </caution>
        <tip>
          <simpara>I usually edit the "<literal>/etc/apt/sources.list</literal>" file to comment out "<literal>unstable</literal>" archive entry right after above operation.  This avoids slow update process of having too many entries in the "<literal>/etc/apt/sources.list</literal>" file although this prevents upgrading packages which were installed from <literal>unstable</literal> archive using current <literal>unstable</literal> archive.</simpara>
        </tip>
        <tip>
          <simpara>If "<literal>Pin-Priority: 20</literal>" is used instead of "<literal>Pin-Priority: 200</literal>" for the "<literal>/etc/apt/preferences</literal>" file, already installed packages having Pin-Priority value of 100 will never be upgraded by <literal>unstable</literal> archive even if "<literal>testing</literal>" entry in the "<literal>/etc/apt/sources.list</literal>" file is removed.</simpara>
        </tip>
        <simpara>If you wish to track particular packages in <literal>unstable</literal> automatically without initial "<literal>-t unstable</literal>" installation, you must create the "<literal>/etc/apt/preferences</literal>" file and explicitly list all those packages at the top of it as the following.</simpara>
        <screen>Package: &lt;package-1&gt;
Pin: release a=unstable
Pin-Priority: 700

Package: &lt;package-2&gt;
Pin: release a=unstable
Pin-Priority: 700</screen>
        <simpara>These will set Pin-Priority value for each specific package.  For example, in order to track the latest <literal>unstable</literal> version of this "Debian Reference" in English, you should have following entries in the "<literal>/etc/apt/preferences</literal>" file.</simpara>
        <screen>Package: debian-reference-en
Pin: release a=unstable
Pin-Priority: 700

Package: debian-reference-common
Pin: release a=unstable
Pin-Priority: 700</screen>
        <tip>
          <simpara>This apt-pinning technique is valid even when you are tracking <literal>stable</literal> archive.  Documentation packages have been always safe to install from <literal>unstable</literal> archive in my experience, so far.</simpara>
        </tip>
        <simpara>Here is another example of <emphasis role="strong">apt-pinning</emphasis> technique to include specific newer upstream version packages found in <literal>experimental</literal> while tracking <literal>unstable</literal>.  You list all required archives in the "<literal>/etc/apt/sources.list</literal>" file as the following.</simpara>
        <screen>deb http://ftp.us.debian.org/debian/ unstable main contrib non-free
deb http://ftp.us.debian.org/debian/ experimental main contrib non-free
deb http://security.debian.org/ testing/updates main contrib</screen>
        <simpara>The default Pin-Priority value for <literal>experimental</literal> archive is always 1 (&lt;&lt;100) since it is <emphasis role="strong">NotAutomatic</emphasis> archive (see <xref linkend="_archive_level_release_files"/>).  There is no need to set Pin-Priority value explicitly in the "<literal>/etc/apt/preferences</literal>" file just to use <literal>experimental</literal> archive unless you wish to track particular packages in it automatically for next upgrading.</simpara>
      </section>
      <section id="_volatile_and_backports_org">
        <title>Volatile and Backports.org</title>
        <simpara>There are <ulink url="&debianvolatileproject;">debian-volatile project</ulink> and <ulink url="&backportsorg;">backports.org</ulink> archives which provide updgrade packages for <literal>stable</literal>.</simpara>
        <warning>
          <simpara>Do not use all packages available in the <emphasis role="strong">NotAutomatic</emphasis> archives such as <literal>&codename-stable;-backports</literal> and <literal>volatile-sloppy</literal>.  Use only selected packages which fits your needs.</simpara>
        </warning>
        <caution>
          <simpara><ulink url="&backportsorg;">backports.org</ulink> is a non-Debian archive, although its packages are signed by Debian developers.</simpara>
        </caution>
        <caution>
          <simpara>Archive level Release files (see <xref linkend="_archive_level_release_files"/>) are used for the rule of <literal>apt_preferences</literal>(5).  Thus apt-pinning works only with "code" name for <ulink url="&volatiledebianarchives;">volatile Debian archives</ulink>. This is different from other Debian archives.  For example, you can do "<literal>Pin: release a=&codename-stable;</literal>" but can not do "<literal>Pin: release a=stable</literal>" in the "<literal>/etc/apt/preferences</literal>" file for volatile Debian archives.</simpara>
        </caution>
        <simpara>Here is an example of <emphasis role="strong">apt-pinning</emphasis> technique to include specific newer upstream version packages found in <literal>&codename-stable;-backports</literal> while tracking <literal>&codename-stable;</literal> and <literal>volatile</literal>.  You list all required archives in the "<literal>/etc/apt/sources.list</literal>" file as the following.</simpara>
        <screen>deb http://ftp.us.debian.org/debian/ &codename-stable; main contrib non-free
deb http://security.debian.org/ &codename-stable;/updates main contrib
deb http://volatile.debian.org/debian-volatile/ &codename-stable;/volatile main contrib non-free
deb http://volatile.debian.org/debian-volatile/ &codename-stable;/volatile-sloppy main contrib non-free
deb http://backports.org/debian/ &codename-stable;-backports main contrib non-free</screen>
        <simpara>The default Pin-Priority value for <ulink url="&backportsorg;">backports.org</ulink> and <literal>volatile-sloppy</literal> archives are always 1 (&lt;&lt;100) since they are <emphasis role="strong">NotAutomatic</emphasis> archive (see <xref linkend="_archive_level_release_files"/>).  There is no need to set Pin-Priority value explicitly in the "<literal>/etc/apt/preferences</literal>" file just to use for <ulink url="&backportsorg;">backports.org</ulink> and <literal>volatile-sloppy</literal> archive unless you wish to track packages automatically for next upgrading.</simpara>
        <simpara>So whenever you wish to install a package named "<literal>&lt;package-name&gt;</literal>" with its dependency from <literal>&codename-stable;-backports</literal> archive, you use following command while switching target release with "<literal>-t</literal>" option.</simpara>
        <screen>$ sudo apt-get install -t &codename-stable;-backports &lt;package-name&gt;</screen>
        <simpara>If you wish to upgrade particular packages, you must create the "<literal>/etc/apt/preferences</literal>" file and explicitly lists all packages in it as the following.</simpara>
        <screen>Package: &lt;package-1&gt;
Pin: release o=Backports.org archive
Pin-Priority: 700

Package: &lt;package-2&gt;
Pin: release o=volatile.debian.org
Pin-Priority: 700</screen>
        <simpara>Alternatively, with the "<literal>/etc/apt/preferences</literal>" file as the following.</simpara>
        <screen>Package: *
Pin: release a=stable , o=Debian
Pin-Priority: 500

Package: *
Pin: release a=&codename-stable;, o=volatile.debian.org
Pin-Priority: 500

Package: *
Pin: release a=&codename-stable;-backports, o=Backports.org archive
Pin-Priority: 200

Package: *
Pin: release a=&codename-stable;-sloppy, o=volatile.debian.org
Pin-Priority: 200</screen>
        <simpara>Execution of "<literal>apt-get upgrade</literal>" and "<literal>apt-get dist-upgrade</literal>" (or "<literal>aptitude safe-upgrade</literal>" and "<literal>aptitude full-upgrade</literal>" for <literal>squeeze</literal>) will upgrade packages which were installed from <literal>stable</literal> archive using current <literal>stable</literal> archive and packages which were installed from other archives using current corresponding archive for all archives in the "<literal>/etc/apt/sources.list</literal>" file.</simpara>
      </section>
      <section id="_automatic_download_and_upgrade_of_packages">
        <title>Automatic download and upgrade of packages</title>
        <simpara>The <literal>apt</literal> package comes with its own cron script "<literal>/etc/cron.daily/apt</literal>" to support the automatic download of packages.  This script can be enhanced to perform the automatic upgrade of packages by installing the <literal>unattended-upgrades</literal> package. These can be customized by parameters in "<literal>/etc/apt/apt.conf.d/02backup</literal>" and "<literal>/etc/apt/apt.conf.d/50unattended-upgrades</literal>" as described in "<literal>/usr/share/doc/unattended-upgrades/README</literal>".</simpara>
        <simpara>The <literal>unattended-upgrades</literal> package is mainly intended for the security upgrade for the <literal>stable</literal> system.  If the risk of breaking an existing <literal>stable</literal> system by the automatic upgrade is smaller than that of the system broken by the intruder using its security hole which has been closed by the security update, you should consider using this automatic upgrade with configuration parameters as the following.</simpara>
        <screen>APT::Periodic::Update-Package-Lists "1";
APT::Periodic::Download-Upgradeable-Packages "1";
APT::Periodic::Unattended-Upgrade "1";</screen>
        <simpara>If you are running an <literal>unstable</literal> system, you do not want to use the automatic upgrade since it will certainly break system some day.  Even for such <literal>unstable</literal> case, you may still want to download packages in advance to save time for the interactive upgrade with configuration parameters as the following.</simpara>
        <screen>APT::Periodic::Update-Package-Lists "1";
APT::Periodic::Download-Upgradeable-Packages "1";
APT::Periodic::Unattended-Upgrade "0";</screen>
      </section>
      <section id="_limiting_download_bandwidth_for_apt">
        <title>Limiting download bandwidth for APT</title>
        <simpara>If you want to limit the download bandwidth for APT to e.g. 800Kib/sec (=100kiB/sec), you should configure APT with its configuration parameter as the following.</simpara>
        <screen>APT::Acquire::http::Dl-Limit "800";</screen>
      </section>
      <section id="_emergency_downgrading">
        <title>Emergency downgrading</title>
        <caution>
          <simpara>Downgrading is not officially supported by the Debian by design.  It should be done only as a part of emergency recovery process.  Despite of this situation, it is known to work well in many incidents.  For critical systems, You should backup all important data on the system after the recovery operation and re-install the new system from the scratch.</simpara>
        </caution>
        <simpara>You may be lucky to downgrade from newer archive to older archive to recover from broken system upgrade by manipulating <emphasis role="strong">candidate version</emphasis> (see <xref linkend="_tweaking_candidate_version"/>).  This is lazy alternative to tedious actions of many "<literal>dpkg -i &lt;broken-package&gt;_&lt;old-version&gt;.deb</literal>" commands (see <xref linkend="_rescue_with_the_dpkg_command"/>).</simpara>
        <simpara>Search lines in the "<literal>/etc/apt/sources.list</literal>" file tracking <literal>unstable</literal> as the following.</simpara>
        <screen>deb http://ftp.us.debian.org/debian/ &codename-unstable; main contrib non-free</screen>
        <simpara>Replace it with the following to track <literal>testing</literal>.</simpara>
        <screen>deb http://ftp.us.debian.org/debian/ &codename-testing; main contrib non-free</screen>
        <simpara>Set the "<literal>/etc/apt/preferences</literal>" file as the following.</simpara>
        <screen>Package: *
Pin: release a=testing
Pin-Priority: 1010</screen>
        <simpara>Run "<literal>apt-get dist-upgrade</literal>" to force downgrading of packages across the system.</simpara>
        <simpara>Remove this special "<literal>/etc/apt/preferences</literal>" file after this emergency downgrading.</simpara>
        <tip>
          <simpara>It is good idea to remove (not purge!) as much packages to minimize dependency problems.  You may need to manually remove and install some packages to get system downgraded.  Linux kernel, bootloader, udev, PAM, APT, and networking related packages and their configuration files require special attention.</simpara>
        </tip>
      </section>
      <section id="_who_uploaded_the_package">
        <title>Who uploaded the package?</title>
        <simpara>Although the maintainer name listed in "<literal>/var/lib/dpkg/available</literal>" and "<literal>/usr/share/doc/package_name/changelog</literal>" provide some information on "who is behind the packaging activity", the actual uploader of the package is somewhat obscure.  <literal>who-uploads</literal>(1) in the <literal>devscripts</literal> package identifies the actual uploader of Debian source packages.</simpara>
      </section>
      <section id="_the_equivs_package">
        <title>The equivs package</title>
        <simpara>If you are to compile a program from source to replace the Debian package, it is best to make it into a real local debianized package (<literal>*.deb</literal>) and use private archive.</simpara>
        <simpara>If you chose to compile a program from source and to install them under "<literal>/usr/local</literal>" instead, you may need to use <literal>equivs</literal> as a last resort to satisfy the missing package dependency.</simpara>
        <screen>Package: equivs
Priority: extra
Section: admin
Description: Circumventing Debian package dependencies
 This is a dummy package which can be used to create Debian
 packages, which only contain dependency information.</screen>
      </section>
      <section id="_porting_a_package_to_the_stable_system">
        <title>Porting a package to the stable system</title>
        <simpara>For partial upgrades of the <literal>stable</literal> system, rebuilding a package within its environment using the source package is desirable.  This avoids massive package upgrades due to their dependencies.</simpara>
        <simpara>Add the following entries to the "<literal>/etc/apt/sources.list</literal>" of a <literal>stable</literal> system.</simpara>
        <screen>deb-src http://http.us.debian.org/debian unstable  main contrib non-free</screen>
        <simpara>Install required packages for the compilation and download the source package as the following.</simpara>
        <screen># apt-get update
# apt-get dist-upgrade
# apt-get install fakeroot devscripts build-essential
$ apt-get build-dep foo
$ apt-get source foo
$ cd foo*</screen>
        <simpara>Adjust installed packages if needed.</simpara>
        <simpara>Execute the following.</simpara>
        <screen>$ dch -i</screen>
        <simpara>Bump package version, e.g. one appended with "<literal>+bp1</literal>" in "<literal>debian/changelog</literal>"</simpara>
        <simpara>Build packages and install them to the system as the following.</simpara>
        <screen>$ debuild
$ cd ..
# debi foo*.changes</screen>
      </section>
      <section id="_proxy_server_for_apt">
        <title>Proxy server for APT</title>
        <simpara>Since mirroring whole subsection of Debian archive wastes disk space and network bandwidth, deployment of a local proxy server for APT is desirable consideration when you administer many systems on <ulink url="&lan;">LAN</ulink>.  APT can be configure to use generic web (http) proxy servers such as <literal>squid</literal> (see <xref linkend="_other_network_application_servers"/>) as described in <literal>apt.conf</literal>(5) and in "<literal>/usr/share/doc/apt/examples/configure-index.gz</literal>".  The "<literal>$http_proxy</literal>" environment variable can be used to override proxy server setting in the "<literal>/etc/apt/apt.conf</literal>" file.</simpara>
        <simpara>There are proxy tools specially for Debian archive.  You should check BTS before using them.</simpara>
        <table id="listoftheproxytofordebianarchive" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of the proxy tools specially for Debian archive</title>
          <tgroup cols="4">
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="40%*" align="left"/>
            <thead>
              <row>
                <entry>
    package
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    size
    </entry>
                <entry>
    description
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/approx">
                  <literal>approx</literal>
                </ulink> <ulink url="http://bugs.debian.org/approx">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=approx">&pop-approx;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/a/approx.html">&size-approx;</ulink></entry>
                <entry>
    caching proxy server for Debian archive files (compiled <ulink url="&ocaml;">OCaml</ulink> program)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/apt-proxy">
                  <literal>apt-proxy</literal>
                </ulink> <ulink url="http://bugs.debian.org/apt-proxy">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=apt-proxy">&pop-aptproxy;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/a/apt-proxy.html">&size-aptproxy;</ulink></entry>
                <entry>
    Debian archive proxy and partial mirror builder (Python program)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/apt-cacher">
                  <literal>apt-cacher</literal>
                </ulink> <ulink url="http://bugs.debian.org/apt-cacher">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=apt-cacher">&pop-aptcacher;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/a/apt-cacher.html">&size-aptcacher;</ulink></entry>
                <entry>
    Caching proxy for Debian package and source files (Perl program)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/apt-cacher-ng">
                  <literal>apt-cacher-ng</literal>
                </ulink> <ulink url="http://bugs.debian.org/apt-cacher-ng">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=apt-cacher-ng">&pop-aptcacherng;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/a/apt-cacher-ng.html">&size-aptcacherng;</ulink></entry>
                <entry>
    Caching proxy for distribution of software packages (compiled C++ program)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/debtorrent">
                  <literal>debtorrent</literal>
                </ulink> <ulink url="http://bugs.debian.org/debtorrent">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=debtorrent">&pop-debtorrent;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/d/debtorrent.html">&size-debtorrent;</ulink></entry>
                <entry>
    Bittorrent proxy for downloading Debian packages (Python program)
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <caution>
          <simpara>When Debian reorganizes its archive structure, these specialized proxy tools tend to require code rewrites by the package maintainer and may not be functional for a while.  On the other hand, generic web (http) proxy servers are more robust and easier to cope with such changes.</simpara>
        </caution>
      </section>
      <section id="_small_public_package_archive">
        <title>Small public package archive</title>
        <simpara>Here is an example for creating a small public package archive compatible with the modern <emphasis role="strong">secure APT</emphasis> system (see <xref linkend="_top_level_release_file_and_authenticity"/>). Let's assume few things.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
Account name: "<literal>foo</literal>"
</simpara>
          </listitem>
          <listitem>
            <simpara>
Host name: "<literal>www.example.com</literal>"
</simpara>
          </listitem>
          <listitem>
            <simpara>
Required packages:  <literal>apt-utils</literal>, <literal>gnupg</literal>, and other packages
</simpara>
          </listitem>
          <listitem>
            <simpara>
URL: "<literal>http://www.example.com/~foo/</literal>" ( → "<literal>/home/foo/public_html/index.html</literal>")
</simpara>
          </listitem>
          <listitem>
            <simpara>
Architecture of packages: "<literal>amd64</literal>"
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>Create an APT archive key of Foo on your server system as the following.</simpara>
        <screen>$ ssh foo@www.example.com
$ gpg --gen-key
...
$ gpg -K
...
sec   1024D/3A3CB5A6 2008-08-14
uid                  Foo (ARCHIVE KEY) &lt;foo@www.example.com&gt;
ssb   2048g/6856F4A7 2008-08-14
$ gpg --export -a 3A3CB5A6 &gt;foo.public.key</screen>
        <simpara>Publish the archive key file "<literal>foo.public.key</literal>" with the key ID "<literal>3A3CB5A6</literal>" for Foo</simpara>
        <simpara>Create an archive tree called "Origin: Foo" as the following.</simpara>
        <screen>$ umask 022
$ mkdir -p ~/public_html/debian/pool/main
$ mkdir -p ~/public_html/debian/dists/unstable/main/binary-amd64
$ mkdir -p ~/public_html/debian/dists/unstable/main/source
$ cd ~/public_html/debian
$ cat &gt; dists/unstable/main/binary-amd64/Release &lt;&lt; EOF
Archive: unstable
Version: 4.0
Component: main
Origin: Foo
Label: Foo
Architecture: amd64
EOF
$ cat &gt; dists/unstable/main/source/Release &lt;&lt; EOF
Archive: unstable
Version: 4.0
Component: main
Origin: Foo
Label: Foo
Architecture: source
EOF
$ cat &gt;aptftp.conf &lt;&lt;EOF
APT::FTPArchive::Release {
  Origin "Foo";
  Label "Foo";
  Suite "unstable";
  Codename "sid";
  Architectures "amd64";
  Components "main";
  Description "Public archive for Foo";
};
EOF
$ cat &gt;aptgenerate.conf &lt;&lt;EOF
Dir::ArchiveDir ".";
Dir::CacheDir ".";
TreeDefault::Directory "pool/";
TreeDefault::SrcDirectory "pool/";
Default::Packages::Extensions ".deb";
Default::Packages::Compress ". gzip bzip2";
Default::Sources::Compress "gzip bzip2";
Default::Contents::Compress "gzip bzip2";

BinDirectory "dists/unstable/main/binary-amd64" {
  Packages "dists/unstable/main/binary-amd64/Packages";
  Contents "dists/unstable/Contents-amd64";
  SrcPackages "dists/unstable/main/source/Sources";
};

Tree "dists/unstable" {
  Sections "main";
  Architectures "amd64 source";
};
EOF</screen>
        <simpara>You can automate repetitive updates of APT archive contents on your server system by configuring <literal>dupload</literal>.</simpara>
        <simpara>Place all package files into "<literal>~foo/public_html/debian/pool/main/</literal>" by executing "<literal>dupload -t foo changes_file</literal>" in client while having "<literal>~/.dupload.conf</literal>" containing the following.</simpara>
        <screen>$cfg{'foo'} = {
  fqdn =&gt; "www.example.com",
  method =&gt; "scpb",
  incoming =&gt; "/home/foo/public_html/debian/pool/main",
  # The dinstall on ftp-master sends emails itself
  dinstall_runs =&gt; 1,
};

$cfg{'foo'}{postupload}{'changes'} = "
  echo 'cd public_html/debian ;
  apt-ftparchive generate -c=aptftp.conf aptgenerate.conf;
  apt-ftparchive release -c=aptftp.conf dists/unstable &gt;dists/unstable/Release ;
  rm -f dists/unstable/Release.gpg ;
  gpg -u 3A3CB5A6 -bao dists/unstable/Release.gpg dists/unstable/Release'|
  ssh foo@www.example.com  2&gt;/dev/null ;
  echo 'Package archive created!'";</screen>
        <simpara>The <emphasis role="strong">postupload</emphasis> hook script initiated by <literal>dupload</literal>(1) creates updated archive files for each upload.</simpara>
        <simpara>You can add this small public archive to the apt-line of your client system by the following.</simpara>
        <screen>$ sudo bash
# echo "deb http://www.example.com/~foo/debian/ unstable main" \
   &gt;&gt; /etc/apt/sources.list
# apt-key add foo.public.key</screen>
        <tip>
          <simpara>If the archive is located on the local filesystem, you can use "<literal>deb file:///home/foo/debian/ …</literal>" instead.</simpara>
        </tip>
      </section>
      <section id="_recording_and_copying_system_configuration">
        <title>Recording and copying system configuration</title>
        <simpara>You can make a local copy of the package and debconf selection states by the following.</simpara>
        <screen># dpkg --get-selections '*' &gt; selection.dpkg
# debconf-get-selections    &gt; selection.debconf</screen>
        <simpara>Here, "<literal>*</literal>" makes "<literal>selection.dpkg</literal>" to include package entries for "purge" too.</simpara>
        <simpara>You can transfer these 2 files to another computer, and install there with the following.</simpara>
        <screen># dselect update
# debconf-set-selections &lt; myselection.debconf
# dpkg --set-selections  &lt; myselection.dpkg
# apt-get -u dselect-upgrade    # or dselect install</screen>
        <simpara>If you are thinking about managing many servers in a cluster with practically the same configuration, you should consider to use specialized package such as <literal>fai</literal> to manage the whole system.</simpara>
      </section>
      <section id="_converting_or_installing_an_alien_binary_package">
        <title>Converting or installing an alien binary package</title>
        <simpara><literal>alien</literal>(1) enables the conversion of binary packages provided in Red Hat <literal>rpm</literal>, Stampede <literal>slp</literal>, Slackware <literal>tgz</literal>, and Solaris <literal>pkg</literal> file formats into a Debian <literal>deb</literal> package.  If you want to use a package from another Linux distribution than the one you have installed on your system, you can use <literal>alien</literal> to convert it from your preferred package format and install it.  <literal>alien</literal> also supports LSB packages.</simpara>
        <warning>
          <simpara><literal>alien</literal>(1) should not be used to replace essential system packages, such as <literal>sysvinit</literal>, <literal>libc6</literal>, <literal>libpam-modules</literal>, etc.  Practically, <literal>alien</literal>(1) should only used for <emphasis role="strong">non-free</emphasis> binary-only packages which are LSB complient or statically linked.  For free softwares, you should use their source packages to make real Debian packages.</simpara>
        </warning>
      </section>
      <section id="_extracting_package_without_dpkg">
        <title>Extracting package without dpkg</title>
        <simpara>The current "<literal>*.deb</literal>" package contents can be extracted without using <literal>dpkg</literal>(1) on any <ulink url="&unixlike;">Unix-like</ulink> environment using standard <literal>ar</literal>(1) and <literal>tar</literal>(1).</simpara>
        <screen># ar x /path/to/dpkg_&lt;version&gt;_&lt;arch&gt;.deb
# ls
total 24
-rw-r--r-- 1 bozo bozo  1320 2007-05-07 00:11 control.tar.gz
-rw-r--r-- 1 bozo bozo 12837 2007-05-07 00:11 data.tar.gz
-rw-r--r-- 1 bozo bozo     4 2007-05-07 00:11 debian-binary
# mkdir control
# mkdir data
# tar xvzf control.tar.gz -C control
# tar xvzf data.tar.gz -C data</screen>
        <simpara>You can also browse package content using the <literal>mc</literal> command.</simpara>
      </section>
      <section id="_more_readings_for_the_package_management">
        <title>More readings for the package management</title>
        <simpara>You can learn more on the package management from following documentations.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
Primary documentations on the package management:
</simpara>
            <itemizedlist>
              <listitem>
                <simpara><literal>aptitude</literal>(8), <literal>dpkg</literal>(1), <literal>tasksel</literal>(8), <literal>apt-get</literal>(8), <literal>apt-config</literal>(8), <literal>apt-key</literal>(8), <literal>sources.list</literal>(5), <literal>apt.conf</literal>(5), and <literal>apt_preferences</literal>(5);
</simpara>
              </listitem>
              <listitem>
                <simpara>
"<literal>/usr/share/doc/apt-doc/guide.html/index.html</literal>" and "<literal>/usr/share/doc/apt-doc/offline.html/index.html</literal>" from the <literal>apt-doc</literal> package; and
</simpara>
              </listitem>
              <listitem>
                <simpara>
"<literal>/usr/share/doc/aptitude/html/en/index.html</literal>" from the <literal>aptitude-doc-en</literal> package.
</simpara>
              </listitem>
            </itemizedlist>
          </listitem>
          <listitem>
            <simpara>
Official and detailed documentations on the Debian archive:
</simpara>
            <itemizedlist>
              <listitem>
                <simpara><ulink url="&debianpolicymanuthedebianarchive;">"Debian Policy Manual Chapter 2 - The Debian Archive"</ulink>,
</simpara>
              </listitem>
              <listitem>
                <simpara><ulink url="&debiandevelopersthedebianarchive;">"Debian Developer's Reference, Chapter 4 - Resources for Debian Developers 4.6 The Debian archive"</ulink>, and
</simpara>
              </listitem>
              <listitem>
                <simpara><ulink url="&thedebiangnulinuebianftparchives;">"The Debian GNU/Linux FAQ, Chapter 5 - The Debian FTP archives"</ulink>.
</simpara>
              </listitem>
            </itemizedlist>
          </listitem>
          <listitem>
            <simpara>
Tutorial for building of a Debian package for Debian users:
</simpara>
            <itemizedlist>
              <listitem>
                <simpara><ulink url="&debiannewmaintainersguide;">"Debian New Maintainers' Guide"</ulink>.
</simpara>
              </listitem>
            </itemizedlist>
          </listitem>
        </itemizedlist>
      </section>
    </section>
  </chapter>
  <chapter id="_the_system_initialization">
    <title>The system initialization</title>
    <simpara>It is wise for you as the system administrator to know roughly how the Debian system is started and configured.  Although the exact details are in the source files of the packages installed and their documentations, it is a bit overwhelming for most of us.</simpara>
    <simpara>I did my best to provide a quick overview of the key points of the Debian system and their configuration for your reference, based on the current and previous knowledge of mine and others. Since the Debian system is a moving target, the situation over the system may have been changed.  Before making any changes to the system, you should refer to the latest documentation for each package.</simpara>
    <section id="_an_overview_of_the_boot_strap_process">
      <title>An overview of the boot strap process</title>
      <simpara>The computer system undergoes several phases of <ulink url="&bootstrapprocesses;">boot strap processes</ulink> from the power-on event until it offers the fully functional operating system (OS) to the user.</simpara>
      <simpara>For simplicity, I will limit discussion to the typical PC platform with the default installation.</simpara>
      <simpara>The typical boot strap process is like a four-stage rocket.  Each stage rocket hands over the system control to the next stage one.</simpara>
      <itemizedlist>
        <listitem>
          <simpara>
            <xref linkend="_stage_1_the_bios"/>
          </simpara>
        </listitem>
        <listitem>
          <simpara>
            <xref linkend="_stage_2_the_boot_loader"/>
          </simpara>
        </listitem>
        <listitem>
          <simpara>
            <xref linkend="_stage_3_the_mini_debian_system"/>
          </simpara>
        </listitem>
        <listitem>
          <simpara>
            <xref linkend="_stage_4_the_normal_debian_system"/>
          </simpara>
        </listitem>
      </itemizedlist>
      <simpara>Of course, these can be configured differently.  For example, if you compiled your own kernel, you may be skipping the step with the mini-Debian system.  So please do not assume this is the case for your system until you check it yourself.</simpara>
      <note>
        <simpara>For non-legacy PC platform such as the SUN or the Macintosh system, the BIOS on ROM and the partition on the disk may be quite different (<xref linkend="_disk_partition_configuration"/>).  Please seek the platform specific documentations elsewhere for such a case.</simpara>
      </note>
    </section>
    <section id="_stage_1_the_bios">
      <title>Stage 1: the BIOS</title>
      <simpara>The <ulink url="&bios;">BIOS</ulink> is the 1st stage of the boot process which is started by the power-on event. The <ulink url="&bios;">BIOS</ulink> residing on the <ulink url="&readonlymemoryrom;">read only memory (ROM)</ulink> is excuted from the particular memory address to which the program counter of CPU is initialized by the power-on event.</simpara>
      <simpara>This BIOS performs the basic initialization of the hardware (<ulink url="&postpoweronselftest;">POST: power on self test</ulink>) and hands the system control to the next step which you provide.  The BIOS is usually provided with the hardware.</simpara>
      <simpara>The BIOS startup screen usually indicates what key(s) to press to enter the BIOS setup screen to configure the BIOS behavior. Popular keys used are F1, F2, F10, Esc, Ins, and Del. If your BIOS startup screen is hidden by a nice graphics screen, you may press some keys such as Esc to disable this.  These keys are highly dependent on the hardware.</simpara>
      <simpara>The hardware location and the priority of the code started by the BIOS can be selected from the BIOS setup screen.  Typically, the first few sectors of the first found selected device (hard disk, floppy disk, CD-ROM, …) are loaded to the memory and this initial code is executed.  This initial code can be any one of the following.</simpara>
      <itemizedlist>
        <listitem>
          <simpara>
The boot loader code
</simpara>
        </listitem>
        <listitem>
          <simpara>
The kernel code of the stepping stone OS such as <ulink url="&freedos;">FreeDOS</ulink>
</simpara>
        </listitem>
        <listitem>
          <simpara>
The kernel code of the target OS if it fits in this small space
</simpara>
        </listitem>
      </itemizedlist>
      <simpara>Typically, the system is booted from the specified partition of the primary hard disk partition. First 2 sectors of the hard disk on legacy PC contain the <ulink url="&masterbootrecordmbr;">master boot record (MBR)</ulink>.  The disk partition information including the boot selection is recorded at the end of this MBR. The first boot loader code executed from the BIOS occupies the rest of this MBR.</simpara>
    </section>
    <section id="_stage_2_the_boot_loader">
      <title>Stage 2: the boot loader</title>
      <simpara>The <ulink url="&bootloader;">boot loader</ulink> is the 2nd stage of the boot process which is started by the BIOS.  It loads the system kernel image and the <ulink url="&initrd;">initrd</ulink> image to the memory and hands control over to them.  This initrd image is the root filesystem image and its support depends on the bootloader used.</simpara>
      <simpara>The Debian system normally uses the Linux kernel as the default system kernel. The initrd image for the current 2.6 Linux kernel is technically the initramfs (initial RAM filesystem) image. The initramfs image is a gzipped cpio archive of files in the root filesystem.</simpara>
      <simpara>The default install of the Debian system places first-stage GRUB boot loader code into the <ulink url="&mbr;">MBR</ulink> for the PC platform. There are many boot loaders and configuration options available.</simpara>
      <table id="listofbootloaders" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>List of boot loaders</title>
        <tgroup cols="6">
          <colspec colwidth="10%*" align="left"/>
          <colspec colwidth="10%*" align="left"/>
          <colspec colwidth="10%*" align="left"/>
          <colspec colwidth="10%*" align="left"/>
          <colspec colwidth="10%*" align="left"/>
          <colspec colwidth="50%*" align="left"/>
          <thead>
            <row>
              <entry>
    bootloader
    </entry>
              <entry>
    package
    </entry>
              <entry>
    popcon
    </entry>
              <entry>
    size
    </entry>
              <entry>
    initrd
    </entry>
              <entry>
    description
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry>
                <ulink url="&grublegacy;">GRUB Legacy</ulink>
              </entry>
              <entry><ulink url="http://packages.debian.org/sid/grub">
    grub
    </ulink> <ulink url="http://bugs.debian.org/grub">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=grub">&pop-grub;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/g/grub.html">&size-grub;</ulink></entry>
              <entry>
    Supported
    </entry>
              <entry>
    This is smart enough to understand disk partitions and filesystems such as vfat, ext3, …. (<literal>lenny</literal> default)
    </entry>
            </row>
            <row>
              <entry>
                <ulink url="&grubc;">GRUB 2</ulink>
              </entry>
              <entry><ulink url="http://packages.debian.org/sid/grub-pc">
    grub-pc
    </ulink> <ulink url="http://bugs.debian.org/grub-pc">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=grub-pc">&pop-grubpc;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/g/grub-pc.html">&size-grubpc;</ulink></entry>
              <entry>
    Supported
    </entry>
              <entry>
    This is smart enough to understand disk partitions and filesystems such as vfat, ext3, ….
    </entry>
            </row>
            <row>
              <entry>
                <ulink url="&grubc;">GRUB 2</ulink>
              </entry>
              <entry><ulink url="http://packages.debian.org/sid/grub-rescue-pc">
    grub-rescue-pc
    </ulink> <ulink url="http://bugs.debian.org/grub-rescue-pc">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=grub-rescue-pc">&pop-grubrescuepc;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/g/grub-rescue-pc.html">&size-grubrescuepc;</ulink></entry>
              <entry>
    Supported
    </entry>
              <entry>
    This is GRUB 2 bootable rescue images (CD and floppy) (PC/BIOS version)
    </entry>
            </row>
            <row>
              <entry>
                <ulink url="&lilo;">Lilo</ulink>
              </entry>
              <entry><ulink url="http://packages.debian.org/sid/lilo">
    lilo
    </ulink> <ulink url="http://bugs.debian.org/lilo">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=lilo">&pop-lilo;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/l/lilo.html">&size-lilo;</ulink></entry>
              <entry>
    Supported
    </entry>
              <entry>
    This relies on the sector locations of data on the hard disk. (Old)
    </entry>
            </row>
            <row>
              <entry>
                <ulink url="&isolinux;">Isolinux</ulink>
              </entry>
              <entry><ulink url="http://packages.debian.org/sid/syslinux">
    syslinux
    </ulink> <ulink url="http://bugs.debian.org/syslinux">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=syslinux">&pop-syslinux;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/s/syslinux.html">&size-syslinux;</ulink></entry>
              <entry>
    Supported
    </entry>
              <entry>
    This understands the ISO9660 filesystem.  This is used by the boot CD.
    </entry>
            </row>
            <row>
              <entry>
                <ulink url="&syslinux;">Syslinux</ulink>
              </entry>
              <entry><ulink url="http://packages.debian.org/sid/syslinux">
    syslinux
    </ulink> <ulink url="http://bugs.debian.org/syslinux">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=syslinux">&pop-syslinux;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/s/syslinux.html">&size-syslinux;</ulink></entry>
              <entry>
    Supported
    </entry>
              <entry>
    This understands the <ulink url="&msdosfilesystemfat;">MSDOS filesystem (FAT)</ulink>.  This is used by the boot floppy.
    </entry>
            </row>
            <row>
              <entry>
                <ulink url="&loadlin;">Loadlin</ulink>
              </entry>
              <entry><ulink url="http://packages.debian.org/sid/loadlin">
    loadlin
    </ulink> <ulink url="http://bugs.debian.org/loadlin">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=loadlin">&pop-loadlin;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/l/loadlin.html">&size-loadlin;</ulink></entry>
              <entry>
    Supported
    </entry>
              <entry>
    New system is started from the FreeDOS/MSDOS system.
    </entry>
            </row>
            <row>
              <entry>
                <ulink url="&mbrbyneilturton;">MBR by Neil Turton</ulink>
              </entry>
              <entry><ulink url="http://packages.debian.org/sid/mbr">
    mbr
    </ulink> <ulink url="http://bugs.debian.org/mbr">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=mbr">&pop-mbr;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/m/mbr.html">&size-mbr;</ulink></entry>
              <entry>
    Not supported
    </entry>
              <entry>
    This is free software which substitutes MSDOS <ulink url="&mbr;">MBR</ulink>.  This only understands disk partitions.
    </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <warning>
        <simpara>Do not play with boot loaders without having bootable rescue media (CD or floppy) created from images in the <literal>grub-rescue-pc</literal> package.  It will let you boot your system even without functioning bootloader on the hard disk.</simpara>
      </warning>
      <simpara>For GRUB Legacy, the menu configuration file is located at "<literal>/boot/grub/menu.lst</literal>".  For example, it has entries as the following.</simpara>
      <screen>title           Debian GNU/Linux
root            (hd0,2)
kernel          /vmlinuz root=/dev/hda3 ro
initrd          /initrd.img</screen>
      <simpara>For GRUB 2, the menu configuration file is located at "<literal>/boot/grub/grub.cfg</literal>". It is automatically generated by "<literal>/usr/sbin/update-grub</literal>" using templates from "<literal>/etc/grub.d/*</literal>" and settings from "<literal>/etc/default/grub</literal>".  For example, it has entries as the following.</simpara>
      <screen>menuentry "Debian GNU/Linux" {
        set root=(hd0,3)
        linux /vmlinuz root=/dev/hda3
        initrd /initrd.img
}</screen>
      <simpara>For these examples, these GRUB parameters mean the following.</simpara>
      <table id="themeaningofgrubparameters" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>The meaning of GRUB parameters</title>
        <tgroup cols="2">
          <colspec colwidth="30%*" align="left"/>
          <colspec colwidth="70%*" align="left"/>
          <thead>
            <row>
              <entry>
    GRUB parameter
    </entry>
              <entry>
    meaning
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry>
                <literal>root</literal>
              </entry>
              <entry>
    use 3rd partition on the primary disk by setting it as "<literal>(hd0,2)</literal>" in GRUB legacy or as "<literal>(hd0,3)</literal>" in GRUB 2
    </entry>
            </row>
            <row>
              <entry>
                <literal>kernel</literal>
              </entry>
              <entry>
    use kernel located at "<literal>/vmlinuz</literal>" with kernel parameter: "<literal>root=/dev/hda3 ro</literal>"
    </entry>
            </row>
            <row>
              <entry>
                <literal>initrd</literal>
              </entry>
              <entry>
    use <ulink url="&initrdinitramfs;">initrd/initramfs</ulink> image located at "<literal>/initrd.img</literal>"
    </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <note>
        <simpara>The value of the partition number used by GRUB legacy program is one less than normal one used by Linux kernel and utility tools.  GRUB 2 program fixes this problem.</simpara>
      </note>
      <tip>
        <simpara><ulink url="&uuid;">UUID</ulink> (see <xref linkend="_accessing_partition_using_uuid"/>) may be used to identify a block special device instead of its file name such as "<literal>/dev/hda3</literal>", e.g."<literal>root=UUID=81b289d5-4341-4003-9602-e254a17ac232 ro</literal>".</simpara>
      </tip>
      <tip>
        <simpara>You can start a boot loader from another boot loader using techniques called <ulink url="&chainloading;">chain loading</ulink>.</simpara>
      </tip>
      <simpara>See "<literal>info grub</literal>" and <literal>grub-install</literal>(8).</simpara>
    </section>
    <section id="_stage_3_the_mini_debian_system">
      <title>Stage 3: the mini-Debian system</title>
      <simpara>The mini-Debian system is the 3rd stage of the boot process which is started by the boot loader.  It runs the system kernel with its root filesystem on the memory. This is an optional preparatory stage of the boot process.</simpara>
      <note>
        <simpara>The term "the mini-Debian system" is coined by the author to describe this 3rd stage boot process for this document.  This system is commonly referred as the <ulink url="&initrd;">initrd</ulink> or initramfs system. Similar system on the memory is used by <ulink url="&thedebianinstaller;">the Debian Installer</ulink>.</simpara>
      </note>
      <simpara>The "<literal>/init</literal>" script is executed as the first program in this root filesystem on the memory.  It is a shell script program which initializes the kernel in user space and hands control over to the next stage. This mini-Debian system offers flexibility to the boot process such as adding kernel modules before the main boot process or mounting the root filesystem as an encrypted one.</simpara>
      <simpara>You can interrupt this part of the boot process to gain root shell by providing "<literal>break=init</literal>" etc. to the kernel boot parameter. See the "<literal>/init</literal>" script for more break conditions.  This shell environment is sophisticated enough to make a good inspection of your machine's hardware.</simpara>
      <simpara>Commands available in this mini-Debian system are stripped down ones and mainly provided by a GNU tool called <literal>busybox</literal>(1).</simpara>
      <caution>
        <simpara>You need to use "<literal>-n</literal>" option for <literal>mount</literal> command when you are on the readonly root filesystem.</simpara>
      </caution>
    </section>
    <section id="_stage_4_the_normal_debian_system">
      <title>Stage 4: the normal Debian system</title>
      <simpara>The normal Debian system is the 4th stage of the boot process which is started by the mini-Debian system.  The system kernel for the mini-Debian system continues to run in this environment. The root filesystem is switched from the one on the memory to the one on the real hard disk filesystem.</simpara>
      <simpara>The "<literal>/sbin/init</literal>" program is executed as the first program and performs the main boot process. The Debian normally uses the traditional sysvinit scheme with the <literal>sysv-rc</literal> package.  See <literal>init</literal>(8), <literal>inittab</literal>(5), and "<literal>/usr/share/doc/sysv-rc/README.runlevels.gz</literal>" for the exact explanation.  This main boot process essentialy goes through the following.</simpara>
      <orderedlist>
        <listitem>
          <simpara>
The Debian system goes into <emphasis role="strong">runlevel N</emphasis> (none) to initialize the system by following the "<literal>/etc/inittab</literal>" description.
</simpara>
        </listitem>
        <listitem>
          <simpara>
The Debian system goes into <emphasis role="strong">runlevel S</emphasis> to initialize the system under the single-user mode to complete hardware initialization etc.
</simpara>
        </listitem>
        <listitem>
          <simpara>
The Debian system goes into one of the specified <emphasis role="strong">multi-user runlevels (2 to 5)</emphasis> to start the system services.
</simpara>
        </listitem>
      </orderedlist>
      <simpara>The initial runlevel used for multi-user mode is specified with the "<literal>init=</literal>" kernel boot parameter or in the "initdefault" line of the "<literal>/etc/inittab</literal>". The Debian system as installed starts at the <emphasis role="strong">runlevel 2</emphasis>.</simpara>
      <simpara>All scripts executed by the init system are located in the directory "<literal>/etc/init.d/</literal>".</simpara>
      <tip>
        <simpara>For alternative boot mechanism to the <literal>sysv-rc</literal> package using a single configuration file "<literal>/etc/runlevel.conf</literal>", see the <literal>file-rc</literal> package. Both mechanisms are compatible through "<literal>/etc/init.d/rc</literal>", "<literal>/etc/init.d/rcS</literal>", "<literal>/usr/sbin/update-rc.d</literal>", and "<literal>/usr/sbin/invoke-rc.d</literal>" scripts.</simpara>
      </tip>
      <section id="_the_meaning_of_the_runlevel">
        <title>The meaning of the runlevel</title>
        <simpara>Each <ulink url="&runlevel;">runlevel</ulink> uses a directory for its configuration and has specific meaning as the following.</simpara>
        <table id="listofrunlevelsationoftheirusage" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of runlevels and description of their usage</title>
          <tgroup cols="3">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="40%*" align="left"/>
            <thead>
              <row>
                <entry>
    runlevel
    </entry>
                <entry>
    directory
    </entry>
                <entry>
    description of runlevel usage
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>N</literal>
                </entry>
                <entry>
    none
    </entry>
                <entry>
    system bootup (NONE) level (no "<literal>/etc/rcN.d/</literal>" directory)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>0</literal>
                </entry>
                <entry>
                  <literal>/etc/rc0.d/</literal>
                </entry>
                <entry>
    halt the system
    </entry>
              </row>
              <row>
                <entry>
                  <literal>S</literal>
                </entry>
                <entry>
                  <literal>/etc/rcS.d/</literal>
                </entry>
                <entry>
    single-user mode on boot (alias: "<literal>s</literal>")
    </entry>
              </row>
              <row>
                <entry>
                  <literal>1</literal>
                </entry>
                <entry>
                  <literal>/etc/rc1.d/</literal>
                </entry>
                <entry>
    single-user mode switched from multi-user mode
    </entry>
              </row>
              <row>
                <entry>
                  <literal>2</literal>
                </entry>
                <entry>
                  <literal>/etc/rc2.d/</literal>
                </entry>
                <entry>
    multi-user mode
    </entry>
              </row>
              <row>
                <entry>
                  <literal>3</literal>
                </entry>
                <entry>
                  <literal>/etc/rc3.d/</literal>
                </entry>
                <entry>
    ,,
    </entry>
              </row>
              <row>
                <entry>
                  <literal>4</literal>
                </entry>
                <entry>
                  <literal>/etc/rc4.d/</literal>
                </entry>
                <entry>
    ,,
    </entry>
              </row>
              <row>
                <entry>
                  <literal>5</literal>
                </entry>
                <entry>
                  <literal>/etc/rc5.d/</literal>
                </entry>
                <entry>
    ,,
    </entry>
              </row>
              <row>
                <entry>
                  <literal>6</literal>
                </entry>
                <entry>
                  <literal>/etc/rc6.d/</literal>
                </entry>
                <entry>
    reboot the system
    </entry>
              </row>
              <row>
                <entry>
                  <literal>7</literal>
                </entry>
                <entry>
                  <literal>/etc/rc7.d/</literal>
                </entry>
                <entry>
    valid multi-user mode but not normally used
    </entry>
              </row>
              <row>
                <entry>
                  <literal>8</literal>
                </entry>
                <entry>
                  <literal>/etc/rc8.d/</literal>
                </entry>
                <entry>
    ,,
    </entry>
              </row>
              <row>
                <entry>
                  <literal>9</literal>
                </entry>
                <entry>
                  <literal>/etc/rc9.d/</literal>
                </entry>
                <entry>
    ,,
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>You can change the runlevel from the console to, e.g., 4 by the following.</simpara>
        <screen>$ sudo telinit 4</screen>
        <caution>
          <simpara><emphasis role="strong">The Debian system does not pre-assign any special meaning differences among the <ulink url="&runlevels;">runlevels</ulink> between 2 and 5.</emphasis> The system administrator on the Debian system may change this.  (I.e., Debian is not <ulink url="&redhatlinux;">Red Hat Linux</ulink> nor <ulink url="&solarisbysunmicrosystems;">Solaris by Sun Microsystems</ulink> nor <ulink url="&hpuxbyhewlettpackard;">HP-UX by Hewlett Packard</ulink> nor <ulink url="&aixbyibm;">AIX by IBM</ulink> nor …)</simpara>
        </caution>
        <caution>
          <simpara>The Debian system does not populate directories for the <ulink url="&runlevels;">runlevels</ulink> between 7 and 9 when the package is installed.  Traditional <ulink url="&unixvariants;">Unix variants</ulink> don’t use these <ulink url="&runlevels;">runlevels</ulink>.</simpara>
        </caution>
      </section>
      <section id="_the_configuration_of_the_runlevel">
        <title>The configuration of the runlevel</title>
        <simpara>The names of the symlinks in the runlevel directories have the form "<literal>S&lt;2-digit-number&gt;&lt;original-name&gt;</literal>" or "<literal>K&lt;2-digit-number&gt;&lt;original-name&gt;</literal>". The 2-digit-number is used to determine the order in which to run the scripts. "<literal>S</literal>" is for "Start" and "<literal>K</literal>" is for "Kill".</simpara>
        <simpara>When <literal>init</literal>(8) or <literal>telinit</literal>(8) commands goes into the runlevel to "&lt;n&gt;", it execute following scripts.</simpara>
        <orderedlist>
          <listitem>
            <simpara>
The script names starting with a "<literal>K</literal>" in "<literal>/etc/rc&lt;n&gt;.d/</literal>" are executed in alphabetical order with the single argument "<literal>stop</literal>". (killing services)
</simpara>
          </listitem>
          <listitem>
            <simpara>
The script names starting with an "<literal>S</literal>" in "<literal>/etc/rc&lt;n&gt;.d/</literal>" are executed in alphabetical order with the single argument "<literal>start</literal>". (starting services)
</simpara>
          </listitem>
        </orderedlist>
        <simpara>For example, if you had the links "<literal>S10sysklogd</literal>" and "<literal>S20exim4</literal>" in a runlevel directory, "<literal>S10sysklogd</literal>" would run before "<literal>S20exim4</literal>".</simpara>
        <warning>
          <simpara>It is not advisable to make any changes to symlinks in "<literal>/etc/rcS.d/</literal>" unless you know better than the maintainer.</simpara>
        </warning>
      </section>
      <section id="_the_runlevel_management_example">
        <title>The runlevel management example</title>
        <simpara>For example, let's set up runlevel system somewhat like <ulink url="&redhatlinux;">Red Hat Linux</ulink> as the folowing.</simpara>
        <itemizedlist>
          <listitem>
            <simpara><literal>init</literal> starts the system in runlevel=3 as the default.
</simpara>
          </listitem>
          <listitem>
            <simpara><literal>init</literal> does not start <literal>gdm</literal>(1) in runlevel=(0,1,2,6).
</simpara>
          </listitem>
          <listitem>
            <simpara><literal>init</literal> starts <literal>gdm</literal>(1) in runlevel=(3,4,5).
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>This can be done by using editor on the "<literal>/etc/inittab</literal>" file to change starting runlevel and using user friendly runlevel management tools such as <literal>sysv-rc-conf</literal> or <literal>bum</literal> to edit the runlevel.  If you are to use command line only instead, here is how you do it (after the default installation of the <literal>gdm</literal> package and selecting it to be the choice of display manager).</simpara>
        <screen># cd /etc/rc2.d ; mv S21gdm K21gdm
# cd /etc ; perl -i -p -e 's/^id:.:/id:3:/' inittab</screen>
        <simpara>Please note the "<literal>/etc/X11/default-display-manager</literal>" file is checked when starting the display manager daemons: <literal>xdm</literal>, <literal>gdm</literal>, <literal>kdm</literal>, and <literal>wdm</literal>.</simpara>
        <note>
          <simpara>You can still start X from any console shell with the <literal>startx</literal>(1) command.</simpara>
        </note>
      </section>
      <section id="_the_default_parameter_for_each_init_script">
        <title>The default parameter for each init script</title>
        <simpara>The default parameter for each init script in "<literal>/etc/init.d/</literal>" is given by the corresponding file in "<literal>/etc/default/</literal>" which contains environment variable assignments <emphasis role="strong">only</emphasis>. This choice of directory name is specific to the Debian system.  It is roughly the equivalent of the "<literal>/etc/sysconfig</literal>" directory found in <ulink url="&redhatlinux;">Red Hat Linux</ulink> and other distributions.  For example, "<literal>/etc/default/cron</literal>" can be used to control how "<literal>/etc/init.d/cron</literal>" works.</simpara>
        <simpara>The "<literal>/etc/default/rcS</literal>" file can be used to customize boot-time defaults for <literal>motd</literal>(5), <literal>sulogin</literal>(8), etc.</simpara>
        <simpara>If you cannot get the behavior you want by changing such variables then you may <ulink url="&modifytheinitscripts;">modify the init scripts</ulink> themselves.  These are configuration files editable by system administrators.</simpara>
      </section>
      <section id="_the_hostname">
        <title>The hostname</title>
        <simpara>The kernel maintains the system <emphasis role="strong">hostname</emphasis>.  The initscript "<literal>/etc/init.d/hostname.sh</literal>" sets the system hostname at boot time (using the <literal>hostname</literal> command) to the name stored in "<literal>/etc/hostname</literal>".  This file should contain <emphasis role="strong">only</emphasis> the system hostname, not a fully qualified domain name.</simpara>
        <simpara>To print out the current hostname run <literal>hostname</literal>(1) without an argument.</simpara>
      </section>
      <section id="_network_interface_initialization">
        <title>Network interface initialization</title>
        <simpara>Network interfaces are initialized under single-user mode on boot by the initscript "<literal>/etc/init.d/ifupdown-clean</literal>" and "<literal>/etc/init.d/ifupdown</literal>".  See <xref linkend="_network_setup"/> for how to configure them.</simpara>
      </section>
      <section id="_network_service_initialization">
        <title>Network service initialization</title>
        <simpara>Many network services (see <xref linkend="_network_applications"/>) are started directly as daemon processes at boot time by the initscript, e.g., "<literal>/etc/rc2.d/S20exim4</literal>" (for RUNLEVEL=2) which is a symlink to "<literal>/etc/init.d/exim4</literal>".</simpara>
        <simpara>Some network services can be started on demand using the <ulink url="&superserver;">super-server</ulink>, <literal>inetd</literal> (or its equivalents).  The <literal>inetd</literal> is started at boot time by "<literal>/etc/rc2.d/S20inetd</literal>" (for RUNLEVEL=2) which is a symlink to "<literal>/etc/init.d/inetd</literal>".  Essentially, <literal>inetd</literal> allows one running daemon to invoke several others, reducing load on the system.</simpara>
        <simpara>Whenever a request for service arrives, its protocol and service are identified by looking them up in the databases in "<literal>/etc/protocols</literal>" and "<literal>/etc/services</literal>".  <literal>inetd</literal> then looks up a normal Internet service in the "<literal>/etc/inetd.conf</literal>" database, or a <ulink url="&opennetworkcompucalloncrpcsunrpc;">Open Network Computing Remote Procedure Call (ONC RPC)/Sun RPC</ulink> based service in "<literal>/etc/rpc.conf</literal>".</simpara>
        <simpara>For system security, make sure to disable unused services in "<literal>/etc/inetd.conf</literal>".  Sun-RPC services need to be active for NFS and other RPC-based programs.</simpara>
        <simpara>Sometimes, <literal>inetd</literal> does not start the intended server directly but starts the <ulink url="&tcpwrapper;">TCP wrapper</ulink>, <literal>tcpd</literal>,  with the intended server name as its argument in "<literal>/etc/inetd.conf</literal>".  In this case, <literal>tcpd</literal> runs the appropriate server program after logging the request and doing some additional checks using "<literal>/etc/hosts.deny</literal>" and "<literal>/etc/hosts.allow</literal>".</simpara>
        <simpara>If you have problems with remote access in a recent Debian system, comment out "ALL: PARANOID" in "<literal>/etc/hosts.deny</literal>" if it exists.  (But you must be careful on security risks involved with this kind of action.)</simpara>
        <simpara>For details, see <literal>inetd</literal>(8), <literal>inetd.conf</literal>(5), <literal>protocols</literal>(5), <literal>services</literal>(5), <literal>tcpd</literal>(8), <literal>hosts_access</literal>(5), and <literal>hosts_options</literal>(5).</simpara>
        <simpara>For more information on Sun-RPC, see <literal>rpcinfo</literal>(8), <literal>portmap</literal>(8), and "<literal>/usr/share/doc/portmap/portmapper.txt.gz</literal>".</simpara>
      </section>
      <section id="_the_system_message">
        <title>The system message</title>
        <simpara>The system message can be customized by "<literal>/etc/syslog.conf</literal>" for both the log file and on-screen display. See <literal>syslogd</literal>(8) and <literal>syslog.conf</literal>(5).  See also <xref linkend="_log_analyzer"/>.</simpara>
      </section>
      <section id="_the_kernel_message">
        <title>The kernel message</title>
        <simpara>The kernel message can be customized by "<literal>/etc/init.d/klogd</literal>" for both the log file and on-screen display.  Set "<literal>KLOGD='-c 3'</literal>" in this script and run "<literal>/etc/init.d/klogd restart</literal>".  See <literal>klogd</literal>(8).</simpara>
        <simpara>You may directly change the error message level by the following.</simpara>
        <screen># dmesg -n3</screen>
        <table id="listofkernelerrorlevels" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of kernel error levels</title>
          <tgroup cols="3">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="40%*" align="left"/>
            <thead>
              <row>
                <entry>
    error level value
    </entry>
                <entry>
    error level name
    </entry>
                <entry>
    meaning
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
    0
    </entry>
                <entry>
    KERN_EMERG
    </entry>
                <entry>
    system is unusable
    </entry>
              </row>
              <row>
                <entry>
    1
    </entry>
                <entry>
    KERN_ALERT
    </entry>
                <entry>
    action must be taken immediately
    </entry>
              </row>
              <row>
                <entry>
    2
    </entry>
                <entry>
    KERN_CRIT
    </entry>
                <entry>
    critical conditions
    </entry>
              </row>
              <row>
                <entry>
    3
    </entry>
                <entry>
    KERN_ERR
    </entry>
                <entry>
    error conditions
    </entry>
              </row>
              <row>
                <entry>
    4
    </entry>
                <entry>
    KERN_WARNING
    </entry>
                <entry>
    warning conditions
    </entry>
              </row>
              <row>
                <entry>
    5
    </entry>
                <entry>
    KERN_NOTICE
    </entry>
                <entry>
    normal but significant condition
    </entry>
              </row>
              <row>
                <entry>
    6
    </entry>
                <entry>
    KERN_INFO
    </entry>
                <entry>
    informational
    </entry>
              </row>
              <row>
                <entry>
    7
    </entry>
                <entry>
    KERN_DEBUG
    </entry>
                <entry>
    debug-level messages
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </section>
      <section id="_the_udev_system">
        <title>The udev system</title>
        <simpara>For Linux kernel 2.6, <ulink url="&theudevsystem;">the udev system</ulink> provides mechanism for the automatic hardware discovery and initialization (see <literal>udev</literal>(7)). Upon discovery of each device by the kernel, the udev system starts a user process which uses information from the <ulink url="&sysfs;">sysfs</ulink> filesystem (see <xref linkend="_procfs_and_sysfs"/>), loads required kernel modules supporting it using the <literal>modprobe</literal>(8) program (see <xref linkend="_the_kernel_module_initialization"/>), and creates corresponding device nodes.</simpara>
        <tip>
          <simpara>If "<literal>/lib/modules/&lt;kernel-version&gt;/modules.dep</literal>" was not generated properly by <literal>depmod</literal>(8) for some reason, modules may not be loaded as expected by the udev system. Execute "<literal>depmod -a</literal>" to fix it.</simpara>
        </tip>
        <simpara>The name of device nodes can be configured by files in "<literal>/etc/udev/rules.d/</literal>" (see "<literal>/usr/share/doc/udev/writing_udev_rules/index.html</literal>").</simpara>
        <simpara>Since the udev system is somewhat a moving target, I leave details to other documentations and describe the minimum information here.</simpara>
      </section>
      <section id="_the_kernel_module_initialization">
        <title>The kernel module initialization</title>
        <simpara>The <literal>modprobe</literal>(8) program enables us to configure running Linux kernel from user process by adding and removing kernel modules.  The udev system (see <xref linkend="_the_udev_system"/>) automates its invocation to help the kernel module initialization.</simpara>
        <simpara>There are non-hardware modules and special hardware driver modules as the following which need to be pre-loaded by listing them in the "<literal>/etc/modules</literal>" file (see <literal>modules</literal>(5)).</simpara>
        <itemizedlist>
          <listitem>
            <simpara><ulink url="&tuntap;">TUN/TAP</ulink> modules providing virtual Point-to-Point network device (TUN) and virtual Ethernet network device (TAP),
</simpara>
          </listitem>
          <listitem>
            <simpara><ulink url="&netfilter;">netfilter</ulink> modules providing netfilter firewall capabilities (<literal>iptables</literal>(8), <xref linkend="_netfilter_infrastructure"/>), and
</simpara>
          </listitem>
          <listitem>
            <simpara><ulink url="&watchdogtimer;">watchdog timer</ulink> driver modules.
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>The configuration files for the <literal>modprobe</literal>(8) program are located under the "<literal>/etc/modprobes.d/</literal>" directory as explained in <literal>modprobe.conf</literal>(5).   (If you want to avoid some kernel modules to be auto-loaded, consider to blacklist them in the "<literal>/etc/modprobes.d/blacklist</literal>" file.)</simpara>
        <simpara>The "<literal>/lib/modules/&lt;version&gt;/modules.dep</literal>" file generated by the <literal>depmod</literal>(8) program describes module dependencies used by the <literal>modprobe</literal>(8) program.</simpara>
        <note>
          <simpara>If you experience module loading issues with boot time module loading or with <literal>modprobe</literal>(8), "<literal>depmod -a</literal>" may resolve these issues by reconstructing "<literal>modules.dep</literal>".</simpara>
        </note>
        <simpara>The <literal>modinfo</literal>(8) program shows information about a Linux kernel module.</simpara>
        <simpara>The <literal>lsmod</literal>(8) program nicely formats the contents of the "<literal>/proc/modules</literal>", showing what kernel modules are currently loaded.</simpara>
        <tip>
          <simpara>You can identify exact hardware on your system.  See <xref linkend="_hardware_identification"/>.</simpara>
        </tip>
        <tip>
          <simpara>You may configure hardware at boot time to activate expected hardware features. See <xref linkend="_hardware_configuration"/>.</simpara>
        </tip>
        <tip>
          <simpara>You can add support for your device by recompiling kernel.  See <xref linkend="_the_kernel"/>.</simpara>
        </tip>
      </section>
    </section>
  </chapter>
  <chapter id="_authentication">
    <title>Authentication</title>
    <simpara>When a person (or a program) requests access to the system, authentication confirms the identity to be a trusted one.</simpara>
    <warning>
      <simpara>Configuration errors of PAM may lock you out of your own system.  You must have a rescue CD handy or setup an alternative boot partition.  To recover, boot the system with them and correct things from there.</simpara>
    </warning>
    <section id="_normal_unix_authentication">
      <title>Normal Unix authentication</title>
      <simpara>Normal Unix authentication is provided by the <literal>pam_unix</literal>(8) module under the <ulink url="&pampluggableauthnticationmodules;">PAM (Pluggable Authentication Modules)</ulink>.  Its 3 important configuration files, with "<literal>:</literal>" separated entries, are the following.</simpara>
      <table id="dimportantconfigilesforpam_unixi" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>3 important configuration files for <literal>pam_unix</literal>(8)</title>
        <tgroup cols="5">
          <colspec colwidth="10%*" align="left"/>
          <colspec colwidth="10%*" align="left"/>
          <colspec colwidth="10%*" align="left"/>
          <colspec colwidth="10%*" align="left"/>
          <colspec colwidth="60%*" align="left"/>
          <thead>
            <row>
              <entry>
    file
    </entry>
              <entry>
    permission
    </entry>
              <entry>
    user
    </entry>
              <entry>
    group
    </entry>
              <entry>
    description
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry>
                <literal>/etc/passwd</literal>
              </entry>
              <entry>
                <literal>-rw-r--r--</literal>
              </entry>
              <entry>
                <literal>root</literal>
              </entry>
              <entry>
                <literal>root</literal>
              </entry>
              <entry>
    (sanitized) user account information
    </entry>
            </row>
            <row>
              <entry>
                <literal>/etc/shadow</literal>
              </entry>
              <entry>
                <literal>-rw-r-----</literal>
              </entry>
              <entry>
                <literal>root</literal>
              </entry>
              <entry>
                <literal>shadow</literal>
              </entry>
              <entry>
    secure user account information
    </entry>
            </row>
            <row>
              <entry>
                <literal>/etc/group</literal>
              </entry>
              <entry>
                <literal>-rw-r--r--</literal>
              </entry>
              <entry>
                <literal>root</literal>
              </entry>
              <entry>
                <literal>root</literal>
              </entry>
              <entry>
    group information
    </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <simpara>"<literal>/etc/passwd</literal>" contains the following.</simpara>
      <screen> ...
user1:x:1000:1000:User1 Name,,,:/home/user1:/bin/bash
user2:x:1001:1001:User2 Name,,,:/home/user2:/bin/bash
 ...</screen>
      <simpara>As explained in <literal>passwd</literal>(5), each "<literal>:</literal>" separated entry of this file means the following.</simpara>
      <itemizedlist>
        <listitem>
          <simpara>
Login name
</simpara>
        </listitem>
        <listitem>
          <simpara>
Password specification entry
</simpara>
        </listitem>
        <listitem>
          <simpara>
Numerical user ID
</simpara>
        </listitem>
        <listitem>
          <simpara>
Numerical group ID
</simpara>
        </listitem>
        <listitem>
          <simpara>
User name or comment field
</simpara>
        </listitem>
        <listitem>
          <simpara>
User home directory
</simpara>
        </listitem>
        <listitem>
          <simpara>
Optional user command interpreter
</simpara>
        </listitem>
      </itemizedlist>
      <simpara>The second entry of "<literal>/etc/passwd</literal>" was used for the encrypted password entry.  After the introduction of "<literal>/etc/shadow</literal>", this entry is used for the password specification entry.</simpara>
      <table id="thesecondentrycontentofetcpasswd" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>The second entry content of "<literal>/etc/passwd</literal>"</title>
        <tgroup cols="2">
          <colspec colwidth="30%*" align="left"/>
          <colspec colwidth="70%*" align="left"/>
          <thead>
            <row>
              <entry>
    content
    </entry>
              <entry>
    meaning
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry>
    (empty)
    </entry>
              <entry>
    passwordless account
    </entry>
            </row>
            <row>
              <entry>
    x
    </entry>
              <entry>
    the encrypted password is in "<literal>/etc/shadow</literal>"
    </entry>
            </row>
            <row>
              <entry>
    *
    </entry>
              <entry>
    no login for this account
    </entry>
            </row>
            <row>
              <entry>
    !
    </entry>
              <entry>
    no login for this account
    </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <simpara>"<literal>/etc/shadow</literal>" contains the following.</simpara>
      <screen> ...
user1:$1$Xop0FYH9$IfxyQwBe9b8tiyIkt2P4F/:13262:0:99999:7:::
user2:$1$vXGZLVbS$ElyErNf/agUDsm1DehJMS/:13261:0:99999:7:::
 ...</screen>
      <simpara>As explained in <literal>shadow</literal>(5), each "<literal>:</literal>" separated entry of this file means the following.</simpara>
      <itemizedlist>
        <listitem>
          <simpara>
Login name
</simpara>
        </listitem>
        <listitem>
          <simpara>
Encrypted password (The initial "<literal>$1$</literal>" indicates use of the MD5 encryption. The "*" indicates no login.)
</simpara>
        </listitem>
        <listitem>
          <simpara>
Days since Jan 1, 1970 that password was last changed
</simpara>
        </listitem>
        <listitem>
          <simpara>
Days before password may be changed
</simpara>
        </listitem>
        <listitem>
          <simpara>
Days after which password must be changed
</simpara>
        </listitem>
        <listitem>
          <simpara>
Days before password is to expire that user is warned
</simpara>
        </listitem>
        <listitem>
          <simpara>
…
</simpara>
        </listitem>
      </itemizedlist>
      <simpara>"<literal>/etc/group</literal>" contains the following.</simpara>
      <screen>group1:x:20:user1,user2</screen>
      <simpara>As explained in <literal>shadow</literal>(5), each "<literal>:</literal>" separated entry of this file means the following.</simpara>
      <itemizedlist>
        <listitem>
          <simpara>
Group name
</simpara>
        </listitem>
        <listitem>
          <simpara>
Encrypted password (not really used)
</simpara>
        </listitem>
        <listitem>
          <simpara>
Numerical group ID
</simpara>
        </listitem>
        <listitem>
          <simpara>
"," separated list of user names
</simpara>
        </listitem>
      </itemizedlist>
      <note>
        <simpara>"<literal>/etc/gshadow</literal>" provides the similar function as "<literal>/etc/shadow</literal>" for "<literal>/etc/group</literal>" but is not really used.</simpara>
      </note>
      <note>
        <simpara>The actual group membership of a user may be dynamically added if "<literal>auth optional pam_group.so</literal>" line is added to "<literal>/etc/pam.d/common-auth</literal>" and set it in "<literal>/etc/security/group.conf</literal>".  See <literal>pam_group</literal>(8).</simpara>
      </note>
      <note>
        <simpara>The <literal>base-passwd</literal> package contains an authoritative list of the user and the group: "<literal>/usr/share/doc/base-passwd/users-and-groups.html</literal>".</simpara>
      </note>
    </section>
    <section id="_managing_account_and_password_information">
      <title>Managing account and password information</title>
      <simpara>Here are few notable commands to manage account information.</simpara>
      <table id="listofcommandstocountinformation" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>List of commands to manage account information</title>
        <tgroup cols="2">
          <colspec colwidth="30%*" align="left"/>
          <colspec colwidth="70%*" align="left"/>
          <thead>
            <row>
              <entry>
    command
    </entry>
              <entry>
    function
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry>
                <literal>getent passwd &lt;user_name&gt;</literal>
              </entry>
              <entry>
    browse account information of "<literal>&lt;user_name&gt;</literal>"
    </entry>
            </row>
            <row>
              <entry>
                <literal>getent shadow &lt;user_name&gt;</literal>
              </entry>
              <entry>
    browse shadowed account information of "<literal>&lt;user_name&gt;</literal>"
    </entry>
            </row>
            <row>
              <entry>
                <literal>getent group &lt;group_name&gt;</literal>
              </entry>
              <entry>
    browse group information of "<literal>&lt;group_name&gt;</literal>"
    </entry>
            </row>
            <row>
              <entry>
                <literal>passwd</literal>
              </entry>
              <entry>
    manage password for the account
    </entry>
            </row>
            <row>
              <entry>
                <literal>passwd -e</literal>
              </entry>
              <entry>
    set one-time password for the account activation
    </entry>
            </row>
            <row>
              <entry>
                <literal>chage</literal>
              </entry>
              <entry>
    manage password aging information
    </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <simpara>You may need to have the root privilege for some functions to work. See <literal>crypt</literal>(3) for the password and data encryption.</simpara>
      <note>
        <simpara>On the system set up with PAM and NSS as the Debian <ulink url="&alioth;">alioth</ulink> machine, the content of local "<literal>/etc/passwd</literal>", "<literal>/etc/group</literal>" and "<literal>/etc/shadow</literal>" may not be actively used by the system.  Above commands are valid even under such environment.</simpara>
      </note>
    </section>
    <section id="_good_password">
      <title>Good password</title>
      <simpara>When creating an account during your system installation or with the <literal>passwd</literal>(1) command, you should choose a <ulink url="&goodpassword;">good password</ulink> which consists of 6 to 8 characters including one or more characters from each of the following sets according to <literal>passwd</literal>(1).</simpara>
      <itemizedlist>
        <listitem>
          <simpara>
Lower case alphabetics
</simpara>
        </listitem>
        <listitem>
          <simpara>
Digits 0 through 9
</simpara>
        </listitem>
        <listitem>
          <simpara>
Punctuation marks
</simpara>
        </listitem>
      </itemizedlist>
      <warning>
        <simpara>Do not chose guessable words for the password.</simpara>
      </warning>
    </section>
    <section id="_creating_encrypted_password">
      <title>Creating encrypted password</title>
      <simpara>There are independent tools to generate encrypted password with salt.</simpara>
      <table id="listoftoolstogeneratepassword" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>List of tools to generate password</title>
        <tgroup cols="5">
          <colspec colwidth="10%*" align="left"/>
          <colspec colwidth="10%*" align="left"/>
          <colspec colwidth="10%*" align="left"/>
          <colspec colwidth="10%*" align="left"/>
          <colspec colwidth="60%*" align="left"/>
          <thead>
            <row>
              <entry>
    package
    </entry>
              <entry>
    popcon
    </entry>
              <entry>
    size
    </entry>
              <entry>
    command
    </entry>
              <entry>
    function
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/whois">
                <literal>whois</literal>
              </ulink> <ulink url="http://bugs.debian.org/whois">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=whois">&pop-whois;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/w/whois.html">&size-whois;</ulink></entry>
              <entry>
                <literal>mkpasswd</literal>
              </entry>
              <entry>
    over-featured front end to the <literal>crypt</literal>(3) library
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/openssl">
                <literal>openssl</literal>
              </ulink> <ulink url="http://bugs.debian.org/openssl">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=openssl">&pop-openssl;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/o/openssl.html">&size-openssl;</ulink></entry>
              <entry>
                <literal>openssl passwd</literal>
              </entry>
              <entry>
    compute password hashes (OpenSSL). <literal>passwd</literal>(1ssl)
    </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
    </section>
    <section id="_pam_and_nss">
      <title>PAM and NSS</title>
      <simpara>Modern <ulink url="&unixlike;">Unix-like</ulink> systems such as the Debian system provide <ulink url="&pampluggableauthnticationmodules;">PAM (Pluggable Authentication Modules)</ulink> and <ulink url="&nssnameserviceswitch;">NSS (Name Service Switch)</ulink> mechanism to the local system administrator to configure his system.  The role of these can be summarizes as the following.</simpara>
      <itemizedlist>
        <listitem>
          <simpara>
PAM offers a flexible authentication mechanism used by the application software thus involves password data exchange.
</simpara>
        </listitem>
        <listitem>
          <simpara>
NSS offers a flexible name service mechanism which is frequently used by the <ulink url="&cstandardlibrary;">C standard library</ulink> to obtain the user and group name for programs such as <literal>ls</literal>(1) and <literal>id</literal>(1).
</simpara>
        </listitem>
      </itemizedlist>
      <simpara>These PAM and NSS systems need to be configured consistently.</simpara>
      <simpara>The notable packages of PAM and NSS systems are the following.</simpara>
      <table id="listofnotablepamandnsssystems" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>List of notable PAM and NSS systems</title>
        <tgroup cols="4">
          <colspec colwidth="20%*" align="left"/>
          <colspec colwidth="20%*" align="left"/>
          <colspec colwidth="20%*" align="left"/>
          <colspec colwidth="40%*" align="left"/>
          <thead>
            <row>
              <entry>
    package
    </entry>
              <entry>
    popcon
    </entry>
              <entry>
    size
    </entry>
              <entry>
    description
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/libpam-modules">
                <literal>libpam-modules</literal>
              </ulink> <ulink url="http://bugs.debian.org/libpam-modules">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=libpam-modules">&pop-libpammodules;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/libp/libpam-modules.html">&size-libpammodules;</ulink></entry>
              <entry>
    Pluggable Authentication Modules (basic service)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/libpam-ldap">
                <literal>libpam-ldap</literal>
              </ulink> <ulink url="http://bugs.debian.org/libpam-ldap">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=libpam-ldap">&pop-libpamldap;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/libp/libpam-ldap.html">&size-libpamldap;</ulink></entry>
              <entry>
    Pluggable Authentication Module allowing LDAP interfaces
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/libpam-cracklib">
                <literal>libpam-cracklib</literal>
              </ulink> <ulink url="http://bugs.debian.org/libpam-cracklib">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=libpam-cracklib">&pop-libpamcracklib;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/libp/libpam-cracklib.html">&size-libpamcracklib;</ulink></entry>
              <entry>
    Pluggable Authentication Module to enable cracklib support
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/libpam-doc">
                <literal>libpam-doc</literal>
              </ulink> <ulink url="http://bugs.debian.org/libpam-doc">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=libpam-doc">&pop-libpamdoc;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/libp/libpam-doc.html">&size-libpamdoc;</ulink></entry>
              <entry>
    Pluggable Authentication Modules (documentation in html and text)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/libc6">
                <literal>libc6</literal>
              </ulink> <ulink url="http://bugs.debian.org/libc6">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=libc6">&pop-libcg;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/libc/libc6.html">&size-libcg;</ulink></entry>
              <entry>
    GNU C Library: Shared libraries which also provides "Name Service Switch" service
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/glibc-doc">
                <literal>glibc-doc</literal>
              </ulink> <ulink url="http://bugs.debian.org/glibc-doc">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=glibc-doc">&pop-glibcdoc;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/g/glibc-doc.html">&size-glibcdoc;</ulink></entry>
              <entry>
    GNU C Library: Manpages
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/glibc-doc-reference">
                <literal>glibc-doc-reference</literal>
              </ulink> <ulink url="http://bugs.debian.org/glibc-doc-reference">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=glibc-doc-reference">&pop-glibcdocreference;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/g/glibc-doc-reference.html">&size-glibcdocreference;</ulink></entry>
              <entry>
    GNU C Library: Reference manual in info, pdf and html format (non-free)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/libnss-mdns">
                <literal>libnss-mdns</literal>
              </ulink> <ulink url="http://bugs.debian.org/libnss-mdns">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=libnss-mdns">&pop-libnssmdns;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/libn/libnss-mdns.html">&size-libnssmdns;</ulink></entry>
              <entry>
    NSS module for Multicast DNS name resolution
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/libnss-ldap">
                <literal>libnss-ldap</literal>
              </ulink> <ulink url="http://bugs.debian.org/libnss-ldap">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=libnss-ldap">&pop-libnssldap;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/libn/libnss-ldap.html">&size-libnssldap;</ulink></entry>
              <entry>
    NSS module for using LDAP as a naming service
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/libnss-ldapd">
                <literal>libnss-ldapd</literal>
              </ulink> <ulink url="http://bugs.debian.org/libnss-ldapd">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=libnss-ldapd">&pop-libnssldapd;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/libn/libnss-ldapd.html">&size-libnssldapd;</ulink></entry>
              <entry>
    NSS module for using LDAP as a naming service (new folk of <literal>libnss-ldap</literal>)
    </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <itemizedlist>
        <listitem>
          <simpara>
"The Linux-PAM System Administrators' Guide" in <literal>libpam-doc</literal> is essential for learning PAM configuration.
</simpara>
        </listitem>
        <listitem>
          <simpara>
"System Databases and Name Service Switch" section in <literal>glibc-doc-reference</literal> is essential for learning NSS configuration.
</simpara>
        </listitem>
      </itemizedlist>
      <note>
        <simpara>You can see more extensive and current list by "<literal>aptitude search 'libpam-|libnss-'</literal>" command.  The acronym NSS may also mean "Network Security Service" which is different from "Name Service Switch".</simpara>
      </note>
      <note>
        <simpara>PAM is the most basic way to initialize environment variables for each program with the system wide default value.</simpara>
      </note>
      <section id="_configuration_files_accessed_by_the_pam_and_nss">
        <title>Configuration files accessed by the PAM and NSS</title>
        <simpara>Here are few notable configuration files accessed by the PAM.</simpara>
        <table id="listofconfigurataccessedbythepam" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of configuration files accessed by the PAM</title>
          <tgroup cols="2">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="70%*" align="left"/>
            <thead>
              <row>
                <entry>
    configuration file
    </entry>
                <entry>
    function
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>/etc/pam.d/&lt;program_name&gt;</literal>
                </entry>
                <entry>
    set up PAM configuration for the "<literal>&lt;program_name&gt;</literal>" program; see <literal>pam</literal>(7) and <literal>pam.d</literal>(5)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/etc/nsswitch.conf</literal>
                </entry>
                <entry>
    set up NSS configuration with the entry for each service. See <literal>nsswitch.conf</literal>(5)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/etc/nologin</literal>
                </entry>
                <entry>
    limit the user login by the <literal>pam_nologin</literal>(8) module
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/etc/securetty</literal>
                </entry>
                <entry>
    limit the tty for the root access by the <literal>pam_securetty</literal>(8) module
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/etc/security/access.conf</literal>
                </entry>
                <entry>
    set access limit by the <literal>pam_access</literal>(8) module
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/etc/security/group.conf</literal>
                </entry>
                <entry>
    set group based restraint by the <literal>pam_group</literal>(8) module
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/etc/security/pam_env.conf</literal>
                </entry>
                <entry>
    set environment variables by the <literal>pam_env</literal>(8) module
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/etc/environment</literal>
                </entry>
                <entry>
    set additional environment variables by the <literal>pam_env</literal>(8) module with the "<literal>readenv=1</literal>" argument
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/etc/default/locale</literal>
                </entry>
                <entry>
    set locale by <literal>pam_env</literal>(8) module with the "<literal>readenv=1 envfile=/etc/default/locale</literal>" argument. (Debian)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/etc/security/limits.conf</literal>
                </entry>
                <entry>
    set resource restraint (ulimit, core, …) by the <literal>pam_linits</literal>(8) module
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/etc/security/time.conf</literal>
                </entry>
                <entry>
    set time restraint by the <literal>pam_time</literal>(8) module
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>The limitation of the password selection is implemented by the PAM modules, <literal>pam_unix</literal>(8) and <literal>pam_cracklib</literal>(8). They can be configured by their arguments.</simpara>
        <tip>
          <simpara>PAM modules use suffix "<literal>.so</literal>" for their filenames.</simpara>
        </tip>
      </section>
      <section id="_the_modern_centralized_system_management">
        <title>The modern centralized system management</title>
        <simpara>The modern centralized system management can be deployed using the centralized <ulink url="&lightweightdireccessprotocolldap;">Lightweight Directory Access Protocol (LDAP)</ulink> server to administer many Unix-like and non-Unix-like systems on the network.  The open source implementation of the Lightweight Directory Access Protocol is <ulink url="&openldapsoftware;">OpenLDAP Software</ulink>.</simpara>
        <simpara>The LDAP server provides the account information through the use of PAM and NSS with <literal>libpam-ldap</literal> and <literal>libnss-ldap</literal> packages for the Debian system. Several actions are required to enable this (I have not used this setup and the following is purely secondary information.  Please read this in this context.).</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
You set up a centralized LDAP server by running program such as stand-alone LDAP daemon, <literal>slapd</literal>(8).
</simpara>
          </listitem>
          <listitem>
            <simpara>
You change the PAM configuration files in the "<literal>/etc/pam.d/</literal>" directory to use "<literal>pam_ldap.so</literal>" instead of the default "<literal>pam_unix.so</literal>".
</simpara>
            <itemizedlist>
              <listitem>
                <simpara>
Debian uses "<literal>/etc/pam_ldap.conf</literal>" as the configuration file for <literal>libpam-ldap</literal> and "<literal>/etc/pam_ldap.secret</literal>" as the file to store the password of the root.
</simpara>
              </listitem>
            </itemizedlist>
          </listitem>
          <listitem>
            <simpara>
You change the NSS configuration in the "<literal>/etc/nsswitch.conf</literal>" file to use "<literal>ldap</literal>" instead of the default ("<literal>compat</literal>" or "<literal>file</literal>").
</simpara>
            <itemizedlist>
              <listitem>
                <simpara>
Debian uses "<literal>/etc/libnss-ldap.conf</literal>" as the configuration file for <literal>libnss-ldap</literal>.
</simpara>
              </listitem>
            </itemizedlist>
          </listitem>
          <listitem>
            <simpara>
You must make <literal>libpam-ldap</literal> to use <ulink url="&sslortls;">SSL (or TLS)</ulink> connection for the security of password.
</simpara>
          </listitem>
          <listitem>
            <simpara>
You may make <literal>libnss-ldap</literal> to use <ulink url="&sslortls;">SSL (or TLS)</ulink> connection to ensure integrity of data at the cost of the LDAP network overhead.
</simpara>
          </listitem>
          <listitem>
            <simpara>
You should run <literal>nscd</literal>(8) locally to cache any LDAP search results in order to reduce the LDAP network traffic.
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>See documentations in <literal>pam_ldap.conf</literal>(5) and "<literal>/usr/share/doc/libpam-doc/html/</literal>" offered by the <literal>libpam-doc</literal> package and "<literal>info libc 'Name Service Switch'</literal>" offered by the <literal>glibc-doc</literal> package.</simpara>
        <simpara>Similarly, you can set up alternative centralized systems with other methods.</simpara>
        <itemizedlist>
          <listitem>
            <simpara><ulink url="&nisoriginallycalledyp;">NIS (originally called YP)</ulink> or <ulink url="&nisplus;">NIS+</ulink> with older Unix-like systems, or
</simpara>
          </listitem>
          <listitem>
            <simpara>
Winbind with Windows NT and <ulink url="&samba;">SAMBA</ulink>.
</simpara>
          </listitem>
        </itemizedlist>
      </section>
      <section id="_why_gnu_su_does_not_support_the_wheel_group">
        <title>"Why GNU su does not support the wheel group"</title>
        <simpara>This is the famous phrase at the bottom of the old "<literal>info su</literal>" page by Richard M. Stallman.  Not to worry: the current <literal>su</literal> command in Debian uses PAM, so that one can restrict the ability to use <literal>su</literal> to the <literal>root</literal> group by enabling the line with "<literal>pam_wheel.so</literal>" in "<literal>/etc/pam.d/su</literal>".</simpara>
      </section>
      <section id="_stricter_password_rule">
        <title>Stricter password rule</title>
        <simpara>Installing the <literal>libpam-cracklib</literal> package will enable you to force stricter password rule, for example, by having active lines in "<literal>/etc/pam.d/common-password</literal>" as the following.</simpara>
        <simpara>For <literal>lenny</literal>:</simpara>
        <screen>password required pam_cracklib.so retry=3 minlen=9 difok=3
password required pam_unix.so use_authtok nullok md5</screen>
        <simpara>For <literal>squeeze</literal>:</simpara>
        <screen>password required pam_cracklib.so retry=3 minlen=9 difok=3
password [success=1 default=ignore] pam_unix.so use_authtok nullok md5
password requisite pam_deny.so
password required pam_permit.so</screen>
      </section>
    </section>
    <section id="_other_access_controls">
      <title>Other access controls</title>
      <note>
        <simpara>See <xref linkend="_alt_sysrq_key"/> for restricting the kernel <ulink url="&secureattentionkeysak;">secure attention key (SAK)</ulink> feature.</simpara>
      </note>
      <section id="_sudo">
        <title>sudo</title>
        <simpara><literal>sudo</literal>(8) is a program designed to allow a sysadmin to give limited root privileges to users and log root activity. <literal>sudo</literal> requires only an ordinary user's password.  Install <literal>sudo</literal> package and activate it by setting options in "<literal>/etc/sudoers</literal>".  See configuration example at "<literal>/usr/share/doc/sudo/examples/sudoers</literal>".</simpara>
        <simpara>My usage of <literal>sudo</literal> for the single user system (see <xref linkend="_sudo_configuration"/>) is aimed to protect myself from my own stupidity. Personally, I consider using <literal>sudo</literal> a better alternative to using the system from the root account all the time.   For example, following will change the owner of "<literal>&lt;some_file&gt;</literal>" to "<literal>&lt;my_name&gt;</literal>".</simpara>
        <screen>$ sudo chown &lt;my_name&gt; &lt;some_file&gt;</screen>
        <simpara>Of course if you know the root password (as self-installed Debian users do), any command can be run under root from any user's account using "<literal>su -c</literal>".</simpara>
      </section>
      <section id="_selinux">
        <title>SELinux</title>
        <simpara><ulink url="&securityenhancedlinuxselinux;">Security-Enhanced Linux (SELinux)</ulink> is a framework to tighten privilege model tighter than the ordinary Unix-like security model with the <ulink url="&mandatoryaccesscontrolmac;">mandatory access control (MAC)</ulink> policies.  The root power may be restricted under some conditions.</simpara>
      </section>
      <section id="_restricting_access_to_some_server_services">
        <title>Restricting access to some server services</title>
        <simpara>The Internet <emphasis>super-server</emphasis>, <literal>inetd</literal>(8), is started at boot time by "<literal>/etc/rc2.d/S20inetd</literal>" (for RUNLEVEL=2), which is a symlink to "<literal>/etc/init.d/inetd</literal>".  Essentially, <literal>inetd</literal> allows one running daemon to invoke several others, reducing load on the system.</simpara>
        <simpara>Whenever a request for service arrives, its protocol and service are identified by looking them up in the databases in "<literal>/etc/protocols</literal>" and "<literal>/etc/services</literal>".  <literal>inetd</literal> then looks up a normal Internet service in "<literal>/etc/inetd.conf</literal>", or a <ulink url="&sunrpc;">Sun RPC</ulink> based service in "<literal>/etc/rpc.conf</literal>".</simpara>
        <simpara>For system security, make sure to disable unused services in "<literal>/etc/inetd.conf</literal>".   <ulink url="&sunrpc;">Sun RPC</ulink> services need to be active for NFS and other RPC based programs.</simpara>
        <simpara>Sometimes, <literal>inetd</literal> does not start the intended server directly but starts the <ulink url="&tcpwrapper;">TCP wrapper</ulink> program, <literal>tcpd</literal>(8), with the intended server name as its argument in "<literal>/etc/inetd.conf</literal>".  In this case, <literal>tcpd</literal> runs the appropriate server program after logging the request and doing some additional checks using "<literal>/etc/hosts.deny</literal>" and "<literal>/etc/hosts.allow</literal>".</simpara>
        <simpara>If you have problems with remote access in a recent Debian system, comment out "<literal>ALL: PARANOID</literal>" in "<literal>/etc/hosts.deny</literal>" if it exists.</simpara>
        <simpara>For details, see <literal>inetd</literal>(8), <literal>inetd.conf</literal>(5), <literal>protocols</literal>(5), <literal>services</literal>(5), <literal>tcpd</literal>(8), <literal>hosts_access</literal>(5), and <literal>hosts_options</literal>(5).</simpara>
        <simpara>For more information on <ulink url="&sunrpc;">Sun RPC</ulink>, see <literal>rpcinfo</literal>(8), <literal>portmap</literal>(8), and "<literal>/usr/share/doc/portmap/portmapper.txt.gz</literal>".</simpara>
        <simpara>There are also non-PAM based access control available for <literal>atd</literal>(8) and <literal>cron</literal>(8).</simpara>
      </section>
    </section>
    <section id="_security_of_authentication">
      <title>Security of authentication</title>
      <simpara>The information here may not be sufficient for your security needs but it should be a good start.</simpara>
      <section id="_secure_password_over_the_internet">
        <title>Secure password over the Internet</title>
        <simpara>Many popular transportation layer services communicate messages including password authentication in the plain text. It is very bad idea to transmit password in the plain text over the wild Internet where it can be intercepted.  You can run these services over "<ulink url="&transportlayersecurity;">Transport Layer Security</ulink>" (TLS) or its predecessor, "Secure Sockets Layer" (SSL) to secure entire communication including password by the encryption.</simpara>
        <table id="listofinsecureanservicesandports" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of insecure and secure services and ports</title>
          <tgroup cols="4">
            <colspec colwidth="25%*" align="left"/>
            <colspec colwidth="25%*" align="left"/>
            <colspec colwidth="25%*" align="left"/>
            <colspec colwidth="25%*" align="left"/>
            <thead>
              <row>
                <entry>
    insecure service name
    </entry>
                <entry>
    port
    </entry>
                <entry>
    secure service name
    </entry>
                <entry>
    port
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
    www (http)
    </entry>
                <entry>
    80
    </entry>
                <entry>
    https
    </entry>
                <entry>
    443
    </entry>
              </row>
              <row>
                <entry>
    smtp (mail)
    </entry>
                <entry>
    25
    </entry>
                <entry>
    ssmtp (smtps)
    </entry>
                <entry>
    465
    </entry>
              </row>
              <row>
                <entry>
    ftp-data
    </entry>
                <entry>
    20
    </entry>
                <entry>
    ftps-data
    </entry>
                <entry>
    989
    </entry>
              </row>
              <row>
                <entry>
    ftp
    </entry>
                <entry>
    21
    </entry>
                <entry>
    ftps
    </entry>
                <entry>
    990
    </entry>
              </row>
              <row>
                <entry>
    telnet
    </entry>
                <entry>
    23
    </entry>
                <entry>
    telnets
    </entry>
                <entry>
    992
    </entry>
              </row>
              <row>
                <entry>
    imap2
    </entry>
                <entry>
    143
    </entry>
                <entry>
    imaps
    </entry>
                <entry>
    993
    </entry>
              </row>
              <row>
                <entry>
    pop3
    </entry>
                <entry>
    110
    </entry>
                <entry>
    pop3s
    </entry>
                <entry>
    995
    </entry>
              </row>
              <row>
                <entry>
    ldap
    </entry>
                <entry>
    389
    </entry>
                <entry>
    ldaps
    </entry>
                <entry>
    636
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>The encryption costs CPU time.  As a CPU friendly alternative, you can keep communication in plain text while securing just password with the secure authentication protocol such as "Authenticated Post Office Protocol" (APOP) for POP and "Challenge-Response Authentication Mechanism MD5" (CRAM-MD5) for SMTP and IMAP.  (For sending mail messages over the Internet to your mail server from your mail client, it is recently popular to use new message submission port 587 instead of traditional SMTP port 25 to avoid port 25 blocking by the network provider while authenticating yourself with CRAM-MD5.)</simpara>
      </section>
      <section id="_secure_shell">
        <title>Secure Shell</title>
        <simpara>The <ulink url="&secureshellssh;">Secure Shell (SSH)</ulink> program provides secure encrypted communications between two untrusted hosts over an insecure network with the secure authentication. It consists of the <ulink url="&openssh;">OpenSSH</ulink> client, <literal>ssh</literal>(1), and the <ulink url="&openssh;">OpenSSH</ulink> daemon, <literal>sshd</literal>(8).  This SSH can be used to tunnel the insecure protocol communication such as POP and X securely over the Internet with the port forwarding feature.</simpara>
        <simpara>The client tries to authenticate itself using host-based authentication, public key authentication, challenge-response authentication, or password authentication.  The use of public key authentication enables the remote password-less login. See <xref linkend="_the_remote_access_server_and_utility_ssh"/>.</simpara>
      </section>
      <section id="_extra_security_measures_for_the_internet">
        <title>Extra security measures for the Internet</title>
        <simpara>Even when you run secure services such as <ulink url="&secureshellssh;">Secure Shell (SSH)</ulink> and <ulink url="&pointtopointtunnlingprotocolpptp;">Point-to-point tunneling protocol (PPTP)</ulink> servers, there are still chances for the break-ins using brute force password guessing attack etc. from the Internet.  Use of the firewall policy (see <xref linkend="_netfilter_infrastructure"/>) together with the following secure tools may improve the security situation.</simpara>
        <table id="listoftoolstoprosecuritymeasures" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of tools to provide extra security measures</title>
          <tgroup cols="4">
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="40%*" align="left"/>
            <thead>
              <row>
                <entry>
    package
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    size
    </entry>
                <entry>
    description
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/knockd">
                  <literal>knockd</literal>
                </ulink> <ulink url="http://bugs.debian.org/knockd">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=knockd">&pop-knockd;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/k/knockd.html">&size-knockd;</ulink></entry>
                <entry>
    small port-knock daemon <literal>knocked</literal>(1) and client <literal>konck</literal>(1)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/denyhosts">
                  <literal>denyhosts</literal>
                </ulink> <ulink url="http://bugs.debian.org/denyhosts">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=denyhosts">&pop-denyhosts;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/d/denyhosts.html">&size-denyhosts;</ulink></entry>
                <entry>
    utility to help sysadmins thwart ssh hackers
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/fail2ban">
                  <literal>fail2ban</literal>
                </ulink> <ulink url="http://bugs.debian.org/fail2ban">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=fail2ban">&pop-failcban;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/f/fail2ban.html">&size-failcban;</ulink></entry>
                <entry>
    ban IPs that cause multiple authentication errors
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/libpam-shield">
                  <literal>libpam-shield</literal>
                </ulink> <ulink url="http://bugs.debian.org/libpam-shield">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=libpam-shield">&pop-libpamshield;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/libp/libpam-shield.html">&size-libpamshield;</ulink></entry>
                <entry>
    lock out remote attackers trying password guessing
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </section>
      <section id="_securing_the_root_password">
        <title>Securing the root password</title>
        <simpara>To prevent people to access your machine with root privilege, you need to make following actions.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
Prevent physical access to the hard disk
</simpara>
          </listitem>
          <listitem>
            <simpara>
Lock BIOS and prevent booting from the removable media
</simpara>
          </listitem>
          <listitem>
            <simpara>
Set password for GRUB interactive session
</simpara>
          </listitem>
          <listitem>
            <simpara>
Lock GRUB menu from editing
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>With physical access to hard disk, resetting the password is relatively easy with folowing steps.</simpara>
        <orderedlist>
          <listitem>
            <simpara>
Move the hard disk to a PC with CD bootable BIOS.
</simpara>
          </listitem>
          <listitem>
            <simpara>
Boot system with a rescue media (Debian boot disk, Knopix CD, GRUB CD, …).
</simpara>
          </listitem>
          <listitem>
            <simpara>
Mount root partition with read/write access.
</simpara>
          </listitem>
          <listitem>
            <simpara>
Edit "<literal>/etc/passwd</literal>" in the root partition and make the second entry for the <literal>root</literal> account empty.
</simpara>
          </listitem>
        </orderedlist>
        <simpara>If you have the edit access to the GRUB menu entry (see <xref linkend="_stage_2_the_boot_loader"/>) for <literal>grub-rescue-pc</literal> at the boot time, it is even easier with folowing steps.</simpara>
        <orderedlist>
          <listitem>
            <simpara>
Boot system with the kernel parameter changed to something like "<literal>root=/dev/hda6 rw init=/bin/sh</literal>".
</simpara>
          </listitem>
          <listitem>
            <simpara>
Edit "<literal>/etc/passwd</literal>" and make the second entry for the <literal>root</literal> account empty.
</simpara>
          </listitem>
          <listitem>
            <simpara>
Reboot system.
</simpara>
          </listitem>
        </orderedlist>
        <simpara>The root shell of the system is now accessible without password.</simpara>
        <note>
          <simpara>Once one has root shell access, he can access everything on the system and reset any passwords on the system.  Further more, he may compromise password for all user accounts using brute force password cracking tools such as <literal>john</literal> and <literal>crack</literal> packages (see <xref linkend="_system_security_and_integrity_check"/>).  This cracked password may lead to compromise other systems.</simpara>
        </note>
        <simpara>The only reasonable software solution to avoid all these concerns is to use software encrypted root partition (or "<literal>/etc</literal>" partition) using <ulink url="&dmcrypt;">dm-crypt</ulink> and initramfs (see <xref linkend="_data_encryption_tips"/>).  You always need password to boot the system, though.</simpara>
      </section>
    </section>
  </chapter>
  <chapter id="_network_setup">
    <title>Network setup</title>
    <tip>
      <simpara>For general guide to the GNU/Linux networking, read the <ulink url="&linuxnetworkadministratorsguide;">Linux Network Administrators Guide</ulink>.</simpara>
    </tip>
    <simpara>The traditional <ulink url="&tcpipnetwork;">TCP/IP network</ulink> setup on Debian system uses <literal>ifupdown</literal> package as a high level tool.  There are 2 typical cases.</simpara>
    <itemizedlist>
      <listitem>
        <simpara>
For <emphasis role="strong">dynamic IP</emphasis> system such as mobile PCs, you should setup TCP/IP network <emphasis role="strong">with</emphasis> the <literal>resolvconf</literal> package and enable you to switch your network configuration easily (see <xref linkend="_the_network_interface_served_by_the_dhcp"/>).
</simpara>
      </listitem>
      <listitem>
        <simpara>
For <emphasis role="strong">static IP</emphasis> system such as servers, you should setup TCP/IP network <emphasis role="strong">without</emphasis> the <literal>resolvconf</literal> package and keep your system simple (see <xref linkend="_the_network_interface_with_the_static_ip"/>).
</simpara>
      </listitem>
    </itemizedlist>
    <simpara>We will describe these traditional cases in detail here.</simpara>
    <simpara>We will also touch on some alternative high level tools such as <literal>network-manager</literal> and <literal>wicd</literal> which ease configuration of wireless networks (see <xref linkend="_automatic_network_configuration"/>).</simpara>
    <section id="_the_basic_network_infrastructure">
      <title>The basic network infrastructure</title>
      <simpara>Let's review the basic network infrastructure on the modern Debian system.</simpara>
      <section id="_the_domain_name">
        <title>The domain name</title>
        <simpara>The naming for the domain name is a tricky one for the normal PC workstation users.  The PC workstation may be mobile one hopping around the network or located behind the NAT firewall inaccessible from the Internet. For such case, you may not want the domain name to be a valid domain name to avoid name collision.</simpara>
        <simpara>According to <ulink url="&rfccgag;">rfc2606</ulink>, "<literal>invalid</literal>" seems to be a choice for the <ulink url="&topleveldomaintld;">top level domain (TLD)</ulink> to construct domain names that are sure to be invalid from the Internet.</simpara>
        <simpara>The <ulink url="&mdns;">mDNS</ulink> network discovery protocol (<ulink url="&applebonjourapplerendezvous;">Apple Bonjour / Apple Rendezvous</ulink>, Avahi on Debian) uses <ulink url="&local;">"local"</ulink> as the <ulink url="&pseudotopleveldomain;">pseudo-top-level domain</ulink>.  <ulink url="&microsoftalsoseelocalareanetwork;">Microsoft also seems to promote "local" for the TLD of local area network</ulink>.</simpara>
        <simpara>Other popular choices for the invalid TLD seem to be "<literal>localdomain</literal>", "<literal>lan</literal>", "<literal>localnet</literal>", or "<literal>home</literal>" according to my incoming mail analysis.</simpara>
      </section>
      <section id="_the_hostname_resolution">
        <title>The hostname resolution</title>
        <simpara>The hostname resolution is currently supported by the <ulink url="&nssnameserviceswitch;">NSS (Name Service Switch)</ulink> mechanism too.  The flow of this resolution is the following.</simpara>
        <orderedlist>
          <listitem>
            <simpara>
The "<literal>/etc/nsswitch.conf</literal>" file with stanza like "<literal>hosts: files dns</literal>" dictates the hostname resolution order. (This replaces the old functionality of the "<literal>order</literal>" stanza in "<literal>/etc/host.conf</literal>".)
</simpara>
          </listitem>
          <listitem>
            <simpara>
The <literal>files</literal> method is invoked first.  If the hostname is found in the "<literal>/etc/hosts</literal>" file, it returns all valid addresses for it and exits. (The "<literal>/etc/host.conf</literal>" file contains "<literal>multi on</literal>".)
</simpara>
          </listitem>
          <listitem>
            <simpara>
The <literal>dns</literal> method is invoked.  If the hostname is found by the query to the <ulink url="&internetdomainnamesystemdns;">Internet Domain Name System (DNS)</ulink> identified by the "<literal>/etc/resolv.conf</literal>" file, it returns all valid addresses for it and exits.
</simpara>
          </listitem>
        </orderedlist>
        <simpara>The "<literal>/etc/hosts</literal>" file <ulink url="&associatesipaddrseswithhostnames;">associates IP addresses with hostnames</ulink> contains the following.</simpara>
        <screen>127.0.0.1 localhost
127.0.1.1 &lt;host_name&gt;.&lt;domain_name&gt; &lt;host_name&gt;

# The following lines are desirable for IPv6 capable hosts
::1     ip6-localhost ip6-loopback
fe00::0 ip6-localnet
ff00::0 ip6-mcastprefix
ff02::1 ip6-allnodes
ff02::2 ip6-allrouters
ff02::3 ip6-allhosts</screen>
        <simpara>Here the &lt;host_name&gt; in this matches the own hostname defined in the "<literal>/etc/hostname</literal>".  The &lt;domain_name&gt; in this is the <ulink url="&fullyqualifieddomainnamefqdn;">fully qualified domain name (FQDN)</ulink> of this host.</simpara>
        <tip>
          <simpara>For the mobile PC without real FQDN, you may pick a TLD such as bogus "<literal>invalid</literal>" or mDNS "<literal>local</literal>" as the TLD part of &lt;domain_name&gt; in this configuration.</simpara>
        </tip>
        <simpara>The "<literal>/etc/resolv.conf</literal>" is a static file if the <literal>resolvconf</literal> package is not installed.  If installed, it is a symbolic link.  Either way, it contains information that initialize the resolver routines. If the DNS is found at IP="<literal>192.168.11.1</literal>", it contains the following.</simpara>
        <screen>nameserver 192.168.11.1</screen>
        <simpara>The <literal>resolvconf</literal> package makes this "<literal>/etc/resolv.conf</literal>" into a symbolic link and manages its contents by the hook scripts automatically.</simpara>
        <simpara>The hostname resolution via Multicast DNS (using <ulink url="&zeroconf;">Zeroconf</ulink>, aka <ulink url="&applebonjourapplerendezvous;">Apple Bonjour / Apple Rendezvous</ulink>) which effectively allows name resolution by common Unix/Linux programs in the ad-hoc mDNS domain "<literal>local</literal>", can be provided by installing the <literal>libnss-mdns</literal> package.  The "<literal>/etc/nsswitch.conf</literal>" file should have stanza like "<literal>hosts: files mdns4_minimal [NOTFOUND=return] dns mdns4</literal>" to enable this functionality.</simpara>
      </section>
      <section id="_the_network_interface_name">
        <title>The network interface name</title>
        <simpara>The network interface name, e.g. <literal>eth0</literal>, is assigned to each hardware in the Linux kernel through the user space configuration mechanism, <literal>udev</literal> (see <xref linkend="_the_udev_system"/>), as it is found.  The network interface name is referred as <emphasis role="strong">physical interface</emphasis> in <literal>ifup</literal>(8) and <literal>interfaces</literal>(5).</simpara>
        <simpara>In order to ensure each network interface to be named persistently for each reboot using <ulink url="&macaddress;">MAC address</ulink> etc., there is a record file "<literal>/etc/udev/rules.d/70-persistent-net.rules</literal>".  This file is automatically generated by the "<literal>/lib/udev/write_net_rules</literal>" program, probably run by the "<literal>persistent-net-generator.rules</literal>" rules file. You can modify it to change naming rule.</simpara>
        <caution>
          <simpara>When editing the "<literal>/etc/udev/rules.d/70-persistent-net.rules</literal>" rules file, you must keep each rule on a single line and the <ulink url="&macaddress;">MAC address</ulink> in lowercase. For example, if you find "Firewire device" and "PCI device" in this file, you probably want to name "PCI device" as <literal>eth0</literal> and configure it as the primary network interface.</simpara>
        </caution>
      </section>
      <section id="_the_network_address_range_for_the_lan">
        <title>The network address range for the LAN</title>
        <simpara>Let us be reminded of the IPv4 32 bit address ranges in each class reserved for use on the <ulink url="&localareanetworkslans;">local area networks (LANs)</ulink> by <ulink url="&rfcbjbi;">rfc1918</ulink>.  These addresses are guaranteed not to conflict with any addresses on the Internet proper.</simpara>
        <table id="listofnetworkaddressranges" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of network address ranges</title>
          <tgroup cols="5">
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="60%*" align="left"/>
            <thead>
              <row>
                <entry>
    Class
    </entry>
                <entry>
    network addresses
    </entry>
                <entry>
    net mask
    </entry>
                <entry>
    net mask /bits
    </entry>
                <entry>
    # of subnets
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
    A
    </entry>
                <entry>
    10.x.x.x
    </entry>
                <entry>
    255.0.0.0
    </entry>
                <entry>
    /8
    </entry>
                <entry>
    1
    </entry>
              </row>
              <row>
                <entry>
    B
    </entry>
                <entry>
    172.16.x.x — 172.31.x.x
    </entry>
                <entry>
    255.255.0.0
    </entry>
                <entry>
    /16
    </entry>
                <entry>
    16
    </entry>
              </row>
              <row>
                <entry>
    C
    </entry>
                <entry>
    192.168.0.x — 192.168.255.x
    </entry>
                <entry>
    255.255.255.0
    </entry>
                <entry>
    /24
    </entry>
                <entry>
    256
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <note>
          <simpara>If one of these addresses is assigned to a host, then that host must not access the Internet directly but must access it through a gateway that acts as a proxy for individual services or else does <ulink url="&networkaddresstranslationnat;">Network Address Translation(NAT)</ulink>.  The broadband router usually performs NAT for the consumer LAN environment.</simpara>
        </note>
      </section>
      <section id="_the_network_configuration_infrastructure">
        <title>The network configuration infrastructure</title>
        <simpara>There are 2 types of low level networking programs for Linux networking system (see <xref linkend="_iproute2_commands"/>).</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
Old <ulink url="&nettools;">net-tools</ulink> programs (<literal>ifconfig</literal>(8), …) are from the Linux NET-3 networking system. Most of these are obsolete now.
</simpara>
          </listitem>
          <listitem>
            <simpara>
New <ulink url="&linuxiproutec;">Linux iproute2</ulink> programs (<literal>ip</literal>(8), …) are the current Linux networking system.
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>Although these low level networking programs are powerful, they are cumbersome to use.  So high level network configuration systems have been created.</simpara>
        <simpara>The <literal>ifupdown</literal> package is the de facto standard for such high level network configuration system on Debian.  It enables you to bring up network simply by doing , e.g., "<literal>ifup eth0</literal>".  Its configuration file is the "<literal>/etc/network/interfaces</literal>" file and its typical contents are the following.</simpara>
        <screen>auto lo
iface lo inet loopback

auto eth0
iface eth0 inet dhcp</screen>
        <simpara>The <literal>resolvconf</literal> package was created to supplement <literal>ifupdown</literal> system to support smooth reconfiguration of network address resolution by automating rewrite of resolver configuration file "<literal>/etc/resolv.conf</literal>".  Now, most Debian network configuration packages are modified to use <literal>resolvconf</literal> package (see "<literal>/usr/share/doc/resolvconf/README.Debian</literal>").</simpara>
        <simpara>Helper scripts to the <literal>ifupdown</literal> package such as <literal>ifplugd</literal>, <literal>guessnet</literal>, <literal>ifscheme</literal>, etc. are created to automate dynamic configuration of network environment such as one for mobile PC on wired LAN.  These are relatively difficult to use but play well with existing <literal>ifupdown</literal> system.</simpara>
        <simpara>Alternative high level network configuration systems, independent of <literal>ifupdown</literal> system, such as <literal>network-manager</literal>, <literal>wicd</literal>, etc. are created to ease configuration of network environment even for mobile PC on wireless network.  Since these are relatively new system and their integration to Debian system is in progress, you may still need to disable the corresponding network interface configuration manually in "<literal>/etc/network/interfaces</literal>" to avoid conflicts between these and <literal>ifupdown</literal> (see <xref linkend="_automatic_network_configuration"/>).</simpara>
        <table id="listofnetworkconfigurationtools" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of network configuration tools</title>
          <tgroup cols="5">
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="60%*" align="left"/>
            <thead>
              <row>
                <entry>
    packages
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    size
    </entry>
                <entry>
    type
    </entry>
                <entry>
    description
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/ifupdown">
                  <literal>ifupdown</literal>
                </ulink> <ulink url="http://bugs.debian.org/ifupdown">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=ifupdown">&pop-ifupdown;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/i/ifupdown.html">&size-ifupdown;</ulink></entry>
                <entry>
    config::ifupdown
    </entry>
                <entry>
    standardized tool to bring up and down the network (Debian specific)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/ifplugd">
                  <literal>ifplugd</literal>
                </ulink> <ulink url="http://bugs.debian.org/ifplugd">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=ifplugd">&pop-ifplugd;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/i/ifplugd.html">&size-ifplugd;</ulink></entry>
                <entry>
    , ,
    </entry>
                <entry>
    manage the wired network automatically
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/ifupdown-extra">
                  <literal>ifupdown-extra</literal>
                </ulink> <ulink url="http://bugs.debian.org/ifupdown-extra">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=ifupdown-extra">&pop-ifupdownextra;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/i/ifupdown-extra.html">&size-ifupdownextra;</ulink></entry>
                <entry>
    , ,
    </entry>
                <entry>
    network testing script to enhance "<literal>ifupdown</literal>" package
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/ifmetric">
                  <literal>ifmetric</literal>
                </ulink> <ulink url="http://bugs.debian.org/ifmetric">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=ifmetric">&pop-ifmetric;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/i/ifmetric.html">&size-ifmetric;</ulink></entry>
                <entry>
    , ,
    </entry>
                <entry>
    set routing metrics for a network interface
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/guessnet">
                  <literal>guessnet</literal>
                </ulink> <ulink url="http://bugs.debian.org/guessnet">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=guessnet">&pop-guessnet;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/g/guessnet.html">&size-guessnet;</ulink></entry>
                <entry>
    , ,
    </entry>
                <entry>
    mapping script to enhance "<literal>ifupdown</literal>" package via "<literal>/etc/network/interfaces</literal>" file
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/ifscheme">
                  <literal>ifscheme</literal>
                </ulink> <ulink url="http://bugs.debian.org/ifscheme">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=ifscheme">&pop-ifscheme;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/i/ifscheme.html">&size-ifscheme;</ulink></entry>
                <entry>
    , ,
    </entry>
                <entry>
    mapping scripts to enhance "<literal>ifupdown</literal>" package
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/ifupdown-scripts-zg2">
                  <literal>ifupdown-scripts-zg2</literal>
                </ulink> <ulink url="http://bugs.debian.org/ifupdown-scripts-zg2">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=ifupdown-scripts-zg2">&pop-ifupdownscriptszgc;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/i/ifupdown-scripts-zg2.html">&size-ifupdownscriptszgc;</ulink></entry>
                <entry>
    , ,
    </entry>
                <entry>
    Zugschlus' interface scripts for ifupdown's manual method
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/network-manager">
                  <literal>network-manager</literal>
                </ulink> <ulink url="http://bugs.debian.org/network-manager">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=network-manager">&pop-networkmanager;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/n/network-manager.html">&size-networkmanager;</ulink></entry>
                <entry>
    config::NM
    </entry>
                <entry><ulink url="&networkmanager;">NetworkManager</ulink> (daemon): manage the network automatically
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/network-manager-gnome">
                  <literal>network-manager-gnome</literal>
                </ulink> <ulink url="http://bugs.debian.org/network-manager-gnome">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=network-manager-gnome">&pop-networkmanagergnome;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/n/network-manager-gnome.html">&size-networkmanagergnome;</ulink></entry>
                <entry>
    , ,
    </entry>
                <entry><ulink url="&networkmanager;">NetworkManager</ulink> (GNOME frontend)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/network-manager-kde">
                  <literal>network-manager-kde</literal>
                </ulink> <ulink url="http://bugs.debian.org/network-manager-kde">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=network-manager-kde">&pop-networkmanagerkde;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/n/network-manager-kde.html">&size-networkmanagerkde;</ulink></entry>
                <entry>
    , ,
    </entry>
                <entry><ulink url="&networkmanager;">NetworkManager</ulink> (KDE frontend)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/wicd">
                  <literal>wicd</literal>
                </ulink> <ulink url="http://bugs.debian.org/wicd">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=wicd">&pop-wicd;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/w/wicd.html">&size-wicd;</ulink></entry>
                <entry>
    config::wicd
    </entry>
                <entry>
    wired and wireless network manager
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/iptables">
                  <literal>iptables</literal>
                </ulink> <ulink url="http://bugs.debian.org/iptables">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=iptables">&pop-iptables;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/i/iptables.html">&size-iptables;</ulink></entry>
                <entry>
    config::Netfilter
    </entry>
                <entry>
    administration tools for packet filtering and NAT (<ulink url="&netfilter;">Netfilter</ulink>)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/iproute">
                  <literal>iproute</literal>
                </ulink> <ulink url="http://bugs.debian.org/iproute">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=iproute">&pop-iproute;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/i/iproute.html">&size-iproute;</ulink></entry>
                <entry>
    config::iproute2
    </entry>
                <entry><ulink url="&iproutec;">iproute2</ulink>, IPv6 and other advanced network configuration: <literal>ip</literal>(8), <literal>tc</literal>(8), etc
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/ifrename">
                  <literal>ifrename</literal>
                </ulink> <ulink url="http://bugs.debian.org/ifrename">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=ifrename">&pop-ifrename;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/i/ifrename.html">&size-ifrename;</ulink></entry>
                <entry>
    , ,
    </entry>
                <entry>
    rename network interfaces based on various static criteria: <literal>ifrename</literal>(8)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/ethtool">
                  <literal>ethtool</literal>
                </ulink> <ulink url="http://bugs.debian.org/ethtool">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=ethtool">&pop-ethtool;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/e/ethtool.html">&size-ethtool;</ulink></entry>
                <entry>
    , ,
    </entry>
                <entry>
    display or change Ethernet device settings
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/iputils-ping">
                  <literal>iputils-ping</literal>
                </ulink> <ulink url="http://bugs.debian.org/iputils-ping">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=iputils-ping">&pop-iputilsping;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/i/iputils-ping.html">&size-iputilsping;</ulink></entry>
                <entry>
    test::iproute2
    </entry>
                <entry>
    test network reachability of a remote host by <ulink url="&hostname;">hostname</ulink> or <ulink url="&ipaddress;">IP address</ulink> (<ulink url="&iproutec;">iproute2</ulink>)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/iputils-arping">
                  <literal>iputils-arping</literal>
                </ulink> <ulink url="http://bugs.debian.org/iputils-arping">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=iputils-arping">&pop-iputilsarping;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/i/iputils-arping.html">&size-iputilsarping;</ulink></entry>
                <entry>
    , ,
    </entry>
                <entry>
    test network reachability of a remote host specified by the <ulink url="&arp;">ARP</ulink> address
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/iputils-tracepath">
                  <literal>iputils-tracepath</literal>
                </ulink> <ulink url="http://bugs.debian.org/iputils-tracepath">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=iputils-tracepath">&pop-iputilstracepath;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/i/iputils-tracepath.html">&size-iputilstracepath;</ulink></entry>
                <entry>
    , ,
    </entry>
                <entry>
    trace the network path to a remote host
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/net-tools">
                  <literal>net-tools</literal>
                </ulink> <ulink url="http://bugs.debian.org/net-tools">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=net-tools">&pop-nettools;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/n/net-tools.html">&size-nettools;</ulink></entry>
                <entry>
    config::net-tools
    </entry>
                <entry>
    NET-3 networking toolkit (<ulink url="&nettools;">net-tools</ulink>, IPv4 network configuration):  <literal>ifconfig</literal>(8) etc.
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/inetutils-ping">
                  <literal>inetutils-ping</literal>
                </ulink> <ulink url="http://bugs.debian.org/inetutils-ping">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=inetutils-ping">&pop-inetutilsping;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/i/inetutils-ping.html">&size-inetutilsping;</ulink></entry>
                <entry>
    test::net-tools
    </entry>
                <entry>
    test network reachability of a remote host by <ulink url="&hostname;">hostname</ulink> or <ulink url="&ipaddress;">IP address</ulink> (legacy, GNU)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/arping">
                  <literal>arping</literal>
                </ulink> <ulink url="http://bugs.debian.org/arping">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=arping">&pop-arping;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/a/arping.html">&size-arping;</ulink></entry>
                <entry>
    , ,
    </entry>
                <entry>
    test network reachability of a remote host specified by the <ulink url="&arp;">ARP</ulink> address (legacy)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/traceroute">
                  <literal>traceroute</literal>
                </ulink> <ulink url="http://bugs.debian.org/traceroute">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=traceroute">&pop-traceroute;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/t/traceroute.html">&size-traceroute;</ulink></entry>
                <entry>
    , ,
    </entry>
                <entry>
    trace the network path to a remote host (legacy, console)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/dhcp3-client">
                  <literal>dhcp3-client</literal>
                </ulink> <ulink url="http://bugs.debian.org/dhcp3-client">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=dhcp3-client">&pop-dhcpdclient;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/d/dhcp3-client.html">&size-dhcpdclient;</ulink></entry>
                <entry>
    config::low-level
    </entry>
                <entry>
    DHCP client
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/wpasupplicant">
                  <literal>wpasupplicant</literal>
                </ulink> <ulink url="http://bugs.debian.org/wpasupplicant">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=wpasupplicant">&pop-wpasupplicant;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/w/wpasupplicant.html">&size-wpasupplicant;</ulink></entry>
                <entry>
    , ,
    </entry>
                <entry>
    client support for WPA and WPA2 (IEEE 802.11i)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/wireless-tools">
                  <literal>wireless-tools</literal>
                </ulink> <ulink url="http://bugs.debian.org/wireless-tools">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=wireless-tools">&pop-wirelesstools;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/w/wireless-tools.html">&size-wirelesstools;</ulink></entry>
                <entry>
    , ,
    </entry>
                <entry>
    tools for manipulating Linux Wireless Extensions
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/ppp">
                  <literal>ppp</literal>
                </ulink> <ulink url="http://bugs.debian.org/ppp">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=ppp">&pop-ppp;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/p/ppp.html">&size-ppp;</ulink></entry>
                <entry>
    , ,
    </entry>
                <entry>
    PPP/PPPoE connection with <literal>chat</literal>
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/pppoeconf">
                  <literal>pppoeconf</literal>
                </ulink> <ulink url="http://bugs.debian.org/pppoeconf">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=pppoeconf">&pop-pppoeconf;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/p/pppoeconf.html">&size-pppoeconf;</ulink></entry>
                <entry>
    config::helper
    </entry>
                <entry>
    configuration helper for PPPoE connection
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/pppconfig">
                  <literal>pppconfig</literal>
                </ulink> <ulink url="http://bugs.debian.org/pppconfig">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=pppconfig">&pop-pppconfig;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/p/pppconfig.html">&size-pppconfig;</ulink></entry>
                <entry>
    , ,
    </entry>
                <entry>
    configuration helper for PPP connection with <literal>chat</literal>
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/wvdial">
                  <literal>wvdial</literal>
                </ulink> <ulink url="http://bugs.debian.org/wvdial">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=wvdial">&pop-wvdial;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/w/wvdial.html">&size-wvdial;</ulink></entry>
                <entry>
    , ,
    </entry>
                <entry>
    configuration helper for PPP connection with <literal>wvdial</literal> and <literal>ppp</literal>
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/mtr-tiny">
                  <literal>mtr-tiny</literal>
                </ulink> <ulink url="http://bugs.debian.org/mtr-tiny">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=mtr-tiny">&pop-mtrtiny;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/m/mtr-tiny.html">&size-mtrtiny;</ulink></entry>
                <entry>
    test::low-level
    </entry>
                <entry>
    trace the network path to a remote host (curses)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/mtr">
                  <literal>mtr</literal>
                </ulink> <ulink url="http://bugs.debian.org/mtr">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=mtr">&pop-mtr;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/m/mtr.html">&size-mtr;</ulink></entry>
                <entry>
    , ,
    </entry>
                <entry>
    trace the network path to a remote host (curses and GTK+)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/gnome-nettool">
                  <literal>gnome-nettool</literal>
                </ulink> <ulink url="http://bugs.debian.org/gnome-nettool">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=gnome-nettool">&pop-gnomenettool;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/g/gnome-nettool.html">&size-gnomenettool;</ulink></entry>
                <entry>
    , ,
    </entry>
                <entry>
    tools for common network information operations (GNOME)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/nmap">
                  <literal>nmap</literal>
                </ulink> <ulink url="http://bugs.debian.org/nmap">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=nmap">&pop-nmap;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/n/nmap.html">&size-nmap;</ulink></entry>
                <entry>
    , ,
    </entry>
                <entry>
    network mapper / port scanner (<ulink url="&nmap;">Nmap</ulink>, console)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/zenmap">
                  <literal>zenmap</literal>
                </ulink> <ulink url="http://bugs.debian.org/zenmap">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=zenmap">&pop-zenmap;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/z/zenmap.html">&size-zenmap;</ulink></entry>
                <entry>
    , ,
    </entry>
                <entry>
    network mapper / port scanner (GTK+)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/knmap">
                  <literal>knmap</literal>
                </ulink> <ulink url="http://bugs.debian.org/knmap">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=knmap">&pop-knmap;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/k/knmap.html">&size-knmap;</ulink></entry>
                <entry>
    , ,
    </entry>
                <entry>
    network mapper / port scanner (KDE)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/tcpdump">
                  <literal>tcpdump</literal>
                </ulink> <ulink url="http://bugs.debian.org/tcpdump">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=tcpdump">&pop-tcpdump;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/t/tcpdump.html">&size-tcpdump;</ulink></entry>
                <entry>
    , ,
    </entry>
                <entry>
    network traffic analyzer (<ulink url="&tcpdump;">Tcpdump</ulink>, console)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/wireshark">
                  <literal>wireshark</literal>
                </ulink> <ulink url="http://bugs.debian.org/wireshark">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=wireshark">&pop-wireshark;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/w/wireshark.html">&size-wireshark;</ulink></entry>
                <entry>
    , ,
    </entry>
                <entry>
    network traffic analyzer (<ulink url="&wireshark;">Wireshark</ulink>, GTK+)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/tshark">
                  <literal>tshark</literal>
                </ulink> <ulink url="http://bugs.debian.org/tshark">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=tshark">&pop-tshark;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/t/tshark.html">&size-tshark;</ulink></entry>
                <entry>
    , ,
    </entry>
                <entry>
    network traffic analyzer (console)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/nagios3">
                  <literal>nagios3</literal>
                </ulink> <ulink url="http://bugs.debian.org/nagios3">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=nagios3">&pop-nagiosd;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/n/nagios3.html">&size-nagiosd;</ulink></entry>
                <entry>
    , ,
    </entry>
                <entry>
    monitoring and management system for hosts, services and networks (<ulink url="&nagios;">Nagios</ulink>)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/tcptrace">
                  <literal>tcptrace</literal>
                </ulink> <ulink url="http://bugs.debian.org/tcptrace">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=tcptrace">&pop-tcptrace;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/t/tcptrace.html">&size-tcptrace;</ulink></entry>
                <entry>
    , ,
    </entry>
                <entry>
    produce a summarization of the connections from <literal>tcpdump</literal> output
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/snort">
                  <literal>snort</literal>
                </ulink> <ulink url="http://bugs.debian.org/snort">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=snort">&pop-snort;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/s/snort.html">&size-snort;</ulink></entry>
                <entry>
    , ,
    </entry>
                <entry>
    flexible network intrusion detection system (<ulink url="&snort;">Snort</ulink>)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/ntop">
                  <literal>ntop</literal>
                </ulink> <ulink url="http://bugs.debian.org/ntop">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=ntop">&pop-ntop;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/n/ntop.html">&size-ntop;</ulink></entry>
                <entry>
    , ,
    </entry>
                <entry>
    display network usage in web browser
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/dnsutils">
                  <literal>dnsutils</literal>
                </ulink> <ulink url="http://bugs.debian.org/dnsutils">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=dnsutils">&pop-dnsutils;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/d/dnsutils.html">&size-dnsutils;</ulink></entry>
                <entry>
    , ,
    </entry>
                <entry>
    network clients provided with <ulink url="&bind;">BIND</ulink>: <literal>nslookup</literal>(8), <literal>nsupdate</literal>(8), <literal>dig</literal>(8)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/dlint">
                  <literal>dlint</literal>
                </ulink> <ulink url="http://bugs.debian.org/dlint">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=dlint">&pop-dlint;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/d/dlint.html">&size-dlint;</ulink></entry>
                <entry>
    , ,
    </entry>
                <entry>
    check <ulink url="&dns;">DNS</ulink> zone information using nameserver lookups
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/dnstracer">
                  <literal>dnstracer</literal>
                </ulink> <ulink url="http://bugs.debian.org/dnstracer">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=dnstracer">&pop-dnstracer;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/d/dnstracer.html">&size-dnstracer;</ulink></entry>
                <entry>
    , ,
    </entry>
                <entry>
    trace a chain of <ulink url="&dns;">DNS</ulink> servers to the source
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </section>
      <section id="_the_network_device_support">
        <title>The network device support</title>
        <simpara>Although most hardware devices are supported by the Debian system, there are some network devices which require <ulink url="&dsfg;">DSFG</ulink> non-free external hardware drivers to support them.  Please see <xref linkend="_non_free_hardware_drivers"/>.</simpara>
      </section>
    </section>
    <section id="_the_network_connection_method">
      <title>The network connection method</title>
      <caution>
        <simpara>The connection test method described in this section are meant for testing purposes.  It is not meant to be used directly for the daily network connection.  You are advised to use them via the <literal>ifupdown</literal> package (see <xref linkend="_the_basic_network_configuration_with_ifupdown"/>).</simpara>
      </caution>
      <simpara>The typical network connection method and connection path for a PC can be summarized as the following.</simpara>
      <table id="listofnetworkcondconnectionpaths" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>List of network connection methods and connection paths</title>
        <tgroup cols="3">
          <colspec colwidth="30%*" align="left"/>
          <colspec colwidth="30%*" align="left"/>
          <colspec colwidth="40%*" align="left"/>
          <thead>
            <row>
              <entry>
    PC
    </entry>
              <entry>
    connection method
    </entry>
              <entry>
    connection path
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry>
    Serial port (<literal>ppp0</literal>)
    </entry>
              <entry>
    PPP
    </entry>
              <entry>
    ⇔ <ulink url="&modem;">modem</ulink> ⇔ POTS ⇔ dial-up access point ⇔ ISP
    </entry>
            </row>
            <row>
              <entry>
    Ethernet port (<literal>eth0</literal>)
    </entry>
              <entry>
    PPPoE/DHCP/Static
    </entry>
              <entry>
    ⇔ BB-modem ⇔ BB service ⇔ BB access point ⇔ ISP
    </entry>
            </row>
            <row>
              <entry>
    Ethernet port (<literal>eth0</literal>)
    </entry>
              <entry>
    DHCP/Static
    </entry>
              <entry>
    ⇔ LAN ⇔ BB-router with <ulink url="&networkaddresstranslationnat;">network address translation (NAT)</ulink> (⇔ BB-modem …)
    </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <simpara>Here is the summary of configuration script for each connection method.</simpara>
      <table id="listofnetworkcononconfigurations" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>List of network connection configurations</title>
        <tgroup cols="3">
          <colspec colwidth="30%*" align="left"/>
          <colspec colwidth="30%*" align="left"/>
          <colspec colwidth="40%*" align="left"/>
          <thead>
            <row>
              <entry>
    connection method
    </entry>
              <entry>
    configuration
    </entry>
              <entry>
    backend package(s)
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry>
    PPP
    </entry>
              <entry><literal>pppconfig</literal> to create deterministic chat
    </entry>
              <entry><literal>pppconfig</literal>, <literal>ppp</literal></entry>
            </row>
            <row>
              <entry>
    PPP (alternative)
    </entry>
              <entry><literal>wvdialconf</literal> to create heuristic chat
    </entry>
              <entry><literal>ppp</literal>, <literal>wvdial</literal></entry>
            </row>
            <row>
              <entry>
    PPPoE
    </entry>
              <entry><literal>pppoeconf</literal> to create deterministic chat
    </entry>
              <entry><literal>pppoeconf</literal>, <literal>ppp</literal></entry>
            </row>
            <row>
              <entry>
    DHCP
    </entry>
              <entry>
    described in "<literal>/etc/dhcp3/dhclient.conf</literal>"
    </entry>
              <entry>
                <literal>dhcp3-client</literal>
              </entry>
            </row>
            <row>
              <entry>
    static IP (IPv4)
    </entry>
              <entry>
    described in "<literal>/etc/network/interfaces</literal>"
    </entry>
              <entry>
                <literal>net-tools</literal>
              </entry>
            </row>
            <row>
              <entry>
    static IP (IPv6)
    </entry>
              <entry>
    described in "<literal>/etc/network/interfaces</literal>"
    </entry>
              <entry>
                <literal>iproute</literal>
              </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <simpara>The network connection acronyms mean the following.</simpara>
      <table id="listofnetworkconnectionacronyms" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>List of network connection acronyms</title>
        <tgroup cols="2">
          <colspec colwidth="30%*" align="left"/>
          <colspec colwidth="70%*" align="left"/>
          <thead>
            <row>
              <entry>
    acronym
    </entry>
              <entry>
    meaning
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry>
                <ulink url="&pots;">POTS</ulink>
              </entry>
              <entry>
    plain old telephone service
    </entry>
            </row>
            <row>
              <entry>
    BB
    </entry>
              <entry>
                <ulink url="&broadband;">broadband</ulink>
              </entry>
            </row>
            <row>
              <entry>
    BB-service
    </entry>
              <entry>
    e.g., the digital subscriber line (DSL), the cable TV, or the fiber to the premises (FTTP)
    </entry>
            </row>
            <row>
              <entry>
    BB-modem
    </entry>
              <entry>
    e.g., <ulink url="&thedslmodem;">the DSL modem</ulink>, <ulink url="&thecablemodem;">the cable modem</ulink>, or <ulink url="&theopticalnetworkterminalont;">the optical network terminal (ONT)</ulink>
    </entry>
            </row>
            <row>
              <entry>
                <ulink url="&lan;">LAN</ulink>
              </entry>
              <entry>
    local area network
    </entry>
            </row>
            <row>
              <entry>
                <ulink url="&wan;">WAN</ulink>
              </entry>
              <entry>
    wide area network
    </entry>
            </row>
            <row>
              <entry>
                <ulink url="&dhcp;">DHCP</ulink>
              </entry>
              <entry>
    dynamic host configuration protocol
    </entry>
            </row>
            <row>
              <entry>
                <ulink url="&ppp;">PPP</ulink>
              </entry>
              <entry>
    point-to-point protocol
    </entry>
            </row>
            <row>
              <entry>
                <ulink url="&pppoe;">PPPoE</ulink>
              </entry>
              <entry>
    point-to-point protocol over Ethernet
    </entry>
            </row>
            <row>
              <entry>
                <ulink url="&isp;">ISP</ulink>
              </entry>
              <entry>
    Internet service provider
    </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <note>
        <simpara>The WAN connection services via cable TV are generally served by DHCP or PPPoE.  The ones by ADSL and FTTP are generally served by PPPoE.  You have to consult your ISP for exact configuration requirements of the WAN connection.</simpara>
      </note>
      <note>
        <simpara>When BB-router is used to create home LAN environment, PCs on LAN are connected to the WAN via BB-router with <ulink url="&networkaddresstranslationnat;">network address translation (NAT)</ulink>.  For such case, PC's network interfaces on the LAN are served by static IP or DHCP from the BB-router.  BB-router must be configured to connect the WAN following the instruction by your ISP.</simpara>
      </note>
      <section id="_the_dhcp_connection_with_the_ethernet">
        <title>The DHCP connection with the Ethernet</title>
        <simpara>The typical modern home and small business network, i.e. LAN, are connected to the WAN(Internet) using some consumer grade broadband router.  The LAN behind this router is usually served by the <ulink url="&dynamichostconfitionprotocoldhcp;">dynamic host configuration protocol (DHCP)</ulink> server running on the router.</simpara>
        <simpara>Just install the <literal>dhcp3-client</literal> package for the Ethernet served by the <ulink url="&dynamichostconfitionprotocoldhcp;">dynamic host configuration protocol (DHCP)</ulink>.</simpara>
      </section>
      <section id="_the_static_ip_connection_with_the_ethernet">
        <title>The static IP connection with the Ethernet</title>
        <simpara>No special action is needed for the Ethernet served by the static IP.</simpara>
      </section>
      <section id="_the_ppp_connection_with_pppconfig">
        <title>The PPP connection with pppconfig</title>
        <simpara>The configuration script <literal>pppconfig</literal> will configure the <ulink url="&ppp;">PPP</ulink> connection interactively just by selecting the following.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
The telephone number
</simpara>
          </listitem>
          <listitem>
            <simpara>
The ISP user name
</simpara>
          </listitem>
          <listitem>
            <simpara>
The ISP password
</simpara>
          </listitem>
          <listitem>
            <simpara>
The port speed
</simpara>
          </listitem>
          <listitem>
            <simpara>
The modem communication port
</simpara>
          </listitem>
          <listitem>
            <simpara>
The authentication method
</simpara>
          </listitem>
        </itemizedlist>
        <table id="listofconfigurationwithpppconfig" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of configuration files for the <ulink url="&ppp;">PPP</ulink> connection with pppconfig</title>
          <tgroup cols="2">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="70%*" align="left"/>
            <thead>
              <row>
                <entry>
    file
    </entry>
                <entry>
    function
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>/etc/ppp/peers/&lt;isp_name&gt;</literal>
                </entry>
                <entry>
    The <literal>pppconfig</literal> generated configuration file for <literal>pppd</literal> specific to &lt;isp_name&gt;
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/etc/chatscripts/&lt;isp_name&gt;</literal>
                </entry>
                <entry>
    The <literal>pppconfig</literal> generated configuration file for <literal>chat</literal> specific to &lt;isp_name&gt;
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/etc/ppp/options</literal>
                </entry>
                <entry>
    The general execution parameter for <literal>pppd</literal>
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/etc/ppp/pap-secret</literal>
                </entry>
                <entry>
    Authentication data for the <ulink url="&pap;">PAP</ulink> (security risk)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/etc/ppp/chap-secret</literal>
                </entry>
                <entry>
    Authentication data for the <ulink url="&chap;">CHAP</ulink> (more secure)
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <caution>
          <simpara>The "&lt;isp_name&gt;" value of "<literal>provider</literal>" is assumed if <literal>pon</literal> and <literal>poff</literal> commands are invoked without arguments.</simpara>
        </caution>
        <simpara>You can test configuration using low level network configuration tools as the following.</simpara>
        <screen>$ sudo pon &lt;isp_name&gt;
...
$ sudo poff &lt;isp_name&gt;</screen>
        <simpara>See "<literal>/usr/share/doc/ppp/README.Debian.gz</literal>".</simpara>
      </section>
      <section id="_the_alternative_ppp_connection_with_wvdialconf">
        <title>The alternative PPP connection with wvdialconf</title>
        <simpara>A different approach to using <literal>pppd</literal>(8) is to run it from <literal>wvdial</literal>(1) which comes in the <literal>wvdial</literal> package.  Instead of <literal>pppd</literal> running <literal>chat</literal>(8) to dial in and negotiate the connection, <literal>wvdial</literal> does the dialing and initial negotiating and then starts <literal>pppd</literal> to do the rest.</simpara>
        <simpara>The configuration script <literal>wvdialconf</literal> will configure the PPP connection interactively just by selecting the following.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
The telephone number
</simpara>
          </listitem>
          <listitem>
            <simpara>
The ISP user name
</simpara>
          </listitem>
          <listitem>
            <simpara>
The ISP password
</simpara>
          </listitem>
        </itemizedlist>
        <simpara><literal>wvdial</literal> succeeds in making the connection in most cases and maintains authentication data list automatically.</simpara>
        <table id="listofconfiguratonwithwvdialconf" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of configuration files for the PPP connection with wvdialconf</title>
          <tgroup cols="2">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="70%*" align="left"/>
            <thead>
              <row>
                <entry>
    file
    </entry>
                <entry>
    function
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>/etc/ppp/peers/wvdial</literal>
                </entry>
                <entry>
    The <literal>wvdialconf</literal> generated configuration file for <literal>pppd</literal> specific to <literal>wvdial</literal>
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/etc/wvdial.conf</literal>
                </entry>
                <entry>
    The <literal>wvdialconf</literal> generated configuration file
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/etc/ppp/options</literal>
                </entry>
                <entry>
    The general execution parameter for <literal>pppd</literal>
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/etc/ppp/pap-secret</literal>
                </entry>
                <entry>
    Authentication data for the <ulink url="&pap;">PAP</ulink> (security risk)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/etc/ppp/chap-secret</literal>
                </entry>
                <entry>
    Authentication data for the <ulink url="&chap;">CHAP</ulink> (more secure)
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>You can test configuration using low level network configuration tools as the following.</simpara>
        <screen>$ sudo wvdial
...
$ sudo killall wvdial</screen>
        <simpara>See <literal>wvdial</literal>(1) and <literal>wvdial.conf</literal>(5).</simpara>
      </section>
      <section id="_the_pppoe_connection_with_pppoeconf">
        <title>The PPPoE connection with pppoeconf</title>
        <simpara>When your ISP serves you with PPPoE connection and you decide to connect your PC directly to the WAN, the network of your PC must be configured with the PPPoE. The PPPoE stand for PPP over Ethernet. The configuration script <literal>pppoeconf</literal> will configure the PPPoE connection interactively.</simpara>
        <simpara>The configuration files are the following.</simpara>
        <table id="listofconfigurationwithpppoeconf" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of configuration files for the PPPoE connection with pppoeconf</title>
          <tgroup cols="2">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="70%*" align="left"/>
            <thead>
              <row>
                <entry>
    file
    </entry>
                <entry>
    function
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>/etc/ppp/peers/dsl-provider</literal>
                </entry>
                <entry>
    The <literal>pppoeconf</literal> generated configuration file for <literal>pppd</literal> specific to <literal>pppoe</literal>
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/etc/ppp/options</literal>
                </entry>
                <entry>
    The general execution parameter for <literal>pppd</literal>
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/etc/ppp/pap-secret</literal>
                </entry>
                <entry>
    Authentication data for the <ulink url="&pap;">PAP</ulink> (security risk)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/etc/ppp/chap-secret</literal>
                </entry>
                <entry>
    Authentication data for the <ulink url="&chap;">CHAP</ulink> (more secure)
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>You can test configuration using low level network configuration tools as the following.</simpara>
        <screen>$ sudo /sbin/ifconfig eth0 up
$ sudo pon dsl-provider
...
$ sudo poff dsl-provider
$ sudo /sbin/ifconfig eth0 down</screen>
        <simpara>See "<literal>/usr/share/doc/pppoeconf/README.Debian</literal>".</simpara>
      </section>
    </section>
    <section id="_the_basic_network_configuration_with_ifupdown">
      <title>The basic network configuration with ifupdown</title>
      <simpara>The <literal>ifupdown</literal> package provides the standardized framework for the high level network configuration in the Debian system. In this section, we learn the basic network configuration with <literal>ifupdown</literal> with simplified introduction and many typical examples.</simpara>
      <section id="_the_command_syntax_simplified">
        <title>The command syntax simplified</title>
        <simpara>The <literal>ifupdown</literal> package contains 2 commands: <literal>ifup</literal>(8) and <literal>ifdown</literal>(8).  They offer high level network configuration dictated by the configuration file "/etc/network/interfaces".</simpara>
        <table id="listofbasicnetwoandswithifupdown" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of basic network configuration commands with ifupdown</title>
          <tgroup cols="2">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="70%*" align="left"/>
            <thead>
              <row>
                <entry>
    command
    </entry>
                <entry>
    action
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>ifup eth0</literal>
                </entry>
                <entry>
    bring up a network interface <literal>eth0</literal> with the configuration <literal>eth0</literal> if "<literal>iface eth0</literal>" stanza exists
    </entry>
              </row>
              <row>
                <entry>
                  <literal>ifdown eth0</literal>
                </entry>
                <entry>
    bring down a network interface <literal>eth0</literal> with the configuration <literal>eth0</literal> if "<literal>iface eth0</literal>" stanza exists
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <warning>
          <simpara>Do not use low level configuration tools such as <literal>ifconfig</literal>(8) and <literal>ip</literal>(8) commands to configure an interface in <emphasis role="strong">up</emphasis> state.</simpara>
        </warning>
        <note>
          <simpara>There is no command <literal>ifupdown</literal>.</simpara>
        </note>
      </section>
      <section id="_the_basic_syntax_of_etc_network_interfaces">
        <title>The basic syntax of "/etc/network/interfaces"</title>
        <simpara>The key syntax of "<literal>/etc/network/interfaces</literal>" as explained in <literal>interfaces</literal>(5) can be summarized as the following.</simpara>
        <table id="list-of-stanzas-in-eni" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of stanzas in "<literal>/etc/network/interfaces</literal>"</title>
          <tgroup cols="2">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="70%*" align="left"/>
            <thead>
              <row>
                <entry>
    stanza
    </entry>
                <entry>
    meaning
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
    "<literal>auto &lt;interface_name&gt;</literal>"
    </entry>
                <entry>
    start interface  &lt;interface_name&gt; upon start of the system
    </entry>
              </row>
              <row>
                <entry>
    "<literal>allow-auto &lt;interface_name&gt;</literal>"
    </entry>
                <entry>
    , ,
    </entry>
              </row>
              <row>
                <entry>
    "<literal>allow-hotplug &lt;interface_name&gt;</literal>"
    </entry>
                <entry>
    start interface &lt;interface_name&gt; when the kernel detects a hotplug event from the interface
    </entry>
              </row>
              <row>
                <entry>
    Lines started with "<literal>iface &lt;config_name&gt; …</literal>"
    </entry>
                <entry>
    define the network configuration &lt;config_name&gt;
    </entry>
              </row>
              <row>
                <entry>
    Lines started with "<literal>mapping &lt;interface_name_glob&gt; </literal>"
    </entry>
                <entry>
    define mapping value of &lt;config_name&gt; for the matching &lt;interface_name&gt;
    </entry>
              </row>
              <row>
                <entry>
    A line starting with a hash "<literal>#</literal>"
    </entry>
                <entry>
    ignore as comments (end-of-line comments are <emphasis role="strong">not</emphasis> supported)
    </entry>
              </row>
              <row>
                <entry>
    A line ending with a backslash "<literal>\</literal>"
    </entry>
                <entry>
    extend the configuration to the next line
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>Lines started with <emphasis role="strong"><literal>iface</literal></emphasis> stanza has the following syntax.</simpara>
        <screen>iface &lt;config_name&gt; &lt;address_family&gt; &lt;method_name&gt;
 &lt;option1&gt; &lt;value1&gt;
 &lt;option2&gt; &lt;value2&gt;
 ...</screen>
        <simpara>For the basic configuration, the <emphasis role="strong"><literal>mapping</literal></emphasis> stanza is not used and you use the network interface name as the network configuration name (See <xref linkend="_the_mapping_stanza"/>).</simpara>
        <warning>
          <simpara>Do not define duplicates of the "<literal>iface</literal>" stanza for a network interface in "<literal>/etc/network/interfaces</literal>".</simpara>
        </warning>
      </section>
      <section id="_the_loopback_network_interface">
        <title>The loopback network interface</title>
        <simpara>The following configuration entry in the "<literal>/etc/network/interfaces</literal>" file brings up the loopback network interface <literal>lo</literal> upon booting the system (via <emphasis role="strong"><literal>auto</literal></emphasis> stanza).</simpara>
        <screen>auto lo
iface lo inet loopback</screen>
        <simpara>This one always exists in the "<literal>/etc/network/interfaces</literal>" file.</simpara>
      </section>
      <section id="_the_network_interface_served_by_the_dhcp">
        <title>The network interface served by the DHCP</title>
        <simpara>After prepairing the system by <xref linkend="_the_dhcp_connection_with_the_ethernet"/>, the network interface served by the DHCP is configured by creating the configuration entry in the "<literal>/etc/network/interfaces</literal>" file as the following.</simpara>
        <screen>allow-hotplug eth0
iface eth0 inet dhcp
 hostname "mymachine"</screen>
        <simpara>When the Linux kernel detects the physical interface <literal>eth0</literal>, the <emphasis role="strong"><literal>allow-hotplug</literal></emphasis> stanza will cause <literal>ifup</literal> to bring up the interface and the <emphasis role="strong"><literal>iface</literal></emphasis> stanza will cause <literal>ifup</literal> to use DHCP to configure the interface.</simpara>
      </section>
      <section id="_the_network_interface_with_the_static_ip">
        <title>The network interface with the static IP</title>
        <simpara>The network interface served by the static IP is configured by creating the configuration entry in the "<literal>/etc/network/interfaces</literal>" file as the following.</simpara>
        <screen>allow-hotplug eth0
iface eth0 inet static
 address 192.168.11.100
 netmask 255.255.255.0
 broadcast 192.168.11.255
 gateway 192.168.11.1
 dns-domain lan
 dns-nameservers 192.168.11.1</screen>
        <simpara>When the Linux kernel detects the physical interface <literal>eth0</literal>, the <emphasis role="strong"><literal>allow-hotplug</literal></emphasis> stanza will cause <literal>ifup</literal> to bring up the interface and the <emphasis role="strong"><literal>iface</literal></emphasis> stanza will cause <literal>ifup</literal> to use the static IP to configure the interface.</simpara>
        <simpara>Here, I assumed the following.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
IP address range of the LAN network: <literal>192.168.11.0</literal> - <literal>192.168.11.255</literal>
</simpara>
          </listitem>
          <listitem>
            <simpara>
IP address of the gateway: <literal>192.168.11.1</literal>
</simpara>
          </listitem>
          <listitem>
            <simpara>
IP address of the PC: <literal>192.168.11.100</literal>
</simpara>
          </listitem>
          <listitem>
            <simpara>
The <literal>resolvconf</literal> package: installed
</simpara>
          </listitem>
          <listitem>
            <simpara>
The domain name: "<literal>lan</literal>"
</simpara>
          </listitem>
          <listitem>
            <simpara>
IP address of the DNS server: <literal>192.168.11.1</literal>
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>When the <literal>resolvconf</literal> package is not installed, DNS related configuration needs to be done manually by editing the "<literal>/etc/resolv.conf</literal>" as the following.</simpara>
        <screen>nameserver 192.168.11.1
domain lan</screen>
        <caution>
          <simpara>The IP addresses used in the above example are not meant to be copied literally.  You have to adjust IP numbers to your actual network configuration.</simpara>
        </caution>
      </section>
      <section id="_the_basics_of_wireless_lan_interface">
        <title>The basics of wireless LAN interface</title>
        <simpara>The <ulink url="&wirelesslanwlanforshort;">wireless LAN (WLAN for short)</ulink> provides the fast wireless connectivity through the spread-spectrum communication of unlicensed radio bands based on the set of standards called <ulink url="&ieeeiacbb;">IEEE 802.11</ulink>.</simpara>
        <simpara>The WLAN interfaces are almost like normal Ethernet interfaces but require some network ID and encryption key data to be provided when they are initialized.  Their high level network tools are exactly the same as that of Ethernet interfaces except interface names are a bit different like <literal>eth1</literal>, <literal>wlan0</literal>, <literal>ath0</literal>, <literal>wifi0</literal>, … depending on the kernel drivers used.</simpara>
        <tip>
          <simpara>The <literal>wmaster0</literal> device is the master device which is an internal device used only by <ulink url="&softmac;">SoftMAC</ulink> with new <ulink url="&maciacbbapioflinux;">mac80211 API of Linux</ulink>.</simpara>
        </tip>
        <simpara>Here are some keywords to remember for the WLAN.</simpara>
        <table id="listofacronymsforwlan" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of acronyms for WLAN</title>
          <tgroup cols="3">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="40%*" align="left"/>
            <thead>
              <row>
                <entry>
    acronym
    </entry>
                <entry>
    full word
    </entry>
                <entry>
    meaning
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
    NWID
    </entry>
                <entry>
    Network ID
    </entry>
                <entry>
    16 bit network ID used by pre-802.11 <ulink url="&wavelan;">WaveLAN</ulink> network (very deprecated)
    </entry>
              </row>
              <row>
                <entry>
    (E)SSID
    </entry>
                <entry>
    (Extended) <ulink url="&servicesetidentifier;">Service Set Identifier</ulink>
    </entry>
                <entry>
    network name of the <ulink url="&wirelessaccesspointsaps;">Wireless Access Points (APs)</ulink> interconnected to form an integrated <ulink url="&iacbbwirelesslan;">802.11 wireless LAN</ulink>, Domain ID
    </entry>
              </row>
              <row>
                <entry>
    WEP, (WEP2)
    </entry>
                <entry>
                  <ulink url="&wiredequivalentprivacy;">Wired Equivalent Privacy</ulink>
                </entry>
                <entry>
    1st generation 64-bit (128-bit) wireless encryption standard with 40-bit key (deprecated)
    </entry>
              </row>
              <row>
                <entry>
    WPA
    </entry>
                <entry>
                  <ulink url="&wifiprotectedaccess;">Wi-Fi Protected Access</ulink>
                </entry>
                <entry>
    2nd generation wireless encryption standard (most of 802.11i), compatible with WEP
    </entry>
              </row>
              <row>
                <entry>
    WPA2
    </entry>
                <entry>
                  <ulink url="&wifiprotectedaccessc;">Wi-Fi Protected Access 2</ulink>
                </entry>
                <entry>
    3rd generation wireless encryption standard (full 802.11i), non-compatible with WEP
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>The actual choice of protocol is usually limited by the wireless router you deploy.</simpara>
      </section>
      <section id="_the_wireless_lan_interface_with_wpa_wpa2">
        <title>The wireless LAN interface with WPA/WPA2</title>
        <simpara>You need to install the <literal>wpasupplicant</literal> package to support the WLAN with the new WPA/WPA2.</simpara>
        <simpara>In case of the <ulink url="&dhcp;">DHCP</ulink> served IP on WLAN connection, the "<literal>/etc/network/interfaces</literal>" file entry should be as the following.</simpara>
        <screen>allow-hotplug ath0
iface ath0 inet dhcp
 wpa-ssid homezone
 # hexadecimal psk is encoded from a plaintext passphrase
 wpa-psk 000102030405060708090a0b0c0d0e0f101112131415161718191a1b1c1d1e1f</screen>
        <simpara>See "<literal>/usr/share/doc/wpasupplicant/README.modes.gz</literal>".</simpara>
      </section>
      <section id="_the_wireless_lan_interface_with_wep">
        <title>The wireless LAN interface with WEP</title>
        <simpara>You need to install the <literal>wireless-tools</literal> package to support the WLAN with the old WEP.  (Your consumer grade router may still be using this insecure infrastructure but this is better than nothing.)</simpara>
        <caution>
          <simpara>Please note that your network traffic on WLAN with WEP may be sniffed by others.</simpara>
        </caution>
        <simpara>In case of the <ulink url="&dhcp;">DHCP</ulink> served IP on WLAN connection, the "<literal>/etc/network/interfaces</literal>" file entry should be as the following.</simpara>
        <screen>allow-hotplug eth0
iface eth0 inet dhcp
 wireless-essid Home
 wireless-key1 0123-4567-89ab-cdef
 wireless-key2 12345678
 wireless-key3 s:password
 wireless-defaultkey 2
 wireless-keymode open</screen>
        <simpara>See "<literal>/usr/share/doc/wireless-tools/README.Debian</literal>".</simpara>
      </section>
      <section id="_the_ppp_connection">
        <title>The PPP connection</title>
        <simpara>You need to configure the PPP connection first as described before (see <xref linkend="_the_ppp_connection_with_pppconfig"/>).  Then, add the "<literal>/etc/network/interfaces</literal>" file entry for the primary PPP device <literal>ppp0</literal> as the following.</simpara>
        <screen>iface ppp0 inet ppp
 provider &lt;isp_name&gt;</screen>
      </section>
      <section id="_the_alternative_ppp_connection">
        <title>The alternative PPP connection</title>
        <simpara>You need to configure the alternative PPP connection with <literal>wvdial</literal> first as described before (see <xref linkend="_the_alternative_ppp_connection_with_wvdialconf"/>).  Then, add the "<literal>/etc/network/interfaces</literal>" file entry for the primary PPP device <literal>ppp0</literal> as the following.</simpara>
        <screen>iface ppp0 inet wvdial</screen>
      </section>
      <section id="_the_pppoe_connection">
        <title>The PPPoE connection</title>
        <simpara>For PC connected directly to the WAN served by the PPPoE, you need to configure system with the PPPoE connection as described before (see <xref linkend="_the_pppoe_connection_with_pppoeconf"/>).  Then, add the "<literal>/etc/network/interfaces</literal>" file entry for the primary PPPoE device <literal>eth0</literal> as the following.</simpara>
        <screen>allow-hotplug eth0
iface eth0 inet manual
 pre-up /sbin/ifconfig eth0 up
 up ifup ppp0=dsl
 down ifdown ppp0=dsl
 post-down /sbin/ifconfig eth0 down
# The following is used internally only
iface dsl inet ppp
 provider dsl-provider</screen>
      </section>
      <section id="_the_network_configuration_state_of_ifupdown">
        <title>The network configuration state of ifupdown</title>
        <simpara>The "<literal>/etc/network/run/ifstate</literal>" file stores the <emphasis role="strong">intended</emphasis> network configuration states for all the currently active network interfaces managed by the <literal>ifupdown</literal> package are listed. Unfortunately, even if the <literal>ifupdown</literal> system fails to bring up the interface as intended, the "<literal>/etc/network/run/ifstate</literal>" file lists it active.</simpara>
        <simpara>Unless the output of the <literal>ifconfig</literal>(8) command for an interface does not have a line like following example, it can not be used as a part of <ulink url="&ipvenetwork;">IPV4 network</ulink>.</simpara>
        <screen>  inet addr:192.168.11.2  Bcast:192.168.11.255  Mask:255.255.255.0</screen>
        <note>
          <simpara>For the Ethernet device connected to the PPPoE, the output of the <literal>ifconfig</literal>(8) command lacks a line which looks like above example.</simpara>
        </note>
      </section>
      <section id="_the_basic_network_reconfiguration">
        <title>The basic network reconfiguration</title>
        <simpara>When you try to reconfigure the interface, e.g. <literal>eth0</literal>, you must disable it first with the "<emphasis role="strong"><literal>sudo ifdown eth0</literal></emphasis>" command.  This will remove the entry of <literal>eth0</literal> from the "<literal>/etc/network/run/ifstate</literal>" file. (This may result in some error message if <literal>eth0</literal> is not active or it is configured improperly previously.  So far, it seems to be safe to do this for the simple single user work station at any time.)</simpara>
        <simpara>You are now free to rewrite the "<literal>/etc/network/interfaces</literal>" contents as needed to reconfigure the network interface, <literal>eth0</literal>.</simpara>
        <simpara>Then, you can reactivate <literal>eth0</literal> with the "<emphasis role="strong"><literal>sudo ifup eth0</literal></emphasis>" command.</simpara>
        <tip>
          <simpara>You can (re)initialize the network interface simply by "<emphasis role="strong"><literal>sudo ifdown eth0;sudo ifup eth0</literal></emphasis>".</simpara>
        </tip>
      </section>
      <section id="_the_ifupdown_extra_package">
        <title>The ifupdown-extra package</title>
        <simpara>The <literal>ifupdown-extra</literal> package provides easy network connection tests for use with the <literal>ifupdown</literal> package.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
The <literal>network-test</literal>(1) command can be used from the shell.
</simpara>
          </listitem>
          <listitem>
            <simpara>
The automatic scripts are run for each <literal>ifup</literal> command execution.
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>The <literal>network-test</literal> command frees you from the execution of cumbersome low level commands to analyze the network problem.</simpara>
        <simpara>The automatic scripts are installed in "<literal>/etc/network/*/</literal>" and performs the following.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
Check the network cable connection
</simpara>
          </listitem>
          <listitem>
            <simpara>
Check duplicate use of IP address
</simpara>
          </listitem>
          <listitem>
            <simpara>
Setup system's static routes based on the "<literal>/etc/network/routes</literal>" definition
</simpara>
          </listitem>
          <listitem>
            <simpara>
Check if network gateway is reachable
</simpara>
          </listitem>
          <listitem>
            <simpara>
Record results in the "<literal>/var/log/syslog</literal>" file
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>This syslog record is quite useful for administration of the network problem on the remote system.</simpara>
        <tip>
          <simpara>The automatic behavior of the <literal>ifupdown-extra</literal> package is configurable with the "<literal>/etc/default/network-test</literal>". Some of these automatic checks slow down the system boot-up a little bit since it takes some time to listen for <ulink url="&arp;">ARP</ulink> replies.</simpara>
        </tip>
      </section>
    </section>
    <section id="_the_advanced_network_configuration_with_ifupdown">
      <title>The advanced network configuration with ifupdown</title>
      <simpara>The functionality of the <literal>ifupdown</literal> package can be improved beyond what was described in <xref linkend="_the_basic_network_configuration_with_ifupdown"/> with the advanced knowledge.</simpara>
      <simpara>The functionalities described here are completely optional.  I, being lazy and minimalist, rarely bother to use these.</simpara>
      <caution>
        <simpara>If you could not set up network connection by information in <xref linkend="_the_basic_network_configuration_with_ifupdown"/>, you will make situation worse by using information below.</simpara>
      </caution>
      <section id="_the_ifplugd_package">
        <title>The ifplugd package</title>
        <simpara>The <literal>ifplugd</literal> package is older automatic network configuration tool which can manage only Ethernet connections. This solves unplugged/replugged Ethernet cable issues for mobile PC etc.   If you have <ulink url="&networkmanager;">NetworkManager</ulink> or <ulink url="&wicd;">Wicd</ulink> (see <xref linkend="_automatic_network_configuration"/>) installled, you do not need this package.</simpara>
        <simpara>This package runs <ulink url="&daemon;">daemon</ulink> and replaces <emphasis role="strong">auto</emphasis> or <emphasis role="strong">allow-hotplug</emphasis> functionalities (see <xref linkend="list-of-stanzas-in-eni"/>) and starts interfaces upon their connection to the network.</simpara>
        <simpara>Here is how to use the <literal>ifplugd</literal> package for the internal Ethernet port, e.g. <literal>eth0</literal>.</simpara>
        <orderedlist>
          <listitem>
            <simpara>
Remove stanza in "<literal>/etc/network/interfaces</literal>": "<literal>auto eth0</literal>" or "<literal>allow-hotplug eth0</literal>".
</simpara>
          </listitem>
          <listitem>
            <simpara>
Keep stanza in "<literal>/etc/network/interfaces</literal>": "<literal>iface eth0 inet …</literal>" and "<literal>mapping …</literal>".
</simpara>
          </listitem>
          <listitem>
            <simpara>
Install the <literal>ifplugd</literal> package.
</simpara>
          </listitem>
          <listitem>
            <simpara>
Run "<literal>sudo dpkg-reconfigure ifplugd</literal>".
</simpara>
          </listitem>
          <listitem>
            <simpara>
Put <literal>eth0</literal> as the "static interfaces to be watched by ifplugd".
</simpara>
          </listitem>
        </orderedlist>
        <simpara>Now, the network reconfiguration works as you desire.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
Upon power-on or upon hardware discovery, the interface is not brought up by itself.
</simpara>
            <itemizedlist>
              <listitem>
                <simpara>
Quick boot process without the long DHCP timeout.
</simpara>
              </listitem>
              <listitem>
                <simpara>
No funny activated interface without proper IPv4 address (see <xref linkend="_the_network_configuration_state_of_ifupdown"/>).
</simpara>
              </listitem>
            </itemizedlist>
          </listitem>
          <listitem>
            <simpara>
Upon finding the Ethernet cable, the interface is brought up.
</simpara>
          </listitem>
          <listitem>
            <simpara>
Upon some time after unplugging the Ethernet cable, the interface is brought down automatically.
</simpara>
          </listitem>
          <listitem>
            <simpara>
Upon plugging in another Ethernet cable, the interface will be brought up under the new network environment.
</simpara>
          </listitem>
        </itemizedlist>
        <tip>
          <simpara>The arguments for the <literal>ifplugd</literal>(8) command can set its behaviors such as the delay for reconfiguring interfaces.</simpara>
        </tip>
      </section>
      <section id="_the_ifmetric_package">
        <title>The ifmetric package</title>
        <simpara>The <literal>ifmeric</literal> package enables us to manipulate metrics of routes a posteriori even for DHCP.</simpara>
        <simpara>The following will set the <literal>eth0</literal> interface to be preferred over the <literal>wlan0</literal> interface.</simpara>
        <orderedlist>
          <listitem>
            <simpara>
Install the <literal>ifmetric</literal> package.
</simpara>
          </listitem>
          <listitem>
            <simpara>
Add an option line with "<literal>metric 0</literal>" just below the "<literal>iface eth0 inet dhcp</literal>" line.
</simpara>
          </listitem>
          <listitem>
            <simpara>
Add an option line with "<literal>metric 1</literal>" just below the "<literal>iface wlan0 inet dhcp</literal>" line.
</simpara>
          </listitem>
        </orderedlist>
        <simpara>The metric 0 means the highest priority route and is the default one.  The larger metric value means lower priority routes. The IP address of the active interface with the lowest metric value becomes the originating one. See <literal>ifmetric</literal>(8).</simpara>
      </section>
      <section id="_the_virtual_interface">
        <title>The virtual interface</title>
        <simpara>A single physical Ethernet interface can be configured as multiple virtual interfaces with different IP addresses.  Usually the purpose is to connect an interface to several IP subnetworks.  For example, IP address based virtual web hosting by a single network interface is one such application.</simpara>
        <simpara>For example, let's suppose the following.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
A single Ethernet interface on your host is connected to a Ethernet hub (not to the broadband router).
</simpara>
          </listitem>
          <listitem>
            <simpara>
The Ethernet hub is connected to both the Internet and LAN network.
</simpara>
          </listitem>
          <listitem>
            <simpara>
The LAN network uses subnet <literal>192.168.0.x/24</literal>.
</simpara>
          </listitem>
          <listitem>
            <simpara>
Your host uses DHCP served IP address with the physical interface <literal>eth0</literal> for the Internet.
</simpara>
          </listitem>
          <listitem>
            <simpara>
Your host uses <literal>192.168.0.1</literal> with the virtual interface <literal>eth0:0</literal> for the LAN.
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>The following stanzas in "<literal>/etc/network/interfaces</literal>" will configure your network.</simpara>
        <screen>iface eth0 inet dhcp
 metric 0
iface eth0:0 inet static
 address 192.168.0.1
 netmask 255.255.255.0
 network 192.168.0.0
 broadcast 192.168.0.255
 metric 1</screen>
        <caution>
          <simpara>Although this configuration example with <ulink url="&networkaddresstranslationnat;">network address translation (NAT)</ulink> using <ulink url="&netfilteriptables;">netfilter/iptables</ulink> (see <xref linkend="_netfilter_infrastructure"/>) can provide cheap router for the LAN with only single interface, there is no real firewall capability with such set up.  You should use 2 physical interfaces with NAT to secure the local network from the Internet.</simpara>
        </caution>
      </section>
      <section id="_the_advanced_command_syntax">
        <title>The advanced command syntax</title>
        <simpara>The <literal>ifupdown</literal> package offers advanced network configuration using the  <emphasis role="strong">network configuration</emphasis> name and the <emphasis role="strong">network interface</emphasis> name.  I use slightly different terminology from one used in <literal>ifup</literal>(8) and <literal>interfaces</literal>(5).</simpara>
        <table id="listofterminologornetworkdevices" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of terminology for network devices</title>
          <tgroup cols="4">
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="40%*" align="left"/>
            <thead>
              <row>
                <entry>
    manpage terminology
    </entry>
                <entry>
    my terminology
    </entry>
                <entry>
    examples in the following text
    </entry>
                <entry>
    description
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><emphasis role="strong">physical interface</emphasis> name
    </entry>
                <entry><emphasis role="strong">network interface</emphasis> name
    </entry>
                <entry><literal>lo</literal>, <literal>eth0</literal>, <literal>&lt;interface_name&gt;</literal></entry>
                <entry>
    name given by the Linux kernel (using <literal>udev</literal> mechanism)
    </entry>
              </row>
              <row>
                <entry><emphasis role="strong">logical interface</emphasis> name
    </entry>
                <entry><emphasis role="strong">network configuration</emphasis> name
    </entry>
                <entry><literal>config1</literal>, <literal>config2</literal>, <literal>&lt;config_name&gt;</literal></entry>
                <entry>
    name token following <emphasis role="strong"><literal>iface</literal></emphasis> in the "<literal>/etc/network/interfaces</literal>"
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>Basic network configuration commands in <xref linkend="_the_command_syntax_simplified"/> require the <emphasis role="strong">network configuration</emphasis> name token of the <emphasis role="strong"><literal>iface</literal></emphasis> stanza to match the <emphasis role="strong">network interface</emphasis> name in the "<literal>/etc/network/interfaces</literal>".</simpara>
        <simpara>Advanced network configuration commands enables separation of the <emphasis role="strong">network configuration</emphasis> name and the <emphasis role="strong">network interface</emphasis> name in the "<literal>/etc/network/interfaces</literal>" as the following.</simpara>
        <table id="listofadvancedneandswithifupdown" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of advanced network configuration commands with ifupdown</title>
          <tgroup cols="2">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="70%*" align="left"/>
            <thead>
              <row>
                <entry>
    command
    </entry>
                <entry>
    action
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>ifup eth0=config1</literal>
                </entry>
                <entry>
    bring up a network interface <literal>eth0</literal> with the configuration <literal>config1</literal>
    </entry>
              </row>
              <row>
                <entry>
                  <literal>ifdown eth0=config1</literal>
                </entry>
                <entry>
    bring down a network interface <literal>eth0</literal> with the configuration <literal>config1</literal>
    </entry>
              </row>
              <row>
                <entry>
                  <literal>ifup eth0</literal>
                </entry>
                <entry>
    bring up a network interface <literal>eth0</literal> with the configuration selected by <emphasis role="strong"><literal>mapping</literal></emphasis> stanza
    </entry>
              </row>
              <row>
                <entry>
                  <literal>ifdown eth0</literal>
                </entry>
                <entry>
    bring down a network interface <literal>eth0</literal> with the configuration selected by <emphasis role="strong"><literal>mapping</literal></emphasis> stanza
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </section>
      <section id="_the_mapping_stanza">
        <title>The mapping stanza</title>
        <simpara>We skipped explaining the <emphasis role="strong"><literal>mapping</literal></emphasis> stanza in the "<literal>/etc/network/interfaces</literal>" in <xref linkend="_the_basic_syntax_of_etc_network_interfaces"/> to avoid complication.  This stanza has the following syntax.</simpara>
        <screen>mapping &lt;interface_name_glob&gt;
 script &lt;script_name&gt;
 map &lt;script_input1&gt;
 map &lt;script_input2&gt;
 map ...</screen>
        <simpara>This provides advanced feature to the "<literal>/etc/network/interfaces</literal>" file by automating the choice of the configuration with the mapping script specified by <literal>&lt;script_name&gt;</literal>.</simpara>
        <simpara>Let's follow the execution of the following.</simpara>
        <screen>$ sudo ifup eth0</screen>
        <simpara>When the "<literal>&lt;interface_name_glob&gt;</literal>" matches "<literal>eth0</literal>", this execution produces the execution of the following command to configure <literal>eth0</literal> automatically.</simpara>
        <screen>$ sudo ifup eth0=$(echo -e '&lt;script_input1&gt; \n &lt;script_input2&gt; \n ...' | &lt;script_name&gt; eth0)</screen>
        <simpara>Here, script input lines with "<literal>map</literal>" are optional and can be repeated.</simpara>
        <note>
          <simpara>The glob for <emphasis role="strong"><literal>mapping</literal></emphasis> stanza works like shell filename glob (see <xref linkend="_shell_glob"/>).</simpara>
        </note>
      </section>
      <section id="_the_manually_switchable_network_configuration">
        <title>The manually switchable network configuration</title>
        <simpara>Here is how to switch manually among several network configurations without rewriting the "<literal>/etc/network/interfaces</literal>" file as in <xref linkend="_the_basic_network_reconfiguration"/> .</simpara>
        <simpara>For all the network configuration you need to access, you create a single "<literal>/etc/network/interfaces</literal>" file as the following.</simpara>
        <screen>auto lo
iface lo inet loopback

iface config1 inet dhcp
 hostname "mymachine"

iface config2 inet static
 address 192.168.11.100
 netmask 255.255.255.0
 broadcast 192.168.11.255
 gateway 192.168.11.1
 dns-domain lan
 dns-nameservers 192.168.11.1

iface pppoe inet manual
 pre-up /sbin/ifconfig eth0 up
 up ifup ppp0=dsl
 down ifdown ppp0=dsl
 post-down /sbin/ifconfig eth0 down

# The following is used internally only
iface dsl inet ppp
 provider dsl-provider

iface pots inet ppp
 provider provider</screen>
        <simpara>Please note the <emphasis role="strong">network configuration name</emphasis> which is the token after <emphasis role="strong"><literal>iface</literal></emphasis> does not use the token for the <emphasis role="strong">network interface name</emphasis>.  Also, there are no <emphasis role="strong"><literal>auto</literal></emphasis> stanza nor <emphasis role="strong"><literal>allow-hotplug</literal></emphasis> stanza to start the network interface <literal>eth0</literal> automatically upon events.</simpara>
        <simpara>Now you are ready to switch the network configuration.</simpara>
        <simpara>Let's move your PC to a LAN served by the DHCP.  You bring up the <emphasis role="strong">network interface</emphasis> (the physical interface) <literal>eth0</literal> by assigning the <emphasis role="strong">network configuration</emphasis> name (the logical interface name) <literal>config1</literal> to it by the following.</simpara>
        <screen>$ sudo ifup eth0=config1
Password:
...</screen>
        <simpara>The interface <literal>eth0</literal> is up, configured by DHCP and connected to LAN.</simpara>
        <screen>$ sudo ifdown eth0=config1
...</screen>
        <simpara>The interface <literal>eth0</literal> is down and disconnected from LAN.</simpara>
        <simpara>Let's move your PC to a LAN served by the static IP.  You bring up the <emphasis role="strong">network interface</emphasis> <literal>eth0</literal> by assigning the <emphasis role="strong">network configuration</emphasis> name <literal>config2</literal> to it by the following.</simpara>
        <screen>$ sudo ifup eth0=config2
...</screen>
        <simpara>The interface <literal>eth0</literal> is up, configured with static IP and connected to LAN. The additional parameters given as <literal>dns-*</literal> configures "<literal>/etc/resolv.conf</literal>" contents.  This "<literal>/etc/resolv.conf</literal>" is better manged if the <literal>resolvconf</literal> package is installed.</simpara>
        <screen>$ sudo ifdown eth0=config2
...</screen>
        <simpara>The interface <literal>eth0</literal> is down and disconnected from LAN, again.</simpara>
        <simpara>Let's move your PC to a port on BB-modem connected to the PPPoE served service.  You bring up the <emphasis role="strong">network interface</emphasis> <literal>eth0</literal> by assigning the <emphasis role="strong">network configuration</emphasis> name <literal>pppoe</literal> to it by the following.</simpara>
        <screen>$ sudo ifup eth0=pppoe
...</screen>
        <simpara>The interface <literal>eth0</literal> is up, configured with PPPoE connection directly to the ISP.</simpara>
        <screen>$ sudo ifdown eth0=pppoe
...</screen>
        <simpara>The interface <literal>eth0</literal> is down and disconnected, again.</simpara>
        <simpara>Let's move your PC to a location without LAN or BB-modem but with POTS and modem.  You bring up the <emphasis role="strong">network interface</emphasis> <literal>ppp0</literal> by assigning the <emphasis role="strong">network configuration</emphasis> name <literal>pots</literal> to it by the following.</simpara>
        <screen>$ sudo ifup ppp0=pots
...</screen>
        <simpara>The interface <literal>ppp0</literal> is up and connected to the Internet with PPP.</simpara>
        <screen>$ sudo ifdown ppp0=pots
...</screen>
        <simpara>The interface <literal>ppp0</literal> is down and disconnected from the Internet.</simpara>
        <simpara>You should check the "<literal>/etc/network/run/ifstate</literal>" file for the current network configuration state of the <literal>ifupdown</literal> system.</simpara>
        <warning>
          <simpara>You may need to adjust numbers at the end of <literal>eth*</literal>, <literal>ppp*</literal>, etc. if you have multiple network interfaces.</simpara>
        </warning>
      </section>
      <section id="_scripting_with_the_ifupdown_system">
        <title>Scripting with the ifupdown system</title>
        <simpara>The <literal>ifupdown</literal> system automatically runs scripts installed in "<literal>/etc/network/*/</literal>" while exporting environment variables to scripts.</simpara>
        <table id="listofenvironmenheifupdownsystem" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of environment variables passed by the ifupdown system</title>
          <tgroup cols="2">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="70%*" align="left"/>
            <thead>
              <row>
                <entry>
    environment variable
    </entry>
                <entry>
    value passed
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
    "<literal>$IFACE</literal>"
    </entry>
                <entry>
    physical name (interface name) of the interface being processed
    </entry>
              </row>
              <row>
                <entry>
    "<literal>$LOGICAL</literal>"
    </entry>
                <entry>
    logical name (configuration name) of the interface being processed
    </entry>
              </row>
              <row>
                <entry>
    "<literal>$ADDRFAM</literal>"
    </entry>
                <entry>
    &lt;address_family&gt; of the interface
    </entry>
              </row>
              <row>
                <entry>
    "<literal>$METHOD</literal>"
    </entry>
                <entry>
    &lt;method_name&gt; of the interface. (e.g., "static")
    </entry>
              </row>
              <row>
                <entry>
    "<literal>$MODE</literal>"
    </entry>
                <entry>
    "start" if run from <literal>ifup</literal>, "stop" if run from <literal>ifdown</literal>
    </entry>
              </row>
              <row>
                <entry>
    "<literal>$PHASE</literal>"
    </entry>
                <entry>
    as per "<literal>$MODE</literal>", but with finer granularity, distinguishing the <literal>pre-up</literal>, <literal>post-up</literal>, <literal>pre-down</literal> and <literal>post-down</literal> phases
    </entry>
              </row>
              <row>
                <entry>
    "<literal>$VERBOSITY</literal>"
    </entry>
                <entry>
    indicates whether "<literal>--verbose</literal>" was used; set to 1 if so, 0 if not
    </entry>
              </row>
              <row>
                <entry>
    "<literal>$PATH</literal>"
    </entry>
                <entry>
    command search path: "<literal>/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin</literal>"
    </entry>
              </row>
              <row>
                <entry>
    "<literal>$IF_&lt;OPTION&gt;</literal>"
    </entry>
                <entry>
    value for the corresponding option under the <emphasis role="strong"><literal>iface</literal></emphasis> stanza
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>Here, each environment variable, "<literal>$IF_&lt;OPTION&gt;</literal>", is created from the name for the corresponding option such as &lt;option1&gt; and &lt;option2&gt; by prepending "<literal>$IF_</literal>", converting the case to the upper case, replacing hyphens to underscores, and discarding non-alphanumeric characters.</simpara>
        <tip>
          <simpara>See <xref linkend="_the_basic_syntax_of_etc_network_interfaces"/> for &lt;address_family&gt;, &lt;method_name&gt;, &lt;option1&gt; and &lt;option2&gt;.</simpara>
        </tip>
        <simpara>The <literal>ifupdown-extra</literal> package (see <xref linkend="_the_ifupdown_extra_package"/>) uses these environment variables to extend the functionality of the <literal>ifupdown</literal> package.  The <literal>ifmetric</literal> package (see <xref linkend="_the_ifmetric_package"/>) installs the "<literal>/etc/network/if-up.d/ifmetric</literal>" script which sets the metric via the "<literal>$IF_METRIC</literal>" variable.  The <literal>guessnet</literal> package (see <xref linkend="_mapping_with_guessnet"/>), which provides simple and powerful framework for the auto-selection of the network configuration via the mapping mechanism, also uses these.</simpara>
        <note>
          <simpara>For more specific examples of custom network configuration scripts using these environment variables, you should check example scripts in "<literal>/usr/share/doc/ifupdown/examples/*</literal>" and scripts used in <literal>ifscheme</literal> and <literal>ifupdown-scripts-zg2</literal> packages.  These additional scripts have some overlaps of functionalities with basic <literal>ifupdown-extra</literal> and <literal>guessnet</literal> packages.  If you install these additional scripts, you should customize these scripts to avoid interferences.</simpara>
        </note>
      </section>
      <section id="_mapping_with_guessnet">
        <title>Mapping with guessnet</title>
        <simpara>Instead of manually choosing configuration as described in <xref linkend="_the_manually_switchable_network_configuration"/>, you can use the mapping mechanism described in <xref linkend="_the_mapping_stanza"/> to select network configuration automatically with custom scripts.</simpara>
        <simpara>The <literal>guessnet-ifupdown</literal>(8) command provided by the <literal>guessnet</literal> package is designed to be used as a mapping script and provides powerful framework to enhance the <literal>ifupdown</literal> system.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
You list test condition as the value for <emphasis role="strong"><literal>guessnet</literal></emphasis> options for each network configuration under <emphasis role="strong"><literal>iface</literal></emphasis> stanza.
</simpara>
          </listitem>
          <listitem>
            <simpara>
Mapping will chose the <emphasis role="strong"><literal>iface</literal></emphasis> with first non-ERROR result as the network configuration.
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>This dual usage of the "<literal>/etc/network/interfaces</literal>" file by the mapping script, <literal>guessnet-ifupdown</literal>, and the original network configuration infrastructure, <literal>ifupdown</literal>, does not cause negative impacts since <emphasis role="strong"><literal>guessnet</literal></emphasis> options only export extra environment variables to scripts run by the <literal>ifupdown</literal> system.  See details in <literal>guessnet-ifupdown</literal>(8).</simpara>
        <note>
          <simpara>When multiple <emphasis role="strong"><literal>guessnet</literal></emphasis> option lines are required in "<literal>/etc/network/interfaces</literal>", use option lines started with <emphasis role="strong"><literal>guessnet1</literal></emphasis>, <emphasis role="strong"><literal>guessnet2</literal></emphasis>, and so on, since the <literal>ifupdown</literal> package does not allow starting strings of option lines to be repeated.</simpara>
        </note>
      </section>
    </section>
    <section id="_the_network_configuration_for_desktop">
      <title>The network configuration for desktop</title>
      <section id="_gui_network_configuration_tools">
        <title>GUI network configuration tools</title>
        <simpara>The capability of default GUI network configuration tools for each desktop environments such as GNOME tends to be limited to basic configurations such as static IP or DHCP.  They actually overwrite contents of "<literal>/etc/network/interfaces</literal>" file behind you. Please check how they change "<literal>/etc/network/interfaces</literal>" file by yourself.</simpara>
        <caution>
          <simpara>They may not understand complicated advanced configuration done manually in "<literal>/etc/network/interfaces</literal>" file.</simpara>
        </caution>
      </section>
      <section id="_automatic_network_configuration">
        <title>Automatic network configuration</title>
        <simpara>There are independent automatic network configuration tools, such as <ulink url="&networkmanagernm;">NetworkManager (NM)</ulink> (<literal>network-manager</literal> and associated packages) and <ulink url="&wicd;">Wicd</ulink> (<literal>wicd</literal> package) which manage network connection via <ulink url="&daemon;">daemon</ulink> independen of the <literal>ifupdown</literal> package. They allow easy management of wireless connections.  These come with its own nice GUI user interfaces.</simpara>
        <warning>
          <simpara>Do not use these automatic network configuration tools for servers.  These are aimed primarily for mobile desktop users on laptops.</simpara>
        </warning>
        <warning>
          <simpara>These automatic network configuration tools are moving targets and documentation here is likely to be incorrect for <literal>squeeze</literal>.  So be warned.</simpara>
        </warning>
        <caution>
          <simpara>These automatic network configuration tools may not be compatible with esoteric configurations of <literal>ifupdown</literal> in "<literal>/etc/network/interfaces</literal>" such as ones in <xref linkend="_the_basic_network_configuration_with_ifupdown"/> and <xref linkend="_the_advanced_network_configuration_with_ifupdown"/>.  Having even "<literal>hostname</literal>" stanza for DHCP controlled interface as described in <xref linkend="_the_network_interface_served_by_the_dhcp"/> caused NM to ignore such interface in <literal>lenny</literal>. Check <ulink url="&btsofnetworkmanager;">BTS of network-manager</ulink> and <ulink url="&btsofwicd;">BTS of wicd</ulink> for current issues and limitations.</simpara>
        </caution>
        <simpara>The configuration of NM is described in "<literal>/usr/share/doc/network-manager/README.Debian</literal>".  Essentially this is as follows.</simpara>
        <orderedlist>
          <listitem>
            <simpara>
Make desktop user, e.g. <literal>foo</literal>, belong to group "<literal>netdev</literal>" by the following.
</simpara>
            <screen>$ sudo adduser foo netdev</screen>
          </listitem>
          <listitem>
            <simpara>
Keep configuration of "<literal>/etc/network/interfaces</literal>" as simple as the the following.
</simpara>
            <screen>auto lo
iface lo inet loopback

auto eth0
iface eth0 inet dhcp</screen>
          </listitem>
          <listitem>
            <simpara>
Restart NM by the following.
</simpara>
            <screen>$ sudo /etc/init.d/network-manager restart</screen>
          </listitem>
        </orderedlist>
        <note>
          <simpara>Only interfaces which are <emphasis role="strong">not</emphasis> listed in "<literal>/etc/network/interfaces</literal>" or which have been configured with "<literal>auto …</literal>" or "<literal>allow-hotplug …</literal>" and "<literal>iface … inet dhcp</literal>" (with no other options) are managed by NM to avoid conflict with <literal>ifupdown</literal>.</simpara>
        </note>
        <simpara>The configuration of <ulink url="&wicd;">Wicd</ulink> is described in "<literal>/usr/share/doc/wicd/README.Debian</literal>".  Essentially, this is as follows.</simpara>
        <orderedlist>
          <listitem>
            <simpara>
Make configuration in "<literal>/etc/network/interfaces</literal>" only as the following.
</simpara>
            <screen>auto lo
iface lo inet loopback</screen>
          </listitem>
          <listitem>
            <simpara>
Restart Wicd as the following.
</simpara>
            <screen>$ sudo /etc/init.d/wicd restart</screen>
          </listitem>
        </orderedlist>
      </section>
    </section>
    <section id="_the_low_level_network_configuration">
      <title>The low level network configuration</title>
      <section id="_iproute2_commands">
        <title>Iproute2 commands</title>
        <simpara><ulink url="&iproutec;">Iproute2</ulink> commands offer complete low-level network configuration capabilities. Here is a translation table from obsolete <ulink url="&nettools;">net-tools</ulink> commands to new <ulink url="&iproutec;">iproute2</ulink> etc. commands.</simpara>
        <table id="translationtableiprouteccommands" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>Translation table from obsolete <literal>net-tools</literal> commands to new <literal>iproute2</literal> commands</title>
          <tgroup cols="3">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="40%*" align="left"/>
            <thead>
              <row>
                <entry>
    obsolete net-tools
    </entry>
                <entry>
    new iproute2 etc.
    </entry>
                <entry>
    manipulation
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><literal>ifconfig</literal>(8)
    </entry>
                <entry>
                  <literal>ip addr</literal>
                </entry>
                <entry>
    protocol (IP or IPv6) address on a device
    </entry>
              </row>
              <row>
                <entry><literal>route</literal>(8)
    </entry>
                <entry>
                  <literal>ip route</literal>
                </entry>
                <entry>
    routing table entry
    </entry>
              </row>
              <row>
                <entry><literal>arp</literal>(8)
    </entry>
                <entry>
                  <literal>ip neigh</literal>
                </entry>
                <entry>
    ARP or NDISC cache entry
    </entry>
              </row>
              <row>
                <entry>
                  <literal>ipmaddr</literal>
                </entry>
                <entry>
                  <literal>ip maddr</literal>
                </entry>
                <entry>
    multicast address
    </entry>
              </row>
              <row>
                <entry>
                  <literal>iptunnel</literal>
                </entry>
                <entry>
                  <literal>ip tunnel</literal>
                </entry>
                <entry>
    tunnel over IP
    </entry>
              </row>
              <row>
                <entry><literal>nameif</literal>(8)
    </entry>
                <entry><literal>ifrename</literal>(8)
    </entry>
                <entry>
    name network interfaces based on MAC addresses
    </entry>
              </row>
              <row>
                <entry><literal>mii-tool</literal>(8)
    </entry>
                <entry><literal>ethtool</literal>(8)
    </entry>
                <entry>
    Ethernet device settings
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>See <literal>ip</literal>(8) and <ulink url="&iproutecutilitysuitehowto;">IPROUTE2 Utility Suite Howto</ulink>.</simpara>
      </section>
      <section id="_safe_low_level_network_operations">
        <title>Safe low level network operations</title>
        <simpara>You may use low level network commands as follows safely since they do not change network configuration.</simpara>
        <table id="listoflowlevelnetworkcommands" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of low level network commands</title>
          <tgroup cols="2">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="70%*" align="left"/>
            <thead>
              <row>
                <entry>
    command
    </entry>
                <entry>
    description
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>ifconfig</literal>
                </entry>
                <entry>
    display the link and address status of active interfaces
    </entry>
              </row>
              <row>
                <entry>
                  <literal>ip addr show</literal>
                </entry>
                <entry>
    display the link and address status of active interfaces
    </entry>
              </row>
              <row>
                <entry>
                  <literal>route -n</literal>
                </entry>
                <entry>
    display all the routing table in numerical addresses
    </entry>
              </row>
              <row>
                <entry>
                  <literal>ip route show</literal>
                </entry>
                <entry>
    display all the routing table in numerical addresses
    </entry>
              </row>
              <row>
                <entry>
                  <literal>arp</literal>
                </entry>
                <entry>
    display the current content of the <ulink url="&arp;">ARP</ulink> cache tables
    </entry>
              </row>
              <row>
                <entry>
                  <literal>ip neigh</literal>
                </entry>
                <entry>
    display the current content of the <ulink url="&arp;">ARP</ulink> cache tables
    </entry>
              </row>
              <row>
                <entry>
                  <literal>plog</literal>
                </entry>
                <entry>
    display ppp daemon log
    </entry>
              </row>
              <row>
                <entry>
                  <literal>ping yahoo.com</literal>
                </entry>
                <entry>
    check the Internet connection to "<literal>yahoo.com</literal>"
    </entry>
              </row>
              <row>
                <entry>
                  <literal>whois yahoo.com</literal>
                </entry>
                <entry>
    check who registered "<literal>yahoo.com</literal>" in the domains database
    </entry>
              </row>
              <row>
                <entry>
                  <literal>traceroute yahoo.com</literal>
                </entry>
                <entry>
    trace the Internet connection to "<literal>yahoo.com</literal>"
    </entry>
              </row>
              <row>
                <entry>
                  <literal>tracepath yahoo.com</literal>
                </entry>
                <entry>
    trace the Internet connection to "<literal>yahoo.com</literal>"
    </entry>
              </row>
              <row>
                <entry>
                  <literal>mtr yahoo.com</literal>
                </entry>
                <entry>
    trace the Internet connection to "<literal>yahoo.com</literal>" (repeatedly)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>dig [@dns-server.com] example.com [{a|mx|any}]</literal>
                </entry>
                <entry>
    check <ulink url="&dns;">DNS</ulink> records of "<literal>example.com</literal>" by "<literal>dns-server.com</literal>" for a "<literal>a</literal>", "<literal>mx</literal>", or "<literal>any</literal>" record
    </entry>
              </row>
              <row>
                <entry>
                  <literal>iptables -L -n</literal>
                </entry>
                <entry>
    check packet filter
    </entry>
              </row>
              <row>
                <entry>
                  <literal>netstat -a</literal>
                </entry>
                <entry>
    find all open ports
    </entry>
              </row>
              <row>
                <entry>
                  <literal>netstat -l --inet</literal>
                </entry>
                <entry>
    find listening ports
    </entry>
              </row>
              <row>
                <entry>
                  <literal>netstat -ln --tcp</literal>
                </entry>
                <entry>
    find listening TCP ports (numeric)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>dlint example.com</literal>
                </entry>
                <entry>
    check DNS zone information of "<literal>examle.org</literal>"
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <tip>
          <simpara>Some of these low level network configuration tools reside in "<literal>/sbin/</literal>".  You may need to issue full command path such as "<literal>/sbin/ifconfig</literal>" or add "<literal>/sbin</literal>" to the "<literal>$PATH</literal>" list in your "<literal>~/.bashrc</literal>".</simpara>
        </tip>
      </section>
    </section>
    <section id="_network_optimization">
      <title>Network optimization</title>
      <simpara>Generic network optimization is beyond the scope of this documentation.  I will touch only subjects pertinent to the consumer grade connection.</simpara>
      <table id="listofnetworkoptimizationtools" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>List of network optimization tools</title>
        <tgroup cols="4">
          <colspec colwidth="20%*" align="left"/>
          <colspec colwidth="20%*" align="left"/>
          <colspec colwidth="20%*" align="left"/>
          <colspec colwidth="40%*" align="left"/>
          <thead>
            <row>
              <entry>
    packages
    </entry>
              <entry>
    popcon
    </entry>
              <entry>
    size
    </entry>
              <entry>
    description
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/iftop">
                <literal>iftop</literal>
              </ulink> <ulink url="http://bugs.debian.org/iftop">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=iftop">&pop-iftop;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/i/iftop.html">&size-iftop;</ulink></entry>
              <entry>
    display bandwidth usage information on an network interface
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/iperf">
                <literal>iperf</literal>
              </ulink> <ulink url="http://bugs.debian.org/iperf">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=iperf">&pop-iperf;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/i/iperf.html">&size-iperf;</ulink></entry>
              <entry>
    Internet Protocol bandwidth measuring tool
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/apt-spy">
                <literal>apt-spy</literal>
              </ulink> <ulink url="http://bugs.debian.org/apt-spy">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=apt-spy">&pop-aptspy;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/a/apt-spy.html">&size-aptspy;</ulink></entry>
              <entry>
    write a "<literal>/etc/apt/sources.list</literal>" file based on bandwidth tests
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/ifstat">
                <literal>ifstat</literal>
              </ulink> <ulink url="http://bugs.debian.org/ifstat">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=ifstat">&pop-ifstat;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/i/ifstat.html">&size-ifstat;</ulink></entry>
              <entry>
    InterFace STATistics Monitoring
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/bmon">
                <literal>bmon</literal>
              </ulink> <ulink url="http://bugs.debian.org/bmon">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=bmon">&pop-bmon;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/b/bmon.html">&size-bmon;</ulink></entry>
              <entry>
    portable bandwidth monitor and rate estimator
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/ethstatus">
                <literal>ethstatus</literal>
              </ulink> <ulink url="http://bugs.debian.org/ethstatus">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=ethstatus">&pop-ethstatus;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/e/ethstatus.html">&size-ethstatus;</ulink></entry>
              <entry>
    script that quickly measures network device throughput
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/bing">
                <literal>bing</literal>
              </ulink> <ulink url="http://bugs.debian.org/bing">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=bing">&pop-bing;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/b/bing.html">&size-bing;</ulink></entry>
              <entry>
    empirical stochastic bandwidth tester
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/bwm-ng">
                <literal>bwm-ng</literal>
              </ulink> <ulink url="http://bugs.debian.org/bwm-ng">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=bwm-ng">&pop-bwmng;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/b/bwm-ng.html">&size-bwmng;</ulink></entry>
              <entry>
    small and simple console-based bandwidth monitor
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/ethstats">
                <literal>ethstats</literal>
              </ulink> <ulink url="http://bugs.debian.org/ethstats">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=ethstats">&pop-ethstats;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/e/ethstats.html">&size-ethstats;</ulink></entry>
              <entry>
    console-based Ethernet statistics monitor
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/ipfm">
                <literal>ipfm</literal>
              </ulink> <ulink url="http://bugs.debian.org/ipfm">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=ipfm">&pop-ipfm;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/i/ipfm.html">&size-ipfm;</ulink></entry>
              <entry>
    bandwidth analysis tool
    </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <section id="_finding_optimal_mtu">
        <title>Finding optimal MTU</title>
        <simpara>The <ulink url="&maximumtransmissionunitmtu;">Maximum Transmission Unit (MTU)</ulink> value can be determined experimentally with <literal>ping</literal>(8) with "<literal>-M do</literal>" option which sends ICMP packets with data size starting from 1500 (with offset of 28 bytes for the IP+ICMP header) and finding the largest size without IP fragmentation.</simpara>
        <simpara>For example, try the following</simpara>
        <screen>$ ping -c 1 -s $((1500-28)) -M do www.debian.org
PING www.debian.org (194.109.137.218) 1472(1500) bytes of data.
From 192.168.11.2 icmp_seq=1 Frag needed and DF set (mtu = 1454)

--- www.debian.org ping statistics ---
0 packets transmitted, 0 received, +1 errors</screen>
        <simpara>Try 1454 instead of 1500</simpara>
        <simpara>You see <literal>ping</literal>(8) succeed with 1454.</simpara>
        <simpara>This process is <ulink url="&pathmtupmtudiscovery;">Path MTU (PMTU) discovery</ulink> (<ulink url="&rfcbbjb;">RFC1191</ulink>) and the <literal>tracepath</literal>(8) command can automate this.</simpara>
        <tip>
          <simpara>The above example with PMTU value of 1454 is for my previous FTTP provider which used <ulink url="&asynchronoustransfermode;">Asynchronous Transfer Mode</ulink> (ATM) as its backbone network and served its clients with the <ulink url="&pppoe;">PPPoE</ulink>.  The actual PMTU value depends on your environment, e.g., 1500 for the my new FTTP provider.</simpara>
        </tip>
        <table id="basicguidelinesoeoptimalmtuvalue" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>Basic guide lines of the optimal MTU value</title>
          <tgroup cols="3">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="40%*" align="left"/>
            <thead>
              <row>
                <entry>
    network environment
    </entry>
                <entry>
    MTU
    </entry>
                <entry>
    rationale
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
    Dial-up link (IP: PPP)
    </entry>
                <entry>
    576
    </entry>
                <entry>
    standard
    </entry>
              </row>
              <row>
                <entry>
    Ethernet link (IP: DHCP or fixed)
    </entry>
                <entry>
    1500
    </entry>
                <entry>
    standard and default
    </entry>
              </row>
              <row>
                <entry>
    Ethernet link (IP: PPPoE)
    </entry>
                <entry>
    1492 (=1500-8)
    </entry>
                <entry>
    2 bytes for PPP header and 6 bytes for PPPoE header
    </entry>
              </row>
              <row>
                <entry>
    Ethernet link (ISP's backbone: ATM, IP: DHCP or fixed)
    </entry>
                <entry>
    1462 (=48*31-18-8)
    </entry>
                <entry>
    author's speculation: 18 for Ethernet header, 8 for SAR trailer
    </entry>
              </row>
              <row>
                <entry>
    Ethernet link (ISP's backbone: ATM, IP: PPPoE)
    </entry>
                <entry>
    1454 (=48*31-8-18-8)
    </entry>
                <entry>
    see "<ulink url="&optimalmtuconfigeadslconnections;">Optimal MTU configuration for PPPoE ADSL Connections</ulink>" for rationale
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>In addtion to these basic guide lines, you should know the following.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
Any use of tunneling methods (<ulink url="&vpn;">VPN</ulink> etc.) may reduce optimal MTU further by their overheads.
</simpara>
          </listitem>
          <listitem>
            <simpara>
The MTU value should not exceed the experimentally determined PMTU value.
</simpara>
          </listitem>
          <listitem>
            <simpara>
The bigger MTU value is generally better when other limitations are met.
</simpara>
          </listitem>
        </itemizedlist>
      </section>
      <section id="_setting_mtu">
        <title>Setting MTU</title>
        <simpara>Here are examples for setting the MTU value from its default 1500 to 1454.</simpara>
        <simpara>For the DHCP (see <xref linkend="_the_network_interface_served_by_the_dhcp"/>), you can replace pertinent <emphasis role="strong"><literal>iface</literal></emphasis> stanza lines in the "<literal>/etc/network/interfaces</literal>" with the following.</simpara>
        <screen>iface eth0 inet dhcp
 hostname "mymachine"
 pre-up /sbin/ifconfig $IFACE mtu 1454</screen>
        <simpara>For the static IP (see <xref linkend="_the_network_interface_with_the_static_ip"/>), you can replace pertinent <emphasis>'</emphasis><literal>iface</literal><emphasis>'</emphasis> stanza lines in the "<literal>/etc/network/interfaces</literal>" with the following.</simpara>
        <screen>iface eth0 inet static
 address 192.168.11.100
 netmask 255.255.255.0
 broadcast 192.168.11.255
 gateway 192.168.11.1
 mtu 1454
 dns-domain lan
 dns-nameservers 192.168.11.1</screen>
        <simpara>For the direct PPPoE (see <xref linkend="_the_pppoe_connection_with_pppoeconf"/>), you can replace pertinent "<literal>mtu</literal>" line in the "<literal>/etc/ppp/peers/dsl-provider</literal>" with the following.</simpara>
        <screen>mtu 1454</screen>
        <simpara>The <ulink url="&maximumsegmentsize;">maximum segment size</ulink> (MSS) is used as an alternative measure of packet size.  The relationship between MSS and MTU are the following.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
MSS = MTU - 40 for IPv4
</simpara>
          </listitem>
          <listitem>
            <simpara>
MSS = MTU - 60 for IPv6
</simpara>
          </listitem>
        </itemizedlist>
        <note>
          <simpara>The <literal>iptables</literal>(8) (see <xref linkend="_netfilter_infrastructure"/>) based optimization can clamp packet size by the MSS and is useful for the router.</simpara>
        </note>
      </section>
      <section id="_wan_tcp_optimization">
        <title>WAN TCP optimization</title>
        <simpara>The TCP throughput can be maximized by adjusting TCP buffer size parameters as described in "<ulink url="&tcptuningguide;">TCP Tuning Guide</ulink>" and "<ulink url="&tcptuning;">TCP tuning</ulink>"  for the modern high-bandwidth and high-latency WAN.  So far, the current Debian default settings serve well even for my LAN connected by the fast 1G bps FTTP service.</simpara>
      </section>
    </section>
    <section id="_netfilter_infrastructure">
      <title>Netfilter infrastructure</title>
      <simpara><ulink url="&netfilter;">Netfilter</ulink> provides infrastructure for <ulink url="&statefulfirewall;">stateful firewall</ulink> and <ulink url="&networkaddresstranslationnat;">network address translation (NAT)</ulink> with <ulink url="&linuxkernel;">Linux kernel</ulink> modules (see <xref linkend="_the_kernel_module_initialization"/>).</simpara>
      <table id="listoffirewalltools" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>List of firewall tools</title>
        <tgroup cols="4">
          <colspec colwidth="20%*" align="left"/>
          <colspec colwidth="20%*" align="left"/>
          <colspec colwidth="20%*" align="left"/>
          <colspec colwidth="40%*" align="left"/>
          <thead>
            <row>
              <entry>
    packages
    </entry>
              <entry>
    popcon
    </entry>
              <entry>
    size
    </entry>
              <entry>
    description
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/iptables">
                <literal>iptables</literal>
              </ulink> <ulink url="http://bugs.debian.org/iptables">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=iptables">&pop-iptables;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/i/iptables.html">&size-iptables;</ulink></entry>
              <entry>
    administration tools for <ulink url="&netfilter;">netfilter</ulink>
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/iptstate">
                <literal>iptstate</literal>
              </ulink> <ulink url="http://bugs.debian.org/iptstate">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=iptstate">&pop-iptstate;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/i/iptstate.html">&size-iptstate;</ulink></entry>
              <entry>
    continuously monitor <ulink url="&netfilter;">netfilter</ulink> state (similar to <literal>top</literal>(1))
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/shorewall-perl">
                <literal>shorewall-perl</literal>
              </ulink> <ulink url="http://bugs.debian.org/shorewall-perl">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=shorewall-perl">&pop-shorewallperl;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/s/shorewall-perl.html">&size-shorewallperl;</ulink></entry>
              <entry><ulink url="&shorelinefirewall;">Shoreline Firewall</ulink>, <ulink url="&netfilter;">netfilter</ulink> configuration file generator (Perl-based, recommended for <literal>lenny</literal>)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/shorewall-shell">
                <literal>shorewall-shell</literal>
              </ulink> <ulink url="http://bugs.debian.org/shorewall-shell">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=shorewall-shell">&pop-shorewallshell;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/s/shorewall-shell.html">&size-shorewallshell;</ulink></entry>
              <entry><ulink url="&shorelinefirewall;">Shoreline Firewall</ulink>, <ulink url="&netfilter;">netfilter</ulink> configuration file generator (shell-based, alternative for <literal>lenny</literal>)
    </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <simpara>Main user space program of <ulink url="&netfilter;">netfilter</ulink> is <literal>iptables</literal>(8).  You can manually configure <ulink url="&netfilter;">netfilter</ulink> interactively from shell, save its state with <literal>iptables-save</literal>(8), and restore it via init script with <literal>iptables-restore</literal>(8) upon system reboot.</simpara>
      <simpara>Configuration helper scripts such as <ulink url="&shorewall;">shorewall</ulink> ease this process.</simpara>
      <simpara>See documentations at <ulink url="&httpwwwnetfilterorgdocumentation;">http://www.netfilter.org/documentation/</ulink> (or in "<literal>/usr/share/doc/iptables/html/</literal>").</simpara>
      <itemizedlist>
        <listitem>
          <simpara>
            <ulink url="&linuxnetworkingconceptshowto;">Linux Networking-concepts HOWTO</ulink>
          </simpara>
        </listitem>
        <listitem>
          <simpara>
            <ulink url="&linuxcepacketfilteringhowto;">Linux 2.4 Packet Filtering HOWTO</ulink>
          </simpara>
        </listitem>
        <listitem>
          <simpara>
            <ulink url="&linuxcenathowto;">Linux 2.4 NAT HOWTO</ulink>
          </simpara>
        </listitem>
      </itemizedlist>
      <tip>
        <simpara>Although these were written for Linux <emphasis role="strong">2.4</emphasis>, both <literal>iptables</literal>(8) command and netfilter kernel function apply for current Linux <emphasis role="strong">2.6</emphasis>.</simpara>
      </tip>
    </section>
  </chapter>
  <chapter id="_network_applications">
    <title>Network applications</title>
    <simpara>After establishing network connectivity (see <xref linkend="_network_setup"/>), you can run various network applications.</simpara>
    <section id="_web_browsers">
      <title>Web browsers</title>
      <simpara>There are many <ulink url="&webbrowser;">web browser</ulink> packages to access remote contents with <ulink url="&hypertexttransferprotocol;">Hypertext Transfer Protocol</ulink> (HTTP).</simpara>
      <table id="listofwebbrowsers" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>List of web browsers</title>
        <tgroup cols="5">
          <colspec colwidth="10%*" align="left"/>
          <colspec colwidth="10%*" align="left"/>
          <colspec colwidth="10%*" align="left"/>
          <colspec colwidth="10%*" align="left"/>
          <colspec colwidth="60%*" align="left"/>
          <thead>
            <row>
              <entry>
    package
    </entry>
              <entry>
    popcon
    </entry>
              <entry>
    size
    </entry>
              <entry>
    type
    </entry>
              <entry>
    description of web browser
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/iceweasel">
                <literal>iceweasel</literal>
              </ulink> <ulink url="http://bugs.debian.org/iceweasel">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=iceweasel">&pop-iceweasel;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/i/iceweasel.html">&size-iceweasel;</ulink></entry>
              <entry>
    X
    </entry>
              <entry>
                <ulink url="&unbranded;">unbranded</ulink>
                <ulink url="&mozillafirefox;">Mozilla Firefox</ulink>
              </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/iceape-browser">
                <literal>iceape-browser</literal>
              </ulink> <ulink url="http://bugs.debian.org/iceape-browser">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=iceape-browser">&pop-iceapebrowser;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/i/iceape-browser.html">&size-iceapebrowser;</ulink></entry>
              <entry>
    , ,
    </entry>
              <entry><ulink url="&unbranded;">unbranded</ulink><ulink url="&mozilla;">Mozilla</ulink>, removed due to security concerns <ulink url="&bugfaffgf;">bug#505565</ulink></entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/epiphany-browser">
                <literal>epiphany-browser</literal>
              </ulink> <ulink url="http://bugs.debian.org/epiphany-browser">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=epiphany-browser">&pop-epiphanybrowser;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/e/epiphany-browser.html">&size-epiphanybrowser;</ulink></entry>
              <entry>
    , ,
    </entry>
              <entry><ulink url="&gnome;">GNOME</ulink>, <ulink url="&hig;">HIG</ulink> compliant, <ulink url="&epiphany;">Epiphany</ulink>
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/galeon">
                <literal>galeon</literal>
              </ulink> <ulink url="http://bugs.debian.org/galeon">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=galeon">&pop-galeon;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/g/galeon.html">&size-galeon;</ulink></entry>
              <entry>
    , ,
    </entry>
              <entry><ulink url="&gnome;">GNOME</ulink>, <ulink url="&galeon;">Galeon</ulink>, superseded by <ulink url="&epiphany;">Epiphany</ulink></entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/konqueror">
                <literal>konqueror</literal>
              </ulink> <ulink url="http://bugs.debian.org/konqueror">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=konqueror">&pop-konqueror;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/k/konqueror.html">&size-konqueror;</ulink></entry>
              <entry>
    , ,
    </entry>
              <entry><ulink url="&kde;">KDE</ulink>, <ulink url="&konqueror;">Konqueror</ulink></entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/w3m">
                <literal>w3m</literal>
              </ulink> <ulink url="http://bugs.debian.org/w3m">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=w3m">&pop-wdm;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/w/w3m.html">&size-wdm;</ulink></entry>
              <entry>
    text
    </entry>
              <entry>
                <ulink url="&wdm;">w3m</ulink>
              </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/lynx">
                <literal>lynx</literal>
              </ulink> <ulink url="http://bugs.debian.org/lynx">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=lynx">&pop-lynx;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/l/lynx.html">&size-lynx;</ulink></entry>
              <entry>
    , ,
    </entry>
              <entry>
    XXX FIXME XXX
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/elinks">
                <literal>elinks</literal>
              </ulink> <ulink url="http://bugs.debian.org/elinks">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=elinks">&pop-elinks;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/e/elinks.html">&size-elinks;</ulink></entry>
              <entry>
    , ,
    </entry>
              <entry>
    XXX FIXME XXX
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/links">
                <literal>links</literal>
              </ulink> <ulink url="http://bugs.debian.org/links">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=links">&pop-links;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/l/links.html">&size-links;</ulink></entry>
              <entry>
    , ,
    </entry>
              <entry>
    XXX FIXME XXX
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/links2">
                <literal>links2</literal>
              </ulink> <ulink url="http://bugs.debian.org/links2">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=links2">&pop-linksc;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/l/links2.html">&size-linksc;</ulink></entry>
              <entry>
    , ,
    </entry>
              <entry>
    XXX FIXME XXX
    </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <section id="_browser_configuration">
        <title>Browser configuration</title>
        <simpara>You may be able to use following special URL strings for some browsers to confirm their settings.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
"<literal>about:</literal>"
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>about:config</literal>"
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>about:plugins</literal>"
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>Debian offers many free browser plugin packages in the main component which can handle not only <ulink url="&javasoftwareplatform;">Java (software platform)</ulink> and <ulink url="&flash;">Flash</ulink> but also <ulink url="&mpeg;">MPEG</ulink>, <ulink url="&mpegc;">MPEG2</ulink>, <ulink url="&mpege;">MPEG4</ulink>, <ulink url="&divx;">DivX</ulink>, <ulink url="&windowsmediavideowmv;">Windows Media Video (.wmv)</ulink>, <ulink url="&quicktimemov;">QuickTime (.mov)</ulink>, <ulink url="&mpdmpd;">MP3 (.mp3)</ulink>, <ulink url="&oggvorbis;">Ogg/Vorbis</ulink> files, DVDs, VCDs, etc.  Debian also offers helper programs to install non-free browser plugin packages as contrib or non-free components.</simpara>
        <table id="listofbrowserpluginpackages" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of browser plugin packages</title>
          <tgroup cols="5">
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="60%*" align="left"/>
            <thead>
              <row>
                <entry>
    package
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    size
    </entry>
                <entry>
    component
    </entry>
                <entry>
    description
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/icedtea-gcjwebplugin">
                  <literal>icedtea-gcjwebplugin</literal>
                </ulink> <ulink url="http://bugs.debian.org/icedtea-gcjwebplugin">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=icedtea-gcjwebplugin">&pop-icedteagcjwebplugin;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/i/icedtea-gcjwebplugin.html">&size-icedteagcjwebplugin;</ulink></entry>
                <entry>
    main
    </entry>
                <entry>
    Java plugin using Hotspot JIT
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/sun-java6-plugin">
                  <literal>sun-java6-plugin</literal>
                </ulink> <ulink url="http://bugs.debian.org/sun-java6-plugin">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=sun-java6-plugin">&pop-sunjavagplugin;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/s/sun-java6-plugin.html">&size-sunjavagplugin;</ulink></entry>
                <entry>
    non-free
    </entry>
                <entry>
    Java plugin for Sun's Java SE 6 (i386 only)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/swfdec-mozilla">
                  <literal>swfdec-mozilla</literal>
                </ulink> <ulink url="http://bugs.debian.org/swfdec-mozilla">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=swfdec-mozilla">&pop-swfdecmozilla;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/s/swfdec-mozilla.html">&size-swfdecmozilla;</ulink></entry>
                <entry>
    main
    </entry>
                <entry>
    Flash plugin based on libswfdec
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/mozilla-plugin-gnash">
                  <literal>mozilla-plugin-gnash</literal>
                </ulink> <ulink url="http://bugs.debian.org/mozilla-plugin-gnash">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=mozilla-plugin-gnash">&pop-mozillaplugingnash;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/m/mozilla-plugin-gnash.html">&size-mozillaplugingnash;</ulink></entry>
                <entry>
    main
    </entry>
                <entry>
    Flash plugin based on Gnash
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/flashplugin-nonfree">
                  <literal>flashplugin-nonfree</literal>
                </ulink> <ulink url="http://bugs.debian.org/flashplugin-nonfree">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=flashplugin-nonfree">&pop-flashpluginnonfree;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/f/flashplugin-nonfree.html">&size-flashpluginnonfree;</ulink></entry>
                <entry>
    contrib
    </entry>
                <entry>
    Flash plugin helper to install Adobe Flash Player (i386, amd64 only)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/mozilla-bonobo">
                  <literal>mozilla-bonobo</literal>
                </ulink> <ulink url="http://bugs.debian.org/mozilla-bonobo">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=mozilla-bonobo">&pop-mozillabonobo;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/m/mozilla-bonobo.html">&size-mozillabonobo;</ulink></entry>
                <entry>
    main
    </entry>
                <entry>
    Mozilla plugin support for GNOME Bonobo components
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/mozilla-plugin-vlc">
                  <literal>mozilla-plugin-vlc</literal>
                </ulink> <ulink url="http://bugs.debian.org/mozilla-plugin-vlc">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=mozilla-plugin-vlc">&pop-mozillapluginvlc;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/m/mozilla-plugin-vlc.html">&size-mozillapluginvlc;</ulink></entry>
                <entry>
    main
    </entry>
                <entry>
    Multimedia plugin based on <ulink url="&vlcmediaplayer;">VLC media player</ulink>
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/totem-mozilla">
                  <literal>totem-mozilla</literal>
                </ulink> <ulink url="http://bugs.debian.org/totem-mozilla">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=totem-mozilla">&pop-totemmozilla;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/t/totem-mozilla.html">&size-totemmozilla;</ulink></entry>
                <entry>
    main
    </entry>
                <entry>
    Multimedia plugin based on <ulink url="&gnomestotemmediaplayer;">GNOME's Totem media player</ulink>
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/gecko-mediaplayer">
                  <literal>gecko-mediaplayer</literal>
                </ulink> <ulink url="http://bugs.debian.org/gecko-mediaplayer">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=gecko-mediaplayer">&pop-geckomediaplayer;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/g/gecko-mediaplayer.html">&size-geckomediaplayer;</ulink></entry>
                <entry>
    main
    </entry>
                <entry>
    Multimedia plugin based on (GNOME) <ulink url="&mplayer;">MPlayer</ulink>
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/nspluginwrapper">
                  <literal>nspluginwrapper</literal>
                </ulink> <ulink url="http://bugs.debian.org/nspluginwrapper">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=nspluginwrapper">&pop-nspluginwrapper;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/n/nspluginwrapper.html">&size-nspluginwrapper;</ulink></entry>
                <entry>
    contrib
    </entry>
                <entry>
    A wrapper to run i386 Netscape plugins on amd64 architecture
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <tip>
          <simpara>Although use of above Debian packages are much easier, browser plugins can be still manually enabled by installing "*.so" into plugin directories (e.g., "<literal>/usr/lib/iceweasel/plugins/</literal>") and restarting browsers.</simpara>
        </tip>
        <simpara>Some web sites refuse to be connected based on the user-agent string of your browser.  You can work around this situation by <ulink url="&spoofingtheuseragentstring;">spoofing the user-agent string</ulink>.  For example, you can do this by adding following line into user configuration files such as "<literal>~/.gnome2/epiphany/mozilla/epiphany/user.js</literal>" or "<literal>~/.mozilla/firefox/*.default/user.js</literal>".</simpara>
        <screen>user_pref{"general.useragent.override","Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 6.0)"};</screen>
        <simpara>Alternatively, you can add and reset this variable by typing "<literal>about:config</literal>" into URL and right clicking its display contents.</simpara>
        <caution>
          <simpara>Spoofed user-agent string may cause <ulink url="&badsideeffectswithjava;">bad side effects with Java</ulink>.</simpara>
        </caution>
      </section>
    </section>
    <section id="_the_mail_system">
      <title>The mail system</title>
      <caution>
        <simpara>If you are to set up the mail server to exchange mail directly with the Internet, you should be better than reading this elementary document.</simpara>
      </caution>
      <section id="_modern_mail_service_basics">
        <title>Modern mail service basics</title>
        <simpara>In order to contain spam (unwanted and unsolicited e-mail) problems, many ISPs which provide consumer grade Internet connection are implementing counter measures.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
The smarthost service for their customers to send message uses the message submission port (587) specified in <ulink url="&rfceeaj;">rfc4409</ulink> with the password (<ulink url="&smtpauth;">SMTP AUTH</ulink> service) specified in <ulink url="&rfcejfe;">rfc4954</ulink>.
</simpara>
          </listitem>
          <listitem>
            <simpara>
The <ulink url="&smtp;">SMTP</ulink> port (25) connection from their internal network hosts (except ISP's own outgoing mail server) to the Internet are blocked.
</simpara>
          </listitem>
          <listitem>
            <simpara>
The <ulink url="&smtp;">SMTP</ulink> port (25) connection to the ISP's incoming mail server from some suspicious external network hosts are blocked.  (The connection from hosts on the dynamic IP address range used by the dial-up and other consumer grade Internet connections are the first ones to be blocked.)
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>When configuring your mail system or resolving mail delivery problems, you must consider these new limitations.</simpara>
        <simpara>In light of these hostile Internet situation and limitations, some independent Internet mail ISPs such as Yahoo.com and Gmail.com offer the secure mail service which can be connected from anywhere on the Internet using <ulink url="&transportlayerseesocketslayerssl;">Transport Layer Security (TLS) and its predecessor, Secure Sockets Layer (SSL)</ulink>.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
The smarthost service for their customers to send message uses the SMTP/SSL port (465) or the message submission port (587) with the password (SMTP AUTH service).
</simpara>
          </listitem>
          <listitem>
            <simpara>
The incoming mail is accessible at the TLS/POP3 port (995) with <ulink url="&popd;">POP3</ulink>.
</simpara>
          </listitem>
        </itemizedlist>
        <caution>
          <simpara>It is not realistic to run SMTP server on consumer grade network to send mail directly to the remote host reliably.  They are very likely to be rejected.  You must use some smarthost services offered by your connection ISP or independent mail ISPs.  For the simplicity, I will assume that the smarthost is located at "<literal>smtp.hostname.dom</literal>", requires <ulink url="&smtpauth;">SMTP AUTH</ulink>, and uses the message submission port (587) in the following text.</simpara>
        </caution>
      </section>
      <section id="_the_mail_configuration_strategy_for_workstation">
        <title>The mail configuration strategy for workstation</title>
        <simpara>The most simple mail configuration is that the mail is sent to the ISP's smarthost and received from ISP's POP3 server by the MUA (see <xref linkend="_mail_user_agent_mua"/>) itself. This type of configuration is popular with full featured GUI based MUA such as <literal>icedove</literal>(1), <literal>evolution</literal>(1), etc. If you need to filter mail by their types, you use MUA's filtering function. For this case, the local MTA (see <xref linkend="_mail_transport_agent_mta"/>) need to do local delivery only.</simpara>
        <simpara>The alternative mail configuration is that the mail is sent via local MTA to the ISP's smarthost and received from ISP's POP3 by the mail retriever (see <xref linkend="_the_remote_mail_retrieval_and_forward_utility"/>) to the local mailbox.  If you need to filter mail by their types, you use MDA with filter (see <xref linkend="_mail_delivery_agent_mda_with_filter"/>) to filter mail into separate mailboxes.  This type of configuration is popular with simple console based MUA such as <literal>mutt</literal>(1), <literal>gnus</literal>(1), etc., although this is possible with any MUAs (see <xref linkend="_mail_user_agent_mua"/>). For this case, the local MTA (see <xref linkend="_mail_transport_agent_mta"/>) need to do both smarthost delivery and local delivery.</simpara>
      </section>
    </section>
    <section id="_mail_transport_agent_mta">
      <title>Mail transport agent (MTA)</title>
      <simpara>For normal workstation, the popular choice for Mail transport agent (MTA) is either <literal>exim4-*</literal> or <literal>postfix</literal> packages.  It is really up to you.</simpara>
      <table id="listofbasicmailtesforworkstation" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>List of basic mail transport agent related packages for workstation</title>
        <tgroup cols="4">
          <colspec colwidth="20%*" align="left"/>
          <colspec colwidth="20%*" align="left"/>
          <colspec colwidth="20%*" align="left"/>
          <colspec colwidth="40%*" align="left"/>
          <thead>
            <row>
              <entry>
    package
    </entry>
              <entry>
    popcon
    </entry>
              <entry>
    size
    </entry>
              <entry>
    description
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/exim4-daemon-light">
                <literal>exim4-daemon-light</literal>
              </ulink> <ulink url="http://bugs.debian.org/exim4-daemon-light">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=exim4-daemon-light">&pop-eximedaemonlight;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/e/exim4-daemon-light.html">&size-eximedaemonlight;</ulink></entry>
              <entry>
    Exim4 mail transport agent (MTA: Debian default)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/exim4-base">
                <literal>exim4-base</literal>
              </ulink> <ulink url="http://bugs.debian.org/exim4-base">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=exim4-base">&pop-eximebase;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/e/exim4-base.html">&size-eximebase;</ulink></entry>
              <entry>
    Exim4 documentation (text) and common files
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/exim4-doc-html">
                <literal>exim4-doc-html</literal>
              </ulink> <ulink url="http://bugs.debian.org/exim4-doc-html">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=exim4-doc-html">&pop-eximedochtml;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/e/exim4-doc-html.html">&size-eximedochtml;</ulink></entry>
              <entry>
    Exim4 documentation (html)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/exim4-doc-info">
                <literal>exim4-doc-info</literal>
              </ulink> <ulink url="http://bugs.debian.org/exim4-doc-info">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=exim4-doc-info">&pop-eximedocinfo;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/e/exim4-doc-info.html">&size-eximedocinfo;</ulink></entry>
              <entry>
    Exim4 documentation (info)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/postfix">
                <literal>postfix</literal>
              </ulink> <ulink url="http://bugs.debian.org/postfix">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=postfix">&pop-postfix;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/p/postfix.html">&size-postfix;</ulink></entry>
              <entry>
    Postfix mail transport agent (MTA: alternative)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/postfix-doc">
                <literal>postfix-doc</literal>
              </ulink> <ulink url="http://bugs.debian.org/postfix-doc">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=postfix-doc">&pop-postfixdoc;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/p/postfix-doc.html">&size-postfixdoc;</ulink></entry>
              <entry>
    Postfix documentation (html+text)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/sasl2-bin">
                <literal>sasl2-bin</literal>
              </ulink> <ulink url="http://bugs.debian.org/sasl2-bin">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=sasl2-bin">&pop-saslcbin;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/s/sasl2-bin.html">&size-saslcbin;</ulink></entry>
              <entry>
    Cyrus SASL API implementation (supplement postfix for SMTP AUTH)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/cyrus-sasl2-doc">
                <literal>cyrus-sasl2-doc</literal>
              </ulink> <ulink url="http://bugs.debian.org/cyrus-sasl2-doc">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=cyrus-sasl2-doc">&pop-cyrussaslcdoc;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/c/cyrus-sasl2-doc.html">&size-cyrussaslcdoc;</ulink></entry>
              <entry>
    Cyrus SASL - documentation
    </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <simpara>Although the popcon vote count of <literal>exim4-*</literal> looks several times popular than that of <literal>postfix</literal>, this does not mean <literal>postfix</literal> is not popular with Debian developers.  The Debian server system uses both <literal>exim4</literal> and <literal>postfix</literal>.  The <ulink url="&mailheaderanalysis;">mail header analysis</ulink> of mailing list postings from prominent Debian developers also indicate both of these MTAs are as popular.</simpara>
      <simpara>The <literal>exim4-*</literal> packages are known to have very small memory consumption and very flexible for its configuration.  The <literal>postfix</literal> package is known to be compact, fast, simple, and secure.  Both come with ample documentation and are as good in quality and license.</simpara>
      <simpara>There are many choices for mail trasport agent (MTA) packages with different capability and focus in Debian archive.</simpara>
      <table id="listofchoicesforsindebianarchive" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>List of choices for mail transport agent (MTA) packages in Debian archive</title>
        <tgroup cols="4">
          <colspec colwidth="20%*" align="left"/>
          <colspec colwidth="20%*" align="left"/>
          <colspec colwidth="20%*" align="left"/>
          <colspec colwidth="40%*" align="left"/>
          <thead>
            <row>
              <entry>
    package
    </entry>
              <entry>
    popcon
    </entry>
              <entry>
    size
    </entry>
              <entry>
    capability and focus
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/exim4-daemon-light">
                <literal>exim4-daemon-light</literal>
              </ulink> <ulink url="http://bugs.debian.org/exim4-daemon-light">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=exim4-daemon-light">&pop-eximedaemonlight;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/e/exim4-daemon-light.html">&size-eximedaemonlight;</ulink></entry>
              <entry>
    full
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/postfix">
                <literal>postfix</literal>
              </ulink> <ulink url="http://bugs.debian.org/postfix">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=postfix">&pop-postfix;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/p/postfix.html">&size-postfix;</ulink></entry>
              <entry>
    full (security)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/exim4-daemon-heavy">
                <literal>exim4-daemon-heavy</literal>
              </ulink> <ulink url="http://bugs.debian.org/exim4-daemon-heavy">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=exim4-daemon-heavy">&pop-eximedaemonheavy;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/e/exim4-daemon-heavy.html">&size-eximedaemonheavy;</ulink></entry>
              <entry>
    full (flexible)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/sendmail-bin">
                <literal>sendmail-bin</literal>
              </ulink> <ulink url="http://bugs.debian.org/sendmail-bin">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=sendmail-bin">&pop-sendmailbin;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/s/sendmail-bin.html">&size-sendmailbin;</ulink></entry>
              <entry>
    full (only if you are already familiar)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/nullmailer">
                <literal>nullmailer</literal>
              </ulink> <ulink url="http://bugs.debian.org/nullmailer">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=nullmailer">&pop-nullmailer;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/n/nullmailer.html">&size-nullmailer;</ulink></entry>
              <entry>
    strip down, no local mail
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/ssmtp">
                <literal>ssmtp</literal>
              </ulink> <ulink url="http://bugs.debian.org/ssmtp">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=ssmtp">&pop-ssmtp;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/s/ssmtp.html">&size-ssmtp;</ulink></entry>
              <entry>
    strip down, no local mail
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/nbsmtp">
                <literal>nbsmtp</literal>
              </ulink> <ulink url="http://bugs.debian.org/nbsmtp">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=nbsmtp">&pop-nbsmtp;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/n/nbsmtp.html">&size-nbsmtp;</ulink></entry>
              <entry>
    ?
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/courier-mta">
                <literal>courier-mta</literal>
              </ulink> <ulink url="http://bugs.debian.org/courier-mta">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=courier-mta">&pop-couriermta;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/c/courier-mta.html">&size-couriermta;</ulink></entry>
              <entry>
    very full (web interface etc.)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/xmail">
                <literal>xmail</literal>
              </ulink> <ulink url="http://bugs.debian.org/xmail">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=xmail">&pop-xmail;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/x/xmail.html">&size-xmail;</ulink></entry>
              <entry>
    light
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/masqmail">
                <literal>masqmail</literal>
              </ulink> <ulink url="http://bugs.debian.org/masqmail">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=masqmail">&pop-masqmail;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/m/masqmail.html">&size-masqmail;</ulink></entry>
              <entry>
    light
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/esmtp">
                <literal>esmtp</literal>
              </ulink> <ulink url="http://bugs.debian.org/esmtp">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=esmtp">&pop-esmtp;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/e/esmtp.html">&size-esmtp;</ulink></entry>
              <entry>
    light
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/esmtp-run">
                <literal>esmtp-run</literal>
              </ulink> <ulink url="http://bugs.debian.org/esmtp-run">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=esmtp-run">&pop-esmtprun;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/e/esmtp-run.html">&size-esmtprun;</ulink></entry>
              <entry>
    light (sendmail compatibility extension to <literal>esmtp</literal>)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/msmtp">
                <literal>msmtp</literal>
              </ulink> <ulink url="http://bugs.debian.org/msmtp">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=msmtp">&pop-msmtp;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/m/msmtp.html">&size-msmtp;</ulink></entry>
              <entry>
    light
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/msmtp-mta">
                <literal>msmtp-mta</literal>
              </ulink> <ulink url="http://bugs.debian.org/msmtp-mta">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=msmtp-mta">&pop-msmtpmta;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/m/msmtp-mta.html">&size-msmtpmta;</ulink></entry>
              <entry>
    light (sendmail compatibility extension to <literal>msmtp</literal>)
    </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <section id="_the_configuration_of_exim4">
        <title>The configuration of exim4</title>
        <simpara>For the Internet mail via smarthost, you (re)configure <literal>exim4-*</literal> packages as the followng.</simpara>
        <screen>$ sudo /etc/init.d/exim4 stop
$ sudo dpkg-reconfigure exim4-conf</screen>
        <simpara>Chose "mail sent by smarthost; received via SMTP or fetchmail".</simpara>
        <simpara>Set "IP address or host name of the outgoing smarthost:" to "smtp.hostname.dom:587".</simpara>
        <simpara>Reply to "Keep number of DNS-queries minimal (Dial-on-Demand)?" as one of the following.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
"No" if the system is connected to the Internet while booting.
</simpara>
          </listitem>
          <listitem>
            <simpara>
"Yes" if the system is <emphasis role="strong">not</emphasis> connected to the Internet while booting.
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>Create password entries for the smarthost by editing "<literal> /etc/exim4/passwd.client</literal>"</simpara>
        <screen>$ sudo vim /etc/exim4/passwd.client
 ...
$ cat /etc/exim4/passwd.client
^smtp.*\.hostname\.dom:username@hostname.dom:password</screen>
        <simpara>Start <literal>exim4</literal> by the following.</simpara>
        <screen>$ sudo /etc/init.d/exim4 start</screen>
        <simpara>The host name in "<literal>/etc/exim4/passwd.client</literal>" should not be the alias.  You check the real host name with the following.</simpara>
        <screen>$ host smtp.hostname.dom
smtp.hostname.dom is an alias for smtp99.hostname.dom.
smtp99.hostname.dom has address 123.234.123.89</screen>
        <simpara>I use regex in "<literal>/etc/exim4/passwd.client</literal>" to work around the alias issue so even if the ISP moves host pointed by the alias, SMTP AUTH will likely be working.</simpara>
        <caution>
          <simpara>You must execute <literal>update-exim4.conf</literal>(8) after manually updating <literal>exim4</literal> configuration files in "<literal>/etc/exim4/</literal>".</simpara>
        </caution>
        <caution>
          <simpara>Starting <literal>exim4</literal> will take long time if "No" (default value) was chosen for the debconf query of "Keep number of DNS-queries minimal (Dial-on-Demand)?" and the system is <emphasis role="strong">not</emphasis> connected to the Internet while booting.</simpara>
        </caution>
        <note>
          <simpara>Please read the official guide at: "<literal>/usr/share/doc/exim4-base/README.Debian.gz</literal>" and <literal>update-exim4.conf</literal>(8).</simpara>
        </note>
        <tip>
          <simpara>Local customization file "<literal>/etc/exim4/exim4.conf.localmacros</literal>" may be created to set MACROs.  For example, <ulink url="&yahoo;">Yahoo</ulink>'s mail service is said to require "<literal>MAIN_TLS_ENABLE = true</literal>" and "<literal>AUTH_CLIENT_ALLOW_NOTLS_PASSWORDS = yes</literal>" in it.</simpara>
        </tip>
      </section>
      <section id="_the_configuration_of_postfix_with_sasl">
        <title>The configuration of postfix with SASL</title>
        <simpara>For the Internet mail via smarthost, you should first read <ulink url="&postfixdocumentation;">postfix documentation</ulink> and key manual pages.</simpara>
        <table id="listofimportantpstfixmanualpages" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of important postfix manual pages</title>
          <tgroup cols="2">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="70%*" align="left"/>
            <thead>
              <row>
                <entry>
    command
    </entry>
                <entry>
    function
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><literal>postfix</literal>(1)
    </entry>
                <entry>
    Postfix control program
    </entry>
              </row>
              <row>
                <entry><literal>postconf</literal>(1)
    </entry>
                <entry>
    Postfix configuration utility
    </entry>
              </row>
              <row>
                <entry><literal>postconf</literal>(5)
    </entry>
                <entry>
    Postfix configuration parameters
    </entry>
              </row>
              <row>
                <entry><literal>postmap</literal>(1)
    </entry>
                <entry>
    Postfix lookup table maintenance
    </entry>
              </row>
              <row>
                <entry><literal>postalias</literal>(1)
    </entry>
                <entry>
    Postfix alias database maintenance
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>You (re)configure <literal>postfix</literal> and <literal>sasl2-bin</literal> packages as follows.</simpara>
        <screen>$ sudo /etc/init.d/postfix stop
$ sudo dpkg-reconfigure postfix</screen>
        <simpara>Chose "Internet with smarthost".</simpara>
        <simpara>Set "SMTP relay host (blank for none):" to "<literal>[smtp.hostname.dom]:587</literal>" and configure it by the following.</simpara>
        <screen>$ sudo postconf -e 'smtp_sender_dependent_authentication = yes'
$ sudo postconf -e 'smtp_sasl_auth_enable = yes'
$ sudo postconf -e 'smtp_sasl_password_maps = hash:/etc/postfix/sasl_passwd'
$ sudo postconf -e 'smtp_sasl_type = cyrus'
$ sudo vim /etc/postfix/sasl_passwd</screen>
        <simpara>Create password entries for the smarthost.</simpara>
        <screen>$ cat /etc/postfix/sasl_passwd
[smtp.hostname.dom]:587     username:password
$ sudo postmap hush:/etc/postfix/sasl_passwd</screen>
        <simpara>Start the <literal>postfix</literal> by the following.</simpara>
        <screen>$ sudo /etc/init.d/postfix start</screen>
        <simpara>Here the use of "<literal>[</literal>" and "<literal>]</literal>" in the <literal>dpkg-reconfigure</literal> dialogue and "<literal>/etc/postfix/sasl_passwd</literal>" ensures not to check MX record but directly use exact hostname specified.  See "Enabling SASL authentication in the Postfix SMTP client" in "<literal>usr/share/doc/postfix/html/SASL_README.html</literal>".</simpara>
      </section>
      <section id="_the_mail_address_configuration">
        <title>The mail address configuration</title>
        <simpara>There are a few <ulink url="&mailaddressconfieryanduseragents;">mail address configuration files for mail transport, delivery and user agents</ulink>.</simpara>
        <table id="listofmailaddresnfigurationfiles" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of mail address related configuration files</title>
          <tgroup cols="3">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="40%*" align="left"/>
            <thead>
              <row>
                <entry>
    file
    </entry>
                <entry>
    function
    </entry>
                <entry>
    application
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>/etc/mailname</literal>
                </entry>
                <entry>
    default host name for (outgoing) mail
    </entry>
                <entry>
    Debian specific, <literal>mailname</literal>(5)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/etc/email-addresses</literal>
                </entry>
                <entry>
    host name spoofing for outgoing mail
    </entry>
                <entry><literal>exim</literal>(8) specific, <literal>exim4-config_files</literal>(5)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/etc/postfix/generic</literal>
                </entry>
                <entry>
    host name spoofing for outgoing mail
    </entry>
                <entry><literal>postfix</literal>(1) specific, activated after <literal>postmap</literal>(1) command execution.
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/etc/aliases</literal>
                </entry>
                <entry>
    account name alias for incoming mail
    </entry>
                <entry>
    general, activated after <literal>newaliases</literal>(1) command execution.
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>The <emphasis role="strong">mailname</emphasis> in the "<literal>/etc/mailname</literal>" file is usually a fully qualified domain name (FQDN) that resolves to one of the host's IP addresses.  For the mobile workstation which does not have a hostname with resolvable IP address, set this <emphasis role="strong">mailname</emphasis> to the value of "<literal>hostname -f</literal>". (This is safe choice and works for both <literal>exim4-*</literal> and <literal>postfix</literal>.)</simpara>
        <tip>
          <simpara>The contents of "<literal>/etc/mailname</literal>" is used by many non-MTA programs for their default behavior. For <literal>mutt</literal>, set "<literal>hostname</literal>" and "<literal>from</literal>" variables in <literal>~/muttrc</literal> file to override the <emphasis role="strong">mailname</emphasis> value.  For programs in the <literal>devscripts</literal> package, such as <literal>bts</literal>(1) and <literal>dch</literal>(1), export environment variables "<literal>$DEBFULLNAME</literal>" and "<literal>$DEBEMAIL</literal>" to override it.</simpara>
        </tip>
        <simpara>When setting the <emphasis role="strong">mailname</emphasis> to "<literal>hostname -f</literal>", the spoofing of the source mail address via MTA can be realized by the following.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
"<literal>/etc/email-addresses</literal>" file for <literal>exim4</literal>(8) as explained in the <literal>exim4-config_files</literal>(5)
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>/etc/postfix/generic</literal>" file for <literal>postfix</literal>(1) as explained in the <literal>generic</literal>(5)
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>For <literal>postfix</literal>, the following extra steps are needed.</simpara>
        <screen># postmap hash:/etc/postfix/generic
# postconf -e 'smtp_generic_maps = hash:/etc/postfix/generic'
# postfix reload</screen>
        <simpara>You check filters using the following.</simpara>
        <itemizedlist>
          <listitem>
            <simpara><literal>exim</literal>(8) with <literal>-brw, -bf, -bF, -bV, …</literal> options
</simpara>
          </listitem>
          <listitem>
            <simpara><literal>postmap</literal>(1) with <literal>-q</literal> option.
</simpara>
          </listitem>
        </itemizedlist>
        <tip>
          <simpara>Exim comes with several utility programs such as <literal>exiqgrep</literal>(8) and <literal>exipick</literal>(8).  See "<literal>dpkg -L exim4-base|grep man8/</literal>" for available commands.</simpara>
        </tip>
      </section>
      <section id="_basic_mta_operations">
        <title>Basic MTA operations</title>
        <simpara>There are several basic MTA operations.  Some may be performed via <literal>sendmail</literal>(1) compatibility interface.</simpara>
        <table id="listofbasicmtaoperation" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of basic MTA operation</title>
          <tgroup cols="3">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="40%*" align="left"/>
            <thead>
              <row>
                <entry>
    exim command
    </entry>
                <entry>
    postfix command
    </entry>
                <entry>
    description
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>sendmail</literal>
                </entry>
                <entry>
                  <literal>sendmail</literal>
                </entry>
                <entry>
    read mails from standard input and arrange for delivery (<literal>-bm</literal>)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>mailq</literal>
                </entry>
                <entry>
                  <literal>mailq</literal>
                </entry>
                <entry>
    list the mail queue with status and queue ID (<literal>-bp</literal>)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>newaliases</literal>
                </entry>
                <entry>
                  <literal>newaliases</literal>
                </entry>
                <entry>
    initialize alias database (<literal>-I</literal>)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>exim4 -q</literal>
                </entry>
                <entry>
                  <literal>postqueue -f</literal>
                </entry>
                <entry>
    flush waiting mails (<literal>-q</literal>)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>exim4 -qf</literal>
                </entry>
                <entry>
                  <literal>postsuper -r ALL deferred; postqueue -f</literal>
                </entry>
                <entry>
    flush all mails
    </entry>
              </row>
              <row>
                <entry>
                  <literal>exim4 -qff</literal>
                </entry>
                <entry>
                  <literal>postsuper -r ALL; postqueue -f</literal>
                </entry>
                <entry>
    flush even frozen mails
    </entry>
              </row>
              <row>
                <entry>
                  <literal>exim4 -Mg queue_id</literal>
                </entry>
                <entry>
                  <literal>postsuper -h queue_id</literal>
                </entry>
                <entry>
    freeze one message by its queue ID
    </entry>
              </row>
              <row>
                <entry>
                  <literal>exim4 -Mrm queue_id</literal>
                </entry>
                <entry>
                  <literal>postsuper -d queue_id</literal>
                </entry>
                <entry>
    remove one message by its queue ID
    </entry>
              </row>
              <row>
                <entry>
    N/A
    </entry>
                <entry>
                  <literal>postsuper -d ALL</literal>
                </entry>
                <entry>
    remove all messages
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <tip>
          <simpara>It may be a good idea to flush all mails by a script in "<literal>/etc/ppp/ip-up.d/*</literal>".</simpara>
        </tip>
      </section>
    </section>
    <section id="_mail_user_agent_mua">
      <title>Mail user agent (MUA)</title>
      <simpara>If you subscribe to Debian related mailing list, it may be a good idea to use such MUA as <literal>mutt</literal> and <literal>gnus</literal> which are the de facto standard for the participant and known to behave as expected.</simpara>
      <table id="listofmailuseragentmua" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>List of mail user agent (MUA)</title>
        <tgroup cols="4">
          <colspec colwidth="20%*" align="left"/>
          <colspec colwidth="20%*" align="left"/>
          <colspec colwidth="20%*" align="left"/>
          <colspec colwidth="40%*" align="left"/>
          <thead>
            <row>
              <entry>
    package
    </entry>
              <entry>
    popcon
    </entry>
              <entry>
    size
    </entry>
              <entry>
    type
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/iceweasel">
                <literal>iceweasel</literal>
              </ulink> <ulink url="http://bugs.debian.org/iceweasel">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=iceweasel">&pop-iceweasel;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/i/iceweasel.html">&size-iceweasel;</ulink></entry>
              <entry>
    X GUI program (<ulink url="&unbranded;">unbranded</ulink> <ulink url="&mozillafirefox;">Mozilla Firefox</ulink>)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/evolution">
                <literal>evolution</literal>
              </ulink> <ulink url="http://bugs.debian.org/evolution">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=evolution">&pop-evolution;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/e/evolution.html">&size-evolution;</ulink></entry>
              <entry>
    X GUI program (part of a groupware suite)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/icedove">
                <literal>icedove</literal>
              </ulink> <ulink url="http://bugs.debian.org/icedove">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=icedove">&pop-icedove;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/i/icedove.html">&size-icedove;</ulink></entry>
              <entry>
    X GUI program (<ulink url="&unbranded;">unbranded</ulink> <ulink url="&mozillathunderbird;">Mozilla Thunderbird</ulink>)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/mutt">
                <literal>mutt</literal>
              </ulink> <ulink url="http://bugs.debian.org/mutt">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=mutt">&pop-mutt;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/m/mutt.html">&size-mutt;</ulink></entry>
              <entry>
    character terminal program probably used with <literal>vim</literal>
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/gnus">
                <literal>gnus</literal>
              </ulink> <ulink url="http://bugs.debian.org/gnus">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=gnus">&pop-gnus;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/g/gnus.html">&size-gnus;</ulink></entry>
              <entry>
    character terminal program under <literal>(x)emacs</literal>
    </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <section id="_basic_mua_8212_mutt">
        <title>Basic MUA  — Mutt</title>
        <simpara>Customize "<literal>~/.muttrc</literal>" as the following to use <literal>mutt</literal> as the mail user agent (MUA) in combination with <literal>vim</literal>.</simpara>
        <screen># use visual mode and "gq" to reformat quotes
set editor="vim -c 'set tw=72 et ft=mail'"
#
# header weeding taken from the manual (Sven's Draconian header weeding)
#
ignore *
unignore from: date subject to cc
unignore user-agent x-mailer
hdr_order from subject to cc date user-agent x-mailer
set hostname=spoof.example.org
set from="First Last &lt;username@example.org&gt;"
....</screen>
        <simpara>Add the following to "<literal>/etc/mailcap</literal>" or "<literal>~/.mailcap</literal>" to display HTML mail and MS Word attachments inline.</simpara>
        <screen>text/html; lynx -force_html %s; needsterminal;
application/msword; /usr/bin/antiword '%s'; copiousoutput; description="Microsoft Word Text"; nametemplate=%s.doc</screen>
      </section>
    </section>
    <section id="_the_remote_mail_retrieval_and_forward_utility">
      <title>The remote mail retrieval and forward utility</title>
      <simpara>Although <literal>fetchmail</literal>(1) has been de facto standard for the remote mail retrieval on GNU/Linux, the authour likes <literal>getmail</literal>(1) now.  If you want to reject mail before downloading to save bandwidth, <literal>mailfilter</literal> or <literal>mpop</literal> may be useful.  Whichever mail retriever utilities are used, it is good idea to configure system to deliver retrieved mails to MDA, such as <literal>maildrop</literal>, via pipe.</simpara>
      <table id="listofremotemailforwardutilities" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>List of remote mail retrieval and forward utilities</title>
        <tgroup cols="4">
          <colspec colwidth="20%*" align="left"/>
          <colspec colwidth="20%*" align="left"/>
          <colspec colwidth="20%*" align="left"/>
          <colspec colwidth="40%*" align="left"/>
          <thead>
            <row>
              <entry>
    package
    </entry>
              <entry>
    popcon
    </entry>
              <entry>
    size
    </entry>
              <entry>
    description
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/fetchmail">
                <literal>fetchmail</literal>
              </ulink> <ulink url="http://bugs.debian.org/fetchmail">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=fetchmail">&pop-fetchmail;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/f/fetchmail.html">&size-fetchmail;</ulink></entry>
              <entry>
    mail retriever (POP3, APOP, IMAP) (old)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/getmail4">
                <literal>getmail4</literal>
              </ulink> <ulink url="http://bugs.debian.org/getmail4">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=getmail4">&pop-getmaile;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/g/getmail4.html">&size-getmaile;</ulink></entry>
              <entry>
    mail retriever (POP3, IMAP4, and SDPS) (simple, secure, and reliable)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/mailfilter">
                <literal>mailfilter</literal>
              </ulink> <ulink url="http://bugs.debian.org/mailfilter">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=mailfilter">&pop-mailfilter;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/m/mailfilter.html">&size-mailfilter;</ulink></entry>
              <entry>
    mail retriever (POP3) with with regex filtering capability
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/mpop">
                <literal>mpop</literal>
              </ulink> <ulink url="http://bugs.debian.org/mpop">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=mpop">&pop-mpop;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/m/mpop.html">&size-mpop;</ulink></entry>
              <entry>
    mail retriever (POP3) and MDA with filtering capability
    </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <section id="_getmail_configuration">
        <title>getmail configuration</title>
        <simpara><literal>getmail</literal>(1) configuration is described in <ulink url="&getmaildocumentation;">getmail documentation</ulink>. Here is my set up to access multiple POP3 accounts as user.</simpara>
        <simpara>Create "<literal>/usr/local/bin/getmails</literal>" as the following.</simpara>
        <screen>#!/bin/sh
set -e
rcfiles="/usr/bin/getmail"
for file in $HOME/.getmail/config/* ; do
  rcfiles="$rcfiles --rcfile $file"
done
exec $rcfiles $@</screen>
        <simpara>Configure it as the following.</simpara>
        <screen>$ sudo chmod 755 /usr/local/bin/getmails
$ mkdir -m 0700 $HOME/.getmail
$ mkdir -m 0700 $HOME/.getmail/config
$ mkdir -m 0700 $HOME/.getmail/log</screen>
        <simpara>Create configuration files "<literal>$HOME/.getmail/config/pop3_name</literal>" for each POP3 acconts as the following.</simpara>
        <screen>[retriever]
type = SimplePOP3SSLRetriever
server = pop.example.com
username =  pop3_name@example.com
password = secret

[destination]
type = MDA_external
path = /usr/bin/maildrop
unixfrom = True

[options]
verbose = 0
delete = True
delivered_to = False
message_log = ~/.getmail/log/pop3_name.log</screen>
        <simpara>Configure it as the following.</simpara>
        <screen>$ chmod 0600 $HOME/.getmail/config/*</screen>
        <simpara>Schedule "<literal>/usr/local/bin/getmails</literal>" to run every 15 minutes with <literal>cron</literal>(8) by executing "<literal>sudo crontab -e -u &lt;user_name&gt;</literal>" and adding following to user's cron entry.</simpara>
        <screen>5,20,35,50 * * * * /usr/local/bin/getmails --quiet</screen>
        <tip>
          <simpara>Problems of POP3 access may not come from <literal>getmail</literal>. Some popular free POP3 services may be violating the POP3 protocol and their SPAM filter may not be perfect.  For example, they may delete messages just after receiving RETR command before receiving DELE command and may quarantined messages into Spam mailbox.  You should minimize damages by configuring them to archive accessed messages and not to delete them. See also <ulink url="&somemailwasnotdownloaded;">"Some mail was not downloaded"</ulink>.</simpara>
        </tip>
      </section>
      <section id="_fetchmail_configuration">
        <title>fetchmail configuration</title>
        <simpara><literal>fetchmail</literal>(1) configuration is set by "<literal>/etc/default/fetchmail</literal>", "<literal>/etc/fetchmailrc</literal>" and "<literal>$HOME/.fetchmailrc</literal>".  See its example in "<literal>/usr/share/doc/fetchmail/examples/fetchmailrc.example</literal>".</simpara>
      </section>
    </section>
    <section id="_mail_delivery_agent_mda_with_filter">
      <title>Mail delivery agent (MDA) with filter</title>
      <simpara>Most MTA programs, such as <literal>postfix</literal> and <literal>exim4</literal>, function as MDA (mail delivery agent). There are specialized MDA with filtering capabilities.</simpara>
      <simpara>Although <literal>procmail</literal>(1) has been de facto standard for MDA with filter on GNU/Linux, author likes <literal>maildrop</literal>(1) now.  Whichever filtering utilities are used, it is good idea to configure system to deliver filtered mails to a <ulink url="&qmailstylemaildir;">qmail-style Maildir</ulink>.</simpara>
      <table id="listofmdawithfilter" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>List of MDA with filter</title>
        <tgroup cols="4">
          <colspec colwidth="20%*" align="left"/>
          <colspec colwidth="20%*" align="left"/>
          <colspec colwidth="20%*" align="left"/>
          <colspec colwidth="40%*" align="left"/>
          <thead>
            <row>
              <entry>
    package
    </entry>
              <entry>
    popcon
    </entry>
              <entry>
    size
    </entry>
              <entry>
    description
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/procmail">
                <literal>procmail</literal>
              </ulink> <ulink url="http://bugs.debian.org/procmail">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=procmail">&pop-procmail;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/p/procmail.html">&size-procmail;</ulink></entry>
              <entry>
    MDA with filter (old)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/mailagent">
                <literal>mailagent</literal>
              </ulink> <ulink url="http://bugs.debian.org/mailagent">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=mailagent">&pop-mailagent;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/m/mailagent.html">&size-mailagent;</ulink></entry>
              <entry>
    MDA with Perl filter
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/maildrop">
                <literal>maildrop</literal>
              </ulink> <ulink url="http://bugs.debian.org/maildrop">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=maildrop">&pop-maildrop;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/m/maildrop.html">&size-maildrop;</ulink></entry>
              <entry>
    MDA with structured filtering language
    </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <section id="_maildrop_configuration">
        <title>maildrop configuration</title>
        <simpara><literal>maildrop</literal>(1) configuration is described in <ulink url="&maildropfilterdocumentation;">maildropfilter documentation</ulink>.  Here is a configuration example for "<literal>$HOME/.mailfilter</literal>".</simpara>
        <screen>logfile $HOME/.maildroplog
# clearly bad looking mails: drop them into X-trash and exit
if (    /^X-Advertisement/ ||\
        /^Subject:.*BUSINESS PROPOSAL/ ||\
        /^Subject:.*URGENT.*ASISSTANCE/ ||\
        /^Subject: *I NEED YOUR ASSISTANCE/ )
    to "$HOME/Maildir/X-trash/"

# Delivering mailinglist messages
if (    /^Precedence:.*list/ ||\
        /^Precedence:.*bulk/ ||\
        /^List-/ ||\
        /^X-Distribution:.*bulk/ )
{
    if (    /^Resent-Sender.*debian-user-request@lists.debian.org/)
        to "$HOME/Maildir/debian-user/"
    if (    /^Resent-Sender.*debian-devel-request@lists.debian.org/)
        to "$HOME/Maildir/debian-devel/"
    if (    /^Resent-Sender.*debian-announce-request@lists.debian.org/)
        to "$HOME/Maildir/debian-announce/"
    to "$HOME/Maildir/mailing-list/"
}
to "$HOME/Maildir/Inbox/"
exit</screen>
        <warning>
          <simpara>Unlike <literal>procmail</literal>, <literal>maildrop</literal> does not create missing maildir directories automatically.  You must create them manually using <literal>maildirmake</literal>(1) in advance.</simpara>
        </warning>
      </section>
      <section id="_procmail_configuration">
        <title>procmail configuration</title>
        <simpara>Here is an equivalent configurartion with "<literal>$HOME/.procmailrc</literal>" for <literal>procmail</literal>(1).</simpara>
        <screen>MAILDIR=$HOME/Maildir
DEFAULT=$MAILDIR/Inbox/
LOGFILE=$MAILDIR/Maillog
# clearly bad looking mails: drop them into X-trash and exit
:0
* 1^0 ^X-Advertisement
* 1^0 ^Subject:.*BUSINESS PROPOSAL
* 1^0 ^Subject:.*URGENT.*ASISSTANCE
* 1^0 ^Subject: *I NEED YOUR ASSISTANCE
X-trash/

# Delivering mailinglist messages
:0
* 1^0 ^Precedence:.*list
* 1^0 ^Precedence:.*bulk
* 1^0 ^List-
* 1^0 ^X-Distribution:.*bulk
{
:0
* 1^0 ^Return-path:.*debian-devel-admin@debian.or.jp
jp-debian-devel/

:0
* ^Resent-Sender.*debian-user-request@lists.debian.org
debian-user/

:0
* ^Resent-Sender.*debian-devel-request@lists.debian.org
debian-devel/

:0
* ^Resent-Sender.*debian-announce-request@lists.debian.org
debian-announce

:0
mailing-list/
}

:0
Inbox/</screen>
      </section>
      <section id="_redeliver_mbox_contents">
        <title>Redeliver mbox contents</title>
        <simpara>You need to manually deliver mails to the sorted mailboxes in your home directory from "<literal>/var/mail/&lt;username&gt;</literal>" if your home directory became full and <literal>procmail</literal>(1) failed.  After making disk space in the home directory, run the following.</simpara>
        <screen># /etc/init.d/${MAILDAEMON} stop
# formail -s procmail &lt;/var/mail/&lt;username&gt;
# /etc/init.d/${MAILDAEMON} start</screen>
      </section>
    </section>
    <section id="_pop3_imap4_server">
      <title>POP3/IMAP4 server</title>
      <simpara>If you are to run a private server on LAN, you may consider to run <ulink url="&popd;">POP3</ulink> / <ulink url="&imape;">IMAP4</ulink> server for delivering mail to LAN clients.</simpara>
      <table id="listofpopdimapeservers" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>List of POP3/IMAP4 servers</title>
        <tgroup cols="5">
          <colspec colwidth="10%*" align="left"/>
          <colspec colwidth="10%*" align="left"/>
          <colspec colwidth="10%*" align="left"/>
          <colspec colwidth="10%*" align="left"/>
          <colspec colwidth="60%*" align="left"/>
          <thead>
            <row>
              <entry>
    package
    </entry>
              <entry>
    popcon
    </entry>
              <entry>
    size
    </entry>
              <entry>
    type
    </entry>
              <entry>
    description
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/qpopper">
                <literal>qpopper</literal>
              </ulink> <ulink url="http://bugs.debian.org/qpopper">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=qpopper">&pop-qpopper;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/q/qpopper.html">&size-qpopper;</ulink></entry>
              <entry>
    POP3
    </entry>
              <entry>
    Qualcomm enhanced BSD POP3 server
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/courier-pop">
                <literal>courier-pop</literal>
              </ulink> <ulink url="http://bugs.debian.org/courier-pop">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=courier-pop">&pop-courierpop;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/c/courier-pop.html">&size-courierpop;</ulink></entry>
              <entry>
    POP3
    </entry>
              <entry>
    Courier mail server - POP3 server (maildir format only)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/ipopd">
                <literal>ipopd</literal>
              </ulink> <ulink url="http://bugs.debian.org/ipopd">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=ipopd">&pop-ipopd;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/i/ipopd.html">&size-ipopd;</ulink></entry>
              <entry>
    POP3
    </entry>
              <entry>
    The University of Washington POP2 and POP3 server
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/cyrus-pop3d-2.2">
                <literal>cyrus-pop3d-2.2</literal>
              </ulink> <ulink url="http://bugs.debian.org/cyrus-pop3d-2.2">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=cyrus-pop3d-2.2">&pop-cyruspopddcc;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/c/cyrus-pop3d-2.2.html">&size-cyruspopddcc;</ulink></entry>
              <entry>
    POP3
    </entry>
              <entry>
    Cyrus mail system (POP3 support)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/xmail">
                <literal>xmail</literal>
              </ulink> <ulink url="http://bugs.debian.org/xmail">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=xmail">&pop-xmail;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/x/xmail.html">&size-xmail;</ulink></entry>
              <entry>
    POP3
    </entry>
              <entry>
    ESMTP/POP3 mail server
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/courier-imap">
                <literal>courier-imap</literal>
              </ulink> <ulink url="http://bugs.debian.org/courier-imap">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=courier-imap">&pop-courierimap;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/c/courier-imap.html">&size-courierimap;</ulink></entry>
              <entry>
    IMAP
    </entry>
              <entry>
    Courier mail server - IMAP server (maildir format only)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/uw-imapd">
                <literal>uw-imapd</literal>
              </ulink> <ulink url="http://bugs.debian.org/uw-imapd">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=uw-imapd">&pop-uwimapd;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/u/uw-imapd.html">&size-uwimapd;</ulink></entry>
              <entry>
    IMAP
    </entry>
              <entry>
    The University of Washington IMAP server
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/cyrus-imapd-2.2">
                <literal>cyrus-imapd-2.2</literal>
              </ulink> <ulink url="http://bugs.debian.org/cyrus-imapd-2.2">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=cyrus-imapd-2.2">&pop-cyrusimapdcc;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/c/cyrus-imapd-2.2.html">&size-cyrusimapdcc;</ulink></entry>
              <entry>
    IMAP
    </entry>
              <entry>
    Cyrus mail system (IMAP support)
    </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
    </section>
    <section id="_the_print_server_and_utility">
      <title>The print server and utility</title>
      <simpara>In the old Unix-like system, the BSD <ulink url="&lineprinterdaemon;">Line printer daemon</ulink> was the standard.  Since the standard print out format of the free software is PostScript on the Unix like system, some filter system was used along with <ulink url="&ghostscript;">Ghostscript</ulink> to enable printing to the non-PostScript printer.</simpara>
      <simpara>Recently, <ulink url="&commonunixprintingsystem;">Common UNIX Printing System</ulink> (CUPS) is the new de facto standard.  The CUPS uses <ulink url="&internetprintingprotocol;">Internet Printing Protocol</ulink> (IPP). The IPP is now supported by other OSs such as Windows XP and Mac OS X and has became new cross-platform de facto standard for remote printing with bi-directional communication capability.</simpara>
      <simpara>The standard printable data format for the application on the Debian system is the <ulink url="&postscriptps;">PostScript (PS)</ulink> which is a page description language.  The data in PS format is fed into the Ghostscript PostScript interpreter to produce the printable data specific to the printer.  See <xref linkend="_ghostscript"/>.</simpara>
      <simpara>Thanks to the file format dependent auto-conversion feature of the CUPS system, simply feeding any data to the <literal>lpr</literal> command should generate the expected print output. (In CUPS, <literal>lpr</literal> can be enabled by installing the <literal>cups-bsd</literal> package.)</simpara>
      <simpara>The Debian system has some notable packages for the print servers and utilities.</simpara>
      <table id="listofprintserversandutilities" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>List of print servers and utilities</title>
        <tgroup cols="5">
          <colspec colwidth="10%*" align="left"/>
          <colspec colwidth="10%*" align="left"/>
          <colspec colwidth="10%*" align="left"/>
          <colspec colwidth="10%*" align="left"/>
          <colspec colwidth="60%*" align="left"/>
          <thead>
            <row>
              <entry>
    package
    </entry>
              <entry>
    popcon
    </entry>
              <entry>
    size
    </entry>
              <entry>
    port
    </entry>
              <entry>
    description
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/lpr">
                <literal>lpr</literal>
              </ulink> <ulink url="http://bugs.debian.org/lpr">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=lpr">&pop-lpr;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/l/lpr.html">&size-lpr;</ulink></entry>
              <entry>
    printer (515)
    </entry>
              <entry>
    BSD lpr/lpd (<ulink url="&lineprinterdaemon;">Line printer daemon</ulink>)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/lprng">
                <literal>lprng</literal>
              </ulink> <ulink url="http://bugs.debian.org/lprng">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=lprng">&pop-lprng;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/l/lprng.html">&size-lprng;</ulink></entry>
              <entry>
    , ,
    </entry>
              <entry>
    , , (Enhanced)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/cups">
                <literal>cups</literal>
              </ulink> <ulink url="http://bugs.debian.org/cups">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=cups">&pop-cups;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/c/cups.html">&size-cups;</ulink></entry>
              <entry>
    IPP (631)
    </entry>
              <entry>
    Internet Printing CUPS server
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/cups-client">
                <literal>cups-client</literal>
              </ulink> <ulink url="http://bugs.debian.org/cups-client">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=cups-client">&pop-cupsclient;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/c/cups-client.html">&size-cupsclient;</ulink></entry>
              <entry>
    , ,
    </entry>
              <entry><ulink url="&systemvprintercommands;">System V printer commands</ulink> for CUPS: <literal>lp</literal>(1), <literal>lpstat</literal>(1), <literal>lpoptions</literal>(1), <literal>cancel</literal>(1), <literal>lpmove</literal>(8), <literal>lpinfo</literal>(8), <literal>lpadmin</literal>(8), …
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/cups-bsd">
                <literal>cups-bsd</literal>
              </ulink> <ulink url="http://bugs.debian.org/cups-bsd">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=cups-bsd">&pop-cupsbsd;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/c/cups-bsd.html">&size-cupsbsd;</ulink></entry>
              <entry>
    , ,
    </entry>
              <entry><ulink url="&bsdprintercommands;">BSD printer commands</ulink> for CUPS: <literal>lpr</literal>(1), <literal>lpq</literal>(1), <literal>lprm</literal>(1), <literal>lpc</literal>(8)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/cups-driver-gutenprint">
                <literal>cups-driver-gutenprint</literal>
              </ulink> <ulink url="http://bugs.debian.org/cups-driver-gutenprint">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=cups-driver-gutenprint">&pop-cupsdrivergutenprint;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/c/cups-driver-gutenprint.html">&size-cupsdrivergutenprint;</ulink></entry>
              <entry>
    Not applicable
    </entry>
              <entry>
    printer drivers for CUPS
    </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <tip>
        <simpara>You can configure CUPS system by pointing your web browser to "<ulink url="&httplocalhostgdb;">http://localhost:631/</ulink>" .</simpara>
      </tip>
    </section>
    <section id="_the_remote_access_server_and_utility_ssh">
      <title>The remote access server and utility (SSH)</title>
      <simpara>The <ulink url="&secureshell;">Secure SHell</ulink> (SSH) is the <emphasis role="strong">secure</emphasis> way to connect over the Internet.  A free version of SSH called <ulink url="&openssh;">OpenSSH</ulink> is available as <literal>openssh-client</literal> and <literal>openssh-server</literal> packages in Debian.</simpara>
      <table id="listofremoteaccerverandutilities" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>List of remote access server and utilities</title>
        <tgroup cols="5">
          <colspec colwidth="10%*" align="left"/>
          <colspec colwidth="10%*" align="left"/>
          <colspec colwidth="10%*" align="left"/>
          <colspec colwidth="10%*" align="left"/>
          <colspec colwidth="60%*" align="left"/>
          <thead>
            <row>
              <entry>
    package
    </entry>
              <entry>
    popcon
    </entry>
              <entry>
    size
    </entry>
              <entry>
    tool
    </entry>
              <entry>
    description
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/openssh-client">
                <literal>openssh-client</literal>
              </ulink> <ulink url="http://bugs.debian.org/openssh-client">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=openssh-client">&pop-opensshclient;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/o/openssh-client.html">&size-opensshclient;</ulink></entry>
              <entry><literal>ssh</literal>(1)
    </entry>
              <entry>
    Secure shell client
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/openssh-server">
                <literal>openssh-server</literal>
              </ulink> <ulink url="http://bugs.debian.org/openssh-server">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=openssh-server">&pop-opensshserver;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/o/openssh-server.html">&size-opensshserver;</ulink></entry>
              <entry><literal>sshd</literal>(8)
    </entry>
              <entry>
    Secure shell server
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/ssh-askpass-fullscreen">
                <literal>ssh-askpass-fullscreen</literal>
              </ulink> <ulink url="http://bugs.debian.org/ssh-askpass-fullscreen">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=ssh-askpass-fullscreen">&pop-sshaskpassfullscreen;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/s/ssh-askpass-fullscreen.html">&size-sshaskpassfullscreen;</ulink></entry>
              <entry><literal>ssh-askpass-fullscreen</literal>(1)
    </entry>
              <entry>
    asks user for a pass phrase for ssh-add (GNOME2)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/ssh-askpass">
                <literal>ssh-askpass</literal>
              </ulink> <ulink url="http://bugs.debian.org/ssh-askpass">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=ssh-askpass">&pop-sshaskpass;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/s/ssh-askpass.html">&size-sshaskpass;</ulink></entry>
              <entry><literal>ssh-askpass</literal>(1)
    </entry>
              <entry>
    asks user for a pass phrase for ssh-add (plain X)
    </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <caution>
        <simpara>See <xref linkend="_extra_security_measures_for_the_internet"/> if your SSH is accessible from the Internet.</simpara>
      </caution>
      <tip>
        <simpara>Please use the <literal>screen</literal>(1) program to enable remote shell process to survive the interrupted connection (see <xref linkend="_the_screen_program"/>).</simpara>
      </tip>
      <section id="_basics_of_ssh">
        <title>Basics of SSH</title>
        <warning>
          <simpara>"<literal>/etc/ssh/sshd_not_to_be_run</literal>" must not be present if one wishes to run the OpenSSH server.</simpara>
        </warning>
        <simpara>SSH has two authentication protocols.</simpara>
        <table id="listofsshauthenttocolsandmethods" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of SSH authentication protocols and methods</title>
          <tgroup cols="3">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="40%*" align="left"/>
            <thead>
              <row>
                <entry>
    SSH protocol
    </entry>
                <entry>
    SSH method
    </entry>
                <entry>
    description
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
    SSH-1
    </entry>
                <entry>
    "<literal>RSAAuthentication</literal>"
    </entry>
                <entry>
    RSA identity key based user authentication
    </entry>
              </row>
              <row>
                <entry>
    , ,
    </entry>
                <entry>
    "<literal>RhostsAuthentication</literal>"
    </entry>
                <entry>
    "<literal>.rhosts</literal>" based host authentication (insecure, disabled)
    </entry>
              </row>
              <row>
                <entry>
    , ,
    </entry>
                <entry>
    "<literal>RhostsRSAAuthentication</literal>"
    </entry>
                <entry>
    "<literal>.rhosts</literal>" based host authentication combined with RSA host key (disabled)
    </entry>
              </row>
              <row>
                <entry>
    , ,
    </entry>
                <entry>
    "<literal>ChallengeResponseAuthentication</literal>"
    </entry>
                <entry>
    RSA challenge-response authentication
    </entry>
              </row>
              <row>
                <entry>
    , ,
    </entry>
                <entry>
    "<literal>PasswordAuthentication</literal>"
    </entry>
                <entry>
    password based authentication
    </entry>
              </row>
              <row>
                <entry>
    SSH-2
    </entry>
                <entry>
    "<literal>PubkeyAuthentication</literal>"
    </entry>
                <entry>
    public key based user authentication
    </entry>
              </row>
              <row>
                <entry>
    , ,
    </entry>
                <entry>
    "<literal>HostbasedAuthentication</literal>"
    </entry>
                <entry>
    "<literal>~/.rhosts</literal>" or "<literal>/etc/hosts.equiv</literal>" based host authentication combined with public key client host authentication (disabled)
    </entry>
              </row>
              <row>
                <entry>
    , ,
    </entry>
                <entry>
    "<literal>ChallengeResponseAuthentication</literal>"
    </entry>
                <entry>
    challenge-response authentication
    </entry>
              </row>
              <row>
                <entry>
    , ,
    </entry>
                <entry>
    "<literal>PasswordAuthentication</literal>"
    </entry>
                <entry>
    password based authentication
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <caution>
          <simpara>Be careful about these differences if you are using a non-Debian system.</simpara>
        </caution>
        <simpara>See "<literal>/usr/share/doc/ssh/README.Debian.gz</literal>", <literal>ssh</literal>(1), <literal>sshd</literal>(8), <literal>ssh-agent</literal>(1), and <literal>ssh-keygen</literal>(1) for details.</simpara>
        <simpara>Following are the key configuration files.</simpara>
        <table id="listofsshconfigurationfiles" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of SSH configuration files</title>
          <tgroup cols="2">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="70%*" align="left"/>
            <thead>
              <row>
                <entry>
    configuration file
    </entry>
                <entry>
    description of configuration file
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>/etc/ssh/ssh_config</literal>
                </entry>
                <entry>
    SSH client defaults, see <literal>ssh_config</literal>(5)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>/etc/ssh/sshd_config</literal>
                </entry>
                <entry>
    SSH server defaults, see <literal>sshd_config</literal>(5)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>~/.ssh/authorized_keys</literal>
                </entry>
                <entry>
    default public SSH keys that clients use to connect to this account on this SSH server
    </entry>
              </row>
              <row>
                <entry>
                  <literal>~/.ssh/identity</literal>
                </entry>
                <entry>
    secret SSH-1 RSA key of the user
    </entry>
              </row>
              <row>
                <entry>
                  <literal>~/.ssh/id_rsa</literal>
                </entry>
                <entry>
    secret SSH-2 RSA key of the user
    </entry>
              </row>
              <row>
                <entry>
                  <literal>~/.ssh/id_dsa</literal>
                </entry>
                <entry>
    secret SSH-2 DSA key of the user
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <tip>
          <simpara>See <literal>ssh-keygen</literal>(1), <literal>ssh-add</literal>(1) and <literal>ssh-agent</literal>(1) for how to use public and secret SSH keys.</simpara>
        </tip>
        <tip>
          <simpara>Make sure to verify settings by testing the connection.  In case of any problem, use "<literal>ssh -v</literal>".</simpara>
        </tip>
        <tip>
          <simpara>You can change the pass phrase to encrypt local secret SSH keys later with "<literal>ssh-keygen -p</literal>".</simpara>
        </tip>
        <tip>
          <simpara>You can add options to the entries in "<literal>~/.ssh/authorized_keys</literal>" to limit hosts and to run specific commands.  See <literal>sshd</literal>(8) for details.</simpara>
        </tip>
        <simpara>The following will start an <literal>ssh</literal>(1) connection from a client.</simpara>
        <table id="listofsshclientstartupexamples" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of SSH client startup examples</title>
          <tgroup cols="2">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="70%*" align="left"/>
            <thead>
              <row>
                <entry>
    command
    </entry>
                <entry>
    description
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>ssh username@hostname.domain.ext</literal>
                </entry>
                <entry>
    connect with default mode
    </entry>
              </row>
              <row>
                <entry>
                  <literal>ssh -v username@hostname.domain.ext</literal>
                </entry>
                <entry>
    connect with default mode with debugging messages
    </entry>
              </row>
              <row>
                <entry>
                  <literal>ssh -1 username@hostname.domain.ext</literal>
                </entry>
                <entry>
    force to connect with SSH version 1
    </entry>
              </row>
              <row>
                <entry>
                  <literal>ssh -1 -o RSAAuthentication=no -l username hostname.domain.ext</literal>
                </entry>
                <entry>
    force to use password with SSH version 1
    </entry>
              </row>
              <row>
                <entry>
                  <literal>ssh -o PreferredAuthentications=password -l username hostname.domain.ext</literal>
                </entry>
                <entry>
    force to use password with SSH version 2
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>If you use the same user name on the local and the remote host, you can eliminate typing "<literal>username@</literal>".  Even if you use different user name on the local and the remote host, you can eliminate it using "<literal>~/.ssh/config</literal>".  For <ulink url="&debianaliothservice;">Debian Alioth service</ulink> with account name "<literal>foo-guest</literal>", you set "<literal>~/.ssh/config</literal>" to contain the following.</simpara>
        <screen>Host alioth.debian.org svn.debian.org git.debian.org
    User foo-guest</screen>
        <simpara>For the user, <literal>ssh</literal>(1) functions as a smarter and more secure <literal>telnet</literal>(1).  Unlike <literal>telnet</literal> command, <literal>ssh</literal> command does not bomb on the <literal>telnet</literal> escape character (initial default CTRL-]).</simpara>
      </section>
      <section id="_port_forwarding_for_smtp_pop3_tunneling">
        <title>Port forwarding for SMTP/POP3 tunneling</title>
        <simpara>To establish a pipe to connect to port 25 of <literal>remote-server</literal> from port 4025 of <literal>localhost</literal>, and to port 110 of <literal>remote-server</literal> from port 4110 of <literal>localhost</literal> through <literal>ssh</literal>, execute on the local host as the following.</simpara>
        <screen># ssh -q -L 4025:remote-server:25 4110:remote-server:110 username@remote-server</screen>
        <simpara>This is a secure way to make connections to SMTP/POP3 servers over the Internet.  Set the "<literal>AllowTcpForwarding</literal>" entry to "<literal>yes</literal>" in "<literal>/etc/ssh/sshd_config</literal>" of the remote host.</simpara>
      </section>
      <section id="_connecting_without_remote_passwords">
        <title>Connecting without remote passwords</title>
        <simpara>One can avoid having to remember passwords for remote systems by using "<literal>RSAAuthentication</literal>" (SSH-1 protocol) or "<literal>PubkeyAuthentication</literal>" (SSH-2 protocol).</simpara>
        <simpara>On the remote system, set the respective entries, "<literal>RSAAuthentication yes</literal>" or "<literal>PubkeyAuthentication yes</literal>", in "<literal>/etc/ssh/sshd_config</literal>".</simpara>
        <simpara>Generate authentication keys locally and install the public key on the remote system by the following.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
"<literal>RSAAuthentication</literal>": RSA key for SSH-1 (deprecated because it is superseded.)
</simpara>
          </listitem>
        </itemizedlist>
        <screen>$ ssh-keygen
$ cat .ssh/identity.pub | ssh user1@remote "cat - &gt;&gt;.ssh/authorized_keys"</screen>
        <itemizedlist>
          <listitem>
            <simpara>
"<literal>PubkeyAuthentication</literal>": RSA key for SSH-2
</simpara>
          </listitem>
        </itemizedlist>
        <screen>$ ssh-keygen -t rsa
$ cat .ssh/id_rsa.pub | ssh user1@remote "cat - &gt;&gt;.ssh/authorized_keys"</screen>
        <itemizedlist>
          <listitem>
            <simpara>
"<literal>PubkeyAuthentication</literal>": DSA key for SSH-2  (deprecated because it is slow.)
</simpara>
          </listitem>
        </itemizedlist>
        <screen>$ ssh-keygen -t dsa
$ cat .ssh/id_dsa.pub | ssh user1@remote "cat - &gt;&gt;.ssh/authorized_keys"</screen>
        <tip>
          <simpara>Use of DSA key for SSH-2 is deprecated because key is smaller and slow. There are no more reasons to work around RSA patent using DSA since it has been expired.  DSA stands for <ulink url="&digitalsignaturealgorithm;">Digital Signature Algorithm</ulink> and slow. Also see <ulink url="&dsabfhbb;">DSA-1571-1</ulink>.</simpara>
        </tip>
        <note>
          <simpara>For "<literal>HostbasedAuthentication</literal>" to work in SSH-2, you must adjust the settings of "<literal>HostbasedAuthentication</literal>" to "<literal>yes</literal>" in both "<literal>/etc/ssh/sshd_config</literal>" on the server host and "<literal>/etc/ssh/ssh_config</literal>" or "<literal>~/.ssh/config</literal>" on the client host.</simpara>
        </note>
      </section>
      <section id="_dealing_with_alien_ssh_clients">
        <title>Dealing with alien SSH clients</title>
        <simpara>There are some free <ulink url="&ssh;">SSH</ulink> clients available for other platforms.</simpara>
        <table id="listoffreesshcliorotherplatforms" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of free SSH clients for other platforms</title>
          <tgroup cols="2">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="70%*" align="left"/>
            <thead>
              <row>
                <entry>
    environment
    </entry>
                <entry>
    free SSH program
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
    Windows
    </entry>
                <entry>
    puTTY (<ulink url="&httpwwwchiarkgreguksgtathamputty;">http://www.chiark.greenend.org.uk/~sgtatham/putty/</ulink>) (GPL)
    </entry>
              </row>
              <row>
                <entry>
    Windows (cygwin)
    </entry>
                <entry>
    SSH in cygwin (<ulink url="&httpwwwcygwincom;">http://www.cygwin.com/</ulink>) (GPL)
    </entry>
              </row>
              <row>
                <entry>
    Macintosh Classic
    </entry>
                <entry>
    macSSH (<ulink url="&httpwwwmacsshcom;">http://www.macssh.com/</ulink>) (GPL)
    </entry>
              </row>
              <row>
                <entry>
    Mac OS X
    </entry>
                <entry>
    OpenSSH; use <literal>ssh</literal> in the Terminal application (GPL)
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </section>
      <section id="_setting_up_ssh_agent">
        <title>Setting up ssh-agent</title>
        <simpara>It is safer to protect your SSH authentication secret keys with a pass phrase.  If a pass phrase was not set, use "<literal>ssh-keygen -p</literal>" to set it.</simpara>
        <simpara>Place your public SSH key (e.g.  "<literal>~/.ssh/id_rsa.pub</literal>") into "<literal>~/.ssh/authorized_keys</literal>" on a remote host using a password-based connection to the remote host as described above.</simpara>
        <screen>$ ssh-agent bash
$ ssh-add ~/.ssh/id_rsa
Enter passphrase for /home/&lt;username&gt;/.ssh/id_rsa:
Identity added: /home/&lt;username&gt;/.ssh/id_rsa (/home/&lt;username&gt;/.ssh/id_rsa)</screen>
        <simpara>No remote password needed from here on for the next command.</simpara>
        <screen>$ scp foo &lt;username&gt;@remote.host:foo</screen>
        <simpara>Press ^D to terminating ssh-agent session.</simpara>
        <simpara>For the X server, the normal Debian startup script executes <literal>ssh-agent</literal> as the parent process.  So you only need to execute <literal>ssh-add</literal> once. For more, read <literal>ssh-agent</literal>(1)and <literal>ssh-add</literal>(1).</simpara>
      </section>
      <section id="_troubleshooting_ssh">
        <title>Troubleshooting SSH</title>
        <simpara>If you have problems, check the permissions of configuration files and run <literal>ssh</literal> with the "<literal>-v</literal>" option.</simpara>
        <simpara>Use the "<literal>-P</literal>" option if you are root and have trouble with a firewall; this avoids the use of server ports 1 — 1023.</simpara>
        <simpara>If <literal>ssh</literal> connections to a remote site suddenly stop working, it may be the result of tinkering by the sysadmin, most likely a change in "<literal>host_key</literal>" during system maintenance.  After making sure this is the case and nobody is trying to fake the remote host by some clever hack, one can regain a connection by removing the "<literal>host_key</literal>" entry from "<literal>~/.ssh/known_hosts</literal>" on the local host.</simpara>
      </section>
    </section>
    <section id="_other_network_application_servers">
      <title>Other network application servers</title>
      <simpara>Here are other network application servers.</simpara>
      <table id="listofothernetwoplicationservers" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>List of other network application servers</title>
        <tgroup cols="5">
          <colspec colwidth="10%*" align="left"/>
          <colspec colwidth="10%*" align="left"/>
          <colspec colwidth="10%*" align="left"/>
          <colspec colwidth="10%*" align="left"/>
          <colspec colwidth="60%*" align="left"/>
          <thead>
            <row>
              <entry>
    package
    </entry>
              <entry>
    popcon
    </entry>
              <entry>
    size
    </entry>
              <entry>
    protocol
    </entry>
              <entry>
    description
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/telnetd">
                <literal>telnetd</literal>
              </ulink> <ulink url="http://bugs.debian.org/telnetd">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=telnetd">&pop-telnetd;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/t/telnetd.html">&size-telnetd;</ulink></entry>
              <entry>
                <ulink url="&telnet;">TELNET</ulink>
              </entry>
              <entry>
    TELNET server
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/telnetd-ssl">
                <literal>telnetd-ssl</literal>
              </ulink> <ulink url="http://bugs.debian.org/telnetd-ssl">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=telnetd-ssl">&pop-telnetdssl;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/t/telnetd-ssl.html">&size-telnetdssl;</ulink></entry>
              <entry>
    , ,
    </entry>
              <entry>
    , , (SSL support)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/nfs-kernel-server">
                <literal>nfs-kernel-server</literal>
              </ulink> <ulink url="http://bugs.debian.org/nfs-kernel-server">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=nfs-kernel-server">&pop-nfskernelserver;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/n/nfs-kernel-server.html">&size-nfskernelserver;</ulink></entry>
              <entry>
                <ulink url="&nfs;">NFS</ulink>
              </entry>
              <entry>
    Unix file sharing
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/samba">
                <literal>samba</literal>
              </ulink> <ulink url="http://bugs.debian.org/samba">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=samba">&pop-samba;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/s/samba.html">&size-samba;</ulink></entry>
              <entry>
                <ulink url="&smb;">SMB</ulink>
              </entry>
              <entry>
    Windows file and printer sharing
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/netatalk">
                <literal>netatalk</literal>
              </ulink> <ulink url="http://bugs.debian.org/netatalk">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=netatalk">&pop-netatalk;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/n/netatalk.html">&size-netatalk;</ulink></entry>
              <entry>
                <ulink url="&atp;">ATP</ulink>
              </entry>
              <entry>
    Apple/Mac file and printer sharing (AppleTalk)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/proftpd-basic">
                <literal>proftpd-basic</literal>
              </ulink> <ulink url="http://bugs.debian.org/proftpd-basic">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=proftpd-basic">&pop-proftpdbasic;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/p/proftpd-basic.html">&size-proftpdbasic;</ulink></entry>
              <entry>
                <ulink url="&ftp;">FTP</ulink>
              </entry>
              <entry>
    General file download
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/wu-ftpd">
                <literal>wu-ftpd</literal>
              </ulink> <ulink url="http://bugs.debian.org/wu-ftpd">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=wu-ftpd">&pop-wuftpd;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/w/wu-ftpd.html">&size-wuftpd;</ulink></entry>
              <entry>
    , ,
    </entry>
              <entry>
    , ,
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/apache2-mpm-prefork">
                <literal>apache2-mpm-prefork</literal>
              </ulink> <ulink url="http://bugs.debian.org/apache2-mpm-prefork">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=apache2-mpm-prefork">&pop-apachecmpmprefork;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/a/apache2-mpm-prefork.html">&size-apachecmpmprefork;</ulink></entry>
              <entry>
                <ulink url="&http;">HTTP</ulink>
              </entry>
              <entry>
    General web server
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/apache2-mpm-worker">
                <literal>apache2-mpm-worker</literal>
              </ulink> <ulink url="http://bugs.debian.org/apache2-mpm-worker">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=apache2-mpm-worker">&pop-apachecmpmworker;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/a/apache2-mpm-worker.html">&size-apachecmpmworker;</ulink></entry>
              <entry>
    , ,
    </entry>
              <entry>
    , ,
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/squid">
                <literal>squid</literal>
              </ulink> <ulink url="http://bugs.debian.org/squid">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=squid">&pop-squid;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/s/squid.html">&size-squid;</ulink></entry>
              <entry>
    , ,
    </entry>
              <entry>
    General web <ulink url="&proxyserver;">proxy server</ulink>
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/squid3">
                <literal>squid3</literal>
              </ulink> <ulink url="http://bugs.debian.org/squid3">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=squid3">&pop-squidd;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/s/squid3.html">&size-squidd;</ulink></entry>
              <entry>
    , ,
    </entry>
              <entry>
    , ,
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/slpd">
                <literal>slpd</literal>
              </ulink> <ulink url="http://bugs.debian.org/slpd">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=slpd">&pop-slpd;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/s/slpd.html">&size-slpd;</ulink></entry>
              <entry>
                <ulink url="&slp;">SLP</ulink>
              </entry>
              <entry><ulink url="&openslp;">OpenSLP</ulink> Server as <ulink url="&ldap;">LDAP</ulink> server
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/bind9">
                <literal>bind9</literal>
              </ulink> <ulink url="http://bugs.debian.org/bind9">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=bind9">&pop-bindj;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/b/bind9.html">&size-bindj;</ulink></entry>
              <entry>
                <ulink url="&dns;">DNS</ulink>
              </entry>
              <entry>
    IP address for other hosts
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/dhcp3-server">
                <literal>dhcp3-server</literal>
              </ulink> <ulink url="http://bugs.debian.org/dhcp3-server">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=dhcp3-server">&pop-dhcpdserver;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/d/dhcp3-server.html">&size-dhcpdserver;</ulink></entry>
              <entry>
                <ulink url="&dhcp;">DHCP</ulink>
              </entry>
              <entry>
    IP address of client itself
    </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <simpara>Common Internet File System Protocol (CIFS) is the same protocol as <ulink url="&servermessageblocksmb;">Server Message Block (SMB)</ulink> and is used widely by Microsoft Windows.</simpara>
      <tip>
        <simpara>Use of proxy server such as <literal>squid</literal> is much more efficient for saving bandwidth than use of local mirror server with the full Debian archive contents.</simpara>
      </tip>
    </section>
    <section id="_other_network_application_clients">
      <title>Other network application clients</title>
      <simpara>Here are other network application clients.</simpara>
      <table id="listofnetworkapplicationclients" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>List of network application clients</title>
        <tgroup cols="5">
          <colspec colwidth="10%*" align="left"/>
          <colspec colwidth="10%*" align="left"/>
          <colspec colwidth="10%*" align="left"/>
          <colspec colwidth="10%*" align="left"/>
          <colspec colwidth="60%*" align="left"/>
          <thead>
            <row>
              <entry>
    package
    </entry>
              <entry>
    popcon
    </entry>
              <entry>
    size
    </entry>
              <entry>
    protocol
    </entry>
              <entry>
    description
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/netcat">
                <literal>netcat</literal>
              </ulink> <ulink url="http://bugs.debian.org/netcat">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=netcat">&pop-netcat;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/n/netcat.html">&size-netcat;</ulink></entry>
              <entry>
                <ulink url="&tcpip;">TCP/IP</ulink>
              </entry>
              <entry>
    TCP/IP swiss army knife
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/stunnel4">
                <literal>stunnel4</literal>
              </ulink> <ulink url="http://bugs.debian.org/stunnel4">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=stunnel4">&pop-stunnele;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/s/stunnel4.html">&size-stunnele;</ulink></entry>
              <entry>
                <ulink url="&ssl;">SSL</ulink>
              </entry>
              <entry>
    universal SSL Wrapper
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/telnet">
                <literal>telnet</literal>
              </ulink> <ulink url="http://bugs.debian.org/telnet">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=telnet">&pop-telnet;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/t/telnet.html">&size-telnet;</ulink></entry>
              <entry>
                <ulink url="&telnet;">TELNET</ulink>
              </entry>
              <entry>
    TELNET client
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/telnet-ssl">
                <literal>telnet-ssl</literal>
              </ulink> <ulink url="http://bugs.debian.org/telnet-ssl">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=telnet-ssl">&pop-telnetssl;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/t/telnet-ssl.html">&size-telnetssl;</ulink></entry>
              <entry>
    , ,
    </entry>
              <entry>
    , , (SSL support)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/nfs-common">
                <literal>nfs-common</literal>
              </ulink> <ulink url="http://bugs.debian.org/nfs-common">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=nfs-common">&pop-nfscommon;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/n/nfs-common.html">&size-nfscommon;</ulink></entry>
              <entry>
                <ulink url="&nfs;">NFS</ulink>
              </entry>
              <entry>
    Unix file sharing
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/smbclient">
                <literal>smbclient</literal>
              </ulink> <ulink url="http://bugs.debian.org/smbclient">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=smbclient">&pop-smbclient;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/s/smbclient.html">&size-smbclient;</ulink></entry>
              <entry>
                <ulink url="&smb;">SMB</ulink>
              </entry>
              <entry>
    MS Windows file and printer sharing client
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/smbfs">
                <literal>smbfs</literal>
              </ulink> <ulink url="http://bugs.debian.org/smbfs">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=smbfs">&pop-smbfs;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/s/smbfs.html">&size-smbfs;</ulink></entry>
              <entry>
    , ,
    </entry>
              <entry>
    mount and umount commands for remote MS Windows file
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/ftp">
                <literal>ftp</literal>
              </ulink> <ulink url="http://bugs.debian.org/ftp">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=ftp">&pop-ftp;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/f/ftp.html">&size-ftp;</ulink></entry>
              <entry>
                <ulink url="&ftp;">FTP</ulink>
              </entry>
              <entry>
    FTP client
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/lftp">
                <literal>lftp</literal>
              </ulink> <ulink url="http://bugs.debian.org/lftp">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=lftp">&pop-lftp;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/l/lftp.html">&size-lftp;</ulink></entry>
              <entry>
    , ,
    </entry>
              <entry>
    , ,
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/ncftp">
                <literal>ncftp</literal>
              </ulink> <ulink url="http://bugs.debian.org/ncftp">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=ncftp">&pop-ncftp;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/n/ncftp.html">&size-ncftp;</ulink></entry>
              <entry>
    , ,
    </entry>
              <entry>
    full screen FTP client
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/wget">
                <literal>wget</literal>
              </ulink> <ulink url="http://bugs.debian.org/wget">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=wget">&pop-wget;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/w/wget.html">&size-wget;</ulink></entry>
              <entry><ulink url="&http;">HTTP</ulink> and <ulink url="&ftp;">FTP</ulink>
    </entry>
              <entry>
    web downloader
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/curl">
                <literal>curl</literal>
              </ulink> <ulink url="http://bugs.debian.org/curl">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=curl">&pop-curl;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/c/curl.html">&size-curl;</ulink></entry>
              <entry>
    , ,
    </entry>
              <entry>
    , ,
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/bind9-host">
                <literal>bind9-host</literal>
              </ulink> <ulink url="http://bugs.debian.org/bind9-host">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=bind9-host">&pop-bindjhost;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/b/bind9-host.html">&size-bindjhost;</ulink></entry>
              <entry>
                <ulink url="&dns;">DNS</ulink>
              </entry>
              <entry><literal>host</literal>(1) from bind9, "<literal>Priority: standard</literal>"
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/dnsutils">
                <literal>dnsutils</literal>
              </ulink> <ulink url="http://bugs.debian.org/dnsutils">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=dnsutils">&pop-dnsutils;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/d/dnsutils.html">&size-dnsutils;</ulink></entry>
              <entry>
    , ,
    </entry>
              <entry><literal>dig</literal>(1) from bind, "<literal>Priority: standard</literal>"
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/dhcp3-client">
                <literal>dhcp3-client</literal>
              </ulink> <ulink url="http://bugs.debian.org/dhcp3-client">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=dhcp3-client">&pop-dhcpdclient;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/d/dhcp3-client.html">&size-dhcpdclient;</ulink></entry>
              <entry>
                <ulink url="&dhcp;">DHCP</ulink>
              </entry>
              <entry>
    obtain IP address
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/ldap-utils">
                <literal>ldap-utils</literal>
              </ulink> <ulink url="http://bugs.debian.org/ldap-utils">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=ldap-utils">&pop-ldaputils;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/l/ldap-utils.html">&size-ldaputils;</ulink></entry>
              <entry>
                <ulink url="&ldap;">LDAP</ulink>
              </entry>
              <entry>
    obtain data from LDAP server
    </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
    </section>
    <section id="_the_diagnosis_of_the_system_daemons">
      <title>The diagnosis of the system daemons</title>
      <simpara>The <literal>telnet</literal> program enables manual connection to the system daemons and its diagnosis.</simpara>
      <simpara>For example, try the following</simpara>
      <screen>$ telnet mail.ispname.net pop3</screen>
      <simpara>The following <ulink url="&rfcs;">RFCs</ulink> provide required knowledge to each system daemon.</simpara>
      <table id="listofpopularrfcs" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>List of popular RFCs</title>
        <tgroup cols="2">
          <colspec colwidth="30%*" align="left"/>
          <colspec colwidth="70%*" align="left"/>
          <thead>
            <row>
              <entry>
    RFC
    </entry>
              <entry>
    description
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry><ulink url="&rfcbjdj;">rfc1939</ulink> and <ulink url="&rfcceej;">rfc2449</ulink>
    </entry>
              <entry><ulink url="&popd;">POP3</ulink> service
    </entry>
            </row>
            <row>
              <entry>
                <ulink url="&rfcdfab;">rfc3501</ulink>
              </entry>
              <entry><ulink url="&imape;">IMAP4</ulink> service
    </entry>
            </row>
            <row>
              <entry><ulink url="&rfccicb;">rfc2821</ulink> (<ulink url="&rfcicb;">rfc821</ulink>)
    </entry>
              <entry><ulink url="&smtp;">SMTP</ulink> service
    </entry>
            </row>
            <row>
              <entry><ulink url="&rfccicc;">rfc2822</ulink> (<ulink url="&rfcicc;">rfc822</ulink>)
    </entry>
              <entry>
    Mail file format
    </entry>
            </row>
            <row>
              <entry>
                <ulink url="&rfccaef;">rfc2045</ulink>
              </entry>
              <entry>
                <ulink url="&multipurposeinteilextensionsmime;">Multipurpose Internet Mail Extensions (MIME)</ulink>
              </entry>
            </row>
            <row>
              <entry>
                <ulink url="&rfcibj;">rfc819</ulink>
              </entry>
              <entry><ulink url="&dns;">DNS</ulink> service
    </entry>
            </row>
            <row>
              <entry>
                <ulink url="&rfccgbg;">rfc2616</ulink>
              </entry>
              <entry><ulink url="&http;">HTTP</ulink> service
    </entry>
            </row>
            <row>
              <entry>
                <ulink url="&rfccdjg;">rfc2396</ulink>
              </entry>
              <entry><ulink url="&uri;">URI</ulink> definition
    </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <simpara>The port usage is described in "<literal>/etc/services</literal>".</simpara>
      <note>
        <simpara>For testing <ulink url="&tls;">TLS</ulink>/SSL services such as <ulink url="&https;">HTTPS</ulink>, you need TLS/SSL enabled <literal>telnet</literal> program.</simpara>
      </note>
    </section>
  </chapter>
  <chapter id="_the_x_window_system">
    <title>The X Window System</title>
    <simpara>The <ulink url="&xwindowsystem;">X Window System</ulink> on the Debian system is based on the source from <ulink url="&xorg;">X.Org</ulink>. As of July 2009, they are X11R7.1(etch), X11R7.3(lenny), X11R7.3(squeeze) and X11R7.4(sid).</simpara>
    <section id="_key_packages">
      <title>Key packages</title>
      <simpara>There are a few (meta)packages provided to ease installation.</simpara>
      <table id="listofkeymetapackagesforxwindow" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>List of key (meta)packages for X Window</title>
        <tgroup cols="4">
          <colspec colwidth="20%*" align="left"/>
          <colspec colwidth="20%*" align="left"/>
          <colspec colwidth="20%*" align="left"/>
          <colspec colwidth="40%*" align="left"/>
          <thead>
            <row>
              <entry>
    (meta)package
    </entry>
              <entry>
    popcon
    </entry>
              <entry>
    size
    </entry>
              <entry>
    description
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/xorg">
                <literal>xorg</literal>
              </ulink> <ulink url="http://bugs.debian.org/xorg">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=xorg">&pop-xorg;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/x/xorg.html">&size-xorg;</ulink></entry>
              <entry>
    X libraries, an X server, a set of fonts, and a group of basic X clients and utilities (metapackage)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/xserver-xorg">
                <literal>xserver-xorg</literal>
              </ulink> <ulink url="http://bugs.debian.org/xserver-xorg">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=xserver-xorg">&pop-xserverxorg;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/x/xserver-xorg.html">&size-xserverxorg;</ulink></entry>
              <entry>
    full suits of the X server and its configuration
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/xbase-clients">
                <literal>xbase-clients</literal>
              </ulink> <ulink url="http://bugs.debian.org/xbase-clients">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=xbase-clients">&pop-xbaseclients;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/x/xbase-clients.html">&size-xbaseclients;</ulink></entry>
              <entry>
    miscellaneous assortment of X clients
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/x11-common">
                <literal>x11-common</literal>
              </ulink> <ulink url="http://bugs.debian.org/x11-common">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=x11-common">&pop-xbbcommon;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/x/x11-common.html">&size-xbbcommon;</ulink></entry>
              <entry>
    filesystem infrastructure for the X Window System
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/xorg-docs">
                <literal>xorg-docs</literal>
              </ulink> <ulink url="http://bugs.debian.org/xorg-docs">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=xorg-docs">&pop-xorgdocs;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/x/xorg-docs.html">&size-xorgdocs;</ulink></entry>
              <entry>
    miscellaneous documentation for the X.Org software suite
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/xspecs">
                <literal>xspecs</literal>
              </ulink> <ulink url="http://bugs.debian.org/xspecs">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=xspecs">&pop-xspecs;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/x/xspecs.html">&size-xspecs;</ulink></entry>
              <entry>
    X protocol, extension, and library technical specifications
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/menu">
                <literal>menu</literal>
              </ulink> <ulink url="http://bugs.debian.org/menu">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=menu">&pop-menu;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/m/menu.html">&size-menu;</ulink></entry>
              <entry>
    generate the Debian menu for all menu-aware applications
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/gksu">
                <literal>gksu</literal>
              </ulink> <ulink url="http://bugs.debian.org/gksu">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=gksu">&pop-gksu;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/g/gksu.html">&size-gksu;</ulink></entry>
              <entry>
    Gtk+ frontend to <literal>su</literal>(1) or <literal>sudo</literal>(8)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/menu-xdg">
                <literal>menu-xdg</literal>
              </ulink> <ulink url="http://bugs.debian.org/menu-xdg">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=menu-xdg">&pop-menuxdg;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/m/menu-xdg.html">&size-menuxdg;</ulink></entry>
              <entry>
    convert the Debian menu structure to the <ulink url="&freedesktoporg;">freedesktop.org</ulink> xdg menu structure
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/xdg-utils">
                <literal>xdg-utils</literal>
              </ulink> <ulink url="http://bugs.debian.org/xdg-utils">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=xdg-utils">&pop-xdgutils;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/x/xdg-utils.html">&size-xdgutils;</ulink></entry>
              <entry>
    utilities to integrate desktop environment provided by the <ulink url="&freedesktoporg;">freedesktop.org</ulink>
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/gnome-desktop-environment">
                <literal>gnome-desktop-environment</literal>
              </ulink> <ulink url="http://bugs.debian.org/gnome-desktop-environment">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=gnome-desktop-environment">&pop-gnomedesktopenvironment;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/g/gnome-desktop-environment.html">&size-gnomedesktopenvironment;</ulink></entry>
              <entry>
    stadard <ulink url="&gnome;">GNOME</ulink> desktop environment (metapackage)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/kde-core">
                <literal>kde-core</literal>
              </ulink> <ulink url="http://bugs.debian.org/kde-core">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=kde-core">&pop-kdecore;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/k/kde-core.html">&size-kdecore;</ulink></entry>
              <entry>
    core <ulink url="&kde;">KDE</ulink> desktop environment  (metapackage)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/xfce4">
                <literal>xfce4</literal>
              </ulink> <ulink url="http://bugs.debian.org/xfce4">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=xfce4">&pop-xfcee;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/x/xfce4.html">&size-xfcee;</ulink></entry>
              <entry><ulink url="&xfce;">Xfce</ulink> lightweight desktop environment (metapackage)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/lxde-core">
                <literal>lxde-core</literal>
              </ulink> <ulink url="http://bugs.debian.org/lxde-core">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=lxde-core">&pop-lxdecore;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/l/lxde-core.html">&size-lxdecore;</ulink></entry>
              <entry><ulink url="&lxde;">LXDE</ulink> lightweight desktop environment (metapackage)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/fluxbox">
                <literal>fluxbox</literal>
              </ulink> <ulink url="http://bugs.debian.org/fluxbox">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=fluxbox">&pop-fluxbox;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/f/fluxbox.html">&size-fluxbox;</ulink></entry>
              <entry><ulink url="&fluxbox;">Fluxbox</ulink>: package for highly configurable and low resource <ulink url="&xwindowmanager;">X window manager</ulink></entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <simpara>For the basics of X, refer to <literal>X</literal>(7), <ulink url="&theldpxwindowuserhowto;">the LDP XWindow-User-HOWTO</ulink>.</simpara>
    </section>
    <section id="_setting_up_desktop_environment">
      <title>Setting up desktop environment</title>
      <simpara>A <ulink url="&desktopenvironment;">desktop environment</ulink> is usually a combination of a <ulink url="&xwindowmanager;">X window manager</ulink>, a file manager, and a suite of compatible utility programs.</simpara>
      <simpara>You can setup a full <ulink url="&desktopenvironment;">desktop environment</ulink> such as <ulink url="&gnome;">GNOME</ulink>, <ulink url="&kde;">KDE</ulink>, <ulink url="&xfce;">Xfce</ulink>, or <ulink url="&lxde;">LXDE</ulink>, from the <literal>aptitude</literal> under the task menu.</simpara>
      <tip>
        <simpara>Task menu may be out of sync with the latest package transition state under Debian <literal>unstable</literal>/<literal>testing</literal> environment. In such situation, you need to deselect some (meta)packages listed under <literal>aptitude</literal>(8) task menu to avoid package conflicts.  When deselecting (meta)packages, you must select certain packages providing their dependencies manually to avoid them deleted automatically.</simpara>
      </tip>
      <simpara>You may alternatively setup a simple environment manually just with a <ulink url="&xwindowmanager;">X window manager</ulink> such as <ulink url="&fluxbox;">Fluxbox</ulink>.</simpara>
      <simpara>See <ulink url="&windowmanagersforx;">Window Managers for X</ulink> for the guide to the X window manager and the desktop environment.</simpara>
      <section id="_debian_menu">
        <title>Debian menu</title>
        <simpara><ulink url="&debianmenusystem;">Debian menu system</ulink> provides a general interface for both text- and X-oriented programs with <literal>update-menus</literal>(1) from the <literal>menu</literal> package.  Each package installs its menu data in the "<literal>/usr/share/menu/</literal>" directory. See "<literal>/usr/share/menu/README</literal>".</simpara>
      </section>
      <section id="_freedesktop_org_menu">
        <title>Freedesktop.org menu</title>
        <simpara>Each package which is compliant to Freedesktop.org's xdg menu system installs its menu data provided by "<literal>*.desktop</literal>" under "<literal>/usr/share/applications/</literal>". Modern desktop environments which are compliant to Freedesktop.org standard use these data to generate their menu using the <literal>xdg-utils</literal> package.  See "<literal>/usr/share/doc/xdg-utils/README</literal>".</simpara>
      </section>
      <section id="_debian_menu_under_gnome_desktop_environment">
        <title>Debian menu under GNOME desktop environment</title>
        <simpara>In order to obtain access to the traditional Debian menu under GNOME desktop environment, you must install the <literal>menu-xdg</literal> package, click "System" → "Preference" → "Main Menu", and check the box for "Debian".</simpara>
        <tip>
          <simpara>You may need to do the similar for other modern desktop environments which are compliant to Freedesktop.org standard.</simpara>
        </tip>
      </section>
    </section>
    <section id="_the_server_client_relationship">
      <title>The server/client relationship</title>
      <simpara>The X Window System is activated as a combination of the server and client programs. The meaning for the words <emphasis role="strong">server</emphasis> and <emphasis role="strong">client</emphasis> with respect to the words <emphasis role="strong">local</emphasis> and <emphasis role="strong">remote</emphasis> requires attention here.</simpara>
      <table id="listofserverclientterminology" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>List of server/client terminology</title>
        <tgroup cols="2">
          <colspec colwidth="30%*" align="left"/>
          <colspec colwidth="70%*" align="left"/>
          <thead>
            <row>
              <entry>
    type
    </entry>
              <entry>
    description
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry>
                <emphasis role="strong">X server</emphasis>
              </entry>
              <entry>
    a program run on a <emphasis role="strong">local host</emphasis> connected to the user's display and input devices.
    </entry>
            </row>
            <row>
              <entry>
                <emphasis role="strong">X client</emphasis>
              </entry>
              <entry>
    a program run on a <emphasis role="strong">remote host</emphasis> that processes data and talks to the X server.
    </entry>
            </row>
            <row>
              <entry>
                <emphasis role="strong">application server</emphasis>
              </entry>
              <entry>
    a program run on a <emphasis role="strong">remote host</emphasis> that processes data and talks to the clients.
    </entry>
            </row>
            <row>
              <entry>
                <emphasis role="strong">application client</emphasis>
              </entry>
              <entry>
    a program run on a <emphasis role="strong">local host</emphasis> connected to the user's display and input devices.
    </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
    </section>
    <section id="_the_x_server">
      <title>The X server</title>
      <simpara>See <literal>xorg</literal>(1) for X server information.</simpara>
      <section id="_the_re_configuration_of_the_x_server">
        <title>The (re)configuration of the X server</title>
        <note>
          <simpara>X server (post-<literal>lenny</literal>) is rewritten to use more information from standardized OS services such as <ulink url="&hal;">HAL</ulink> and <ulink url="&dbus;">D-bus</ulink>, for its configuration than that from "<literal>/etc/X11/xorg.conf</literal>".  So contents in "<literal>/etc/X11/xorg.conf</literal>" are getting less.  You may need to <ulink url="&workaroundtransiroblemsofxserver;">work around transitional problems of X server</ulink>.</simpara>
        </note>
        <simpara>The following will (re)configure an X server by generating a new "<literal>/etc/X11/xorg.conf</literal>" file using <literal>dexconf</literal>(1).</simpara>
        <screen># dpkg-reconfigure --priority=low x11-common
# dpkg-reconfigure --priority=low xserver-xorg</screen>
        <simpara>If you have manually edited this "<literal>/etc/X11/xorg.conf</literal>" file but would like it to be automatically updated again, run the following command.</simpara>
        <screen># sudo dpkg-reconfigure -phigh xserver-xorg</screen>
        <simpara>Please check your X configuration  with respect to the specification of your monitor carefully.  For the large high resolution CRT monitor, it is a good idea to set the refresh rate as high as your monitor can handle (85 Hz is great, 75 Hz is OK) to reduce flicker.  For the LCD monitor, slower standard refresh rate (60Hz) is usually fine due to its slow response.</simpara>
        <note>
          <simpara>Be careful not to use too high refresh rate which may cause fatal hardware failure of your monitor system.</simpara>
        </note>
      </section>
      <section id="_the_connection_methods_to_the_x_server">
        <title>The connection methods to the X server</title>
        <simpara>There are several ways of getting the "X server" (<emphasis role="strong">display</emphasis> side) to accept connections from an "X client" (<emphasis role="strong">application</emphasis> side).</simpara>
        <table id="listofconnectionhodstothexserver" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of connection methods to the X server</title>
          <tgroup cols="7">
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="40%*" align="left"/>
            <thead>
              <row>
                <entry>
    method
    </entry>
                <entry>
    package
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    size
    </entry>
                <entry>
    user
    </entry>
                <entry>
    encryption
    </entry>
                <entry>
    pertinent use
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><literal>xhost</literal> command
    </entry>
                <entry><ulink url="http://packages.debian.org/sid/xbase-clients">
                  <literal>xbase-clients</literal>
                </ulink> <ulink url="http://bugs.debian.org/xbase-clients">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=xbase-clients">&pop-xbaseclients;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/x/xbase-clients.html">&size-xbaseclients;</ulink></entry>
                <entry>
    unchecked
    </entry>
                <entry>
    no
    </entry>
                <entry>
    deprecated
    </entry>
              </row>
              <row>
                <entry><literal>xauth</literal> command
    </entry>
                <entry><ulink url="http://packages.debian.org/sid/xbase-clients">
                  <literal>xbase-clients</literal>
                </ulink> <ulink url="http://bugs.debian.org/xbase-clients">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=xbase-clients">&pop-xbaseclients;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/x/xbase-clients.html">&size-xbaseclients;</ulink></entry>
                <entry>
    checked
    </entry>
                <entry>
    no
    </entry>
                <entry>
    local connection via pipe
    </entry>
              </row>
              <row>
                <entry><literal>ssh -X</literal> command
    </entry>
                <entry><ulink url="http://packages.debian.org/sid/openssh-client">
                  <literal>openssh-client</literal>
                </ulink> <ulink url="http://bugs.debian.org/openssh-client">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=openssh-client">&pop-opensshclient;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/o/openssh-client.html">&size-opensshclient;</ulink></entry>
                <entry>
    checked
    </entry>
                <entry>
    yes
    </entry>
                <entry>
    remote network connection
    </entry>
              </row>
              <row>
                <entry>
    GNOME display manager
    </entry>
                <entry><ulink url="http://packages.debian.org/sid/gdm">
                  <literal>gdm</literal>
                </ulink> <ulink url="http://bugs.debian.org/gdm">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=gdm">&pop-gdm;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/g/gdm.html">&size-gdm;</ulink></entry>
                <entry>
    checked
    </entry>
                <entry>
    no(XDMCP)
    </entry>
                <entry>
    local connection via pipe
    </entry>
              </row>
              <row>
                <entry>
    KDE display manager
    </entry>
                <entry><ulink url="http://packages.debian.org/sid/kdm">
                  <literal>kdm</literal>
                </ulink> <ulink url="http://bugs.debian.org/kdm">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=kdm">&pop-kdm;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/k/kdm.html">&size-kdm;</ulink></entry>
                <entry>
    checked
    </entry>
                <entry>
    no(XDMCP)
    </entry>
                <entry>
    local connection via pipe
    </entry>
              </row>
              <row>
                <entry>
    X display manager
    </entry>
                <entry><ulink url="http://packages.debian.org/sid/xdm">
                  <literal>xdm</literal>
                </ulink> <ulink url="http://bugs.debian.org/xdm">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=xdm">&pop-xdm;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/x/xdm.html">&size-xdm;</ulink></entry>
                <entry>
    checked
    </entry>
                <entry>
    no(XDMCP)
    </entry>
                <entry>
    local connection via pipe
    </entry>
              </row>
              <row>
                <entry>
    WindowMaker display manager
    </entry>
                <entry><ulink url="http://packages.debian.org/sid/wdm">
                  <literal>wdm</literal>
                </ulink> <ulink url="http://bugs.debian.org/wdm">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=wdm">&pop-wdm;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/w/wdm.html">&size-wdm;</ulink></entry>
                <entry>
    checked
    </entry>
                <entry>
    no(XDMCP)
    </entry>
                <entry>
    local connection via pipe
    </entry>
              </row>
              <row>
                <entry>
    LTSP display manager
    </entry>
                <entry><ulink url="http://packages.debian.org/sid/ldm">
                  <literal>ldm</literal>
                </ulink> <ulink url="http://bugs.debian.org/ldm">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=ldm">&pop-ldm;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/l/ldm.html">&size-ldm;</ulink></entry>
                <entry>
    checked
    </entry>
                <entry>
    yes
    </entry>
                <entry>
    remote SSH network connection (thin client)
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <warning>
          <simpara>Do not use remote <ulink url="&tcp;">TCP</ulink>/<ulink url="&ip;">IP</ulink> connection over <emphasis role="strong">unsecured</emphasis> network for X connection unless you have very good reason such as use of encryption.  A remote TCP/IP socket connection without encryption is prone to the <emphasis role="strong">eavesdropping attack</emphasis> and is disabled by default on the Debian system.  Use "<literal>ssh -X</literal>".</simpara>
        </warning>
        <warning>
          <simpara>Do not use <ulink url="&xdmcpconnection;">XDMCP connection</ulink> over <emphasis role="strong">unsecured</emphasis> network either.  It sends data via <ulink url="&udp;">UDP</ulink>/<ulink url="&ip;">IP</ulink> without encryption and is prone to the <emphasis role="strong">eavesdropping attack</emphasis>.</simpara>
        </warning>
        <tip>
          <simpara>You can <emphasis role="strong">dare</emphasis> to enable remote TCP/IP connection by setting "<literal>DisallowTCP=false</literal>" in "<literal>/etc/gdm/gdm.conf</literal>" to override "<literal>/usr/share/gdm/defaults.conf</literal>" and by removing "<literal>-nolisten</literal>" from lines found by "<literal>find /etc/X11 -type f -print0 | xargs -0 grep nolisten</literal>", if you are in the fully <emphasis role="strong">secured</emphasis> environment.</simpara>
        </tip>
        <tip>
          <simpara>LTSP stands for <ulink url="&linuxterminalserverproject;">Linux Terminal Server Project</ulink>.</simpara>
        </tip>
      </section>
    </section>
    <section id="_starting_the_x_window_system">
      <title>Starting the X Window System</title>
      <simpara>The X Window System is usually started as an <ulink url="&xsession;">X session</ulink> which is the combination of an X server and connecting X clients.  For the normal desktop system, both of them are executed on a workstation.</simpara>
      <simpara>The <ulink url="&xsession;">X session</ulink> is started by the following.</simpara>
      <itemizedlist>
        <listitem>
          <simpara><literal>startx</literal> command started from the command line
</simpara>
        </listitem>
        <listitem>
          <simpara>
One of the <ulink url="&xdisplaymanager;">X display manager</ulink> daemon programs <literal>*dm</literal> started from the end of the start up script in "<literal>/etc/rc?.d/</literal>" ("<literal>?</literal>" corresponding to the runlevel) directory
</simpara>
        </listitem>
      </itemizedlist>
      <tip>
        <simpara>The start up script for the display manager daemons checks the content of the "<literal>/etc/X11/default-display-manager</literal>" file before actually executing themselves.  This ensures to have only one <ulink url="&xdisplaymanager;">X display manager</ulink> daemon program activated.</simpara>
      </tip>
      <tip>
        <simpara>See <xref linkend="_specific_locale_only_under_x_window"/> for initial environment variables of the X display manager.</simpara>
      </tip>
      <simpara>Essentially, all these programs execute the "<literal>/etc/X11/Xsession</literal>" script.  Then the "<literal>/etc/X11/Xsession</literal>" script performs <literal>run-parts</literal>(8) like action to execute scripts in the "<literal>/etc/X11/Xsession.d/</literal>" directory. This is essentially an execution of a first program which is found in the following order with the <literal>exec</literal> builtin command.</simpara>
      <orderedlist>
        <listitem>
          <simpara>
The script specified as the argument of "<literal>/etc/X11/Xsession</literal>" by the X display manager, if it is defined.
</simpara>
        </listitem>
        <listitem>
          <simpara>
The "<literal>~/.xsession</literal>" or "<literal>~/.Xsession</literal>" script, if it is defined.
</simpara>
        </listitem>
        <listitem>
          <simpara>
The "<literal>/usr/bin/x-session-manager</literal>" command, if it is defined.
</simpara>
        </listitem>
        <listitem>
          <simpara>
The "<literal>/usr/bin/x-window-manager</literal>" command, if it is defined.
</simpara>
        </listitem>
        <listitem>
          <simpara>
The "<literal>/usr/bin/x-terminal-emulator</literal>" command, if it is defined.
</simpara>
        </listitem>
      </orderedlist>
      <simpara>This process is affected by the content of "<literal>/etc/X11/Xsession.options</literal>".  The exact programs to which these "<literal>/usr/bin/x-*</literal>" commands point, are determined by the Debian alternative system and changed by "<literal>update-alternatives --config x-session-manager</literal>", etc.</simpara>
      <section id="_starting_x_session_with_gdm">
        <title>Starting X session with gdm</title>
        <simpara><literal>gdm</literal>(1) lets you select the session type (or desktop environment: <xref linkend="_setting_up_desktop_environment"/>), and language (or locale: <xref linkend="_the_locale"/>) of the X session from its menu.  It keeps the selected default value in "<literal>~/.dmrc</literal>" as the following.</simpara>
        <screen>[Desktop]
Session=default
Language=ja_JP.UTF-8</screen>
      </section>
      <section id="_customizing_the_x_session_classic_method">
        <title>Customizing the X session (classic method)</title>
        <simpara>On a system where "<literal>/etc/X11/Xsession.options</literal>" contains a line "<literal>allow-user-xsession</literal>" without preceding "<literal>#</literal>" characters, any user who defines "<literal>~/.xsession</literal>" or "<literal>~/.Xsession</literal>" will be able to customize the action of "<literal>/etc/X11/Xsession</literal>" by completely overriding the system code. The last command in the "<literal>~/.xsession</literal>" file should use form of "<literal>exec some-window/session-manager</literal>" to start your favorite X window/session managers.</simpara>
      </section>
      <section id="_customizing_the_x_session_new_method">
        <title>Customizing the X session (new method)</title>
        <simpara>Here are new methods to customize the X session without completely overriding the system code as above.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
The display manager <literal>gdm</literal> can select a specific session and set it as the argument of "<literal>/etc/X11/Xsession</literal>".
</simpara>
          </listitem>
          <listitem>
            <simpara>
The "<literal>~/.xsessionrc</literal>" file is executed as a part of start up process. (desktop independent)
</simpara>
          </listitem>
          <listitem>
            <simpara>
The "<literal>~/.gnomerc</literal>" file is executed as a part of start up process. (GNOME desktop only)
</simpara>
          </listitem>
          <listitem>
            <simpara>
The GUI program based session management software may use the "<literal>~/.gnome2/session</literal>" file etc.
</simpara>
          </listitem>
        </itemizedlist>
      </section>
      <section id="_connecting_a_remote_x_client_via_ssh">
        <title>Connecting a remote X client via SSH</title>
        <simpara>The use of "<literal>ssh -X</literal>" enables a secure connection from a local X server to a remote application server.</simpara>
        <simpara>Set "<literal>X11Forwarding</literal>" entries to "<literal>yes</literal>" in "<literal>/etc/ssh/sshd_config</literal>" of the remote host, if you want to avoid "<literal>-X</literal>" command-line option.</simpara>
        <simpara>Start the X server on the local host.</simpara>
        <simpara>Open an <literal>xterm</literal> in the local host.</simpara>
        <simpara>Run <literal>ssh</literal>(1) to establish a connection with the remote site as the following.</simpara>
        <screen>localname @ localhost $ ssh -q -X loginname@remotehost.domain
Password:</screen>
        <simpara>Run an X application command, e.g. "<literal>gimp</literal>", on the remote site as the following.</simpara>
        <screen>loginname @ remotehost $ gimp &amp;</screen>
        <simpara>This method can display the output from a remote X client as if it were locally connected through a local UNIX domain socket.</simpara>
      </section>
      <section id="_secure_x_terminal_via_the_internet">
        <title>Secure X terminal via the Internet</title>
        <simpara>Secure X terminal via the Internet, which displays remotely run entire X desktop environment, can easily achieved by using specialized package such as <literal>ldm</literal>. Your local machine becomes a secure thin client to the remote application server connected via SSH.</simpara>
        <simpara>If you want to add similar feature to your normal display manager <literal>gdm</literal>, create executable shell script at "<literal>/usr/local/bin/ssh-session</literal>" as the following.</simpara>
        <screen>#!/bin/sh -e
# Based on gdm-ssh-session in gdm source (GPL)
ZENITY=$(type -p zenity)
TARGETHOST=$($ZENITY --width=600 \
--title "Host to connect to" --entry \
--text "Enter the name of the host you want to log in to as user@host.dom:")
TARGETSESSION=$($ZENITY --width=600 --height=400 \
--title "Remote session name" --list --radiolist --text "Select one" \
--column " " --column "Session" --column "description" --print-column 2 \
TRUE "/etc/X11/Xsession" "Debian" \
FALSE "/etc/X11/xinit/Xclients" "RH variants" \
FALSE "gnome-session" "GNOME session" \
FALSE "xterm" "Safe choice" \
FALSE "rxvt" "Safe choice" \
FALSE "gnome-terminal" "Safe choice")
echo "Connecting to "$TARGETHOST" with $TARGETSESSION"
/usr/bin/ssh -A -X -T -n "$TARGETHOST" "$TARGETSESSION"
#SSH_ASKPASS=/usr/bin/ssh-askpass /usr/bin/ssh -A -X -T -n "$TARGETHOST" "$TARGETSESSION"</screen>
        <simpara>Add followings to "<literal>/etc/dm/Sessions/ssh.desktop</literal>".</simpara>
        <screen>[Desktop Entry]
Encoding=UTF-8
Name=SSH
Comment=This session logs you into a remote host using ssh
Exec=/usr/local/bin/ssh-session
Type=Application</screen>
      </section>
    </section>
    <section id="_fonts_in_the_x_window">
      <title>Fonts in the X Window</title>
      <simpara>The font configuration on Debian system can be summarized with historical perspective as follows.</simpara>
      <itemizedlist>
        <listitem>
          <simpara>
Each application used to require specific manual operation to configure installed fonts before <literal>woody</literal>.
</simpara>
        </listitem>
        <listitem>
          <simpara><ulink url="&debianfontmanagerdefome;">Debian Font Manager (defome)</ulink> was created to automate this font configuration by providing a Debian specific glue layer in 2000.
</simpara>
          <itemizedlist>
            <listitem>
              <simpara>
Each font package publishes application independent font data to defoma.
</simpara>
            </listitem>
            <listitem>
              <simpara>
Each application package uses these data to configure each installed font via its package script.
</simpara>
            </listitem>
            <listitem>
              <simpara>
For X server, the actual program to configure TrueType fonts and CID fonts (as well as CMaps) was packaged as <ulink url="&xttcidfontconf;">x-ttcidfont-conf</ulink>.
</simpara>
            </listitem>
          </itemizedlist>
        </listitem>
        <listitem>
          <simpara><ulink url="&fontconfigca;">Fontconfig 2.0</ulink> was created to provide a distribution independent library for configuring and customizing font access in 2002.
</simpara>
          <itemizedlist>
            <listitem>
              <simpara>
As of <literal>lenny</literal> release, almost all programs which access font data seem to use this system.
</simpara>
            </listitem>
          </itemizedlist>
        </listitem>
      </itemizedlist>
      <simpara>Font supports on X Window System can be summarized as follows.</simpara>
      <itemizedlist>
        <listitem>
          <simpara>
Legacy X server side font support system
</simpara>
          <itemizedlist>
            <listitem>
              <simpara>
The original core X11 font system provides backward compatibility for older version of X client applications.
</simpara>
            </listitem>
            <listitem>
              <simpara>
The original core X11 fonts are installed on the X server.
</simpara>
            </listitem>
          </itemizedlist>
        </listitem>
        <listitem>
          <simpara>
Modern X client side font support system
</simpara>
          <itemizedlist>
            <listitem>
              <simpara>
Modern X system supports all fonts listed below (<xref linkend="_basic_fonts"/>, <xref linkend="_additional_fonts"/>, and <xref linkend="_cjk_fonts"/>) with advanced features such as anti-aliasing.
</simpara>
            </listitem>
            <listitem>
              <simpara><ulink url="&xft;">Xft</ulink> 2.0 connects modern X applications such as ones from <ulink url="&gnome;">GNOME</ulink>, <ulink url="&kde;">KDE</ulink>, and <ulink url="&openofficeorg;">OpenOffice.org</ulink> with <ulink url="&freetype;">FreeType</ulink> 2.0 library.
</simpara>
            </listitem>
            <listitem>
              <simpara><ulink url="&freetype;">FreeType</ulink> 2.0 provides font rasterization library.
</simpara>
            </listitem>
            <listitem>
              <simpara><ulink url="&fontconfig;">Fontconfig</ulink> provides resolution of the font specification for <ulink url="&xft;">Xft</ulink> 2.0.  See <literal>fonts.conf</literal>(5) for its configuration.
</simpara>
            </listitem>
            <listitem>
              <simpara>
All modern X applications using <ulink url="&xft;">Xft</ulink> 2.0 can talk to modern X server using the <ulink url="&xrenderingextension;">X Rendering Extension</ulink>.
</simpara>
            </listitem>
            <listitem>
              <simpara>
The <ulink url="&xrenderingextension;">X Rendering Extension</ulink> moves font access and glyph image generation from the X server to the X client.
</simpara>
            </listitem>
          </itemizedlist>
        </listitem>
      </itemizedlist>
      <table id="tableofpackagestindowfontsystems" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>Table of packages to support X Window font systems</title>
        <tgroup cols="4">
          <colspec colwidth="20%*" align="left"/>
          <colspec colwidth="20%*" align="left"/>
          <colspec colwidth="20%*" align="left"/>
          <colspec colwidth="40%*" align="left"/>
          <thead>
            <row>
              <entry>
    package
    </entry>
              <entry>
    popcon
    </entry>
              <entry>
    size
    </entry>
              <entry>
    description
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/xfonts-utils">
                <literal>xfonts-utils</literal>
              </ulink> <ulink url="http://bugs.debian.org/xfonts-utils">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=xfonts-utils">&pop-xfontsutils;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/x/xfonts-utils.html">&size-xfontsutils;</ulink></entry>
              <entry>
    X Window System font utility programs
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/libxft2">
                <literal>libxft2</literal>
              </ulink> <ulink url="http://bugs.debian.org/libxft2">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=libxft2">&pop-libxftc;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/libx/libxft2.html">&size-libxftc;</ulink></entry>
              <entry>
    Xft, a library that connects X applications with the FreeType font rasterization library
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/libfreetype6">
                <literal>libfreetype6</literal>
              </ulink> <ulink url="http://bugs.debian.org/libfreetype6">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=libfreetype6">&pop-libfreetypeg;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/libf/libfreetype6.html">&size-libfreetypeg;</ulink></entry>
              <entry><ulink url="&freetype;">FreeType</ulink> 2.0 font rasterization library
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/fontconfig">
                <literal>fontconfig</literal>
              </ulink> <ulink url="http://bugs.debian.org/fontconfig">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=fontconfig">&pop-fontconfig;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/f/fontconfig.html">&size-fontconfig;</ulink></entry>
              <entry><ulink url="&fontconfig;">Fontconfig</ulink>, a generic font configuration library — support binaries
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/fontconfig-config">
                <literal>fontconfig-config</literal>
              </ulink> <ulink url="http://bugs.debian.org/fontconfig-config">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=fontconfig-config">&pop-fontconfigconfig;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/f/fontconfig-config.html">&size-fontconfigconfig;</ulink></entry>
              <entry><ulink url="&fontconfig;">Fontconfig</ulink>, a generic font configuration library — configuration data
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/defoma">
                <literal>defoma</literal>
              </ulink> <ulink url="http://bugs.debian.org/defoma">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=defoma">&pop-defoma;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/d/defoma.html">&size-defoma;</ulink></entry>
              <entry>
    Debian Font Manager — automatic font configuration framework
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/x-ttcidfont-conf">
                <literal>x-ttcidfont-conf</literal>
              </ulink> <ulink url="http://bugs.debian.org/x-ttcidfont-conf">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=x-ttcidfont-conf">&pop-xttcidfontconf;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/x/x-ttcidfont-conf.html">&size-xttcidfontconf;</ulink></entry>
              <entry>
    TrueType and CID fonts configuration for X (with <ulink url="&cjk;">CJK</ulink> support)
    </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <simpara>You can check font configuration information by the following.</simpara>
      <itemizedlist>
        <listitem>
          <simpara>
"<literal>xset q</literal>" for core X11 font path
</simpara>
        </listitem>
        <listitem>
          <simpara>
"<literal>fc-match</literal>" for fontconfig font default
</simpara>
        </listitem>
        <listitem>
          <simpara>
"<literal>fc-list</literal>" for available fontconfig fonts
</simpara>
        </listitem>
      </itemizedlist>
      <tip>
        <simpara>"<ulink url="&thepenguinandunicode;">The Penguin and Unicode</ulink>" is a good overview of modern X Window System. Other documentations at <ulink url="&httpunifontorg;">http://unifont.org/</ulink> should provide good information on Unicode fonts, Unicode-enabled software, internationalization, and Unicode usability issues on <ulink url="&freelibreopensourcefloss;">free/libre/open source (FLOSS)</ulink> operating systems.</simpara>
      </tip>
      <tip>
        <simpara>You should rely on <ulink url="&fontconfig;">fontconfig</ulink> infrastructure to configure fonts on the Debian system.  Debian Font Manager (<literal>defoma</literal>(1)) is only useful for font installation and <ulink url="&xlogicalfontdescriptionxlfd;">X logical font description (XLFD)</ulink> data registration.</simpara>
      </tip>
      <section id="_basic_fonts">
        <title>Basic fonts</title>
        <simpara>There are 2 major types of <ulink url="&computerfonts;">computer fonts</ulink>.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
Bitmap fonts (good for low resolution rasterization)
</simpara>
          </listitem>
          <listitem>
            <simpara>
Outline/stroke fonts (good for high resolution rasterization)
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>While scaling of bitmap fonts causes jugged image, scaling of outline/stroke fonts produces smooth image.</simpara>
        <simpara>Bitmap fonts on the Debian system are usually provided by compressed <ulink url="&xbbpcfbitmapfontfiles;">X11 pcf bitmap font files</ulink> having their file extension "<literal>.pcf.gz</literal>".</simpara>
        <simpara>Outline fonts on the Debian system are provided by the following.</simpara>
        <itemizedlist>
          <listitem>
            <simpara><ulink url="&postscript;">PostScript</ulink> Type 1 font files having their file extension "<literal>.pfb</literal>" (binary font file) and "<literal>.afm</literal>" (font metrics file).
</simpara>
          </listitem>
          <listitem>
            <simpara><ulink url="&truetype;">TrueType</ulink> (or <ulink url="&opentype;">OpenType</ulink>) font files usually having their file extension "<literal>.ttf</literal>".
</simpara>
          </listitem>
        </itemizedlist>
        <tip>
          <simpara><ulink url="&opentype;">OpenType</ulink> is intended to supersede both <ulink url="&truetype;">TrueType</ulink> and <ulink url="&postscript;">PostScript</ulink> Type 1.</simpara>
        </tip>
        <table id="tableofcorresponscripttypebfonts" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>Table of corresponding <ulink url="&postscript;">PostScript</ulink> Type 1 fonts</title>
          <tgroup cols="7">
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="40%*" align="left"/>
            <thead>
              <row>
                <entry>
    font package
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    size
    </entry>
                <entry>
    sans-serif font
    </entry>
                <entry>
    serif font
    </entry>
                <entry>
    monospace font
    </entry>
                <entry>
    source of font
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
    PostScript
    </entry>
                <entry>
    N/A
    </entry>
                <entry>
    N/A
    </entry>
                <entry>
                  <ulink url="&helvetica;">Helvetica</ulink>
                </entry>
                <entry>
                  <ulink url="&times;">Times</ulink>
                </entry>
                <entry>
                  <ulink url="&courier;">Courier</ulink>
                </entry>
                <entry>
    Adobe
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/gsfonts">
    gsfonts
    </ulink> <ulink url="http://bugs.debian.org/gsfonts">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=gsfonts">&pop-gsfonts;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/g/gsfonts.html">&size-gsfonts;</ulink></entry>
                <entry>
    Nimbus Sans L
    </entry>
                <entry>
    Nimbus Roman No9 L
    </entry>
                <entry>
    Nimbus Mono L
    </entry>
                <entry><ulink url="&urw;">URW</ulink> (Adobe compatible size)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/gsfonts-x11">
    gsfonts-x11
    </ulink> <ulink url="http://bugs.debian.org/gsfonts-x11">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=gsfonts-x11">&pop-gsfontsxbb;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/g/gsfonts-x11.html">&size-gsfontsxbb;</ulink></entry>
                <entry>
    Nimbus Sans L
    </entry>
                <entry>
    Nimbus Roman No9 L
    </entry>
                <entry>
    Nimbus Mono L
    </entry>
                <entry>
    X font support with PostScript Type 1 fonts.
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/t1-cyrillic">
    t1-cyrillic
    </ulink> <ulink url="http://bugs.debian.org/t1-cyrillic">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=t1-cyrillic">&pop-tbcyrillic;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/t/t1-cyrillic.html">&size-tbcyrillic;</ulink></entry>
                <entry>
    Free Helvetian
    </entry>
                <entry>
    Free Times
    </entry>
                <entry>
    Free Courier
    </entry>
                <entry>
    URW extended (Adobe compatible size)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/lmodern">
    lmodern
    </ulink> <ulink url="http://bugs.debian.org/lmodern">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=lmodern">&pop-lmodern;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/l/lmodern.html">&size-lmodern;</ulink></entry>
                <entry>
    LMSans*
    </entry>
                <entry>
    LMRoman*
    </entry>
                <entry>
    LMTypewriter*
    </entry>
                <entry>
    scalable PostScript and OpenType fonts based on Computer Modern (from TeX)
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <table id="tableofcorresponingtruetypefonts" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>Table of corresponding <ulink url="&truetype;">TrueType</ulink> fonts</title>
          <tgroup cols="7">
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="40%*" align="left"/>
            <thead>
              <row>
                <entry>
    font package
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    size
    </entry>
                <entry>
    sans-serif font
    </entry>
                <entry>
    serif font
    </entry>
                <entry>
    monospace font
    </entry>
                <entry>
    source of font
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/ttf-mscorefonts-installer">
    ttf-mscorefonts-installer
    </ulink> <ulink url="http://bugs.debian.org/ttf-mscorefonts-installer">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=ttf-mscorefonts-installer">&pop-ttfmscorefontsinstaller;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/t/ttf-mscorefonts-installer.html">&size-ttfmscorefontsinstaller;</ulink></entry>
                <entry>
                  <ulink url="&arial;">Arial</ulink>
                </entry>
                <entry>
                  <ulink url="&timesnewroman;">Times New Roman</ulink>
                </entry>
                <entry>
                  <ulink url="&couriernew;">Courier New</ulink>
                </entry>
                <entry>
    Microsoft (Adobe compatible size) (This installs non-free data)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/ttf-liberation">
    ttf-liberation
    </ulink> <ulink url="http://bugs.debian.org/ttf-liberation">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=ttf-liberation">&pop-ttfliberation;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/t/ttf-liberation.html">&size-ttfliberation;</ulink></entry>
                <entry>
    Liberation Sans
    </entry>
                <entry>
    Liberation Serif
    </entry>
                <entry>
    Liberation Mono
    </entry>
                <entry><ulink url="&liberationfontsproject;">Liberation Fonts project</ulink> (Microsoft compatible size)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/ttf-freefont">
    ttf-freefont
    </ulink> <ulink url="http://bugs.debian.org/ttf-freefont">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=ttf-freefont">&pop-ttffreefont;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/t/ttf-freefont.html">&size-ttffreefont;</ulink></entry>
                <entry>
    FreeSans
    </entry>
                <entry>
    FreeSerif
    </entry>
                <entry>
    FreeMono
    </entry>
                <entry><ulink url="&gnufreefont;">GNU freefont</ulink> (Microsoft compatible size)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/ttf-bitstream-vera">
    ttf-bitstream-vera
    </ulink> <ulink url="http://bugs.debian.org/ttf-bitstream-vera">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=ttf-bitstream-vera">&pop-ttfbitstreamvera;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/t/ttf-bitstream-vera.html">&size-ttfbitstreamvera;</ulink></entry>
                <entry>
    Bitstream Vera Sans
    </entry>
                <entry>
    Bitstream Vera Serif
    </entry>
                <entry>
    Bitstream Vera Sans Mono
    </entry>
                <entry><ulink url="&bitstreaminc;">Bitstream, Inc.</ulink> (superseded by DejaVu after <literal>lenny</literal>)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/ttf-dejavu">
    ttf-dejavu
    </ulink> <ulink url="http://bugs.debian.org/ttf-dejavu">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=ttf-dejavu">&pop-ttfdejavu;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/t/ttf-dejavu.html">&size-ttfdejavu;</ulink></entry>
                <entry>
    DejaVu Sans
    </entry>
                <entry>
    DejaVu Serif
    </entry>
                <entry>
    DejaVu Sans Mono
    </entry>
                <entry><ulink url="&dejavu;">DejaVu</ulink>, <ulink url="&bitstreamvera;">Bitstream Vera</ulink> with Unicode coverage
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/ttf-dejavu-core">
    ttf-dejavu-core
    </ulink> <ulink url="http://bugs.debian.org/ttf-dejavu-core">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=ttf-dejavu-core">&pop-ttfdejavucore;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/t/ttf-dejavu-core.html">&size-ttfdejavucore;</ulink></entry>
                <entry>
    DejaVu Sans
    </entry>
                <entry>
    DejaVu Serif
    </entry>
                <entry>
    DejaVu Sans Mono
    </entry>
                <entry><ulink url="&dejavu;">DejaVu</ulink>, <ulink url="&bitstreamvera;">Bitstream Vera</ulink> with Unicode coverage (sans, sans-bold, serif, serif-bold, mono, mono-bold)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/ttf-dejavu-extra">
    ttf-dejavu-extra
    </ulink> <ulink url="http://bugs.debian.org/ttf-dejavu-extra">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=ttf-dejavu-extra">&pop-ttfdejavuextra;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/t/ttf-dejavu-extra.html">&size-ttfdejavuextra;</ulink></entry>
                <entry>
    N/A
    </entry>
                <entry>
    N/A
    </entry>
                <entry>
    N/A
    </entry>
                <entry><ulink url="&dejavu;">DejaVu</ulink>, <ulink url="&bitstreamvera;">Bitstream Vera</ulink> with Unicode coverage (oblique, italic, bold-oblique, bold-italic, condensed)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/ttf-unifont">
    ttf-unifont
    </ulink> <ulink url="http://bugs.debian.org/ttf-unifont">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=ttf-unifont">&pop-ttfunifont;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/t/ttf-unifont.html">&size-ttfunifont;</ulink></entry>
                <entry>
    N/A
    </entry>
                <entry>
    N/A
    </entry>
                <entry>
    unifont
    </entry>
                <entry><ulink url="&gnuunifont;">GNU Unifont</ulink>, with all printable character code in Unicode 5.1 Basic Multilingual Plane (BMP)
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </section>
      <section id="_additional_fonts">
        <title>Additional fonts</title>
        <simpara><literal>aptitude</literal>(8) will help you find additional fonts easily.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
The short package list under "Packages which depend on defoma" in the <literal>defoma</literal> package list
</simpara>
          </listitem>
          <listitem>
            <simpara>
The short package list under "Tasks" →  "Localization"
</simpara>
          </listitem>
          <listitem>
            <simpara>
The filtered flat package list of font data with regex on debtag: "<literal>~Gmade-of::data:font</literal>"
</simpara>
          </listitem>
          <listitem>
            <simpara>
The filtered flat package list of the BDF (bitmap) font packages with regex on package name: "<literal>~nxfonts-</literal>"
</simpara>
          </listitem>
          <listitem>
            <simpara>
The filtered flat package list of the TrueType (outline) font packages with regex on package name: "<literal>~nttf-</literal>"
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>Since <emphasis role="strong">Free</emphasis> fonts are sometimes limited, installing or sharing some commercial TrueType fonts is an option for a Debian users.  In order to make this process easy for the user, some convenience packages have been created.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
              <literal>ttf-mathematica4.1</literal>
            </simpara>
          </listitem>
          <listitem>
            <simpara>
              <literal>ttf-mscorefonts-installer</literal>
            </simpara>
          </listitem>
        </itemizedlist>
        <simpara>You'll have a really good selection of TrueType fonts at the expense of contaminating your <emphasis role="strong">Free</emphasis> system with non-Free fonts.</simpara>
      </section>
      <section id="_cjk_fonts">
        <title>CJK fonts</title>
        <simpara>Here are some key points focused on fonts of <ulink url="&cjkcharacters;">CJK characters</ulink>.</simpara>
        <table id="tableofkeywordsundicatefonttypes" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>Table of key words used in CJK font names to indicate font types</title>
          <tgroup cols="4">
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="40%*" align="left"/>
            <thead>
              <row>
                <entry>
    font type
    </entry>
                <entry>
    Japanese font name
    </entry>
                <entry>
    Chinese font name
    </entry>
                <entry>
    Korean font name
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
    sans-serif
    </entry>
                <entry>
    gothic, ゴチック     hei,
    </entry>
                <entry>
    gothic       dodu
    </entry>
                <entry>
    m, gulim, gothic
    </entry>
              </row>
              <row>
                <entry>
    serif
    </entry>
                <entry>
    mincho, 明朝         so
    </entry>
                <entry>
    ng, ming        ba
    </entry>
                <entry>
    tang
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>Font name such as "VL PGothic" with "P" is a proportional font which corresponds to the fixed width "VL Gothic" font.</simpara>
        <simpara>For example, <ulink url="&shift_jis;">Shift_JIS</ulink> code table comprises 7070 characters.  They can be grouped as the following.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
JIS X 0201 single-byte characters (191 characters, a.k.a. half-width characters)
</simpara>
          </listitem>
          <listitem>
            <simpara>
JIS X 0208 double-byte characters (6879 characters, a.k.a. full-width characters)
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>Double-byte characters occupy double width on console terminals which uses CJK fixed width fonts.  In order to cope with such situation, <ulink url="&hanzibitmapfonthbffile;">Hanzi Bitmap Font (HBF) File</ulink> with file extension "<literal>.hbf</literal>" may be deployed for fonts containing single-byte and double-byte characters.</simpara>
        <simpara>In order to save space for <ulink url="&truetype;">TrueType</ulink> font files, <ulink url="&truetype;">TrueType</ulink> font collection file with file extension "<literal>.ttc</literal>" may be used.</simpara>
        <simpara>In order to cover complicated code space of characters, CID keyed <ulink url="&postscript;">PostScript</ulink> Type 1 font is used with CMap files starting themselves with "<literal>%!PS-Adobe-3.0 Resource-CMap</literal>".  This is rarely used for normal X display but used for PDF rendering etc. (see <xref linkend="_x_utility_applications"/>).</simpara>
        <tip>
          <simpara>The multiple <ulink url="&glyphs;">glyphs</ulink> are expected for some <ulink url="&unicode;">Unicode</ulink> code points due to <ulink url="&hanunification;">Han unification</ulink>.  One of the most annoying ones are  "U+3001 IDEOGRAPHIC COMMA" and "U+3002 IDEOGRAPHIC FULL STOP" whose character positions differ among CJK countries.  Configuring priority of Japanese centric fonts over Chinese ones using "<literal>~/.fonts.conf</literal>" should give peace of minds to Japanese.</simpara>
        </tip>
      </section>
    </section>
    <section id="_x_applications">
      <title>X applications</title>
      <section id="_x_office_applications">
        <title>X office applications</title>
        <simpara>Here is a list of basic office applications (OO is OpenOffice.org).</simpara>
        <table id="listofbasicxofficeapplications" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of basic X office applications</title>
          <tgroup cols="5">
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="60%*" align="left"/>
            <thead>
              <row>
                <entry>
    package
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    package size
    </entry>
                <entry>
    type
    </entry>
                <entry>
    description
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/openoffice.org-writer">
                  <literal>openoffice.org-writer</literal>
                </ulink> <ulink url="http://bugs.debian.org/openoffice.org-writer">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=openoffice.org-writer">&pop-openofficeorgwriter;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/o/openoffice.org-writer.html">&size-openofficeorgwriter;</ulink></entry>
                <entry>
    OO
    </entry>
                <entry>
    word processor
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/openoffice.org-calc">
                  <literal>openoffice.org-calc</literal>
                </ulink> <ulink url="http://bugs.debian.org/openoffice.org-calc">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=openoffice.org-calc">&pop-openofficeorgcalc;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/o/openoffice.org-calc.html">&size-openofficeorgcalc;</ulink></entry>
                <entry>
    OO
    </entry>
                <entry>
    spreadsheet
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/openoffice.org-impress">
                  <literal>openoffice.org-impress</literal>
                </ulink> <ulink url="http://bugs.debian.org/openoffice.org-impress">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=openoffice.org-impress">&pop-openofficeorgimpress;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/o/openoffice.org-impress.html">&size-openofficeorgimpress;</ulink></entry>
                <entry>
    OO
    </entry>
                <entry>
    presentation
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/openoffice.org-base">
                  <literal>openoffice.org-base</literal>
                </ulink> <ulink url="http://bugs.debian.org/openoffice.org-base">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=openoffice.org-base">&pop-openofficeorgbase;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/o/openoffice.org-base.html">&size-openofficeorgbase;</ulink></entry>
                <entry>
    OO
    </entry>
                <entry>
    database management
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/openoffice.org-draw">
                  <literal>openoffice.org-draw</literal>
                </ulink> <ulink url="http://bugs.debian.org/openoffice.org-draw">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=openoffice.org-draw">&pop-openofficeorgdraw;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/o/openoffice.org-draw.html">&size-openofficeorgdraw;</ulink></entry>
                <entry>
    OO
    </entry>
                <entry>
    vector graphics editor (draw)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/openoffice.org-math">
                  <literal>openoffice.org-math</literal>
                </ulink> <ulink url="http://bugs.debian.org/openoffice.org-math">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=openoffice.org-math">&pop-openofficeorgmath;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/o/openoffice.org-math.html">&size-openofficeorgmath;</ulink></entry>
                <entry>
    OO
    </entry>
                <entry>
    mathematical equation/formula editor
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/abiword">
                  <literal>abiword</literal>
                </ulink> <ulink url="http://bugs.debian.org/abiword">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=abiword">&pop-abiword;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/a/abiword.html">&size-abiword;</ulink></entry>
                <entry>
    GNOME
    </entry>
                <entry>
    word processor
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/gnumeric">
                  <literal>gnumeric</literal>
                </ulink> <ulink url="http://bugs.debian.org/gnumeric">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=gnumeric">&pop-gnumeric;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/g/gnumeric.html">&size-gnumeric;</ulink></entry>
                <entry>
    GNOME
    </entry>
                <entry>
    spreadsheet
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/gimp">
                  <literal>gimp</literal>
                </ulink> <ulink url="http://bugs.debian.org/gimp">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=gimp">&pop-gimp;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/g/gimp.html">&size-gimp;</ulink></entry>
                <entry>
    GTK
    </entry>
                <entry>
    bitmap graphics editor (paint)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/inkscape">
                  <literal>inkscape</literal>
                </ulink> <ulink url="http://bugs.debian.org/inkscape">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=inkscape">&pop-inkscape;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/i/inkscape.html">&size-inkscape;</ulink></entry>
                <entry>
    GNOME
    </entry>
                <entry>
    vector graphics editor (draw)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/dia-gnome">
                  <literal>dia-gnome</literal>
                </ulink> <ulink url="http://bugs.debian.org/dia-gnome">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=dia-gnome">&pop-diagnome;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/d/dia-gnome.html">&size-diagnome;</ulink></entry>
                <entry>
    GNOME
    </entry>
                <entry>
    flowchart and diagram editor
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/mergeant">
                  <literal>mergeant</literal>
                </ulink> <ulink url="http://bugs.debian.org/mergeant">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=mergeant">&pop-mergeant;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/m/mergeant.html">&size-mergeant;</ulink></entry>
                <entry>
    GNOME
    </entry>
                <entry>
    database management
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/planner">
                  <literal>planner</literal>
                </ulink> <ulink url="http://bugs.debian.org/planner">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=planner">&pop-planner;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/p/planner.html">&size-planner;</ulink></entry>
                <entry>
    GNOME
    </entry>
                <entry>
    project management
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/kword">
                  <literal>kword</literal>
                </ulink> <ulink url="http://bugs.debian.org/kword">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=kword">&pop-kword;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/k/kword.html">&size-kword;</ulink></entry>
                <entry>
    KDE
    </entry>
                <entry>
    word processor
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/kspread">
                  <literal>kspread</literal>
                </ulink> <ulink url="http://bugs.debian.org/kspread">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=kspread">&pop-kspread;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/k/kspread.html">&size-kspread;</ulink></entry>
                <entry>
    KDE
    </entry>
                <entry>
    spreadsheet
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/kpresenter">
                  <literal>kpresenter</literal>
                </ulink> <ulink url="http://bugs.debian.org/kpresenter">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=kpresenter">&pop-kpresenter;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/k/kpresenter.html">&size-kpresenter;</ulink></entry>
                <entry>
    KDE
    </entry>
                <entry>
    presentation
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/kexi">
                  <literal>kexi</literal>
                </ulink> <ulink url="http://bugs.debian.org/kexi">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=kexi">&pop-kexi;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/k/kexi.html">&size-kexi;</ulink></entry>
                <entry>
    KDE
    </entry>
                <entry>
    database management
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/kivio">
                  <literal>kivio</literal>
                </ulink> <ulink url="http://bugs.debian.org/kivio">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=kivio">&pop-kivio;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/k/kivio.html">&size-kivio;</ulink></entry>
                <entry>
    KDE
    </entry>
                <entry>
    flowchart and diagram editor
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/karbon">
                  <literal>karbon</literal>
                </ulink> <ulink url="http://bugs.debian.org/karbon">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=karbon">&pop-karbon;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/k/karbon.html">&size-karbon;</ulink></entry>
                <entry>
    KDE
    </entry>
                <entry>
    vector graphics editor (draw)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/krita">
                  <literal>krita</literal>
                </ulink> <ulink url="http://bugs.debian.org/krita">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=krita">&pop-krita;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/k/krita.html">&size-krita;</ulink></entry>
                <entry>
    KDE
    </entry>
                <entry>
    bitmap graphics editor (paint)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/kplato">
                  <literal>kplato</literal>
                </ulink> <ulink url="http://bugs.debian.org/kplato">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=kplato">&pop-kplato;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/k/kplato.html">&size-kplato;</ulink></entry>
                <entry>
    KDE
    </entry>
                <entry>
    project management
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/kchart">
                  <literal>kchart</literal>
                </ulink> <ulink url="http://bugs.debian.org/kchart">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=kchart">&pop-kchart;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/k/kchart.html">&size-kchart;</ulink></entry>
                <entry>
    KDE
    </entry>
                <entry>
    graph and chart drawing program
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/kformula">
                  <literal>kformula</literal>
                </ulink> <ulink url="http://bugs.debian.org/kformula">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=kformula">&pop-kformula;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/k/kformula.html">&size-kformula;</ulink></entry>
                <entry>
    KDE
    </entry>
                <entry>
    mathematical equation/formula editor
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/kugar">
                  <literal>kugar</literal>
                </ulink> <ulink url="http://bugs.debian.org/kugar">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=kugar">&pop-kugar;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/k/kugar.html">&size-kugar;</ulink></entry>
                <entry>
    KDE
    </entry>
                <entry>
    business quality report generator
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </section>
      <section id="_x_utility_applications">
        <title>X utility applications</title>
        <simpara>Here is a list of basic utility applications which caught my eyes.</simpara>
        <table id="listofbasicxutilityapplications" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of basic X utility applications</title>
          <tgroup cols="5">
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="60%*" align="left"/>
            <thead>
              <row>
                <entry>
    package
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    package size
    </entry>
                <entry>
    type
    </entry>
                <entry>
    description
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/evince">
                  <literal>evince</literal>
                </ulink> <ulink url="http://bugs.debian.org/evince">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=evince">&pop-evince;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/e/evince.html">&size-evince;</ulink></entry>
                <entry>
    GNOME
    </entry>
                <entry>
    document(pdf) viewer
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/kpdf">
                  <literal>kpdf</literal>
                </ulink> <ulink url="http://bugs.debian.org/kpdf">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=kpdf">&pop-kpdf;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/k/kpdf.html">&size-kpdf;</ulink></entry>
                <entry>
    KDE3
    </entry>
                <entry>
    document(pdf) viewer
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/okular">
                  <literal>okular</literal>
                </ulink> <ulink url="http://bugs.debian.org/okular">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=okular">&pop-okular;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/o/okular.html">&size-okular;</ulink></entry>
                <entry>
    KDE4
    </entry>
                <entry>
    document(pdf) viewer
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/evolution">
                  <literal>evolution</literal>
                </ulink> <ulink url="http://bugs.debian.org/evolution">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=evolution">&pop-evolution;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/e/evolution.html">&size-evolution;</ulink></entry>
                <entry>
    GNOME
    </entry>
                <entry>
    Personal information Management (groupware and email)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/kontact">
                  <literal>kontact</literal>
                </ulink> <ulink url="http://bugs.debian.org/kontact">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=kontact">&pop-kontact;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/k/kontact.html">&size-kontact;</ulink></entry>
                <entry>
    KDE
    </entry>
                <entry>
    Personal information Management (groupware and email)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/scribus">
                  <literal>scribus</literal>
                </ulink> <ulink url="http://bugs.debian.org/scribus">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=scribus">&pop-scribus;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/s/scribus.html">&size-scribus;</ulink></entry>
                <entry>
    KDE
    </entry>
                <entry>
    desktop page layout editor
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/glabels">
                  <literal>glabels</literal>
                </ulink> <ulink url="http://bugs.debian.org/glabels">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=glabels">&pop-glabels;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/g/glabels.html">&size-glabels;</ulink></entry>
                <entry>
    GNOME
    </entry>
                <entry>
    label editor
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/kbarcode">
                  <literal>kbarcode</literal>
                </ulink> <ulink url="http://bugs.debian.org/kbarcode">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=kbarcode">&pop-kbarcode;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/k/kbarcode.html">&size-kbarcode;</ulink></entry>
                <entry>
    KDE
    </entry>
                <entry>
    barcode and label printing application
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/gnucash">
                  <literal>gnucash</literal>
                </ulink> <ulink url="http://bugs.debian.org/gnucash">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=gnucash">&pop-gnucash;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/g/gnucash.html">&size-gnucash;</ulink></entry>
                <entry>
    GNOME
    </entry>
                <entry>
    personal accounting
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/homebank">
                  <literal>homebank</literal>
                </ulink> <ulink url="http://bugs.debian.org/homebank">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=homebank">&pop-homebank;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/h/homebank.html">&size-homebank;</ulink></entry>
                <entry>
    GTK
    </entry>
                <entry>
    personal accounting
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/kmymoney2">
                  <literal>kmymoney2</literal>
                </ulink> <ulink url="http://bugs.debian.org/kmymoney2">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=kmymoney2">&pop-kmymoneyc;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/k/kmymoney2.html">&size-kmymoneyc;</ulink></entry>
                <entry>
    KDE
    </entry>
                <entry>
    personal accounting
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/xsane">
                  <literal>xsane</literal>
                </ulink> <ulink url="http://bugs.debian.org/xsane">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=xsane">&pop-xsane;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/x/xsane.html">&size-xsane;</ulink></entry>
                <entry>
    GTK
    </entry>
                <entry>
    scanner frontend
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/kooka">
                  <literal>kooka</literal>
                </ulink> <ulink url="http://bugs.debian.org/kooka">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=kooka">&pop-kooka;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/k/kooka.html">&size-kooka;</ulink></entry>
                <entry>
    KDE
    </entry>
                <entry>
    scanner frontend
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <caution>
          <simpara>The <literal>poppler-data</literal> package (non-free, see <xref linkend="_ghostscript"/>) needs to be installed for <literal>evince</literal> and <literal>okular</literal> to display CJK PDF documents using Cmap data (<xref linkend="_cjk_fonts"/>).</simpara>
        </caution>
        <note>
          <simpara>Installing softwares such as <literal>scribus</literal> (KDE) on GNOME desktop environment are quite acceptable since corresponding functionality is not available under GNOME desktop environment.  But installing too many packages with duplicated functionalities will clutter your menu.</simpara>
        </note>
      </section>
    </section>
    <section id="_the_x_trivia">
      <title>The X trivia</title>
      <section id="_keymaps_and_pointer_button_mappings_in_x">
        <title>Keymaps and pointer button mappings in X</title>
        <simpara><literal>xmodmap</literal>(1) is a utility for modifying keymaps and pointer button mappings in the X Window System.
To get the <emphasis role="strong">keycode</emphasis>, run <literal>xev</literal>(1) in the X and press keys.  To get the meaning of <emphasis role="strong">keysym</emphasis>, look into the MACRO definition in "<literal>/usr/include/X11/keysymdef.h</literal>" file (<literal>x11proto-core-dev</literal> package).  All "<literal>#define</literal>" statements in this file are named as "<literal>XK_</literal>" prepended to <emphasis role="strong">keysym</emphasis> names.</simpara>
      </section>
      <section id="_classic_x_clients">
        <title>Classic X clients</title>
        <simpara>Most traditional X client programs, such as <literal>xterm</literal>(1), can be started with a set of standard command line options to specify geometry, font, and display.</simpara>
        <simpara>They also use the X resource database to configure their appearance.  The system-wide defaults of X resources are stored in "<literal>/etc/X11/Xresources/*</literal>" and application defaults of them are stored in "<literal>/etc/X11/app-defaults/*</literal>".  Use these settings as the starting points.</simpara>
        <simpara>The "<literal>~/.Xresources</literal>" file is used to store user resource specifications.  This file is automatically merged into the default X resources upon login.  To make changes to these settings and make them effective immediately, merge them into the database using the following command.</simpara>
        <screen>$ xrdb -merge ~/.Xresources</screen>
        <simpara>See <literal>x</literal>(7) and <literal>xrdb</literal>(1).</simpara>
      </section>
      <section id="_the_x_terminal_emulator_8212_xterm">
        <title>The X terminal emulator — xterm</title>
        <simpara>Learn everything about <literal>xterm</literal>(1) at <ulink url="&httpdickeyhiscomtermxtermfaqhtml;">http://dickey.his.com/xterm/xterm.faq.html</ulink>.</simpara>
      </section>
      <section id="_running_x_clients_as_root">
        <title>Running X clients as root</title>
        <warning>
          <simpara>Never start the X display/session manager under the root account by typing in <literal>root</literal> to the prompt of the display manager such as <literal>gdm</literal> because it is considered unsafe (insecure), even when you plan to perform administrative activities.  The entire X architecture is considered insecure if run as root.  You must always use the lowest privilege level possible, like a regular user account.</simpara>
        </warning>
        <simpara>Easy ways to run a particular X client, e.g. "<literal>foo</literal>" as root is to use <literal>sudo</literal>(8) etc. as the following.</simpara>
        <screen>$ sudo foo &amp;</screen>
        <screen>$ sudo -s
# foo &amp;</screen>
        <screen>$ gksu foo &amp;</screen>
        <screen>$ ssh -X root@localhost
# foo &amp;</screen>
        <caution>
          <simpara>Use of <literal>ssh</literal>(1) just for this purpose as above is waste of resource.</simpara>
        </caution>
        <simpara>In order for the X client to connect to the X server, please note the following.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
Values of the old user's "<literal>$XAUTHORITY</literal>" and "<literal>$DISPLAY</literal>" environment variables must be copied to the new user's ones.
</simpara>
          </listitem>
          <listitem>
            <simpara>
The file pointed by value of the "<literal>$XAUTHORITY</literal>" environment variable must be readable by the new user.
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>The <literal>gksu</literal> package (popcon: &pop-gksu;) is a specialized GTK+ GUI package for gaining the root privileges.  It can be configured to use <literal>su</literal>(1) or <literal>sudo</literal>(8) as its backend depending on the "<literal>/apps/gksu/sudo-mode</literal>" gconf key.  You can edit gconf key using <literal>gconf-editor</literal>(1) (menu: "Applications" → "System Tools" → "Configuration Editor").</simpara>
      </section>
    </section>
  </chapter>
  <chapter id="_i18n_and_l10n">
    <title>I18N and L10N</title>
    <simpara><ulink url="&multilingualizatelanguagesupport;">Multilingualization (M17N) or Native Language Support</ulink> for an application software is done in 2 steps.</simpara>
    <itemizedlist>
      <listitem>
        <simpara>
Internationalization (I18N): To make a software potentially handle multiple locales.
</simpara>
      </listitem>
      <listitem>
        <simpara>
Localization (L10N): To make a software handle an specific locale.
</simpara>
      </listitem>
    </itemizedlist>
    <tip>
      <simpara>There are 17, 18, or 10 letters between "m" and "n", "i" and "n", or "l" and "n" in multilingualization, internationalization, and localization which correspond to M17N, I18N, and L10N.</simpara>
    </tip>
    <simpara>The modern software such as GNOME and KDE are multilingualized.  They are internationalized by making them handle <ulink url="&utfi;">UTF-8</ulink> data and localized by providing their translated messages through the <literal>gettext</literal>(1) infrastructure.  Translated messages may be provided as separate localization packages.  They can be selected simply by setting pertinent environment variables to the appropriate locale.</simpara>
    <simpara>The simplest representation of the text data is <emphasis role="strong">ASCII</emphasis> which is sufficient for English and uses less than 127 characters (representable with 7 bits).  In order to support much more characters for the international support, many character encoding systems have been invented.  The modern and sensible encoding system is <emphasis role="strong">UTF-8</emphasis> which can handle practically all the characters known to the human (see <xref linkend="_basics_of_encoding"/>).</simpara>
    <simpara>See <ulink url="&introductiontoibin;">Introduction to i18n</ulink> for details.</simpara>
    <simpara>The international hardware support is enabled with localized hardware configuration data.</simpara>
    <section id="_the_keyboard_input">
      <title>The keyboard input</title>
      <simpara>The Debian system can be configured to work with many international keyboard arrangements.</simpara>
      <table id="listofkeyboardreigurationmethods" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>List of keyboard reconfiguration methods</title>
        <tgroup cols="2">
          <colspec colwidth="30%*" align="left"/>
          <colspec colwidth="70%*" align="left"/>
          <thead>
            <row>
              <entry>
    environment
    </entry>
              <entry>
    command
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry>
    Linux console
    </entry>
              <entry>
                <literal>dpkg-reconfigure --priority=low console-data</literal>
              </entry>
            </row>
            <row>
              <entry>
    X Window
    </entry>
              <entry>
                <literal>dpkg-reconfigure --priority=low xserver-xorg</literal>
              </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <simpara>This will support keyboard input for accented characters of many European languages with its dead-key function. For Asian languages, you need more complicated <ulink url="&inputmethod;">input method</ulink> support such as SCIM discussed next.</simpara>
      <section id="_the_input_method_support_with_scim">
        <title>The input method support with SCIM</title>
        <simpara>Setup of multilingual input for the Debian system is simplified by using the <ulink url="&smartcommoninputmethodscim;">Smart Common Input Method (SCIM)</ulink> family of packages with the <literal>im-switch</literal> package. The list of SCIM packages are the following.</simpara>
        <table id="listofinputmethosupportswithscim" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of input method supports with SCIM</title>
          <tgroup cols="4">
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="40%*" align="left"/>
            <thead>
              <row>
                <entry>
    package
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    size
    </entry>
                <entry>
    suported locale
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/scim-anthy">
    scim-anthy
    </ulink> <ulink url="http://bugs.debian.org/scim-anthy">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=scim-anthy">&pop-scimanthy;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/s/scim-anthy.html">&size-scimanthy;</ulink></entry>
                <entry>
    Japanese
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/scim-canna">
    scim-canna
    </ulink> <ulink url="http://bugs.debian.org/scim-canna">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=scim-canna">&pop-scimcanna;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/s/scim-canna.html">&size-scimcanna;</ulink></entry>
                <entry>
    , ,
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/scim-skk">
    scim-skk
    </ulink> <ulink url="http://bugs.debian.org/scim-skk">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=scim-skk">&pop-scimskk;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/s/scim-skk.html">&size-scimskk;</ulink></entry>
                <entry>
    , ,
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/scim-prime">
    scim-prime
    </ulink> <ulink url="http://bugs.debian.org/scim-prime">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=scim-prime">&pop-scimprime;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/s/scim-prime.html">&size-scimprime;</ulink></entry>
                <entry>
    , ,
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/scim-tables-ja">
    scim-tables-ja
    </ulink> <ulink url="http://bugs.debian.org/scim-tables-ja">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=scim-tables-ja">&pop-scimtablesja;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/s/scim-tables-ja.html">&size-scimtablesja;</ulink></entry>
                <entry>
    , , (not very useful)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/scim-tables-zh">
    scim-tables-zh
    </ulink> <ulink url="http://bugs.debian.org/scim-tables-zh">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=scim-tables-zh">&pop-scimtableszh;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/s/scim-tables-zh.html">&size-scimtableszh;</ulink></entry>
                <entry>
    Chinese (for zh_*)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/scim-pinyin">
    scim-pinyin
    </ulink> <ulink url="http://bugs.debian.org/scim-pinyin">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=scim-pinyin">&pop-scimpinyin;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/s/scim-pinyin.html">&size-scimpinyin;</ulink></entry>
                <entry>
    , , (for zh_CN)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/scim-chewing">
    scim-chewing
    </ulink> <ulink url="http://bugs.debian.org/scim-chewing">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=scim-chewing">&pop-scimchewing;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/s/scim-chewing.html">&size-scimchewing;</ulink></entry>
                <entry>
    , , (for zh_TW)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/scim-hangul">
    scim-hangul
    </ulink> <ulink url="http://bugs.debian.org/scim-hangul">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=scim-hangul">&pop-scimhangul;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/s/scim-hangul.html">&size-scimhangul;</ulink></entry>
                <entry>
    Korean
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/scim-tables-ko">
    scim-tables-ko
    </ulink> <ulink url="http://bugs.debian.org/scim-tables-ko">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=scim-tables-ko">&pop-scimtablesko;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/s/scim-tables-ko.html">&size-scimtablesko;</ulink></entry>
                <entry>
    , ,
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/scim-thai">
    scim-thai
    </ulink> <ulink url="http://bugs.debian.org/scim-thai">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=scim-thai">&pop-scimthai;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/s/scim-thai.html">&size-scimthai;</ulink></entry>
                <entry>
    Thai
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/scim-m17n">
    scim-m17n
    </ulink> <ulink url="http://bugs.debian.org/scim-m17n">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=scim-m17n">&pop-scimmbhn;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/s/scim-m17n.html">&size-scimmbhn;</ulink></entry>
                <entry>
    Multilingual: Indic, Arabic and others
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/scim-tables-additional">
    scim-tables-additional
    </ulink> <ulink url="http://bugs.debian.org/scim-tables-additional">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=scim-tables-additional">&pop-scimtablesadditional;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/s/scim-tables-additional.html">&size-scimtablesadditional;</ulink></entry>
                <entry>
    , ,
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/scim-uim">
    scim-uim
    </ulink> <ulink url="http://bugs.debian.org/scim-uim">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=scim-uim">&pop-scimuim;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/s/scim-uim.html">&size-scimuim;</ulink></entry>
                <entry>
    , ,
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>The kinput2 method and other locale dependent Asian classic <ulink url="&inputmethods;">input methods</ulink> still exist but are not recommended for the modern UTF-8 X environment.  The <ulink url="&uim;">uim</ulink> tool chain is an alternative approach for the international input method for the modern UTF-8 X environment which is also capable for non-X environment.</simpara>
      </section>
      <section id="_an_example_for_japanese">
        <title>An example for Japanese</title>
        <simpara>I find the Japanese input method started under English environment ("<literal>en_US.UTF-8</literal>") very useful.  Here is how I did this with SCIM.</simpara>
        <orderedlist>
          <listitem>
            <simpara>
Install the Japanese input tool package <literal>scim-anthy</literal> with its recommended packages such as <literal>im-switch</literal>.
</simpara>
          </listitem>
          <listitem>
            <simpara>
Execute "<literal>im-switch -c</literal>" from user's shell and select "<literal>scim</literal>".
</simpara>
          </listitem>
          <listitem>
            <simpara>
Relogin to user's account.
</simpara>
          </listitem>
          <listitem>
            <simpara>
Verify setting by "<literal>im-switch -l</literal>".
</simpara>
          </listitem>
          <listitem>
            <simpara>
Setup input method and mode by right clicking GUI toolbar. (You can reduce menu choice of input method.)
</simpara>
          </listitem>
          <listitem>
            <simpara>
Start SCIM input method by CTRL-SPACE.
</simpara>
          </listitem>
        </orderedlist>
        <note>
          <simpara>In order to start SCIM under the non-CJK and non-en_US locale, you need to add list of those locales in UTF-8 to the "<literal>~/.scim/global</literal>" or "<literal>/etc/scim/global</literal>" file as the following.</simpara>
        </note>
        <screen>/SupportedUnicodeLocales = en_US.UTF-8,en_GB.UTF_8,fr_FR.UTF-8</screen>
        <simpara>Please note the following.</simpara>
        <itemizedlist>
          <listitem>
            <simpara><literal>im-switch</literal>(8) behaves differently if command is executed from root or not.
</simpara>
          </listitem>
          <listitem>
            <simpara>
Input method started by <literal>im-switch</literal> depends on the locale.
</simpara>
          </listitem>
          <listitem>
            <simpara>
Use of new immodule mechanism (by setting "<literal>$GTK_IM_MODULE</literal>" or "<literal>$QT_IM_MODULE</literal>") may cause instability during the library transition in <literal>unstable</literal>.
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>For the detail of setup, see "<literal>/usr/share/doc/im-switch/README.Debian.gz</literal>", "<literal>/usr/share/doc/scim/README.Debian.gz</literal>" or "<literal>/usr/share/doc/uim/README.Debian.gz</literal>".  Here key points are described.</simpara>
      </section>
      <section id="_disabling_the_input_method">
        <title>Disabling the input method</title>
        <simpara>If you wish to input without going through XIM, set "<literal>$XMODIFIERS</literal>" value to "none" while starting a program. This may be the case if you use Japanese input infrastructure <literal>egg</literal> on <literal>emacs</literal>(1). From shell, execute as the following.</simpara>
        <screen>$ XMODIFIERS=none emacs</screen>
        <simpara>In order to adjust the command executed by the Debian menu, place customized configuration in "<literal>/etc/menu/</literal>" following method described in "<literal>/usr/share/doc/menu/html</literal>".</simpara>
      </section>
    </section>
    <section id="_the_display_output">
      <title>The display output</title>
      <simpara>Linux console can only display limited characters.  (You need to use special terminal program such as <literal>jfbterm</literal>(1) to display non-European languages on the non-X console.)</simpara>
      <simpara>X Window can display any characters in the UTF-8 as long as required font data exists. (The encoding of the original font data is taken care by the X Window System and transparent to the user.)</simpara>
    </section>
    <section id="_the_locale">
      <title>The locale</title>
      <simpara>The following will focus on the locale for applications run under X Window environment started from <literal>gdm</literal>(1).</simpara>
      <section id="_basics_of_encoding">
        <title>Basics of encoding</title>
        <simpara>The environment variable "<literal>LANG=xx_YY.ZZZZ</literal>" sets the locale to language code "<literal>xx</literal>", country code "<literal>yy</literal>", and encoding "<literal>ZZZZ</literal>" (see <xref linkend="_literal_lang_literal_variable"/>).</simpara>
        <simpara>Current Debian system normally sets the locale as "<literal>LANG=xx_YY.UTF-8</literal>".  This uses the <ulink url="&utfi;">UTF-8</ulink> encoding with the <ulink url="&unicode;">Unicode</ulink> character set. This <ulink url="&utfi;">UTF-8</ulink> encoding system is a multibyte code system and uses code points smartly. The <ulink url="&ascii;">ASCII</ulink> data, which consist only with 7-bit range codes, are always valid UTF-8 data consisting only with 1 byte per character.</simpara>
        <simpara>Previous Debian system used to set the locale as "<literal>LANG=C</literal>" or "<literal>LANG=xx_YY</literal>" (without "<literal>.UTF-8</literal>").</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
The <ulink url="&ascii;">ASCII</ulink> character set is used for "<literal>LANG=C</literal>" or "<literal>LANG=POSIX</literal>".
</simpara>
          </listitem>
          <listitem>
            <simpara>
The traditional encoding system in Unix is used for "<literal>LANG=xx_YY</literal>".
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>Actual traditional encoding system used for "<literal>LANG=xx_YY</literal>" can be identified by checking "<literal>/usr/share/i18n/SUPPORTED</literal>".  For example, "<literal>en_US</literal>" uses "<literal>ISO-8859-1</literal>" encoding and "<literal>fr_FR@euro</literal>" uses "<literal>ISO-8859-15</literal>" encoding.</simpara>
        <tip>
          <simpara>For meaning of encoding values, see <xref linkend="list-of-encoding-values"/>.</simpara>
        </tip>
      </section>
      <section id="_rationale_for_utf_8_locale">
        <title>Rationale for UTF-8 locale</title>
        <simpara>The <ulink url="&utfi;">UTF-8</ulink> encoding is the modern and sensible text encoding system for I18N and enables to represent <ulink url="&unicode;">Unicode</ulink> characters, i.e., practically all characters known to human. <emphasis role="strong">UTF</emphasis> stands for Unicode Transformation Format (UTF) schemes.</simpara>
        <simpara>I recommend to use <ulink url="&utfi;">UTF-8</ulink> locale for your desktop, e.g.,  "<literal>LANG=en_US.UTF-8</literal>".  The first part of the locale determines messages presented by applications.  For example, <literal>gedit</literal>(1) (text editor for the GNOME Desktop) under "<literal>LANG=fr_FR.UTF-8</literal>" locale can display and edit Chinese character text data while presenting menus in French, as long as required fonts and input methods are installed.</simpara>
        <simpara>I also recommend to set the locale only using the "<literal>$LANG</literal>" environment variable. I do not see much benefit of setting a complicated combination of "<literal>LC_*</literal>" variables (see <literal>locale</literal>(1)) under UTF-8 locale.</simpara>
        <simpara>Even plain English text may contain non-ASCII characters, e.g. left and right quotation marks are not available in ASCII.</simpara>
        <screen>“double quoted text”
‘single quoted text’</screen>
        <simpara>When <ulink url="&ascii;">ASCII</ulink> plain text data is converted to <ulink url="&utfi;">UTF-8</ulink> one, it has exactly the same content and size as the original ASCII one.  So you loose nothing by deploying UTF-8 locale.</simpara>
        <simpara>Some programs consume more memory after supporting I18N.  This is because they are coded to use <ulink url="&utfdcucse;">UTF-32(UCS4)</ulink> internally to support Unicode for speed optimization and consume 4 bytes per each ASCII character data independent of locale selected.  Again, you loose nothing by deploying UTF-8 locale.</simpara>
        <simpara>The vendor specific old non-UTF-8 encoding systems tend to have minor but annoying differences on some characters such as graphic ones for many countries.  The deployment of the UTF-8 system by the modern OSs practically solved these conflicting encoding issues.</simpara>
      </section>
      <section id="_the_reconfiguration_of_the_locale">
        <title>The reconfiguration of the locale</title>
        <simpara>In order for the system to access a particular locale, the locale data must be compiled from the locale database. (The Debian system does <emphasis role="strong">not</emphasis> come with all available locales pre-compiled unless you installed the <literal>locales-all</literal> package.) The full list of supported locales available for compiling are listed in "<literal>/usr/share/i18n/SUPPORTED</literal>". This lists all the proper locale names.  The following will list all the available UTF-8 locales already compiled to the binary form.</simpara>
        <screen>$ locale -a | grep utf8</screen>
        <simpara>The following command execution will reconfigure the <literal>locale</literal> package.</simpara>
        <screen># dpkg-reconfigure locales</screen>
        <simpara>This process involves 3 steps.</simpara>
        <orderedlist>
          <listitem>
            <simpara>
Update the list of available locales
</simpara>
          </listitem>
          <listitem>
            <simpara>
Compile them into the binary form
</simpara>
          </listitem>
          <listitem>
            <simpara>
Set the system wide default locale value in the "<literal>/etc/defaults/locale</literal>" for use by PAM (see <xref linkend="_pam_and_nss"/>)
</simpara>
          </listitem>
        </orderedlist>
        <simpara>The list of available locale should include "<literal>en_US.UTF-8</literal>" and all the interesting languages with "<literal>UTF-8</literal>".</simpara>
        <simpara>The recommended default locale is "<literal>en_US.UTF-8</literal>" for US English.  For other languages, please make sure to chose locale with "<literal>UTF-8</literal>".  Any one of these settings can handle any international characters.</simpara>
        <note>
          <simpara>Although setting locale to "<literal>C</literal>" will use US English message, it handles only ASCII characters.</simpara>
        </note>
      </section>
      <section id="_the_value_of_the_literal_lang_literal_environment_variable">
        <title>The value of the "<literal>$LANG</literal>" environment variable</title>
        <simpara>The value of the "<literal>$LANG</literal>" environment variable is set and changed by many applications.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
Set initially by the PAM mechanism of <literal>login</literal>(1) for the local Linux console programs
</simpara>
          </listitem>
          <listitem>
            <simpara>
Set initially by the PAM mechanism of the display manager for all X programs
</simpara>
          </listitem>
          <listitem>
            <simpara>
Set initially by the PAM mechanism of <literal>ssh</literal>(1) for the remote console programs
</simpara>
          </listitem>
          <listitem>
            <simpara>
Changed by some display manager such as <literal>gdm</literal>(1) for all X programs
</simpara>
          </listitem>
          <listitem>
            <simpara>
Changed by the X session startup code via "<literal>~/.xsessionrc</literal>" for all X programs (<literal>lenny</literal> feature)
</simpara>
          </listitem>
          <listitem>
            <simpara>
Changed by the shell startup code, e.g. "<literal>~/.bashrc</literal>", for all console programs
</simpara>
          </listitem>
        </itemizedlist>
        <tip>
          <simpara>It is good idea to install system wide default locale as "<literal>en_US.UTF-8</literal>" for maximum compatibility.</simpara>
        </tip>
      </section>
      <section id="_specific_locale_only_under_x_window">
        <title>Specific locale only under X Window</title>
        <simpara>You can chose specific locale only under X Window irrespective of your system wide default locale using PAM customization (see <xref linkend="_pam_and_nss"/>) as follows.</simpara>
        <simpara>This environment should provide you with your best desktop experience with stability.  You have access to the functioning character terminal with readable messages even when the X Window System is not working.  This becomes essential for languages which use non-roman characters such as Chinese, Japanese, and Korean.</simpara>
        <note>
          <simpara>There may be another way available as the improvement of X session manager package but please read following as the generic and basic method of setting the locale.  For <literal>gdm</literal>(1), I know you can select the locale of X session via its memu.</simpara>
        </note>
        <simpara>The following line defines file location of the language environment in the PAM configuration file, such as "<literal>/etc/pam.d/gdm</literal>.</simpara>
        <screen>auth    required        pam_env.so read_env=1 envfile=/etc/default/locale</screen>
        <simpara>Change this to the following.</simpara>
        <screen>auth    required        pam_env.so read_env=1 envfile=/etc/default/locale-x</screen>
        <simpara>For Japanese, create a "<literal>/etc/defaults/locale-gdm</literal>" file with "<literal>-rw-r--r-- 1 root root</literal>" permission containing the following.</simpara>
        <screen>LANG="ja_JP.UTF-8"</screen>
        <simpara>Keep the default "<literal>/etc/defaults/locale</literal>" file for other programs as the the following.</simpara>
        <screen>LANG="en_US.UTF-8"</screen>
        <simpara>This is the most generic technique to customize locale and makes the menu selecion dialogue of <literal>gdm</literal>(1) itself to be localized.</simpara>
        <simpara>Alternatively for this case, you may simply change locale using the "<literal>~/.xsessionrc</literal>" file.</simpara>
      </section>
      <section id="_filename_encoding">
        <title>Filename encoding</title>
        <simpara>For cross platform data exchanges (see <xref linkend="_removable_storage_device"/>), you may need to mount some filesystem with particular encodings.  For example, <literal>mount</literal>(8) for <ulink url="&vfatfilesystem;">vfat filesystem</ulink> assumes <ulink url="&cpedh;">CP437</ulink> if used without option.  You need to provide
explicit mount option to use <ulink url="&utfi;">UTF-8</ulink> or <ulink url="&cpjdc;">CP932</ulink> for filenames.</simpara>
        <note>
          <simpara>When auto-mounting a hot-pluggable USB memory stick under modern desktop environment such as GNOME, you may provide such mount option by right clicking the icon on the desktop, click "Drive" tab, click to expand "Setting", and entering "utf8" to "Mount options:".  The next time this memory stick is mounted, mount with UTF-8 is enabled.</simpara>
        </note>
        <note>
          <simpara>If you are upgrading system or moving disk drives from older non-UTF-8 system, file names with non-ASCII characters may be encoded in the historic and deprecated encodings such as <ulink url="&isoiifjb;">ISO-8859-1</ulink> or <ulink url="&eucjp;">eucJP</ulink>.  Please seek help of text conversion tools to convert them to <ulink url="&utfi;">UTF-8</ulink>. See <xref linkend="_text_data_conversion_tools"/>.</simpara>
        </note>
        <simpara><ulink url="&samba;">Samba</ulink> uses Unicode for newer clients (Windows NT, 200x, XP) but uses <ulink url="&cpifa;">CP850</ulink> for older clients (DOS and Windows 9x/Me) as default.  This default for older clients can be changed using "<literal>dos charset</literal>" in the "<literal>/etc/samba/smb.conf</literal>" file, e.g., to <ulink url="&cpjdc;">CP932</ulink> for Japanese.</simpara>
      </section>
      <section id="_localized_messages_and_translated_documentation">
        <title>Localized messages and translated documentation</title>
        <simpara>Translations exist for many of the text messages and documents that are displayed in the Debian system, such as error messages, standard program output, menus, and manual pages.  <ulink url="&gnugettextbcommandtoolchain;">GNU gettext(1) command tool chain</ulink> is used as the backend tool for most translation activities.</simpara>
        <simpara><literal>aptitude</literal>(8) lists under "Tasks" → "Localization" provide extensive list of useful binary packages which add localized messages to applications and provide translated documentation.</simpara>
        <simpara>For example, you can obtain the localized message for manpage by installing the <literal>manpages-&lt;LANG&gt;</literal> package. To read the Italian-language manpage for &lt;programname&gt; from "<literal>/usr/share/man/it/</literal>", execute as the following.</simpara>
        <screen>LANG=it_IT.UTF-8 man &lt;programname&gt;</screen>
      </section>
      <section id="_effects_of_the_locale">
        <title>Effects of the locale</title>
        <simpara>The sort order of characters with <literal>sort</literal>(1) is affected by the language choice of the locale. Spanish and English locale sort differently.</simpara>
        <simpara>The date format of <literal>ls</literal>(1) is affected by the locale.  The date format of "<literal>LANG=C ls -l</literal>" and "<literal>LANG=en_US.UTF-8</literal>" are different (see <xref linkend="_customized_display_of_time_and_date"/>).</simpara>
        <simpara>Number punctuation are different for locales.  For example, in English locale, one thousand one point one is displayed as "<literal>1,000.1</literal>" while in German locale, it is displayed as "<literal>1.000,1</literal>".  You may see this difference in spreadsheet program.</simpara>
      </section>
    </section>
  </chapter>
  <chapter id="_system_tips">
    <title>System tips</title>
    <simpara>Here, I will describe basic tips to configure and manage systems, mostly from the console.</simpara>
    <section id="_the_screen_program">
      <title>The screen program</title>
      <simpara><literal>screen</literal>(1) is a very useful tool for people to access remote sites via unreliable or intermittent connections since it support interrupted network connections.</simpara>
      <table id="listofprogramstotworkconnections" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>List of programs to support interrupted network connections</title>
        <tgroup cols="4">
          <colspec colwidth="20%*" align="left"/>
          <colspec colwidth="20%*" align="left"/>
          <colspec colwidth="20%*" align="left"/>
          <colspec colwidth="40%*" align="left"/>
          <thead>
            <row>
              <entry>
    package
    </entry>
              <entry>
    popcon
    </entry>
              <entry>
    size
    </entry>
              <entry>
    description
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/screen">
                <literal>screen</literal>
              </ulink> <ulink url="http://bugs.debian.org/screen">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=screen">&pop-screen;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/s/screen.html">&size-screen;</ulink></entry>
              <entry>
    terminal multiplexer with VT100/ANSI terminal emulation
    </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <section id="_the_use_scenario_for_screen_1">
        <title>The use scenario for screen(1)</title>
        <simpara><literal>screen</literal>(1) not only allows one terminal window to work with multiple processes, but also allows <emphasis role="strong">remote shell process to survive interrupted connections</emphasis>.  Here is a typical use scenario of <literal>screen</literal>(1).</simpara>
        <orderedlist>
          <listitem>
            <simpara>
You login to a remote machine.
</simpara>
          </listitem>
          <listitem>
            <simpara>
You start <literal>screen</literal> on a single console.
</simpara>
          </listitem>
          <listitem>
            <simpara>
You execute multiple programs in <literal>screen</literal> windows created with <literal>^A c</literal> ("Control-A" followed by "c").
</simpara>
          </listitem>
          <listitem>
            <simpara>
You switch among the multiple <literal>screen</literal> windows by <literal>^A n</literal> ("Control-A" followed by "n").
</simpara>
          </listitem>
          <listitem>
            <simpara>
Suddenly you need to leave your terminal, but you don't want to lose your active work by keeping the connection.
</simpara>
          </listitem>
          <listitem>
            <simpara>
You may <emphasis role="strong">detach</emphasis> the <literal>screen</literal> session by any methods.
</simpara>
            <itemizedlist>
              <listitem>
                <simpara>
Brutally unplug your network connection
</simpara>
              </listitem>
              <listitem>
                <simpara>
Type <literal>^A d</literal> ("Control-A" followed by "d") and manually logging out from the remote connection
</simpara>
              </listitem>
              <listitem>
                <simpara>
Type <literal>^A DD</literal> ("Control-A" followed by "DD") to have <literal>screen</literal> detach and log you out
</simpara>
              </listitem>
            </itemizedlist>
          </listitem>
          <listitem>
            <simpara>
You log in again to the same remote machine (even from a different terminal).
</simpara>
          </listitem>
          <listitem>
            <simpara>
You start <literal>screen</literal> as "<literal>screen -r</literal>".
</simpara>
          </listitem>
          <listitem>
            <simpara><literal>screen</literal> will magically <emphasis role="strong">reattach</emphasis> all previous <literal>screen</literal> windows with all actively running programs.
</simpara>
          </listitem>
        </orderedlist>
        <tip>
          <simpara>You can save connection fees with <literal>screen</literal> for metered network connections such as dial-up and packet ones, because you can leave a process active while disconnected, and then re-attach it later when you connect again.</simpara>
        </tip>
      </section>
      <section id="_key_bindings_for_the_screen_command">
        <title>Key bindings for the screen command</title>
        <simpara>In a <literal>screen</literal> session, all keyboard inputs are sent to your current window except for the command keystroke.  All <literal>screen</literal> command keystrokes are entered by typing <literal>^A</literal> ("Control-A") plus a single key [plus any parameters].  Here are important ones to remember.</simpara>
        <table id="listofkeybindingsforscreen" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of key bindings for screen</title>
          <tgroup cols="2">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="70%*" align="left"/>
            <thead>
              <row>
                <entry>
    key binding
    </entry>
                <entry>
    meaning
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>^A ?</literal>
                </entry>
                <entry>
    show a help screen (display key bindings)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>^A c</literal>
                </entry>
                <entry>
    create a new window and switch to it
    </entry>
              </row>
              <row>
                <entry>
                  <literal>^A n</literal>
                </entry>
                <entry>
    go to next window
    </entry>
              </row>
              <row>
                <entry>
                  <literal>^A p</literal>
                </entry>
                <entry>
    go to previous window
    </entry>
              </row>
              <row>
                <entry>
                  <literal>^A 0</literal>
                </entry>
                <entry>
    go to window number 0
    </entry>
              </row>
              <row>
                <entry>
                  <literal>^A 1</literal>
                </entry>
                <entry>
    go to window number 1
    </entry>
              </row>
              <row>
                <entry>
                  <literal>^A w</literal>
                </entry>
                <entry>
    show a list of windows
    </entry>
              </row>
              <row>
                <entry>
                  <literal>^A a</literal>
                </entry>
                <entry>
    send a Ctrl-A to current window as keyboard input
    </entry>
              </row>
              <row>
                <entry>
                  <literal>^A h</literal>
                </entry>
                <entry>
    write a hardcopy of current window to file
    </entry>
              </row>
              <row>
                <entry>
                  <literal>^A H</literal>
                </entry>
                <entry>
    begin/end logging current window to file
    </entry>
              </row>
              <row>
                <entry>
                  <literal>^A ^X</literal>
                </entry>
                <entry>
    lock the terminal (password protected)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>^A d</literal>
                </entry>
                <entry>
    detach screen session from the terminal
    </entry>
              </row>
              <row>
                <entry>
                  <literal>^A DD</literal>
                </entry>
                <entry>
    detach screen session and log out
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>See <literal>screen</literal>(1) for details.</simpara>
      </section>
    </section>
    <section id="_data_recording_and_presentation">
      <title>Data recording and presentation</title>
      <section id="_the_log_daemon">
        <title>The log daemon</title>
        <simpara>Many programs record their activities under the "<literal>/var/log/</literal>" directory.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
The kernel log daemon: <literal>klogd</literal>(8)
</simpara>
          </listitem>
          <listitem>
            <simpara>
The system log daemon: <literal>syslogd</literal>(8)
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>See <xref linkend="_the_system_message"/> and <xref linkend="_the_kernel_message"/>.</simpara>
      </section>
      <section id="_log_analyzer">
        <title>Log analyzer</title>
        <simpara>Here are notable log analyzers ("<literal>~Gsecurity::log-analyzer</literal>" in <literal>aptitude</literal>(8)).</simpara>
        <table id="listofsystemloganalyzers" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of system log analyzers</title>
          <tgroup cols="4">
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="40%*" align="left"/>
            <thead>
              <row>
                <entry>
    package
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    size
    </entry>
                <entry>
    description
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/logwatch">
                  <literal>logwatch</literal>
                </ulink> <ulink url="http://bugs.debian.org/logwatch">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=logwatch">&pop-logwatch;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/l/logwatch.html">&size-logwatch;</ulink></entry>
                <entry>
    log analyser with nice output written in Perl
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/fail2ban">
                  <literal>fail2ban</literal>
                </ulink> <ulink url="http://bugs.debian.org/fail2ban">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=fail2ban">&pop-failcban;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/f/fail2ban.html">&size-failcban;</ulink></entry>
                <entry>
    bans IPs that cause multiple authentication errors
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/analog">
                  <literal>analog</literal>
                </ulink> <ulink url="http://bugs.debian.org/analog">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=analog">&pop-analog;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/a/analog.html">&size-analog;</ulink></entry>
                <entry>
    web server log analyzer
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/awstats">
                  <literal>awstats</literal>
                </ulink> <ulink url="http://bugs.debian.org/awstats">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=awstats">&pop-awstats;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/a/awstats.html">&size-awstats;</ulink></entry>
                <entry>
    powerful and featureful web server log analyzer
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/sarg">
                  <literal>sarg</literal>
                </ulink> <ulink url="http://bugs.debian.org/sarg">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=sarg">&pop-sarg;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/s/sarg.html">&size-sarg;</ulink></entry>
                <entry>
    squid analysis report generator
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/pflogsumm">
                  <literal>pflogsumm</literal>
                </ulink> <ulink url="http://bugs.debian.org/pflogsumm">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=pflogsumm">&pop-pflogsumm;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/p/pflogsumm.html">&size-pflogsumm;</ulink></entry>
                <entry>
    Postfix log entry summarizer
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/syslog-summary">
                  <literal>syslog-summary</literal>
                </ulink> <ulink url="http://bugs.debian.org/syslog-summary">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=syslog-summary">&pop-syslogsummary;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/s/syslog-summary.html">&size-syslogsummary;</ulink></entry>
                <entry>
    summarize the contents of a syslog log file
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/lire">
                  <literal>lire</literal>
                </ulink> <ulink url="http://bugs.debian.org/lire">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=lire">&pop-lire;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/l/lire.html">&size-lire;</ulink></entry>
                <entry>
    full-featured log analyzer and report generator
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/fwlogwatch">
                  <literal>fwlogwatch</literal>
                </ulink> <ulink url="http://bugs.debian.org/fwlogwatch">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=fwlogwatch">&pop-fwlogwatch;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/f/fwlogwatch.html">&size-fwlogwatch;</ulink></entry>
                <entry>
    firewall log analyzer
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/squidview">
                  <literal>squidview</literal>
                </ulink> <ulink url="http://bugs.debian.org/squidview">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=squidview">&pop-squidview;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/s/squidview.html">&size-squidview;</ulink></entry>
                <entry>
    monitors and analyses squid access.log files
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/visitors">
                  <literal>visitors</literal>
                </ulink> <ulink url="http://bugs.debian.org/visitors">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=visitors">&pop-visitors;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/v/visitors.html">&size-visitors;</ulink></entry>
                <entry>
    fast web server log analyzer
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/swatch">
                  <literal>swatch</literal>
                </ulink> <ulink url="http://bugs.debian.org/swatch">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=swatch">&pop-swatch;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/s/swatch.html">&size-swatch;</ulink></entry>
                <entry>
    log file viewer with regexp matching, highlighting, &amp; hooks
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/crm114">
                  <literal>crm114</literal>
                </ulink> <ulink url="http://bugs.debian.org/crm114">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=crm114">&pop-crmbbe;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/c/crm114.html">&size-crmbbe;</ulink></entry>
                <entry>
    Controllable Regex Mutilator and Spam Filter (CRM114)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/icmpinfo">
                  <literal>icmpinfo</literal>
                </ulink> <ulink url="http://bugs.debian.org/icmpinfo">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=icmpinfo">&pop-icmpinfo;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/i/icmpinfo.html">&size-icmpinfo;</ulink></entry>
                <entry>
    interpret ICMP messages
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <note>
          <simpara><ulink url="&crmbbe;">CRM114</ulink> provides language infrastructure to write <emphasis role="strong">fuzzy</emphasis> filters with the <ulink url="&treregexlibrary;">TRE regex library</ulink>.  Its popular use is spam mail filter but it can be used as log analyzer.</simpara>
        </note>
      </section>
      <section id="_recording_the_shell_activities_cleanly">
        <title>Recording the shell activities cleanly</title>
        <simpara>The simple use of <literal>script</literal>(1) (see <xref linkend="_recording_the_shell_activities"/>) to record shell activity produces a file with control characters.  This can be avoided by using <literal>col</literal>(1) as the following.</simpara>
        <screen>$ script
Script started, file is typescript</screen>
        <simpara>Do whatever … and press <literal>Ctrl-D</literal> to exit <literal>script</literal>.</simpara>
        <screen>$ col -bx &lt;typescript &gt;cleanedfile
$ vim cleanedfile</screen>
        <simpara>If you don't have <literal>script</literal> (for example, during the boot process in the initramfs), you can use following instead.</simpara>
        <screen>$ sh -i 2&gt;&amp;1 | tee typescript</screen>
        <tip>
          <simpara>Some <literal>x-terminal-emulator</literal> such as <literal>gnome-terminal</literal> can record.  You may wish to extend line buffer for scrollback.</simpara>
        </tip>
        <tip>
          <simpara>You may use <literal>screen</literal>(1) with "<literal>^A H</literal>" (see <xref linkend="_key_bindings_for_the_screen_command"/>) to perform recording of console.</simpara>
        </tip>
        <tip>
          <simpara>You may use <literal>emacs</literal>(1) with "<literal>M-x shell</literal>", "<literal>M-x eshell</literal>", or "<literal>M-x term</literal>" to perform recording of console.  You may later use "<literal>C-x C-w</literal>" to write the buffer to a file.</simpara>
        </tip>
      </section>
      <section id="_customized_display_of_text_data">
        <title>Customized display of text data</title>
        <simpara>Although pager tools such as <literal>more</literal>(1) and <literal>less</literal>(1) (see <xref linkend="_the_pager"/>) and custom tools for highlighting and formatting (see <xref linkend="_highlighting_and_formatting_plain_text_data"/>) can display text data nicely, general purpose editors (see <xref linkend="_the_text_editor"/>) are most versatile and customizable.</simpara>
        <tip>
          <simpara>For <literal>vim</literal>(1) and its pager mode alias <literal>view</literal>(1), "<literal>:set hls</literal>" will enable highlighted search.</simpara>
        </tip>
      </section>
      <section id="_customized_display_of_time_and_date">
        <title>Customized display of time and date</title>
        <simpara>The default display format of time and date by the "<literal>ls -l</literal>" command depends on the <emphasis role="strong">locale</emphasis> (see <xref linkend="_timestamps"/> for value).  The "<literal>$LANG</literal>" variable is referred first and it can be overridden by the "<literal>$LC_TIME</literal>" variable.</simpara>
        <simpara>The actual default display format for each locale depends on the version of  the standard C library (the <literal>libc6</literal> package) used.  I.e., different releases of Debian had different defaults.</simpara>
        <simpara>If you really wish to customize this display format of time and date beyond the <emphasis role="strong">locale</emphasis>, you should set the <emphasis role="strong">time style value</emphasis> by the "<literal>--time-style</literal>" argument or by the "<literal>$TIME_STYLE</literal>" value (see <literal>ls</literal>(1), <literal>date</literal>(1), "<literal>info coreutils 'ls invocation'</literal>").</simpara>
        <table id="displayexamplesolcommandforlenny" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>Display examples of time and date for the "<literal>ls -l</literal>" command for <literal>lenny</literal></title>
          <tgroup cols="3">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="40%*" align="left"/>
            <thead>
              <row>
                <entry>
    time style value
    </entry>
                <entry>
    locale
    </entry>
                <entry>
    display of time and date
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>iso</literal>
                </entry>
                <entry>
                  <emphasis>any</emphasis>
                </entry>
                <entry>
                  <literal>01-19 00:15</literal>
                </entry>
              </row>
              <row>
                <entry>
                  <literal>long-iso</literal>
                </entry>
                <entry>
                  <emphasis>any</emphasis>
                </entry>
                <entry>
                  <literal>2009-01-19 00:15</literal>
                </entry>
              </row>
              <row>
                <entry>
                  <literal>full-iso</literal>
                </entry>
                <entry>
                  <emphasis>any</emphasis>
                </entry>
                <entry>
                  <literal>2009-01-19 00:15:16.000000000 +0900</literal>
                </entry>
              </row>
              <row>
                <entry>
                  <literal>locale</literal>
                </entry>
                <entry>
                  <literal>C</literal>
                </entry>
                <entry>
                  <literal>Jan 19 00:15</literal>
                </entry>
              </row>
              <row>
                <entry>
                  <literal>locale</literal>
                </entry>
                <entry>
                  <literal>en_US.UTF-8</literal>
                </entry>
                <entry>
                  <literal>2009-01-19 00:15</literal>
                </entry>
              </row>
              <row>
                <entry>
                  <literal>locale</literal>
                </entry>
                <entry>
                  <literal>es_ES.UTF-8</literal>
                </entry>
                <entry>
                  <literal>ene 19 00:15</literal>
                </entry>
              </row>
              <row>
                <entry>
                  <literal>+%d.%m.%y %H:%M</literal>
                </entry>
                <entry>
                  <emphasis>any</emphasis>
                </entry>
                <entry>
                  <literal>19.01.09 00:15</literal>
                </entry>
              </row>
              <row>
                <entry>
                  <literal>+%d.%b.%y %H:%M</literal>
                </entry>
                <entry><literal>C</literal> or <literal>en_US.UTF-8</literal>
    </entry>
                <entry>
                  <literal>19.Jan.09 00:15</literal>
                </entry>
              </row>
              <row>
                <entry>
                  <literal>+%d.%b.%y %H:%M</literal>
                </entry>
                <entry>
                  <literal>es_ES.UTF-8</literal>
                </entry>
                <entry>
                  <literal>19.ene.09 00:15</literal>
                </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <tip>
          <simpara>You can eliminate typing long option on commandline using command alias, e.g. "<literal>alias ls='ls --time-style=+%d.%m.%y\ %H:%M'</literal>" (see <xref linkend="_command_alias"/>).</simpara>
        </tip>
        <tip>
          <simpara><ulink url="&isoigab;">ISO 8601</ulink> is followed for these iso-formats.</simpara>
        </tip>
      </section>
      <section id="_colorized_shell_echo">
        <title>Colorized shell echo</title>
        <simpara>Shell echo to most modern terminals can be colorized using <ulink url="&ansiescapecode;">ANSI escape code</ulink> (see "<literal>/usr/share/doc/xterm/ctlseqs.txt.gz</literal>").</simpara>
        <simpara>For example, try the following</simpara>
        <screen>$ RED=$(printf "\x1b[31m")
$ NORMAL=$(printf "\x1b[0m")
$ REVERSE=$(printf "\x1b[7m")
$ echo "${RED}RED-TEXT${NORMAL} ${REVERSE}REVERSE-TEXT${NORMAL}"</screen>
      </section>
      <section id="_colorized_commands">
        <title>Colorized commands</title>
        <simpara>Colorized commands are handy for inspecting their output in the interactive environment.  I include the following in my "<literal>~/.bashrc</literal>".</simpara>
        <screen>if [ "$TERM" != "dumb" ]; then
    eval "`dircolors -b`"
    alias ls='ls --color=always'
    alias ll='ls --color=always -l'
    alias la='ls --color=always -A'
    alias less='less -R'
    alias ls='ls --color=always'
    alias grep='grep --color=always'
    alias egrep='egrep --color=always'
    alias fgrep='fgrep --color=always'
    alias zgrep='zgrep --color=always'
else
    alias ll='ls -l'
    alias la='ls -A'
fi</screen>
        <simpara>The use of alias limits color effects to the interactive command usage.  It has advantage over exporting environment variable "<literal>export GREP_OPTIONS='--color=auto'</literal>" since color can be seen under pager programs such as <literal>less</literal>(1).  If you wish to suppress color when piping to other programs, use "<literal>--color=auto</literal>" instead in the above example for "<literal>~/.bashrc</literal>".</simpara>
        <tip>
          <simpara>You can turn off these colorizing aliases in the interactive environment by invoking shell with "<literal>TERM=dumb bash</literal>".</simpara>
        </tip>
      </section>
      <section id="_recording_the_graphic_image_of_an_x_application">
        <title>Recording the graphic image of an X application</title>
        <simpara>There are few ways to record the graphic image of an X application, including an <literal>xterm</literal> display.</simpara>
        <table id="listofgraphicimaanipulationtools" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of graphic image manipulation tools</title>
          <tgroup cols="4">
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="40%*" align="left"/>
            <thead>
              <row>
                <entry>
    package
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    size
    </entry>
                <entry>
    command
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/xbase-clients">
                  <literal>xbase-clients</literal>
                </ulink> <ulink url="http://bugs.debian.org/xbase-clients">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=xbase-clients">&pop-xbaseclients;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/x/xbase-clients.html">&size-xbaseclients;</ulink></entry>
                <entry><literal>xwd</literal>(1)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/gimp">
                  <literal>gimp</literal>
                </ulink> <ulink url="http://bugs.debian.org/gimp">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=gimp">&pop-gimp;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/g/gimp.html">&size-gimp;</ulink></entry>
                <entry>
    GUI menu
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/imagemagick">
                  <literal>imagemagick</literal>
                </ulink> <ulink url="http://bugs.debian.org/imagemagick">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=imagemagick">&pop-imagemagick;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/i/imagemagick.html">&size-imagemagick;</ulink></entry>
                <entry><literal>import</literal>(1)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/scrot">
                  <literal>scrot</literal>
                </ulink> <ulink url="http://bugs.debian.org/scrot">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=scrot">&pop-scrot;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/s/scrot.html">&size-scrot;</ulink></entry>
                <entry><literal>scrot</literal>(1)
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </section>
      <section id="_recording_changes_in_configuration_files">
        <title>Recording changes in configuration files</title>
        <simpara>There are specialized tools to record changes in configuration files with help of DVCS system.</simpara>
        <table id="listofpackagestotionhistoryinvcs" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of packages to record configuration history in VCS</title>
          <tgroup cols="4">
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="40%*" align="left"/>
            <thead>
              <row>
                <entry>
    package
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    size
    </entry>
                <entry>
    description
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/etckeeper">
                  <literal>etckeeper</literal>
                </ulink> <ulink url="http://bugs.debian.org/etckeeper">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=etckeeper">&pop-etckeeper;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/e/etckeeper.html">&size-etckeeper;</ulink></entry>
                <entry>
    store configuration files and their metadata with <ulink url="&git;">Git</ulink> (default), <ulink url="&mercurial;">Mercurial</ulink>, or <ulink url="&bazaar;">Bazaar</ulink> (new)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/changetrack">
                  <literal>changetrack</literal>
                </ulink> <ulink url="http://bugs.debian.org/changetrack">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=changetrack">&pop-changetrack;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/c/changetrack.html">&size-changetrack;</ulink></entry>
                <entry>
    store configuration files with <ulink url="&rcs;">RCS</ulink> (old)
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>I recommend to use the <literal>etckeeper</literal> package with <literal>git</literal>(1) which put entire "<literal>/etc</literal>" under VCS control.  Its installation guide and tutorial are found in "<literal>/usr/share/doc/etckeeper/README.gz</literal>".</simpara>
        <simpara>Essentially, running "<literal>sudo etckeeper init</literal>" initializes the git repository for "<literal>/etc</literal>" just like the process explained in <xref linkend="_git_for_recording_configuration_history"/>) but with special hook scripts for more thorough setups.</simpara>
        <simpara>As you change your configuration, you can use <literal>git</literal>(1) normally to record them.  It will automatically record changes nicely every time you run package management commands, too.</simpara>
        <tip>
          <simpara>You can browse the change history of "<literal>/etc</literal>" by executing "<literal>sudo GIT_DIR=/etc/.git gitk</literal>" with clear view for new installed packages, removed packages, and version changes of packages.</simpara>
        </tip>
      </section>
    </section>
    <section id="_data_storage_tips">
      <title>Data storage tips</title>
      <simpara>Booting your system with Linux <ulink url="&livecds;">live CDs</ulink> or <ulink url="&debianinstallercds;">debian-installer CDs</ulink> in rescue mode make it easy for you to reconfigure data storage on your boot device.  See also <xref linkend="_the_binary_data"/>.</simpara>
      <section id="_disk_partition_configuration">
        <title>Disk partition configuration</title>
        <simpara>For <ulink url="&diskpartition;">disk partition</ulink> configuration, although <literal>fdisk</literal>(8) has been considered standard, <literal>parted</literal>(8) deserves some attention.  "Disk partitioning data", "partition table", "partition map", and "disk label" are all synonyms.</simpara>
        <simpara>Most PCs use the classic <ulink url="&masterbootrecordmbr;">Master Boot Record (MBR)</ulink> scheme to hold <ulink url="&diskpartitioning;">disk partitioning</ulink> data in the first sector, i.e., <ulink url="&lba;">LBA</ulink> sector 0 (512 bytes).</simpara>
        <note>
          <simpara>Some new PCs with <ulink url="&extensiblefirmwareinterfaceefi;">Extensible Firmware Interface (EFI)</ulink>, including Intel-based Macs, use <ulink url="&guidpartitiontablegpt;">GUID Partition Table (GPT)</ulink> scheme to hold <ulink url="&diskpartitioning;">disk partitioning</ulink> data not in the first sector.</simpara>
        </note>
        <simpara>Although <literal>fdisk</literal>(8) has been standard for the disk partitioning tool, <literal>parted</literal>(8) is replacing it.</simpara>
        <table id="listofdiskpartitnagementpackages" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of disk partition management packages</title>
          <tgroup cols="5">
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="60%*" align="left"/>
            <thead>
              <row>
                <entry>
    package
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    size
    </entry>
                <entry>
    GPT
    </entry>
                <entry>
    description
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/util-linux">
                  <literal>util-linux</literal>
                </ulink> <ulink url="http://bugs.debian.org/util-linux">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=util-linux">&pop-utillinux;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/u/util-linux.html">&size-utillinux;</ulink></entry>
                <entry>
    Not supported
    </entry>
                <entry>
    miscellaneous system utilities including <literal>fdisk</literal>(8) and <literal>cfdisk</literal>(8)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/parted">
                  <literal>parted</literal>
                </ulink> <ulink url="http://bugs.debian.org/parted">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=parted">&pop-parted;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/p/parted.html">&size-parted;</ulink></entry>
                <entry>
    Supported
    </entry>
                <entry>
    GNU Parted disk partition resizing program
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/gparted">
                  <literal>gparted</literal>
                </ulink> <ulink url="http://bugs.debian.org/gparted">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=gparted">&pop-gparted;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/g/gparted.html">&size-gparted;</ulink></entry>
                <entry>
    Supported
    </entry>
                <entry>
    GNOME partition editor based on <literal>libparted</literal>
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/qtparted">
                  <literal>qtparted</literal>
                </ulink> <ulink url="http://bugs.debian.org/qtparted">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=qtparted">&pop-qtparted;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/q/qtparted.html">&size-qtparted;</ulink></entry>
                <entry>
    Supported
    </entry>
                <entry>
    KDE partition editor based on <literal>libparted</literal>
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/gptsync">
                  <literal>gptsync</literal>
                </ulink> <ulink url="http://bugs.debian.org/gptsync">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=gptsync">&pop-gptsync;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/g/gptsync.html">&size-gptsync;</ulink></entry>
                <entry>
    Supported
    </entry>
                <entry>
    synchronize classic MBR partition table with the GPT one
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <caution>
          <simpara>Although <literal>parted</literal>(8) claims to create and to resize filesystem too, it is safer to do such things using best maintained specialized tools such as <literal>mkfs</literal>(8) (<literal>mkfs.msdos</literal>(8), <literal>mkfs.ext2</literal>(8), <literal>mkfs.ext3</literal>(8), …) and <literal>resize2fs</literal>(8).</simpara>
        </caution>
        <note>
          <simpara>In order to switch between <ulink url="&gpt;">GPT</ulink> and <ulink url="&mbr;">MBR</ulink>, you need to erase first few blocks of disk contents directly (see <xref linkend="_clearing_file_contents"/>) and use "<literal>parted /dev/sdx mklabel gpt</literal>" or "<literal>parted /dev/sdx mklabel msdos</literal>" to set it.  Please note "<literal>msdos</literal>" is use here for <ulink url="&mbr;">MBR</ulink>.</simpara>
        </note>
      </section>
      <section id="_accessing_partition_using_uuid">
        <title>Accessing partition using UUID</title>
        <simpara>Although reconfiguration of your partition may yield different names for partitions, you can access them consistently. This is also helpful if you have multiple disks and your BIOS doesn't give them consistent device names.</simpara>
        <itemizedlist>
          <listitem>
            <simpara><literal>mount</literal>(8) with "<literal>-U</literal>" options can mount a block device using <ulink url="&uuid;">UUID</ulink>, instead of using its file name such as "<literal>/dev/sda3</literal>".
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>/etc/fstab</literal>" (see <literal>fstab</literal>(5)) can use <ulink url="&uuid;">UUID</ulink>.
</simpara>
          </listitem>
          <listitem>
            <simpara>
Boot loaders (<xref linkend="_stage_2_the_boot_loader"/>) may use <ulink url="&uuid;">UUID</ulink> too.
</simpara>
          </listitem>
        </itemizedlist>
        <tip>
          <simpara>You can probe <ulink url="&uuid;">UUID</ulink> of a block special device with <literal>vol_id</literal>(8).</simpara>
        </tip>
      </section>
      <section id="_filesystem_configuration">
        <title>Filesystem configuration</title>
        <simpara>For <ulink url="&extd;">ext3</ulink> filesystem, the <literal>e2fsprogs</literal> package provides the following.</simpara>
        <itemizedlist>
          <listitem>
            <simpara><literal>mkfs.ext3</literal>(8) to create new <ulink url="&extd;">ext3</ulink> filesystem
</simpara>
          </listitem>
          <listitem>
            <simpara><literal>fsck.ext3</literal>(8) to check and to repair existing <ulink url="&extd;">ext3</ulink> filesystem
</simpara>
          </listitem>
          <listitem>
            <simpara><literal>tune2fs</literal>(8) to configure superblock of <ulink url="&extd;">ext3</ulink> filesystem
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>The <literal>mkfs</literal>(8) and <literal>fsck</literal>(8) commans are provided by the <literal>e2fsprogs</literal> package as front-ends to various filesystem dependent programs (<literal>mkfs.fstype</literal> and <literal>fsck.fstype</literal>). For <ulink url="&extd;">ext3</ulink> filesystem, they are <literal>mkfs.ext3</literal>(8) and <literal>fsck.ext3</literal>(8) (they are hardlinked to <literal>mke2fs</literal>(8) and <literal>e2fsck</literal>(8)).</simpara>
        <simpara>Similar commands are available for each filesystem supported by Linux.</simpara>
        <table id="listoffilesystemnagementpackages" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of filesystem management packages</title>
          <tgroup cols="4">
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="40%*" align="left"/>
            <thead>
              <row>
                <entry>
    package
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    size
    </entry>
                <entry>
    description
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/e2fsprogs">
                  <literal>e2fsprogs</literal>
                </ulink> <ulink url="http://bugs.debian.org/e2fsprogs">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=e2fsprogs">&pop-ecfsprogs;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/e/e2fsprogs.html">&size-ecfsprogs;</ulink></entry>
                <entry>
    utilities for the <ulink url="&extc;">ext2</ulink>/<ulink url="&extd;">ext3</ulink>/<ulink url="&exte;">ext4</ulink> filesystems
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/reiserfsprogs">
                  <literal>reiserfsprogs</literal>
                </ulink> <ulink url="http://bugs.debian.org/reiserfsprogs">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=reiserfsprogs">&pop-reiserfsprogs;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/r/reiserfsprogs.html">&size-reiserfsprogs;</ulink></entry>
                <entry>
    utilities for the <ulink url="&reiserfs;">Reiserfs</ulink> filesystem
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/dosfstools">
                  <literal>dosfstools</literal>
                </ulink> <ulink url="http://bugs.debian.org/dosfstools">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=dosfstools">&pop-dosfstools;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/d/dosfstools.html">&size-dosfstools;</ulink></entry>
                <entry>
    utilities for the <ulink url="&fat;">FAT</ulink> filesystem. (Microsoft: MS-DOS, Windows)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/xfsprogs">
                  <literal>xfsprogs</literal>
                </ulink> <ulink url="http://bugs.debian.org/xfsprogs">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=xfsprogs">&pop-xfsprogs;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/x/xfsprogs.html">&size-xfsprogs;</ulink></entry>
                <entry>
    utilities for the <ulink url="&xfs;">XFS</ulink> filesystem. (SGI: IRIX)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/ntfsprogs">
                  <literal>ntfsprogs</literal>
                </ulink> <ulink url="http://bugs.debian.org/ntfsprogs">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=ntfsprogs">&pop-ntfsprogs;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/n/ntfsprogs.html">&size-ntfsprogs;</ulink></entry>
                <entry>
    utilities for the <ulink url="&ntfs;">NTFS</ulink> filesystem. (Microsoft: Windows NT, …)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/jfsutils">
                  <literal>jfsutils</literal>
                </ulink> <ulink url="http://bugs.debian.org/jfsutils">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=jfsutils">&pop-jfsutils;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/j/jfsutils.html">&size-jfsutils;</ulink></entry>
                <entry>
    utilities for the <ulink url="&jfs;">JFS</ulink> filesystem. (IBM: AIX, OS/2)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/reiser4progs">
                  <literal>reiser4progs</literal>
                </ulink> <ulink url="http://bugs.debian.org/reiser4progs">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=reiser4progs">&pop-reisereprogs;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/r/reiser4progs.html">&size-reisereprogs;</ulink></entry>
                <entry>
    utilities for the <ulink url="&reisere;">Reiser4</ulink> filesystem
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/hfsprogs">
                  <literal>hfsprogs</literal>
                </ulink> <ulink url="http://bugs.debian.org/hfsprogs">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=hfsprogs">&pop-hfsprogs;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/h/hfsprogs.html">&size-hfsprogs;</ulink></entry>
                <entry>
    utilities for <ulink url="&hfs;">HFS</ulink> and <ulink url="&hfsplus;">HFS Plus</ulink> filesystem. (Apple: Mac OS)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/btrfs-tools">
                  <literal>btrfs-tools</literal>
                </ulink> <ulink url="http://bugs.debian.org/btrfs-tools">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=btrfs-tools">&pop-btrfstools;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/b/btrfs-tools.html">&size-btrfstools;</ulink></entry>
                <entry>
    utilities for the <ulink url="&btrfs;">btrfs</ulink> filesystem
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <tip>
          <simpara><ulink url="&extd;">Ext3</ulink> filesystem is the default filesystem for the Linux system and strongly recommended to use it unless you have some specific reasons not to.  After Linux kernel 2.6.28 (Debian <literal>squeeze</literal>), <ulink url="&exte;">ext4</ulink> filesystem will be available and expected to be the default filesystem for the Linux system.  <ulink url="&btrfs;">btrfs</ulink> filesystem is expected to be the next default filesystem after <ulink url="&exte;">ext4</ulink> filesystem for the Linux system.</simpara>
        </tip>
        <warning>
          <simpara>You might face some limtations with ext4 since it is new.  For example, you must have Linux kernel 2.6.30 or later if you wish to resizean ext4 partition.</simpara>
        </warning>
        <tip>
          <simpara>Some tools allow access to filesystem without Linux kernel support (see <xref linkend="_manipulating_files_without_mounting_disk"/>).</simpara>
        </tip>
      </section>
      <section id="_filesystem_creation_and_integrity_check">
        <title>Filesystem creation and integrity check</title>
        <simpara>The <literal>mkfs</literal>(8) command creates the filesystem on a Linux system. The <literal>fsck</literal>(8) command provides the filesystem integrity check and repair on a Linux system.</simpara>
        <caution>
          <simpara>It is generally not safe to run <literal>fsck</literal> on <emphasis role="strong">mounted filesystems</emphasis>.</simpara>
        </caution>
        <tip>
          <simpara>Check files in "<literal>/var/log/fsck/</literal>" for the result of the <literal>fsck</literal>(8) command run from the boot script.</simpara>
        </tip>
        <tip>
          <simpara>Use "<literal>shutdown -F -r now</literal>" to force to run the <literal>fsck</literal>(8) command safely on all filesystems including root filesystem on reboot. See the <literal>shutdown</literal>(8) manpage for more.</simpara>
        </tip>
      </section>
      <section id="_optimization_of_filesystem_by_mount_options">
        <title>Optimization of filesystem by mount options</title>
        <simpara>Performance and characteristics of a filesystem can be optimized by mount options used on it (see <literal>fstab</literal>(5) and <literal>mount</literal>(8)).  Notable ones are the following.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
"<literal>defaults</literal>" option implies default options: "<literal>rw,suid,dev,exec,auto,nouser,async</literal>". (general)
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>noatime</literal>" or "<literal>relatime</literal>" option is very effective for speeding up the read access. (general)
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>user</literal>" option allows an ordinary user to mount the filesystem. This option implies "<literal>noexec,nosuid,nodev</literal>" option combination. (general, used for CD and floppy)
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>noexec,nodev,nosuid</literal>" option combination is used to enhance security. (general)
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>noauto</literal>" option limits mounting by explicit operation only. (general)
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>data=journal</literal>" option for ext3fs can enhance data integrity against power failure with some loss of write speed.
</simpara>
          </listitem>
        </itemizedlist>
        <tip>
          <simpara>You need to provide kernel boot parameter "<literal>rootflags=data=journal</literal>" to deploy "<literal>data=journal</literal>" option for the root filesystem formatted with ext3fs.</simpara>
        </tip>
      </section>
      <section id="_optimization_of_filesystem_via_superblock">
        <title>Optimization of filesystem via superblock</title>
        <simpara>Characteristics of a filesystem can be optimized via its superblock using the <literal>tune2fs</literal>(8) command.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
Execution of "<literal>sudo tune2fs -l /dev/hda1</literal>" will display the contents of the filesystem superblock on "<literal>/dev/hda1</literal>".
</simpara>
          </listitem>
          <listitem>
            <simpara>
Execution of "<literal>sudo tune2fs -c 50 /dev/hda1</literal>" will change frequency of filesystem checks (<literal>fsck</literal> execution during boot-up) to every 50 boots on "<literal>/dev/hda1</literal>".
</simpara>
          </listitem>
          <listitem>
            <simpara>
Execution of "<literal>sudo tune2fs -j /dev/hda1</literal>" will add journaling capability to the filesystem, i.e. filesystem conversion from <ulink url="&extc;">ext2</ulink> to <ulink url="&extd;">ext3</ulink> on "<literal>/dev/hda1</literal>".  (Do this on the unmounted filesystem.)
</simpara>
          </listitem>
          <listitem>
            <simpara>
Execution of "<literal>sudo tune2fs -O extents,uninit_bg,dir_index /dev/hda1 &amp;&amp; fsck -pf /dev/hda1</literal>" will convert it from <ulink url="&extd;">ext3</ulink> to <ulink url="&exte;">ext4</ulink> on "<literal>/dev/hda1</literal>".  (Do this on the unmounted filesystem.)
</simpara>
          </listitem>
        </itemizedlist>
        <warning>
          <simpara>Filesystem conversion for the boot device to the <ulink url="&exte;">ext4</ulink> filesystem should be avoided until <ulink url="&grubbootloadersutefilesystemwell;">GRUB boot loader supports the ext4 filesystem well</ulink> and installed Linux Kernel version is newer than 2.6.30.</simpara>
        </warning>
        <tip>
          <simpara>Despite its name, <literal>tune2fs</literal>(8) works not only on the <ulink url="&extc;">ext2</ulink> filesystem but also on the <ulink url="&extd;">ext3</ulink> and <ulink url="&exte;">ext4</ulink> filesystems.</simpara>
        </tip>
      </section>
      <section id="_optimization_of_hard_disk">
        <title>Optimization of hard disk</title>
        <warning>
          <simpara>Please check your hardware and read manpage of <literal>hdparam</literal>(8) before playing with hard disk configuration because this may be quite dangerous for the data integrity.</simpara>
        </warning>
        <simpara>You can test disk access speed of a hard disk, e.g. "<literal>/dev/hda</literal>", by "<literal>hdparm -tT /dev/hda</literal>". For some hard disk connected with (E)IDE, you can speed it up with "<literal>hdparm -q -c3 -d1 -u1 -m16 /dev/hda</literal>" by enabling the "(E)IDE 32-bit I/O support", enabling the "using_dma flag", setting "interrupt-unmask flag", and setting the "multiple 16 sector I/O" (dangerous!).</simpara>
        <simpara>You can test write cache feature of a hard disk, e.g. "<literal>/dev/sda</literal>", by "<literal>hdparm -W /dev/sda</literal>". You can disable its write cache feature with "<literal>hdparm -W 0 /dev/sda</literal>".</simpara>
        <simpara>You may be able to read badly pressed CDROMs on modern high spead CD-ROM drive by slowing it down with "<literal>setcd -x 2</literal>.</simpara>
      </section>
      <section id="_using_smart_to_predict_hard_disk_failure">
        <title>Using SMART to predict hard disk failure</title>
        <simpara>You can monitor and log your hard disk which is compliant to <ulink url="&smart;">SMART</ulink> with the <literal>smartd</literal>(8) daemon.</simpara>
        <orderedlist>
          <listitem>
            <simpara>
Enable <ulink url="&smart;">SMART</ulink> feature in <ulink url="&bios;">BIOS</ulink>.
</simpara>
          </listitem>
          <listitem>
            <simpara>
Install the <literal>smartmontools</literal> package.
</simpara>
          </listitem>
          <listitem>
            <simpara>
Identify your hard disk drives by listing them with <literal>df</literal>(1).
</simpara>
            <itemizedlist>
              <listitem>
                <simpara>
Let's assume a hard disk drive to be monitored as "<literal>/dev/hda</literal>".
</simpara>
              </listitem>
            </itemizedlist>
          </listitem>
          <listitem>
            <simpara>
Check the output of "<literal>smartctl -a /dev/hda</literal>" to see if <ulink url="&smart;">SMART</ulink> feature is actually enabled.
</simpara>
            <itemizedlist>
              <listitem>
                <simpara>
If not, enable it by "<literal>smartctl -s on -a /dev/hda</literal>".
</simpara>
              </listitem>
            </itemizedlist>
          </listitem>
          <listitem>
            <simpara>
Enable <literal>smartd</literal>(8) daemon to run by the following.
</simpara>
            <itemizedlist>
              <listitem>
                <simpara>
uncomment "<literal>start_smartd=yes</literal>" in the "<literal>/etc/default/smartmontools</literal>" file.
</simpara>
              </listitem>
              <listitem>
                <simpara>
restart the <literal>smartd</literal>(8) daemon by "<literal>sudo /etc/init.d/smartmontools restart</literal>".
</simpara>
              </listitem>
            </itemizedlist>
          </listitem>
        </orderedlist>
        <tip>
          <simpara>The <literal>smartd</literal>(8) daemon can be customized with the <literal>/etc/smartd.conf</literal> file including how to be notified of warnings.</simpara>
        </tip>
      </section>
      <section id="_expansion_of_usable_storage_space_via_lvm">
        <title>Expansion of usable storage space via LVM</title>
        <simpara>For partitions created on <ulink url="&logicalvolumemanagerlvm;">Logical Volume Manager (LVM)</ulink> (Linux feature) at install time, they can be resized easily by concatenating extents onto them or truncating extents from them over multiple storage devices without major system reconfiguration.</simpara>
        <caution>
          <simpara>Deployment of the current LVM system may degrade guarantee against filesystem corruption offered by journaled filesystems such as ext3fs unless their system performance is sacrificed by disabling write cache of hard disk.</simpara>
        </caution>
      </section>
      <section id="_expansion_of_usable_storage_space_by_mounting_another_partition">
        <title>Expansion of usable storage space by mounting another partition</title>
        <simpara>If you have an empty partition (e.g., "<literal>/dev/sdx</literal>"), you can format it with <literal>mkfs.ext3</literal>(1) and <literal>mount</literal>(8) it to a directory where you need more space. (You need to copy original data contents.)</simpara>
        <screen>$ sudo mv work-dir old-dir
$ sudo mkfs.ext3 /dev/sdx
$ sudo mount -t ext3 /dev/sdx work-dir
$ sudo cp -a old-dir/* work-dir
$ sudo rm -rf old-dir</screen>
        <tip>
          <simpara>You may alternatively mount an empty disk image file (see <xref linkend="_making_an_empty_disk_image_file"/>) as a loop device (see <xref linkend="_mounting_the_disk_image_file"/>).  The actual disk usage grows with the actual data stored.</simpara>
        </tip>
      </section>
      <section id="_expansion_of_usable_storage_space_using_symlink">
        <title>Expansion of usable storage space using symlink</title>
        <simpara>If you have an empty directory (e.g., "<literal>/path/to/emp-dir</literal>") in another partition with usable space, you can create a symlink to the directory with <literal>ln</literal>(8).</simpara>
        <screen>$ sudo mv work-dir old-dir
$ sudo mkdir -p /path/to/emp-dir
$ sudo ln -sf /path/to/emp-dir work-dir
$ sudo cp -a old-dir/* work-dir
$ sudo rm -rf old-dir</screen>
        <caution>
          <simpara>Some software may not function well with "symlink to a directory".</simpara>
        </caution>
      </section>
      <section id="_expansion_of_usable_storage_space_using_aufs">
        <title>Expansion of usable storage space using aufs</title>
        <simpara>If you have usable space in another partition (e.g., "<literal>/path/to/</literal>"), you can create a directory in it and stack that on to a directory where you need space with <ulink url="&aufs;">aufs</ulink>.</simpara>
        <screen>$ sudo mv work-dir old-dir
$ sudo mkdir -p /path/to/emp-dir
$ sudo mount -t aufs -o br:/path/to/emp-dir:old-dir none work-dir</screen>
        <caution>
          <simpara>Use of <ulink url="&aufs;">aufs</ulink> for long term data storage is not good idea since it is under development and its design change may introduce issues.</simpara>
        </caution>
        <tip>
          <simpara>In order to use <ulink url="&aufs;">aufs</ulink>, its utility package <literal>aufs-tools</literal> and kernel module package for <ulink url="&aufs;">aufs</ulink> such as <literal>aufs-modules-2.6-amd64</literal> need to be installed.</simpara>
        </tip>
        <tip>
          <simpara><ulink url="&aufs;">aufs</ulink> is used to provide writable root filesystem by many modern <ulink url="&livecd;">live CD</ulink> projects.</simpara>
        </tip>
      </section>
    </section>
    <section id="_data_encryption_tips">
      <title>Data encryption tips</title>
      <simpara>With physical access to your PC, anyone can easily gain root privilege and access all the files on your PC (see <xref linkend="_securing_the_root_password"/>).  This means that login password system can not secure your private and sensitive data against possible theft of your PC.  You must deploy data encryption technology to do it.  Although <ulink url="&gnuprivacyguard;">GNU privacy guard</ulink> (see <xref linkend="_data_security_infrastructure"/>) can encrypt files, it takes some user efforts.</simpara>
      <simpara><ulink url="&dmcrypt;">dm-crypt</ulink> and <ulink url="&ecryptfs;">eCryptfs</ulink> facilitates automatic data encryption natively via Linux kernel modules with minimal user efforts.</simpara>
      <table id="listofdataencryptionutilities" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>List of data encryption utilities</title>
        <tgroup cols="4">
          <colspec colwidth="20%*" align="left"/>
          <colspec colwidth="20%*" align="left"/>
          <colspec colwidth="20%*" align="left"/>
          <colspec colwidth="40%*" align="left"/>
          <thead>
            <row>
              <entry>
    package
    </entry>
              <entry>
    popcon
    </entry>
              <entry>
    size
    </entry>
              <entry>
    description
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/cryptsetup">
                <literal>cryptsetup</literal>
              </ulink> <ulink url="http://bugs.debian.org/cryptsetup">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=cryptsetup">&pop-cryptsetup;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/c/cryptsetup.html">&size-cryptsetup;</ulink></entry>
              <entry>
    utilities for encrypted block device (<ulink url="&dmcrypt;">dm-crypt</ulink> / <ulink url="&luks;">LUKS</ulink>)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/cryptmount">
                <literal>cryptmount</literal>
              </ulink> <ulink url="http://bugs.debian.org/cryptmount">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=cryptmount">&pop-cryptmount;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/c/cryptmount.html">&size-cryptmount;</ulink></entry>
              <entry>
    utilities for encrypted block device (<ulink url="&dmcrypt;">dm-crypt</ulink> / <ulink url="&luks;">LUKS</ulink>) with focus on mount/unmount by normal users
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/ecryptfs-utils">
                <literal>ecryptfs-utils</literal>
              </ulink> <ulink url="http://bugs.debian.org/ecryptfs-utils">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=ecryptfs-utils">&pop-ecryptfsutils;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/e/ecryptfs-utils.html">&size-ecryptfsutils;</ulink></entry>
              <entry>
    utilities for encrypted stacked filesystem (<ulink url="&ecryptfs;">eCryptfs</ulink>)
    </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <simpara><ulink url="&dmcrypt;">Dm-crypt</ulink> is a cryptographic filesystem using <ulink url="&devicemapper;">device-mapper</ulink>. <ulink url="&devicemapper;">Device-mapper</ulink> maps one block device to another.</simpara>
      <simpara><ulink url="&ecryptfs;">eCryptfs</ulink> is another cryptographic filesystem using stacked filesystem.  Stacked filesystem stacks itself on top of an existing directory of a mounted filesystem.</simpara>
      <caution>
        <simpara>Data encryption costs CPU time etc.  Please weigh its benefits and costs.</simpara>
      </caution>
      <note>
        <simpara>Entire Debian system can be installed on a encrypted disk by the <ulink url="&debianinstaller;">debian installer</ulink> (lenny or newer) using <ulink url="&dmcrypt;">dm-crypt</ulink>/<ulink url="&luks;">LUKS</ulink> and initramfs.</simpara>
      </note>
      <tip>
        <simpara>See <xref linkend="_data_security_infrastructure"/> for user space encryption utility: <ulink url="&gnuprivacyguard;">GNU Privacy Guard</ulink>.</simpara>
      </tip>
      <section id="_removable_disk_encryption_with_dm_crypt_luks">
        <title>Removable disk encryption with dm-crypt/LUKS</title>
        <simpara>You can encrypt contents of removable mass devices, e.g. USB memory stick on "<literal>/dev/sdx</literal>", using <ulink url="&dmcrypt;">dm-crypt</ulink>/<ulink url="&luks;">LUKS</ulink>.  You simply formatting it as the following.</simpara>
        <screen># badblocks -c 10240 -s -w -t random -v /dev/sdx
# shred -v -n 1 /dev/sdx
# fdisk /dev/sdx
... "n" "p" "1" "return" "return" "w"
# cryptsetup luksFormat /dev/sdx1
...
# cryptsetup luksOpen /dev/sdx1 sdx1
...
# ls -l /dev/mapper/
total 0
crw-rw---- 1 root root  10, 60 2008-10-04 18:44 control
brw-rw---- 1 root disk 254,  0 2008-10-04 23:55 sdx1
# mkfs.vfat /dev/mapper/sdx1
...
# cryptsetup luksClose sdx1</screen>
        <simpara>Then, it can be mounted just like normal one on to "<literal>/media/&lt;disk_label&gt;</literal>", except for asking password (see <xref linkend="_removable_storage_device"/>) under modern desktop environment, such as GNOME using <literal>gnome-mount</literal>(1).  The difference is that every data written to it is encrypted.  You may alternatively format media in different file format, e.g., ext3 with "<literal>mkfs.ext3 /dev/sdx1</literal>".</simpara>
        <note>
          <simpara>If you are really paranoid for the security of data, you may need to overwrite multiple times in the above example.  This operation is very time consuming though.</simpara>
        </note>
      </section>
      <section id="_encrypted_swap_partition_with_dm_crypt">
        <title>Encrypted swap partition with dm-crypt</title>
        <simpara>Let's assume that your original "<literal>/etc/fstab</literal>" contains the following.</simpara>
        <screen>/dev/sda7 swap sw 0 0</screen>
        <simpara>You can enable encrypted swap partition using <ulink url="&dmcrypt;">dm-crypt</ulink> by as the following.</simpara>
        <screen># aptitude install cryptsetup
# swapoff -a
# echo "cswap /dev/sda7 /dev/urandom swap" &gt;&gt; /etc/crypttab
# perl -i -p -e "s/\/dev\/sda7/\/dev\/mapper\/cswap/" /etc/fstab
# /etc/init.d/cryptdisks restart
 ...
# swapon -a</screen>
      </section>
      <section id="_automatically_encrypting_files_with_ecryptfs">
        <title>Automatically encrypting files with eCryptfs</title>
        <simpara>You can encrypt files written under "<literal>~/Private/</literal>" automatically using <ulink url="&ecryptfs;">eCryptfs</ulink> and the <literal>ecryptfs-utils</literal> package.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
Run <literal>ecryptfs-setup-private</literal>(1) and set up "<literal>~/Private/</literal>" by following prompts.
</simpara>
          </listitem>
          <listitem>
            <simpara>
Activate "<literal>~/Private/</literal>" by running <literal>ecryptfs-mount-private</literal>(1).
</simpara>
          </listitem>
          <listitem>
            <simpara>
Move sensitive data files to "<literal>~/Private/</literal>" and make symlinks as needed.
</simpara>
            <itemizedlist>
              <listitem>
                <simpara>
Candidates: "<literal>~/.fetchmailrc</literal>", "<literal>~/.ssh/identity</literal>", "<literal>~/.ssh/id_rsa</literal>", "<literal>~/.ssh/id_dsa</literal>" and other files with "<literal>go-rwx</literal>"
</simpara>
              </listitem>
            </itemizedlist>
          </listitem>
          <listitem>
            <simpara>
Move sensitive data directories to a subdirectory in "<literal>~/Private/</literal>" and make symlinks as needed.
</simpara>
            <itemizedlist>
              <listitem>
                <simpara>
Candidates: "<literal>~/.gnupg</literal>" and other directories with "<literal>go-rwx</literal>"
</simpara>
              </listitem>
            </itemizedlist>
          </listitem>
          <listitem>
            <simpara>
Create symlink from "<literal>~/Desktop/Private/</literal>" to "<literal>~/Private/</literal>" for easier desktop operations.
</simpara>
          </listitem>
          <listitem>
            <simpara>
Deactivate "<literal>~/Private/</literal>" by running <literal>ecryptfs-umount-private</literal>(1).
</simpara>
          </listitem>
          <listitem>
            <simpara>
Activate "<literal>~/Private/</literal>" by issuing "<literal>ecryptfs-mount-private</literal>" as you need encrypted data.
</simpara>
          </listitem>
        </itemizedlist>
        <tip>
          <simpara>Since <ulink url="&ecryptfs;">eCryptfs</ulink> selectively encrypt only the sensitive files, its system cost is much less than using <ulink url="&dmcrypt;">dm-crypt</ulink> on the entire root or "<literal>/home</literal>" device.  It does not require any special on-disk storage allocation effort but cannot keep all filesystem metadata confidential.</simpara>
        </tip>
      </section>
      <section id="_automatically_mounting_ecryptfs">
        <title>Automatically mounting eCryptfs</title>
        <simpara>If you use your login password for wrapping encryption keys, you can automate mounting eCryptfs via
<ulink url="&pampluggableauthnticationmodules;">PAM (Pluggable Authentication Modules)</ulink>.</simpara>
        <simpara>Insert the following line just before "<literal>pam_permit.so</literal>" in "<literal>/etc/pam.d/common-auth</literal>".</simpara>
        <screen>auth required pam_ecryptfs.so unwrap</screen>
        <simpara>Insert the following line just at the last line in "<literal>/etc/pam.d/common-session</literal>".</simpara>
        <screen>session optional pam_ecryptfs.so unwrap</screen>
        <simpara>Insert the following line at first active line in "<literal>/etc/pam.d/common-password</literal>".</simpara>
        <screen>password required pam_ecryptfs.so</screen>
        <simpara>This is quite convienient.</simpara>
        <warning>
          <simpara>Configuration errors of <ulink url="&pam;">PAM</ulink> may lock you out of your own system. See <xref linkend="_authentication"/>.</simpara>
        </warning>
        <caution>
          <simpara>If you use your login password for wrapping encryption keys, your encrypted data are as secure as your user login password (see <xref linkend="_good_password"/>).  Unless you are careful to set up a <ulink url="&strongpassword;">strong password</ulink>, your data will be at risk when someone runs <ulink url="&passwordcracking;">password cracking</ulink> software after stealing your laptop (see <xref linkend="_securing_the_root_password"/>).</simpara>
        </caution>
      </section>
    </section>
    <section id="_monitoring_controlling_and_starting_program_activities">
      <title>Monitoring, controlling, and starting program activities</title>
      <simpara>Program activities can be monitored and controlled using specialized tools.</simpara>
      <table id="listoftoolsformorogramactivities" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>List of tools for monitoring and controlling program activities</title>
        <tgroup cols="4">
          <colspec colwidth="20%*" align="left"/>
          <colspec colwidth="20%*" align="left"/>
          <colspec colwidth="20%*" align="left"/>
          <colspec colwidth="40%*" align="left"/>
          <thead>
            <row>
              <entry>
    package
    </entry>
              <entry>
    popcon
    </entry>
              <entry>
    size
    </entry>
              <entry>
    description
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/time">
                <literal>time</literal>
              </ulink> <ulink url="http://bugs.debian.org/time">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=time">&pop-time;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/t/time.html">&size-time;</ulink></entry>
              <entry><literal>time</literal>(1): run a program to report system resource usages with respect to time
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/coreutils">
                <literal>coreutils</literal>
              </ulink> <ulink url="http://bugs.debian.org/coreutils">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=coreutils">&pop-coreutils;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/c/coreutils.html">&size-coreutils;</ulink></entry>
              <entry><literal>nice</literal>(1): run a program with modified scheduling priority
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/bsdutils">
                <literal>bsdutils</literal>
              </ulink> <ulink url="http://bugs.debian.org/bsdutils">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=bsdutils">&pop-bsdutils;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/b/bsdutils.html">&size-bsdutils;</ulink></entry>
              <entry><literal>renice</literal>(1): modify the scheduling priority of a running process
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/powertop">
                <literal>powertop</literal>
              </ulink> <ulink url="http://bugs.debian.org/powertop">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=powertop">&pop-powertop;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/p/powertop.html">&size-powertop;</ulink></entry>
              <entry><literal>powertop</literal>(1): information about system power use on Intel-based laptops
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/procps">
                <literal>procps</literal>
              </ulink> <ulink url="http://bugs.debian.org/procps">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=procps">&pop-procps;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/p/procps.html">&size-procps;</ulink></entry>
              <entry>
    "<literal>/proc</literal>" filesystem utilities: <literal>ps</literal>(1), <literal>top</literal>(1), <literal>kill</literal>(1), <literal>watch</literal>(1), …
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/psmisc">
                <literal>psmisc</literal>
              </ulink> <ulink url="http://bugs.debian.org/psmisc">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=psmisc">&pop-psmisc;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/p/psmisc.html">&size-psmisc;</ulink></entry>
              <entry>
    "<literal>/proc</literal>" filesystem utilities: <literal>killall</literal>(1), <literal>fuser</literal>(1), <literal>pstree</literal>(1)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/cron">
                <literal>cron</literal>
              </ulink> <ulink url="http://bugs.debian.org/cron">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=cron">&pop-cron;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/c/cron.html">&size-cron;</ulink></entry>
              <entry>
    run processes according to a schedule in background from <literal>cron</literal>(8) daemon
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/anacron">
                <literal>anacron</literal>
              </ulink> <ulink url="http://bugs.debian.org/anacron">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=anacron">&pop-anacron;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/a/anacron.html">&size-anacron;</ulink></entry>
              <entry>
    cron-like command scheduler for systems that don't run 24 hours a day
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/at">
                <literal>at</literal>
              </ulink> <ulink url="http://bugs.debian.org/at">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=at">&pop-at;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/a/at.html">&size-at;</ulink></entry>
              <entry><literal>at</literal>(1) or <literal>batch</literal>(1): run a job at a specified time or below certain load level
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/lsof">
                <literal>lsof</literal>
              </ulink> <ulink url="http://bugs.debian.org/lsof">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=lsof">&pop-lsof;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/l/lsof.html">&size-lsof;</ulink></entry>
              <entry><literal>lsof</literal>(8): list open files by a running process using "<literal>-p</literal>" option
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/strace">
                <literal>strace</literal>
              </ulink> <ulink url="http://bugs.debian.org/strace">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=strace">&pop-strace;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/s/strace.html">&size-strace;</ulink></entry>
              <entry><literal>strace</literal>(1): trace system calls and signals
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/ltrace">
                <literal>ltrace</literal>
              </ulink> <ulink url="http://bugs.debian.org/ltrace">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=ltrace">&pop-ltrace;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/l/ltrace.html">&size-ltrace;</ulink></entry>
              <entry><literal>ltrace</literal>(1): trace library calls
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/xtrace">
                <literal>xtrace</literal>
              </ulink> <ulink url="http://bugs.debian.org/xtrace">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=xtrace">&pop-xtrace;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/x/xtrace.html">&size-xtrace;</ulink></entry>
              <entry><literal>xtrace</literal>(1): trace communication between X11 client and server
    </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <section id="_timing_a_process">
        <title>Timing a process</title>
        <simpara>Display time used by the process invoked by the command.</simpara>
        <screen># time some_command &gt;/dev/null
real    0m0.035s       # time on wall clock (elapsed real time)
user    0m0.000s       # time in user mode
sys     0m0.020s       # time in kernel mode</screen>
      </section>
      <section id="_the_scheduling_priority">
        <title>The scheduling priority</title>
        <simpara>A nice value is used to control the scheduling priority for the process.</simpara>
        <table id="listofnicevalueshedulingpriority" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of nice values for the scheduling priority</title>
          <tgroup cols="2">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="70%*" align="left"/>
            <thead>
              <row>
                <entry>
    nice value
    </entry>
                <entry>
    scheduling priority
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
    19
    </entry>
                <entry>
    lowest priority process (nice)
    </entry>
              </row>
              <row>
                <entry>
    0
    </entry>
                <entry>
    very high priority process for user
    </entry>
              </row>
              <row>
                <entry>
    -20
    </entry>
                <entry>
    very high priority process for root (not-nice)
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <screen># nice  -19 top                                      # very nice
# nice --20 wodim -v -eject speed=2 dev=0,0 disk.img # very fast</screen>
        <simpara>Sometimes an extreme nice value does more harm than good to the system.  Use this command carefully.</simpara>
      </section>
      <section id="_the_ps_command">
        <title>The ps command</title>
        <simpara>The <literal>ps</literal>(1) command on the Debian support both BSD and SystemV features and helps to identify the process activity statically.</simpara>
        <table id="listofpscommandstyles" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of ps command styles</title>
          <tgroup cols="3">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="40%*" align="left"/>
            <thead>
              <row>
                <entry>
    style
    </entry>
                <entry>
    typical command
    </entry>
                <entry>
    feature
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
    BSD
    </entry>
                <entry>
                  <literal>ps aux</literal>
                </entry>
                <entry>
    display %CPU %MEM
    </entry>
              </row>
              <row>
                <entry>
    System V
    </entry>
                <entry>
                  <literal>ps -efH</literal>
                </entry>
                <entry>
    display PPID
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>For the zombie (defunct) children process, you can kill them by the parent process ID identified in the "<literal>PPID</literal>" field.</simpara>
        <simpara>The <literal>pstree</literal>(1) command display a tree of processes.</simpara>
      </section>
      <section id="_the_top_command">
        <title>The top command</title>
        <simpara><literal>top</literal>(1) on the Debian has rich features and helps to identify what process is acting funny dynamically.</simpara>
        <table id="listofcommandsfortop" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of commands for top</title>
          <tgroup cols="2">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="70%*" align="left"/>
            <thead>
              <row>
                <entry>
    command key
    </entry>
                <entry>
    description of response
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><literal>h</literal> or <literal>?</literal>
    </entry>
                <entry>
    show help
    </entry>
              </row>
              <row>
                <entry>
                  <literal>f</literal>
                </entry>
                <entry>
    set/reset display field
    </entry>
              </row>
              <row>
                <entry>
                  <literal>o</literal>
                </entry>
                <entry>
    reorder display field
    </entry>
              </row>
              <row>
                <entry>
                  <literal>F</literal>
                </entry>
                <entry>
    set sort key field
    </entry>
              </row>
              <row>
                <entry>
                  <literal>k</literal>
                </entry>
                <entry>
    kill a process
    </entry>
              </row>
              <row>
                <entry>
                  <literal>r</literal>
                </entry>
                <entry>
    renice a process
    </entry>
              </row>
              <row>
                <entry>
                  <literal>q</literal>
                </entry>
                <entry>
    quit the <literal>top</literal> command
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </section>
      <section id="_listing_files_opened_by_a_process">
        <title>Listing files opened by a process</title>
        <simpara>You can list all files opened by a process with a process ID (PID), e.g. 1, by the following.</simpara>
        <screen>$ sudo lsof -p 1</screen>
        <simpara>PID=1 is usually <literal>init</literal> program.</simpara>
      </section>
      <section id="_tracing_program_activities">
        <title>Tracing program activities</title>
        <simpara>You can trace program activity with <literal>strace</literal>(1), <literal>ltrace</literal>(1), or <literal>xtrace</literal>(1) for system calls and signals, library calls, or communication between X11 client and server.</simpara>
        <simpara>You can trace system calls of the <literal>ls</literal> command as the following.</simpara>
        <screen>$ sudo strace ls</screen>
      </section>
      <section id="_identification_of_processes_using_files_or_sockets">
        <title>Identification of processes using files or sockets</title>
        <simpara>You can also identify processes using files by <literal>fuser</literal>(1), e.g. for "<literal>/var/log/mail.log</literal>" by the following.</simpara>
        <screen>$ sudo fuser -v /var/log/mail.log
                     USER        PID ACCESS COMMAND
/var/log/mail.log:   root       2946 F.... syslogd</screen>
        <simpara>You see that file "<literal>/var/log/mail.log</literal>" is open for writing by the <literal>syslogd</literal>(8) command.</simpara>
        <simpara>You can also identify processes using sockets by <literal>fuser</literal>(1), e.g. for "<literal>smtp/tcp</literal>" by the following.</simpara>
        <screen>$ sudo fuser -v smtp/tcp
                     USER        PID ACCESS COMMAND
smtp/tcp:            Debian-exim   3379 F.... exim4</screen>
        <simpara>Now you know your system runs <literal>exim4</literal>(8) to handle <ulink url="&tcp;">TCP</ulink> connections to <ulink url="&smtp;">SMTP</ulink> port (25).</simpara>
      </section>
      <section id="_repeating_a_command_with_a_constant_interval">
        <title>Repeating a command with a constant interval</title>
        <simpara><literal>watch</literal>(1) executes a program repeatedly with a constant interval while showing its output in fullscreen.</simpara>
        <screen>$ watch w</screen>
        <simpara>This displays who is logged on to the system updated every 2 seconds.</simpara>
      </section>
      <section id="_repeating_a_command_looping_over_files">
        <title>Repeating a command looping over files</title>
        <simpara>There are several ways to repeat a command looping over files matching some condition, e.g. matching glob pattern "<literal>*.ext</literal>".</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
Shell for-loop method (see <xref linkend="_shell_loops"/>):
</simpara>
          </listitem>
        </itemizedlist>
        <screen>for x in *.ext; do if [ -f "$x"]; then command "$x" ; fi; done</screen>
        <itemizedlist>
          <listitem>
            <simpara><literal>find</literal>(1) and <literal>xargs</literal>(1) combination:
</simpara>
          </listitem>
        </itemizedlist>
        <screen>find . -type f -maxdepth 1 -name '*.ext' -print0 | xargs -0 -n 1 command</screen>
        <itemizedlist>
          <listitem>
            <simpara><literal>find</literal>(1) with "<literal>-exec</literal>" option with a command:
</simpara>
          </listitem>
        </itemizedlist>
        <screen>find . -type f -maxdepth 1 -name '*.ext' -exec command '{}' \;</screen>
        <itemizedlist>
          <listitem>
            <simpara><literal>find</literal>(1) with "<literal>-exec</literal>" option with a short shell script:
</simpara>
          </listitem>
        </itemizedlist>
        <screen>find . -type f -maxdepth 1 -name '*.ext' -exec sh -c "command '{}' &amp;&amp; echo 'successful'" \;</screen>
        <simpara>The above examples are written to ensure proper handling of funny file names such as ones containing spaces.  See <xref linkend="_idioms_for_the_selection_of_files"/> for more advance uses of <literal>find</literal>(1).</simpara>
      </section>
      <section id="_starting_a_program_from_gui">
        <title>Starting a program from GUI</title>
        <simpara>You can set up to start a process from <ulink url="&graphicaluserinterfacegui;">graphical user interface (GUI)</ulink>.</simpara>
        <simpara>Under GNOME desktop environment, a program can be started with proper argument by <emphasis role="strong">double-clicking</emphasis> the launcher icon, by <emphasis role="strong">drag-and-drop</emphasis> of a file icon to the launcher icon, or by "<emphasis role="strong">Open with …</emphasis>" menu via right clicking a file icon.  KDE can do the equivalent, too.</simpara>
        <simpara>Here is an example under GNOME to create a launcher icon for <literal>mc</literal>(1) started in <literal>gnome-terminal</literal>(1).</simpara>
        <simpara>Create an executable program "<literal>mc-term</literal>" by the following.</simpara>
        <screen># cat &gt;/usr/local/bin/mc-term &lt;&lt;EOF
#!/bin/sh
gnome-terminal -e "mc \$1"
EOF
# chmod 755 /usr/local/bin/mc-term</screen>
        <simpara>Create a desktop launcher as the following.</simpara>
        <orderedlist>
          <listitem>
            <simpara>
Right click desktop space to select "<literal>Create Launcher …</literal>".
</simpara>
          </listitem>
          <listitem>
            <simpara>
Set "Type" to "<literal>Application</literal>".
</simpara>
          </listitem>
          <listitem>
            <simpara>
Set "Name" to "<literal>mc</literal>".
</simpara>
          </listitem>
          <listitem>
            <simpara>
Set "Command" to "<literal>mc-term %f</literal>".
</simpara>
          </listitem>
          <listitem>
            <simpara>
Click "OK".
</simpara>
          </listitem>
        </orderedlist>
        <simpara>Create an open-with association as as the following.</simpara>
        <orderedlist>
          <listitem>
            <simpara>
Right click folder to select "<literal>Open with Other Application …</literal>".
</simpara>
          </listitem>
          <listitem>
            <simpara>
Click open "Use a custom command" dialog and enter "<literal>mc-term %f</literal>".
</simpara>
          </listitem>
          <listitem>
            <simpara>
Click "Open".
</simpara>
          </listitem>
        </orderedlist>
        <tip>
          <simpara>Launcher is a file at "<literal>~/Desktop</literal>" with "<literal>.desktop</literal>" as its extension.</simpara>
        </tip>
      </section>
      <section id="_customizing_program_to_be_started">
        <title>Customizing program to be started</title>
        <simpara>Some programs start another program automatically.  Here are check points for customizing this process.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
Application configuration menu:
</simpara>
            <itemizedlist>
              <listitem>
                <simpara>
GNOME desktop: "System" → "Preferences" → "Preferred Application"
</simpara>
              </listitem>
              <listitem>
                <simpara>
KDE desktop: "K" → "Control Center" → "KDE Components" → "Component Chooser"
</simpara>
              </listitem>
              <listitem>
                <simpara>
Iceweasle browser: "Edit" → "Preferences" → "Applications"
</simpara>
              </listitem>
              <listitem>
                <simpara><literal>mc</literal>(1): "<literal>/etc/mc/mc.ext</literal>"
</simpara>
              </listitem>
            </itemizedlist>
          </listitem>
          <listitem>
            <simpara>
Environment variables such as "<literal>$BROWSER</literal>", "<literal>$EDITOR</literal>", "<literal>$VISUAL</literal>", and "<literal>$PAGER</literal>" (see <literal>eviron</literal>(7))
</simpara>
          </listitem>
          <listitem>
            <simpara>
The <literal>update-alternatives</literal>(8) system for programs such as "<literal>editor</literal>", "<literal>view</literal>", "<literal>x-www-browser</literal>", "<literal>gnome-www-browser</literal>", and "<literal>www-browser</literal>" (see <xref linkend="_setting_a_default_text_editor"/>)
</simpara>
          </listitem>
          <listitem>
            <simpara>
the "<literal>~/.mailcap</literal>" and "<literal>/etc/mailcap</literal>" file contents which associate <ulink url="&mime;">MIME</ulink> type with program (see <literal>mailcap</literal>(5))
</simpara>
          </listitem>
          <listitem>
            <simpara>
The "<literal>~/.mime.types</literal>" and "<literal>/etc/mime.types</literal>" file contents which associate file name extension with <ulink url="&mime;">MIME</ulink> type (see <literal>run-mailcap</literal>(1))
</simpara>
          </listitem>
        </itemizedlist>
        <tip>
          <simpara><literal>update-mime</literal>(8) updates the "<literal>/etc/mailcap</literal>" file using "<literal>/etc/mailcap.order</literal>" file (see <literal>mailcap.order</literal>(5)).</simpara>
        </tip>
        <tip>
          <simpara>The <literal>debianutils</literal> package provides <literal>sensible-browser</literal>(1), <literal>sensible-editor</literal>(1), and <literal>sensible-pager</literal>(1) which make sensible decisions on which editor, pager, and web browser to call, respectively.  I recommend you to read these shell scripts.</simpara>
        </tip>
        <tip>
          <simpara>In order to run a console application such as <literal>mutt</literal> under X as your preferred application, you should create an X application as following and set "<literal>/usr/local/bin/mutt-term</literal>" as your preferred application to be started as described.</simpara>
        </tip>
        <screen># cat /usr/local/bin/mutt-term &lt;&lt;EOF
#!/bin/sh
gnome-terminal -e "mutt \$@"
EOF
chmod 755 /usr/local/bin/mutt-term</screen>
      </section>
      <section id="_killing_a_process">
        <title>Killing a process</title>
        <simpara>Use <literal>kill</literal>(1) to kill (or send a signal to) a process by the process ID.</simpara>
        <simpara>Use <literal>killall</literal>(1) or <literal>pkill</literal>(1) to do the same by the process command name and other attributes.</simpara>
        <table id="listoffrequentlylsforkillcommand" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of frequently used signals for kill command</title>
          <tgroup cols="3">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="40%*" align="left"/>
            <thead>
              <row>
                <entry>
    signal value
    </entry>
                <entry>
    signal name
    </entry>
                <entry>
    function
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
    1
    </entry>
                <entry>
    HUP
    </entry>
                <entry>
    restart daemon
    </entry>
              </row>
              <row>
                <entry>
    15
    </entry>
                <entry>
    TERM
    </entry>
                <entry>
    normal kill
    </entry>
              </row>
              <row>
                <entry>
    9
    </entry>
                <entry>
    KILL
    </entry>
                <entry>
    kill hard
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </section>
      <section id="_scheduling_tasks_once">
        <title>Scheduling tasks once</title>
        <simpara>Run the <literal>at</literal>(1) command to schedule a one-time job by the following.</simpara>
        <screen>$ echo 'command -args'| at 3:40 monday</screen>
      </section>
      <section id="_scheduling_tasks_regularly">
        <title>Scheduling tasks regularly</title>
        <simpara>Use <literal>cron</literal>(8) to schedule tasks regularly.  See <literal>crontab</literal>(1) and <literal>crontab</literal>(5).</simpara>
        <simpara>If you are a member of <literal>crontab</literal> group, you can schedule to run processes as a normal user, e.g. <literal>foo</literal> by creating a <literal>crontab</literal>(5) file as "<literal>/var/spool/cron/crontabs/foo</literal>" with "<literal>crontab -e</literal>" command.</simpara>
        <simpara>Here is an example of a <literal>crontab</literal>(5) file.</simpara>
        <screen># use /bin/sh to run commands, no matter what /etc/passwd says
SHELL=/bin/sh
# mail any output to paul, no matter whose crontab this is
MAILTO=paul
# Min Hour DayOfMonth Month DayOfWeek command (Day... are OR'ed)
# run at 00:05, every day
5  0  *  * *   $HOME/bin/daily.job &gt;&gt; $HOME/tmp/out 2&gt;&amp;1
# run at 14:15 on the first of every month -- output mailed to paul
15 14 1  * *   $HOME/bin/monthly
# run at 22:00 on weekdays(1-5), annoy Joe. % for newline, last % for cc:
0 22 *   * 1-5 mail -s "It's 10pm" joe%Joe,%%Where are your kids?%.%%
23 */2 1 2 *   echo "run 23 minutes after 0am, 2am, 4am ..., on Feb 1"
5  4 *   * sun echo "run at 04:05 every sunday"
# run at 03:40 on the first Monday of each month
40 3 1-7 * *   [ "$(date +%a)" == "Mon" ] &amp;&amp; command -args</screen>
        <tip>
          <simpara>For the system not running continuously, install the <literal>anacron</literal> package to schedule periodic commands at the specified intervals as closely as machine-uptime permits.  See <literal>anacron</literal>(8) and <literal>anacrontab</literal>(5).</simpara>
        </tip>
        <tip>
          <simpara>For scheduled system maintenance scripts, you can run them periodically from root account by placing such scripts in "<literal>/etc/cron.hourly/</literal>", "<literal>/etc/cron.daily/</literal>", "<literal>/etc/cron.weekly/</literal>", or "<literal>/etc/cron.monthly/</literal>".  Execution timings of these scripts can be customized by "<literal>/etc/crontab</literal>" and "<literal>/etc/anacrontab</literal>".</simpara>
        </tip>
      </section>
      <section id="_alt_sysrq_key">
        <title>Alt-SysRq key</title>
        <simpara>Insurance against system malfunction is provided by the kernel compile option "Magic SysRq key" (<ulink url="&sak;">SAK</ulink> key) which is now the default for the Debian kernel.  Pressing Alt-SysRq followed by one of the following keys does the magic of rescuing control of the system.</simpara>
        <table id="listofsakcommandkeys" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of SAK command keys</title>
          <tgroup cols="2">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="70%*" align="left"/>
            <thead>
              <row>
                <entry>
    key following Alt-SysRq
    </entry>
                <entry>
    description of action
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>r</literal>
                </entry>
                <entry>
    restore the keyboard from <emphasis role="strong">r</emphasis>aw mode after X crashes
    </entry>
              </row>
              <row>
                <entry>
                  <literal>0</literal>
                </entry>
                <entry>
    change the console loglevel to <emphasis role="strong">0</emphasis> to reduce error messages
    </entry>
              </row>
              <row>
                <entry>
                  <literal>k</literal>
                </entry>
                <entry><emphasis role="strong">k</emphasis>ill all processes on the <emphasis role="strong">current virtual console</emphasis></entry>
              </row>
              <row>
                <entry>
                  <literal>e</literal>
                </entry>
                <entry>
    send a SIGT<emphasis role="strong">E</emphasis>RM to all processes, except for <literal>init</literal>(8)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>i</literal>
                </entry>
                <entry>
    send a SIGK<emphasis role="strong">I</emphasis>LL to all processes, except for <literal>init</literal>(8)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>s</literal>
                </entry>
                <entry><emphasis role="strong">s</emphasis>ync all mounted filesystems
    </entry>
              </row>
              <row>
                <entry>
                  <literal>u</literal>
                </entry>
                <entry>
    remount all mounted filesystems read-only (<emphasis role="strong">u</emphasis>mount)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>b</literal>
                </entry>
                <entry>
    re<emphasis role="strong">b</emphasis>oot the system without syncing or unmounting
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>The combination of "Alt-SysRq s", "Alt-SysRq u", and "Alt-SysRq r" is good for getting out of really bad situations.</simpara>
        <simpara>See "<literal>/usr/share/doc/linux-doc-2.6.*/Documentation/sysrq.txt.gz</literal>".</simpara>
        <caution>
          <simpara>The Alt-SysRq feature may be considered a security risk by allowing users access to root-privileged functions.  Placing "<literal>echo 0 &gt;/proc/sys/kernel/sysrq</literal>" in "<literal>/etc/rc.local</literal>" or "<literal>kernel.sysrq = 0</literal>" in "<literal>/etc/sysctl.conf</literal>" will disable the Alt-SysRq feature.</simpara>
        </caution>
        <tip>
          <simpara>From SSH terminal etc., you can use the Alt-SysRq feature by writing to the "<literal>/proc/sysrq-trigger</literal>". For example, "<literal>echo s &gt; /proc/sysrq-trigger; echo u &gt; /proc/sysrq-trigger</literal>" from the root shell prompt will <emphasis role="strong">s</emphasis>ync and <emphasis role="strong">u</emphasis>mount all mounted filesystems.</simpara>
        </tip>
      </section>
    </section>
    <section id="_system_maintenance_tips">
      <title>System maintenance tips</title>
      <section id="_who_is_on_the_system">
        <title>Who is on the system?</title>
        <simpara>You can check who is on the system by the following.</simpara>
        <itemizedlist>
          <listitem>
            <simpara><literal>who</literal>(1)   shows who is logged on.
</simpara>
          </listitem>
          <listitem>
            <simpara><literal>w</literal>(1)     shows who is logged on and what they are doing.
</simpara>
          </listitem>
          <listitem>
            <simpara><literal>last</literal>(1)  shows listing of last logged in user.
</simpara>
          </listitem>
          <listitem>
            <simpara><literal>lastb</literal>(1) shows listing of last bad logged in users.
</simpara>
          </listitem>
        </itemizedlist>
        <tip>
          <simpara>"<literal>/var/run/utmp</literal>", "<literal>/var/log/wtmp</literal>", and "<literal>/var/run/utmp</literal>" hold such user information.  See <literal>login</literal>(1) and <literal>utmp</literal>(5).</simpara>
        </tip>
      </section>
      <section id="_warning_everyone">
        <title>Warning everyone</title>
        <simpara>You can send message to everyone who is logged on to the system with <literal>wall</literal>(1) by the following.</simpara>
        <screen>$ echo "We are shutting down in 1 hour" | wall</screen>
      </section>
      <section id="_hardware_identification">
        <title>Hardware identification</title>
        <simpara>For the <ulink url="&pci;">PCI</ulink>-like devices (<ulink url="&agp;">AGP</ulink>, <ulink url="&pciexpress;">PCI-Express</ulink>, <ulink url="&cardbus;">CardBus</ulink>, <ulink url="&expresscard;">ExpressCard</ulink>, etc.), <literal>lspci</literal>(8) (probably with "<literal>-nn</literal>" option) is a good start for the hardware identification</simpara>
        <simpara>Alternatively, you can identify the hardware by reading contents of "<literal>/proc/bus/pci/devices</literal>" or browsing directory tree under "<literal>/sys/bus/pci</literal>" (see <xref linkend="_procfs_and_sysfs"/>).</simpara>
        <table id="listofhardwareidntificationtools" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of hardware identification tools</title>
          <tgroup cols="4">
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="40%*" align="left"/>
            <thead>
              <row>
                <entry>
    package
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    size
    </entry>
                <entry>
    description
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/pciutils">
                  <literal>pciutils</literal>
                </ulink> <ulink url="http://bugs.debian.org/pciutils">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=pciutils">&pop-pciutils;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/p/pciutils.html">&size-pciutils;</ulink></entry>
                <entry>
    Linux PCI Utilities: <literal>lspci</literal>(8)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/usbutils">
                  <literal>usbutils</literal>
                </ulink> <ulink url="http://bugs.debian.org/usbutils">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=usbutils">&pop-usbutils;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/u/usbutils.html">&size-usbutils;</ulink></entry>
                <entry>
    Linux USB utilities: <literal>lsusb</literal>(8)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/pcmciautils">
                  <literal>pcmciautils</literal>
                </ulink> <ulink url="http://bugs.debian.org/pcmciautils">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=pcmciautils">&pop-pcmciautils;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/p/pcmciautils.html">&size-pcmciautils;</ulink></entry>
                <entry>
    PCMCIA utilities for Linux 2.6: <literal>pccardctl</literal>(8)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/scsitools">
                  <literal>scsitools</literal>
                </ulink> <ulink url="http://bugs.debian.org/scsitools">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=scsitools">&pop-scsitools;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/s/scsitools.html">&size-scsitools;</ulink></entry>
                <entry>
    collection of tools for SCSI hardware management: <literal>lsscsi</literal>(8)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/pnputils">
                  <literal>pnputils</literal>
                </ulink> <ulink url="http://bugs.debian.org/pnputils">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=pnputils">&pop-pnputils;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/p/pnputils.html">&size-pnputils;</ulink></entry>
                <entry>
    Plug and Play BIOS utilities: <literal>lspnp</literal>(8)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/procinfo">
                  <literal>procinfo</literal>
                </ulink> <ulink url="http://bugs.debian.org/procinfo">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=procinfo">&pop-procinfo;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/p/procinfo.html">&size-procinfo;</ulink></entry>
                <entry>
    system information obtained from "<literal>/proc</literal>": <literal>lsdev</literal>(8)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/lshw">
                  <literal>lshw</literal>
                </ulink> <ulink url="http://bugs.debian.org/lshw">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=lshw">&pop-lshw;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/l/lshw.html">&size-lshw;</ulink></entry>
                <entry>
    information about hardware configuration: <literal>lshw</literal>(1)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/discover">
                  <literal>discover</literal>
                </ulink> <ulink url="http://bugs.debian.org/discover">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=discover">&pop-discover;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/d/discover.html">&size-discover;</ulink></entry>
                <entry>
    hardware identification system: <literal>discover</literal>(8)
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </section>
      <section id="_hardware_configuration">
        <title>Hardware configuration</title>
        <simpara>Although most of the hardware configuration on modern GUI desktop systems such as GNOME and KDE can be managed through accompanying GUI configuration tools, it is a good idea to know some basics methods to configure them.</simpara>
        <table id="listofhardwareconfigurationtools" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of hardware configuration tools</title>
          <tgroup cols="4">
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="40%*" align="left"/>
            <thead>
              <row>
                <entry>
    package
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    size
    </entry>
                <entry>
    description
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/hal">
                  <literal>hal</literal>
                </ulink> <ulink url="http://bugs.debian.org/hal">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=hal">&pop-hal;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/h/hal.html">&size-hal;</ulink></entry>
                <entry>
    Hardware Abstraction Layer: <literal>lshal</literal>(1)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/console-tools">
                  <literal>console-tools</literal>
                </ulink> <ulink url="http://bugs.debian.org/console-tools">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=console-tools">&pop-consoletools;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/c/console-tools.html">&size-consoletools;</ulink></entry>
                <entry>
    Linux console font and keytable utilities
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/x11-xserver-utils">
                  <literal>x11-xserver-utils</literal>
                </ulink> <ulink url="http://bugs.debian.org/x11-xserver-utils">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=x11-xserver-utils">&pop-xbbxserverutils;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/x/x11-xserver-utils.html">&size-xbbxserverutils;</ulink></entry>
                <entry>
    X server utilities: <literal>xset</literal>(1), <literal>xmodmap</literal>(1)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/acpid">
                  <literal>acpid</literal>
                </ulink> <ulink url="http://bugs.debian.org/acpid">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=acpid">&pop-acpid;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/a/acpid.html">&size-acpid;</ulink></entry>
                <entry>
    daemon to manage events delivered by the Advanced Configuration and Power Interface (ACPI)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/acpi">
                  <literal>acpi</literal>
                </ulink> <ulink url="http://bugs.debian.org/acpi">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=acpi">&pop-acpi;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/a/acpi.html">&size-acpi;</ulink></entry>
                <entry>
    utility to display information on ACPI devices
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/apmd">
                  <literal>apmd</literal>
                </ulink> <ulink url="http://bugs.debian.org/apmd">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=apmd">&pop-apmd;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/a/apmd.html">&size-apmd;</ulink></entry>
                <entry>
    daemon to manage events delivered by the Advanced Power Management (APM)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/powersaved">
                  <literal>powersaved</literal>
                </ulink> <ulink url="http://bugs.debian.org/powersaved">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=powersaved">&pop-powersaved;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/p/powersaved.html">&size-powersaved;</ulink></entry>
                <entry>
    power management daemon
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/noflushd">
                  <literal>noflushd</literal>
                </ulink> <ulink url="http://bugs.debian.org/noflushd">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=noflushd">&pop-noflushd;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/n/noflushd.html">&size-noflushd;</ulink></entry>
                <entry>
    daemon to allow idle hard disks to spin down
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/sleepd">
                  <literal>sleepd</literal>
                </ulink> <ulink url="http://bugs.debian.org/sleepd">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=sleepd">&pop-sleepd;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/s/sleepd.html">&size-sleepd;</ulink></entry>
                <entry>
    daemon to put a laptop to sleep during inactivity
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/hdparm">
                  <literal>hdparm</literal>
                </ulink> <ulink url="http://bugs.debian.org/hdparm">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=hdparm">&pop-hdparm;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/h/hdparm.html">&size-hdparm;</ulink></entry>
                <entry>
    hard disk access optimization (see <xref linkend="_optimization_of_hard_disk"/>)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/smartmontools">
                  <literal>smartmontools</literal>
                </ulink> <ulink url="http://bugs.debian.org/smartmontools">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=smartmontools">&pop-smartmontools;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/s/smartmontools.html">&size-smartmontools;</ulink></entry>
                <entry>
    control and monitor storage systems using <ulink url="&smart;">S.M.A.R.T.</ulink>
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/setserial">
                  <literal>setserial</literal>
                </ulink> <ulink url="http://bugs.debian.org/setserial">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=setserial">&pop-setserial;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/s/setserial.html">&size-setserial;</ulink></entry>
                <entry>
    collection of tools for serial port management
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/memtest86+">
                  <literal>memtest86+</literal>
                </ulink> <ulink url="http://bugs.debian.org/memtest86+">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=memtest86+">&pop-memtestig;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/m/memtest86+.html">&size-memtestig;</ulink></entry>
                <entry>
    collection of tools for memory hardware management
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/scsitools">
                  <literal>scsitools</literal>
                </ulink> <ulink url="http://bugs.debian.org/scsitools">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=scsitools">&pop-scsitools;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/s/scsitools.html">&size-scsitools;</ulink></entry>
                <entry>
    collection of tools for <ulink url="&scsi;">SCSI</ulink> hardware management
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/tpconfig">
                  <literal>tpconfig</literal>
                </ulink> <ulink url="http://bugs.debian.org/tpconfig">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=tpconfig">&pop-tpconfig;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/t/tpconfig.html">&size-tpconfig;</ulink></entry>
                <entry>
    utility to configure touchpad devices
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/setcd">
                  <literal>setcd</literal>
                </ulink> <ulink url="http://bugs.debian.org/setcd">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=setcd">&pop-setcd;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/s/setcd.html">&size-setcd;</ulink></entry>
                <entry>
    compact disc drive access optimization
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/big-cursor">
                  <literal>big-cursor</literal>
                </ulink> <ulink url="http://bugs.debian.org/big-cursor">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=big-cursor">&pop-bigcursor;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/b/big-cursor.html">&size-bigcursor;</ulink></entry>
                <entry>
    larger mouse cursors for X
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>Here, <ulink url="&acpi;">ACPI</ulink> is a newer framework for the power management system than <ulink url="&apm;">APM</ulink>.</simpara>
      </section>
      <section id="_system_and_hardware_time">
        <title>System and hardware time</title>
        <simpara>The following will set system and hardware time to MM/DD hh:mm, CCYY.</simpara>
        <screen># date MMDDhhmmCCYY
# hwclock --utc --systohc
# hwclock --show</screen>
        <simpara>Times are normally displayed in the local time on the Debian system but the hardware and system time usually use <ulink url="&utgmt;">UT(GMT)</ulink>.</simpara>
        <simpara>If the hardware (BIOS) time is set to UT, change the setting to "<literal>UTC=yes</literal>" in the "<literal>/etc/default/rcS</literal>".</simpara>
        <simpara>If you wish to update system time via network, consider to use the <ulink url="&ntp;">NTP</ulink> service with the packages such as <literal>ntp</literal>, <literal>ntpdate</literal>, and <literal>chrony</literal>.</simpara>
        <simpara>See the following.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
              <ulink url="&managingaccuratedateandtimehowto;">Managing Accurate Date and Time HOWTO</ulink>
            </simpara>
          </listitem>
          <listitem>
            <simpara>
              <ulink url="&ntppublicservicesproject;">NTP Public Services Project</ulink>
            </simpara>
          </listitem>
          <listitem>
            <simpara>
The <literal>ntp-doc</literal> package
</simpara>
          </listitem>
        </itemizedlist>
        <tip>
          <simpara><literal>ntptrace</literal>(8) in the <literal>ntp</literal> package can trace a chain of NTP servers back to the primary source.</simpara>
        </tip>
      </section>
      <section id="_the_terminal_configuration">
        <title>The terminal configuration</title>
        <simpara>There are several components to configure character console and <literal>ncurses</literal>(3) system features.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
The "<literal>/etc/terminfo/*/*</literal>" file (<literal>terminfo</literal>(5))
</simpara>
          </listitem>
          <listitem>
            <simpara>
The "<literal>$TERM</literal>" environment variable (<literal>term</literal>(7))
</simpara>
          </listitem>
          <listitem>
            <simpara><literal>setterm</literal>(1), <literal>stty</literal>(1), <literal>tic</literal>(1), and <literal>toe</literal>(1)
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>If the <literal>terminfo</literal> entry for <literal>xterm</literal> doesn't work with a non-Debian <literal>xterm</literal>, change your terminal type, "<literal>$TERM</literal>", from "<literal>xterm</literal>" to one of the feature-limited versions such as "<literal>xterm-r6</literal>" when you log in to a Debian system remotely.  See "<literal>/usr/share/doc/libncurses5/FAQ</literal>" for more.  "<literal>dumb</literal>" is the lowest common denominator for "<literal>$TERM</literal>".</simpara>
      </section>
      <section id="_the_sound_infrastructure">
        <title>The sound infrastructure</title>
        <simpara>Device drivers for sound cards for current Linux 2.6 are provided by <ulink url="&advancedlinuxsouarchitecturealsa;">Advanced Linux Sound Architecture (ALSA)</ulink>.  ALSA provides emulation mode for previous <ulink url="&opensoundsystemoss;">Open Sound System (OSS)</ulink> for compatibility.</simpara>
        <simpara>Run "<literal>dpkg-reconfigure linux-sound-base</literal>" to select the sound system to use ALSA via blacklisting of kernel modules. Unless you have very new sound hardware, udev infrastructure should configure your sound system.</simpara>
        <tip>
          <simpara>Use "<literal>cat /dev/urandom &gt; /dev/audio</literal>" or <literal>speaker-test</literal>(1) to test speaker. (^C to stop)</simpara>
        </tip>
        <tip>
          <simpara>If you can not get sound, your speaker may be connected to a muted output.  Modern sound system has many outputs.  <literal>alsamixer</literal>(1) in the <literal>alsa-utils</literal> package is useful to configure volume and mute settings.</simpara>
        </tip>
        <simpara>Application softwares may be configured not only to access sound devices directly but also to access them via some standardized sound server system.</simpara>
        <table id="listofsoundpackages" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of sound packages</title>
          <tgroup cols="4">
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="40%*" align="left"/>
            <thead>
              <row>
                <entry>
    package
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    size
    </entry>
                <entry>
    description
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/linux-sound-base">
                  <literal>linux-sound-base</literal>
                </ulink> <ulink url="http://bugs.debian.org/linux-sound-base">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=linux-sound-base">&pop-linuxsoundbase;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/l/linux-sound-base.html">&size-linuxsoundbase;</ulink></entry>
                <entry>
    base package for ALSA and OSS sound systems
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/alsa-base">
                  <literal>alsa-base</literal>
                </ulink> <ulink url="http://bugs.debian.org/alsa-base">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=alsa-base">&pop-alsabase;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/a/alsa-base.html">&size-alsabase;</ulink></entry>
                <entry>
    ALSA driver configuration files
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/alsa-utils">
                  <literal>alsa-utils</literal>
                </ulink> <ulink url="http://bugs.debian.org/alsa-utils">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=alsa-utils">&pop-alsautils;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/a/alsa-utils.html">&size-alsautils;</ulink></entry>
                <entry>
    utilities for configuring and using ALSA
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/oss-compat">
                  <literal>oss-compat</literal>
                </ulink> <ulink url="http://bugs.debian.org/oss-compat">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=oss-compat">&pop-osscompat;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/o/oss-compat.html">&size-osscompat;</ulink></entry>
                <entry>
    OSS compatibility under ALSA preventing "<literal>/dev/dsp not found</literal>" errors
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/esound-common">
                  <literal>esound-common</literal>
                </ulink> <ulink url="http://bugs.debian.org/esound-common">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=esound-common">&pop-esoundcommon;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/e/esound-common.html">&size-esoundcommon;</ulink></entry>
                <entry><ulink url="&enlightenedsounddaemonesd;">Enlightened Sound Daemon (ESD)</ulink> common (Enlightenment and GNOME)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/esound">
                  <literal>esound</literal>
                </ulink> <ulink url="http://bugs.debian.org/esound">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=esound">&pop-esound;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/e/esound.html">&size-esound;</ulink></entry>
                <entry><ulink url="&enlightenedsounddaemonesd;">Enlightened Sound Daemon (ESD)</ulink> server (Enlightenment and GNOME)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/esound-clients">
                  <literal>esound-clients</literal>
                </ulink> <ulink url="http://bugs.debian.org/esound-clients">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=esound-clients">&pop-esoundclients;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/e/esound-clients.html">&size-esoundclients;</ulink></entry>
                <entry><ulink url="&enlightenedsounddaemonesd;">Enlightened Sound Daemon (ESD)</ulink> client (Enlightenment and GNOME)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/libesd-alsa0">
                  <literal>libesd-alsa0</literal>
                </ulink> <ulink url="http://bugs.debian.org/libesd-alsa0">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=libesd-alsa0">&pop-libesdalsaa;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/libe/libesd-alsa0.html">&size-libesdalsaa;</ulink></entry>
                <entry><ulink url="&enlightenedsounddaemonesd;">Enlightened Sound Daemon (ESD)</ulink> library (Enlightenment and GNOME)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/libesd0">
                  <literal>libesd0</literal>
                </ulink> <ulink url="http://bugs.debian.org/libesd0">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=libesd0">&pop-libesda;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/libe/libesd0.html">&size-libesda;</ulink></entry>
                <entry><ulink url="&enlightenedsounddaemonesd;">Enlightened Sound Daemon (ESD)</ulink> library (Enlightenment and GNOME) - OSS
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/arts">
                  <literal>arts</literal>
                </ulink> <ulink url="http://bugs.debian.org/arts">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=arts">&pop-arts;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/a/arts.html">&size-arts;</ulink></entry>
                <entry><ulink url="&arts;">aRts</ulink> server (KDE)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/libarts1c2a">
                  <literal>libarts1c2a</literal>
                </ulink> <ulink url="http://bugs.debian.org/libarts1c2a">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=libarts1c2a">&pop-libartsbcca;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/liba/libarts1c2a.html">&size-libartsbcca;</ulink></entry>
                <entry><ulink url="&arts;">aRts</ulink> library (KDE)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/libartsc0">
                  <literal>libartsc0</literal>
                </ulink> <ulink url="http://bugs.debian.org/libartsc0">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=libartsc0">&pop-libartsca;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/liba/libartsc0.html">&size-libartsca;</ulink></entry>
                <entry><ulink url="&arts;">aRts</ulink> library (KDE)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/jackd">
                  <literal>jackd</literal>
                </ulink> <ulink url="http://bugs.debian.org/jackd">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=jackd">&pop-jackd;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/j/jackd.html">&size-jackd;</ulink></entry>
                <entry><ulink url="&jackaudioconnectionkitjack;">JACK Audio Connection Kit. (JACK)</ulink> server (low latency)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/libjack0">
                  <literal>libjack0</literal>
                </ulink> <ulink url="http://bugs.debian.org/libjack0">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=libjack0">&pop-libjacka;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/libj/libjack0.html">&size-libjacka;</ulink></entry>
                <entry><ulink url="&jackaudioconnectionkitjack;">JACK Audio Connection Kit. (JACK)</ulink> library (low latency)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/nas">
                  <literal>nas</literal>
                </ulink> <ulink url="http://bugs.debian.org/nas">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=nas">&pop-nas;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/n/nas.html">&size-nas;</ulink></entry>
                <entry><ulink url="&networkaudiosystemnas;">Network Audio System (NAS)</ulink> server
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/libaudio2">
                  <literal>libaudio2</literal>
                </ulink> <ulink url="http://bugs.debian.org/libaudio2">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=libaudio2">&pop-libaudioc;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/liba/libaudio2.html">&size-libaudioc;</ulink></entry>
                <entry><ulink url="&networkaudiosystemnas;">Network Audio System (NAS)</ulink>  library
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/pulseaudio">
                  <literal>pulseaudio</literal>
                </ulink> <ulink url="http://bugs.debian.org/pulseaudio">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=pulseaudio">&pop-pulseaudio;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/p/pulseaudio.html">&size-pulseaudio;</ulink></entry>
                <entry><ulink url="&pulseaudio;">PulseAudio</ulink> server, replacement for ESD
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/libpulse0">
                  <literal>libpulse0</literal>
                </ulink> <ulink url="http://bugs.debian.org/libpulse0">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=libpulse0">&pop-libpulsea;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/libp/libpulse0.html">&size-libpulsea;</ulink></entry>
                <entry><ulink url="&pulseaudio;">PulseAudio</ulink> client library, replacement for ESD
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/libgstreamer0.10-0">
                  <literal>libgstreamer0.10-0</literal>
                </ulink> <ulink url="http://bugs.debian.org/libgstreamer0.10-0">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=libgstreamer0.10-0">&pop-libgstreamerabaa;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/libg/libgstreamer0.10-0.html">&size-libgstreamerabaa;</ulink></entry>
                <entry><ulink url="&gstreamer;">GStreamer</ulink>: GNOME sound engine
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/libxine1">
                  <literal>libxine1</literal>
                </ulink> <ulink url="http://bugs.debian.org/libxine1">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=libxine1">&pop-libxineb;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/libx/libxine1.html">&size-libxineb;</ulink></entry>
                <entry><ulink url="&xine;">xine</ulink>: KDE older sound engine
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/libphonon4">
                  <literal>libphonon4</literal>
                </ulink> <ulink url="http://bugs.debian.org/libphonon4">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=libphonon4">&pop-libphonone;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/libp/libphonon4.html">&size-libphonone;</ulink></entry>
                <entry><ulink url="&phonon;">Phonon</ulink>: KDE new sound engine
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>There is usually a common sound engine for each popular desktop environment. Each sound engine used by the application can choose to connect to different sound servers.</simpara>
      </section>
      <section id="_disabling_the_screen_saver">
        <title>Disabling the screen saver</title>
        <simpara>For disabling the screen saver, use following commands.</simpara>
        <table id="listofcommandsfongthescreensaver" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of commands for disabling the screen saver</title>
          <tgroup cols="2">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="70%*" align="left"/>
            <thead>
              <row>
                <entry>
    environment
    </entry>
                <entry>
    command
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
    The Linux console
    </entry>
                <entry>
                  <literal>setterm -powersave off</literal>
                </entry>
              </row>
              <row>
                <entry>
    The X Window (turning off screensaver)
    </entry>
                <entry>
                  <literal>xset s off</literal>
                </entry>
              </row>
              <row>
                <entry>
    The X Window (disabling dpms)
    </entry>
                <entry>
                  <literal>xset -dpms</literal>
                </entry>
              </row>
              <row>
                <entry>
    The X Window (GUI configuration of screen saver)
    </entry>
                <entry>
                  <literal>xscreensaver-command -prefs</literal>
                </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </section>
      <section id="_disabling_beep_sounds">
        <title>Disabling beep sounds</title>
        <simpara>One can always unplug the PC speaker to disable beep sounds.  Removing <literal>pcspkr</literal> kernel module does this for you.</simpara>
        <simpara>The following will prevent the <literal>readline</literal>(3) program used by <literal>bash</literal>(1) to beep when encountering "<literal>\a</literal>" (ASCII=7).</simpara>
        <screen>$ echo "set bell-style none"&gt;&gt; ~/.inputrc</screen>
      </section>
      <section id="_memory_usage">
        <title>Memory usage</title>
        <simpara>The kernel boot message in the "<literal>/var/log/dmesg</literal>" contains the total exact size of available memory.</simpara>
        <simpara><literal>free</literal>(1) and <literal>top</literal>(1) display information on memory resources on the running system.</simpara>
        <screen>$ grep '\] Memory' /var/log/dmesg
[    0.004000] Memory: 990528k/1016784k available (1975k kernel code, 25868k reserved, 931k data, 296k init)
$ free -k
             total       used       free     shared    buffers     cached
Mem:        997184     976928      20256          0     129592     171932
-/+ buffers/cache:     675404     321780
Swap:      4545576          4    4545572</screen>
        <tip>
          <simpara>Do not worry about the large size of "<literal>used</literal>" and the small size of "<literal>free</literal>" in the "<literal>Mem:</literal>" line, but read the one under them (675404 and 321780 in the example below) and relax.</simpara>
        </tip>
        <simpara>For my MacBook with 1GB=1048576k DRAM (video system steals some of this), I see the following.</simpara>
        <table id="listofmemorysizesreported" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of memory sizes reported</title>
          <tgroup cols="2">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="70%*" align="left"/>
            <thead>
              <row>
                <entry>
    report
    </entry>
                <entry>
    size
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
    Total size in dmesg
    </entry>
                <entry>
    1016784k = 1GB - 31792k
    </entry>
              </row>
              <row>
                <entry>
    Free in dmesg
    </entry>
                <entry>
    990528k
    </entry>
              </row>
              <row>
                <entry>
    Total under shell
    </entry>
                <entry>
    997184k
    </entry>
              </row>
              <row>
                <entry>
    Free under shell
    </entry>
                <entry>
    20256k (but effectively 321780k)
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </section>
      <section id="_system_security_and_integrity_check">
        <title>System security and integrity check</title>
        <simpara>Poor system maintenance may expose your system to external exploitation.</simpara>
        <simpara>For system security and integrity check, you should start with the following.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
The <literal>debsums</literal> package, See <literal>debsums</literal>(1) and <xref linkend="_top_level_release_file_and_authenticity"/>.
</simpara>
          </listitem>
          <listitem>
            <simpara>
The <literal>chkrootkit</literal> package, See <literal>chkrootkit</literal>(1).
</simpara>
          </listitem>
          <listitem>
            <simpara>
The <literal>clamav</literal> package family, See <literal>clamscan</literal>(1) and <literal>freahclam</literal>(1).
</simpara>
          </listitem>
          <listitem>
            <simpara><ulink url="&debiansecurityfaq;">Debian security FAQ</ulink>.
</simpara>
          </listitem>
          <listitem>
            <simpara><ulink url="&securingdebianmanual;">Securing Debian Manual</ulink>.
</simpara>
          </listitem>
        </itemizedlist>
        <table id="listoftoolsforsyndintegritycheck" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of tools for system security and integrity check</title>
          <tgroup cols="4">
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="40%*" align="left"/>
            <thead>
              <row>
                <entry>
    package
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    size
    </entry>
                <entry>
    description
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/logcheck">
                  <literal>logcheck</literal>
                </ulink> <ulink url="http://bugs.debian.org/logcheck">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=logcheck">&pop-logcheck;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/l/logcheck.html">&size-logcheck;</ulink></entry>
                <entry>
    daemon to mail anomalies in the system logfiles to the administrator
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/debsums">
                  <literal>debsums</literal>
                </ulink> <ulink url="http://bugs.debian.org/debsums">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=debsums">&pop-debsums;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/d/debsums.html">&size-debsums;</ulink></entry>
                <entry>
    utility to verify installed package files against MD5 checksums
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/chkrootkit">
                  <literal>chkrootkit</literal>
                </ulink> <ulink url="http://bugs.debian.org/chkrootkit">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=chkrootkit">&pop-chkrootkit;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/c/chkrootkit.html">&size-chkrootkit;</ulink></entry>
                <entry><ulink url="&rootkit;">rootkit</ulink> detector
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/clamav">
                  <literal>clamav</literal>
                </ulink> <ulink url="http://bugs.debian.org/clamav">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=clamav">&pop-clamav;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/c/clamav.html">&size-clamav;</ulink></entry>
                <entry>
    anti-virus utility for Unix - command-line interface
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/tiger">
                  <literal>tiger</literal>
                </ulink> <ulink url="http://bugs.debian.org/tiger">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=tiger">&pop-tiger;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/t/tiger.html">&size-tiger;</ulink></entry>
                <entry>
    report system security vulnerabilities
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/tripwire">
                  <literal>tripwire</literal>
                </ulink> <ulink url="http://bugs.debian.org/tripwire">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=tripwire">&pop-tripwire;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/t/tripwire.html">&size-tripwire;</ulink></entry>
                <entry>
    file and directory integrity checker
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/john">
                  <literal>john</literal>
                </ulink> <ulink url="http://bugs.debian.org/john">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=john">&pop-john;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/j/john.html">&size-john;</ulink></entry>
                <entry>
    active password cracking tool
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/aide">
                  <literal>aide</literal>
                </ulink> <ulink url="http://bugs.debian.org/aide">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=aide">&pop-aide;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/a/aide.html">&size-aide;</ulink></entry>
                <entry>
    Advanced Intrusion Detection Environment - static binary
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/bastille">
                  <literal>bastille</literal>
                </ulink> <ulink url="http://bugs.debian.org/bastille">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=bastille">&pop-bastille;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/b/bastille.html">&size-bastille;</ulink></entry>
                <entry>
    security hardening tool
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/integrit">
                  <literal>integrit</literal>
                </ulink> <ulink url="http://bugs.debian.org/integrit">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=integrit">&pop-integrit;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/i/integrit.html">&size-integrit;</ulink></entry>
                <entry>
    file integrity verification program
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/crack">
                  <literal>crack</literal>
                </ulink> <ulink url="http://bugs.debian.org/crack">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=crack">&pop-crack;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/c/crack.html">&size-crack;</ulink></entry>
                <entry>
    password guessing program
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>Here is a simple script to check for typical world writable incorrect file permissions.</simpara>
        <screen># find / -perm 777 -a \! -type s -a \! -type l -a \! \( -type d -a -perm 1777 \)</screen>
        <caution>
          <simpara>Since the <literal>debsums</literal> package uses <ulink url="&mdf;">MD5</ulink> checksums stored locally, it can not be fully trusted as the system security audit tool against malicious attacks.</simpara>
        </caution>
      </section>
    </section>
    <section id="_the_kernel">
      <title>The kernel</title>
      <simpara>Debian distributes modularized <ulink url="&linuxkernel;">Linux kernel</ulink> as packages for supported architectures.</simpara>
      <section id="_linux_kernel_2_6">
        <title>Linux kernel 2.6</title>
        <simpara>There are few notable features on Linux kernel 2.6 compared to 2.4.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
Devices are created by the udev system (see <xref linkend="_the_udev_system"/>).
</simpara>
          </listitem>
          <listitem>
            <simpara>
Read/write accesses to IDE CD/DVD devices do not use the <literal>ide-scsi</literal> module.
</simpara>
          </listitem>
          <listitem>
            <simpara>
Network packet filtering functions use <literal>iptable</literal> kernel modules.
</simpara>
          </listitem>
        </itemizedlist>
      </section>
      <section id="_kernel_headers">
        <title>Kernel headers</title>
        <simpara>Most <emphasis role="strong">normal programs</emphasis> don't need kernel headers and in fact may break if you use them directly for compiling. They should be compiled against the headers in "<literal>/usr/include/linux</literal>" and "<literal>/usr/include/asm</literal>" provided by the <literal>libc6-dev</literal> package (created from the <literal>glibc</literal> source package) on the Debian system.</simpara>
        <note>
          <simpara>For compiling some kernel-specific programs such as the kernel modules from the external source and the automounter daemon (<literal>amd</literal>), you must include path to the corresponding kernel headers, e.g. "<literal>-I/usr/src/linux-particular-version/include/</literal>", to your command line. <literal>module-assistant</literal>(8) (or its short form <literal>m-a</literal>) helps users to build and install module package(s) easily for one or more custom kernels.</simpara>
        </note>
      </section>
      <section id="_compiling_the_kernel_and_related_modules">
        <title>Compiling the kernel and related modules</title>
        <simpara>Debian has its own method of compiling the kernel and related modules.</simpara>
        <table id="listofkeypackagenthedebiansystem" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of key packages to be installed for the kernel recompilation on the Debian system</title>
          <tgroup cols="4">
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="40%*" align="left"/>
            <thead>
              <row>
                <entry>
    package
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    size
    </entry>
                <entry>
    description
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/build-essential">
                  <literal>build-essential</literal>
                </ulink> <ulink url="http://bugs.debian.org/build-essential">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=build-essential">&pop-buildessential;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/b/build-essential.html">&size-buildessential;</ulink></entry>
                <entry>
    essential packages for building Debian packages: <literal>make</literal>, <literal>gcc</literal>, …
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/bzip2">
                  <literal>bzip2</literal>
                </ulink> <ulink url="http://bugs.debian.org/bzip2">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=bzip2">&pop-bzipc;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/b/bzip2.html">&size-bzipc;</ulink></entry>
                <entry>
    compress and decompress utilities for bz2 files
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/libncurses5-dev">
                  <literal>libncurses5-dev</literal>
                </ulink> <ulink url="http://bugs.debian.org/libncurses5-dev">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=libncurses5-dev">&pop-libncursesfdev;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/libn/libncurses5-dev.html">&size-libncursesfdev;</ulink></entry>
                <entry>
    developer's libraries and docs for ncurses
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/git-core">
                  <literal>git-core</literal>
                </ulink> <ulink url="http://bugs.debian.org/git-core">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=git-core">&pop-gitcore;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/g/git-core.html">&size-gitcore;</ulink></entry>
                <entry>
    git: distributed revision control system used by the Linux kernel
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/fakeroot">
                  <literal>fakeroot</literal>
                </ulink> <ulink url="http://bugs.debian.org/fakeroot">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=fakeroot">&pop-fakeroot;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/f/fakeroot.html">&size-fakeroot;</ulink></entry>
                <entry>
    provide fakeroot environment for building package as non-root
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/initramfs-tools">
                  <literal>initramfs-tools</literal>
                </ulink> <ulink url="http://bugs.debian.org/initramfs-tools">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=initramfs-tools">&pop-initramfstools;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/i/initramfs-tools.html">&size-initramfstools;</ulink></entry>
                <entry>
    tool to build an initramfs (Debian specific)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/kernel-package">
                  <literal>kernel-package</literal>
                </ulink> <ulink url="http://bugs.debian.org/kernel-package">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=kernel-package">&pop-kernelpackage;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/k/kernel-package.html">&size-kernelpackage;</ulink></entry>
                <entry>
    tool to build Linux kernel packages (Debian specific)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/module-assistant">
                  <literal>module-assistant</literal>
                </ulink> <ulink url="http://bugs.debian.org/module-assistant">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=module-assistant">&pop-moduleassistant;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/m/module-assistant.html">&size-moduleassistant;</ulink></entry>
                <entry>
    tool to help build module packages (Debian specific)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/devscripts">
                  <literal>devscripts</literal>
                </ulink> <ulink url="http://bugs.debian.org/devscripts">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=devscripts">&pop-devscripts;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/d/devscripts.html">&size-devscripts;</ulink></entry>
                <entry>
    helper scripts for a Debian Package maintainer (Debian specific)
    </entry>
              </row>
              <row>
                <entry>
                  <literal>linux-tree-2.6.*</literal>
                </entry>
                <entry>
    N/A
    </entry>
                <entry>
    N/A
    </entry>
                <entry>
    Linux kernel source tree meta package (Debian specific)
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>If you use <literal>initrd</literal> in <xref linkend="_stage_2_the_boot_loader"/>, make sure to read the related information in <literal>initramfs-tools</literal>(8), <literal>update-initramfs</literal>(8), <literal>mkinitramfs</literal>(8) and <literal>initramfs.conf</literal>(5).</simpara>
        <warning>
          <simpara>Do not put symlinks to the directories in the source tree (e.g. "<literal>/usr/src/linux*</literal>") from "<literal>/usr/include/linux</literal>" and "<literal>/usr/include/asm</literal>" when compiling the Linux kernel source. (Some outdated documents suggest this.)</simpara>
        </warning>
        <note>
          <simpara>When compiling the latest Linux kernel on the Debian <literal>stable</literal> system, the use of backported latest tools from the Debian <literal>unstable</literal> may be needed.</simpara>
        </note>
      </section>
      <section id="_compiling_the_kernel_source_debian_standard_method">
        <title>Compiling the kernel source: Debian standard method</title>
        <simpara>The Debian standard method for compiling kernel source to create a custom kernel package uses <literal>make-kpkg</literal>(1). The official documentation is in (the bottom of) "<literal>/usr/share/doc/kernel-package/README.gz</literal>".  See <literal>kernel-pkg.conf</literal>(5) and <literal>kernel-img.conf</literal>(5) for customization.</simpara>
        <simpara>Here is an example for amd64 system.</simpara>
        <screen># aptitude install linux-tree-&lt;version&gt;
$ cd /usr/src
$ tar -xjvf linux-source-&lt;version&gt;.tar.bz2
$ cd linux-source-&lt;version&gt;
$ cp /boot/config-&lt;oldversion&gt; .config
$ make menuconfig
 ...
$ make-kpkg clean
$ fakeroot make-kpkg --append_to_version -amd64 --initrd --revision=rev.01 kernel_image modules_image
$ cd ..
# dpkg -i linux-image*.deb</screen>
        <simpara>Reboot to new kernel with "<literal>shutdown -r now</literal>".</simpara>
        <caution>
          <simpara>When you intend to create a non-modularized kernel compiled only for one machine, invoke <literal>make-kpkg</literal> without "<literal>--initrd</literal>" option since initrd is not used. Invocation of "<literal>make oldconfig</literal>" and "<literal>make dep</literal>" are not required since "<literal>make-kpkg kernel_image</literal>" invokes them.</simpara>
        </caution>
      </section>
      <section id="_compiling_the_module_source_debian_standard_method">
        <title>Compiling the module source: Debian standard method</title>
        <simpara>The Debian standard method for creating and installing a custom module package for a custom kernel package uses <literal>module-assistant</literal>(8) and module-source packages. For example, following will build the <literal>unionfs</literal> kernel module package and installs it.</simpara>
        <screen>$ sudo aptitude install module-assistant
...
$ sudo aptitude install unionfs-source unionfs-tools unionfs-utils
$ sudo m-a update
$ sudo m-a prepare
$ sudo m-a auto-install unionfs
...
$ sudo apt-get autoremove</screen>
      </section>
      <section id="_compiling_the_kernel_source_classic_method">
        <title>Compiling the kernel source: classic method</title>
        <simpara>You can still build <ulink url="&linuxkernelfromtepristinesources;">Linux kernel from the pristine sources</ulink> with the classic method.  You must take care the details of the system configuration manually.</simpara>
        <screen>$ cd /usr/src
$ wget http://www.kernel.org/pub/linux/kernel/v2.6/linux-&lt;version&gt;.tar.bz2
$ tar -xjvf linux-&lt;version&gt;.tar.bz2
$ cd linux-&lt;version&gt;
$ cp /boot/config-&lt;version&gt; .config
$ make menuconfig
 ...
$ make dep; make bzImage
$ make modules
# cp ./arch/x86_64/boot/bzImage /boot/vmlinuz-&lt;version&gt;
# make modules_install
# depmod -a
# update-initramfs -c -k &lt;version&gt;</screen>
        <simpara>Set up bootloader by the following.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
Edit "<literal>/etc/lilo.conf</literal>" and run "<literal>/sbin/lilo</literal>", if you use <literal>lilo</literal>.
</simpara>
          </listitem>
          <listitem>
            <simpara>
Edit "<literal>/boot/grub/menu.lst</literal>", if you use <literal>grub</literal>.
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>Reboot to new kernel with "<literal>shutdown -r now</literal>".</simpara>
      </section>
      <section id="_non_free_hardware_drivers">
        <title>Non-free hardware drivers</title>
        <simpara>Although most of hardware drivers are available as free software and as a part of the Debian system, you may need to load some non-free external drivers to support some hardwares, such as Winmodem, on your system.</simpara>
        <simpara>Check pertinent resources.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
              <ulink url="&httpenwikipediaorgwikisoftmodem;">http://en.wikipedia.org/wiki/Softmodem</ulink>
            </simpara>
          </listitem>
          <listitem>
            <simpara>
              <ulink url="&httpenwikipediaowireless_drivers;">http://en.wikipedia.org/wiki/Comparison_of_open_source_wireless_drivers</ulink>
            </simpara>
          </listitem>
          <listitem>
            <simpara><ulink url="&google;">Google</ulink> or other search engines with keyword "Linmodem".
</simpara>
          </listitem>
          <listitem>
            <simpara>
              <ulink url="&httpndiswrappersourceforgenet;">http://ndiswrapper.sourceforge.net</ulink>
            </simpara>
          </listitem>
          <listitem>
            <simpara>
              <ulink url="&httplinuxwirelessorg;">http://linuxwireless.org</ulink>
            </simpara>
          </listitem>
          <listitem>
            <simpara><ulink url="&httpmadwifiprojectorg;">http://madwifi-project.org</ulink> (there is ath5k which contains free drivers)
</simpara>
          </listitem>
        </itemizedlist>
      </section>
    </section>
    <section id="_virtualized_system">
      <title>Virtualized system</title>
      <simpara>Use of virtualized system enables us to run multiple instances of system simultaneously on a single hardware.</simpara>
      <section id="_virtualization_tools">
        <title>Virtualization tools</title>
        <simpara><ulink url="&virturization;">Virturization</ulink> involves 2 steps.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
Create filesystem populated with required package data
</simpara>
            <itemizedlist>
              <listitem>
                <simpara>
Programs such as <literal>debootstrap</literal> and <literal>cdebootstrap</literal> helps this process.
</simpara>
              </listitem>
            </itemizedlist>
          </listitem>
          <listitem>
            <simpara>
Run a program under virturized environment
</simpara>
            <itemizedlist>
              <listitem>
                <simpara>
Most basic method is provided by <ulink url="&chroot;">chroot</ulink>.
</simpara>
              </listitem>
            </itemizedlist>
          </listitem>
        </itemizedlist>
        <simpara>There are several system <ulink url="&virtualization;">virtualization</ulink> and <ulink url="&emulation;">emulation</ulink> related packages in Debian beyond simple <ulink url="&chroot;">chroot</ulink>.  Some packages also help you to setup such system.</simpara>
        <table id="listofvirtualizationtools" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of virtualization tools</title>
          <tgroup cols="4">
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="40%*" align="left"/>
            <thead>
              <row>
                <entry>
    package
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    size
    </entry>
                <entry>
    description
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/schroot">
                  <literal>schroot</literal>
                </ulink> <ulink url="http://bugs.debian.org/schroot">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=schroot">&pop-schroot;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/s/schroot.html">&size-schroot;</ulink></entry>
                <entry>
    specialized tool for executing Debian binary packages in chroot
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/sbuild">
                  <literal>sbuild</literal>
                </ulink> <ulink url="http://bugs.debian.org/sbuild">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=sbuild">&pop-sbuild;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/s/sbuild.html">&size-sbuild;</ulink></entry>
                <entry>
    tool for building Debian binary packages from Debian sources
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/pbuilder">
                  <literal>pbuilder</literal>
                </ulink> <ulink url="http://bugs.debian.org/pbuilder">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=pbuilder">&pop-pbuilder;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/p/pbuilder.html">&size-pbuilder;</ulink></entry>
                <entry>
    personal package builder for Debian packages
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/debootstrap">
                  <literal>debootstrap</literal>
                </ulink> <ulink url="http://bugs.debian.org/debootstrap">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=debootstrap">&pop-debootstrap;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/d/debootstrap.html">&size-debootstrap;</ulink></entry>
                <entry>
    bootstrap a basic Debian system (written in sh)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/cdebootstrap">
                  <literal>cdebootstrap</literal>
                </ulink> <ulink url="http://bugs.debian.org/cdebootstrap">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=cdebootstrap">&pop-cdebootstrap;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/c/cdebootstrap.html">&size-cdebootstrap;</ulink></entry>
                <entry>
    bootstrap a Debian system (written in C)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/rootstrap">
                  <literal>rootstrap</literal>
                </ulink> <ulink url="http://bugs.debian.org/rootstrap">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=rootstrap">&pop-rootstrap;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/r/rootstrap.html">&size-rootstrap;</ulink></entry>
                <entry>
    tool for building complete Linux filesystem images
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/user-mode-linux">
                  <literal>user-mode-linux</literal>
                </ulink> <ulink url="http://bugs.debian.org/user-mode-linux">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=user-mode-linux">&pop-usermodelinux;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/u/user-mode-linux.html">&size-usermodelinux;</ulink></entry>
                <entry><ulink url="&usermodelinux;">User-mode Linux</ulink> (kernel)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/xen-tools">
                  <literal>xen-tools</literal>
                </ulink> <ulink url="http://bugs.debian.org/xen-tools">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=xen-tools">&pop-xentools;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/x/xen-tools.html">&size-xentools;</ulink></entry>
                <entry>
    tools to manage debian <ulink url="&xen;">XEN</ulink> virtual server
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/bochs">
                  <literal>bochs</literal>
                </ulink> <ulink url="http://bugs.debian.org/bochs">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=bochs">&pop-bochs;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/b/bochs.html">&size-bochs;</ulink></entry>
                <entry><ulink url="&bochs;">Bochs</ulink>: IA-32 PC emulator
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/qemu">
                  <literal>qemu</literal>
                </ulink> <ulink url="http://bugs.debian.org/qemu">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=qemu">&pop-qemu;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/q/qemu.html">&size-qemu;</ulink></entry>
                <entry><ulink url="&qemu;">Qemu</ulink>: fast generic processor emulator
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/virtualbox-ose">
                  <literal>virtualbox-ose</literal>
                </ulink> <ulink url="http://bugs.debian.org/virtualbox-ose">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=virtualbox-ose">&pop-virtualboxose;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/v/virtualbox-ose.html">&size-virtualboxose;</ulink></entry>
                <entry><ulink url="&virtualbox;">VirtualBox</ulink>: x86 virtualization solution on i386 and amd64
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/wine">
                  <literal>wine</literal>
                </ulink> <ulink url="http://bugs.debian.org/wine">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=wine">&pop-wine;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/w/wine.html">&size-wine;</ulink></entry>
                <entry><ulink url="&wine;">Wine</ulink>: Windows API Implementation (standard suite)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/dosbox">
                  <literal>dosbox</literal>
                </ulink> <ulink url="http://bugs.debian.org/dosbox">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=dosbox">&pop-dosbox;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/d/dosbox.html">&size-dosbox;</ulink></entry>
                <entry><ulink url="&dosbox;">DOSBox</ulink>: x86 emulator with Tandy/Herc/CGA/EGA/VGA/SVGA graphics, sound and DOS
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/util-vserver">
                  <literal>util-vserver</literal>
                </ulink> <ulink url="http://bugs.debian.org/util-vserver">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=util-vserver">&pop-utilvserver;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/u/util-vserver.html">&size-utilvserver;</ulink></entry>
                <entry><ulink url="&linuxvserver;">Linux-VServer</ulink> virtual private servers - user-space tools
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/vzctl">
                  <literal>vzctl</literal>
                </ulink> <ulink url="http://bugs.debian.org/vzctl">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=vzctl">&pop-vzctl;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/v/vzctl.html">&size-vzctl;</ulink></entry>
                <entry><ulink url="&openvz;">OpenVZ</ulink> server virtualization solution - control tools
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/vzquota">
                  <literal>vzquota</literal>
                </ulink> <ulink url="http://bugs.debian.org/vzquota">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=vzquota">&pop-vzquota;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/v/vzquota.html">&size-vzquota;</ulink></entry>
                <entry><ulink url="&openvz;">OpenVZ</ulink> server virtualization solution - quota tools
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>See Wikipedia article <ulink url="&comparisonofvirtualmachines;">Comparison of virtual machines</ulink> for detail comparison of different virtualization solutions.</simpara>
      </section>
      <section id="_chroot_system">
        <title>Chroot system</title>
        <simpara><literal>chroot</literal>(8) offers most basic way to run different instances of the GNU/Linux environment on a single system simultaneously without rebooting.</simpara>
        <caution>
          <simpara>Examples below assumes both parent system and chroot system share the same CPU architecture.</simpara>
        </caution>
        <simpara>You can learn how to setup and use <literal>chroot</literal>(8) by running <literal>pbuilder</literal>(8) program under <literal>script</literal>(1) as follows.</simpara>
        <screen>$ sudo mkdir /sid-root
$ sudo pbuilder --create --no-targz --debug --buildplace /sid-root</screen>
        <simpara>You will see how <literal>debootstrap</literal>(8) or <literal>cdebootstrap</literal>(1) populate system data for <literal>sid</literal> environment under "<literal>/sid-root</literal>".</simpara>
        <tip>
          <simpara>These <literal>debootstrap</literal>(8) or <literal>cdebootstrap</literal>(1) are used to <ulink url="&installdebian;">install Debian</ulink> by the Debian Installer.  These can also be used to install Debian to a system without using a Debian install disk, but instead from another GNU/Linux distribution.</simpara>
        </tip>
        <screen>$ sudo pbuilder --login --no-targz  --debug --buildplace /sid-root</screen>
        <simpara>You will see how a system shell running under <literal>sid</literal> environment is created as the following.</simpara>
        <orderedlist>
          <listitem>
            <simpara>
Copy local configuration (<literal>"/etc/hosts</literal>", <literal>"/etc/hostname</literal>", <literal>"/etc/resolv.conf</literal>")
</simpara>
          </listitem>
          <listitem>
            <simpara>
Mount "<literal>/proc</literal>" filesystem
</simpara>
          </listitem>
          <listitem>
            <simpara>
Mount "<literal>/dev/pts</literal>" filesystem
</simpara>
          </listitem>
          <listitem>
            <simpara>
Create "<literal>/usr/sbin/policy-rc.d</literal>" which always exits with 101
</simpara>
          </listitem>
          <listitem>
            <simpara>
Run "<literal>chroot /sid-root bin/bash -c 'exec -a -bash bin/bash'</literal>"
</simpara>
          </listitem>
        </orderedlist>
        <note>
          <simpara>Some programs under chroot may require access to more files from the parent system to function than <literal>pbuilder</literal> provides.  For example, "<literal>/sys</literal>", "<literal>/etc/passwd</literal>", "<literal>/etc/group</literal>", "<literal>/var/run/utmp</literal>", "<literal>/var/log/wtmp</literal>", etc. may need to be bind-mounted or copied.</simpara>
        </note>
        <note>
          <simpara>The "<literal>/usr/sbin/policy-rc.d</literal>" file prevents daemon programs to be started automatically on Debian system.  See "<literal>/usr/share/doc/sysv-rc/README.policy-rc.d.gz</literal>".</simpara>
        </note>
        <tip>
          <simpara>The original purpose of the specialized chroot package, <literal>pbuilder</literal> is to construct a chroot system and builds a package inside the chroot.  It is an ideal system to use to check that a package's build-dependencies are correct, and to be sure that unnecessary and wrong build dependencies will not exist in the resulting package.</simpara>
        </tip>
        <tip>
          <simpara>Similar <literal>schroot</literal> package may give you an idea to run <literal>i386</literal> chroot system under <literal>amd64</literal> parent system.</simpara>
        </tip>
        <tip>
          <simpara>By installing a system into a separate partition using the installer of other distributions and using this system for <literal>chroot</literal>(8), you can run other distributions under <literal>chroot</literal>(8).</simpara>
        </tip>
      </section>
      <section id="_setting_up_login_for_chroot">
        <title>Setting up login for chroot</title>
        <simpara>You can run another login process on a separate virtual terminal where you can log in to the chroot system directly.  Since on default Debian systems <literal>tty1</literal> to <literal>tty6</literal> run Linux consoles and <literal>tty7</literal> runs the X Window System, let's set up <literal>tty8</literal> for a chrooted console as an example.  After creating a <literal>sid</literal> chroot system under "<literal>/sid-root</literal>" by following steps you learned from <literal>pbuilder</literal>(8), type from the root shell of the main system.</simpara>
        <screen>main # echo "8:23:respawn:/usr/sbin/chroot /sid-root /sbin/getty 38400 tty8"  &gt;&gt; /etc/inittab
main # init q</screen>
        <simpara>Reload <literal>init</literal>(8).</simpara>
      </section>
    </section>
  </chapter>
  <chapter id="_data_management">
    <title>Data management</title>
    <simpara>Tools and tips for managing binary and text data on the Debian system are described.</simpara>
    <section id="_sharing_copying_and_archiving">
      <title>Sharing, copying, and archiving</title>
      <simpara>The security of the data and its controlled sharing have several aspects.</simpara>
      <itemizedlist>
        <listitem>
          <simpara>
The creation of data archive
</simpara>
        </listitem>
        <listitem>
          <simpara>
The remote storage access
</simpara>
        </listitem>
        <listitem>
          <simpara>
The duplication
</simpara>
        </listitem>
        <listitem>
          <simpara>
The tracking of the modification history
</simpara>
        </listitem>
        <listitem>
          <simpara>
The facilitation of data sharing
</simpara>
        </listitem>
        <listitem>
          <simpara>
The prevention of unauthorized file access
</simpara>
        </listitem>
        <listitem>
          <simpara>
The detection of unauthorized file modification
</simpara>
        </listitem>
      </itemizedlist>
      <simpara>These can be realized by using some combination of tools.</simpara>
      <itemizedlist>
        <listitem>
          <simpara>
Archive and compression tools
</simpara>
        </listitem>
        <listitem>
          <simpara>
Copy and synchronization tools
</simpara>
        </listitem>
        <listitem>
          <simpara>
Network filesystems
</simpara>
        </listitem>
        <listitem>
          <simpara>
Removable storage media
</simpara>
        </listitem>
        <listitem>
          <simpara>
The secure shell
</simpara>
        </listitem>
        <listitem>
          <simpara>
The authentication system
</simpara>
        </listitem>
        <listitem>
          <simpara>
Version control system tools
</simpara>
        </listitem>
        <listitem>
          <simpara>
Hash and cryptographic encryption tools
</simpara>
        </listitem>
      </itemizedlist>
      <section id="_archive_and_compression_tools">
        <title>Archive and compression tools</title>
        <simpara>Here is a summary of archive and compression tools available on the Debian system.</simpara>
        <table id="listofarchiveandcompressiontools" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of archive and compression tools</title>
          <tgroup cols="6">
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="50%*" align="left"/>
            <thead>
              <row>
                <entry>
    package
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    size
    </entry>
                <entry>
    command
    </entry>
                <entry>
    extension
    </entry>
                <entry>
    comment
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/tar">
                  <literal>tar</literal>
                </ulink> <ulink url="http://bugs.debian.org/tar">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=tar">&pop-tar;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/t/tar.html">&size-tar;</ulink></entry>
                <entry><literal>tar</literal>(1)
    </entry>
                <entry>
                  <literal>.tar</literal>
                </entry>
                <entry>
    the standard archiver (de facto standard)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/cpio">
                  <literal>cpio</literal>
                </ulink> <ulink url="http://bugs.debian.org/cpio">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=cpio">&pop-cpio;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/c/cpio.html">&size-cpio;</ulink></entry>
                <entry><literal>cpio</literal>(1)
    </entry>
                <entry>
                  <literal>.cpio</literal>
                </entry>
                <entry>
    Unix System V style archiver, use with <literal>find</literal>(1)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/binutils">
                  <literal>binutils</literal>
                </ulink> <ulink url="http://bugs.debian.org/binutils">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=binutils">&pop-binutils;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/b/binutils.html">&size-binutils;</ulink></entry>
                <entry><literal>ar</literal>(1)
    </entry>
                <entry>
                  <literal>.ar</literal>
                </entry>
                <entry>
    archiver for the creation of static libraries
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/fastjar">
                  <literal>fastjar</literal>
                </ulink> <ulink url="http://bugs.debian.org/fastjar">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=fastjar">&pop-fastjar;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/f/fastjar.html">&size-fastjar;</ulink></entry>
                <entry><literal>fastjar</literal>(1)
    </entry>
                <entry>
                  <literal>.jar</literal>
                </entry>
                <entry>
    archiver for Java (zip like)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/pax">
                  <literal>pax</literal>
                </ulink> <ulink url="http://bugs.debian.org/pax">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=pax">&pop-pax;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/p/pax.html">&size-pax;</ulink></entry>
                <entry><literal>pax</literal>(1)
    </entry>
                <entry>
                  <literal>.pax</literal>
                </entry>
                <entry>
    new POSIX standard archiver, compromise between <literal>tar</literal> and <literal>cpio</literal>
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/afio">
                  <literal>afio</literal>
                </ulink> <ulink url="http://bugs.debian.org/afio">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=afio">&pop-afio;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/a/afio.html">&size-afio;</ulink></entry>
                <entry><literal>afio</literal>(1)
    </entry>
                <entry>
                  <literal>.afio</literal>
                </entry>
                <entry>
    extended <literal>cpio</literal> with per-file compression etc.
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/gzip">
                  <literal>gzip</literal>
                </ulink> <ulink url="http://bugs.debian.org/gzip">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=gzip">&pop-gzip;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/g/gzip.html">&size-gzip;</ulink></entry>
                <entry><literal>gzip</literal>(1), <literal>zcat</literal>(1), …
    </entry>
                <entry>
                  <literal>.gz</literal>
                </entry>
                <entry>
    GNU <ulink url="&lzhh;">LZ77</ulink> compression utility (de facto standard)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/bzip2">
                  <literal>bzip2</literal>
                </ulink> <ulink url="http://bugs.debian.org/bzip2">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=bzip2">&pop-bzipc;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/b/bzip2.html">&size-bzipc;</ulink></entry>
                <entry><literal>bzip2</literal>(1), <literal>bzcat</literal>(1), …
    </entry>
                <entry>
                  <literal>.bz2</literal>
                </entry>
                <entry><ulink url="&burrowswheelerblrtingcompression;">Burrows-Wheeler block-sorting compression</ulink> utility with higher compression ratio than <literal>gzip</literal>(1) (slower than <literal>gzip</literal> with similar syntax)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/lzma">
                  <literal>lzma</literal>
                </ulink> <ulink url="http://bugs.debian.org/lzma">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=lzma">&pop-lzma;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/l/lzma.html">&size-lzma;</ulink></entry>
                <entry><literal>lzma</literal>(1)
    </entry>
                <entry>
                  <literal>.lzma</literal>
                </entry>
                <entry><ulink url="&lzma;">LZMA</ulink> compression utility with higher compression ratio than <literal>gzip</literal>(1)  (slower than <literal>gzip</literal> with similar syntax)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/p7zip">
                  <literal>p7zip</literal>
                </ulink> <ulink url="http://bugs.debian.org/p7zip">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=p7zip">&pop-phzip;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/p/p7zip.html">&size-phzip;</ulink></entry>
                <entry><literal>7zr</literal>(1), <literal>p7zip</literal>(1)
    </entry>
                <entry>
                  <literal>.7z</literal>
                </entry>
                <entry><ulink url="&hzip;">7-Zip</ulink> file archiver with high compression ratio (<ulink url="&lzma;">LZMA</ulink> compression)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/p7zip-full">
                  <literal>p7zip-full</literal>
                </ulink> <ulink url="http://bugs.debian.org/p7zip-full">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=p7zip-full">&pop-phzipfull;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/p/p7zip-full.html">&size-phzipfull;</ulink></entry>
                <entry><literal>7z</literal>(1), <literal>7za</literal>(1)
    </entry>
                <entry>
                  <literal>.7z</literal>
                </entry>
                <entry><ulink url="&hzip;">7-Zip</ulink> file archiver with high compression ratio (<ulink url="&lzma;">LZMA</ulink> compression and others)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/lzop">
                  <literal>lzop</literal>
                </ulink> <ulink url="http://bugs.debian.org/lzop">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=lzop">&pop-lzop;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/l/lzop.html">&size-lzop;</ulink></entry>
                <entry><literal>lzop</literal>(1)
    </entry>
                <entry>
                  <literal>.lzo</literal>
                </entry>
                <entry><ulink url="&lzo;">LZO</ulink> compression utility with higher compression and decompression speed than <literal>gzip</literal>(1) (lower compression ratio than <literal>gzip</literal> with similar syntax)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/zip">
                  <literal>zip</literal>
                </ulink> <ulink url="http://bugs.debian.org/zip">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=zip">&pop-zip;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/z/zip.html">&size-zip;</ulink></entry>
                <entry><literal>zip</literal>(1)
    </entry>
                <entry>
                  <literal>.zip</literal>
                </entry>
                <entry><ulink url="&infozip;">InfoZIP</ulink>: DOS archive and compression tool
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/unzip">
                  <literal>unzip</literal>
                </ulink> <ulink url="http://bugs.debian.org/unzip">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=unzip">&pop-unzip;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/u/unzip.html">&size-unzip;</ulink></entry>
                <entry><literal>unzip</literal>(1)
    </entry>
                <entry>
                  <literal>.zip</literal>
                </entry>
                <entry><ulink url="&infozip;">InfoZIP</ulink>: DOS unarchive and decompression tool
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <warning>
          <simpara>Do not set the "<literal>$TAPE</literal>" variable unless you know what to expect.  It will change <literal>tar</literal>(1) behavior.</simpara>
        </warning>
        <note>
          <simpara>The gzipped <literal>tar</literal>(1) archive uses the file extension "<literal>.tgz</literal>" or <literal>".tar.gz</literal>".</simpara>
        </note>
        <note>
          <simpara><literal>cp</literal>(1), <literal>scp</literal>(1) and <literal>tar</literal>(1) may have some limitation for special files.  <literal>cpio</literal>(1) and <literal>afio</literal>(1) are most versatile.</simpara>
        </note>
        <note>
          <simpara><literal>cpio</literal>(1) and <literal>afio</literal>(1) are designed to be used with <literal>find</literal>(1) and other commands and suitable for creating backup scripts since the file selection part of the script can be tested independently.</simpara>
        </note>
        <note>
          <simpara><literal>afio</literal>(1) compresses each file in the archive.  This makes <literal>afio</literal> to be much safer for the file corruption than the globally compressed <literal>tar</literal> or <literal>cpio</literal> archives and to be <emphasis role="strong">the best archive engine</emphasis> for the backup script.</simpara>
        </note>
        <note>
          <simpara>Internal structure of OpenOffice data files are "<literal>.jar</literal>" file.</simpara>
        </note>
      </section>
      <section id="_copy_and_synchronization_tools">
        <title>Copy and synchronization tools</title>
        <simpara>Here is a summary of simple copy and backup tools available on the Debian system.</simpara>
        <table id="listofcopyandsynhronizationtools" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of copy and synchronization tools</title>
          <tgroup cols="5">
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="60%*" align="left"/>
            <thead>
              <row>
                <entry>
    package
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    size
    </entry>
                <entry>
    tool
    </entry>
                <entry>
    function
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/coreutils">
                  <literal>coreutils</literal>
                </ulink> <ulink url="http://bugs.debian.org/coreutils">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=coreutils">&pop-coreutils;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/c/coreutils.html">&size-coreutils;</ulink></entry>
                <entry>
    GNU cp
    </entry>
                <entry>
    locally copy files and directories ("-a" for recursive)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/openssh-client">
                  <literal>openssh-client</literal>
                </ulink> <ulink url="http://bugs.debian.org/openssh-client">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=openssh-client">&pop-opensshclient;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/o/openssh-client.html">&size-opensshclient;</ulink></entry>
                <entry>
    scp
    </entry>
                <entry>
    remotely copy files and directories (client, "<literal>-r</literal>" for recursive)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/openssh-server">
                  <literal>openssh-server</literal>
                </ulink> <ulink url="http://bugs.debian.org/openssh-server">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=openssh-server">&pop-opensshserver;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/o/openssh-server.html">&size-opensshserver;</ulink></entry>
                <entry>
    sshd
    </entry>
                <entry>
    remotely copy files and directories (remote server)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/rsync">
                  <literal>rsync</literal>
                </ulink> <ulink url="http://bugs.debian.org/rsync">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=rsync">&pop-rsync;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/r/rsync.html">&size-rsync;</ulink></entry>
                <entry>
    -
    </entry>
                <entry>
    1-way remote synchronization and backup
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/unison">
                  <literal>unison</literal>
                </ulink> <ulink url="http://bugs.debian.org/unison">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=unison">&pop-unison;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/u/unison.html">&size-unison;</ulink></entry>
                <entry>
    -
    </entry>
                <entry>
    2-way remote synchronization and backup
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/pdumpfs">
                  <literal>pdumpfs</literal>
                </ulink> <ulink url="http://bugs.debian.org/pdumpfs">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=pdumpfs">&pop-pdumpfs;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/p/pdumpfs.html">&size-pdumpfs;</ulink></entry>
                <entry>
    -
    </entry>
                <entry>
    daily local backup using hardlinks (similar to Plan9's <literal>dumpfs</literal>)
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <tip>
          <simpara>Execution of the <literal>bkup</literal> script mentioned in <xref linkend="_a_copy_script_for_the_data_backup"/> with the "<literal>-gl</literal>" option under <literal>cron</literal>(8) should provide very similar functionality as <literal>pdumpfs</literal> for the static data archive.</simpara>
        </tip>
        <tip>
          <simpara>Version control system (VCS) tools in <xref linkend="list-of-vcs"/> can function as the multi-way copy and synchronization tools.</simpara>
        </tip>
      </section>
      <section id="_idioms_for_the_archive">
        <title>Idioms for the archive</title>
        <simpara>Here are several ways to archive and unarchive the entire content of the directory "<literal>/source</literal>" using different tools.</simpara>
        <simpara>GNU <literal>tar</literal>(1):</simpara>
        <screen>$ tar cvzf archive.tar.gz /source
$ tar xvzf archive.tar.gz</screen>
        <simpara><literal>cpio</literal>(1):</simpara>
        <screen>$ find /source -xdev -print0 | cpio -ov --null &gt; archive.cpio; gzip archive.cpio
$ zcat archive.cpio.gz | cpio -i</screen>
        <simpara><literal>afio</literal>(1):</simpara>
        <screen>$ find /source -xdev -print0 | afio -ovZ0 archive.afio
$ afio -ivZ archive.afio</screen>
      </section>
      <section id="_idioms_for_the_copy">
        <title>Idioms for the copy</title>
        <simpara>Here are several ways to make the entire content of local or remote copies using different tools.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
Local copy: "<literal>/source</literal>" directory →  "<literal>/dest</literal>" directory
</simpara>
          </listitem>
          <listitem>
            <simpara>
Remote copy: "<literal>/source</literal>" directory at local host → "<literal>/dest</literal>" directory at "<literal>user@host.dom</literal>" host
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>GNU <literal>cp</literal>(1) and openSSH <literal>scp</literal>(1):</simpara>
        <screen># cp -a /source /dest
# scp -pr /source user@host.dom:/dest</screen>
        <simpara>GNU <literal>tar</literal>(1):</simpara>
        <screen># (cd /source &amp;&amp; tar cf - . ) | (cd /dest &amp;&amp; tar xvfp - )
# (cd /source &amp;&amp; tar cf - . ) | ssh user@host.dom '(cd /dest &amp;&amp; tar xvfp - )'</screen>
        <simpara><literal>cpio</literal>(1):</simpara>
        <screen># cd /source; find . -print0 | cpio -pvdm --null --sparse /dest</screen>
        <simpara><literal>afio</literal>(1):</simpara>
        <screen># cd /source; find . -print0 | afio -pv0a /dest</screen>
        <tip>
          <simpara><literal>scp</literal>(1) can even copy files between remote hosts by the following.</simpara>
        </tip>
        <screen># scp -pr user1@host1.dom:/source user2@host2.dom:/dest</screen>
      </section>
      <section id="_idioms_for_the_selection_of_files">
        <title>Idioms for the selection of files</title>
        <simpara><literal>find</literal>(1) is used to select files for archive and copy commands (see <xref linkend="_idioms_for_the_archive"/> and <xref linkend="_idioms_for_the_copy"/>) or for <literal>xargs</literal>(1) (see <xref linkend="_repeating_a_command_looping_over_files"/>).  This can be enhanced by using its command arguments.</simpara>
        <simpara>Basic syntax of <literal>find</literal>(1) can be summarized as the following.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
Its conditional arguments are evaluated from left to right.
</simpara>
          </listitem>
          <listitem>
            <simpara>
This evaluation stops once its outcome is determined.
</simpara>
          </listitem>
          <listitem>
            <simpara>
"Logical <emphasis role="strong">OR</emphasis>" (specified by "<literal>-o</literal>" between conditionals) has lower precedence than "logical <emphasis role="strong">AND</emphasis>" (specified by "<literal>-a</literal>" or nothing between conditionals).
</simpara>
          </listitem>
          <listitem>
            <simpara>
"Logical <emphasis role="strong">NOT</emphasis>" (specified by "<literal>!</literal>" before a conditional) has higher precedence than "logical <emphasis role="strong">AND</emphasis>".
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>-prune</literal>" always returns logical <emphasis role="strong">TRUE</emphasis> and, if it is a directory, searching of file is stopped beyond this point.
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>-name</literal>" matches the base of the filename with shell glob (see <xref linkend="_shell_glob"/>) but it also matches its initial "<literal>.</literal>" with metacharacters such as "<literal>*</literal>" and "<literal>?</literal>". (New <ulink url="&posix;">POSIX</ulink> feature)
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>-regex</literal>" matches the full path with emacs style <emphasis role="strong">BRE</emphasis> (see <xref linkend="_regular_expressions"/>) as default.
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>-size</literal>" matches the file based on the file size (value precedented with "<literal>+</literal>" for larger, precedented with "<literal>-</literal>" for smaller)
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>-newer</literal>" matches the file newer than the one specified in its argument.
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>-print0</literal>" always returns logical <emphasis role="strong">TRUE</emphasis> and print the full filename (<ulink url="&nullterminated;">null terminated</ulink>) on the standard output.
</simpara>
          </listitem>
        </itemizedlist>
        <simpara><literal>find</literal>(1) is often used with an idiomatic style as the following.</simpara>
        <screen># find /path/to \
    -xdev -regextype posix-extended \
    -type f -regex ".*\.afio|.*~" -prune -o \
    -type d -regex ".*/\.git" -prune -o \
    -type f -size +99M -prune -o \
    -type f -newer /path/to/timestamp -print0</screen>
        <simpara>This means to do following actions.</simpara>
        <orderedlist>
          <listitem>
            <simpara>
Search all files starting from "<literal>/path/to</literal>"
</simpara>
          </listitem>
          <listitem>
            <simpara>
Globally limit its search within its starting filesystem and uses <emphasis role="strong">ERE</emphasis> (see <xref linkend="_regular_expressions"/>) instead
</simpara>
          </listitem>
          <listitem>
            <simpara>
Exclude files matching regex of "<literal>.*\.afio</literal>" or "<literal>.*~</literal>" from search by stop processing
</simpara>
          </listitem>
          <listitem>
            <simpara>
Exclude directories matching regex of "<literal>.*/\.git</literal>" from search by stop processing
</simpara>
          </listitem>
          <listitem>
            <simpara>
Exclude files larger than 99 Megabytes (units of 1048576 bytes) from search by stop processing
</simpara>
          </listitem>
          <listitem>
            <simpara>
Print filenames which satisfy above search conditions and newer than "<literal>/path/to/timestamp</literal>"
</simpara>
          </listitem>
        </orderedlist>
        <simpara>Please note the idiomatic use of "<literal>-prune -o</literal>" to exclude files in the above example.</simpara>
        <note>
          <simpara>For non-Debian <ulink url="&unixlike;">Unix-like</ulink> system, some options may not be supported by <literal>find</literal>(1). In such a case, please consider to adjust matching methods and replace "<literal>-print0</literal>" with "<literal>-print</literal>".  You may need to adjust related commands too.</simpara>
        </note>
      </section>
      <section id="_backup_and_recovery">
        <title>Backup and recovery</title>
        <simpara>We all know that computers fail sometime or human errors cause system and data damages.  Backup and recovery operations are the essential part of successful system administration.  All possible failure modes will hit you some day.</simpara>
        <tip>
          <simpara>Keep your backup system simple and backup your system often.  Having backup data is more important than how technically good your backup method is.</simpara>
        </tip>
        <simpara>There are 3 key factors which determine actual backup and recovery policy.</simpara>
        <orderedlist>
          <listitem>
            <simpara>
Knowing what to backup and recover.
</simpara>
            <itemizedlist>
              <listitem>
                <simpara>
Data files directly created by you: data in "<literal>~/</literal>"
</simpara>
              </listitem>
              <listitem>
                <simpara>
Data files created by applications used by you: data in "<literal>/var/</literal>" (except "<literal>/var/cache/</literal>", "<literal>/var/run/</literal>", and "<literal>/var/tmp/</literal>")
</simpara>
              </listitem>
              <listitem>
                <simpara>
System configuration files: data in "<literal>/etc/</literal>"
</simpara>
              </listitem>
              <listitem>
                <simpara>
Local softwares: data in "<literal>/usr/local/</literal>" or "<literal>/opt/</literal>"
</simpara>
              </listitem>
              <listitem>
                <simpara>
System installation information: a memo in plain text on key steps (partition, …)
</simpara>
              </listitem>
              <listitem>
                <simpara>
Proven set of data: confirmed by experimental recovery operations in advance
</simpara>
              </listitem>
            </itemizedlist>
          </listitem>
          <listitem>
            <simpara>
Knowing how to backup and recover.
</simpara>
            <itemizedlist>
              <listitem>
                <simpara>
Secure storage of data: protection from overwrite and system failure
</simpara>
              </listitem>
              <listitem>
                <simpara>
Frequent backup: scheduled backup
</simpara>
              </listitem>
              <listitem>
                <simpara>
Redundant backup: data mirroring
</simpara>
              </listitem>
              <listitem>
                <simpara>
Fool proof process: easy single command backup
</simpara>
              </listitem>
            </itemizedlist>
          </listitem>
          <listitem>
            <simpara>
Assessing risks and costs involved.
</simpara>
            <itemizedlist>
              <listitem>
                <simpara>
Value of data when lost
</simpara>
              </listitem>
              <listitem>
                <simpara>
Required resources for backup: human, hardware, software, …
</simpara>
              </listitem>
              <listitem>
                <simpara>
Failure mode and their possibility
</simpara>
              </listitem>
            </itemizedlist>
          </listitem>
        </orderedlist>
        <simpara>As for secure storage of data, data should be at least on different disk partitions preferably on different disks and machines to withstand the filesystem corruption.  Important data are best stored on a write-once media such as CD/DVD-R to prevent overwrite accidents.  (See <xref linkend="_the_binary_data"/> for how to write to the storage media from the shell commandline.  GNOME desktop GUI environment gives you easy access via menu: "Places→CD/DVD Creator".)</simpara>
        <note>
          <simpara>You may wish to stop some application daemons such as MTA (see <xref linkend="_mail_transport_agent_mta"/>) while backing up data.</simpara>
        </note>
        <note>
          <simpara>You should pay extra care to the backup and restoration of identity related data files such as "<literal>/etc/ssh/ssh_host_dsa_key</literal>", "<literal>/etc/ssh/ssh_host_rsa_key</literal>", "<literal>~/.gnupg/*</literal>", "<literal>~/.ssh/*</literal>", "<literal>/etc/passwd</literal>", "<literal>/etc/shadow</literal>", "<literal>/etc/fetchmailrc</literal>", "<literal>popularity-contest.conf</literal>", "<literal>/etc/ppp/pap-secrets</literal>", and "<literal>/etc/exim4/passwd.client</literal>".  Some of these data can not be regenerated by entering the same input string to the system.</simpara>
        </note>
        <note>
          <simpara>If you run a cron job as a user process, you must restore files in "<literal>/var/spool/cron/crontabs</literal>" directory and restart <literal>cron</literal>(8).  See <xref linkend="_scheduling_tasks_regularly"/> for <literal>cron</literal>(8) and <literal>crontab</literal>(1).</simpara>
        </note>
      </section>
      <section id="_backup_utility_suites">
        <title>Backup utility suites</title>
        <simpara>Here is a select list of notable backup utility suites available on the Debian system.</simpara>
        <table id="listofbackupsuiteutilities" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of backup suite utilities</title>
          <tgroup cols="4">
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="40%*" align="left"/>
            <thead>
              <row>
                <entry>
    package
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    size
    </entry>
                <entry>
    description
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/rdiff-backup">
                  <literal>rdiff-backup</literal>
                </ulink> <ulink url="http://bugs.debian.org/rdiff-backup">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=rdiff-backup">&pop-rdiffbackup;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/r/rdiff-backup.html">&size-rdiffbackup;</ulink></entry>
                <entry>
    (remote) incremental backup
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/dump">
                  <literal>dump</literal>
                </ulink> <ulink url="http://bugs.debian.org/dump">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=dump">&pop-dump;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/d/dump.html">&size-dump;</ulink></entry>
                <entry>
    4.4 <ulink url="&bsd;">BSD</ulink> <literal>dump</literal>(8) and <literal>restore</literal>(8) for <ulink url="&extc;">ext2</ulink>/<ulink url="&extd;">ext3</ulink> filesystems
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/xfsdump">
                  <literal>xfsdump</literal>
                </ulink> <ulink url="http://bugs.debian.org/xfsdump">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=xfsdump">&pop-xfsdump;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/x/xfsdump.html">&size-xfsdump;</ulink></entry>
                <entry>
    dump and restore with <literal>xfsdump</literal>(8) and <literal>xfsrestore</literal>(8) for <ulink url="&xfs;">XFS</ulink> filesystem on GNU/Linux and <ulink url="&irix;">IRIX</ulink>
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/backupninja">
                  <literal>backupninja</literal>
                </ulink> <ulink url="http://bugs.debian.org/backupninja">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=backupninja">&pop-backupninja;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/b/backupninja.html">&size-backupninja;</ulink></entry>
                <entry>
    lightweight, extensible <emphasis role="strong">meta-backup</emphasis> system
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/mondo">
                  <literal>mondo</literal>
                </ulink> <ulink url="http://bugs.debian.org/mondo">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=mondo">&pop-mondo;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/m/mondo.html">&size-mondo;</ulink></entry>
                <entry><ulink url="&mondorescue;">Mondo Rescue</ulink>: disaster recovery backup suite
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/sbackup">
                  <literal>sbackup</literal>
                </ulink> <ulink url="http://bugs.debian.org/sbackup">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=sbackup">&pop-sbackup;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/s/sbackup.html">&size-sbackup;</ulink></entry>
                <entry>
    simple backup suite for GNOME desktop
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/keep">
                  <literal>keep</literal>
                </ulink> <ulink url="http://bugs.debian.org/keep">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=keep">&pop-keep;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/k/keep.html">&size-keep;</ulink></entry>
                <entry>
    backup system for KDE
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/bacula-common">
                  <literal>bacula-common</literal>
                </ulink> <ulink url="http://bugs.debian.org/bacula-common">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=bacula-common">&pop-baculacommon;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/b/bacula-common.html">&size-baculacommon;</ulink></entry>
                <entry><ulink url="&bacula;">Bacula</ulink>: network backup, recovery and verification - common support files
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/bacula-client">
                  <literal>bacula-client</literal>
                </ulink> <ulink url="http://bugs.debian.org/bacula-client">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=bacula-client">&pop-baculaclient;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/b/bacula-client.html">&size-baculaclient;</ulink></entry>
                <entry><ulink url="&bacula;">Bacula</ulink>: network backup, recovery and verification - client meta-package
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/bacula-console">
                  <literal>bacula-console</literal>
                </ulink> <ulink url="http://bugs.debian.org/bacula-console">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=bacula-console">&pop-baculaconsole;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/b/bacula-console.html">&size-baculaconsole;</ulink></entry>
                <entry><ulink url="&bacula;">Bacula</ulink>: network backup, recovery and verification - text console
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/bacula-server">
                  <literal>bacula-server</literal>
                </ulink> <ulink url="http://bugs.debian.org/bacula-server">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=bacula-server">&pop-baculaserver;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/b/bacula-server.html">&size-baculaserver;</ulink></entry>
                <entry><ulink url="&bacula;">Bacula</ulink>: network backup, recovery and verification - server meta-package
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/amanda-common">
                  <literal>amanda-common</literal>
                </ulink> <ulink url="http://bugs.debian.org/amanda-common">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=amanda-common">&pop-amandacommon;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/a/amanda-common.html">&size-amandacommon;</ulink></entry>
                <entry><ulink url="&amanda;">Amanda</ulink>: Advanced Maryland Automatic Network Disk Archiver (Libs)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/amanda-client">
                  <literal>amanda-client</literal>
                </ulink> <ulink url="http://bugs.debian.org/amanda-client">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=amanda-client">&pop-amandaclient;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/a/amanda-client.html">&size-amandaclient;</ulink></entry>
                <entry><ulink url="&amanda;">Amanda</ulink>: Advanced Maryland Automatic Network Disk Archiver (Client)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/amanda-server">
                  <literal>amanda-server</literal>
                </ulink> <ulink url="http://bugs.debian.org/amanda-server">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=amanda-server">&pop-amandaserver;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/a/amanda-server.html">&size-amandaserver;</ulink></entry>
                <entry><ulink url="&amanda;">Amanda</ulink>: Advanced Maryland Automatic Network Disk Archiver (Server)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/backuppc">
                  <literal>backuppc</literal>
                </ulink> <ulink url="http://bugs.debian.org/backuppc">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=backuppc">&pop-backuppc;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/b/backuppc.html">&size-backuppc;</ulink></entry>
                <entry><ulink url="&backuppc;">BackupPC</ulink> is a high-performance, enterprise-grade system for backing up PCs (disk based)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/backup-manager">
                  <literal>backup-manager</literal>
                </ulink> <ulink url="http://bugs.debian.org/backup-manager">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=backup-manager">&pop-backupmanager;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/b/backup-manager.html">&size-backupmanager;</ulink></entry>
                <entry>
    command-line backup tool
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/backup2l">
                  <literal>backup2l</literal>
                </ulink> <ulink url="http://bugs.debian.org/backup2l">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=backup2l">&pop-backupcl;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/b/backup2l.html">&size-backupcl;</ulink></entry>
                <entry>
    low-maintenance backup/restore tool for mountable media (disk based)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/faubackup">
                  <literal>faubackup</literal>
                </ulink> <ulink url="http://bugs.debian.org/faubackup">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=faubackup">&pop-faubackup;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/f/faubackup.html">&size-faubackup;</ulink></entry>
                <entry>
    backup system using a filesystem for storage (disk based)
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>Backup tools have thier specialized focuses.</simpara>
        <itemizedlist>
          <listitem>
            <simpara><ulink url="&mondorescue;">Mondo Rescue</ulink> is a backup system to facilitate restoration of complete system quickly from backup CD/DVD etc. without going through normal system installation processes.
</simpara>
          </listitem>
          <listitem>
            <simpara><literal>sbackup</literal> and <literal>keep</literal> packages provide easy GUI frontend for desktop users to make regular backups of user data. An equivalent function can be realized by a simple script (<xref linkend="_an_example_script_for_the_system_backup"/>) and <literal>cron</literal>(8).
</simpara>
          </listitem>
          <listitem>
            <simpara><ulink url="&bacula;">Bacula</ulink>, <ulink url="&amanda;">Amanda</ulink>, and <ulink url="&backuppc;">BackupPC</ulink> are full featured backup suite utilities which are focused on regular backups over network.
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>Basic tools described in <xref linkend="_archive_and_compression_tools"/> and <xref linkend="_copy_and_synchronization_tools"/> can be used to facilitate system backup via custom scripts.  Such script can be enhanced by the following.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
The <literal>rdiff-backup</literal> package enables incremental (remote) backups.
</simpara>
          </listitem>
          <listitem>
            <simpara>
The <literal>dump</literal> package helps to archive and restore the whole filesystem incrementally and efficiently.
</simpara>
          </listitem>
        </itemizedlist>
        <tip>
          <simpara>See files in "<literal>/usr/share/doc/dump/</literal>" and <ulink url="&isdumpreallydeprecated;">"Is dump really deprecated?"</ulink> to lean about the <literal>dump</literal> package.</simpara>
        </tip>
      </section>
      <section id="_an_example_script_for_the_system_backup">
        <title>An example script for the system backup</title>
        <simpara>For a personal Debian desktop system running <literal>unstable</literal> suite, I only need to protect personal and critical data.  I reinstall system once a year anyway.  Thus I see no reason to backup the whole system or to install a full featured backup utility.</simpara>
        <simpara>I use a simple script to make a backup archive and burn it into CD/DVD using GUI.  Here is an example script for this.</simpara>
        <screen>#!/bin/sh -e
# Copyright (C) 2007-2008 Osamu Aoki &lt;osamu@debian.org&gt;, Public Domain
BUUID=1000; USER=osamu # UID and name of a user who accesses backup files
BUDIR="/var/backups"
XDIR0=".+/Mail|.+/Desktop"
XDIR1=".+/\.thumbnails|.+/\.?Trash|.+/\.?[cC]ache|.+/\.gvfs|.+/sessions"
XDIR2=".+/CVS|.+/\.git|.+/\.svn|.+/Downloads|.+/Archive|.+/Checkout|.+/tmp"
XSFX=".+\.iso|.+\.tgz|.+\.tar\.gz|.+\.tar\.bz2|.+\.afio|.+\.tmp|.+\.swp|.+~"
SIZE="+99M"
DATE=$(date --utc +"%Y%m%d-%H%M")
[ -d "$BUDIR" ] || mkdir -p "BUDIR"
umask 077
dpkg --get-selections \* &gt; /var/lib/dpkg/dpkg-selections.list
debconf-get-selections &gt; /var/cache/debconf/debconf-selections

{
find /etc /usr/local /opt /var/lib/dpkg/dpkg-selections.list \
     /var/cache/debconf/debconf-selections -xdev -print0
find /home/$USER /root -xdev -regextype posix-extended \
  -type d -regex "$XDIR0|$XDIR1" -prune -o -type f -regex "$XSFX" -prune -o \
  -type f -size  "$SIZE" -prune -o -print0
find /home/$USER/Mail/Inbox /home/$USER/Mail/Outbox -print0
find /home/$USER/Desktop  -xdev -regextype posix-extended \
  -type d -regex "$XDIR2" -prune -o -type f -regex "$XSFX" -prune -o \
  -type f -size  "$SIZE" -prune -o -print0
} | cpio -ov --null -O $BUDIR/BU$DATE.cpio
chown $BUUID $BUDIR/BU$DATE.cpio
touch $BUDIR/backup.stamp</screen>
        <simpara>This is meant to be a script example executed from root.</simpara>
        <simpara>I expect you to change and execute this as follows.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
Edit this script to cover all your important data (see <xref linkend="_idioms_for_the_selection_of_files"/> and <xref linkend="_backup_and_recovery"/>).
</simpara>
          </listitem>
          <listitem>
            <simpara>
Replace "<literal>find … -print0</literal>" with "<literal>find … -newer $BUDIR/backup.stamp -print0</literal>" to make a incrimental backup.
</simpara>
          </listitem>
          <listitem>
            <simpara>
Transfer backup files to the remote host using <literal>scp</literal>(1) or <literal>rsync</literal>(1) or burn them to CD/DVD for extra data security.  (I use GNOME desktop GUI for burning CD/DVD. See <xref linkend="_shell_script_example_with_zenity"/> for extra redundancy.)
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>Keep it simple!</simpara>
        <tip>
          <simpara>You can recover debconf configuration data with "<literal>debconf-set-selections debconf-selections</literal>" and dpkg selection data with "<literal>dpkg --set-selection &lt;dpkg-selections.list</literal>".</simpara>
        </tip>
      </section>
      <section id="_a_copy_script_for_the_data_backup">
        <title>A copy script for the data backup</title>
        <simpara>For the set of data under a directory tree, the copy with "<literal>cp -a</literal>" provides the normal backup.</simpara>
        <simpara>For the set of large non-overwritten static data under a directory tree such as the one under the "<literal>/var/cache/apt/packages/</literal>" directory, hardlinks with "<literal>cp -al</literal>" provide an alternative to the normal backup with efficient use of the disk space.</simpara>
        <simpara>Here is a copy script, which I named as <literal>bkup</literal>, for the data backup. This script copies all (non-VCS) files under the current directory to the dated directory on the parent directory or on a remote host.</simpara>
        <screen>#!/bin/sh -e
# Copyright (C) 2007-2008 Osamu Aoki &lt;osamu@debian.org&gt;, Public Domain
function fdot(){ find . -type d \( -iname ".?*" -o -iname "CVS" \) -prune -o -print0;}
function fall(){ find . -print0;}
function mkdircd(){ mkdir -p "$1";chmod 700 "$1";cd "$1"&gt;/dev/null;}
FIND="fdot";OPT="-a";MODE="CPIOP";HOST="localhost";EXTP="$(hostname -f)"
BKUP="$(basename $(pwd)).bkup";TIME="$(date  +%Y%m%d-%H%M%S)";BU="$BKUP/$TIME"
while getopts gcCsStrlLaAxe:h:T f; do case $f in
g)  MODE="GNUCP";; # cp (GNU)
c)  MODE="CPIOP";; # cpio -p
C)  MODE="CPIOI";; # cpio -i
s)  MODE="CPIOSSH";; # cpio/ssh
S)  MODE="AFIOSSH";; # afio/ssh
t)  MODE="TARSSH";; # tar/ssh
r)  MODE="RSYNCSSH";; # rsync/ssh
l)  OPT="-alv";; # hardlink (GNU cp)
L)  OPT="-av";;  # copy (GNU cp)
a)  FIND="fall";; # find all
A)  FIND="fdot";; # find non CVS/ .???/
x)  set -x;; # trace
e)  EXTP="${OPTARG}";; # hostname -f
h)  HOST="${OPTARG}";; # user@remotehost.example.com
T)  MODE="TEST";; # test find mode
\?) echo "use -x for trace."
esac; done
shift $(expr $OPTIND - 1)
if [ $# -gt 0 ]; then
  for x in $@; do cp $OPT $x $x.$TIME; done
elif [ $MODE = GNUCP ]; then
  mkdir -p "../$BU";chmod 700 "../$BU";cp $OPT . "../$BU/"
elif [ $MODE = CPIOP ]; then
  mkdir -p "../$BU";chmod 700 "../$BU"
  $FIND|cpio --null --sparse -pvd ../$BU
elif [ $MODE = CPIOI ]; then
  $FIND|cpio -ov --null | ( mkdircd "../$BU"&amp;&amp;cpio -i )
elif [ $MODE = CPIOSSH ]; then
  $FIND|cpio -ov --null|ssh -C $HOST "( mkdircd \"$EXTP/$BU\"&amp;&amp;cpio -i )"
elif [ $MODE = AFIOSSH ]; then
  $FIND|afio -ov -0 -|ssh -C $HOST "( mkdircd \"$EXTP/$BU\"&amp;&amp;afio -i - )"
elif [ $MODE = TARSSH ]; then
  (tar cvf - . )|ssh -C $HOST "( mkdircd \"$EXTP/$BU\"&amp;&amp; tar xvfp - )"
elif [ $MODE = RSYNCSSH ]; then
  rsync -rlpt ./ "${HOST}:${EXTP}-${BKUP}-${TIME}"
else
  echo "Any other idea to backup?"
  $FIND |xargs -0 -n 1 echo
fi</screen>
        <simpara>This is meant to be command examples.  Please read script and edit it by yourself before using it.</simpara>
        <tip>
          <simpara>I keep this <literal>bkup</literal> in my "<literal>/usr/local/bin/</literal>" directory.  I issue this <literal>bkup</literal> command without any option in the working directory whenever I need a temporary snapshot backup.</simpara>
        </tip>
        <tip>
          <simpara>For making snapshot history of a source file tree or a configuration file tree, it is easier and space efficient to use <literal>git</literal>(7) (see <xref linkend="_git_for_recording_configuration_history"/>).</simpara>
        </tip>
      </section>
      <section id="_removable_storage_device">
        <title>Removable storage device</title>
        <simpara>Removable storage devices may be any one of the following.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
Hard disk
</simpara>
          </listitem>
          <listitem>
            <simpara>
Any format of flash memory devices
</simpara>
          </listitem>
          <listitem>
            <simpara>
Digital camera which are connected via <ulink url="&usb;">USB</ulink>, <ulink url="&ieeebdjefirewire;">IEEE 1394 / Firewire</ulink>, <ulink url="&pccard;">PC Card</ulink>, etc.
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>These removable storage devices can be automatically mounted as a user under modern desktop environment, such as GNOME using <literal>gnome-mount</literal>(1).</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
Mount point under GNOME is chosen as "<literal>/media/&lt;disk_label&gt;</literal>" which can be customized by the following.
</simpara>
            <itemizedlist>
              <listitem>
                <simpara><literal>mlabel</literal>(1) for FAT filesystem
</simpara>
              </listitem>
              <listitem>
                <simpara><literal>genisoimage</literal>(1) with "<literal>-V</literal>" option for ISO9660 filesystem
</simpara>
              </listitem>
              <listitem>
                <simpara><literal>tune2fs</literal>(1) with "<literal>-L</literal>" option for ext2/ext3 filesystem
</simpara>
              </listitem>
            </itemizedlist>
          </listitem>
          <listitem>
            <simpara>
The choice of encoding may need to be provided as mount option (see <xref linkend="_filename_encoding"/>).
</simpara>
          </listitem>
          <listitem>
            <simpara>
The ownership of the mounted filesystem may need to be adjusted for use by the normal user.
</simpara>
          </listitem>
        </itemizedlist>
        <note>
          <simpara>Automounting under modern desktop environment happens only when those removable media devices are not listed in "<literal>/etc/fstab</literal>".</simpara>
        </note>
        <tip>
          <simpara>When providing wrong mount option causes problem, erase its corresponding setting under "<literal>/system/storage/</literal>" via <literal>gconf-editor</literal>(1).</simpara>
        </tip>
        <table id="listofpackageswhingetcfstabentry" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of packages which permit normal users to mount removable devices without a matching "<literal>/etc/fstab</literal>" entry</title>
          <tgroup cols="4">
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="40%*" align="left"/>
            <thead>
              <row>
                <entry>
    package
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    size
    </entry>
                <entry>
    description
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/gnome-mount">
                  <literal>gnome-mount</literal>
                </ulink> <ulink url="http://bugs.debian.org/gnome-mount">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=gnome-mount">&pop-gnomemount;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/g/gnome-mount.html">&size-gnomemount;</ulink></entry>
                <entry>
    wrapper for (un)mounting and ejecting storage devices (used by GNOME)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/pmount">
                  <literal>pmount</literal>
                </ulink> <ulink url="http://bugs.debian.org/pmount">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=pmount">&pop-pmount;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/p/pmount.html">&size-pmount;</ulink></entry>
                <entry>
    mount removable devices as normal user (used by KDE)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/cryptmount">
                  <literal>cryptmount</literal>
                </ulink> <ulink url="http://bugs.debian.org/cryptmount">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=cryptmount">&pop-cryptmount;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/c/cryptmount.html">&size-cryptmount;</ulink></entry>
                <entry>
    Management and user-mode mounting of encrypted filesystems
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/usbmount">
                  <literal>usbmount</literal>
                </ulink> <ulink url="http://bugs.debian.org/usbmount">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=usbmount">&pop-usbmount;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/u/usbmount.html">&size-usbmount;</ulink></entry>
                <entry>
    automatically mount and unmount USB storage devices
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>When sharing data with other system via removable storage device, you should format it with common <ulink url="&filesystem;">filesystem</ulink> supported by both systems. Here is a list of filesystem choices.</simpara>
        <table id="listoffilesystemalusagescenarios" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of filesystem choices for removable storage devices with typical usage scenarios</title>
          <tgroup cols="2">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="70%*" align="left"/>
            <thead>
              <row>
                <entry>
    filesystem
    </entry>
                <entry>
    description of typical usage scenario
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <ulink url="&fatbc;">FAT12</ulink>
                </entry>
                <entry>
    cross platform sharing of data on the floppy disk (&lt;32MiB)
    </entry>
              </row>
              <row>
                <entry>
                  <ulink url="&fatbg;">FAT16</ulink>
                </entry>
                <entry>
    cross platform sharing of data on the small hard disk like device (&lt;2GiB)
    </entry>
              </row>
              <row>
                <entry>
                  <ulink url="&fatdc;">FAT32</ulink>
                </entry>
                <entry>
    cross platform sharing of data on the large hard disk like device (&lt;8TiB, supported by newer than MS Windows95 OSR2)
    </entry>
              </row>
              <row>
                <entry>
                  <ulink url="&ntfs;">NTFS</ulink>
                </entry>
                <entry>
    cross platform sharing of data on the large hard disk like device (supported natively on <ulink url="&mswindowsnt;">MS Windows NT</ulink> and later version, and supported by <ulink url="&ntfsdg;">NTFS-3G</ulink> via <ulink url="&fuse;">FUSE</ulink> on Linux)
    </entry>
              </row>
              <row>
                <entry>
                  <ulink url="&isojgga;">ISO9660</ulink>
                </entry>
                <entry>
    cross platform sharing of static data on CD-R and DVD+/-R
    </entry>
              </row>
              <row>
                <entry>
                  <ulink url="&udf;">UDF</ulink>
                </entry>
                <entry>
    incremental data writing on CD-R and DVD+/-R (new)
    </entry>
              </row>
              <row>
                <entry>
                  <ulink url="&minixfilesystem;">MINIX filesystem</ulink>
                </entry>
                <entry>
    space efficient unix file data storage on the floppy disk
    </entry>
              </row>
              <row>
                <entry>
                  <ulink url="&extcfilesystem;">ext2 filesystem</ulink>
                </entry>
                <entry>
    sharing of data on the hard disk like device with older Linux systems
    </entry>
              </row>
              <row>
                <entry>
                  <ulink url="&extdfilesystem;">ext3 filesystem</ulink>
                </entry>
                <entry>
    sharing of data on the hard disk like device with current Linux systems (<ulink url="&journalingfilesystem;">journaling filesystem</ulink>)
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <tip>
          <simpara>See <xref linkend="_removable_disk_encryption_with_dm_crypt_luks"/> for cross platform sharing of data using device level encryption.</simpara>
        </tip>
        <simpara>The FAT filesystem is supported by almost all modern operating systems and is quite useful for the data exchange purpose via removable hard disk like media.</simpara>
        <simpara>When formatting removable hard disk like devices for cross platform sharing of data with the FAT filesystem, the following should be safe choices.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
Partitioning them with <literal>fdisk</literal>(8), <literal>cfdisk</literal>(8) or <literal>parted</literal>(8) (see <xref linkend="_disk_partition_configuration"/>) into a single primary partition and to mark it as the following.
</simpara>
            <itemizedlist>
              <listitem>
                <simpara>
Type "6" for FAT16 for media smaller than 2GB.
</simpara>
              </listitem>
              <listitem>
                <simpara>
Type "c" for FAT32 (LBA) for larger media.
</simpara>
              </listitem>
            </itemizedlist>
          </listitem>
          <listitem>
            <simpara>
Formatting the primary partition with <literal>mkfs.vfat</literal>(8) with the following.
</simpara>
            <itemizedlist>
              <listitem>
                <simpara>
Just its device name, e.g. "<literal>/dev/sda1</literal>" for FAT16
</simpara>
              </listitem>
              <listitem>
                <simpara>
The explicit option and its device name, e.g. "<literal>-F 32 /dev/sda1</literal>" for FAT32
</simpara>
              </listitem>
            </itemizedlist>
          </listitem>
        </itemizedlist>
        <simpara>When using the FAT or ISO9660 filesystems for sharing data, the following should be the safe considerations.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
Archiving files into an archive file first using <literal>tar</literal>(1), <literal>cpio</literal>(1), or <literal>afio</literal>(1) to retain the long filename, the symbolic link, the original Unix file permission and the owner information.
</simpara>
          </listitem>
          <listitem>
            <simpara>
Splitting the archive file into less than 2 GiB chunks with the <literal>split</literal>(1) command to protect it from the file size limitation.
</simpara>
          </listitem>
          <listitem>
            <simpara>
Encrypting the archive file to secure its contents from the unauthorized access.
</simpara>
          </listitem>
        </itemizedlist>
        <note>
          <simpara>For FAT filesystems by its design, the maximum file size is <literal>(2^32 - 1) bytes = (4GiB - 1 byte)</literal>. For some applications on the older 32 bit OS, the maximum file size was even smaller <literal>(2^31 - 1) bytes = (42GiB - 1 byte)</literal>.  Debian does not suffer the latter problem.</simpara>
        </note>
        <note>
          <simpara>Microsoft itself does not recommend to use FAT for drives or partitions of over 200 MB.  Microsoft highlights its short comings such as inefficient disk space usage in their "<ulink url="&overviewoffathpfdntfsfilesystems;">Overview of FAT, HPFS, and NTFS File Systems</ulink>".  Of course, we should normally use the ext3 filesystem for Linux.</simpara>
        </note>
        <tip>
          <simpara>For more on filesystems and accessing filesystems, please read "<ulink url="&filesystemshowto;">Filesystems HOWTO</ulink>".</simpara>
        </tip>
      </section>
      <section id="_sharing_data_via_network">
        <title>Sharing data via network</title>
        <simpara>When sharing data with other system via network, you should use common service. Here are some hints.</simpara>
        <table id="listofthenetworkcalusagescenario" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of the network service to chose with the typical usage scenario</title>
          <tgroup cols="2">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="70%*" align="left"/>
            <thead>
              <row>
                <entry>
    network service
    </entry>
                <entry>
    description of typical usage scenario
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="&smbcifs;">SMB/CIFS</ulink> network mounted filesystem with <ulink url="&samba;">Samba</ulink>
    </entry>
                <entry>
    sharing files via "Microsoft Windows Network", see <literal>smb.conf</literal>(5) and <ulink url="&theofficialsambandreferenceguide;">The Official Samba 3.2.x HOWTO and Reference Guide</ulink> or the <literal>samba-doc</literal> package
    </entry>
              </row>
              <row>
                <entry><ulink url="&nfs;">NFS</ulink> network mounted filesystem with the Linux kernel
    </entry>
                <entry>
    sharing files via "Unix/Linux Network", see <literal>exports</literal>(5) and <ulink url="&linuxnfshowto;">Linux NFS-HOWTO</ulink>
    </entry>
              </row>
              <row>
                <entry><ulink url="&http;">HTTP</ulink> service
    </entry>
                <entry>
    sharing file between the web server/client
    </entry>
              </row>
              <row>
                <entry><ulink url="&https;">HTTPS</ulink> service
    </entry>
                <entry>
    sharing file between the web server/client with encrypted Secure Sockets Layer (SSL) or <ulink url="&transportlayersecurity;">Transport Layer Security</ulink> (TLS)
    </entry>
              </row>
              <row>
                <entry><ulink url="&ftp;">FTP</ulink> service
    </entry>
                <entry>
    sharing file between the FTP server/client
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>Although these filesystems mounted over network and file transfer methods over network are quite convenient for sharing data, these may be insecure.  Their network connection must be secured by the following.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
Encrypt it with <ulink url="&ssltls;">SSL/TLS</ulink>
</simpara>
          </listitem>
          <listitem>
            <simpara>
Tunnel it via <ulink url="&ssh;">SSH</ulink>
</simpara>
          </listitem>
          <listitem>
            <simpara>
Tunnel it via <ulink url="&vpn;">VPN</ulink>
</simpara>
          </listitem>
          <listitem>
            <simpara>
Limit it behind the secure firewall
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>See also <xref linkend="_other_network_application_servers"/> and <xref linkend="_other_network_application_clients"/>.</simpara>
      </section>
      <section id="_archive_media">
        <title>Archive media</title>
        <simpara>When choosing <ulink url="&computerdatastoragemedia;">computer data storage media</ulink> for important data archive, you should be careful about their limitations.  For small personal data backup, I use CD-R and DVD-R by the brand name company and store in a cool, shaded, dry, clean environment.  (Tape archive media seem to be popular for professional use.)</simpara>
        <note>
          <simpara><ulink url="&afireresistantsafe;">A fire-resistant safe</ulink> are meant for paper documents.  Most of the computer data storage media have less temperature tolerance than paper. I usually rely on multiple secure encrypted copies stored in multiple secure locations.</simpara>
        </note>
        <simpara>Optimistic storage life of archive media seen on the net (mostly from vendor info).</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
100+ years : Acid free paper with ink
</simpara>
          </listitem>
          <listitem>
            <simpara>
100  years : Optical storage  (CD/DVD, CD/DVD-R)
</simpara>
          </listitem>
          <listitem>
            <simpara>
30  years : Magnetic storage (tape, floppy)
</simpara>
          </listitem>
          <listitem>
            <simpara>
20  years : Phase change optical storage (CD-RW)
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>These do not count on the mechanical failures due to handling etc.</simpara>
        <simpara>Optimistic write cycle of archive media seen on the net (mostly from vendor info).</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
250,000+ cycles : Harddisk drive
</simpara>
          </listitem>
          <listitem>
            <simpara>
10,000+ cycles : Flash memory
</simpara>
          </listitem>
          <listitem>
            <simpara>
1,000  cycles : CD/DVD-RW
</simpara>
          </listitem>
          <listitem>
            <simpara>
1  cycles : CD/DVD-R, paper
</simpara>
          </listitem>
        </itemizedlist>
        <caution>
          <simpara>Figures of storage life and write cycle here should not be used for decisions on any critical data storage.   Please consult the specific product information provided by the manufacture.</simpara>
        </caution>
        <tip>
          <simpara>Since CD/DVD-R and paper have only 1 write cycle, they inherently prevent accidental data loss by overwriting.  This is advantage!</simpara>
        </tip>
        <tip>
          <simpara>If you need fast and frequent backup of large amount of data, a hard disk on a remote host linked by a fast network connection, may be the only realistic option.</simpara>
        </tip>
      </section>
    </section>
    <section id="_the_binary_data">
      <title>The binary data</title>
      <simpara>Here, we discuss direct manipulation of the binary data on storage media.  See <xref linkend="_data_storage_tips"/>, too.</simpara>
      <section id="_making_the_disk_image_file">
        <title>Making the disk image file</title>
        <simpara>The disk image file, "<literal>disk.img</literal>", of an unmounted device, e.g., the second SCSI drive "<literal>/dev/sdb</literal>", can be made using <literal>cp</literal>(1) or <literal>dd</literal>(1) by the following.</simpara>
        <screen># cp /dev/sdb disk.img
# dd if=/dev/sdb of=disk.img</screen>
        <simpara>The disk image of the traditional PC's <ulink url="&masterbootrecordmbr;">master boot record (MBR)</ulink> (see <xref linkend="_disk_partition_configuration"/>) which reside on the first sector on the primary IDE disk can be made by using <literal>dd</literal>(1) by the following.</simpara>
        <screen># dd if=/dev/hda of=mbr.img bs=512 count=1
# dd if=/dev/hda of=mbr-nopart.img bs=446 count=1
# dd if=/dev/hda of=mbr-part.img skip=446 bs=1 count=66</screen>
        <itemizedlist>
          <listitem>
            <simpara>
"<literal>mbr.img</literal>": The MBR with the partition table
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>mbr-nopart.img</literal>": The MBR without the partition table
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>part.img</literal>": The partition table of the MBR only
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>If you have a SCSI device (including the new serial ATA drive) as the boot disk, substitute "<literal>/dev/hda</literal>" with "<literal>/dev/sda</literal>".</simpara>
        <simpara>If you are making an image of a disk partition of the original disk, substitute "<literal>/dev/hda</literal>" with "<literal>/dev/hda1</literal>" etc.</simpara>
      </section>
      <section id="_writing_directly_to_the_disk">
        <title>Writing directly to the disk</title>
        <simpara>The disk image file, "<literal>disk.img</literal>" can be written to an unmounted device, e.g., the second SCSI drive "<literal>/dev/sdb</literal>" with matching size, by the following.</simpara>
        <screen># dd if=disk.img of=/dev/sdb</screen>
        <simpara>Similarly, the disk partition image file, "<literal>disk.img</literal>" can be written to an unmounted partition, e.g., the first partition of the second SCSI drive "<literal>/dev/sdb1</literal>" with matching size, by the following.</simpara>
        <screen># dd if=disk.img of=/dev/sdb1</screen>
      </section>
      <section id="_mounting_the_disk_image_file">
        <title>Mounting the disk image file</title>
        <simpara>If "<literal>disk.img</literal>" contains an image of the disk contents and the original disk had a disk configuration which gives <literal>xxxx = (bytes/sector) * (sectors/cylinder)</literal>, then the following will mount it to "<literal>/mnt</literal>".</simpara>
        <screen># mount -o loop,offset=xxxx disk.img /mnt</screen>
        <note>
          <simpara>Most hard disks have 512 bytes/sector.</simpara>
        </note>
        <simpara>This offset is to skip <ulink url="&mbr;">MBR</ulink> of the hard disk.  You can skip this offset in the above example, if "<literal>disk.img</literal>" contains only the following.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
An image of a disk partition of the original hard disk
</simpara>
          </listitem>
          <listitem>
            <simpara>
An image of the original floppy disk
</simpara>
          </listitem>
        </itemizedlist>
      </section>
      <section id="_making_an_empty_disk_image_file">
        <title>Making an empty disk image file</title>
        <simpara>An empty disk image file, "<literal>sparse</literal>", which can grow up to 5MiB can be made using <literal>dd</literal>(1) and <literal>mke2fs</literal>(8) by the following.</simpara>
        <screen>$ dd bs=1 count=0 if=/dev/zero of=sparse seek=5G
$ /sbin/mke2fs sparse
mke2fs 1.41.3 (12-Oct-2008)
sparse is not a block special device.
Proceed anyway? (y,n) y
...
$ du  --apparent-size -h sparse
5.0G  sparse
$ du -h sparse
83M sparse</screen>
        <simpara>For "<literal>sparse</literal>", its file size is 5.0 GiB and its actual disk usage is mere 83MiB.  This descrepancy is possible since <ulink url="&extcfs;">ext2fs</ulink> can hold <ulink url="&sparsefile;">sparse file</ulink>.</simpara>
        <tip>
          <simpara>The actual disk usage of <ulink url="&sparsefile;">sparse file</ulink> grows with data which are written to it.</simpara>
        </tip>
      </section>
      <section id="_viewing_and_editing_binary_data">
        <title>Viewing and editing binary data</title>
        <simpara>The most basic viewing method of binary data is to use "<literal>od -t x1</literal>" command.</simpara>
        <table id="listofpackageswhndeditbinarydata" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of packages which view and edit binary data</title>
          <tgroup cols="4">
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="40%*" align="left"/>
            <thead>
              <row>
                <entry>
    package
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    size
    </entry>
                <entry>
    description
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/coreutils">
                  <literal>coreutils</literal>
                </ulink> <ulink url="http://bugs.debian.org/coreutils">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=coreutils">&pop-coreutils;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/c/coreutils.html">&size-coreutils;</ulink></entry>
                <entry>
    basic package which has <literal>od</literal>(1) to dump files (HEX, ASCII, OCTAL, …)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/bsdmainutils">
                  <literal>bsdmainutils</literal>
                </ulink> <ulink url="http://bugs.debian.org/bsdmainutils">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=bsdmainutils">&pop-bsdmainutils;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/b/bsdmainutils.html">&size-bsdmainutils;</ulink></entry>
                <entry>
    utility package which has <literal>hd</literal>(1) to dump files (HEX, ASCII, OCTAL, …)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/hexedit">
                  <literal>hexedit</literal>
                </ulink> <ulink url="http://bugs.debian.org/hexedit">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=hexedit">&pop-hexedit;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/h/hexedit.html">&size-hexedit;</ulink></entry>
                <entry>
    binary editor and viewer (HEX, ASCII)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/bless">
                  <literal>bless</literal>
                </ulink> <ulink url="http://bugs.debian.org/bless">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=bless">&pop-bless;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/b/bless.html">&size-bless;</ulink></entry>
                <entry>
    full featured hexadecimal editor (GNOME)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/khexedit">
                  <literal>khexedit</literal>
                </ulink> <ulink url="http://bugs.debian.org/khexedit">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=khexedit">&pop-khexedit;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/k/khexedit.html">&size-khexedit;</ulink></entry>
                <entry>
    full featured hexadecimal editor (KDE)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/okteta">
                  <literal>okteta</literal>
                </ulink> <ulink url="http://bugs.debian.org/okteta">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=okteta">&pop-okteta;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/o/okteta.html">&size-okteta;</ulink></entry>
                <entry>
    full featured hexadecimal editor (KDE4)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/ncurses-hexedit">
                  <literal>ncurses-hexedit</literal>
                </ulink> <ulink url="http://bugs.debian.org/ncurses-hexedit">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=ncurses-hexedit">&pop-ncurseshexedit;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/n/ncurses-hexedit.html">&size-ncurseshexedit;</ulink></entry>
                <entry>
    binary editor and viewer (HEX, ASCII, EBCDIC)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/lde">
                  <literal>lde</literal>
                </ulink> <ulink url="http://bugs.debian.org/lde">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=lde">&pop-lde;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/l/lde.html">&size-lde;</ulink></entry>
                <entry>
    Linux Disk Editor
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/beav">
                  <literal>beav</literal>
                </ulink> <ulink url="http://bugs.debian.org/beav">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=beav">&pop-beav;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/b/beav.html">&size-beav;</ulink></entry>
                <entry>
    binary editor and viewer (HEX, ASCII, EBCDIC, OCTAL, …)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/hex">
                  <literal>hex</literal>
                </ulink> <ulink url="http://bugs.debian.org/hex">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=hex">&pop-hex;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/h/hex.html">&size-hex;</ulink></entry>
                <entry>
    hexadecimal dumping tool (support Japanese 2 byte codes)
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <tip>
          <simpara>HEX is used as an acronym for <ulink url="&hexadecimal;">hexadecimal</ulink> format with <ulink url="&radix;">radix</ulink> 16.  OCTAL is for <ulink url="&octal;">octal</ulink> format with <ulink url="&radix;">radix</ulink> 8.  ASCII is for <ulink url="&americanstandardationinterchange;">American Standard Code for Information Interchange</ulink>, i.e., normal English text code.  EBCDIC is for <ulink url="&extendedbinarycolinterchangecode;">Extended Binary Coded Decimal Interchange Code</ulink> used on <ulink url="&ibmmainframe;">IBM mainframe</ulink> operating systems.</simpara>
        </tip>
      </section>
      <section id="_manipulating_files_without_mounting_disk">
        <title>Manipulating files without mounting disk</title>
        <simpara>There are tools to read and write files without mounting disk.</simpara>
        <table id="listofpackagestohoutmountingdisk" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of packages to manipulate files without mounting disk</title>
          <tgroup cols="4">
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="40%*" align="left"/>
            <thead>
              <row>
                <entry>
    package
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    size
    </entry>
                <entry>
    description
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/mtools">
                  <literal>mtools</literal>
                </ulink> <ulink url="http://bugs.debian.org/mtools">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=mtools">&pop-mtools;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/m/mtools.html">&size-mtools;</ulink></entry>
                <entry>
    utilities for MSDOS files without mounting them
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/hfsutils">
                  <literal>hfsutils</literal>
                </ulink> <ulink url="http://bugs.debian.org/hfsutils">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=hfsutils">&pop-hfsutils;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/h/hfsutils.html">&size-hfsutils;</ulink></entry>
                <entry>
    utilities for HFS and HFS+ files without mounting them
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </section>
      <section id="_data_redundancy">
        <title>Data redundancy</title>
        <simpara>Software <ulink url="&raid;">RAID</ulink> systems offered by the Linux kernel provide data redundancy in the kernel filesystem level to achieve high levels of storage reliability.</simpara>
        <simpara>There are tools to add data redundancy to files in application program level to achieve high levels of storage reliability, too.</simpara>
        <table id="listoftoolstoaddedundancytofiles" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of tools to add data redundancy to files</title>
          <tgroup cols="4">
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="40%*" align="left"/>
            <thead>
              <row>
                <entry>
    package
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    size
    </entry>
                <entry>
    description
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/par2">
                  <literal>par2</literal>
                </ulink> <ulink url="http://bugs.debian.org/par2">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=par2">&pop-parc;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/p/par2.html">&size-parc;</ulink></entry>
                <entry>
    Parity Archive Volume Set, for checking and repair of files
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/dvdisaster">
                  <literal>dvdisaster</literal>
                </ulink> <ulink url="http://bugs.debian.org/dvdisaster">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=dvdisaster">&pop-dvdisaster;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/d/dvdisaster.html">&size-dvdisaster;</ulink></entry>
                <entry>
    data loss/scratch/aging protection for CD/DVD media
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/ras">
                  <literal>ras</literal>
                </ulink> <ulink url="http://bugs.debian.org/ras">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=ras">&pop-ras;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/r/ras.html">&size-ras;</ulink></entry>
                <entry>
    utility to add redundancy files to archives for data recovery
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/dvbackup">
                  <literal>dvbackup</literal>
                </ulink> <ulink url="http://bugs.debian.org/dvbackup">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=dvbackup">&pop-dvbackup;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/d/dvbackup.html">&size-dvbackup;</ulink></entry>
                <entry>
    backup tool using MiniDV camcorders (providing <literal>rsbep</literal>(1))
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/vdmfec">
                  <literal>vdmfec</literal>
                </ulink> <ulink url="http://bugs.debian.org/vdmfec">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=vdmfec">&pop-vdmfec;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/v/vdmfec.html">&size-vdmfec;</ulink></entry>
                <entry>
    recover lost blocks using Forward Error Correction
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </section>
      <section id="_data_file_recovery_and_forensic_analysis">
        <title>Data file recovery and forensic analysis</title>
        <simpara>There are tools for data file recovery and forensic analysis.</simpara>
        <table id="listofpackagesfoforensicanalysis" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of packages for data file recovery and forensic analysis</title>
          <tgroup cols="4">
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="40%*" align="left"/>
            <thead>
              <row>
                <entry>
    package
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    size
    </entry>
                <entry>
    description
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/testdisk">
                  <literal>testdisk</literal>
                </ulink> <ulink url="http://bugs.debian.org/testdisk">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=testdisk">&pop-testdisk;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/t/testdisk.html">&size-testdisk;</ulink></entry>
                <entry>
    utilities for partition scan and disk recovery
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/magicrescue">
                  <literal>magicrescue</literal>
                </ulink> <ulink url="http://bugs.debian.org/magicrescue">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=magicrescue">&pop-magicrescue;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/m/magicrescue.html">&size-magicrescue;</ulink></entry>
                <entry>
    utility to recover files by looking for magic bytes
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/scalpel">
                  <literal>scalpel</literal>
                </ulink> <ulink url="http://bugs.debian.org/scalpel">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=scalpel">&pop-scalpel;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/s/scalpel.html">&size-scalpel;</ulink></entry>
                <entry>
    frugal, high performance file carver
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/recover">
                  <literal>recover</literal>
                </ulink> <ulink url="http://bugs.debian.org/recover">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=recover">&pop-recover;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/r/recover.html">&size-recover;</ulink></entry>
                <entry>
    utility to undelete files on the ext2 filesystem
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/e2undel">
                  <literal>e2undel</literal>
                </ulink> <ulink url="http://bugs.debian.org/e2undel">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=e2undel">&pop-ecundel;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/e/e2undel.html">&size-ecundel;</ulink></entry>
                <entry>
    utility to undelete files on the ext2 filesystem
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/ext3grep">
                  <literal>ext3grep</literal>
                </ulink> <ulink url="http://bugs.debian.org/ext3grep">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=ext3grep">&pop-extdgrep;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/e/ext3grep.html">&size-extdgrep;</ulink></entry>
                <entry>
    tool to help recover deleted files on the ext3 filesystem
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/scrounge-ntfs">
                  <literal>scrounge-ntfs</literal>
                </ulink> <ulink url="http://bugs.debian.org/scrounge-ntfs">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=scrounge-ntfs">&pop-scroungentfs;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/s/scrounge-ntfs.html">&size-scroungentfs;</ulink></entry>
                <entry>
    data recovery program for NTFS filesystems
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/gzrt">
                  <literal>gzrt</literal>
                </ulink> <ulink url="http://bugs.debian.org/gzrt">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=gzrt">&pop-gzrt;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/g/gzrt.html">&size-gzrt;</ulink></entry>
                <entry>
    gzip recovery toolkit
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/sleuthkit">
                  <literal>sleuthkit</literal>
                </ulink> <ulink url="http://bugs.debian.org/sleuthkit">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=sleuthkit">&pop-sleuthkit;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/s/sleuthkit.html">&size-sleuthkit;</ulink></entry>
                <entry>
    tools for forensics analysis. (Sleuthkit)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/autopsy">
                  <literal>autopsy</literal>
                </ulink> <ulink url="http://bugs.debian.org/autopsy">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=autopsy">&pop-autopsy;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/a/autopsy.html">&size-autopsy;</ulink></entry>
                <entry>
    graphical interface to SleuthKit
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/foremost">
                  <literal>foremost</literal>
                </ulink> <ulink url="http://bugs.debian.org/foremost">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=foremost">&pop-foremost;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/f/foremost.html">&size-foremost;</ulink></entry>
                <entry>
    forensics application to recover data
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/tct">
                  <literal>tct</literal>
                </ulink> <ulink url="http://bugs.debian.org/tct">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=tct">&pop-tct;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/t/tct.html">&size-tct;</ulink></entry>
                <entry>
    forensics related utilities
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/dcfldd">
                  <literal>dcfldd</literal>
                </ulink> <ulink url="http://bugs.debian.org/dcfldd">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=dcfldd">&pop-dcfldd;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/d/dcfldd.html">&size-dcfldd;</ulink></entry>
                <entry>
    enhanced version of <literal>dd</literal> for forensics and security
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/rdd">
                  <literal>rdd</literal>
                </ulink> <ulink url="http://bugs.debian.org/rdd">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=rdd">&pop-rdd;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/r/rdd.html">&size-rdd;</ulink></entry>
                <entry>
    forensic copy program
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </section>
      <section id="_making_the_iso9660_image_file">
        <title>Making the ISO9660 image file</title>
        <simpara>The <ulink url="&isojgga;">ISO9660</ulink> image file, "<literal>cd.iso</literal>", from the source directory tree at "<literal>source_directory</literal>" can be made using <literal>genisoimage</literal>(1) provided by <ulink url="&cdrkit;">cdrkit</ulink> by the following.</simpara>
        <screen>#  genisoimage -r -J -T -V volume_id -o cd.iso source_directory</screen>
        <simpara>Similary, the bootable ISO9660 image file, "<literal>cdboot.iso</literal>", can be made from <literal>debian-installer</literal> like directory tree at "<literal>source_directory</literal>" by the following.</simpara>
        <screen>#  genisoimage -r -o cdboot.iso -V volume_id \
   -b isolinux/isolinux.bin -c isolinux/boot.cat \
   -no-emul-boot -boot-load-size 4 -boot-info-table source_directory</screen>
        <simpara>Here <ulink url="&isolinuxbootloader;">Isolinux boot loader</ulink> (see <xref linkend="_stage_2_the_boot_loader"/>) is used for booting.</simpara>
        <simpara>To make the disk image directly from the CD-ROM device using <literal>cp</literal>(1) or <literal>dd</literal>(1) has a few problems. The first run of <literal>dd</literal>(1) may cause an error message and may yield a shorter disk image with a lost tail-end. The second run of <literal>dd</literal>(1) may yield a larger disk image with garbage data attached at the end on some systems if the data size is not specified. Only the second run of <literal>dd</literal>(1) with the correct data size specified, and without ejecting the CD after an error message, seems to avoid these problems. If for example the image size displayed by <literal>df</literal>(1) is 46301184 blocks, use the following command twice to get the right image (this is my empirical information).</simpara>
        <screen># dd if=/dev/cdrom of=cd.iso bs=2048 count=$((46301184/2))</screen>
      </section>
      <section id="_writing_directly_to_the_cd_dvd_r_rw">
        <title>Writing directly to the CD/DVD-R/RW</title>
        <tip>
          <simpara>DVD is only a large CD to <literal>wodim</literal>(1) provided by <ulink url="&cdrkit;">cdrkit</ulink>.</simpara>
        </tip>
        <simpara>You can find a usable device by the following.</simpara>
        <screen># wodim --devices</screen>
        <simpara>Then the blank CD-R is inserted to the CD drive, and the ISO9660 image file, "<literal>cd.iso</literal>" is written to this device, e.g., "<literal>/dev/hda</literal>", using <literal>wodim</literal>(1) by the following.</simpara>
        <screen># wodim -v -eject dev=/dev/hda cd.iso</screen>
        <simpara>If CD-RW is used instead of CD-R, do this instead by the following.</simpara>
        <screen># wodim -v -eject blank=fast dev=/dev/hda cd.iso</screen>
        <tip>
          <simpara>If your desktop system mounts CD automatically, unmount it by "<literal>sudo unmount /dev/hda</literal>" before using <literal>wodim</literal>(1).</simpara>
        </tip>
      </section>
      <section id="_mounting_the_iso9660_image_file">
        <title>Mounting the ISO9660 image file</title>
        <simpara>If "<literal>cd.iso</literal>" contains an ISO9660 image, then the following will manually mount it to "<literal>/cdrom</literal>" by the following.</simpara>
        <screen># mount -t iso9660 -o ro,loop cd.iso /cdrom</screen>
        <tip>
          <simpara>Modern desktop system mounts removable media automatically (see <xref linkend="_removable_storage_device"/>).</simpara>
        </tip>
      </section>
      <section id="_spliting_a_large_file_into_small_files">
        <title>Spliting a large file into small files</title>
        <simpara>When a data is too big to backup as a single file, you can backup its content after splitting it into, e.g. 2000MiB chunks and merge those chunks back into the original file later.</simpara>
        <screen>$ split -b 2000m large_file
$ cat x* &gt;large_file</screen>
        <caution>
          <simpara>Please make sure you do not have any files starting with "<literal>x</literal>" to avoid name crashes.</simpara>
        </caution>
      </section>
      <section id="_clearing_file_contents">
        <title>Clearing file contents</title>
        <simpara>In order to clear the contents of a file such as a log file, do not use <literal>rm</literal>(1) to delete the file and then create a new empty file, because the file may still be accessed in the interval between commands.  The following is the safe way to clear the contents of the file.</simpara>
        <screen>$ :&gt;file_to_be_cleared</screen>
      </section>
      <section id="_dummy_files">
        <title>Dummy files</title>
        <simpara>The following commands will create dummy or empty files.</simpara>
        <screen>$ dd if=/dev/zero    of=5kb.file bs=1k count=5
$ dd if=/dev/urandom of=7mb.file bs=1M count=7
$ touch zero.file
$ : &gt; alwayszero.file</screen>
        <simpara>You should find following files.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
"<literal>5kb.file</literal>" is 5KB of zeros.
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>7mb.file</literal>" is 7MB of random data.
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>zero.file</literal>" may be a 0 byte file.  If it existed, its <literal>mtime</literal> is updated while its content and its length are kept.
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>alwayszero.file</literal>" is always a 0 byte file.  If it existed, its <literal>mtime</literal> is updated and its content is reset.
</simpara>
          </listitem>
        </itemizedlist>
      </section>
      <section id="_erasing_an_entire_hard_disk">
        <title>Erasing an entire hard disk</title>
        <simpara>There are several ways to completely erase data from an entire hard disk like device, e.g., USB memory stick at "<literal>/dev/sda</literal>".</simpara>
        <caution>
          <simpara>Check your USB memory stick location with <literal>mount</literal>(8) first before executing commands here.  The device pointed by "<literal>/dev/sda</literal>" may be SCSI hard disk or serial-ATA hard disk where your entire system resides.</simpara>
        </caution>
        <simpara>Erase all the disk content by resetting data to 0 with the following.</simpara>
        <screen># dd if=/dev/zero of=/dev/sda</screen>
        <simpara>Erase all by overwriting random data with the following.</simpara>
        <screen># dd if=/dev/urandom of=/dev/sda</screen>
        <simpara>Erase all by overwriting random data very efficiently with the following.</simpara>
        <screen># shred -v -n 1 /dev/sda</screen>
        <simpara>Since <literal>dd</literal>(1) is available from the shell of many bootable Linux CDs such as Debian installer CD, you can erase your installed system completely by running an erase command from such media on the system hard disk, e.g., "<literal>/dev/hda</literal>", "<literal>/dev/sda</literal>", etc.</simpara>
      </section>
      <section id="_undeleting_deleted_but_still_open_files">
        <title>Undeleting deleted but still open files</title>
        <simpara>Even if you have accidentally deleted a file, as long as that file is still being used by some application (read or write mode), it is possible to recover such a file.</simpara>
        <simpara>For example, try the following</simpara>
        <screen>$ echo foo &gt; bar
$ less bar
$ ps aux | grep ' less[ ]'
bozo    4775  0.0  0.0  92200   884 pts/8    S+   00:18   0:00 less bar
$ rm bar
$ ls -l /proc/4775/fd | grep bar
lr-x------ 1 bozo bozo 64 2008-05-09 00:19 4 -&gt; /home/bozo/bar (deleted)
$ cat /proc/4775/fd/4 &gt;bar
$ ls -l
-rw-r--r-- 1 bozo bozo 4 2008-05-09 00:25 bar
$ cat bar
foo</screen>
        <simpara>Execute on another terminal (when you have the <literal>lsof</literal> package installed) as follows.</simpara>
        <screen>$ ls -li bar
2228329 -rw-r--r-- 1 bozo bozo 4 2008-05-11 11:02 bar
$ lsof |grep bar|grep less
less 4775 bozo 4r REG 8,3 4 2228329 /home/bozo/bar
$ rm bar
$ lsof |grep bar|grep less
less 4775 bozo 4r REG 8,3 4 2228329 /home/bozo/bar (deleted)
$ cat /proc/4775/fd/4 &gt;bar
$ ls -li bar
2228302 -rw-r--r-- 1 bozo bozo 4 2008-05-11 11:05 bar
$ cat bar
foo</screen>
      </section>
      <section id="_searching_all_hardlinks">
        <title>Searching all hardlinks</title>
        <simpara>Files with hardlinks can be identified by "<literal>ls -li</literal>".</simpara>
        <screen>$ ls -li
total 0
2738405 -rw-r--r-- 1 root root 0 2008-09-15 20:21 bar
2738404 -rw-r--r-- 2 root root 0 2008-09-15 20:21 baz
2738404 -rw-r--r-- 2 root root 0 2008-09-15 20:21 foo</screen>
        <simpara>Both "<literal>baz</literal>" and "<literal>foo</literal>" have link counts of "2" (&gt;1) showing them to have hardlinks.  Their inode numbers are common "2738404".  This means they are the same hardlinked file.  If you do not happen to find all hardlinked files by chance, you can search it by the inode, e.g., "2738404" as the following.</simpara>
        <screen># find /path/to/mount/point -xdev -inum 2738404</screen>
      </section>
      <section id="_invisible_disk_space_consumption">
        <title>Invisible disk space consumption</title>
        <simpara>All deleted but open files consumes disk space although they are not visible from normal <literal>du</literal>(1).  They can be listed with their size by the following.</simpara>
        <screen># lsof -s -X / |grep deleted</screen>
      </section>
    </section>
    <section id="_data_security_infrastructure">
      <title>Data security infrastructure</title>
      <simpara>The data security infrastructure is provided by the combination of data encryption tool, message digest tool, and signature tool.</simpara>
      <table id="listofdatasecurirastructuretools" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>List of data security infrastructure tools</title>
        <tgroup cols="5">
          <colspec colwidth="10%*" align="left"/>
          <colspec colwidth="10%*" align="left"/>
          <colspec colwidth="10%*" align="left"/>
          <colspec colwidth="10%*" align="left"/>
          <colspec colwidth="60%*" align="left"/>
          <thead>
            <row>
              <entry>
    command
    </entry>
              <entry>
    package
    </entry>
              <entry>
    popcon
    </entry>
              <entry>
    size
    </entry>
              <entry>
    description
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry><literal>gpg</literal>(1)
    </entry>
              <entry><ulink url="http://packages.debian.org/sid/gnupg">
                <literal>gnupg</literal>
              </ulink> <ulink url="http://bugs.debian.org/gnupg">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=gnupg">&pop-gnupg;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/g/gnupg.html">&size-gnupg;</ulink></entry>
              <entry><ulink url="&gnuprivacyguard;">GNU Privacy Guard</ulink> -  OpenPGP encryption and signing tool
    </entry>
            </row>
            <row>
              <entry>
    N/A
    </entry>
              <entry><ulink url="http://packages.debian.org/sid/gnupg-doc">
                <literal>gnupg-doc</literal>
              </ulink> <ulink url="http://bugs.debian.org/gnupg-doc">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=gnupg-doc">&pop-gnupgdoc;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/g/gnupg-doc.html">&size-gnupgdoc;</ulink></entry>
              <entry>
    GNU Privacy Guard documentation
    </entry>
            </row>
            <row>
              <entry><literal>gpgv</literal>(1)
    </entry>
              <entry><ulink url="http://packages.debian.org/sid/gpgv">
                <literal>gpgv</literal>
              </ulink> <ulink url="http://bugs.debian.org/gpgv">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=gpgv">&pop-gpgv;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/g/gpgv.html">&size-gpgv;</ulink></entry>
              <entry>
    GNU Privacy Guard - signature verification tool
    </entry>
            </row>
            <row>
              <entry><literal>paperkey</literal>(1)
    </entry>
              <entry><ulink url="http://packages.debian.org/sid/paperkey">
                <literal>paperkey</literal>
              </ulink> <ulink url="http://bugs.debian.org/paperkey">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=paperkey">&pop-paperkey;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/p/paperkey.html">&size-paperkey;</ulink></entry>
              <entry>
    extract just the secret information out ouf OpenPGP secret keys
    </entry>
            </row>
            <row>
              <entry><literal>cryptsetup</literal>(8), …
    </entry>
              <entry><ulink url="http://packages.debian.org/sid/cryptsetup">
                <literal>cryptsetup</literal>
              </ulink> <ulink url="http://bugs.debian.org/cryptsetup">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=cryptsetup">&pop-cryptsetup;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/c/cryptsetup.html">&size-cryptsetup;</ulink></entry>
              <entry>
    utilities for <ulink url="&dmcrypto;">dm-crypto</ulink> block device encryption supporting <ulink url="&luks;">LUKS</ulink>
    </entry>
            </row>
            <row>
              <entry><literal>ecryptfs</literal>(7), …
    </entry>
              <entry><ulink url="http://packages.debian.org/sid/ecryptfs-utils">
                <literal>ecryptfs-utils</literal>
              </ulink> <ulink url="http://bugs.debian.org/ecryptfs-utils">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=ecryptfs-utils">&pop-ecryptfsutils;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/e/ecryptfs-utils.html">&size-ecryptfsutils;</ulink></entry>
              <entry>
    utilities for <ulink url="&ecryptfs;">ecryptfs</ulink> stacked filesystem encryption
    </entry>
            </row>
            <row>
              <entry><literal>md5sum</literal>(1)
    </entry>
              <entry><ulink url="http://packages.debian.org/sid/coreutils">
                <literal>coreutils</literal>
              </ulink> <ulink url="http://bugs.debian.org/coreutils">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=coreutils">&pop-coreutils;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/c/coreutils.html">&size-coreutils;</ulink></entry>
              <entry>
    compute and check MD5 message digest
    </entry>
            </row>
            <row>
              <entry><literal>sha1sum</literal>(1)
    </entry>
              <entry><ulink url="http://packages.debian.org/sid/coreutils">
                <literal>coreutils</literal>
              </ulink> <ulink url="http://bugs.debian.org/coreutils">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=coreutils">&pop-coreutils;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/c/coreutils.html">&size-coreutils;</ulink></entry>
              <entry>
    compute and checks SHA1 message digest
    </entry>
            </row>
            <row>
              <entry><literal>openssl</literal>(1ssl)
    </entry>
              <entry><ulink url="http://packages.debian.org/sid/openssl">
                <literal>openssl</literal>
              </ulink> <ulink url="http://bugs.debian.org/openssl">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=openssl">&pop-openssl;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/o/openssl.html">&size-openssl;</ulink></entry>
              <entry>
    compute message digest with "<literal>openssl dgst</literal>" (OpenSSL)
    </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <simpara>See <xref linkend="_data_encryption_tips"/> on <ulink url="&dmcrypto;">dm-crypto</ulink> and <ulink url="&ecryptfs;">ecryptfs</ulink> which implement automatic data encryption infrastructure via Linux kernel modules.</simpara>
      <section id="_key_management_for_gnupg">
        <title>Key management for GnuPG</title>
        <simpara>Here are <ulink url="&gnuprivacyguard;">GNU Privacy Guard</ulink> commands for the basic key management.</simpara>
        <table id="listofgnuprivacythekeymanagement" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of GNU Privacy Guard commands for the key management</title>
          <tgroup cols="2">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="70%*" align="left"/>
            <thead>
              <row>
                <entry>
    command
    </entry>
                <entry>
    description
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>gpg --gen-key</literal>
                </entry>
                <entry>
    generate a new key
    </entry>
              </row>
              <row>
                <entry>
                  <literal>gpg --gen-revoke my_user_ID</literal>
                </entry>
                <entry>
    generate revoke key for my_user_ID
    </entry>
              </row>
              <row>
                <entry>
                  <literal>gpg --edit-key user_ID</literal>
                </entry>
                <entry>
    edit key interactively, "help" for help
    </entry>
              </row>
              <row>
                <entry>
                  <literal>gpg -o file --exports</literal>
                </entry>
                <entry>
    export all keys to file
    </entry>
              </row>
              <row>
                <entry>
                  <literal>gpg --imports file</literal>
                </entry>
                <entry>
    import all keys from file
    </entry>
              </row>
              <row>
                <entry>
                  <literal>gpg --send-keys user_ID</literal>
                </entry>
                <entry>
    send key of user_ID to keyserver
    </entry>
              </row>
              <row>
                <entry>
                  <literal>gpg --recv-keys user_ID</literal>
                </entry>
                <entry>
    recv. key of user_ID from keyserver
    </entry>
              </row>
              <row>
                <entry>
                  <literal>gpg --list-keys user_ID</literal>
                </entry>
                <entry>
    list keys of user_ID
    </entry>
              </row>
              <row>
                <entry>
                  <literal>gpg --list-sigs user_ID</literal>
                </entry>
                <entry>
    list sig. of user_ID
    </entry>
              </row>
              <row>
                <entry>
                  <literal>gpg --check-sigs user_ID</literal>
                </entry>
                <entry>
    check sig. of user_ID
    </entry>
              </row>
              <row>
                <entry>
                  <literal>gpg --fingerprint user_ID</literal>
                </entry>
                <entry>
    check fingerprint of user_ID
    </entry>
              </row>
              <row>
                <entry>
                  <literal>gpg --refresh-keys</literal>
                </entry>
                <entry>
    update local keyring
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>Here is the meaning of the trust code.</simpara>
        <table id="listofthemeaningoftherustcode" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of the meaning of the rust code</title>
          <tgroup cols="2">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="70%*" align="left"/>
            <thead>
              <row>
                <entry>
    code
    </entry>
                <entry>
    description of trust
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>-</literal>
                </entry>
                <entry>
    no owner trust assigned / not yet calculated
    </entry>
              </row>
              <row>
                <entry>
                  <literal>e</literal>
                </entry>
                <entry>
    trust calculation failed
    </entry>
              </row>
              <row>
                <entry>
                  <literal>q</literal>
                </entry>
                <entry>
    not enough information for calculation
    </entry>
              </row>
              <row>
                <entry>
                  <literal>n</literal>
                </entry>
                <entry>
    never trust this key
    </entry>
              </row>
              <row>
                <entry>
                  <literal>m</literal>
                </entry>
                <entry>
    marginally trusted
    </entry>
              </row>
              <row>
                <entry>
                  <literal>f</literal>
                </entry>
                <entry>
    fully trusted
    </entry>
              </row>
              <row>
                <entry>
                  <literal>u</literal>
                </entry>
                <entry>
    ultimately trusted
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>The following will upload my key "<literal>A8061F32</literal>" to the popular keyserver "<literal>hkp://subkeys.pgp.net</literal>".</simpara>
        <screen>$ gpg --keyserver hkp://subkeys.pgp.net --send-keys A8061F32</screen>
        <simpara>A good default keyserver set up in "<literal>~/.gnupg/gpg.conf</literal>" (or old location "<literal>~/.gnupg/options</literal>") contains the following.</simpara>
        <screen>keyserver hkp://subkeys.pgp.net</screen>
        <simpara>The following will obtain unknown keys from the keyserver.</simpara>
        <screen>$ gpg --list-sigs | \
  sed -n '/^sig.*\[User ID not found\]/s/^sig..........\(\w\w*\)\W.*/\1/p' |\
  sort | uniq | xargs gpg --recv-keys</screen>
        <simpara>There was a bug in <ulink url="&openpgppublickeyserver;">OpenPGP Public Key Server</ulink> (pre version 0.9.6) which corrupted key with more than 2 sub-keys.  The newer <literal>gnupg</literal> (&gt;1.2.1-2) package can handle these corrupted subkeys.  See <literal>gpg</literal>(1) under "<literal>--repair-pks-subkey-bug</literal>" option.</simpara>
      </section>
      <section id="_using_gnupg_on_files">
        <title>Using GnuPG on files</title>
        <simpara>Here are examples for using <ulink url="&gnuprivacyguard;">GNU Privacy Guard</ulink> commands on files.</simpara>
        <table id="listofgnuprivacydcommandsonfiles" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of GNU Privacy Guard commands on files</title>
          <tgroup cols="2">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="70%*" align="left"/>
            <thead>
              <row>
                <entry>
    command
    </entry>
                <entry>
    description
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>gpg -a -s file</literal>
                </entry>
                <entry>
    sign file into ascii armored file.asc
    </entry>
              </row>
              <row>
                <entry>
                  <literal>gpg --armor --sign file</literal>
                </entry>
                <entry>
    , ,
    </entry>
              </row>
              <row>
                <entry>
                  <literal>gpg --clearsign file</literal>
                </entry>
                <entry>
    clear-sign message
    </entry>
              </row>
              <row>
                <entry>
                  <literal>gpg --clearsign --not-dash-escaped patchfile</literal>
                </entry>
                <entry>
    clear-sign patchfile
    </entry>
              </row>
              <row>
                <entry>
                  <literal>gpg --verify file</literal>
                </entry>
                <entry>
    verify clear-signed file
    </entry>
              </row>
              <row>
                <entry>
                  <literal>gpg -o file.sig -b file</literal>
                </entry>
                <entry>
    create detached signature
    </entry>
              </row>
              <row>
                <entry>
                  <literal>gpg -o file.sig --detach-sig file</literal>
                </entry>
                <entry>
    , ,
    </entry>
              </row>
              <row>
                <entry>
                  <literal>gpg --verify file.sig file</literal>
                </entry>
                <entry>
    verify file with file.sig
    </entry>
              </row>
              <row>
                <entry>
                  <literal>gpg -o crypt_file.gpg -r name -e file</literal>
                </entry>
                <entry>
    public-key encryption intended for name from file to binary crypt_file.gpg
    </entry>
              </row>
              <row>
                <entry>
                  <literal>gpg -o crypt_file.gpg --recipient name --encrypt file</literal>
                </entry>
                <entry>
    , ,
    </entry>
              </row>
              <row>
                <entry>
                  <literal>gpg -o crypt_file.asc -a -r name -e file</literal>
                </entry>
                <entry>
    public-key encryption intended for name from file to ASCII armored crypt_file.asc
    </entry>
              </row>
              <row>
                <entry>
                  <literal>gpg -o crypt_file.gpg -c file</literal>
                </entry>
                <entry>
    symmetric encryption from file to crypt_file.gpg
    </entry>
              </row>
              <row>
                <entry>
                  <literal>gpg -o crypt_file.gpg --symmetric file</literal>
                </entry>
                <entry>
    , ,
    </entry>
              </row>
              <row>
                <entry>
                  <literal>gpg -o crypt_file.asc -a -c file</literal>
                </entry>
                <entry>
    symmetric encryption intended for name from file to ASCII armored crypt_file.asc
    </entry>
              </row>
              <row>
                <entry>
                  <literal>gpg -o file -d crypt_file.gpg -r name</literal>
                </entry>
                <entry>
    decryption
    </entry>
              </row>
              <row>
                <entry>
                  <literal>gpg -o file --decrypt crypt_file.gpg</literal>
                </entry>
                <entry>
    , ,
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </section>
      <section id="_using_gnupg_with_mutt">
        <title>Using GnuPG with Mutt</title>
        <simpara>Add the following to "<literal>~/.muttrc</literal>" to keep a slow GnuPG from automatically
starting, while allowing it to be used by typing "<literal>S</literal>" at the index menu.</simpara>
        <screen>macro index S ":toggle pgp_verify_sig\n"
set pgp_verify_sig=no</screen>
      </section>
      <section id="_using_gnupg_with_vim">
        <title>Using GnuPG with Vim</title>
        <simpara>The <literal>gnupg</literal> plugin let you run GnuPG transparently for files with extension "<literal>.gpg</literal>", "<literal>.asc</literal>", and "<literal>.ppg</literal>".</simpara>
        <screen># aptitude install vim-scripts vim-addon-manager
$ vim-addons install gnupg</screen>
      </section>
      <section id="_the_md5_sum">
        <title>The MD5 sum</title>
        <simpara><literal>md5sum</literal>(1) provides utility to make a digest file using the method in <ulink url="&rfcbdcb;">rfc1321</ulink> and verifying each file with it.</simpara>
        <screen>$ md5sum foo bar &gt;baz.md5
$ cat baz.md5
d3b07384d113edec49eaa6238ad5ff00  foo
c157a79031e1c40f85931829bc5fc552  bar
$ md5sum -c baz.md5
foo: OK
bar: OK</screen>
        <note>
          <simpara>The computation for the <ulink url="&mdf;">MD5</ulink> sum is less CPU intensive than the one for the cryptographic signature by <ulink url="&gnuprivacyguardgnupg;">GNU Privacy Guard (GnuPG)</ulink>. Usually, only the top level digest file is cryptographically signed to ensure data integrity.</simpara>
        </note>
      </section>
    </section>
    <section id="_source_code_merge_tools">
      <title>Source code merge tools</title>
      <simpara>There are many merge tools for the source code.  Following commands caught my eyes.</simpara>
      <table id="listofsourcecodemergetools" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>List of source code merge tools</title>
        <tgroup cols="5">
          <colspec colwidth="10%*" align="left"/>
          <colspec colwidth="10%*" align="left"/>
          <colspec colwidth="10%*" align="left"/>
          <colspec colwidth="10%*" align="left"/>
          <colspec colwidth="60%*" align="left"/>
          <thead>
            <row>
              <entry>
    command
    </entry>
              <entry>
    package
    </entry>
              <entry>
    popcon
    </entry>
              <entry>
    size
    </entry>
              <entry>
    description
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry><literal>diff</literal>(1)
    </entry>
              <entry><ulink url="http://packages.debian.org/sid/diff">
                <literal>diff</literal>
              </ulink> <ulink url="http://bugs.debian.org/diff">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=diff">&pop-diff;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/d/diff.html">&size-diff;</ulink></entry>
              <entry>
    compare files line by line
    </entry>
            </row>
            <row>
              <entry><literal>diff3</literal>(1)
    </entry>
              <entry><ulink url="http://packages.debian.org/sid/diff">
                <literal>diff</literal>
              </ulink> <ulink url="http://bugs.debian.org/diff">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=diff">&pop-diff;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/d/diff.html">&size-diff;</ulink></entry>
              <entry>
    compare and merges three files line by line
    </entry>
            </row>
            <row>
              <entry><literal>vimdiff</literal>(1)
    </entry>
              <entry><ulink url="http://packages.debian.org/sid/vim">
                <literal>vim</literal>
              </ulink> <ulink url="http://bugs.debian.org/vim">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=vim">&pop-vim;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/v/vim.html">&size-vim;</ulink></entry>
              <entry>
    compare 2 files side by side in vim
    </entry>
            </row>
            <row>
              <entry><literal>patch</literal>(1)
    </entry>
              <entry><ulink url="http://packages.debian.org/sid/patch">
                <literal>patch</literal>
              </ulink> <ulink url="http://bugs.debian.org/patch">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=patch">&pop-patch;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/p/patch.html">&size-patch;</ulink></entry>
              <entry>
    apply a diff file to an original
    </entry>
            </row>
            <row>
              <entry><literal>dpatch</literal>(1)
    </entry>
              <entry><ulink url="http://packages.debian.org/sid/dpatch">
                <literal>dpatch</literal>
              </ulink> <ulink url="http://bugs.debian.org/dpatch">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=dpatch">&pop-dpatch;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/d/dpatch.html">&size-dpatch;</ulink></entry>
              <entry>
    manage series of patches for Debian package
    </entry>
            </row>
            <row>
              <entry><literal>diffstat</literal>(1)
    </entry>
              <entry><ulink url="http://packages.debian.org/sid/diffstat">
                <literal>diffstat</literal>
              </ulink> <ulink url="http://bugs.debian.org/diffstat">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=diffstat">&pop-diffstat;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/d/diffstat.html">&size-diffstat;</ulink></entry>
              <entry>
    produce a histogram of changes by the diff
    </entry>
            </row>
            <row>
              <entry><literal>combinediff</literal>(1)
    </entry>
              <entry><ulink url="http://packages.debian.org/sid/patchutils">
                <literal>patchutils</literal>
              </ulink> <ulink url="http://bugs.debian.org/patchutils">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=patchutils">&pop-patchutils;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/p/patchutils.html">&size-patchutils;</ulink></entry>
              <entry>
    create a cumulative patch from two incremental patches
    </entry>
            </row>
            <row>
              <entry><literal>dehtmldiff</literal>(1)
    </entry>
              <entry><ulink url="http://packages.debian.org/sid/patchutils">
                <literal>patchutils</literal>
              </ulink> <ulink url="http://bugs.debian.org/patchutils">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=patchutils">&pop-patchutils;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/p/patchutils.html">&size-patchutils;</ulink></entry>
              <entry>
    extract a diff from an HTML page
    </entry>
            </row>
            <row>
              <entry><literal>filterdiff</literal>(1)
    </entry>
              <entry><ulink url="http://packages.debian.org/sid/patchutils">
                <literal>patchutils</literal>
              </ulink> <ulink url="http://bugs.debian.org/patchutils">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=patchutils">&pop-patchutils;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/p/patchutils.html">&size-patchutils;</ulink></entry>
              <entry>
    extract or excludes diffs from a diff file
    </entry>
            </row>
            <row>
              <entry><literal>fixcvsdiff</literal>(1)
    </entry>
              <entry><ulink url="http://packages.debian.org/sid/patchutils">
                <literal>patchutils</literal>
              </ulink> <ulink url="http://bugs.debian.org/patchutils">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=patchutils">&pop-patchutils;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/p/patchutils.html">&size-patchutils;</ulink></entry>
              <entry>
    fix diff files created by CVS that <literal>patch</literal>(1) mis-interprets
    </entry>
            </row>
            <row>
              <entry><literal>flipdiff</literal>(1)
    </entry>
              <entry><ulink url="http://packages.debian.org/sid/patchutils">
                <literal>patchutils</literal>
              </ulink> <ulink url="http://bugs.debian.org/patchutils">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=patchutils">&pop-patchutils;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/p/patchutils.html">&size-patchutils;</ulink></entry>
              <entry>
    exchange the order of two patches
    </entry>
            </row>
            <row>
              <entry><literal>grepdiff</literal>(1)
    </entry>
              <entry><ulink url="http://packages.debian.org/sid/patchutils">
                <literal>patchutils</literal>
              </ulink> <ulink url="http://bugs.debian.org/patchutils">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=patchutils">&pop-patchutils;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/p/patchutils.html">&size-patchutils;</ulink></entry>
              <entry>
    show which files are modified by a patch matching a regex
    </entry>
            </row>
            <row>
              <entry><literal>interdiff</literal>(1)
    </entry>
              <entry><ulink url="http://packages.debian.org/sid/patchutils">
                <literal>patchutils</literal>
              </ulink> <ulink url="http://bugs.debian.org/patchutils">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=patchutils">&pop-patchutils;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/p/patchutils.html">&size-patchutils;</ulink></entry>
              <entry>
    show differences between two unified diff files
    </entry>
            </row>
            <row>
              <entry><literal>lsdiff</literal>(1)
    </entry>
              <entry><ulink url="http://packages.debian.org/sid/patchutils">
                <literal>patchutils</literal>
              </ulink> <ulink url="http://bugs.debian.org/patchutils">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=patchutils">&pop-patchutils;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/p/patchutils.html">&size-patchutils;</ulink></entry>
              <entry>
    show which files are modified by a patch
    </entry>
            </row>
            <row>
              <entry><literal>recountdiff</literal>(1)
    </entry>
              <entry><ulink url="http://packages.debian.org/sid/patchutils">
                <literal>patchutils</literal>
              </ulink> <ulink url="http://bugs.debian.org/patchutils">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=patchutils">&pop-patchutils;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/p/patchutils.html">&size-patchutils;</ulink></entry>
              <entry>
    recompute counts and offsets in unified context diffs
    </entry>
            </row>
            <row>
              <entry><literal>rediff</literal>(1)
    </entry>
              <entry><ulink url="http://packages.debian.org/sid/patchutils">
                <literal>patchutils</literal>
              </ulink> <ulink url="http://bugs.debian.org/patchutils">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=patchutils">&pop-patchutils;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/p/patchutils.html">&size-patchutils;</ulink></entry>
              <entry>
    fix offsets and counts of a hand-edited diff
    </entry>
            </row>
            <row>
              <entry><literal>splitdiff</literal>(1)
    </entry>
              <entry><ulink url="http://packages.debian.org/sid/patchutils">
                <literal>patchutils</literal>
              </ulink> <ulink url="http://bugs.debian.org/patchutils">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=patchutils">&pop-patchutils;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/p/patchutils.html">&size-patchutils;</ulink></entry>
              <entry>
    separate out incremental patches
    </entry>
            </row>
            <row>
              <entry><literal>unwrapdiff</literal>(1)
    </entry>
              <entry><ulink url="http://packages.debian.org/sid/patchutils">
                <literal>patchutils</literal>
              </ulink> <ulink url="http://bugs.debian.org/patchutils">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=patchutils">&pop-patchutils;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/p/patchutils.html">&size-patchutils;</ulink></entry>
              <entry>
    demangle patches that have been word-wrapped
    </entry>
            </row>
            <row>
              <entry><literal>wiggle</literal>(1)
    </entry>
              <entry><ulink url="http://packages.debian.org/sid/wiggle">
                <literal>wiggle</literal>
              </ulink> <ulink url="http://bugs.debian.org/wiggle">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=wiggle">&pop-wiggle;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/w/wiggle.html">&size-wiggle;</ulink></entry>
              <entry>
    apply rejected patches
    </entry>
            </row>
            <row>
              <entry><literal>quilt</literal>(1)
    </entry>
              <entry><ulink url="http://packages.debian.org/sid/quilt">
                <literal>quilt</literal>
              </ulink> <ulink url="http://bugs.debian.org/quilt">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=quilt">&pop-quilt;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/q/quilt.html">&size-quilt;</ulink></entry>
              <entry>
    manage series of patches
    </entry>
            </row>
            <row>
              <entry><literal>meld</literal>(1)
    </entry>
              <entry><ulink url="http://packages.debian.org/sid/meld">
                <literal>meld</literal>
              </ulink> <ulink url="http://bugs.debian.org/meld">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=meld">&pop-meld;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/m/meld.html">&size-meld;</ulink></entry>
              <entry>
    compare and merge files (GTK)
    </entry>
            </row>
            <row>
              <entry><literal>xxdiff</literal>(1)
    </entry>
              <entry><ulink url="http://packages.debian.org/sid/xxdiff">
                <literal>xxdiff</literal>
              </ulink> <ulink url="http://bugs.debian.org/xxdiff">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=xxdiff">&pop-xxdiff;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/x/xxdiff.html">&size-xxdiff;</ulink></entry>
              <entry>
    compare and merge files (plain X)
    </entry>
            </row>
            <row>
              <entry><literal>dirdiff</literal>(1)
    </entry>
              <entry><ulink url="http://packages.debian.org/sid/dirdiff">
                <literal>dirdiff</literal>
              </ulink> <ulink url="http://bugs.debian.org/dirdiff">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=dirdiff">&pop-dirdiff;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/d/dirdiff.html">&size-dirdiff;</ulink></entry>
              <entry>
    display differences and merge changes between directory trees
    </entry>
            </row>
            <row>
              <entry><literal>docdiff</literal>(1)
    </entry>
              <entry><ulink url="http://packages.debian.org/sid/docdiff">
                <literal>docdiff</literal>
              </ulink> <ulink url="http://bugs.debian.org/docdiff">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=docdiff">&pop-docdiff;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/d/docdiff.html">&size-docdiff;</ulink></entry>
              <entry>
    compare two files word by word / char by char
    </entry>
            </row>
            <row>
              <entry><literal>imediff2</literal>(1)
    </entry>
              <entry><ulink url="http://packages.debian.org/sid/imediff2">
                <literal>imediff2</literal>
              </ulink> <ulink url="http://bugs.debian.org/imediff2">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=imediff2">&pop-imediffc;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/i/imediff2.html">&size-imediffc;</ulink></entry>
              <entry>
    interactive full screen 2-way merge tool
    </entry>
            </row>
            <row>
              <entry><literal>makepatch</literal>(1)
    </entry>
              <entry><ulink url="http://packages.debian.org/sid/makepatch">
                <literal>makepatch</literal>
              </ulink> <ulink url="http://bugs.debian.org/makepatch">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=makepatch">&pop-makepatch;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/m/makepatch.html">&size-makepatch;</ulink></entry>
              <entry>
    generate extended patch files
    </entry>
            </row>
            <row>
              <entry><literal>applypatch</literal>(1)
    </entry>
              <entry><ulink url="http://packages.debian.org/sid/makepatch">
                <literal>makepatch</literal>
              </ulink> <ulink url="http://bugs.debian.org/makepatch">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=makepatch">&pop-makepatch;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/m/makepatch.html">&size-makepatch;</ulink></entry>
              <entry>
    apply extended patch files
    </entry>
            </row>
            <row>
              <entry><literal>wdiff</literal>(1)
    </entry>
              <entry><ulink url="http://packages.debian.org/sid/wdiff">
                <literal>wdiff</literal>
              </ulink> <ulink url="http://bugs.debian.org/wdiff">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=wdiff">&pop-wdiff;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/w/wdiff.html">&size-wdiff;</ulink></entry>
              <entry>
    display word differences between text files
    </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <section id="_extracting_differences_for_source_files">
        <title>Extracting differences for source files</title>
        <simpara>One of following procedures will extract differences between two source files and create unified diff files "<literal>file.patch0</literal>" or "<literal>file.patch1</literal>" depending on the file location.</simpara>
        <screen>$ diff -u file.old file.new &gt; file.patch0
$ diff -u old/file new/file &gt; file.patch1</screen>
      </section>
      <section id="_merging_updates_for_source_files">
        <title>Merging updates for source files</title>
        <simpara>The diff file (alternatively called patch file) is used to send a program update.  The receiving party will apply this update to another file by the following.</simpara>
        <screen>$ patch -p0 file &lt; file.patch0
$ patch -p1 file &lt; file.patch1</screen>
      </section>
      <section id="_updating_via_3_way_merge">
        <title>Updating via 3-way-merge</title>
        <simpara>If you have three versions of a source code, you can perform 3-way-merge effectively using <literal>diff3</literal>(1) by the following.</simpara>
        <screen>$ diff3 -m file.mine file.old file.yours &gt; file</screen>
      </section>
    </section>
    <section id="_version_control_systems">
      <title>Version control systems</title>
      <simpara>Here is a summary of the <ulink url="&versioncontrolsystemsvcs;">version control systems (VCS)</ulink> on the Debian system.</simpara>
      <note>
        <simpara>If you are new to VCS systems, you should start learning with <emphasis role="strong">Git</emphasis>, which is growing fast in popularity.</simpara>
      </note>
      <table id="list-of-vcs" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>List of version control system tools</title>
        <tgroup cols="6">
          <colspec colwidth="10%*" align="left"/>
          <colspec colwidth="10%*" align="left"/>
          <colspec colwidth="10%*" align="left"/>
          <colspec colwidth="10%*" align="left"/>
          <colspec colwidth="10%*" align="left"/>
          <colspec colwidth="50%*" align="left"/>
          <thead>
            <row>
              <entry>
    package
    </entry>
              <entry>
    popcon
    </entry>
              <entry>
    size
    </entry>
              <entry>
    tool
    </entry>
              <entry>
    VCS type
    </entry>
              <entry>
    comment
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/cssc">
                <literal>cssc</literal>
              </ulink> <ulink url="http://bugs.debian.org/cssc">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=cssc">&pop-cssc;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/c/cssc.html">&size-cssc;</ulink></entry>
              <entry>
                <ulink url="&cssc;">CSSC</ulink>
              </entry>
              <entry>
    local
    </entry>
              <entry>
    clone of the <ulink url="&unixsccs;">Unix SCCS</ulink> (deprecated)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/rcs">
                <literal>rcs</literal>
              </ulink> <ulink url="http://bugs.debian.org/rcs">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=rcs">&pop-rcs;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/r/rcs.html">&size-rcs;</ulink></entry>
              <entry>
                <ulink url="&rcs;">RCS</ulink>
              </entry>
              <entry>
    local
    </entry>
              <entry>
    "<ulink url="&unixsccs;">Unix SCCS</ulink> done right"
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/cvs">
                <literal>cvs</literal>
              </ulink> <ulink url="http://bugs.debian.org/cvs">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=cvs">&pop-cvs;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/c/cvs.html">&size-cvs;</ulink></entry>
              <entry>
                <ulink url="&cvs;">CVS</ulink>
              </entry>
              <entry>
    remote
    </entry>
              <entry>
    previous standard remote VCS
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/subversion">
                <literal>subversion</literal>
              </ulink> <ulink url="http://bugs.debian.org/subversion">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=subversion">&pop-subversion;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/s/subversion.html">&size-subversion;</ulink></entry>
              <entry>
                <ulink url="&subversion;">Subversion</ulink>
              </entry>
              <entry>
    remote
    </entry>
              <entry>
    "CVS done right", the new de facto standard remote VCS
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/git-core">
                <literal>git-core</literal>
              </ulink> <ulink url="http://bugs.debian.org/git-core">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=git-core">&pop-gitcore;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/g/git-core.html">&size-gitcore;</ulink></entry>
              <entry>
                <ulink url="&git;">Git</ulink>
              </entry>
              <entry>
    distributed
    </entry>
              <entry>
    fast DVCS in C (used by the Linux kernel and others)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/mercurial">
                <literal>mercurial</literal>
              </ulink> <ulink url="http://bugs.debian.org/mercurial">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=mercurial">&pop-mercurial;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/m/mercurial.html">&size-mercurial;</ulink></entry>
              <entry>
                <ulink url="&mercurial;">Mercurial</ulink>
              </entry>
              <entry>
    distributed
    </entry>
              <entry>
    DVCS in Python and some C
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/bzr">
                <literal>bzr</literal>
              </ulink> <ulink url="http://bugs.debian.org/bzr">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=bzr">&pop-bzr;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/b/bzr.html">&size-bzr;</ulink></entry>
              <entry>
                <ulink url="&bazaar;">Bazaar</ulink>
              </entry>
              <entry>
    distributed
    </entry>
              <entry>
    DVCS influenced by <literal>tla</literal> written in Python (used by <ulink url="&ubuntu;">Ubuntu</ulink>)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/darcs">
                <literal>darcs</literal>
              </ulink> <ulink url="http://bugs.debian.org/darcs">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=darcs">&pop-darcs;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/d/darcs.html">&size-darcs;</ulink></entry>
              <entry>
                <ulink url="&darcs;">Darcs</ulink>
              </entry>
              <entry>
    distributed
    </entry>
              <entry>
    DVCS with smart algebra of patches (slow)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/tla">
                <literal>tla</literal>
              </ulink> <ulink url="http://bugs.debian.org/tla">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=tla">&pop-tla;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/t/tla.html">&size-tla;</ulink></entry>
              <entry>
                <ulink url="&gnuarch;">GNU arch</ulink>
              </entry>
              <entry>
    distributed
    </entry>
              <entry>
    DVCS mainly by Tom Lord (Historic)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/monotone">
                <literal>monotone</literal>
              </ulink> <ulink url="http://bugs.debian.org/monotone">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=monotone">&pop-monotone;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/m/monotone.html">&size-monotone;</ulink></entry>
              <entry>
                <ulink url="&monotone;">Monotone</ulink>
              </entry>
              <entry>
    distributed
    </entry>
              <entry>
    DVCS in C++
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/tkcvs">
                <literal>tkcvs</literal>
              </ulink> <ulink url="http://bugs.debian.org/tkcvs">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=tkcvs">&pop-tkcvs;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/t/tkcvs.html">&size-tkcvs;</ulink></entry>
              <entry>
    CVS, …
    </entry>
              <entry>
    remote
    </entry>
              <entry>
    GUI display of VCS (CVS, Subversion, RCS) repository tree
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/gitk">
                <literal>gitk</literal>
              </ulink> <ulink url="http://bugs.debian.org/gitk">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=gitk">&pop-gitk;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/g/gitk.html">&size-gitk;</ulink></entry>
              <entry>
    Git
    </entry>
              <entry>
    distributed
    </entry>
              <entry>
    GUI display of VCS (Git) repository tree
    </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <simpara>VCS is sometimes known as revision control system (RCS), or software configuration management (SCM).</simpara>
      <simpara>Distributed VCS such as Git is the tool of choice these days.  CVS and Subversion may still be useful to join some existing open source program activities.</simpara>
      <simpara>Debian provides free VCS services via <ulink url="&debianaliothservice;">Debian Alioth service</ulink>.  It supports practically all VCSs. Its documentation can be found at <ulink url="&httpwikidebianorgalioth;">http://wiki.debian.org/Alioth</ulink> .</simpara>
      <caution>
        <simpara>The <literal>git</literal> package is "GNU Interactive Tools" which is not the DVCS.</simpara>
      </caution>
      <section id="_comparison_of_vcs_commands">
        <title>Comparison of VCS commands</title>
        <simpara>Here is an oversimplified comparison of native VCS commands to provide the big picture. The typical command sequence may require options and arguments.</simpara>
        <table id="comparisonofnativevcscommands" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>Comparison of native VCS commands</title>
          <tgroup cols="4">
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="40%*" align="left"/>
            <thead>
              <row>
                <entry>
    CVS
    </entry>
                <entry>
    Subversion
    </entry>
                <entry>
    Git
    </entry>
                <entry>
    function
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>cvs init</literal>
                </entry>
                <entry>
                  <literal>svn create</literal>
                </entry>
                <entry>
                  <literal>git init</literal>
                </entry>
                <entry>
    create the (local) repository
    </entry>
              </row>
              <row>
                <entry>
                  <literal>cvs login</literal>
                </entry>
                <entry>
    -
    </entry>
                <entry>
    -
    </entry>
                <entry>
    login to the remote repository
    </entry>
              </row>
              <row>
                <entry>
                  <literal>cvs co</literal>
                </entry>
                <entry>
                  <literal>svn co</literal>
                </entry>
                <entry>
                  <literal>git clone</literal>
                </entry>
                <entry>
    check out the remote repository as the working tree
    </entry>
              </row>
              <row>
                <entry>
                  <literal>cvs up</literal>
                </entry>
                <entry>
                  <literal>svn up</literal>
                </entry>
                <entry>
                  <literal>git pull</literal>
                </entry>
                <entry>
    update the working tree by merging the remote repository
    </entry>
              </row>
              <row>
                <entry>
                  <literal>cvs add</literal>
                </entry>
                <entry>
                  <literal>svn add</literal>
                </entry>
                <entry>
                  <literal>git add .</literal>
                </entry>
                <entry>
    add file(s) in the working tree to the VCS
    </entry>
              </row>
              <row>
                <entry>
                  <literal>cvs rm</literal>
                </entry>
                <entry>
                  <literal>svn rm</literal>
                </entry>
                <entry>
                  <literal>git rm</literal>
                </entry>
                <entry>
    remove file(s) in working tree from the VCS
    </entry>
              </row>
              <row>
                <entry>
                  <literal>cvs ci</literal>
                </entry>
                <entry>
                  <literal>svn ci</literal>
                </entry>
                <entry>
    -
    </entry>
                <entry>
    commit changes to the remote repository
    </entry>
              </row>
              <row>
                <entry>
    -
    </entry>
                <entry>
    -
    </entry>
                <entry>
                  <literal>git commit -a</literal>
                </entry>
                <entry>
    commit changes to the local repository
    </entry>
              </row>
              <row>
                <entry>
    -
    </entry>
                <entry>
    -
    </entry>
                <entry>
                  <literal>git push</literal>
                </entry>
                <entry>
    update the remote repository by the local repository
    </entry>
              </row>
              <row>
                <entry>
                  <literal>cvs status</literal>
                </entry>
                <entry>
                  <literal>svn status</literal>
                </entry>
                <entry>
                  <literal>git status</literal>
                </entry>
                <entry>
    display the working tree status from the VCS
    </entry>
              </row>
              <row>
                <entry>
                  <literal>cvs diff</literal>
                </entry>
                <entry>
                  <literal>svn diff</literal>
                </entry>
                <entry>
                  <literal>git diff</literal>
                </entry>
                <entry>
    diff &lt;reference_repository&gt; &lt;working_tree&gt;
    </entry>
              </row>
              <row>
                <entry>
    -
    </entry>
                <entry>
    -
    </entry>
                <entry>
                  <literal>git repack -a -d; git prune</literal>
                </entry>
                <entry>
    repack the local repository into single pack
    </entry>
              </row>
              <row>
                <entry>
                  <literal>tkcvs</literal>
                </entry>
                <entry>
                  <literal>tkcvs</literal>
                </entry>
                <entry>
                  <literal>gitk</literal>
                </entry>
                <entry>
    GUI display of VCS repository tree
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <caution>
          <simpara>Invoking a <literal>git</literal> subcommand directly as "<literal>git-xyz</literal>" from the command line has been deprecated since early 2006.</simpara>
        </caution>
        <tip>
          <simpara>GUI tools such as <literal>tkcvs</literal>(1) and <literal>gitk</literal>(1) really help you with tracking revision history of files.  The web interface provided by many public archives for browsing their repositories is also quite useful, too.</simpara>
        </tip>
        <tip>
          <simpara>Git can work directly with different VCS repositories such as ones provided by CVS and Subversion, and provides the local repository for local changes with <literal>git-cvs</literal> and <literal>git-svn</literal> packages.  See <ulink url="&gitforcvsusers;">git for CVS users</ulink>, <ulink url="&gitforgnomedevelopers;">Git for GNOME developers</ulink> and <xref linkend="_git"/>.</simpara>
        </tip>
        <tip>
          <simpara>Git has commands which have no equivalents in CVS and Subversion: "fetch", "rebase", "cherrypick", …</simpara>
        </tip>
      </section>
    </section>
    <section id="_cvs">
      <title>CVS</title>
      <simpara>See the following.</simpara>
      <itemizedlist>
        <listitem>
          <simpara><literal>cvs</literal>(1)
</simpara>
        </listitem>
        <listitem>
          <simpara>
"<literal>/usr/share/doc/cvs/html-cvsclient</literal>"
</simpara>
        </listitem>
        <listitem>
          <simpara>
"<literal>/usr/share/doc/cvs/html-info</literal>"
</simpara>
        </listitem>
        <listitem>
          <simpara>
"<literal>/usr/share/doc/cvsbook</literal>"
</simpara>
        </listitem>
        <listitem>
          <simpara>
"<literal>info cvs</literal>"
</simpara>
        </listitem>
      </itemizedlist>
      <section id="_configuration_of_cvs_repository">
        <title>Configuration of CVS repository</title>
        <simpara>The following configuration will allow commits to the CVS repository only by a member of the "<literal>src</literal>" group, and administration of CVS only by a member of the "<literal>staff</literal>" group, thus reducing the chance of shooting oneself.</simpara>
        <screen># cd /var/lib; umask 002; mkdir cvs
# export CVSROOT=/srv/cvs/project
# cd $CVSROOT
# chown root:src .
# chmod 2775 .
# cvs -d $CVSROOT init
# cd CVSROOT
# chown -R root:staff .
# chmod 2775 .
# touch val-tags
# chmod 664 history val-tags
# chown root:src history val-tags</screen>
        <tip>
          <simpara>You may restrict creation of new project by changing the owner of "<literal>$CVSROOT</literal>" directory to "<literal>root:staff</literal>"  and its permission to "<literal>3775</literal>".</simpara>
        </tip>
      </section>
      <section id="_local_access_to_cvs">
        <title>Local access to CVS</title>
        <simpara>The default CVS repository is pointed by "<literal>$CVSROOT</literal>".  The following will set up "<literal>$CVSROOT</literal>" for the local access.</simpara>
        <screen>$ export CVSROOT=/srv/cvs/project</screen>
      </section>
      <section id="_remote_access_to_cvs_with_pserver">
        <title>Remote access to CVS with pserver</title>
        <simpara>Many public CVS servers provide read-only remote access to them with account name "<literal>anonymous</literal>" via pserver service.  For example, Debian web site contents are maintained by <ulink url="&webwmlproject;">webwml project</ulink> via CVS at Debian alioth service.  The following will set up "<literal>$CVSROOT</literal>" for the remote access to this CVS repository.</simpara>
        <screen>$ export CVSROOT=:pserver:anonymous@cvs.alioth.debian.org:/cvsroot/webwml
$ cvs login</screen>
        <note>
          <simpara>Since pserver is prone to eavesdropping attack and insecure, write access is usually disable by server administrators.</simpara>
        </note>
      </section>
      <section id="_remote_access_to_cvs_with_ssh">
        <title>Remote access to CVS with ssh</title>
        <simpara>The following will set up "<literal>$CVS_RSH</literal>" and "<literal>$CVSROOT</literal>" for the remote access to the CVS repository by <ulink url="&webwmlproject;">webwml project</ulink> with SSH.</simpara>
        <screen>$ export CVS_RSH=ssh
$ export CVSROOT=:ext:account@cvs.alioth.debian.org:/cvs/webwml</screen>
        <simpara>You can also use public key authentication for SSH which eliminates the remote password prompt.</simpara>
      </section>
      <section id="_importing_a_new_source_to_cvs">
        <title>Importing a new source to CVS</title>
        <simpara>Create a new local source tree location at "<literal>~/path/to/module1</literal>" by the following.</simpara>
        <screen>$ mkdir -p ~/path/to/module1; cd ~/path/to/module1</screen>
        <simpara>Populate a new local source tree under "<literal>~/path/to/module1</literal>" with files.</simpara>
        <simpara>Import it to CVS with the following parameters.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
Module name: "<literal>module1</literal>"
</simpara>
          </listitem>
          <listitem>
            <simpara>
Vendor tag: "<literal>Main-branch</literal>" (tag for the entire branch)
</simpara>
          </listitem>
          <listitem>
            <simpara>
Release tag: "<literal>Release-initial</literal>" (tag for a specific release)
</simpara>
          </listitem>
        </itemizedlist>
        <screen>$ cd ~/path/to/module1
$ cvs import -m "Start module1" module1 Main-branch Release-initial
$ rm -Rf . # optional</screen>
      </section>
      <section id="_file_permissions_in_cvs_repository">
        <title>File permissions in CVS repository</title>
        <simpara>CVS will not overwrite the current repository file but replaces it with another one.  Thus, write permission to the repository directory is critical.  For every new module for "<literal>module1</literal>" in repository at "<literal>/srv/cvs/project</literal>", run the following to ensure this condition if needed.</simpara>
        <screen># cd /srv/cvs/project
# chown -R root:src module1
# chmod -R ug+rwX   module1
# chmod    2775     module1</screen>
      </section>
      <section id="_workflow_of_cvs">
        <title>Workflow of CVS</title>
        <simpara>Here is an example of typical workflow using CVS.</simpara>
        <simpara>Check all available modules from CVS project pointed by "<literal>$CVSROOT</literal>" by the following.</simpara>
        <screen>$ cvs rls
CVSROOT
module1
module2
...</screen>
        <simpara>Checkout "<literal>module1</literal>" to its default directory "<literal>./module1</literal>" by the following.</simpara>
        <screen>$ cd ~/path/to
$ cvs co module1
$ cd module1</screen>
        <simpara>Make changes to the content as needed.</simpara>
        <simpara>Check changes by making "<literal>diff -u [repository] [local]</literal>" equivalent by the following.</simpara>
        <screen>$ cvs diff -u</screen>
        <simpara>You find that you broke some file "<literal>file_to_undo</literal>" severly but other files are fine.</simpara>
        <simpara>Overwrite "<literal>file_to_undo</literal>" file with the clean copy from CVS by the following.</simpara>
        <screen>$ cvs up -C file_to_undo</screen>
        <simpara>Save the updated local source tree to CVS by the following.</simpara>
        <screen>$ cvs ci -m "Describe change"</screen>
        <simpara>Create and add "<literal>file_to_add</literal>" file to CVS by the following.</simpara>
        <screen>$ vi file_to_add
$ cvs add file_to_add
$ cvs ci -m "Added file_to_add"</screen>
        <simpara>Merge the latest version from CVS by the following.</simpara>
        <screen>$ cvs up -d</screen>
        <simpara>Watch out for lines starting with "<literal>C filename</literal>" which indicates conflicting changes.</simpara>
        <simpara>Look for unmodified code in "<literal>.#filename.version</literal>".</simpara>
        <simpara>Search for "<literal>&lt;&lt;&lt;&lt;&lt;&lt;&lt;</literal>" and "<literal>&gt;&gt;&gt;&gt;&gt;&gt;&gt;</literal>" in files for conflicting changes.</simpara>
        <simpara>Edit files to fix conflicts as needed.</simpara>
        <simpara>Add a release tag "<literal>Release-1</literal>" by the following.</simpara>
        <screen>$ cvs ci -m "last commit for Release-1"
$ cvs tag Release-1</screen>
        <simpara>Edit further.</simpara>
        <simpara>Remove the release tag "<literal>Release-1</literal>" by the following.</simpara>
        <screen>$ cvs tag -d Release-1</screen>
        <simpara>Check in changes to CVS by the following.</simpara>
        <screen>$ cvs ci -m "real last commit for Release-1"</screen>
        <simpara>Re-add the release tag "<literal>Release-1</literal>" to updated CVS HEAD of main by the following.</simpara>
        <screen>$ cvs tag Release-1</screen>
        <simpara>Create a branch with a sticky branch tag "<literal>Release-initial-bugfixes</literal>" from the original version pointed by the tag "<literal>Release-initial</literal>" and check it out to "<literal>~/path/to/old</literal>" directory by the following.</simpara>
        <tip>
          <simpara>Use "<literal>-D 2005-12-20</literal>" (<ulink url="&isoigab;">ISO 8601</ulink> date format) instead of "<literal>-r Release-initial</literal>" to specify particular date as the branch point.</simpara>
        </tip>
        <screen>$ cvs rtag -b -r Release-initial Release-initial-bugfixes module1
$ cd ~/path/to
$ cvs co -r Release-initial-bugfixes -d old module1
$ cd old</screen>
        <simpara>Work on this local source tree having the sticky tag "<literal>Release-initial-bugfixes</literal>" which is based on the original version.</simpara>
        <simpara>Work on this branch by yourself … until someone else joins to this "<literal>Release-initial-bugfixes</literal>" branch.</simpara>
        <simpara>Sync with files modified by others on this branch while creating new directories as needed by the following.</simpara>
        <screen>$ cvs up -d</screen>
        <simpara>Edit files to fix conflicts as needed.</simpara>
        <simpara>Check in changes to CVS by the following.</simpara>
        <screen>$ cvs ci -m "checked into this branch"</screen>
        <simpara>Update the local tree by HEAD of main while removing sticky tag ("<literal>-A</literal>") and without keyword expansion ("<literal>-kk</literal>") by the following.</simpara>
        <screen>$ cvs up -d -kk -A</screen>
        <simpara>Update the local tree (content = HEAD of main) by merging from the "<literal>Release-initial-bugfixes</literal>" branch and without keyword expansion by the following.</simpara>
        <screen>$ cvs up -d -kk -j Release-initial-bugfixes</screen>
        <simpara>Fix conflicts with editor.</simpara>
        <simpara>Check in changes to CVS by the following.</simpara>
        <screen>$ cvs ci -m "merged Release-initial-bugfixes"</screen>
        <simpara>Make archive by the following.</simpara>
        <screen>$ cd ..
$ mv old old-module1-bugfixes
$ tar -cvzf old-module1-bugfixes.tar.gz old-module1-bugfixes
$ rm -rf old-module1-bugfixes</screen>
        <tip>
          <simpara>"<literal>cvs up</literal>" command can take "<literal>-d</literal>" option to create new directories and "<literal>-P</literal>" option to prune empty directories.</simpara>
        </tip>
        <tip>
          <simpara>You can checkout only a sub directory of "<literal>module1</literal>" by providing its name as "<literal>cvs co module1/subdir</literal>".</simpara>
        </tip>
        <table id="notableoptionsfotargumentstocvsb" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>Notable options for CVS commands (use as first argument(s) to <literal>cvs</literal>(1))</title>
          <tgroup cols="2">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="70%*" align="left"/>
            <thead>
              <row>
                <entry>
    option
    </entry>
                <entry>
    meaning
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>-n</literal>
                </entry>
                <entry>
    dry run, no effect
    </entry>
              </row>
              <row>
                <entry>
                  <literal>-t</literal>
                </entry>
                <entry>
    display messages showing steps of cvs activity
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </section>
      <section id="_latest_files_from_cvs">
        <title>Latest files from CVS</title>
        <simpara>To get the latest files from CVS, use "<literal>tomorrow</literal>" by the following.</simpara>
        <screen>$ cvs ex -D tomorrow module_name</screen>
      </section>
      <section id="_administration_of_cvs">
        <title>Administration of CVS</title>
        <simpara>Add module alias "<literal>mx</literal>" to a CVS project (local server) by the following.</simpara>
        <screen>$ export CVSROOT=/srv/cvs/project
$ cvs co CVSROOT/modules
$ cd CVSROOT
$ echo "mx -a module1" &gt;&gt;modules
$ cvs ci -m "Now mx is an alias for module1"
$ cvs release -d .</screen>
        <simpara>Now, you can check out "<literal>module1</literal>" (alias: "<literal>mx</literal>") from CVS to "<literal>new</literal>" directory by the following.</simpara>
        <screen>$ cvs co -d new mx
$ cd new</screen>
        <note>
          <simpara>In order to perform above procedure, you should have appropriate file permissions.</simpara>
        </note>
      </section>
      <section id="_execution_bit_for_cvs_checkout">
        <title>Execution bit for CVS checkout</title>
        <simpara>When you checkout files from CVS, their execution permission bit is retained.</simpara>
        <simpara>Whenever you see execution permission problems in a checked out file, e.g. "<literal>filename</literal>", change its permission in the corresponding CVS repository by the following to fix it.</simpara>
        <screen># chmod ugo-x filename</screen>
      </section>
    </section>
    <section id="_subversion">
      <title>Subversion</title>
      <simpara>Subversion is a <emphasis role="strong">recent-generation</emphasis> version control system replacing older CVS.  It has most of CVS's features except tags and branches.</simpara>
      <simpara>You need to install <literal>subversion</literal>, <literal>libapache2-svn</literal> and <literal>subversion-tools</literal> packages to set up a Subversion server.</simpara>
      <section id="_configuration_of_subversion_repository">
        <title>Configuration of Subversion repository</title>
        <simpara>Currently, the <literal>subversion</literal> package does not set up a repository, so one must set it up manually.  One possible location for a repository is in "<literal>/srv/svn/project</literal>".</simpara>
        <simpara>Create a directory by the following.</simpara>
        <screen># mkdir -p        /srv/svn/project</screen>
        <simpara>Create the repository database by the following.</simpara>
        <screen># svnadmin create /srv/svn/project</screen>
      </section>
      <section id="_access_to_subversion_via_apache2_server">
        <title>Access to Subversion via Apache2 server</title>
        <simpara>If you only access Subversion repository via Apache2 server, you just need to make the repository only writable by the WWW server by the following.</simpara>
        <screen># chown -R www-data:www-data /srv/svn/project</screen>
        <simpara>Add (or uncomment) the following in "<literal>/etc/apache2/mods-available/dav_svn.conf</literal>" to allow access to the repository via user authentication.</simpara>
        <screen>&lt;Location /project&gt;
  DAV svn
  SVNPath /srv/svn/project
  AuthType Basic
  AuthName "Subversion repository"
  AuthUserFile /etc/subversion/passwd
&lt;LimitExcept GET PROPFIND OPTIONS REPORT&gt;
    Require valid-user
&lt;/LimitExcept&gt;
&lt;/Location&gt;</screen>
        <simpara>Create a user authentication file with the command by the following.</simpara>
        <screen># htpasswd2 -c /etc/subversion/passwd some-username</screen>
        <simpara>Restart Apache2.</simpara>
        <simpara>Your new Subversion repository is accessible at URL "<literal>http://localhost/project</literal>" and "<literal>http://example.com/project</literal>" from <literal>svn</literal>(1) (assuming your URL of web server is "<literal>http://example.com/</literal>").</simpara>
      </section>
      <section id="_local_access_to_subversion_by_group">
        <title>Local access to Subversion by group</title>
        <simpara>The following will set up Subversion repository for the local access by a group, e.g. <literal>project</literal>.</simpara>
        <screen># chmod  2775     /srv/svn/project
# chown -R root:src /srv/svn/project
# chmod -R ug+rwX   /srv/svn/project</screen>
        <simpara>Your new Subversion repository is group accessible at URL "<literal>file:///localhost/srv/svn/project</literal>" or "<literal>file:///srv/svn/project</literal>" from <literal>svn</literal>(1) for local users belonging to <literal>project</literal> group.  You must run commands, such as <literal>svn</literal>, <literal>svnserve</literal>, <literal>svnlook</literal>, and <literal>svnadmin</literal> under "<literal>umask 002</literal>" to ensure group access.</simpara>
      </section>
      <section id="_remote_access_to_subversion_via_ssh">
        <title>Remote access to Subversion via SSH</title>
        <simpara>A group accessible Subversion repositor is at URL "<literal>example.com:/srv/svn/project</literal>" for SSH, you can access it from <literal>svn</literal>(1) at URL "<literal>svn+ssh://example.com:/srv/svn/project</literal>".</simpara>
      </section>
      <section id="_subversion_directory_structure">
        <title>Subversion directory structure</title>
        <simpara>Many projects uses directory tree similar to the following for Subversion to compensate its lack of branches and tags.</simpara>
        <screen>  ----- module1
    |   |-- branches
    |   |-- tags
    |   |   |-- release-1.0
    |   |   `-- release-2.0
    |   |
    |   `-- trunk
    |       |-- file1
    |       |-- file2
    |       `-- file3
    |
    `-- module2</screen>
        <tip>
          <simpara>You must use "<literal>svn copy …</literal>" command to mark branches and tags.  This ensures Subversion to record modification history of files properly and saves storage spaces.</simpara>
        </tip>
      </section>
      <section id="_importing_a_new_source_to_subversion">
        <title>Importing a new source to Subversion</title>
        <simpara>Create a new local source tree location at "<literal>~/path/to/module1</literal>" by the following.</simpara>
        <screen>$ mkdir -p ~/path/to/module1; cd ~/path/to/module1</screen>
        <simpara>Populate a new local source tree under "<literal>~/path/to/module1</literal>" with files.</simpara>
        <simpara>Import it to Subversion with the following parameters.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
Module name: "<literal>module1</literal>"
</simpara>
          </listitem>
          <listitem>
            <simpara>
Subversion site URL: "<literal>file:///srv/svn/project</literal>"
</simpara>
          </listitem>
          <listitem>
            <simpara>
Subversion directory: "<literal>module1/trunk</literal>"
</simpara>
          </listitem>
          <listitem>
            <simpara>
Subversion tag: "<literal>module1/tags/Release-initial</literal>"
</simpara>
          </listitem>
        </itemizedlist>
        <screen>$ cd ~/path/to/module1
$ svn import file:///srv/svn/project/module1/trunk -m "Start module1"
$ svn cp file:///srv/svn/project/module1/trunk file:///srv/svn/project/module1/tags/Release-initial</screen>
        <simpara>Alternatively, by the following.</simpara>
        <screen>$ svn import ~/path/to/module1 file:///srv/svn/project/module1/trunk -m "Start module1"
$ svn cp file:///srv/svn/project/module1/trunk file:///srv/svn/project/module1/tags/Release-initial</screen>
        <tip>
          <simpara>You can replace URLs such as "<literal>file:///…</literal>" by any other URL formats such as "<literal>http://…</literal>" and "<literal>svn+ssh://…</literal>".</simpara>
        </tip>
      </section>
      <section id="_workflow_of_subversion">
        <title>Workflow of Subversion</title>
        <simpara>Here is an example of typical workflow using Subversion.</simpara>
        <simpara>Check all available modules from Subversion project pointed by URL "<literal>file:///srv/svn/project</literal>" by the following.</simpara>
        <screen>$ svn list file:///srv/svn/project
module1
module2
...</screen>
        <simpara>Checkout "<literal>module1/trunk</literal>" to a directory "<literal>module1</literal>" by the following.</simpara>
        <screen>$ cd ~/path/to
$ svn co file:///srv/svn/project/module1/trunk module1
$ cd module1</screen>
        <simpara>Make changes to the content as needed.</simpara>
        <simpara>Check changes by making "<literal>diff -u [repository] [local]</literal>" equivalent by the following.</simpara>
        <screen>$ svn diff</screen>
        <simpara>You find that you broke some file "<literal>file_to_undo</literal>" severly but other files are fine.</simpara>
        <simpara>Overwrite "<literal>file_to_undo</literal>" file with the clean copy from Subversion by the following.</simpara>
        <screen>$ svn revert file_to_undo</screen>
        <simpara>Save the updated local source tree to Subversion by the following.</simpara>
        <screen>$ svn ci -m "Describe change"</screen>
        <simpara>Create and add "<literal>file_to_add</literal>" file to Subversion by the following.</simpara>
        <screen>$ vi file_to_add
$ svn add file_to_add
$ svn ci -m "Added file_to_add"</screen>
        <simpara>Merge the latest version from Subversion by the following.</simpara>
        <screen>$ svn up</screen>
        <simpara>Watch out for lines starting with "<literal>C filename</literal>" which indicates conflicting changes.</simpara>
        <simpara>Look for unmodified code in, e.g., "<literal>filename.r6</literal>", "<literal>filename.r9</literal>", and "<literal>filename.mine</literal>".</simpara>
        <simpara>Search for "<literal>&lt;&lt;&lt;&lt;&lt;&lt;&lt;</literal>" and "<literal>&gt;&gt;&gt;&gt;&gt;&gt;&gt;</literal>" in files for conflicting changes.</simpara>
        <simpara>Edit files to fix conflicts as needed.</simpara>
        <simpara>Add a release tag "<literal>Release-1</literal>" by the following.</simpara>
        <screen>$ svn ci -m "last commit for Release-1"
$ svn cp file:///srv/svn/project/module1/trunk file:///srv/svn/project/module1/tags/Release-1</screen>
        <simpara>Edit further.</simpara>
        <simpara>Remove the release tag "<literal>Release-1</literal>" by the following.</simpara>
        <screen>$ svn rm file:///srv/svn/project/module1/tags/Release-1</screen>
        <simpara>Check in changes to Subversion by the following.</simpara>
        <screen>$ svn ci -m "real last commit for Release-1"</screen>
        <simpara>Re-add the release tag "<literal>Release-1</literal>" from updated Subversion HEAD of trunk by the following.</simpara>
        <screen>$ svn cp file:///srv/svn/project/module1/trunk file:///srv/svn/project/module1/tags/Release-1</screen>
        <simpara>Create a branch with a path "<literal>module1/branches/Release-initial-bugfixes</literal>" from the original version pointed by the path "<literal>module1/tags/Release-initial</literal>" and check it out to "<literal>~/path/to/old</literal>" directory by the following.</simpara>
        <tip>
          <simpara>Use "<literal>module1/trunk@{2005-12-20}</literal>" (<ulink url="&isoigab;">ISO 8601</ulink> date format) instead of "<literal>module1/tags/Release-initial</literal>" to specify particular date as the branch point.</simpara>
        </tip>
        <screen>$ svn cp file:///srv/svn/project/module1/tags/Release-initial file:///srv/svn/project/module1/branches/Release-initial-bugfixes
$ cd ~/path/to
$ svn co file:///srv/svn/project/module1/branches/Release-initial-bugfixes old
$ cd old</screen>
        <simpara>Work on this local source tree pointing to branch "<literal>Release-initial-bugfixes</literal>" which is based on the original version.</simpara>
        <simpara>Work on this branch by yourself … until someone else joins to this "<literal>Release-initial-bugfixes</literal>" branch.</simpara>
        <simpara>Sync with files modified by others on this branch by the following.</simpara>
        <screen>$ svn up</screen>
        <simpara>Edit files to fix conflicts as needed.</simpara>
        <simpara>Check in changes to Subversion by the following.</simpara>
        <screen>$ svn ci -m "checked into this branch"</screen>
        <simpara>Update the local tree with HEAD of trunk by the following.</simpara>
        <screen>$ svn switch file:///srv/svn/project/module1/trunk</screen>
        <simpara>Update the local tree (content = HEAD of trunk) by merging from the "<literal>Release-initial-bugfixes</literal>" branch by the following.</simpara>
        <screen>$ svn merge file:///srv/svn/project/module1/branches/Release-initial-bugfixes</screen>
        <simpara>Fix conflicts with editor.</simpara>
        <simpara>Check in changes to Subversion by the following.</simpara>
        <screen>$ svn ci -m "merged Release-initial-bugfixes"</screen>
        <simpara>Make archive by the following.</simpara>
        <screen>$ cd ..
$ mv old old-module1-bugfixes
$ tar -cvzf old-module1-bugfixes.tar.gz old-module1-bugfixes
$ rm -rf old-module1-bugfixes</screen>
        <tip>
          <simpara>You can replace URLs such as "<literal>file:///…</literal>" by any other URL formats such as "<literal>http://…</literal>" and "<literal>svn+ssh://…</literal>".</simpara>
        </tip>
        <tip>
          <simpara>You can checkout only a sub directory of "<literal>module1</literal>" by providing its name as "<literal>svn co file:///srv/svn/project/module1/trunk/subdir module1/subdir</literal>", etc.</simpara>
        </tip>
        <table id="notableoptionsfotargumentstosvnb" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>Notable options for Subversion commands (use as first argument(s) to <literal>svn</literal>(1))</title>
          <tgroup cols="2">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="70%*" align="left"/>
            <thead>
              <row>
                <entry>
    option
    </entry>
                <entry>
    meaning
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>--dry-run</literal>
                </entry>
                <entry>
    dry run, no effect
    </entry>
              </row>
              <row>
                <entry>
                  <literal>-v</literal>
                </entry>
                <entry>
    display detail messages of svn activity
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </section>
    </section>
    <section id="_git">
      <title>Git</title>
      <simpara>Git can do everything for both local and remote source code management.  This means that you can record the source code changes without needing network connectivity to the remote repository.</simpara>
      <section id="_configuration_of_git_client">
        <title>Configuration of Git client</title>
        <simpara>You may wish to set several global configuration in "<literal>~/.gitconfig</literal>" such as your name and email address used by Git by the following.</simpara>
        <screen>$ git config --global user.name "Name Surname"
$ git config --global user.email yourname@example.com</screen>
        <simpara>If you are too used to CVS or Subversion commands, you may wish to set several command aliases  by the following.</simpara>
        <screen>$ git config --global alias.ci "commit -a"
$ git config --global alias.co checkout</screen>
        <simpara>You can check your global configuration by the following.</simpara>
        <screen>$ git config --global --list</screen>
      </section>
      <section id="_git_references">
        <title>Git references</title>
        <simpara>See the following.</simpara>
        <itemizedlist>
          <listitem>
            <simpara><ulink url="&manpagegitb;">manpage: git(1)</ulink> (<literal>/usr/share/doc/git-doc/git.html</literal>)
</simpara>
          </listitem>
          <listitem>
            <simpara><ulink url="&gitusersmanual;">Git User's Manual</ulink> (<literal>/usr/share/doc/git-doc/user-manual.html</literal>)
</simpara>
          </listitem>
          <listitem>
            <simpara><ulink url="&atutorialintroductiontogit;">A tutorial introduction to git</ulink> (<literal>/usr/share/doc/git-doc/gittutorial.html</literal>)
</simpara>
          </listitem>
          <listitem>
            <simpara><ulink url="&atutorialintrodutiontogitparttwo;">A tutorial introduction to git: part two</ulink> (<literal>/usr/share/doc/git-doc/gittutorial-2.html</literal>)
</simpara>
          </listitem>
          <listitem>
            <simpara><ulink url="&everydaygitwithcacommandsorso;">Everyday GIT With 20 Commands Or So</ulink> (<literal>/usr/share/doc/git-doc/everyday.html</literal>)
</simpara>
          </listitem>
          <listitem>
            <simpara><ulink url="&gitforcvsusers;">git for CVS users</ulink> (<literal>/usr/share/doc/git-doc/gitcvs-migration.html</literal>)
</simpara>
            <itemizedlist>
              <listitem>
                <simpara>
This also describes  how to set up server like CVS and extract old data from CVS into Git.
</simpara>
              </listitem>
            </itemizedlist>
          </listitem>
          <listitem>
            <simpara>
              <ulink url="&othergitresourcevailableontheweb;">Other git resources available on the web</ulink>
            </simpara>
            <itemizedlist>
              <listitem>
                <simpara>
                  <ulink url="&gitsvncrashcourse;">Git - SVN Crash Course</ulink>
                </simpara>
              </listitem>
              <listitem>
                <simpara><ulink url="&gitmagic;">Git Magic</ulink> (<literal>/usr/share/doc/gitmagic/html/index.html</literal>)
</simpara>
              </listitem>
            </itemizedlist>
          </listitem>
        </itemizedlist>
        <simpara><literal>git-gui</literal>(1) and <literal>gitk</literal>(1) commands make using Git very easy.</simpara>
        <warning>
          <simpara>Do not use the tag string with spaces in it even if some tools such as <literal>gitk</literal>(1) allow you to use it.  It may choke some other <literal>git</literal> commands.</simpara>
        </warning>
      </section>
      <section id="_git_commands">
        <title>Git commands</title>
        <simpara>Even if your upstream uses different VCS, it may be good idea to use <literal>git</literal>(1) for local activity since you can manage your local copy of source tree without the network connection to the upstream.  Here are some packages and commands used with <literal>git</literal>(1).</simpara>
        <table id="listofgitrelatedkagesandcommands" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of git related packages and commands</title>
          <tgroup cols="5">
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="60%*" align="left"/>
            <thead>
              <row>
                <entry>
    command
    </entry>
                <entry>
    package
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    size
    </entry>
                <entry>
    description
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
    N/A
    </entry>
                <entry><ulink url="http://packages.debian.org/sid/git-doc">
                  <literal>git-doc</literal>
                </ulink> <ulink url="http://bugs.debian.org/git-doc">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=git-doc">&pop-gitdoc;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/g/git-doc.html">&size-gitdoc;</ulink></entry>
                <entry>
    official documentation for Git
    </entry>
              </row>
              <row>
                <entry>
    N/A
    </entry>
                <entry><ulink url="http://packages.debian.org/sid/gitmagic">
                  <literal>gitmagic</literal>
                </ulink> <ulink url="http://bugs.debian.org/gitmagic">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=gitmagic">&pop-gitmagic;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/g/gitmagic.html">&size-gitmagic;</ulink></entry>
                <entry>
    "Git Magic", easier to understand guide for Git
    </entry>
              </row>
              <row>
                <entry><literal>git</literal>(7)
    </entry>
                <entry><ulink url="http://packages.debian.org/sid/git-core">
                  <literal>git-core</literal>
                </ulink> <ulink url="http://bugs.debian.org/git-core">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=git-core">&pop-gitcore;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/g/git-core.html">&size-gitcore;</ulink></entry>
                <entry>
    Git, the fast, scalable, distributed revision control system
    </entry>
              </row>
              <row>
                <entry><literal>gitk</literal>(1)
    </entry>
                <entry><ulink url="http://packages.debian.org/sid/gitk">
                  <literal>gitk</literal>
                </ulink> <ulink url="http://bugs.debian.org/gitk">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=gitk">&pop-gitk;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/g/gitk.html">&size-gitk;</ulink></entry>
                <entry>
    GUI Git repository browser with history
    </entry>
              </row>
              <row>
                <entry><literal>git-gui</literal>(1)
    </entry>
                <entry><ulink url="http://packages.debian.org/sid/git-gui">
                  <literal>git-gui</literal>
                </ulink> <ulink url="http://bugs.debian.org/git-gui">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=git-gui">&pop-gitgui;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/g/git-gui.html">&size-gitgui;</ulink></entry>
                <entry>
    GUI for Git (No history)
    </entry>
              </row>
              <row>
                <entry><literal>git-svnimport</literal>(1)
    </entry>
                <entry><ulink url="http://packages.debian.org/sid/git-svn">
                  <literal>git-svn</literal>
                </ulink> <ulink url="http://bugs.debian.org/git-svn">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=git-svn">&pop-gitsvn;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/g/git-svn.html">&size-gitsvn;</ulink></entry>
                <entry>
    import the data out of Subversion into Git
    </entry>
              </row>
              <row>
                <entry><literal>git-svn</literal>(1)
    </entry>
                <entry><ulink url="http://packages.debian.org/sid/git-svn">
                  <literal>git-svn</literal>
                </ulink> <ulink url="http://bugs.debian.org/git-svn">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=git-svn">&pop-gitsvn;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/g/git-svn.html">&size-gitsvn;</ulink></entry>
                <entry>
    provide bidirectional operation between the Subversion and Git
    </entry>
              </row>
              <row>
                <entry><literal>git-cvsimport</literal>(1)
    </entry>
                <entry><ulink url="http://packages.debian.org/sid/git-cvs">
                  <literal>git-cvs</literal>
                </ulink> <ulink url="http://bugs.debian.org/git-cvs">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=git-cvs">&pop-gitcvs;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/g/git-cvs.html">&size-gitcvs;</ulink></entry>
                <entry>
    import the data out of CVS into Git
    </entry>
              </row>
              <row>
                <entry><literal>git-cvsexportcommit</literal>(1)
    </entry>
                <entry><ulink url="http://packages.debian.org/sid/git-cvs">
                  <literal>git-cvs</literal>
                </ulink> <ulink url="http://bugs.debian.org/git-cvs">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=git-cvs">&pop-gitcvs;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/g/git-cvs.html">&size-gitcvs;</ulink></entry>
                <entry>
    export a commit to a CVS checkout from Git
    </entry>
              </row>
              <row>
                <entry><literal>git-cvsserver</literal>(1)
    </entry>
                <entry><ulink url="http://packages.debian.org/sid/git-cvs">
                  <literal>git-cvs</literal>
                </ulink> <ulink url="http://bugs.debian.org/git-cvs">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=git-cvs">&pop-gitcvs;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/g/git-cvs.html">&size-gitcvs;</ulink></entry>
                <entry>
    CVS server emulator for Git
    </entry>
              </row>
              <row>
                <entry><literal>git-send-email</literal>(1)
    </entry>
                <entry><ulink url="http://packages.debian.org/sid/git-email">
                  <literal>git-email</literal>
                </ulink> <ulink url="http://bugs.debian.org/git-email">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=git-email">&pop-gitemail;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/g/git-email.html">&size-gitemail;</ulink></entry>
                <entry>
    send a collection of patches as email from the Git
    </entry>
              </row>
              <row>
                <entry><literal>stg</literal>(1)
    </entry>
                <entry><ulink url="http://packages.debian.org/sid/stgit">
                  <literal>stgit</literal>
                </ulink> <ulink url="http://bugs.debian.org/stgit">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=stgit">&pop-stgit;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/s/stgit.html">&size-stgit;</ulink></entry>
                <entry>
    quilt on top of git (Python)
    </entry>
              </row>
              <row>
                <entry><literal>git-buildpackage</literal>(1)
    </entry>
                <entry><ulink url="http://packages.debian.org/sid/git-buildpackage">
                  <literal>git-buildpackage</literal>
                </ulink> <ulink url="http://bugs.debian.org/git-buildpackage">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=git-buildpackage">&pop-gitbuildpackage;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/g/git-buildpackage.html">&size-gitbuildpackage;</ulink></entry>
                <entry>
    automate the Debian packaging with the Git
    </entry>
              </row>
              <row>
                <entry><literal>guilt</literal>(7)
    </entry>
                <entry><ulink url="http://packages.debian.org/sid/guilt">
                  <literal>guilt</literal>
                </ulink> <ulink url="http://bugs.debian.org/guilt">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=guilt">&pop-guilt;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/g/guilt.html">&size-guilt;</ulink></entry>
                <entry>
    quilt on top of git (SH/AWK/SED/…)
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </section>
      <section id="_git_for_recording_configuration_history">
        <title>Git for recording configuration history</title>
        <simpara>You can manually record chronological history of configuration using <ulink url="&git;">Git</ulink> tools.  Here is a simple example for your practice to record "<literal>/etc/apt/</literal>" contents.</simpara>
        <screen>$ cd /etc/apt/
$ sudo git init
$ sudo chmod 700 .git
$ sudo git add .
$ sudo git commit -a</screen>
        <simpara>Commit configuration with description.</simpara>
        <simpara>Make modification to the configuration files.</simpara>
        <screen>$ cd /etc/apt/
$ sudo git commit -a</screen>
        <simpara>Commit configuration with description and continue your life.</simpara>
        <screen>$ cd /etc/apt/
$ sudo gitk --all</screen>
        <simpara>You have full configuration history with you.</simpara>
        <note>
          <simpara><literal>sudo</literal>(8) is needed to work with any file permissions of configuration data.  For user configuration data, you may skip <literal>sudo</literal>.</simpara>
        </note>
        <note>
          <simpara>The "<literal>chmod 700 .git</literal>" command in the above example is needed to protect archive data from unauthorized read access.</simpara>
        </note>
        <tip>
          <simpara>For more complete setup for recording configuration history, please look for the <literal>etckeeper</literal> package: <xref linkend="_recording_changes_in_configuration_files"/>.</simpara>
        </tip>
      </section>
    </section>
  </chapter>
  <chapter id="_data_conversion">
    <title>Data conversion</title>
    <simpara>Tools and tips for converting data formats on the Debian system are described.</simpara>
    <simpara>Standard based tools are in very good shape but support for proprietary data formats are limited.</simpara>
    <section id="_text_data_conversion_tools">
      <title>Text data conversion tools</title>
      <simpara>Following packages for the text data conversion caught my eyes.</simpara>
      <table id="listoftextdataconversiontools" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>List of text data conversion tools</title>
        <tgroup cols="5">
          <colspec colwidth="10%*" align="left"/>
          <colspec colwidth="10%*" align="left"/>
          <colspec colwidth="10%*" align="left"/>
          <colspec colwidth="10%*" align="left"/>
          <colspec colwidth="60%*" align="left"/>
          <thead>
            <row>
              <entry>
    package
    </entry>
              <entry>
    popcon
    </entry>
              <entry>
    size
    </entry>
              <entry>
    keyword
    </entry>
              <entry>
    description
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/libc6">
                <literal>libc6</literal>
              </ulink> <ulink url="http://bugs.debian.org/libc6">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=libc6">&pop-libcg;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/libc/libc6.html">&size-libcg;</ulink></entry>
              <entry>
    charset
    </entry>
              <entry>
    text encoding converter between locales by <literal>iconv</literal>(1) (fundamental)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/recode">
                <literal>recode</literal>
              </ulink> <ulink url="http://bugs.debian.org/recode">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=recode">&pop-recode;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/r/recode.html">&size-recode;</ulink></entry>
              <entry>
    charset+eol
    </entry>
              <entry>
    text encoding converter between locales (versatile, more aliases and features)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/konwert">
                <literal>konwert</literal>
              </ulink> <ulink url="http://bugs.debian.org/konwert">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=konwert">&pop-konwert;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/k/konwert.html">&size-konwert;</ulink></entry>
              <entry>
    charset
    </entry>
              <entry>
    text encoding converter between locales (fancy)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/nkf">
                <literal>nkf</literal>
              </ulink> <ulink url="http://bugs.debian.org/nkf">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=nkf">&pop-nkf;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/n/nkf.html">&size-nkf;</ulink></entry>
              <entry>
    charset
    </entry>
              <entry>
    character set translator for Japanese
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/tcs">
                <literal>tcs</literal>
              </ulink> <ulink url="http://bugs.debian.org/tcs">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=tcs">&pop-tcs;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/t/tcs.html">&size-tcs;</ulink></entry>
              <entry>
    charset
    </entry>
              <entry>
    character set translator
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/unaccent">
                <literal>unaccent</literal>
              </ulink> <ulink url="http://bugs.debian.org/unaccent">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=unaccent">&pop-unaccent;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/u/unaccent.html">&size-unaccent;</ulink></entry>
              <entry>
    charset
    </entry>
              <entry>
    replace accented letters by their unaccented equivalent
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/tofrodos">
                <literal>tofrodos</literal>
              </ulink> <ulink url="http://bugs.debian.org/tofrodos">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=tofrodos">&pop-tofrodos;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/t/tofrodos.html">&size-tofrodos;</ulink></entry>
              <entry>
    eol
    </entry>
              <entry>
    text format converter between DOS and Unix: <literal>fromdos</literal>(1) and <literal>todos</literal>(1)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/macutils">
                <literal>macutils</literal>
              </ulink> <ulink url="http://bugs.debian.org/macutils">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=macutils">&pop-macutils;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/m/macutils.html">&size-macutils;</ulink></entry>
              <entry>
    eol
    </entry>
              <entry>
    text format converter between Macintosh and Unix: <literal>frommac</literal>(1) and <literal>tomac</literal>(1)
    </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <section id="_converting_a_text_file_with_iconv">
        <title>Converting a text file with iconv</title>
        <tip>
          <simpara><literal>iconv</literal>(1) is provided as a part of the <literal>libc6</literal> package and it is always available on prectically all systems to convert the encoding of characters.</simpara>
        </tip>
        <simpara>You can convert encodings of a text file with <literal>iconv</literal>(1) by the following.</simpara>
        <screen>$ iconv -f encoding1 -t encoding2 input.txt &gt;output.txt</screen>
        <simpara>Encoding values are case insensitive and ignore "<literal>-</literal>" and "<literal>_</literal>" for matching.  Supported encodings can be checked by the "<literal>iconv -l</literal>" command.</simpara>
        <table id="list-of-encoding-values" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of encoding values and their usage</title>
          <tgroup cols="2">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="70%*" align="left"/>
            <thead>
              <row>
                <entry>
    encoding value
    </entry>
                <entry>
    usage
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="&ascii;">ASCII</ulink>.
    </entry>
                <entry><ulink url="&americanstandardationinterchange;">American Standard Code for Information Interchange</ulink>, 7 bit code w/o accented characters
    </entry>
              </row>
              <row>
                <entry>
                  <ulink url="&utfi;">UTF-8</ulink>
                </entry>
                <entry>
    current multilingual standard for all modern OSs
    </entry>
              </row>
              <row>
                <entry>
                  <ulink url="&isoiifjb;">ISO-8859-1</ulink>
                </entry>
                <entry>
    old standard for western European languages, ASCII + accented characters
    </entry>
              </row>
              <row>
                <entry>
                  <ulink url="&isoiifjc;">ISO-8859-2</ulink>
                </entry>
                <entry>
    old standard for eastern European languages, ASCII + accented characters
    </entry>
              </row>
              <row>
                <entry>
                  <ulink url="&isoiifjbf;">ISO-8859-15</ulink>
                </entry>
                <entry>
    old standard for western European languages, <ulink url="&isoiifjb;">ISO-8859-1</ulink> with euro sign
    </entry>
              </row>
              <row>
                <entry>
                  <ulink url="&cpifa;">CP850</ulink>
                </entry>
                <entry>
    code page 850, Microsoft DOS characters with graphics for western European languages, <ulink url="&isoiifjb;">ISO-8859-1</ulink> variant
    </entry>
              </row>
              <row>
                <entry>
                  <ulink url="&cpjdc;">CP932</ulink>
                </entry>
                <entry>
    code page 932, Microsoft Windows style <ulink url="&shiftjis;">Shift-JIS</ulink> variant for Japanese
    </entry>
              </row>
              <row>
                <entry>
                  <ulink url="&cpjdg;">CP936</ulink>
                </entry>
                <entry>
    code page 936, Microsoft Windows style <ulink url="&gbcdbc;">GB2312</ulink>, <ulink url="&gbk;">GBK</ulink> or <ulink url="&gbbiada;">GB18030</ulink> variant for Simplified Chinese
    </entry>
              </row>
              <row>
                <entry>
                  <ulink url="&cpjej;">CP949</ulink>
                </entry>
                <entry>
    code page 949, Microsoft Windows style <ulink url="&euckr;">EUC-KR</ulink> or Unified Hangul Code variant for Korean
    </entry>
              </row>
              <row>
                <entry>
                  <ulink url="&cpjfa;">CP950</ulink>
                </entry>
                <entry>
    code page 950, Microsoft Windows style <ulink url="&bigf;">Big5</ulink> variant for Traditional Chinese
    </entry>
              </row>
              <row>
                <entry>
                  <ulink url="&cpbcfb;">CP1251</ulink>
                </entry>
                <entry>
    code page 1251, Microsoft Windows style encoding for the Cyrillic alphabet
    </entry>
              </row>
              <row>
                <entry>
                  <ulink url="&cpbcfc;">CP1252</ulink>
                </entry>
                <entry>
    code page 1252, Microsoft Windows style <ulink url="&isoiifjbf;">ISO-8859-15</ulink> variant for western European languages
    </entry>
              </row>
              <row>
                <entry>
                  <ulink url="&koiir;">KOI8-R</ulink>
                </entry>
                <entry>
    old Russian UNIX standard for the Cyrillic alphabet
    </entry>
              </row>
              <row>
                <entry>
                  <ulink url="&isocaccjp;">ISO-2022-JP</ulink>
                </entry>
                <entry>
    standard encoding for Japanese e-mail which uses only 7 bit codes
    </entry>
              </row>
              <row>
                <entry>
                  <ulink url="&eucjp;">eucJP</ulink>
                </entry>
                <entry>
    old Japanese UNIX standard 8 bit code and completely different from <ulink url="&shiftjis;">Shift-JIS</ulink>
    </entry>
              </row>
              <row>
                <entry>
                  <ulink url="&shiftjis;">Shift-JIS</ulink>
                </entry>
                <entry>
    JIS X 0208 Appendix 1 standard for Japanese (see <ulink url="&cpjdc;">CP932</ulink>)
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <note>
          <simpara>Some encodings are only supported for the data conversion and are not used as locale values (<xref linkend="_basics_of_encoding"/>).</simpara>
        </note>
        <simpara>For character sets which fit in single byte such as <ulink url="&ascii;">ASCII</ulink> and <ulink url="&isoiifj;">ISO-8859</ulink> character sets, the <ulink url="&characterencoding;">character encoding</ulink> means almost the same thing as the character set.</simpara>
        <simpara>For character sets with many characters such as <ulink url="&jisxacbd;">JIS X 0213</ulink> for Japanese or <ulink url="&universalcharactunicodeisobagegb;">Universal Character Set (UCS, Unicode, ISO-10646-1)</ulink> for practically all languages, there are many encoding schemes to fit them into the sequence of the byte data.</simpara>
        <itemizedlist>
          <listitem>
            <simpara><ulink url="&euc;">EUC</ulink> and <ulink url="&isoieccaccalsoknownasjisxacac;">ISO/IEC 2022 (also known as JIS X 0202)</ulink> for Japanese
</simpara>
          </listitem>
          <listitem>
            <simpara><ulink url="&utfi;">UTF-8</ulink>, <ulink url="&utfbgucsc;">UTF-16/UCS-2</ulink> and <ulink url="&utfdcucse;">UTF-32/UCS-4</ulink> for Unicode
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>For these, there are clear differentiations between the character set and the character encoding.</simpara>
        <simpara>The <ulink url="&codepage;">code page</ulink> is used as the synonym to the character encoding tables for some vendor specific ones.</simpara>
        <note>
          <simpara>Please note most encoding systems share the same code with ASCII for the 7 bit characters.  But there are some exceptions. If you are converting old Japanese C programs and URLs data from the casually-called shift-JIS encoding format to UTF-8 format, use "<literal>CP932</literal>" as the encoding name instead of "<literal>shift-JIS</literal>" to get the expected results: <literal>0x5C</literal> → "<literal>\</literal>" and <literal>0x7E</literal> → "<literal>~</literal>" .  Otherwise, these are converted to wrong characters.</simpara>
        </note>
        <tip>
          <simpara><literal>recode</literal>(1) may be used too and offers more than the combined functionality of <literal>iconv</literal>(1), <literal>fromdos</literal>(1), <literal>todos</literal>(1), <literal>frommac</literal>(1), and <literal>tomac</literal>(1).  For more, see "<literal>info recode</literal>".</simpara>
        </tip>
      </section>
      <section id="_converting_file_names_with_iconv">
        <title>Converting file names with iconv</title>
        <simpara>Here is an example script to convert encoding of file names from ones created under older OS to modern UTF-8 ones in a single directory.</simpara>
        <screen>#!/bin/sh
ENCDN=iso-8859-1
for x in *;
 do
 mv "$x" $(echo "$x" | iconv -f $ENCDN -t utf-8)
done</screen>
        <simpara>The "<literal>$ENCDN</literal>" variable should be set by the encoding value in <xref linkend="list-of-encoding-values"/>.</simpara>
        <simpara>For more complicated case, please mount a filesystem (e.g. a partition on a disk drive) containing such file names with proper encoding as the <literal>mount</literal>(8) option (see <xref linkend="_filename_encoding"/>) and copy its entire contents to another filesystem mounted as UTF-8 with "<literal>cp -a</literal>" command.</simpara>
      </section>
      <section id="_eol_conversion">
        <title>EOL conversion</title>
        <simpara>The text file format, specifically the end-of-line (EOL) code, is dependent on the platform.</simpara>
        <table id="listofeolstylesffferentplatforms" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of EOL styles for different platforms</title>
          <tgroup cols="5">
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="60%*" align="left"/>
            <thead>
              <row>
                <entry>
    platform
    </entry>
                <entry>
    EOL code
    </entry>
                <entry>
    control
    </entry>
                <entry>
    decimal
    </entry>
                <entry>
    hexadecimal
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
    Debian (unix)
    </entry>
                <entry>
    LF
    </entry>
                <entry>
                  <literal>^J</literal>
                </entry>
                <entry>
    10
    </entry>
                <entry>
    0A
    </entry>
              </row>
              <row>
                <entry>
    MSDOS and Windows
    </entry>
                <entry>
    CR-LF
    </entry>
                <entry>
                  <literal>^M^J</literal>
                </entry>
                <entry>
    13 10
    </entry>
                <entry>
    0D 0A
    </entry>
              </row>
              <row>
                <entry>
    Apple's Macintosh
    </entry>
                <entry>
    CR
    </entry>
                <entry>
                  <literal>^M</literal>
                </entry>
                <entry>
    13
    </entry>
                <entry>
    0D
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>The EOL format conversion programs, <literal>fromdos</literal>(1), <literal>todos</literal>(1), <literal>frommac</literal>(1), and <literal>tomac</literal>(1), are quite handy.  <literal>recode</literal>(1) is also useful.</simpara>
        <note>
          <simpara>Some data on the Debian system, such as the wiki page data for the <literal>python-moinmoin</literal> package, use MSDOS style CR-LF as the EOL code.  So the above rule is just a general rule.</simpara>
        </note>
        <note>
          <simpara>Most editors (eg. <literal>vim</literal>, <literal>emacs</literal>, <literal>gedit</literal>, …) can handle files in MSDOS style EOL transparently.</simpara>
        </note>
        <tip>
          <simpara>The use of "<literal>sed -e '/\r$/!s/$/\r/'</literal>" instead of <literal>todos</literal>(1) is better when you want to unify the EOL style to the MSDOS style from the mixed MSDOS and Unix style.  (e.g., after merging 2 MSDOS style files with <literal>diff3</literal>(1).)  This is because <literal>todos</literal> adds CR to all lines.</simpara>
        </tip>
      </section>
      <section id="_tab_conversion">
        <title>TAB conversion</title>
        <simpara>There are few popular specialized programs to convert the tab codes.</simpara>
        <table id="listoftabconversoreutilspackages" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of TAB conversion commands from <literal>bsdmainutils</literal> and <literal>coreutils</literal> packages</title>
          <tgroup cols="3">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="40%*" align="left"/>
            <thead>
              <row>
                <entry>
    function
    </entry>
                <entry>
                  <literal>bsdmainutils</literal>
                </entry>
                <entry>
                  <literal>coreutils</literal>
                </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
    expand tab to spaces
    </entry>
                <entry>
    "<literal>col -x</literal>"
    </entry>
                <entry>
                  <literal>expand</literal>
                </entry>
              </row>
              <row>
                <entry>
    unexpand tab from spaces
    </entry>
                <entry>
    "<literal>col -h</literal>"
    </entry>
                <entry>
                  <literal>unexpand</literal>
                </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara><literal>indent</literal>(1) from the <literal>indent</literal> package completely reformats whitespaces in the C program.</simpara>
        <simpara>Editor programs such as <literal>vim</literal> and <literal>emacs</literal> can be used for TAB conversion, too.  For example with <literal>vim</literal>, you can expand TAB with "<literal>:set expandtab</literal>" and "<literal>:%retab</literal>" command sequence.  You can revert this with "<literal>:set noexpandtab</literal>" and "<literal>:%retab!</literal>" command sequence.</simpara>
      </section>
      <section id="_editors_with_auto_conversion">
        <title>Editors with auto-conversion</title>
        <simpara>Intelligent modern editors such as the <literal>vim</literal> program are quite smart and copes well with any encoding systems and any file formats.  You should use these editors under the UTF-8 locale in the UTF-8 capable console for the best compatibility.</simpara>
        <simpara>An old western European Unix text file, "<literal>u-file.txt</literal>", stored in the latin1 (iso-8859-1) encoding can be edited simply with <literal>vim</literal> by the following.</simpara>
        <screen>$ vim u-file.txt</screen>
        <simpara>This is possible since the auto detection mechanism of the file encoding in <literal>vim</literal> assumes the UTF-8 encoding first and, if it fails, assumes it to be latin1.</simpara>
        <simpara>An old Polish Unix text file, "<literal>pu-file.txt</literal>", stored in the latin2 (iso-8859-2) encoding can be edited with <literal>vim</literal> by the following.</simpara>
        <screen>$ vim '+e ++enc=latin2 pu-file.txt'</screen>
        <simpara>An old Japanese unix text file, "<literal>ju-file.txt</literal>", stored in the eucJP encoding can be edited with <literal>vim</literal> by the following.</simpara>
        <screen>$ vim '+e ++enc=eucJP ju-file.txt'</screen>
        <simpara>An old Japanese MS-Windows text file, "<literal>jw-file.txt</literal>", stored in the so called shift-JIS encoding (more precisely: CP932) can be edited with <literal>vim</literal> by the following.</simpara>
        <screen>$ vim '+e ++enc=CP932 ++ff=dos jw-file.txt'</screen>
        <simpara>When a file is opened with "<literal><literal>enc</literal>" and "<literal/>ff</literal>" options, "<literal>:w</literal>" in the Vim command line  stores it in the original format and overwrite the original file.  You can also specify the saving format and the file name in the Vim command line, e.g., "<literal>:w ++enc=utf8 new.txt</literal>".</simpara>
        <simpara>Please refer to the mbyte.txt "multi-byte text support" in <literal>vim</literal> on-line help and <xref linkend="list-of-encoding-values"/> for locale values used with "<literal>++enc</literal>".</simpara>
        <simpara>The <literal>emacs</literal> family of programs can perform the equivalent functions.</simpara>
      </section>
      <section id="_plain_text_extraction">
        <title>Plain text extraction</title>
        <simpara>Following will read a web page into a text file.  This is very useful when copying configurations off the Web or applying basic Unix text tools such as <literal>grep</literal>(1) on the web page.</simpara>
        <screen>$ w3m -dump http://www.remote-site.com/help-info.html &gt;textfile</screen>
        <simpara>Similarly, you can extract plain text data from other formats using the following.</simpara>
        <table id="listoftoolstoextactplaintextdata" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of tools to extract plain text data</title>
          <tgroup cols="5">
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="60%*" align="left"/>
            <thead>
              <row>
                <entry>
    package
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    size
    </entry>
                <entry>
    keyword
    </entry>
                <entry>
    function
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/w3m">
                  <literal>w3m</literal>
                </ulink> <ulink url="http://bugs.debian.org/w3m">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=w3m">&pop-wdm;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/w/w3m.html">&size-wdm;</ulink></entry>
                <entry>
    html→text
    </entry>
                <entry>
    HTML to text converter with the "<literal>w3m -dump</literal>" command
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/html2text">
                  <literal>html2text</literal>
                </ulink> <ulink url="http://bugs.debian.org/html2text">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=html2text">&pop-htmlctext;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/h/html2text.html">&size-htmlctext;</ulink></entry>
                <entry>
    html→text
    </entry>
                <entry>
    advanced HTML to text converter (ISO 8859-1)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/lynx">
                  <literal>lynx</literal>
                </ulink> <ulink url="http://bugs.debian.org/lynx">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=lynx">&pop-lynx;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/l/lynx.html">&size-lynx;</ulink></entry>
                <entry>
    html→text
    </entry>
                <entry>
    HTML to text converter with the "<literal>lynx -dump</literal>" command
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/elinks">
                  <literal>elinks</literal>
                </ulink> <ulink url="http://bugs.debian.org/elinks">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=elinks">&pop-elinks;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/e/elinks.html">&size-elinks;</ulink></entry>
                <entry>
    html→text
    </entry>
                <entry>
    HTML to text converter with the "<literal>elinks -dump</literal>" command
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/links">
                  <literal>links</literal>
                </ulink> <ulink url="http://bugs.debian.org/links">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=links">&pop-links;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/l/links.html">&size-links;</ulink></entry>
                <entry>
    html→text
    </entry>
                <entry>
    HTML to text converter with the "<literal>links -dump</literal>" command
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/links2">
                  <literal>links2</literal>
                </ulink> <ulink url="http://bugs.debian.org/links2">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=links2">&pop-linksc;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/l/links2.html">&size-linksc;</ulink></entry>
                <entry>
    html→text
    </entry>
                <entry>
    HTML to text converter with the "<literal>links2 -dump</literal>" command
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/antiword">
                  <literal>antiword</literal>
                </ulink> <ulink url="http://bugs.debian.org/antiword">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=antiword">&pop-antiword;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/a/antiword.html">&size-antiword;</ulink></entry>
                <entry>
    MSWord→text,ps
    </entry>
                <entry>
    convert MSWord files to plain text or ps
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/catdoc">
                  <literal>catdoc</literal>
                </ulink> <ulink url="http://bugs.debian.org/catdoc">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=catdoc">&pop-catdoc;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/c/catdoc.html">&size-catdoc;</ulink></entry>
                <entry>
    MSWord→text,TeX
    </entry>
                <entry>
    convert MSWord files to plain text or TeX
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/pstotext">
                  <literal>pstotext</literal>
                </ulink> <ulink url="http://bugs.debian.org/pstotext">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=pstotext">&pop-pstotext;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/p/pstotext.html">&size-pstotext;</ulink></entry>
                <entry>
    ps/pdf→text
    </entry>
                <entry>
    extract text from PostScript and PDF files
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/unhtml">
                  <literal>unhtml</literal>
                </ulink> <ulink url="http://bugs.debian.org/unhtml">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=unhtml">&pop-unhtml;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/u/unhtml.html">&size-unhtml;</ulink></entry>
                <entry>
    html→text
    </entry>
                <entry>
    remove the markup tags from an HTML file
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/odt2txt">
                  <literal>odt2txt</literal>
                </ulink> <ulink url="http://bugs.debian.org/odt2txt">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=odt2txt">&pop-odtctxt;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/o/odt2txt.html">&size-odtctxt;</ulink></entry>
                <entry>
    odt→text
    </entry>
                <entry>
    converter from OpenDocument Text to text
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/wpd2sxw">
                  <literal>wpd2sxw</literal>
                </ulink> <ulink url="http://bugs.debian.org/wpd2sxw">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=wpd2sxw">&pop-wpdcsxw;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/w/wpd2sxw.html">&size-wpdcsxw;</ulink></entry>
                <entry>
    WordPerfect→sxw
    </entry>
                <entry>
    WordPerfect to OpenOffice.org/StarOffice writer document converter
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </section>
      <section id="_highlighting_and_formatting_plain_text_data">
        <title>Highlighting and formatting plain text data</title>
        <simpara>You can highlight and format plain text data by the following.</simpara>
        <table id="listoftoolstohigghtplaintextdata" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of tools to highlight plain text data</title>
          <tgroup cols="5">
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="60%*" align="left"/>
            <thead>
              <row>
                <entry>
    package
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    size
    </entry>
                <entry>
    keyword
    </entry>
                <entry>
    description
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/vim-runtime">
                  <literal>vim-runtime</literal>
                </ulink> <ulink url="http://bugs.debian.org/vim-runtime">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=vim-runtime">&pop-vimruntime;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/v/vim-runtime.html">&size-vimruntime;</ulink></entry>
                <entry>
    highlight
    </entry>
                <entry>
    Vim MACRO to convert source code to HTML with "<literal>:source $VIMRUNTIME/syntax/html.vim</literal>"
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/cxref">
                  <literal>cxref</literal>
                </ulink> <ulink url="http://bugs.debian.org/cxref">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=cxref">&pop-cxref;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/c/cxref.html">&size-cxref;</ulink></entry>
                <entry>
    c→html
    </entry>
                <entry>
    converter for the C program to latex and HTML (C language)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/src2tex">
                  <literal>src2tex</literal>
                </ulink> <ulink url="http://bugs.debian.org/src2tex">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=src2tex">&pop-srcctex;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/s/src2tex.html">&size-srcctex;</ulink></entry>
                <entry>
    highlight
    </entry>
                <entry>
    convert many source codes to TeX (C language)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/source-highlight">
                  <literal>source-highlight</literal>
                </ulink> <ulink url="http://bugs.debian.org/source-highlight">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=source-highlight">&pop-sourcehighlight;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/s/source-highlight.html">&size-sourcehighlight;</ulink></entry>
                <entry>
    highlight
    </entry>
                <entry>
    convert many source codes to HTML, XHTML, LaTeX, Texinfo, ANSI color escape sequences and DocBook files with highlight (C++)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/highlight">
                  <literal>highlight</literal>
                </ulink> <ulink url="http://bugs.debian.org/highlight">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=highlight">&pop-highlight;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/h/highlight.html">&size-highlight;</ulink></entry>
                <entry>
    highlight
    </entry>
                <entry>
    convert many source codes to HTML, XHTML, RTF, LaTeX, TeX or XSL-FO files with highlight (C++)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/grc">
                  <literal>grc</literal>
                </ulink> <ulink url="http://bugs.debian.org/grc">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=grc">&pop-grc;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/g/grc.html">&size-grc;</ulink></entry>
                <entry>
    text→color
    </entry>
                <entry>
    generic colouriser for everything (Python)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/txt2html">
                  <literal>txt2html</literal>
                </ulink> <ulink url="http://bugs.debian.org/txt2html">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=txt2html">&pop-txtchtml;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/t/txt2html.html">&size-txtchtml;</ulink></entry>
                <entry>
    text→html
    </entry>
                <entry>
    text to HTML converter (Perl)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/markdown">
                  <literal>markdown</literal>
                </ulink> <ulink url="http://bugs.debian.org/markdown">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=markdown">&pop-markdown;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/m/markdown.html">&size-markdown;</ulink></entry>
                <entry>
    text→html
    </entry>
                <entry>
    markdown text document formatter to (X)HTML (Perl)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/asciidoc">
                  <literal>asciidoc</literal>
                </ulink> <ulink url="http://bugs.debian.org/asciidoc">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=asciidoc">&pop-asciidoc;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/a/asciidoc.html">&size-asciidoc;</ulink></entry>
                <entry>
    text→any
    </entry>
                <entry>
    AsciiDoc text document formatter to XML/HTML (Python)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/python-docutils">
                  <literal>python-docutils</literal>
                </ulink> <ulink url="http://bugs.debian.org/python-docutils">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=python-docutils">&pop-pythondocutils;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/p/python-docutils.html">&size-pythondocutils;</ulink></entry>
                <entry>
    text→any
    </entry>
                <entry>
    ReStructured Text document formatter to XML (Python)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/txt2tags">
                  <literal>txt2tags</literal>
                </ulink> <ulink url="http://bugs.debian.org/txt2tags">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=txt2tags">&pop-txtctags;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/t/txt2tags.html">&size-txtctags;</ulink></entry>
                <entry>
    text→any
    </entry>
                <entry>
    document conversion from text to HTML, SGML, LaTeX, man page, MoinMoin, Magic Point and PageMaker (Python)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/udo">
                  <literal>udo</literal>
                </ulink> <ulink url="http://bugs.debian.org/udo">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=udo">&pop-udo;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/u/udo.html">&size-udo;</ulink></entry>
                <entry>
    text→any
    </entry>
                <entry>
    universal document - text processing utility (C language)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/stx2any">
                  <literal>stx2any</literal>
                </ulink> <ulink url="http://bugs.debian.org/stx2any">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=stx2any">&pop-stxcany;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/s/stx2any.html">&size-stxcany;</ulink></entry>
                <entry>
    text→any
    </entry>
                <entry>
    document converter from structured plain text to other formats (m4)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/rest2web">
                  <literal>rest2web</literal>
                </ulink> <ulink url="http://bugs.debian.org/rest2web">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=rest2web">&pop-restcweb;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/r/rest2web.html">&size-restcweb;</ulink></entry>
                <entry>
    text→html
    </entry>
                <entry>
    document converter from ReStructured Text to html (Python)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/aft">
                  <literal>aft</literal>
                </ulink> <ulink url="http://bugs.debian.org/aft">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=aft">&pop-aft;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/a/aft.html">&size-aft;</ulink></entry>
                <entry>
    text→any
    </entry>
                <entry>
    "free form" document preparation system (Perl)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/yodl">
                  <literal>yodl</literal>
                </ulink> <ulink url="http://bugs.debian.org/yodl">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=yodl">&pop-yodl;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/y/yodl.html">&size-yodl;</ulink></entry>
                <entry>
    text→any
    </entry>
                <entry>
    pre-document language and tools to process it (C language)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/sdf">
                  <literal>sdf</literal>
                </ulink> <ulink url="http://bugs.debian.org/sdf">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=sdf">&pop-sdf;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/s/sdf.html">&size-sdf;</ulink></entry>
                <entry>
    text→any
    </entry>
                <entry>
    simple document parser (Perl)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/sisu">
                  <literal>sisu</literal>
                </ulink> <ulink url="http://bugs.debian.org/sisu">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=sisu">&pop-sisu;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/s/sisu.html">&size-sisu;</ulink></entry>
                <entry>
    text→any
    </entry>
                <entry>
    document structuring, publishing and search framework (Ruby)
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </section>
    </section>
    <section id="_xml_data">
      <title>XML data</title>
      <simpara><ulink url="&theextensiblemarkuplanguagexml;">The Extensible Markup Language (XML)</ulink> is a markup language for documents containing structured information.</simpara>
      <simpara>See introductory information at <ulink url="&xmlcom;">XML.COM</ulink>.</simpara>
      <itemizedlist>
        <listitem>
          <simpara>
            <ulink url="&whatisxml;">"What is XML?"</ulink>
          </simpara>
        </listitem>
        <listitem>
          <simpara>
            <ulink url="&whatisxslt;">"What Is XSLT?"</ulink>
          </simpara>
        </listitem>
        <listitem>
          <simpara>
            <ulink url="&whatisxslfo;">"What Is XSL-FO?"</ulink>
          </simpara>
        </listitem>
        <listitem>
          <simpara>
            <ulink url="&whatisxlink;">"What Is XLink?"</ulink>
          </simpara>
        </listitem>
      </itemizedlist>
      <section id="_basic_hints_for_xml">
        <title>Basic hints for XML</title>
        <simpara>XML text looks somewhat like <ulink url="&html;">HTML</ulink>.  It enables us to manage multiple formats of output for a document.  One easy XML system is the <literal>docbook-xsl</literal> package, which is used here.</simpara>
        <simpara>Each XML file starts with standard XML declaration as the following.</simpara>
        <screen>&lt;?xml version="1.0" encoding="UTF-8"?&gt;</screen>
        <simpara>The basic syntax for one XML element is marked up as the following.</simpara>
        <screen>&lt;name attribute="value"&gt;content&lt;/name&gt;</screen>
        <simpara>XML element with empty content is marked up in the following short form.</simpara>
        <screen>&lt;name attribute="value"/&gt;</screen>
        <simpara>The "<literal>attribute="value"</literal>" in the above examples are optional.</simpara>
        <simpara>The comment section in XML is marked up as the following.</simpara>
        <screen>&lt;!-- comment --&gt;</screen>
        <simpara>Other than adding markups, XML requires minor conversion to the content using predefined entities for following characters.</simpara>
        <table id="listofpredefinedentitiesforxml" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of predefined entities for XML</title>
          <tgroup cols="2">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="70%*" align="left"/>
            <thead>
              <row>
                <entry>
    predefined entity
    </entry>
                <entry>
    character to be converted from
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>&amp;quot;</literal>
                </entry>
                <entry><literal>"</literal> : quote
    </entry>
              </row>
              <row>
                <entry>
                  <literal>&amp;apos;</literal>
                </entry>
                <entry><literal>'</literal> : apostrophe
    </entry>
              </row>
              <row>
                <entry>
                  <literal>&amp;lt;</literal>
                </entry>
                <entry><literal>&lt;</literal> : less-than
    </entry>
              </row>
              <row>
                <entry>
                  <literal>&amp;gt;</literal>
                </entry>
                <entry><literal>&gt;</literal> : greater-than
    </entry>
              </row>
              <row>
                <entry>
                  <literal>&amp;amp;</literal>
                </entry>
                <entry><literal>&amp;</literal> : ampersand
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <caution>
          <simpara>"<literal>&lt;</literal>" or "<literal>&amp;</literal>" can not be used in attributes or elements.</simpara>
        </caution>
        <note>
          <simpara>When SGML style user defined entities, e.g. "<literal>&amp;some-tag:</literal>", are used, the first definition wins over others.  The entity definition is expressed in "<literal>&lt;!ENTITY some-tag "entity value"&gt;</literal>".</simpara>
        </note>
        <note>
          <simpara>As long as the XML markup are done consistently with certain set of the tag name (either some data as content or attribute value), conversion to another XML is trivial task using <ulink url="&extensiblestylesnsformationsxslt;">Extensible Stylesheet Language Transformations (XSLT)</ulink>.</simpara>
        </note>
      </section>
      <section id="_xml_processing">
        <title>XML processing</title>
        <simpara>There are many tools available to process XML files such as <ulink url="&theextensiblestysheetlanguagexsl;">the Extensible Stylesheet Language (XSL)</ulink>.</simpara>
        <simpara>Basically, once you create well formed XML file, you can convert it to any format using <ulink url="&extensiblestylesnsformationsxslt;">Extensible Stylesheet Language Transformations (XSLT)</ulink>.</simpara>
        <simpara>The <ulink url="&extensiblestylesttingobjectxslfo;">Extensible Stylesheet Language for Formatting Object (XSL-FO)</ulink> is supposed to be solution for formatting. The <literal>fop</literal> package is in the Debian <literal>contrib</literal> (not <literal>main</literal>) archive still. So the LaTeX code is usually generated from XML using XSLT and the LaTeX system is used to create printable file such as DVI, PostScript, and PDF.</simpara>
        <table id="listofxmltools" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of XML tools</title>
          <tgroup cols="5">
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="60%*" align="left"/>
            <thead>
              <row>
                <entry>
    package
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    size
    </entry>
                <entry>
    keyword
    </entry>
                <entry>
    description
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/docbook-xml">
                  <literal>docbook-xml</literal>
                </ulink> <ulink url="http://bugs.debian.org/docbook-xml">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=docbook-xml">&pop-docbookxml;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/d/docbook-xml.html">&size-docbookxml;</ulink></entry>
                <entry>
    xml
    </entry>
                <entry>
    XML document type definition (DTD) for DocBook
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/xsltproc">
                  <literal>xsltproc</literal>
                </ulink> <ulink url="http://bugs.debian.org/xsltproc">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=xsltproc">&pop-xsltproc;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/x/xsltproc.html">&size-xsltproc;</ulink></entry>
                <entry>
    xslt
    </entry>
                <entry>
    XSLT command line processor (XML→ XML, HTML, plain text, etc.)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/docbook-xsl">
                  <literal>docbook-xsl</literal>
                </ulink> <ulink url="http://bugs.debian.org/docbook-xsl">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=docbook-xsl">&pop-docbookxsl;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/d/docbook-xsl.html">&size-docbookxsl;</ulink></entry>
                <entry>
    xml/xslt
    </entry>
                <entry>
    XSL stylesheets for processing DocBook XML to various output formats with XSLT
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/xmlto">
                  <literal>xmlto</literal>
                </ulink> <ulink url="http://bugs.debian.org/xmlto">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=xmlto">&pop-xmlto;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/x/xmlto.html">&size-xmlto;</ulink></entry>
                <entry>
    xml/xslt
    </entry>
                <entry>
    XML-to-any converter with XSLT
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/dblatex">
                  <literal>dblatex</literal>
                </ulink> <ulink url="http://bugs.debian.org/dblatex">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=dblatex">&pop-dblatex;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/d/dblatex.html">&size-dblatex;</ulink></entry>
                <entry>
    xml/xslt
    </entry>
                <entry>
    convert Docbook files to DVI, PostScript, PDF documents with XSLT
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/fop">
                  <literal>fop</literal>
                </ulink> <ulink url="http://bugs.debian.org/fop">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=fop">&pop-fop;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/f/fop.html">&size-fop;</ulink></entry>
                <entry>
    xml/xsl-fo
    </entry>
                <entry>
    convert Docbook XML files to PDF
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>Since XML is subset of <ulink url="&standardgeneralirkuplanguagesgml;">Standard Generalized Markup Language (SGML)</ulink>, it can be processed by the extensive tools available for SGML, such as <ulink url="&documentstylesemionlanguagedsssl;">Document Style Semantics and Specification Language (DSSSL)</ulink>.</simpara>
        <table id="listofdssltools" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of DSSL tools</title>
          <tgroup cols="5">
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="60%*" align="left"/>
            <thead>
              <row>
                <entry>
    package
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    size
    </entry>
                <entry>
    keyword
    </entry>
                <entry>
    description
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/openjade">
                  <literal>openjade</literal>
                </ulink> <ulink url="http://bugs.debian.org/openjade">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=openjade">&pop-openjade;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/o/openjade.html">&size-openjade;</ulink></entry>
                <entry>
    dsssl
    </entry>
                <entry>
    ISO/IEC 10179:1996 standard DSSSL processor (latest)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/openjade1.3">
                  <literal>openjade1.3</literal>
                </ulink> <ulink url="http://bugs.debian.org/openjade1.3">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=openjade1.3">&pop-openjadebd;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/o/openjade1.3.html">&size-openjadebd;</ulink></entry>
                <entry>
    dsssl
    </entry>
                <entry>
    ISO/IEC 10179:1996 standard DSSSL processor (1.3.x series)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/jade">
                  <literal>jade</literal>
                </ulink> <ulink url="http://bugs.debian.org/jade">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=jade">&pop-jade;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/j/jade.html">&size-jade;</ulink></entry>
                <entry>
    dsssl
    </entry>
                <entry>
    James Clark's original DSSSL processor (1.2.x series)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/docbook-dsssl">
                  <literal>docbook-dsssl</literal>
                </ulink> <ulink url="http://bugs.debian.org/docbook-dsssl">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=docbook-dsssl">&pop-docbookdsssl;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/d/docbook-dsssl.html">&size-docbookdsssl;</ulink></entry>
                <entry>
    xml/dsssl
    </entry>
                <entry>
    DSSSL stylesheets for processing DocBook XML to various output formats with DSSSL
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/docbook-utils">
                  <literal>docbook-utils</literal>
                </ulink> <ulink url="http://bugs.debian.org/docbook-utils">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=docbook-utils">&pop-docbookutils;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/d/docbook-utils.html">&size-docbookutils;</ulink></entry>
                <entry>
    xml/dsssl
    </entry>
                <entry>
    utilities for DocBook files including conversion to other formats (HTML, RTF, PS, man, PDF) with <literal>docbook2*</literal> commands with DSSSL
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/sgml2x">
                  <literal>sgml2x</literal>
                </ulink> <ulink url="http://bugs.debian.org/sgml2x">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=sgml2x">&pop-sgmlcx;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/s/sgml2x.html">&size-sgmlcx;</ulink></entry>
                <entry>
    SGML/dsssl
    </entry>
                <entry>
    converter from SGML and XML using DSSSL stylesheets
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <tip>
          <simpara><ulink url="&gnome;">GNOME</ulink><literal>yelp</literal> is sometimes handy to read <ulink url="&docbook;">DocBook</ulink> XML files directly since it renders decently on X.</simpara>
        </tip>
      </section>
      <section id="_the_xml_data_extraction">
        <title>The XML data extraction</title>
        <simpara>You can extract HTML or XML data from other formats using followings.</simpara>
        <table id="listofxmldataextractiontools" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of XML data extraction tools</title>
          <tgroup cols="5">
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="60%*" align="left"/>
            <thead>
              <row>
                <entry>
    package
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    size
    </entry>
                <entry>
    keyword
    </entry>
                <entry>
    description
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/wv">
                  <literal>wv</literal>
                </ulink> <ulink url="http://bugs.debian.org/wv">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=wv">&pop-wv;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/w/wv.html">&size-wv;</ulink></entry>
                <entry>
    MSWord→any
    </entry>
                <entry>
    document converter from Microsoft Word to HTML, LaTeX, etc.
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/texi2html">
                  <literal>texi2html</literal>
                </ulink> <ulink url="http://bugs.debian.org/texi2html">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=texi2html">&pop-texichtml;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/t/texi2html.html">&size-texichtml;</ulink></entry>
                <entry>
    texi→html
    </entry>
                <entry>
    converter from Texinfo to HTML
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/man2html">
                  <literal>man2html</literal>
                </ulink> <ulink url="http://bugs.debian.org/man2html">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=man2html">&pop-manchtml;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/m/man2html.html">&size-manchtml;</ulink></entry>
                <entry>
    manpage→html
    </entry>
                <entry>
    converter from manpage to HTML (CGI support)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/tex4ht">
                  <literal>tex4ht</literal>
                </ulink> <ulink url="http://bugs.debian.org/tex4ht">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=tex4ht">&pop-texeht;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/t/tex4ht.html">&size-texeht;</ulink></entry>
                <entry>
    tex↔html
    </entry>
                <entry>
    converter between (La)TeX and HTML
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/xlhtml">
                  <literal>xlhtml</literal>
                </ulink> <ulink url="http://bugs.debian.org/xlhtml">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=xlhtml">&pop-xlhtml;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/x/xlhtml.html">&size-xlhtml;</ulink></entry>
                <entry>
    MSExcel→html
    </entry>
                <entry>
    converter from MSExcel .xls to HTML
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/ppthtml">
                  <literal>ppthtml</literal>
                </ulink> <ulink url="http://bugs.debian.org/ppthtml">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=ppthtml">&pop-ppthtml;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/p/ppthtml.html">&size-ppthtml;</ulink></entry>
                <entry>
    MSPowerPoint→html
    </entry>
                <entry>
    converter from MSPowerPoint to HTML
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/unrtf">
                  <literal>unrtf</literal>
                </ulink> <ulink url="http://bugs.debian.org/unrtf">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=unrtf">&pop-unrtf;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/u/unrtf.html">&size-unrtf;</ulink></entry>
                <entry>
    rtf→html
    </entry>
                <entry>
    document converter from RTF to HTML, etc
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/info2www">
                  <literal>info2www</literal>
                </ulink> <ulink url="http://bugs.debian.org/info2www">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=info2www">&pop-infocwww;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/i/info2www.html">&size-infocwww;</ulink></entry>
                <entry>
    info→html
    </entry>
                <entry>
    converter from GNU info to HTML (CGI support)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/ooo2dbk">
                  <literal>ooo2dbk</literal>
                </ulink> <ulink url="http://bugs.debian.org/ooo2dbk">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=ooo2dbk">&pop-ooocdbk;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/o/ooo2dbk.html">&size-ooocdbk;</ulink></entry>
                <entry>
    sxw→xml
    </entry>
                <entry>
    converter from OpenOffice.org SXW documents to DocBook XML
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/wp2x">
                  <literal>wp2x</literal>
                </ulink> <ulink url="http://bugs.debian.org/wp2x">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=wp2x">&pop-wpcx;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/w/wp2x.html">&size-wpcx;</ulink></entry>
                <entry>
    WordPerfect→any
    </entry>
                <entry>
    WordPerfect 5.0 and 5.1 files to TeX, LaTeX, troff, GML and HTML
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/doclifter">
                  <literal>doclifter</literal>
                </ulink> <ulink url="http://bugs.debian.org/doclifter">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=doclifter">&pop-doclifter;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/d/doclifter.html">&size-doclifter;</ulink></entry>
                <entry>
    troff→xml
    </entry>
                <entry>
    converter from troff to DocBook XML
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>For non-XML HTML files, you can convert them to XHTML which is an instance of well formed XML.  XHTML can be processed by XML tools.</simpara>
        <table id="listofxmlprettyprinttools" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of XML pretty print tools</title>
          <tgroup cols="5">
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="60%*" align="left"/>
            <thead>
              <row>
                <entry>
    package
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    size
    </entry>
                <entry>
    keyword
    </entry>
                <entry>
    description
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/libxml2-utils">
                  <literal>libxml2-utils</literal>
                </ulink> <ulink url="http://bugs.debian.org/libxml2-utils">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=libxml2-utils">&pop-libxmlcutils;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/libx/libxml2-utils.html">&size-libxmlcutils;</ulink></entry>
                <entry>
    xml↔html↔xhtml
    </entry>
                <entry>
    command line XML tool with <literal>xmllint</literal>(1) (syntax check, reformat, lint, …)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/tidy">
                  <literal>tidy</literal>
                </ulink> <ulink url="http://bugs.debian.org/tidy">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=tidy">&pop-tidy;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/t/tidy.html">&size-tidy;</ulink></entry>
                <entry>
    xml↔html↔xhtml
    </entry>
                <entry>
    HTML syntax checker and reformatter
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>Once proper XML is generated, you can use XSLT technology to extract data based on the mark-up context etc.</simpara>
      </section>
    </section>
    <section id="_printable_data">
      <title>Printable data</title>
      <simpara>Printable data is expressed in the <ulink url="&postscript;">PostScript</ulink> format on the Debian system.   <ulink url="&commonunixprintingsystemcups;">Common Unix Printing System (CUPS)</ulink> uses Ghostscript as its rasterizer backend program for non-PostScript printers.</simpara>
      <section id="_ghostscript">
        <title>Ghostscript</title>
        <simpara>The core of printable data manipulation is the <ulink url="&ghostscript;">Ghostscript</ulink> <ulink url="&postscriptps;">PostScript (PS)</ulink> interpreter which generates raster image.</simpara>
        <simpara>The latest upstream Ghostscript from Artifex was re-licensed from AFPL to GPL and merged all the latest ESP version changes such as CUPS related ones at 8.60 release as unified release.</simpara>
        <table id="listofghostscripriptinterpreters" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of Ghostscript PostScript interpreters</title>
          <tgroup cols="4">
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="40%*" align="left"/>
            <thead>
              <row>
                <entry>
    package
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    size
    </entry>
                <entry>
    description
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/ghostscript">
                  <literal>ghostscript</literal>
                </ulink> <ulink url="http://bugs.debian.org/ghostscript">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=ghostscript">&pop-ghostscript;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/g/ghostscript.html">&size-ghostscript;</ulink></entry>
                <entry>
                  <ulink url="&thegplghostscripptpdfinterpreter;">The GPL Ghostscript PostScript/PDF interpreter</ulink>
                </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/ghostscript-x">
                  <literal>ghostscript-x</literal>
                </ulink> <ulink url="http://bugs.debian.org/ghostscript-x">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=ghostscript-x">&pop-ghostscriptx;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/g/ghostscript-x.html">&size-ghostscriptx;</ulink></entry>
                <entry>
    GPL Ghostscript PostScript/PDF interpreter - X display support
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/gs-cjk-resource">
                  <literal>gs-cjk-resource</literal>
                </ulink> <ulink url="http://bugs.debian.org/gs-cjk-resource">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=gs-cjk-resource">&pop-gscjkresource;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/g/gs-cjk-resource.html">&size-gscjkresource;</ulink></entry>
                <entry>
    resource files for gs-cjk, Ghostscript <ulink url="&cjk;">CJK</ulink>-TrueType extension
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/cmap-adobe-cns1">
                  <literal>cmap-adobe-cns1</literal>
                </ulink> <ulink url="http://bugs.debian.org/cmap-adobe-cns1">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=cmap-adobe-cns1">&pop-cmapadobecnsb;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/c/cmap-adobe-cns1.html">&size-cmapadobecnsb;</ulink></entry>
                <entry>
    CMaps for Adobe-CNS1 (for traditional Chinese support)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/cmap-adobe-gb1">
                  <literal>cmap-adobe-gb1</literal>
                </ulink> <ulink url="http://bugs.debian.org/cmap-adobe-gb1">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=cmap-adobe-gb1">&pop-cmapadobegbb;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/c/cmap-adobe-gb1.html">&size-cmapadobegbb;</ulink></entry>
                <entry>
    CMaps for Adobe-GB1 (for simplified Chinese support)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/cmap-adobe-japan1">
                  <literal>cmap-adobe-japan1</literal>
                </ulink> <ulink url="http://bugs.debian.org/cmap-adobe-japan1">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=cmap-adobe-japan1">&pop-cmapadobejapanb;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/c/cmap-adobe-japan1.html">&size-cmapadobejapanb;</ulink></entry>
                <entry>
    CMaps for Adobe-Japan1 (for Japanese standard support)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/cmap-adobe-japan2">
                  <literal>cmap-adobe-japan2</literal>
                </ulink> <ulink url="http://bugs.debian.org/cmap-adobe-japan2">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=cmap-adobe-japan2">&pop-cmapadobejapanc;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/c/cmap-adobe-japan2.html">&size-cmapadobejapanc;</ulink></entry>
                <entry>
    CMaps for Adobe-Japan2 (for Japanese extra support)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/cmap-adobe-korea1">
                  <literal>cmap-adobe-korea1</literal>
                </ulink> <ulink url="http://bugs.debian.org/cmap-adobe-korea1">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=cmap-adobe-korea1">&pop-cmapadobekoreab;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/c/cmap-adobe-korea1.html">&size-cmapadobekoreab;</ulink></entry>
                <entry>
    CMaps for Adobe-Korea1 (for Korean support)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/libpoppler4">
                  <literal>libpoppler4</literal>
                </ulink> <ulink url="http://bugs.debian.org/libpoppler4">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=libpoppler4">&pop-libpopplere;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/libp/libpoppler4.html">&size-libpopplere;</ulink></entry>
                <entry>
    PDF rendering library based on xpdf PDF viewer
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/libpoppler-glib4">
                  <literal>libpoppler-glib4</literal>
                </ulink> <ulink url="http://bugs.debian.org/libpoppler-glib4">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=libpoppler-glib4">&pop-libpopplerglibe;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/libp/libpoppler-glib4.html">&size-libpopplerglibe;</ulink></entry>
                <entry>
    PDF rendering library (GLib-based shared library)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/poppler-data">
                  <literal>poppler-data</literal>
                </ulink> <ulink url="http://bugs.debian.org/poppler-data">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=poppler-data">&pop-popplerdata;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/p/poppler-data.html">&size-popplerdata;</ulink></entry>
                <entry>
    CMaps for PDF rendering library (for <ulink url="&cjk;">CJK</ulink> support: Adobe-*)
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <tip>
          <simpara>"<literal>gs -h</literal>" can display the configuration of Ghostscript.</simpara>
        </tip>
      </section>
      <section id="_merge_two_ps_or_pdf_files">
        <title>Merge two PS or PDF files</title>
        <simpara>You can merge two <ulink url="&postscriptps;">PostScript (PS)</ulink> or <ulink url="&portabledocumentformatpdf;">Portable Document Format (PDF)</ulink> files using <literal>gs</literal>(1) of Ghostscript.</simpara>
        <screen>$ gs -q -dNOPAUSE -dBATCH -sDEVICE=pswrite -sOutputFile=bla.ps -f foo1.ps foo2.ps
$ gs -q -dNOPAUSE -dBATCH -sDEVICE=pdfwrite -sOutputFile=bla.pdf -f foo1.pdf foo2.pdf</screen>
        <note>
          <simpara>The <ulink url="&pdf;">PDF</ulink>, which is widely used cross-platform printable data format, is essentially the compressed  <ulink url="&ps;">PS</ulink> format with few additional features and extensions.</simpara>
        </note>
        <tip>
          <simpara>For command line, <literal>psmerge</literal>(1) and other commands from the <literal>psutils</literal> package are useful for manipulating PostScript documents.  Commands in the <literal>pdfjam</literal> package work similarly for manipulating PDF documents. <literal>pdftk</literal>(1) from the <literal>pdftk</literal> package is useful for manipulating PDF documents, too.</simpara>
        </tip>
      </section>
      <section id="_printable_data_utilities">
        <title>Printable data utilities</title>
        <simpara>The following packages for the printable data utilities caught my eyes.</simpara>
        <table id="listofprintabledatautilities" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of printable data utilities</title>
          <tgroup cols="5">
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="60%*" align="left"/>
            <thead>
              <row>
                <entry>
    package
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    size
    </entry>
                <entry>
    keyword
    </entry>
                <entry>
    description
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/poppler-utils">
                  <literal>poppler-utils</literal>
                </ulink> <ulink url="http://bugs.debian.org/poppler-utils">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=poppler-utils">&pop-popplerutils;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/p/poppler-utils.html">&size-popplerutils;</ulink></entry>
                <entry>
    pdf→ps,text,…
    </entry>
                <entry>
    PDF utilities: <literal>pdftops</literal>, <literal>pdfinfo</literal>, <literal>pdfimages</literal>, <literal>pdftotext</literal>, <literal>pdffonts</literal>
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/psutils">
                  <literal>psutils</literal>
                </ulink> <ulink url="http://bugs.debian.org/psutils">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=psutils">&pop-psutils;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/p/psutils.html">&size-psutils;</ulink></entry>
                <entry>
    ps→ps
    </entry>
                <entry>
    PostScript document conversion tools
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/poster">
                  <literal>poster</literal>
                </ulink> <ulink url="http://bugs.debian.org/poster">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=poster">&pop-poster;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/p/poster.html">&size-poster;</ulink></entry>
                <entry>
    ps→ps
    </entry>
                <entry>
    create large posters out of PostScript pages
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/xpdf-utils">
                  <literal>xpdf-utils</literal>
                </ulink> <ulink url="http://bugs.debian.org/xpdf-utils">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=xpdf-utils">&pop-xpdfutils;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/x/xpdf-utils.html">&size-xpdfutils;</ulink></entry>
                <entry>
    pdf→ps,text,…
    </entry>
                <entry>
    PDF utilities: <literal>pdftops</literal>, <literal>pdfinfo</literal>, <literal>pdfimages</literal>, <literal>pdftotext</literal>, <literal>pdffonts</literal>
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/enscript">
                  <literal>enscript</literal>
                </ulink> <ulink url="http://bugs.debian.org/enscript">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=enscript">&pop-enscript;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/e/enscript.html">&size-enscript;</ulink></entry>
                <entry>
    text→ps, html, rtf
    </entry>
                <entry>
    convert ASCII text to PostScript, HTML, RTF or Pretty-Print
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/a2ps">
                  <literal>a2ps</literal>
                </ulink> <ulink url="http://bugs.debian.org/a2ps">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=a2ps">&pop-acps;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/a/a2ps.html">&size-acps;</ulink></entry>
                <entry>
    text→ps
    </entry>
                <entry>
    'Anything to PostScript' converter and pretty-printer
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/pdftk">
                  <literal>pdftk</literal>
                </ulink> <ulink url="http://bugs.debian.org/pdftk">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=pdftk">&pop-pdftk;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/p/pdftk.html">&size-pdftk;</ulink></entry>
                <entry>
    pdf→pdf
    </entry>
                <entry>
    PDF document conversion tool: <literal>pdftk</literal>
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/mpage">
                  <literal>mpage</literal>
                </ulink> <ulink url="http://bugs.debian.org/mpage">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=mpage">&pop-mpage;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/m/mpage.html">&size-mpage;</ulink></entry>
                <entry>
    text,ps→ps
    </entry>
                <entry>
    print multiple pages per sheet
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/html2ps">
                  <literal>html2ps</literal>
                </ulink> <ulink url="http://bugs.debian.org/html2ps">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=html2ps">&pop-htmlcps;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/h/html2ps.html">&size-htmlcps;</ulink></entry>
                <entry>
    html→ps
    </entry>
                <entry>
    converter from HTML to PostScript
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/pdfjam">
                  <literal>pdfjam</literal>
                </ulink> <ulink url="http://bugs.debian.org/pdfjam">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=pdfjam">&pop-pdfjam;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/p/pdfjam.html">&size-pdfjam;</ulink></entry>
                <entry>
    pdf→pdf
    </entry>
                <entry>
    PDF document conversion tools: <literal>pdf90</literal>, <literal>pdfjoin</literal>, and <literal>pdfnup</literal>
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/gnuhtml2latex">
                  <literal>gnuhtml2latex</literal>
                </ulink> <ulink url="http://bugs.debian.org/gnuhtml2latex">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=gnuhtml2latex">&pop-gnuhtmlclatex;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/g/gnuhtml2latex.html">&size-gnuhtmlclatex;</ulink></entry>
                <entry>
    html→latex
    </entry>
                <entry>
    converter from html to latex
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/latex2rtf">
                  <literal>latex2rtf</literal>
                </ulink> <ulink url="http://bugs.debian.org/latex2rtf">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=latex2rtf">&pop-latexcrtf;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/l/latex2rtf.html">&size-latexcrtf;</ulink></entry>
                <entry>
    latex→rtf
    </entry>
                <entry>
    convert documents from LaTeX to RTF which can be read by MS Word
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/ps2eps">
                  <literal>ps2eps</literal>
                </ulink> <ulink url="http://bugs.debian.org/ps2eps">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=ps2eps">&pop-psceps;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/p/ps2eps.html">&size-psceps;</ulink></entry>
                <entry>
    ps→eps
    </entry>
                <entry>
    converter from PostScript to EPS (Encapsulated PostScript)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/e2ps">
                  <literal>e2ps</literal>
                </ulink> <ulink url="http://bugs.debian.org/e2ps">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=e2ps">&pop-ecps;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/e/e2ps.html">&size-ecps;</ulink></entry>
                <entry>
    text→ps
    </entry>
                <entry>
    Text to PostScript converter with Japanese encoding support
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/impose+">
                  <literal>impose+</literal>
                </ulink> <ulink url="http://bugs.debian.org/impose+">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=impose+">&pop-impose;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/i/impose+.html">&size-impose;</ulink></entry>
                <entry>
    ps→ps
    </entry>
                <entry>
    PostScript utilities
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/trueprint">
                  <literal>trueprint</literal>
                </ulink> <ulink url="http://bugs.debian.org/trueprint">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=trueprint">&pop-trueprint;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/t/trueprint.html">&size-trueprint;</ulink></entry>
                <entry>
    text→ps
    </entry>
                <entry>
    pretty print many source codes (C, C++, Java, Pascal, Perl, Pike, Sh, and Verilog) to PostScript. (C language)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/pdf2svg">
                  <literal>pdf2svg</literal>
                </ulink> <ulink url="http://bugs.debian.org/pdf2svg">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=pdf2svg">&pop-pdfcsvg;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/p/pdf2svg.html">&size-pdfcsvg;</ulink></entry>
                <entry>
    ps→svg
    </entry>
                <entry>
    converter from PDF to <ulink url="&scalablevectorgraphics;">Scalable vector graphics</ulink> format
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/pdftoipe">
                  <literal>pdftoipe</literal>
                </ulink> <ulink url="http://bugs.debian.org/pdftoipe">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=pdftoipe">&pop-pdftoipe;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/p/pdftoipe.html">&size-pdftoipe;</ulink></entry>
                <entry>
    ps→ipe
    </entry>
                <entry>
    converter from PDF to IPE's XML format
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </section>
      <section id="_printing_with_cups">
        <title>Printing with CUPS</title>
        <simpara>Both <literal>lp</literal>(1) and <literal>lpr</literal>(1) commands offered by <ulink url="&commonunixprintingsystemcups;">Common Unix Printing System (CUPS)</ulink> provides options for customized printing the printable data.</simpara>
        <simpara>You can print  3 copies of a file collated using one of the following commands.</simpara>
        <screen>$ lp -n 3 -o Collate=True filename</screen>
        <screen>$ lpr -#3 -o Collate=True filename</screen>
        <simpara>You can further customize printer operation by using printer option such as "<literal>-o number-up=2</literal>", "<literal>-o page-set=even</literal>", "<literal>-o page-set=odd</literal>", "<literal>-o scaling=200</literal>", "<literal>-o natural-scaling=200</literal>", etc., documented at <ulink url="&commandlineprintingandoptions;">Command-Line Printing and Options</ulink>.</simpara>
      </section>
    </section>
    <section id="_type_setting">
      <title>Type setting</title>
      <simpara>The Unix <ulink url="&troff;">troff</ulink> program originally developed by AT&amp;T can be used for simple typesetting.  It is usually used to create manpages.</simpara>
      <simpara><ulink url="&tex;">TeX</ulink> created by Donald Knuth is very powerful type setting tool and is the de facto standard. <ulink url="&latex;">LaTeX</ulink> originally written by Leslie Lamport enables a high-level access to the power of TeX.</simpara>
      <table id="listoftypesettingtools" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>List of type setting tools</title>
        <tgroup cols="5">
          <colspec colwidth="10%*" align="left"/>
          <colspec colwidth="10%*" align="left"/>
          <colspec colwidth="10%*" align="left"/>
          <colspec colwidth="10%*" align="left"/>
          <colspec colwidth="60%*" align="left"/>
          <thead>
            <row>
              <entry>
    package
    </entry>
              <entry>
    popcon
    </entry>
              <entry>
    size
    </entry>
              <entry>
    keyword
    </entry>
              <entry>
    description
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/texlive">
                <literal>texlive</literal>
              </ulink> <ulink url="http://bugs.debian.org/texlive">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=texlive">&pop-texlive;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/t/texlive.html">&size-texlive;</ulink></entry>
              <entry>
    (La)TeX
    </entry>
              <entry>
    TeX system for typesetting, previewing and printing
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/groff">
                <literal>groff</literal>
              </ulink> <ulink url="http://bugs.debian.org/groff">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=groff">&pop-groff;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/g/groff.html">&size-groff;</ulink></entry>
              <entry>
    troff
    </entry>
              <entry>
    GNU troff text-formatting system
    </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <section id="_roff_typesetting">
        <title>roff typesetting</title>
        <simpara>Traditionally, <literal>roff</literal> is the main Unix text processing system.  See <literal>roff</literal>(7), <literal>groff</literal>(7), <literal>groff</literal>(1), <literal>grotty</literal>(1), <literal>troff</literal>(1), <literal>groff_mdoc</literal>(7), <literal>groff_man</literal>(7), <literal>groff_ms</literal>(7), <literal>groff_me</literal>(7), <literal>groff_mm</literal>(7), and "<literal>info groff</literal>".</simpara>
        <simpara>You can read or print a good tutorial and reference on "<literal>-me</literal>" <ulink url="&macro;">macro</ulink>in "<literal>/usr/share/doc/groff/</literal>" by installing the <literal>groff</literal> package.</simpara>
        <tip>
          <simpara>"<literal>groff -Tascii -me -</literal>" produces plain text output with ANSI escape sequence.  If you wish to get manpage like output with many "^H" and "_", use "<literal>GROFF_NO_SGR=1 groff -Tascii -me -</literal>" instead.</simpara>
        </tip>
        <tip>
          <simpara>To remove "^H" and "_" from a text file generated by <literal>groff</literal>, filter it by "<literal>col -b -x</literal>".</simpara>
        </tip>
      </section>
      <section id="_tex_latex">
        <title>TeX/LaTeX</title>
        <simpara>The <ulink url="&texlive;">TeX Live</ulink> software distribution offers a complete TeX system.  The <literal>texlive</literal> metapackage provides a decent selection of the <ulink url="&texlive;">TeX Live</ulink> packages which should suffice for the most common tasks.</simpara>
        <simpara>There are many references available for <ulink url="&tex;">TeX</ulink> and <ulink url="&latex;">LaTeX</ulink>.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
              <ulink url="&thetetexhowtothextetexlocalguide;">The teTeX HOWTO: The Linux-teTeX Local Guide</ulink>
            </simpara>
          </listitem>
          <listitem>
            <simpara><literal>tex</literal>(1)
</simpara>
          </listitem>
          <listitem>
            <simpara><literal>latex</literal>(1)
</simpara>
          </listitem>
          <listitem>
            <simpara>
"The TeXbook", by Donald E. Knuth, (Addison-Wesley)
</simpara>
          </listitem>
          <listitem>
            <simpara>
"LaTeX - A Document Preparation System", by Leslie Lamport, (Addison-Wesley)
</simpara>
          </listitem>
          <listitem>
            <simpara>
"The LaTeX Companion", by Goossens, Mittelbach, Samarin, (Addison-Wesley)
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>This is the most powerful typesetting environment.  Many SGML processors use this as their back end text processor.  Lyx provided by the <literal>lyx</literal> package and GNU TeXmacs provided by the <literal>texmacs</literal> package offer nice WYSIWYG editing environment for LaTeX while many use Emacs and Vim as the choice for the source editor.</simpara>
        <simpara>There are many online resources available.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
The TEX Live Guide - TEX Live 2007 ("<literal>/usr/share/doc/texlive-doc-base/english/texlive-en/live.html</literal>") (<literal>texlive-doc-base</literal> package)
</simpara>
          </listitem>
          <listitem>
            <simpara>
              <ulink url="&asimpleguidetolatexlyx;">A Simple Guide to Latex/Lyx</ulink>
            </simpara>
          </listitem>
          <listitem>
            <simpara>
              <ulink url="&wordprocessingusinglatex;">Word Processing Using LaTeX</ulink>
            </simpara>
          </listitem>
          <listitem>
            <simpara>
              <ulink url="&localuserguidetotetexlatex;">Local User Guide to teTeX/LaTeX</ulink>
            </simpara>
          </listitem>
        </itemizedlist>
        <simpara>When documents become bigger, sometimes TeX may cause errors.  You must increase pool size in "<literal>/etc/texmf/texmf.cnf</literal>" (or more appropriately edit "<literal>/etc/texmf/texmf.d/95NonPath</literal>" and run <literal>update-texmf</literal>(8)) to fix this.</simpara>
        <note>
          <simpara>The TeX source of "The TeXbook" is available at <ulink url="&httptugctanorgteisttextexbooktex;">http://tug.ctan.org/tex-archive/systems/knuth/dist/tex/texbook.tex</ulink>.</simpara>
        </note>
        <simpara>This file contains most of the required macros.  I heard that you can process this document with <literal>tex</literal>(1) after commenting lines 7 to 10 and adding "<literal>\input manmac \proofmodefalse</literal>". It's strongly recommended to buy this book (and all other books from Donald E. Knuth) instead of using the online version but the source is a great example of TeX input!</simpara>
      </section>
      <section id="_pretty_print_a_manual_page">
        <title>Pretty print a manual page</title>
        <simpara>You can print a manual page in PostScript nicely by one of the folowing commands.</simpara>
        <screen>$ man -Tps some_manpage | lpr</screen>
        <screen>$ man -Tps some_manpage | mpage -2 | lpr</screen>
        <simpara>The second example prints 2 pages on one sheet.</simpara>
      </section>
      <section id="_creating_a_manual_page">
        <title>Creating a manual page</title>
        <simpara>Although writing a manual page (manpage) in the plain <ulink url="&troff;">troff</ulink> format is possible, there are few helper packages to create it.</simpara>
        <table id="listofpackagestoeatingthemanpage" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of packages to help creating the manpage</title>
          <tgroup cols="5">
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="10%*" align="left"/>
            <colspec colwidth="60%*" align="left"/>
            <thead>
              <row>
                <entry>
    package
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    size
    </entry>
                <entry>
    keyword
    </entry>
                <entry>
    description
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/docbook-to-man">
                  <literal>docbook-to-man</literal>
                </ulink> <ulink url="http://bugs.debian.org/docbook-to-man">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=docbook-to-man">&pop-docbooktoman;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/d/docbook-to-man.html">&size-docbooktoman;</ulink></entry>
                <entry>
    SGML→manpage
    </entry>
                <entry>
    converter from DocBook SGML into roff man macros
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/help2man">
                  <literal>help2man</literal>
                </ulink> <ulink url="http://bugs.debian.org/help2man">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=help2man">&pop-helpcman;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/h/help2man.html">&size-helpcman;</ulink></entry>
                <entry>
    text→manpage
    </entry>
                <entry>
    automatic manpage generator from --help
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/info2man">
                  <literal>info2man</literal>
                </ulink> <ulink url="http://bugs.debian.org/info2man">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=info2man">&pop-infocman;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/i/info2man.html">&size-infocman;</ulink></entry>
                <entry>
    info→manpage
    </entry>
                <entry>
    converter from GNU info to POD or man pages
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/txt2man">
                  <literal>txt2man</literal>
                </ulink> <ulink url="http://bugs.debian.org/txt2man">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=txt2man">&pop-txtcman;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/t/txt2man.html">&size-txtcman;</ulink></entry>
                <entry>
    text→manpage
    </entry>
                <entry>
    convert flat ASCII text to man page format
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </section>
    </section>
    <section id="_the_mail_data_conversion">
      <title>The mail data conversion</title>
      <simpara>The following packages for the mail data conversion caught my eyes.</simpara>
      <table id="listofpackagestoildataconversion" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>List of packages to help mail data conversion</title>
        <tgroup cols="5">
          <colspec colwidth="10%*" align="left"/>
          <colspec colwidth="10%*" align="left"/>
          <colspec colwidth="10%*" align="left"/>
          <colspec colwidth="10%*" align="left"/>
          <colspec colwidth="60%*" align="left"/>
          <thead>
            <row>
              <entry>
    package
    </entry>
              <entry>
    popcon
    </entry>
              <entry>
    size
    </entry>
              <entry>
    keyword
    </entry>
              <entry>
    description
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/sharutils">
                <literal>sharutils</literal>
              </ulink> <ulink url="http://bugs.debian.org/sharutils">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=sharutils">&pop-sharutils;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/s/sharutils.html">&size-sharutils;</ulink></entry>
              <entry>
    mail
    </entry>
              <entry><literal>shar</literal>(1), <literal>unshar</literal>(1), <literal>uuencode</literal>(1), <literal>uudecode</literal>(1)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/mpack">
                <literal>mpack</literal>
              </ulink> <ulink url="http://bugs.debian.org/mpack">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=mpack">&pop-mpack;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/m/mpack.html">&size-mpack;</ulink></entry>
              <entry>
    MIME
    </entry>
              <entry>
    encoder and decoder <ulink url="&mime;">MIME</ulink> messages: <literal>mpack</literal>(1) and <literal>munpack</literal>(1)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/tnef">
                <literal>tnef</literal>
              </ulink> <ulink url="http://bugs.debian.org/tnef">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=tnef">&pop-tnef;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/t/tnef.html">&size-tnef;</ulink></entry>
              <entry>
    ms-tnef
    </entry>
              <entry>
    unpacking <ulink url="&mime;">MIME</ulink> attachments of type "application/ms-tnef" which is a Microsoft only format
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/uudeview">
                <literal>uudeview</literal>
              </ulink> <ulink url="http://bugs.debian.org/uudeview">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=uudeview">&pop-uudeview;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/u/uudeview.html">&size-uudeview;</ulink></entry>
              <entry>
    mail
    </entry>
              <entry>
    encoder and decoder for the following formats: <ulink url="&uuencode;">uuencode</ulink>, <ulink url="&xxencode;">xxencode</ulink>, <ulink url="&basege;">BASE64</ulink>, <ulink url="&quotedprintable;">quoted printable</ulink>, and <ulink url="&binhex;">BinHex</ulink>
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/mimedecode">
                <literal>mimedecode</literal>
              </ulink> <ulink url="http://bugs.debian.org/mimedecode">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=mimedecode">&pop-mimedecode;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/m/mimedecode.html">&size-mimedecode;</ulink></entry>
              <entry>
    MIME
    </entry>
              <entry>
    decode transfer encoded text type <ulink url="&mime;">MIME</ulink> messages
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/readpst">
                <literal>readpst</literal>
              </ulink> <ulink url="http://bugs.debian.org/readpst">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=readpst">&pop-readpst;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/r/readpst.html">&size-readpst;</ulink></entry>
              <entry>
    PST
    </entry>
              <entry>
    convert Microsoft <ulink url="&outlookpstfiles;">Outlook PST files</ulink> to <ulink url="&mbox;">mbox</ulink> format
    </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <tip>
        <simpara>The <ulink url="&internetmessageaccessprotocol;">Internet Message Access Protocol</ulink> version 4 (IMAP4) server (see <xref linkend="_pop3_imap4_server"/>) may be used to move mails out from proprietary mail systems if the mail client software can be configured to use IMAP4 server too.</simpara>
      </tip>
      <section id="_mail_data_basics">
        <title>Mail data basics</title>
        <simpara>Mail (SMTP) data should be limited to 7 bit.  So binary data and 8 bit text data are encoded into 7 bit format with the <ulink url="&multipurposeinteilextensionsmime;">Multipurpose Internet Mail Extensions (MIME)</ulink> and the selection of the charset (see <xref linkend="_basics_of_encoding"/>).</simpara>
        <simpara>The standard mail storage format is mbox formatted according to <ulink url="&rfcciccupdatedrfcicc;">RFC2822 (updated RFC822)</ulink>.  See <literal>mbox</literal>(5) (provided by the <literal>mutt</literal> package).</simpara>
        <simpara>For European languages, "<literal>Content-Transfer-Encoding: quoted-printable</literal>" with the ISO-8859-1 charset is usually used since there are no much 8 bit characters. If the text is in UTF-8, "<literal>Content-Transfer-Encoding: quoted-printable</literal>" is also used since it is mostly 7 bit data.</simpara>
        <simpara>For Japanese, traditionally "<literal>Content-Type: text/plain; charset=ISO-2022-JP</literal>" should be used to keep text in 7 bits. But mails from older Microsoft systems may use in Shift-JIS without proper declaration.  For Japanese, if the text is in UTF-8, it contains many 8 bit data and is encoded into 7 bit data by <ulink url="&basege;">Base64</ulink>.  The situation of other Asian languages is similar.</simpara>
        <note>
          <simpara>If your non-Unix mail data is accessible by a non-Debian client software which can talk to the IMAP4 server, you may be able to move them out by running your own IMAP4 server (see <xref linkend="_pop3_imap4_server"/>).</simpara>
        </note>
        <note>
          <simpara>If you use other mail storage formats, moving them to mbox format is the good first step.  The versatile client program such as <literal>mutt</literal>(1) may be handy for this.</simpara>
        </note>
        <simpara>You can split mailbox contents to each message using <literal>procmail</literal>(1) and <literal>formail</literal>(1).</simpara>
        <simpara>Each mail message can be unpacked using <literal>munpack</literal>(1) from the <literal>mpack</literal> package (or other specialized tools) to obtain the MIME encoded contents.</simpara>
      </section>
    </section>
    <section id="_graphic_data_tools">
      <title>Graphic data tools</title>
      <simpara>The following packages for the graphic data conversion, editing, and organization tools caught my eyes.</simpara>
      <table id="listofgraphicdatatools" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>List of graphic data tools</title>
        <tgroup cols="5">
          <colspec colwidth="10%*" align="left"/>
          <colspec colwidth="10%*" align="left"/>
          <colspec colwidth="10%*" align="left"/>
          <colspec colwidth="10%*" align="left"/>
          <colspec colwidth="60%*" align="left"/>
          <thead>
            <row>
              <entry>
    package
    </entry>
              <entry>
    popcon
    </entry>
              <entry>
    size
    </entry>
              <entry>
    keyword
    </entry>
              <entry>
    description
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/gimp">
                <literal>gimp</literal>
              </ulink> <ulink url="http://bugs.debian.org/gimp">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=gimp">&pop-gimp;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/g/gimp.html">&size-gimp;</ulink></entry>
              <entry>
    image(bitmap)
    </entry>
              <entry>
    GNU Image Manipulation Program
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/imagemagick">
                <literal>imagemagick</literal>
              </ulink> <ulink url="http://bugs.debian.org/imagemagick">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=imagemagick">&pop-imagemagick;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/i/imagemagick.html">&size-imagemagick;</ulink></entry>
              <entry>
    image(bitmap)
    </entry>
              <entry>
    image manipulation programs
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/graphicsmagick">
                <literal>graphicsmagick</literal>
              </ulink> <ulink url="http://bugs.debian.org/graphicsmagick">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=graphicsmagick">&pop-graphicsmagick;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/g/graphicsmagick.html">&size-graphicsmagick;</ulink></entry>
              <entry>
    image(bitmap)
    </entry>
              <entry>
    image manipulation programs. (folk of <literal>imagemagick</literal>)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/xsane">
                <literal>xsane</literal>
              </ulink> <ulink url="http://bugs.debian.org/xsane">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=xsane">&pop-xsane;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/x/xsane.html">&size-xsane;</ulink></entry>
              <entry>
    image(bitmap)
    </entry>
              <entry>
    GTK+-based X11 frontend for SANE (Scanner Access Now Easy)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/netpbm">
                <literal>netpbm</literal>
              </ulink> <ulink url="http://bugs.debian.org/netpbm">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=netpbm">&pop-netpbm;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/n/netpbm.html">&size-netpbm;</ulink></entry>
              <entry>
    image(bitmap)
    </entry>
              <entry>
    graphics conversion tools
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/icoutils">
                <literal>icoutils</literal>
              </ulink> <ulink url="http://bugs.debian.org/icoutils">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=icoutils">&pop-icoutils;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/i/icoutils.html">&size-icoutils;</ulink></entry>
              <entry>
    png↔ico(bitmap)
    </entry>
              <entry>
    convert <ulink url="&mswindowsiconsanndfrompngformats;">MS Windows icons and cursors to and from PNG formats</ulink> (<ulink url="&faviconico;">favicon.ico</ulink>)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/xpm2wico">
                <literal>xpm2wico</literal>
              </ulink> <ulink url="http://bugs.debian.org/xpm2wico">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=xpm2wico">&pop-xpmcwico;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/x/xpm2wico.html">&size-xpmcwico;</ulink></entry>
              <entry>
    xpm→ico(bitmap)
    </entry>
              <entry>
    convert XPM to <ulink url="&mswindowsiconformats;">MS Windows icon formats</ulink>
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/scribus">
                <literal>scribus</literal>
              </ulink> <ulink url="http://bugs.debian.org/scribus">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=scribus">&pop-scribus;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/s/scribus.html">&size-scribus;</ulink></entry>
              <entry>
    ps/pdf/SVG/…
    </entry>
              <entry><ulink url="&scribus;">Scribus</ulink> DTP editor
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/openoffice.org-draw">
                <literal>openoffice.org-draw</literal>
              </ulink> <ulink url="http://bugs.debian.org/openoffice.org-draw">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=openoffice.org-draw">&pop-openofficeorgdraw;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/o/openoffice.org-draw.html">&size-openofficeorgdraw;</ulink></entry>
              <entry>
    image(vector)
    </entry>
              <entry>
    OpenOffice.org office suite - drawing
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/inkscape">
                <literal>inkscape</literal>
              </ulink> <ulink url="http://bugs.debian.org/inkscape">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=inkscape">&pop-inkscape;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/i/inkscape.html">&size-inkscape;</ulink></entry>
              <entry>
    image(vector)
    </entry>
              <entry><ulink url="&svgscalablevectorgraphics;">SVG (Scalable Vector Graphics)</ulink> editor
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/dia-gnome">
                <literal>dia-gnome</literal>
              </ulink> <ulink url="http://bugs.debian.org/dia-gnome">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=dia-gnome">&pop-diagnome;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/d/dia-gnome.html">&size-diagnome;</ulink></entry>
              <entry>
    image(vector)
    </entry>
              <entry>
    diagram editor (GNOME)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/dia">
                <literal>dia</literal>
              </ulink> <ulink url="http://bugs.debian.org/dia">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=dia">&pop-dia;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/d/dia.html">&size-dia;</ulink></entry>
              <entry>
    image(vector)
    </entry>
              <entry>
    diagram editor (Gtk)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/xfig">
                <literal>xfig</literal>
              </ulink> <ulink url="http://bugs.debian.org/xfig">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=xfig">&pop-xfig;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/x/xfig.html">&size-xfig;</ulink></entry>
              <entry>
    image(vector)
    </entry>
              <entry>
    facility for Interactive Generation of figures under X11
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/pstoedit">
                <literal>pstoedit</literal>
              </ulink> <ulink url="http://bugs.debian.org/pstoedit">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=pstoedit">&pop-pstoedit;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/p/pstoedit.html">&size-pstoedit;</ulink></entry>
              <entry>
    ps/pdf→image(vector)
    </entry>
              <entry>
    PostScript and PDF files to editable vector graphics converter. (SVG)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/libwmf-bin">
                <literal>libwmf-bin</literal>
              </ulink> <ulink url="http://bugs.debian.org/libwmf-bin">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=libwmf-bin">&pop-libwmfbin;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/libw/libwmf-bin.html">&size-libwmfbin;</ulink></entry>
              <entry>
    Windows/image(vector)
    </entry>
              <entry>
    Windows metafile (vector graphic data) conversion tools
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/fig2sxd">
                <literal>fig2sxd</literal>
              </ulink> <ulink url="http://bugs.debian.org/fig2sxd">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=fig2sxd">&pop-figcsxd;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/f/fig2sxd.html">&size-figcsxd;</ulink></entry>
              <entry>
    fig→sxd(vector)
    </entry>
              <entry>
    convert XFig files to OpenOffice.org Draw format
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/unpaper">
                <literal>unpaper</literal>
              </ulink> <ulink url="http://bugs.debian.org/unpaper">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=unpaper">&pop-unpaper;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/u/unpaper.html">&size-unpaper;</ulink></entry>
              <entry>
    image→image
    </entry>
              <entry>
    post-processing tool for scanned pages for <ulink url="&ocr;">OCR</ulink>
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/tesseract-ocr">
                <literal>tesseract-ocr</literal>
              </ulink> <ulink url="http://bugs.debian.org/tesseract-ocr">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=tesseract-ocr">&pop-tesseractocr;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/t/tesseract-ocr.html">&size-tesseractocr;</ulink></entry>
              <entry>
    image→text
    </entry>
              <entry>
    free <ulink url="&ocr;">OCR</ulink> software based on the HP's commercial OCR engine
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/tesseract-ocr-eng">
                <literal>tesseract-ocr-eng</literal>
              </ulink> <ulink url="http://bugs.debian.org/tesseract-ocr-eng">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=tesseract-ocr-eng">&pop-tesseractocreng;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/t/tesseract-ocr-eng.html">&size-tesseractocreng;</ulink></entry>
              <entry>
    image→text
    </entry>
              <entry>
    OCR engine data: tesseract-ocr language files for English text
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/clara">
                <literal>clara</literal>
              </ulink> <ulink url="http://bugs.debian.org/clara">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=clara">&pop-clara;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/c/clara.html">&size-clara;</ulink></entry>
              <entry>
    image→text
    </entry>
              <entry>
    free OCR software
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/gocr">
                <literal>gocr</literal>
              </ulink> <ulink url="http://bugs.debian.org/gocr">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=gocr">&pop-gocr;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/g/gocr.html">&size-gocr;</ulink></entry>
              <entry>
    image→text
    </entry>
              <entry>
    free OCR software
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/ocrad">
                <literal>ocrad</literal>
              </ulink> <ulink url="http://bugs.debian.org/ocrad">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=ocrad">&pop-ocrad;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/o/ocrad.html">&size-ocrad;</ulink></entry>
              <entry>
    image→text
    </entry>
              <entry>
    free OCR software
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/gtkam">
                <literal>gtkam</literal>
              </ulink> <ulink url="http://bugs.debian.org/gtkam">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=gtkam">&pop-gtkam;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/g/gtkam.html">&size-gtkam;</ulink></entry>
              <entry>
    image(Exif)
    </entry>
              <entry>
    manipulate digital camera photo files (GNOME) - GUI
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/gphoto2">
                <literal>gphoto2</literal>
              </ulink> <ulink url="http://bugs.debian.org/gphoto2">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=gphoto2">&pop-gphotoc;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/g/gphoto2.html">&size-gphotoc;</ulink></entry>
              <entry>
    image(Exif)
    </entry>
              <entry>
    manipulate digital camera photo files (GNOME) - command line
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/kamera">
                <literal>kamera</literal>
              </ulink> <ulink url="http://bugs.debian.org/kamera">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=kamera">&pop-kamera;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/k/kamera.html">&size-kamera;</ulink></entry>
              <entry>
    image(Exif)
    </entry>
              <entry>
    manipulate digital camera photo files (KDE)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/jhead">
                <literal>jhead</literal>
              </ulink> <ulink url="http://bugs.debian.org/jhead">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=jhead">&pop-jhead;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/j/jhead.html">&size-jhead;</ulink></entry>
              <entry>
    image(Exif)
    </entry>
              <entry>
    manipulate the non-image part of Exif compliant JPEG (digital camera photo) files
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/exif">
                <literal>exif</literal>
              </ulink> <ulink url="http://bugs.debian.org/exif">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=exif">&pop-exif;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/e/exif.html">&size-exif;</ulink></entry>
              <entry>
    image(Exif)
    </entry>
              <entry>
    command-line utility to show EXIF information in JPEG files
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/exiftags">
                <literal>exiftags</literal>
              </ulink> <ulink url="http://bugs.debian.org/exiftags">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=exiftags">&pop-exiftags;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/e/exiftags.html">&size-exiftags;</ulink></entry>
              <entry>
    image(Exif)
    </entry>
              <entry>
    utility to read Exif tags from a digital camera JPEG file
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/exiftran">
                <literal>exiftran</literal>
              </ulink> <ulink url="http://bugs.debian.org/exiftran">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=exiftran">&pop-exiftran;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/e/exiftran.html">&size-exiftran;</ulink></entry>
              <entry>
    image(Exif)
    </entry>
              <entry>
    transform digital camera jpeg images
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/exifprobe">
                <literal>exifprobe</literal>
              </ulink> <ulink url="http://bugs.debian.org/exifprobe">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=exifprobe">&pop-exifprobe;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/e/exifprobe.html">&size-exifprobe;</ulink></entry>
              <entry>
    image(Exif)
    </entry>
              <entry>
    read metadata from digital pictures
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/dcraw">
                <literal>dcraw</literal>
              </ulink> <ulink url="http://bugs.debian.org/dcraw">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=dcraw">&pop-dcraw;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/d/dcraw.html">&size-dcraw;</ulink></entry>
              <entry>
    image(Raw)→ppm
    </entry>
              <entry>
    decode raw digital camera images
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/findimagedupes">
                <literal>findimagedupes</literal>
              </ulink> <ulink url="http://bugs.debian.org/findimagedupes">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=findimagedupes">&pop-findimagedupes;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/f/findimagedupes.html">&size-findimagedupes;</ulink></entry>
              <entry>
    image→fingerprint
    </entry>
              <entry>
    find visually similar or duplicate images
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/ale">
                <literal>ale</literal>
              </ulink> <ulink url="http://bugs.debian.org/ale">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=ale">&pop-ale;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/a/ale.html">&size-ale;</ulink></entry>
              <entry>
    image→image
    </entry>
              <entry>
    merge images to increase fidelity or create mosaics
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/imageindex">
                <literal>imageindex</literal>
              </ulink> <ulink url="http://bugs.debian.org/imageindex">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=imageindex">&pop-imageindex;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/i/imageindex.html">&size-imageindex;</ulink></entry>
              <entry>
    image(Exif)→html
    </entry>
              <entry>
    generate static HTML galleries from images
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/f-spot">
                <literal>f-spot</literal>
              </ulink> <ulink url="http://bugs.debian.org/f-spot">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=f-spot">&pop-fspot;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/f/f-spot.html">&size-fspot;</ulink></entry>
              <entry>
    image(Exif)
    </entry>
              <entry>
    personal photo management application (GNOME)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/bins">
                <literal>bins</literal>
              </ulink> <ulink url="http://bugs.debian.org/bins">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=bins">&pop-bins;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/b/bins.html">&size-bins;</ulink></entry>
              <entry>
    image(Exif)→html
    </entry>
              <entry>
    generate static HTML photo albums using XML and EXIF tags
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/galrey">
                <literal>galrey</literal>
              </ulink> <ulink url="http://bugs.debian.org/galrey">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=galrey">&pop-galrey;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/g/galrey.html">&size-galrey;</ulink></entry>
              <entry>
    image(Exif)→html
    </entry>
              <entry>
    generate browsable HTML photo albums with thumbnails
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/outguess">
                <literal>outguess</literal>
              </ulink> <ulink url="http://bugs.debian.org/outguess">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=outguess">&pop-outguess;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/o/outguess.html">&size-outguess;</ulink></entry>
              <entry>
    jpeg,png
    </entry>
              <entry>
    universal Steganographic tool
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/qcad">
                <literal>qcad</literal>
              </ulink> <ulink url="http://bugs.debian.org/qcad">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=qcad">&pop-qcad;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/q/qcad.html">&size-qcad;</ulink></entry>
              <entry>
    DXF
    </entry>
              <entry>
    CAD data editor (KDE)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/blender">
                <literal>blender</literal>
              </ulink> <ulink url="http://bugs.debian.org/blender">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=blender">&pop-blender;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/b/blender.html">&size-blender;</ulink></entry>
              <entry>
    blend, TIFF, VRML, …
    </entry>
              <entry>
    3D content editor for animation etc
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/open-font-design-toolkit">
                <literal>open-font-design-toolkit</literal>
              </ulink> <ulink url="http://bugs.debian.org/open-font-design-toolkit">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=open-font-design-toolkit">&pop-openfontdesigntoolkit;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/o/open-font-design-toolkit.html">&size-openfontdesigntoolkit;</ulink></entry>
              <entry>
    ttf, ps, …
    </entry>
              <entry>
    metapackage for open font design
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/fontforge">
                <literal>fontforge</literal>
              </ulink> <ulink url="http://bugs.debian.org/fontforge">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=fontforge">&pop-fontforge;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/f/fontforge.html">&size-fontforge;</ulink></entry>
              <entry>
    ttf, ps, …
    </entry>
              <entry>
    font editor for PS, TrueType and OpenType fonts
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/xgridfit">
                <literal>xgridfit</literal>
              </ulink> <ulink url="http://bugs.debian.org/xgridfit">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=xgridfit">&pop-xgridfit;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/x/xgridfit.html">&size-xgridfit;</ulink></entry>
              <entry>
    ttf
    </entry>
              <entry>
    program for gridfitting, or "hinting," TrueType fonts
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/gbdfed">
                <literal>gbdfed</literal>
              </ulink> <ulink url="http://bugs.debian.org/gbdfed">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=gbdfed">&pop-gbdfed;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/g/gbdfed.html">&size-gbdfed;</ulink></entry>
              <entry>
    bdf
    </entry>
              <entry>
    editor for BDF fonts
    </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <tip>
        <simpara>Search more image tools using regex "<literal>~Gworks-with::image</literal>" in <literal>aptitude</literal>(8) (see <xref linkend="_search_method_options_with_aptitude"/>).</simpara>
      </tip>
      <simpara>Although GUI programs such as <literal>gimp</literal>(1) are very powerful, command line tools such as <literal>imagemagick</literal>(1) are quite useful for automating image manipulation with the script.</simpara>
      <simpara>The de facto image file format of the digital camera is the <ulink url="&exchangeableimagefileformat;">Exchangeable Image File Format</ulink> (EXIF) which is the <ulink url="&jpeg;">JPEG</ulink> image file format with additional metadata tags.  It can hold information such as date, time, and camera settings.</simpara>
      <simpara><ulink url="&thelempelzivwelcsdatacompression;">The Lempel-Ziv-Welch (LZW) lossless data compression</ulink> patent has been expired.  <ulink url="&graphicsinterchangeformatgif;">Graphics Interchange Format (GIF)</ulink> utilities which use the LZW compression method are now freely available on the Debian system.</simpara>
      <tip>
        <simpara>Any digital camera or scanner with removable recording media will work with Linux through <ulink url="&usbmassstorage;">USB Mass Storage</ulink> readers since it follows the <ulink url="&designruleforcamerafilesystem;">Design rule for Camera Filesystem</ulink>.</simpara>
      </tip>
    </section>
    <section id="_miscellaneous_data_conversion">
      <title>Miscellaneous data conversion</title>
      <simpara>There are many other programs for converting data. Following packages caught my eyes using regex "<literal>~Guse::converting</literal>" in <literal>aptitude</literal>(8) (see <xref linkend="_search_method_options_with_aptitude"/>).</simpara>
      <table id="listofmiscellaneaconversiontools" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>List of miscellaneous data conversion tools</title>
        <tgroup cols="5">
          <colspec colwidth="10%*" align="left"/>
          <colspec colwidth="10%*" align="left"/>
          <colspec colwidth="10%*" align="left"/>
          <colspec colwidth="10%*" align="left"/>
          <colspec colwidth="60%*" align="left"/>
          <thead>
            <row>
              <entry>
    package
    </entry>
              <entry>
    popcon
    </entry>
              <entry>
    size
    </entry>
              <entry>
    keyword
    </entry>
              <entry>
    description
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/alien">
                <literal>alien</literal>
              </ulink> <ulink url="http://bugs.debian.org/alien">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=alien">&pop-alien;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/a/alien.html">&size-alien;</ulink></entry>
              <entry>
    rpm/tgz→deb
    </entry>
              <entry>
    converter for the foreign package into the Debian package
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/freepwing">
                <literal>freepwing</literal>
              </ulink> <ulink url="http://bugs.debian.org/freepwing">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=freepwing">&pop-freepwing;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/f/freepwing.html">&size-freepwing;</ulink></entry>
              <entry>
    EB→EPWING
    </entry>
              <entry>
    converter from "Electric Book" (popular in Japan) to a single <ulink url="&jisxeaib;">JIS X 4081</ulink> format (a subset of the <ulink url="&epwing;">EPWING</ulink> V1)
    </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <simpara>You can also extract data from RPM format with the following.</simpara>
      <screen>$ rpm2cpio file.src.rpm | cpio --extract</screen>
    </section>
  </chapter>
  <chapter id="_programming">
    <title>Programming</title>
    <simpara>I provide some pointers for people to learn programming on the Debian system enough to trace the packaged source code.  Here are notable packages and corresponding documentation packages for programing.</simpara>
    <table id="listofpackagestohelpprograming" pgwide="0" frame="topbot" rowsep="1" colsep="1">
      <title>List of packages to help programing</title>
      <tgroup cols="4">
        <colspec colwidth="20%*" align="left"/>
        <colspec colwidth="20%*" align="left"/>
        <colspec colwidth="20%*" align="left"/>
        <colspec colwidth="40%*" align="left"/>
        <thead>
          <row>
            <entry>
    package
    </entry>
            <entry>
    popcon
    </entry>
            <entry>
    size
    </entry>
            <entry>
    documentation
    </entry>
          </row>
        </thead>
        <tbody>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/autoconf">
              <literal>autoconf</literal>
            </ulink> <ulink url="http://bugs.debian.org/autoconf">*</ulink></entry>
            <entry><ulink url="http://qa.debian.org/popcon.php?package=autoconf">&pop-autoconf;</ulink></entry>
            <entry><ulink url="http://packages.qa.debian.org/a/autoconf.html">&size-autoconf;</ulink></entry>
            <entry>
    "<literal>info autoconf</literal>" provided by <literal>autoconf-doc</literal>
    </entry>
          </row>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/automake">
              <literal>automake</literal>
            </ulink> <ulink url="http://bugs.debian.org/automake">*</ulink></entry>
            <entry><ulink url="http://qa.debian.org/popcon.php?package=automake">&pop-automake;</ulink></entry>
            <entry><ulink url="http://packages.qa.debian.org/a/automake.html">&size-automake;</ulink></entry>
            <entry>
    "<literal>info automake</literal>" provided by <literal>automake1.10-doc</literal>
    </entry>
          </row>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/bash">
              <literal>bash</literal>
            </ulink> <ulink url="http://bugs.debian.org/bash">*</ulink></entry>
            <entry><ulink url="http://qa.debian.org/popcon.php?package=bash">&pop-bash;</ulink></entry>
            <entry><ulink url="http://packages.qa.debian.org/b/bash.html">&size-bash;</ulink></entry>
            <entry>
    "<literal>info bash</literal>" provided by <literal>bash-doc</literal>
    </entry>
          </row>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/bison">
              <literal>bison</literal>
            </ulink> <ulink url="http://bugs.debian.org/bison">*</ulink></entry>
            <entry><ulink url="http://qa.debian.org/popcon.php?package=bison">&pop-bison;</ulink></entry>
            <entry><ulink url="http://packages.qa.debian.org/b/bison.html">&size-bison;</ulink></entry>
            <entry>
    "<literal>info bison</literal>" provided by <literal>bison-doc</literal>
    </entry>
          </row>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/cpp">
              <literal>cpp</literal>
            </ulink> <ulink url="http://bugs.debian.org/cpp">*</ulink></entry>
            <entry><ulink url="http://qa.debian.org/popcon.php?package=cpp">&pop-cpp;</ulink></entry>
            <entry><ulink url="http://packages.qa.debian.org/c/cpp.html">&size-cpp;</ulink></entry>
            <entry>
    "<literal>info cpp</literal>" provided by <literal>cpp-doc</literal>
    </entry>
          </row>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/ddd">
              <literal>ddd</literal>
            </ulink> <ulink url="http://bugs.debian.org/ddd">*</ulink></entry>
            <entry><ulink url="http://qa.debian.org/popcon.php?package=ddd">&pop-ddd;</ulink></entry>
            <entry><ulink url="http://packages.qa.debian.org/d/ddd.html">&size-ddd;</ulink></entry>
            <entry>
    "<literal>info ddd</literal>" provided by <literal>ddd-doc</literal>
    </entry>
          </row>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/exuberant-ctags">
              <literal>exuberant-ctags</literal>
            </ulink> <ulink url="http://bugs.debian.org/exuberant-ctags">*</ulink></entry>
            <entry><ulink url="http://qa.debian.org/popcon.php?package=exuberant-ctags">&pop-exuberantctags;</ulink></entry>
            <entry><ulink url="http://packages.qa.debian.org/e/exuberant-ctags.html">&size-exuberantctags;</ulink></entry>
            <entry><literal>exuberant-ctags</literal>(1)
    </entry>
          </row>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/flex">
              <literal>flex</literal>
            </ulink> <ulink url="http://bugs.debian.org/flex">*</ulink></entry>
            <entry><ulink url="http://qa.debian.org/popcon.php?package=flex">&pop-flex;</ulink></entry>
            <entry><ulink url="http://packages.qa.debian.org/f/flex.html">&size-flex;</ulink></entry>
            <entry>
    "<literal>info flex</literal>" provided by <literal>flex-doc</literal>
    </entry>
          </row>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/gawk">
              <literal>gawk</literal>
            </ulink> <ulink url="http://bugs.debian.org/gawk">*</ulink></entry>
            <entry><ulink url="http://qa.debian.org/popcon.php?package=gawk">&pop-gawk;</ulink></entry>
            <entry><ulink url="http://packages.qa.debian.org/g/gawk.html">&size-gawk;</ulink></entry>
            <entry>
    "<literal>info gawk</literal>" provided by <literal>gawk-doc</literal>
    </entry>
          </row>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/gcc">
              <literal>gcc</literal>
            </ulink> <ulink url="http://bugs.debian.org/gcc">*</ulink></entry>
            <entry><ulink url="http://qa.debian.org/popcon.php?package=gcc">&pop-gcc;</ulink></entry>
            <entry><ulink url="http://packages.qa.debian.org/g/gcc.html">&size-gcc;</ulink></entry>
            <entry>
    "<literal>info gcc</literal>" provided by <literal>gcc-doc</literal>
    </entry>
          </row>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/gdb">
              <literal>gdb</literal>
            </ulink> <ulink url="http://bugs.debian.org/gdb">*</ulink></entry>
            <entry><ulink url="http://qa.debian.org/popcon.php?package=gdb">&pop-gdb;</ulink></entry>
            <entry><ulink url="http://packages.qa.debian.org/g/gdb.html">&size-gdb;</ulink></entry>
            <entry>
    "<literal>info gdb</literal>" provided by <literal>gdb-doc</literal>
    </entry>
          </row>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/gettext">
              <literal>gettext</literal>
            </ulink> <ulink url="http://bugs.debian.org/gettext">*</ulink></entry>
            <entry><ulink url="http://qa.debian.org/popcon.php?package=gettext">&pop-gettext;</ulink></entry>
            <entry><ulink url="http://packages.qa.debian.org/g/gettext.html">&size-gettext;</ulink></entry>
            <entry>
    "<literal>info gettext</literal>" provided by <literal>gettext-doc</literal>
    </entry>
          </row>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/gfortran">
              <literal>gfortran</literal>
            </ulink> <ulink url="http://bugs.debian.org/gfortran">*</ulink></entry>
            <entry><ulink url="http://qa.debian.org/popcon.php?package=gfortran">&pop-gfortran;</ulink></entry>
            <entry><ulink url="http://packages.qa.debian.org/g/gfortran.html">&size-gfortran;</ulink></entry>
            <entry>
    "<literal>info gfortran</literal>" provided by <literal>gfortran-doc</literal>
    </entry>
          </row>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/glade">
              <literal>glade</literal>
            </ulink> <ulink url="http://bugs.debian.org/glade">*</ulink></entry>
            <entry><ulink url="http://qa.debian.org/popcon.php?package=glade">&pop-glade;</ulink></entry>
            <entry><ulink url="http://packages.qa.debian.org/g/glade.html">&size-glade;</ulink></entry>
            <entry>
    help provided via menu
    </entry>
          </row>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/glade-gnome">
              <literal>glade-gnome</literal>
            </ulink> <ulink url="http://bugs.debian.org/glade-gnome">*</ulink></entry>
            <entry><ulink url="http://qa.debian.org/popcon.php?package=glade-gnome">&pop-gladegnome;</ulink></entry>
            <entry><ulink url="http://packages.qa.debian.org/g/glade-gnome.html">&size-gladegnome;</ulink></entry>
            <entry>
    help provided via menu
    </entry>
          </row>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/libc6">
              <literal>libc6</literal>
            </ulink> <ulink url="http://bugs.debian.org/libc6">*</ulink></entry>
            <entry><ulink url="http://qa.debian.org/popcon.php?package=libc6">&pop-libcg;</ulink></entry>
            <entry><ulink url="http://packages.qa.debian.org/libc/libc6.html">&size-libcg;</ulink></entry>
            <entry>
    "<literal>info libc</literal>" provided by <literal>glibc-doc</literal> and <literal>glibc-doc-reference</literal>
    </entry>
          </row>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/make">
              <literal>make</literal>
            </ulink> <ulink url="http://bugs.debian.org/make">*</ulink></entry>
            <entry><ulink url="http://qa.debian.org/popcon.php?package=make">&pop-make;</ulink></entry>
            <entry><ulink url="http://packages.qa.debian.org/m/make.html">&size-make;</ulink></entry>
            <entry>
    "<literal>info make</literal>" provided by <literal>make-doc</literal>
    </entry>
          </row>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/mawk">
              <literal>mawk</literal>
            </ulink> <ulink url="http://bugs.debian.org/mawk">*</ulink></entry>
            <entry><ulink url="http://qa.debian.org/popcon.php?package=mawk">&pop-mawk;</ulink></entry>
            <entry><ulink url="http://packages.qa.debian.org/m/mawk.html">&size-mawk;</ulink></entry>
            <entry><literal>mawk</literal>(1)
    </entry>
          </row>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/perl">
              <literal>perl</literal>
            </ulink> <ulink url="http://bugs.debian.org/perl">*</ulink></entry>
            <entry><ulink url="http://qa.debian.org/popcon.php?package=perl">&pop-perl;</ulink></entry>
            <entry><ulink url="http://packages.qa.debian.org/p/perl.html">&size-perl;</ulink></entry>
            <entry><literal>perl</literal>(1) and html pages provided by <literal>perl-doc</literal> and <literal>perl-doc-html</literal>
    </entry>
          </row>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/python">
              <literal>python</literal>
            </ulink> <ulink url="http://bugs.debian.org/python">*</ulink></entry>
            <entry><ulink url="http://qa.debian.org/popcon.php?package=python">&pop-python;</ulink></entry>
            <entry><ulink url="http://packages.qa.debian.org/p/python.html">&size-python;</ulink></entry>
            <entry><literal>python</literal>(1) and html pages provided by <literal>python-doc</literal></entry>
          </row>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/tcl8.4">
              <literal>tcl8.4</literal>
            </ulink> <ulink url="http://bugs.debian.org/tcl8.4">*</ulink></entry>
            <entry><ulink url="http://qa.debian.org/popcon.php?package=tcl8.4">&pop-tclie;</ulink></entry>
            <entry><ulink url="http://packages.qa.debian.org/t/tcl8.4.html">&size-tclie;</ulink></entry>
            <entry><literal>tcl</literal>(3) and detail manual pages provided by <literal>tcl8.4-doc</literal></entry>
          </row>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/tk8.4">
              <literal>tk8.4</literal>
            </ulink> <ulink url="http://bugs.debian.org/tk8.4">*</ulink></entry>
            <entry><ulink url="http://qa.debian.org/popcon.php?package=tk8.4">&pop-tkie;</ulink></entry>
            <entry><ulink url="http://packages.qa.debian.org/t/tk8.4.html">&size-tkie;</ulink></entry>
            <entry><literal>tk</literal>(3) and detail manual pages provided by <literal>tk8.4-doc</literal></entry>
          </row>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/ruby">
              <literal>ruby</literal>
            </ulink> <ulink url="http://bugs.debian.org/ruby">*</ulink></entry>
            <entry><ulink url="http://qa.debian.org/popcon.php?package=ruby">&pop-ruby;</ulink></entry>
            <entry><ulink url="http://packages.qa.debian.org/r/ruby.html">&size-ruby;</ulink></entry>
            <entry><literal>ruby</literal>(1) and interactive reference provided by <literal>ri</literal></entry>
          </row>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/vim">
              <literal>vim</literal>
            </ulink> <ulink url="http://bugs.debian.org/vim">*</ulink></entry>
            <entry><ulink url="http://qa.debian.org/popcon.php?package=vim">&pop-vim;</ulink></entry>
            <entry><ulink url="http://packages.qa.debian.org/v/vim.html">&size-vim;</ulink></entry>
            <entry>
    help(F1) menu provided by <literal>vim-doc</literal>
    </entry>
          </row>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/susv2">
              <literal>susv2</literal>
            </ulink> <ulink url="http://bugs.debian.org/susv2">*</ulink></entry>
            <entry><ulink url="http://qa.debian.org/popcon.php?package=susv2">&pop-susvc;</ulink></entry>
            <entry><ulink url="http://packages.qa.debian.org/s/susv2.html">&size-susvc;</ulink></entry>
            <entry>
    fetch "<ulink url="&thesingleunixspecificationsvc;">The Single Unix Specifications v2</ulink>"
    </entry>
          </row>
          <row>
            <entry><ulink url="http://packages.debian.org/sid/susv3">
              <literal>susv3</literal>
            </ulink> <ulink url="http://bugs.debian.org/susv3">*</ulink></entry>
            <entry><ulink url="http://qa.debian.org/popcon.php?package=susv3">&pop-susvd;</ulink></entry>
            <entry><ulink url="http://packages.qa.debian.org/s/susv3.html">&size-susvd;</ulink></entry>
            <entry>
    fetch "<ulink url="&thesingleunixspecificationsvd;">The Single Unix Specifications v3</ulink>"
    </entry>
          </row>
        </tbody>
      </tgroup>
    </table>
    <simpara>Online references are available by typing "<literal>man name</literal>" after installing <literal>manpages</literal> and <literal>manpages-dev</literal> packages. Online references for the GNU tools are available by typing "<literal>info program_name</literal>" after installing the pertinent documentation packages.  You may need to include the <literal>contrib</literal> and <literal>non-free</literal> archives in addition to the <literal>main</literal> archive since some GFDL documentations are not considered to be DSFG compliant.</simpara>
    <warning>
      <simpara>Do not use "<literal>test</literal>" as the name of an executable test file.  "<literal>test</literal>" is a shell builtin.</simpara>
    </warning>
    <caution>
      <simpara>You should install software programs directly compiled from source into "<literal>/usr/local</literal>" or "<literal>/opt</literal>" to avoid collision with system programs.</simpara>
    </caution>
    <tip>
      <simpara><ulink url="&codeexamplesofcrgjjbottlesofbeer;">Code examples of creating "Song 99 Bottles of Beer"</ulink> should give you good idea of practically all the programming languages.</simpara>
    </tip>
    <section id="_the_shell_script">
      <title>The shell script</title>
      <simpara>The <ulink url="&shellscript;">shell script</ulink> is a text file with the execution bit set and contains the commands in the following format.</simpara>
      <screen>#!/bin/sh
 ... command lines</screen>
      <simpara>The first line specifies the shell interpreter which read and execute this file contents.</simpara>
      <simpara>Reading shell scripts is the <emphasis role="strong">best</emphasis> way to understand how a Unix-like system works.  Here, I give some pointers and reminders for shell programming. See "Shell Mistakes" (<ulink url="&httpwwwgreenendokcaabaeshellhtml;">http://www.greenend.org.uk/rjk/2001/04/shell.html</ulink>) to learn from mistakes.</simpara>
      <simpara>Unlike shell interactive mode (see <xref linkend="_the_simple_shell_command"/> and <xref linkend="_unix_like_text_processing"/>), shell scipts frequently use parameters, conditionals, and loops.</simpara>
      <section id="_posix_shell_compatibility">
        <title>POSIX shell compatibility</title>
        <simpara>Many system scripts may be interpreted by any one of <ulink url="&posix;">POSIX</ulink> shells (see <xref linkend="list-of-shell-programs"/>).  The default shell for the system is "<literal>/bin/sh</literal>" which is a symlink pointing to the actual program.</simpara>
        <itemizedlist>
          <listitem>
            <simpara><literal>bash</literal>(1) for <literal>lenny</literal> or older
</simpara>
          </listitem>
          <listitem>
            <simpara><literal>dash</literal>(1) for <literal>squeeze</literal> or newer
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>Avoid writing a shell script with "bashisms" or "zshisms" to make it portable among all POSIX shells.  You can check it using <literal>checkbashisms</literal>(1).</simpara>
        <table id="listoftypicalbashisms" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of typical bashisms</title>
          <tgroup cols="2">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="70%*" align="left"/>
            <thead>
              <row>
                <entry>
    Good: POSIX
    </entry>
                <entry>
    Avoid: bashism
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>if [ "$foo" = "$bar" ] ; then …</literal>
                </entry>
                <entry>
                  <literal>if [ "$foo" == "$bar" ] ; then …</literal>
                </entry>
              </row>
              <row>
                <entry>
                  <literal>diff -u file.c.orig file.c</literal>
                </entry>
                <entry>
                  <literal>diff -u file.c{.orig,}</literal>
                </entry>
              </row>
              <row>
                <entry>
                  <literal>mkdir /foobar /foobaz</literal>
                </entry>
                <entry>
                  <literal>mkdir /foo{bar,baz}</literal>
                </entry>
              </row>
              <row>
                <entry>
    octal format: "<literal>\377</literal>"
    </entry>
                <entry>
    hexadecimal format: "<literal>\xff</literal>"
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>The "<literal>echo</literal>" command must be used with following cares since its implementation differs among shell builtin and external commands.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
Avoid using command option "<literal>-e</literal>" and "<literal>-E</literal>".
</simpara>
          </listitem>
          <listitem>
            <simpara>
Avoid using any command options except "<literal>-n</literal>".
</simpara>
          </listitem>
          <listitem>
            <simpara>
Avoid using escape sequences in the string since their handling varies.
</simpara>
          </listitem>
        </itemizedlist>
        <note>
          <simpara>Although "<literal>-n</literal> option is <emphasis role="strong">not</emphasis> really POSIX syntax, it is generally accepted.</simpara>
        </note>
        <tip>
          <simpara>Use the "<literal>printf</literal>" command instead of the "<literal>echo</literal>" command if you need to embed escape sequences in the output string.</simpara>
        </tip>
      </section>
      <section id="_shell_parameters">
        <title>Shell parameters</title>
        <simpara>Special shell parameters are frequently used in the shell script.</simpara>
        <table id="listofshellparameters" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of shell parameters</title>
          <tgroup cols="2">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="70%*" align="left"/>
            <thead>
              <row>
                <entry>
    shell parameter
    </entry>
                <entry>
    value
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>$0</literal>
                </entry>
                <entry>
    name of the shell or shell script
    </entry>
              </row>
              <row>
                <entry>
                  <literal>$1</literal>
                </entry>
                <entry>
    first(1) shell argument
    </entry>
              </row>
              <row>
                <entry>
                  <literal>$9</literal>
                </entry>
                <entry>
    ninth(9) shell argument
    </entry>
              </row>
              <row>
                <entry>
                  <literal>$#</literal>
                </entry>
                <entry>
    number of positional parameters
    </entry>
              </row>
              <row>
                <entry>
                  <literal>"$*"</literal>
                </entry>
                <entry>
                  <literal>"$1 $2 $3 $4 … "</literal>
                </entry>
              </row>
              <row>
                <entry>
                  <literal>"$@"</literal>
                </entry>
                <entry>
                  <literal>"$1" "$2" "$3" "$4" …</literal>
                </entry>
              </row>
              <row>
                <entry>
                  <literal>$?</literal>
                </entry>
                <entry>
    exit status of the most recent command
    </entry>
              </row>
              <row>
                <entry>
                  <literal>$$</literal>
                </entry>
                <entry>
    PID of this shell script
    </entry>
              </row>
              <row>
                <entry>
                  <literal>$!</literal>
                </entry>
                <entry>
    PID of most recently started background job
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>Basic <emphasis role="strong">parameter expansions</emphasis> to remember are followings.</simpara>
        <table id="listofshellparameterexpansions" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of shell parameter expansions</title>
          <tgroup cols="3">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="40%*" align="left"/>
            <thead>
              <row>
                <entry>
    parameter expression form
    </entry>
                <entry>
    value if <literal>var</literal> is set
    </entry>
                <entry>
    value if <literal>var</literal> is not set
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>${var:-string}</literal>
                </entry>
                <entry>
    "<literal>$var</literal>"
    </entry>
                <entry>
    "<literal>string</literal>"
    </entry>
              </row>
              <row>
                <entry>
                  <literal>${var:+string}</literal>
                </entry>
                <entry>
    "<literal>string</literal>"
    </entry>
                <entry>
    "<literal>null</literal>"
    </entry>
              </row>
              <row>
                <entry>
                  <literal>${var:=string}</literal>
                </entry>
                <entry>
    "<literal>$var</literal>"
    </entry>
                <entry>
    "<literal>string</literal>" (and run "<literal>var=string</literal>")
    </entry>
              </row>
              <row>
                <entry>
                  <literal>${var:?string}</literal>
                </entry>
                <entry>
    "<literal>$var</literal>"
    </entry>
                <entry>
    echo "<literal>string</literal>" to <emphasis role="strong">stderr</emphasis> (and exit with error)
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara>Here, the colon "<literal>:</literal>" in all of these operators is actually optional.</simpara>
        <itemizedlist>
          <listitem>
            <simpara><emphasis role="strong">with</emphasis> "<literal>:</literal>" = operator test for <emphasis role="strong">exist</emphasis> and <emphasis role="strong">not null</emphasis>
</simpara>
          </listitem>
          <listitem>
            <simpara><emphasis role="strong">without</emphasis> "<literal>:</literal>" = operator test for <emphasis role="strong">exist</emphasis> only
</simpara>
          </listitem>
        </itemizedlist>
        <table id="listofkeyshellpatersubstitutions" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of key shell parameter substitutions</title>
          <tgroup cols="2">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="70%*" align="left"/>
            <thead>
              <row>
                <entry>
    parameter substitution form
    </entry>
                <entry>
    result
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>${var%suffix}</literal>
                </entry>
                <entry>
    remove smallest suffix pattern
    </entry>
              </row>
              <row>
                <entry>
                  <literal>${var%%suffix}</literal>
                </entry>
                <entry>
    remove largest suffix pattern
    </entry>
              </row>
              <row>
                <entry>
                  <literal>${var#prefix}</literal>
                </entry>
                <entry>
    remove smallest prefix pattern
    </entry>
              </row>
              <row>
                <entry>
                  <literal>${var##prefix}</literal>
                </entry>
                <entry>
    remove largest prefix pattern
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </section>
      <section id="_shell_conditionals">
        <title>Shell conditionals</title>
        <simpara>Each command returns an <emphasis role="strong">exit status</emphasis> which can be used for conditional expressions.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
Success: 0 ("True")
</simpara>
          </listitem>
          <listitem>
            <simpara>
Error: non 0 ("False")
</simpara>
          </listitem>
        </itemizedlist>
        <note>
          <simpara>"0" in the shell conditional context means "True", while "0" in the C conditional context means "False".</simpara>
        </note>
        <note>
          <simpara>"<literal>[</literal>" is the equivalent of the <literal>test</literal> command, which evaluates its arguments up to "<literal>]</literal>" as a conditional expression.</simpara>
        </note>
        <simpara>Basic <emphasis role="strong">conditional idioms</emphasis> to remember are foolowings.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
"<literal>&lt;command&gt; &amp;&amp; &lt;if_success_run_this_command_too&gt; || true</literal>"
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>&lt;command&gt; || &lt;if_not_success_run_this_command_too&gt; || true</literal>"
</simpara>
          </listitem>
          <listitem>
            <simpara>
A multi-line script snippet as the following
</simpara>
          </listitem>
        </itemizedlist>
        <screen>if [ &lt;conditional_expression&gt; ]; then
 &lt;if_success_run_this_command&gt;
else
 &lt;if_not_success_run_this_command&gt;
fi</screen>
        <simpara>Here trailing "<literal>|| true</literal>" was needed to ensure this shell script will not exit at this line accidentally when shell is invoked with "<literal>-e</literal>" flag.</simpara>
        <table id="listoffilecompartionalexpression" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of file comparison operators in the conditional expression</title>
          <tgroup cols="2">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="70%*" align="left"/>
            <thead>
              <row>
                <entry>
    equation
    </entry>
                <entry>
    condition to return logical true
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal> -e &lt;file&gt; </literal>
                </entry>
                <entry>
    &lt;file&gt; exists
    </entry>
              </row>
              <row>
                <entry>
                  <literal> -d &lt;file&gt; </literal>
                </entry>
                <entry>
    &lt;file&gt; exists and is a directory
    </entry>
              </row>
              <row>
                <entry>
                  <literal> -f &lt;file&gt; </literal>
                </entry>
                <entry>
    &lt;file&gt; exists and is a regular file
    </entry>
              </row>
              <row>
                <entry>
                  <literal> -w &lt;file&gt; </literal>
                </entry>
                <entry>
    &lt;file&gt; exists and is writable
    </entry>
              </row>
              <row>
                <entry>
                  <literal> -x &lt;file&gt; </literal>
                </entry>
                <entry>
    &lt;file&gt; exists and is executable
    </entry>
              </row>
              <row>
                <entry>
                  <literal> &lt;file1&gt; -nt &lt;file2&gt; </literal>
                </entry>
                <entry>
    &lt;file1&gt; is newer than &lt;file2&gt; (modification)
    </entry>
              </row>
              <row>
                <entry>
                  <literal> &lt;file1&gt; -ot &lt;file2&gt; </literal>
                </entry>
                <entry>
    &lt;file1&gt; is older than &lt;file2&gt; (modification)
    </entry>
              </row>
              <row>
                <entry>
                  <literal> &lt;file1&gt; -ef &lt;file2&gt; </literal>
                </entry>
                <entry>
    &lt;file1&gt; and &lt;file2&gt; are on the same device and the same inode number
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <table id="listofstringcomptionalexpression" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of string comparison operators in the conditional expression</title>
          <tgroup cols="2">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="70%*" align="left"/>
            <thead>
              <row>
                <entry>
    equation
    </entry>
                <entry>
    condition to return logical true
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal> -z &lt;str&gt; </literal>
                </entry>
                <entry>
    the length of &lt;str&gt; is zero
    </entry>
              </row>
              <row>
                <entry>
                  <literal> -n &lt;str&gt; </literal>
                </entry>
                <entry>
    the length of &lt;str&gt; is non-zero
    </entry>
              </row>
              <row>
                <entry>
                  <literal> &lt;str1&gt; = &lt;str2&gt; </literal>
                </entry>
                <entry>
    &lt;str1&gt; and &lt;str2&gt; are equal
    </entry>
              </row>
              <row>
                <entry>
                  <literal> &lt;str1&gt; != &lt;str2&gt; </literal>
                </entry>
                <entry>
    &lt;str1&gt; and &lt;str2&gt; are not equal
    </entry>
              </row>
              <row>
                <entry>
                  <literal> &lt;str1&gt; &lt; &lt;str2&gt; </literal>
                </entry>
                <entry>
    &lt;str1&gt; sorts before &lt;str2&gt; (locale dependent)
    </entry>
              </row>
              <row>
                <entry>
                  <literal> &lt;str1&gt; &gt; &lt;str2&gt; </literal>
                </entry>
                <entry>
    &lt;str1&gt; sorts after &lt;str2&gt; (locale dependent)
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <simpara><emphasis role="strong">Arithmetic</emphasis> integer comparison operators in the conditional expression are "<literal>-eq</literal>", "<literal>-ne</literal>", "<literal>-lt</literal>", "<literal>-le</literal>", "<literal>-gt</literal>", and "<literal>-ge</literal>".</simpara>
      </section>
      <section id="_shell_loops">
        <title>Shell loops</title>
        <simpara>There are several loop idioms to use in POSIX shell.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
"<literal>for name in word ; do list ; done</literal>" loops over list of words.
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>while list; do list; done</literal>" repeats while true.
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>until list; do list; done</literal>" repeats while not true.
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>break</literal>" enables to exit from the loop.
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>continue</literal>" enables to resume the next iteration of the loop.
</simpara>
          </listitem>
        </itemizedlist>
        <tip>
          <simpara>The <ulink url="&c;">C</ulink>-language like numeric iteration can be realized by using <literal>seq</literal>(1) as the "<literal>word</literal>" generator.</simpara>
        </tip>
        <tip>
          <simpara>See <xref linkend="_repeating_a_command_looping_over_files"/>.</simpara>
        </tip>
      </section>
      <section id="_the_shell_command_line_processing_sequence">
        <title>The shell command-line processing sequence</title>
        <simpara>The shell processes a script as following sequence.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
split line into <emphasis role="strong">tokens</emphasis> by the metacharacters: <literal>SPACE TAB NEWLINE ; ( ) &lt; &gt; | &amp;</literal>
</simpara>
          </listitem>
          <listitem>
            <simpara>
check <emphasis role="strong">keyword</emphasis> if not within <literal>"…"</literal>  or <literal>'…'</literal>  (loop)
</simpara>
          </listitem>
          <listitem>
            <simpara>
expand <emphasis role="strong">alias</emphasis> if not within <literal>"…"</literal>  or <literal>'…'</literal>  (loop)
</simpara>
          </listitem>
          <listitem>
            <simpara>
expand <emphasis role="strong">tilde</emphasis>, "<literal>~&lt;user&gt;</literal>" → <literal>&lt;user&gt;</literal>'s home directory, if not within <literal>"…"</literal>  or <literal>'…'</literal>
</simpara>
          </listitem>
          <listitem>
            <simpara>
expand <emphasis role="strong">parameter</emphasis>, "<literal>$PARAMETER</literal>", if not within <literal>'…'</literal>
</simpara>
          </listitem>
          <listitem>
            <simpara>
expand <emphasis role="strong">command substitution</emphasis>, "<literal>$( command )</literal>", if not within <literal>'…'</literal>
</simpara>
          </listitem>
          <listitem>
            <simpara>
split into <emphasis role="strong">words</emphasis> with "<literal>$IFS</literal>" if not within <literal>"…"</literal>  or <literal>'…'</literal>
</simpara>
          </listitem>
          <listitem>
            <simpara>
expand <literal> * ? [ ] </literal> in <emphasis role="strong">pathname</emphasis> if not within <literal>"…"</literal>  or <literal>'…'</literal>
</simpara>
          </listitem>
          <listitem>
            <simpara>
look up <emphasis role="strong">command</emphasis> from
</simpara>
            <itemizedlist>
              <listitem>
                <simpara><emphasis role="strong">function</emphasis> definition
</simpara>
              </listitem>
              <listitem>
                <simpara><emphasis role="strong">builtin</emphasis> command
</simpara>
              </listitem>
              <listitem>
                <simpara><emphasis role="strong">executable file</emphasis> in "<literal>$PATH</literal>"
</simpara>
              </listitem>
            </itemizedlist>
          </listitem>
          <listitem>
            <simpara>
go to the next line and repeat this process again from the top of this sequence
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>Single quotes within double quotes have no effect.</simpara>
        <simpara>Executing "<literal>set -x</literal>" in the shell or invoking the shell with "<literal>-x</literal>" option make the shell to print all of commands executed.  This is quite handy for debugging.</simpara>
      </section>
      <section id="_utility_programs_for_shell_script">
        <title>Utility programs for shell script</title>
        <simpara>In order to make your shell program as portable as possible across Debian system, it is good idea to limit utility programs to ones provided by <emphasis role="strong">essential</emphasis> packages.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
"<literal>aptitude search ~E</literal>" lists <emphasis role="strong">essential</emphasis> packages.
</simpara>
          </listitem>
          <listitem>
            <simpara>
"<literal>dpkg -L &lt;package_name&gt; |grep '/man/man.*/'</literal>" lists manpages for commands offered by <literal>&lt;package_name&gt;</literal> package.
</simpara>
          </listitem>
        </itemizedlist>
        <table id="listofpackagescosforshellscripts" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of packages containing small utility programs for shell scripts</title>
          <tgroup cols="4">
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="40%*" align="left"/>
            <thead>
              <row>
                <entry>
    package
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    size
    </entry>
                <entry>
    description
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/coreutils">
                  <literal>coreutils</literal>
                </ulink> <ulink url="http://bugs.debian.org/coreutils">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=coreutils">&pop-coreutils;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/c/coreutils.html">&size-coreutils;</ulink></entry>
                <entry>
    GNU core utilities
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/debianutils">
                  <literal>debianutils</literal>
                </ulink> <ulink url="http://bugs.debian.org/debianutils">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=debianutils">&pop-debianutils;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/d/debianutils.html">&size-debianutils;</ulink></entry>
                <entry>
    miscellaneous utilities specific to Debian
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/bsdmainutils">
                  <literal>bsdmainutils</literal>
                </ulink> <ulink url="http://bugs.debian.org/bsdmainutils">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=bsdmainutils">&pop-bsdmainutils;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/b/bsdmainutils.html">&size-bsdmainutils;</ulink></entry>
                <entry>
    collection of more utilities from FreeBSD
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/bsdutils">
                  <literal>bsdutils</literal>
                </ulink> <ulink url="http://bugs.debian.org/bsdutils">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=bsdutils">&pop-bsdutils;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/b/bsdutils.html">&size-bsdutils;</ulink></entry>
                <entry>
    basic utilities from 4.4BSD-Lite
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/moreutils">
                  <literal>moreutils</literal>
                </ulink> <ulink url="http://bugs.debian.org/moreutils">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=moreutils">&pop-moreutils;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/m/moreutils.html">&size-moreutils;</ulink></entry>
                <entry>
    additional unix utilities
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <tip>
          <simpara>Although <literal>moreutils</literal> may not exist ouside of Debian, it offers interesting small programs.  Most notable one is <literal>sponge</literal>(8).  See <xref linkend="_global_substitution_with_regular_expressions"/>.</simpara>
        </tip>
      </section>
      <section id="_shell_script_dialog">
        <title>Shell script dialog</title>
        <simpara>The user interface of a simple shell program can be improved from dull interaction by <literal>echo</literal> and <literal>read</literal> commands to more interactive one by using one of the so-called dialog program etc.</simpara>
        <table id="listofuserinterfaceprograms" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of user interface programs</title>
          <tgroup cols="4">
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="40%*" align="left"/>
            <thead>
              <row>
                <entry>
    package
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    size
    </entry>
                <entry>
    description
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/x11-utils">
                  <literal>x11-utils</literal>
                </ulink> <ulink url="http://bugs.debian.org/x11-utils">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=x11-utils">&pop-xbbutils;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/x/x11-utils.html">&size-xbbutils;</ulink></entry>
                <entry><literal>xmessage</literal>(1): display a message or query in a window (X)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/whiptail">
                  <literal>whiptail</literal>
                </ulink> <ulink url="http://bugs.debian.org/whiptail">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=whiptail">&pop-whiptail;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/w/whiptail.html">&size-whiptail;</ulink></entry>
                <entry>
    displays user-friendly dialog boxes from shell scripts (newt)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/dialog">
                  <literal>dialog</literal>
                </ulink> <ulink url="http://bugs.debian.org/dialog">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=dialog">&pop-dialog;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/d/dialog.html">&size-dialog;</ulink></entry>
                <entry>
    displays user-friendly dialog boxes from shell scripts (ncurses)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/zenity">
                  <literal>zenity</literal>
                </ulink> <ulink url="http://bugs.debian.org/zenity">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=zenity">&pop-zenity;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/z/zenity.html">&size-zenity;</ulink></entry>
                <entry>
    display graphical dialog boxes from shell scripts (gtk2.0)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/gtkdialog">
                  <literal>gtkdialog</literal>
                </ulink> <ulink url="http://bugs.debian.org/gtkdialog">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=gtkdialog">&pop-gtkdialog;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/g/gtkdialog.html">&size-gtkdialog;</ulink></entry>
                <entry>
    GUI-creation command-line utility based on GTK+ library (gtk2.0+glade2)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/ssft">
                  <literal>ssft</literal>
                </ulink> <ulink url="http://bugs.debian.org/ssft">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=ssft">&pop-ssft;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/s/ssft.html">&size-ssft;</ulink></entry>
                <entry>
    Shell Scripts Frontend Tool (wrapper for zenity, kdialog, and dialog with gettext)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/gettext">
                  <literal>gettext</literal>
                </ulink> <ulink url="http://bugs.debian.org/gettext">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=gettext">&pop-gettext;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/g/gettext.html">&size-gettext;</ulink></entry>
                <entry>
    "<literal>/usr/bin/gettext.sh</literal>": translate message
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </section>
      <section id="_shell_script_example_with_zenity">
        <title>Shell script example with zenity</title>
        <simpara>Here is a simple script which creates ISO image with RS02 data supplemented by <literal>dvdisaster</literal>(1).</simpara>
        <screen>#!/bin/sh -e
# gmkrs02 : Copyright (C) 2007 Osamu Aoki &lt;osamu@debian.org&gt;, Public Domain
#set -x
error_exit()
{
  echo "$1" &gt;&amp;2
  exit 1
}
# Initialize variables
DATA_ISO="$HOME/Desktop/iso-$$.img"
LABEL=$(date +%Y%m%d-%H%M%S-%Z)
if [ $# != 0 ] &amp;&amp; [ -d "$1" ]; then
  DATA_SRC="$1"
else
  # Select directory for creating ISO image from folder on desktop
  DATA_SRC=$(zenity --file-selection --directory  \
    --title="Select the directory tree root to create ISO image") \
    || error_exit "Exit on directory selection"
fi
# Check size of archive
xterm -T "Check size $DATA_SRC" -e du -s $DATA_SRC/*
SIZE=$(($(du -s $DATA_SRC | awk '{print $1}')/1024))
if [ $SIZE -le 520 ] ; then
  zenity --info --title="Dvdisaster RS02" --width 640  --height 400 \
    --text="The data size is good for CD backup:\\n $SIZE MB"
elif [ $SIZE -le 3500 ]; then
  zenity --info --title="Dvdisaster RS02" --width 640  --height 400 \
    --text="The data size is good for DVD backup :\\n $SIZE MB"
else
  zenity --info --title="Dvdisaster RS02" --width 640  --height 400 \
    --text="The data size is too big to backup : $SIZE MB"
  error_exit "The data size is too big to backup :\\n $SIZE MB"
fi
# only xterm is sure to have working -e option
# Create raw ISO image
rm -f "$DATA_ISO" || true
xterm -T "genisoimage $DATA_ISO" \
  -e genisoimage -r -J -V "$LABEL" -o "$DATA_ISO" "$DATA_SRC"
# Create RS02 supplemental redundancy
xterm -T "dvdisaster $DATA_ISO" -e  dvdisaster -i "$DATA_ISO" -mRS02 -c
zenity --info --title="Dvdisaster RS02" --width 640  --height 400 \
  --text="ISO/RS02 data ($SIZE MB) \\n created at: $DATA_ISO"
# EOF</screen>
        <simpara>You may wish to create launcher on the desktop with command set something like "<literal>/usr/local/bin/gmkrs02 %d</literal>".</simpara>
      </section>
    </section>
    <section id="_make">
      <title>Make</title>
      <simpara><ulink url="&make;">Make</ulink> is a utility to maintain groups of programs. Upon execution of <literal>make</literal>(1), <literal>make</literal> read the rule file, "<literal>Makefile</literal>", and updates a target if it depends on prerequisite files that have been modified since the target was last modified, or if the target does not exist.  The execution of these updates may occur concurrently.</simpara>
      <simpara>The rule file syntax is the following.</simpara>
      <screen>target: [ prerequisites ... ]
 [TAB]  command1
 [TAB]  -command2 # ignore errors
 [TAB]  @command3 # suppress echoing</screen>
      <simpara>Here "<literal> [TAB] </literal>" is a TAB code.  Each line is interpreted by the shell after make variable substitution.  Use "<literal>\</literal>" at the end of a line to continue the script.  Use "<literal>$$</literal>" to enter "<literal>$</literal>" for environment values for a shell script.</simpara>
      <simpara>Implicit rules for the target and prerequisites can be written, for example, by the following.</simpara>
      <screen>%.o: %.c header.h</screen>
      <simpara>Here, the target contains the character "<literal>%</literal>" (exactly one of them). The "<literal>%</literal>" can match any nonempty substring in the actual target filenames. The prerequisites likewise use "<literal>%</literal>" to show how their names relate to the actual target name.</simpara>
      <table id="listofmakeautomaticvariables" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>List of make automatic variables</title>
        <tgroup cols="2">
          <colspec colwidth="30%*" align="left"/>
          <colspec colwidth="70%*" align="left"/>
          <thead>
            <row>
              <entry>
    automatic variable
    </entry>
              <entry>
    value
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry>
                <literal>$@</literal>
              </entry>
              <entry>
    target
    </entry>
            </row>
            <row>
              <entry>
                <literal>$&lt;</literal>
              </entry>
              <entry>
    first prerequisite
    </entry>
            </row>
            <row>
              <entry>
                <literal>$?</literal>
              </entry>
              <entry>
    all newer prerequisites
    </entry>
            </row>
            <row>
              <entry>
                <literal>$^</literal>
              </entry>
              <entry>
    all prerequisites
    </entry>
            </row>
            <row>
              <entry>
                <literal>$*</literal>
              </entry>
              <entry>
    "<literal>%</literal>" matched stem in the target pattern
    </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <table id="listofmakevariableexpansions" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>List of make variable expansions</title>
        <tgroup cols="2">
          <colspec colwidth="30%*" align="left"/>
          <colspec colwidth="70%*" align="left"/>
          <thead>
            <row>
              <entry>
    variable expansion
    </entry>
              <entry>
    description
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry>
                <literal>foo1 := bar</literal>
              </entry>
              <entry>
    one-time expansion
    </entry>
            </row>
            <row>
              <entry>
                <literal>foo2  = bar</literal>
              </entry>
              <entry>
    recursive expansion
    </entry>
            </row>
            <row>
              <entry>
                <literal>foo3 += bar</literal>
              </entry>
              <entry>
    append
    </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <simpara>Run "<literal>make -p -f/dev/null</literal>" to see automatic internal rules.</simpara>
    </section>
    <section id="_c">
      <title>C</title>
      <simpara>You can set up proper environment to compile programs written in the <ulink url="&cprogramminglanguage;">C programming language</ulink> by the following.</simpara>
      <screen># aptitude install glibc-doc manpages-dev libc6-dev gcc build-essential</screen>
      <simpara>The <literal>libc6-dev</literal> package, i.e., GNU C Library, provides <ulink url="&cstandardlibrary;">C standard library</ulink> which is collection of header files and library routines used by the C programming language.</simpara>
      <simpara>See references for C as the following.</simpara>
      <itemizedlist>
        <listitem>
          <simpara>
"<literal>info libc</literal>" (C library function reference)
</simpara>
        </listitem>
        <listitem>
          <simpara><literal>gcc</literal>(1) and "<literal>info gcc</literal>"
</simpara>
        </listitem>
        <listitem>
          <simpara><literal>each_C_library_function_name</literal>(3)
</simpara>
        </listitem>
        <listitem>
          <simpara>
Kernighan &amp;amp; Ritchie, "The C Programming Language", 2nd edition (Prentice Hall)
</simpara>
        </listitem>
      </itemizedlist>
      <section id="_simple_c_program_gcc">
        <title>Simple C program (gcc)</title>
        <simpara>A simple example "<literal>example.c</literal>" can compiled with a library "<literal>libm</literal>" into an executable "<literal>run_example</literal>" by the following.</simpara>
        <screen>$ cat &gt; example.c &lt;&lt; EOF
#include &lt;stdio.h&gt;
#include &lt;math.h&gt;
#include &lt;string.h&gt;

int main(int argc, char **argv, char **envp){
        double x;
        char y[11];
        x=sqrt(argc+7.5);
        strncpy(y, argv[0], 10); /* prevent buffer overflow */
        y[10] = '\0'; /* fill to make sure string ends with '\0' */
        printf("%5i, %5.3f, %10s, %10s\n", argc, x, y, argv[1]);
        return 0;
}
EOF
$ gcc -Wall -g -o run_example example.c -lm
$ ./run_example
        1, 2.915, ./run_exam,     (null)
$ ./run_example 1234567890qwerty
        2, 3.082, ./run_exam, 1234567890qwerty</screen>
        <simpara>Here, "<literal>-lm</literal>" is needed to link library "<literal>/usr/lib/libm.so</literal>" from the <literal>libc6</literal> package for <literal>sqrt</literal>(3).  The actual library is in "<literal>/lib/</literal>" with filename "<literal>libm.so.6</literal>", which is a symlink to "<literal>libm-2.7.so</literal>".</simpara>
        <simpara>Look at the last parameter in the output text.  There are more than 10 characters even though "<literal>%10s</literal>" is specified.</simpara>
        <simpara>The use of pointer memory operation functions without boundary checks, such as <literal>sprintf</literal>(3) and <literal>strcpy</literal>(3), is deprecated to prevent buffer overflow exploits that leverage the above overrun effects.  Instead, use <literal>snprintf</literal>(3) and <literal>strncpy</literal>(3).</simpara>
      </section>
    </section>
    <section id="_debug">
      <title>Debug</title>
      <simpara>Debuag is important part programing activities.  Knowing how to debug programs makes you a good Debian user who can produce meaningful bug report.</simpara>
      <section id="_basic_gdb_execution">
        <title>Basic gdb execution</title>
        <simpara>Primary <ulink url="&debugger;">debugger</ulink> on Debian is <literal>gdb</literal>(1) which enables you to inspect a program while it executes.</simpara>
        <simpara>Let's install <literal>gdb</literal> and related programs by the following.</simpara>
        <screen># aptitude install gdb gdb-doc build-essential devscripts</screen>
        <simpara>Good tutorial of <literal>gdb</literal> is provided by "<literal>info gdb</literal>" or found  <ulink url="&elsewhereontheweb;">elsewhere on the web</ulink>.
Here is a simple example of using <literal>gdb</literal>(1) on a "<literal>program</literal>" compiled with the "<literal>-g</literal>" option to produce debugging information.</simpara>
        <screen>$ gdb program
(gdb) b 1                # set break point at line 1
(gdb) run args           # run program with args
(gdb) next               # next line
...
(gdb) step               # step forward
...
(gdb) p parm             # print parm
...
(gdb) p parm=12          # set value to 12
...
(gdb) quit</screen>
        <tip>
          <simpara>Many <literal>gdb</literal>(1) commands can be abbreviated.  Tab expansion works as in the shell.</simpara>
        </tip>
      </section>
      <section id="_debugging_the_debian_package">
        <title>Debugging the Debian package</title>
        <simpara>Since all installed binaries should be stripped on the Debian system by default, most debugging symbols are removed in the normal package.  In order to debug Debian packages with <literal>gdb</literal>(1), corresponding <literal>*-dbg</literal> packages need to be installed (e.g. libc6-dbg in the case of libc6).</simpara>
        <simpara>If a package to be debugged does not provide its <literal>*-dbg</literal> package, you need to install it after rebuilding it by theeferences for C following.</simpara>
        <screen>$ mkdir /path/new ; cd /path/new
$ sudo aptitude update
$ sudo aptitude dist-upgrade
$ sudo aptitude install fakeroot devscripts build-essential
$ sudo apt-get build-dep source_package_name
$ apt-get source package_name
$ cd package_name*</screen>
        <simpara>Fix bugs if needed.</simpara>
        <simpara>Bump package version to one which does not collide with official Debian versions, e.g. one appended with "<literal>+debug1</literal>" when recompiling existing package version, or one appended with "<literal>~pre1</literal>" when compiling unreleased package version by the following.</simpara>
        <screen>$ dch -i</screen>
        <simpara>Compile and install packages with debug symbols by the following.</simpara>
        <screen>$ export DEB_BUILD_OPTIONS=nostrip,noopt
$ debuild
$ cd ..
$ sudo debi package_name*.changes</screen>
        <simpara>You need to check build scripts of the package and ensure to use "<literal>CFLAGS=-g -Wall</literal>" for compiling binaries.</simpara>
      </section>
      <section id="_obtaining_backtrace">
        <title>Obtaining backtrace</title>
        <simpara>When you encounter program crash, reporting bug report with cut-and-pasted backtrace information is a good idea.</simpara>
        <simpara>The backtrace can be obtained by the following steps.</simpara>
        <itemizedlist>
          <listitem>
            <simpara>
run the program under <literal>gdb</literal>(1)
</simpara>
          </listitem>
          <listitem>
            <simpara>
reproduce crash (causing you to be dropped back to the <literal>gdb</literal> prompt)
</simpara>
          </listitem>
          <listitem>
            <simpara>
type "<literal>bt</literal>" at the <literal>gdb</literal> prompt
</simpara>
          </listitem>
        </itemizedlist>
        <simpara>In case of program freeze, you can crash the program by pressing <literal>Ctrl-C</literal> in the terminal running <literal>gdb</literal> to obtain <literal>gdb</literal> prompt.</simpara>
        <tip>
          <simpara>Often, you will see a backtrace where one or more of the top lines is in "<literal>malloc()</literal>" or "<literal>g_malloc()</literal>". When this happens, chances are your backtrace isn't very useful. The easiest way to find some useful information is to set the environment variable "<literal>$MALLOC_CHECK_</literal>" to a value of 2 (<literal>malloc</literal>(3)). You can do this while running <literal>gdb</literal> by doing the following.</simpara>
        </tip>
        <screen> $ MALLOC_CHECK_=2 gdb hello</screen>
      </section>
      <section id="_advanced_gdb_commands">
        <title>Advanced gdb commands</title>
        <table id="listofadvancedgdbcommands" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of advanced gdb commands</title>
          <tgroup cols="2">
            <colspec colwidth="30%*" align="left"/>
            <colspec colwidth="70%*" align="left"/>
            <thead>
              <row>
                <entry>
    command
    </entry>
                <entry>
    description for command objectives
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <literal>(gdb) thread apply all bt</literal>
                </entry>
                <entry>
    get a backtrace for all threads for multi-threaded program
    </entry>
              </row>
              <row>
                <entry>
                  <literal>(gdb) bt full</literal>
                </entry>
                <entry>
    get parameters came on the stack of function calls
    </entry>
              </row>
              <row>
                <entry>
                  <literal>(gdb) thread apply all bt full</literal>
                </entry>
                <entry>
    get a backtrace and parameters as the combination of the preceding options
    </entry>
              </row>
              <row>
                <entry>
                  <literal>(gdb) thread apply all bt full 10</literal>
                </entry>
                <entry>
    get them for top 10 calls to cut off irrelevant output
    </entry>
              </row>
              <row>
                <entry>
                  <literal>(gdb) set logging on</literal>
                </entry>
                <entry>
    write log of gdb output to a file (the default is gdb.txt)
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </section>
      <section id="_debugging_x_errors">
        <title>Debugging X Errors</title>
        <simpara>If the GNOME program has received an X error; i.e. you see a message as follows.</simpara>
        <screen>The program 'preview1' received an X Window System error.</screen>
        <simpara>then you can try running the program with "<literal>--sync</literal>", and break on the "<literal>gdk_x_error</literal>" function in order to obtain a backtrace.</simpara>
      </section>
      <section id="_check_dependency_on_libraries">
        <title>Check dependency on libraries</title>
        <simpara>Use <literal>ldd</literal>(1) to find out a program's dependency on libraries by the followings.</simpara>
        <screen>$ ldd /bin/ls
        librt.so.1 =&gt; /lib/librt.so.1 (0x4001e000)
        libc.so.6 =&gt; /lib/libc.so.6 (0x40030000)
        libpthread.so.0 =&gt; /lib/libpthread.so.0 (0x40153000)
        /lib/ld-linux.so.2 =&gt; /lib/ld-linux.so.2 (0x40000000)</screen>
        <simpara>For <literal>ls</literal>(1) to work in a `chroot`ed environment, the above libraries must be available in your `chroot`ed environment.</simpara>
        <simpara>See <xref linkend="_tracing_program_activities"/>.</simpara>
      </section>
      <section id="_memory_leak_detection_tools">
        <title>Memory leak detection tools</title>
        <simpara>There are several memory leak detection tools available in Debian.</simpara>
        <table id="listofmemoryleakdetectiontools" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of memory leak detection tools</title>
          <tgroup cols="4">
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="40%*" align="left"/>
            <thead>
              <row>
                <entry>
    package
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    size
    </entry>
                <entry>
    description
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/libc6-dev">
                  <literal>libc6-dev</literal>
                </ulink> <ulink url="http://bugs.debian.org/libc6-dev">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=libc6-dev">&pop-libcgdev;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/libc/libc6-dev.html">&size-libcgdev;</ulink></entry>
                <entry><literal>mtrace</literal>(1): malloc debugging functionality in glibc
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/valgrind">
                  <literal>valgrind</literal>
                </ulink> <ulink url="http://bugs.debian.org/valgrind">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=valgrind">&pop-valgrind;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/v/valgrind.html">&size-valgrind;</ulink></entry>
                <entry>
    memory debugger and profiler
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/kmtrace">
                  <literal>kmtrace</literal>
                </ulink> <ulink url="http://bugs.debian.org/kmtrace">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=kmtrace">&pop-kmtrace;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/k/kmtrace.html">&size-kmtrace;</ulink></entry>
                <entry>
    KDE memory leak tracer using glibc's <literal>mtrace</literal>(1)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/alleyoop">
                  <literal>alleyoop</literal>
                </ulink> <ulink url="http://bugs.debian.org/alleyoop">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=alleyoop">&pop-alleyoop;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/a/alleyoop.html">&size-alleyoop;</ulink></entry>
                <entry>
    GNOME front-end to the Valgrind memory checker
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/electric-fence">
                  <literal>electric-fence</literal>
                </ulink> <ulink url="http://bugs.debian.org/electric-fence">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=electric-fence">&pop-electricfence;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/e/electric-fence.html">&size-electricfence;</ulink></entry>
                <entry><literal>malloc</literal>(3) debugger
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/ccmalloc">
                  <literal>ccmalloc</literal>
                </ulink> <ulink url="http://bugs.debian.org/ccmalloc">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=ccmalloc">&pop-ccmalloc;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/c/ccmalloc.html">&size-ccmalloc;</ulink></entry>
                <entry>
    memory profiler/debugger
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/leaktracer">
                  <literal>leaktracer</literal>
                </ulink> <ulink url="http://bugs.debian.org/leaktracer">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=leaktracer">&pop-leaktracer;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/l/leaktracer.html">&size-leaktracer;</ulink></entry>
                <entry>
    memory-leak tracer for C++ programs
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/libdmalloc5">
                  <literal>libdmalloc5</literal>
                </ulink> <ulink url="http://bugs.debian.org/libdmalloc5">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=libdmalloc5">&pop-libdmallocf;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/libd/libdmalloc5.html">&size-libdmallocf;</ulink></entry>
                <entry>
    debug memory allocation library
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/mpatrolc2">
                  <literal>mpatrolc2</literal>
                </ulink> <ulink url="http://bugs.debian.org/mpatrolc2">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=mpatrolc2">&pop-mpatrolcc;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/m/mpatrolc2.html">&size-mpatrolcc;</ulink></entry>
                <entry>
    library for debugging memory allocations
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </section>
      <section id="_static_code_analysis_tools">
        <title>Static code analysis tools</title>
        <simpara>There are <ulink url="&lint;">lint</ulink> like tools for <ulink url="&staticcodeanalysis;">static code analysis</ulink>.</simpara>
        <table id="listoftoolsforstaticcodeanalysis" pgwide="0" frame="topbot" rowsep="1" colsep="1">
          <title>List of tools for static code analysis</title>
          <tgroup cols="4">
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="20%*" align="left"/>
            <colspec colwidth="40%*" align="left"/>
            <thead>
              <row>
                <entry>
    package
    </entry>
                <entry>
    popcon
    </entry>
                <entry>
    size
    </entry>
                <entry>
    description
    </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/splint">
                  <literal>splint</literal>
                </ulink> <ulink url="http://bugs.debian.org/splint">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=splint">&pop-splint;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/s/splint.html">&size-splint;</ulink></entry>
                <entry>
    tool for statically checking C programs for bugs
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/rats">
                  <literal>rats</literal>
                </ulink> <ulink url="http://bugs.debian.org/rats">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=rats">&pop-rats;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/r/rats.html">&size-rats;</ulink></entry>
                <entry>
    rough Auditing Tool for Security (C, C++, PHP, Perl, and Python code)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/flawfinder">
                  <literal>flawfinder</literal>
                </ulink> <ulink url="http://bugs.debian.org/flawfinder">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=flawfinder">&pop-flawfinder;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/f/flawfinder.html">&size-flawfinder;</ulink></entry>
                <entry>
    tool to examine C/C++ source code and looks for security weaknesses
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/perl">
                  <literal>perl</literal>
                </ulink> <ulink url="http://bugs.debian.org/perl">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=perl">&pop-perl;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/p/perl.html">&size-perl;</ulink></entry>
                <entry>
    interpreter with internal code static checker: <literal>B::Lint</literal>(3perl)
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/pylint">
                  <literal>pylint</literal>
                </ulink> <ulink url="http://bugs.debian.org/pylint">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=pylint">&pop-pylint;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/p/pylint.html">&size-pylint;</ulink></entry>
                <entry>
    Python code static checker
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/jlint">
                  <literal>jlint</literal>
                </ulink> <ulink url="http://bugs.debian.org/jlint">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=jlint">&pop-jlint;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/j/jlint.html">&size-jlint;</ulink></entry>
                <entry>
    Java program checker
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/weblint-perl">
                  <literal>weblint-perl</literal>
                </ulink> <ulink url="http://bugs.debian.org/weblint-perl">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=weblint-perl">&pop-weblintperl;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/w/weblint-perl.html">&size-weblintperl;</ulink></entry>
                <entry>
    syntax and minimal style checker for HTML
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/linklint">
                  <literal>linklint</literal>
                </ulink> <ulink url="http://bugs.debian.org/linklint">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=linklint">&pop-linklint;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/l/linklint.html">&size-linklint;</ulink></entry>
                <entry>
    fast link checker and web site maintenance tool
    </entry>
              </row>
              <row>
                <entry><ulink url="http://packages.debian.org/sid/libxml2-utils">
                  <literal>libxml2-utils</literal>
                </ulink> <ulink url="http://bugs.debian.org/libxml2-utils">*</ulink></entry>
                <entry><ulink url="http://qa.debian.org/popcon.php?package=libxml2-utils">&pop-libxmlcutils;</ulink></entry>
                <entry><ulink url="http://packages.qa.debian.org/libx/libxml2-utils.html">&size-libxmlcutils;</ulink></entry>
                <entry>
    utilities with <literal>xmllint</literal>(1) to validate XML files
    </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </section>
      <section id="_disassemble_binary">
        <title>Disassemble binary</title>
        <simpara>You can disassemble binary code with <literal>objdump</literal>(1) by the following.</simpara>
        <screen>$  objdump -m i386 -b binary -D /usr/lib/grub/x86_64-pc/stage1</screen>
        <note>
          <simpara><literal>gdb</literal>(1) may be used to disassemble code interactively.</simpara>
        </note>
      </section>
    </section>
    <section id="_flex_8212_a_better_lex">
      <title>Flex — a better Lex</title>
      <simpara><ulink url="&flex;">Flex</ulink> is a a <ulink url="&lex;">Lex</ulink>-compatible fast <ulink url="&lexicalanalyzer;">lexical analyzer</ulink> generator.</simpara>
      <simpara>Tutorial for <literal>flex</literal>(1) can be found in "<literal>info flex</literal>".</simpara>
      <simpara>You need to provide your own "<literal>main()</literal>" and "<literal>yywrap()</literal>", or your "<literal>program.l</literal>" should look like this to compile without a library ("<literal>yywrap</literal>" is a macro; "<literal>%option main</literal>" turns on "<literal>%option noyywrap</literal>" implicitly).</simpara>
      <screen>%option main
%%
.|\n    ECHO ;
%%</screen>
      <simpara>Alternatively, you may compile with the "<literal>-lfl</literal>" linker option at the end of your <literal>cc</literal>(1) command line (like AT&amp;T-Lex with "<literal>-ll</literal>").  No "<literal>%option</literal>" is needed in this case.</simpara>
    </section>
    <section id="_bison_8212_a_better_yacc">
      <title>Bison — a better Yacc</title>
      <simpara>Several packages provide a <ulink url="&yacc;">Yacc</ulink>-compatible lookahead <ulink url="&lrparser;">LR parser</ulink> or <ulink url="&lalrparser;">LALR parser</ulink> generator in Debian.</simpara>
      <table id="listofyacccompatparsergenerators" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>List of Yacc-compatible LALR parser generators</title>
        <tgroup cols="4">
          <colspec colwidth="20%*" align="left"/>
          <colspec colwidth="20%*" align="left"/>
          <colspec colwidth="20%*" align="left"/>
          <colspec colwidth="40%*" align="left"/>
          <thead>
            <row>
              <entry>
    package
    </entry>
              <entry>
    popcon
    </entry>
              <entry>
    size
    </entry>
              <entry>
    description
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/bison">
                <literal>bison</literal>
              </ulink> <ulink url="http://bugs.debian.org/bison">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=bison">&pop-bison;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/b/bison.html">&size-bison;</ulink></entry>
              <entry>
                <ulink url="&gnulalrparsergenerator;">GNU LALR parser generator</ulink>
              </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/byacc">
                <literal>byacc</literal>
              </ulink> <ulink url="http://bugs.debian.org/byacc">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=byacc">&pop-byacc;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/b/byacc.html">&size-byacc;</ulink></entry>
              <entry>
    Berkeley LALR parser generator
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/btyacc">
                <literal>btyacc</literal>
              </ulink> <ulink url="http://bugs.debian.org/btyacc">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=btyacc">&pop-btyacc;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/b/btyacc.html">&size-btyacc;</ulink></entry>
              <entry>
    backtracking parser generator based on <literal>byacc</literal>
    </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <simpara>Tutorial for <literal>bison</literal>(1) can be found in "<literal>info bison</literal>".</simpara>
      <simpara>You need to provide your own "<literal>main()</literal>" and "<literal>yyerror()</literal>".  "<literal>main()</literal>" calls "<literal>yyparse()</literal>" which calls "<literal>yylex()</literal>", usually created with Flex.</simpara>
      <screen>%%

%%</screen>
    </section>
    <section id="_autoconf">
      <title>Autoconf</title>
      <simpara><ulink url="&autoconf;">Autoconf</ulink> is a tool for producing shell scripts that automatically configure software source code packages to adapt to many kinds of Unix-like systems using the entire GNU build system.</simpara>
      <simpara><literal>autoconf</literal>(1) produces the configuration script "<literal>configure</literal>". "<literal>configure</literal>" automatically creates a customized "<literal>Makefile</literal>" using the "<literal>Makefile.in</literal>" template.</simpara>
      <section id="_compile_and_install_a_program">
        <title>Compile and install a program</title>
        <warning>
          <simpara>Do not overwrite system files with your compiled programs when installing them.</simpara>
        </warning>
        <simpara>Debian does not touch files in "<literal>/usr/local/</literal>" or "<literal>/opt</literal>".  So if you compile a program from source, install it into "<literal>/usr/local/</literal>" so it will not interfere with Debian.</simpara>
        <screen>$ cd src
$ ./configure --prefix=/usr/local
$ make
$ make install # this puts the files in the system</screen>
      </section>
      <section id="_uninstall_program">
        <title>Uninstall program</title>
        <simpara>If you still have the source and if it uses <literal>autoconf</literal>(1)/<literal>automake</literal>(1) and if you can remember how you configured it, execure as follows.</simpara>
        <screen>$ ./configure ''all-of-the-options-you-gave-it''
# make uninstall</screen>
        <simpara>Alternatively, if you are absolutely sure that the install process puts files only under "<literal>/usr/local/</literal>" and there is nothing important there, you can erase all its contents by the following.</simpara>
        <screen># find /usr/local -type f -print0 | xargs -0 rm -f</screen>
        <simpara>If you are not sure where files are installed, you should consider using <literal>checkinstall</literal>(8)  from the <literal>checkinstall</literal> package, which provides a clean path for the uninstall.  It now supports to create a Debian package with "<literal>-D</literal>" option.</simpara>
      </section>
    </section>
    <section id="_perl_short_script_madness">
      <title>Perl short script madness</title>
      <simpara>Although any <ulink url="&awk;">AWK</ulink> scripts can be automatically rewritten in <ulink url="&perl;">Perl</ulink> using <literal>a2p</literal>(1), one-liner AWK scripts are best converted to one-liner perl scripts manually.</simpara>
      <simpara>Let's think following awk script snippet.</simpara>
      <screen>awk '($2=="1957") { print $3 }' |</screen>
      <simpara>This is equivalent to any one of the following lines.</simpara>
      <screen>perl -ne '@f=split; if ($f[1] eq "1957") { print "$f[2]\n"}' |</screen>
      <screen>perl -ne 'if ((@f=split)[1] eq "1957") { print "$f[2]\n"}' |</screen>
      <screen>perl -ne '@f=split; print $f[2] if ( $f[1]==1957 )' |</screen>
      <screen>perl -lane 'print $F[2] if $F[1] eq "1957"' |</screen>
      <screen>perl -lane 'print$F[2]if$F[1]eq+1957' |</screen>
      <simpara>The last one is a riddle.  It took advantage of following Perl features.</simpara>
      <itemizedlist>
        <listitem>
          <simpara>
The whitespace is optional.
</simpara>
        </listitem>
        <listitem>
          <simpara>
The automatic conversion exists from number to the string.
</simpara>
        </listitem>
      </itemizedlist>
      <simpara>See <literal>perlrun</literal>(1) for the command-line options.  For more crazy Perl scripts, <ulink url="&perlgolf;">Perl Golf</ulink> may be interesting.</simpara>
    </section>
    <section id="_web">
      <title>Web</title>
      <simpara>Basic interactive dynamic web pages can be made as follows.</simpara>
      <itemizedlist>
        <listitem>
          <simpara>
Queries are presented to the browser user using <ulink url="&html;">HTML</ulink> forms.
</simpara>
        </listitem>
        <listitem>
          <simpara>
Filling and clicking on the form entries will send one of the following <ulink url="&url;">URL</ulink> string with encoded parameters from the browser to the web server.
</simpara>
          <itemizedlist>
            <listitem>
              <simpara>
"<literal>http://www.foo.dom/cgi-bin/program.pl?VAR1=VAL1&amp;VAR2=VAL2&amp;VAR3=VAL3</literal>"
</simpara>
            </listitem>
            <listitem>
              <simpara>
"<literal>http://www.foo.dom/cgi-bin/program.py?VAR1=VAL1&amp;VAR2=VAL2&amp;VAR3=VAL3</literal>"
</simpara>
            </listitem>
            <listitem>
              <simpara>
"<literal>http://www.foo.dom/program.php?VAR1=VAL1&amp;VAR2=VAL2&amp;VAR3=VAL3</literal>"
</simpara>
            </listitem>
          </itemizedlist>
        </listitem>
        <listitem>
          <simpara>
"<literal>%nn</literal>" in URL is replaced with a character with hexadecimal <literal>nn</literal> value.
</simpara>
        </listitem>
        <listitem>
          <simpara>
The environment variable is set as: "<literal>QUERY_STRING="VAR1=VAL1 VAR2=VAL2 VAR3=VAL3"</literal>".
</simpara>
        </listitem>
        <listitem>
          <simpara><ulink url="&cgi;">CGI</ulink> program (any one of "<literal>program.*</literal>") on the web server executes itself with the environment variable "<literal>$QUERY_STRING</literal>".
</simpara>
        </listitem>
        <listitem>
          <simpara><literal>stdout</literal> of CGI program will be sent to the web browser and is presented as an interactive dynamic web page.
</simpara>
        </listitem>
      </itemizedlist>
      <simpara>For security reasons it is better not to hand craft new hacks for parsing CGI parameters.  There are established modules for them in Perl and Python.  <ulink url="&php;">PHP</ulink> comes with these functionalities.  When client data storage is needed, cookies are used.  When client side data processing is needed, javascript is frequently used.</simpara>
      <simpara>For more, see <ulink url="&thecommongatewayinterface;">The Common Gateway Interface</ulink>, <ulink url="&theapachesoftwarefoundation;">The Apache Software Foundation</ulink>, and <ulink url="&javascript;">JavaScript</ulink>.</simpara>
      <simpara>Searching "CGI tutorial" on Google by typing encoded URL <ulink url="&httpwwwgooglecomiampqcgitutorial;">http://www.google.com/search?hl=en&amp;ie=UTF-8&amp;q=CGI+tutorial</ulink> directly to the browser address is a good way to see the CGI script in action on the Google server.</simpara>
    </section>
    <section id="_the_source_code_translation">
      <title>The source code translation</title>
      <simpara>There are programs to convert source codes.</simpara>
      <table id="listofsourcecodetranslationtools" pgwide="0" frame="topbot" rowsep="1" colsep="1">
        <title>List of source code translation tools</title>
        <tgroup cols="5">
          <colspec colwidth="10%*" align="left"/>
          <colspec colwidth="10%*" align="left"/>
          <colspec colwidth="10%*" align="left"/>
          <colspec colwidth="10%*" align="left"/>
          <colspec colwidth="60%*" align="left"/>
          <thead>
            <row>
              <entry>
    package
    </entry>
              <entry>
    popcon
    </entry>
              <entry>
    size
    </entry>
              <entry>
    keyword
    </entry>
              <entry>
    description
    </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/perl">
                <literal>perl</literal>
              </ulink> <ulink url="http://bugs.debian.org/perl">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=perl">&pop-perl;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/p/perl.html">&size-perl;</ulink></entry>
              <entry>
    AWK→PERL
    </entry>
              <entry>
    convert source codes from AWK to PERL: <literal>a2p</literal>(1)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/f2c">
                <literal>f2c</literal>
              </ulink> <ulink url="http://bugs.debian.org/f2c">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=f2c">&pop-fcc;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/f/f2c.html">&size-fcc;</ulink></entry>
              <entry>
    FORTRAN→C
    </entry>
              <entry>
    convert source codes from FORTRAN 77 to C/C++: <literal>f2c</literal>(1)
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/protoize">
                <literal>protoize</literal>
              </ulink> <ulink url="http://bugs.debian.org/protoize">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=protoize">&pop-protoize;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/p/protoize.html">&size-protoize;</ulink></entry>
              <entry>
    ANSI C
    </entry>
              <entry>
    create/remove ANSI prototypes from C code
    </entry>
            </row>
            <row>
              <entry><ulink url="http://packages.debian.org/sid/intel2gas">
                <literal>intel2gas</literal>
              </ulink> <ulink url="http://bugs.debian.org/intel2gas">*</ulink></entry>
              <entry><ulink url="http://qa.debian.org/popcon.php?package=intel2gas">&pop-intelcgas;</ulink></entry>
              <entry><ulink url="http://packages.qa.debian.org/i/intel2gas.html">&size-intelcgas;</ulink></entry>
              <entry>
    intel→gas
    </entry>
              <entry>
    converter from NASM (intel format) to the GNU Assembler (GAS)
    </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
    </section>
    <section id="_making_debian_package">
      <title>Making Debian package</title>
      <simpara>If you want to make a Debian package, read followings.</simpara>
      <itemizedlist>
        <listitem>
          <simpara><xref linkend="_debian_package_management"/> to understand the basic package system
</simpara>
        </listitem>
        <listitem>
          <simpara><xref linkend="_porting_a_package_to_the_stable_system"/> to understand basic porting process
</simpara>
        </listitem>
        <listitem>
          <simpara><xref linkend="_chroot_system"/> to understand basic chroot techniques
</simpara>
        </listitem>
        <listitem>
          <simpara><literal>debuild</literal>(1), <literal>pbuilder</literal>(1) and <literal>pdebuild</literal>(1)
</simpara>
        </listitem>
        <listitem>
          <simpara><xref linkend="_debugging_the_debian_package"/> for recompiling for debugging
</simpara>
        </listitem>
        <listitem>
          <simpara><ulink url="&debiannewmaintainersguide;">Debian New Maintainers' Guide</ulink> as tutorial (the <literal>maint-guide</literal> package)
</simpara>
        </listitem>
        <listitem>
          <simpara><ulink url="&debiandevelopersreference;">Debian Developer's Reference</ulink> (the <literal>developers-reference</literal> package)
</simpara>
        </listitem>
        <listitem>
          <simpara><ulink url="&debianpolicymanual;">Debian Policy Manual</ulink> (the <literal>debian-policy</literal> package)
</simpara>
        </listitem>
      </itemizedlist>
      <simpara>There are packages such as <literal>dh-make</literal>, <literal>dh-make-perl</literal>, etc., which help packaging.</simpara>
    </section>
  </chapter>
  <appendix id="_appendix">
    <title>Appendix</title>
    <simpara>Here are backgrounds of this document.</simpara>
    <section id="_the_debian_maze">
      <title>The Debian maze</title>
      <simpara>The Linux system is a very powerful computing platform for a networked computer.  However, learning how to use all its capabilities is not easy. Setting up the LPR printer with non-PostScript printer was a good example of stumble points. (There are no issues anymore since newer installations use new CUPS system.)</simpara>
      <simpara>There is a complete, detailed map called the "SOURCE CODE".  This is very accurate but very hard to understand.  There are also references called HOWTO and mini-HOWTO.  They are easier to understand but tend to give too much
detail and lose the big picture.  I sometimes have a problem finding the right section in a long HOWTO when I need a few commands to invoke.</simpara>
      <simpara>I hope this "Debian Reference (version 2)" will provide good starting direction for people in the Debian maze.</simpara>
    </section>
    <section id="_copyright_history">
      <title>Copyright history</title>
      <simpara>Debian Reference was initiated by Osamu Aoki &lt;osamu at debian dot org&gt; as a personal system administration memo. Many contents came from the knowledge I gained from <ulink url="&thedebianusermailinglist;">the debian-user mailing list</ulink> and other Debian resources.</simpara>
      <simpara>Following a suggestion from Josip Rodin, who was very active with the <ulink url="&debiandocumentationprojectddp;">Debian Documentation Project (DDP)</ulink>, "Debian Reference (version 1, 2001-2007)" was created as a part of DDP documents.</simpara>
      <simpara>After 6 years, Osamu realized that the original "Debian Reference (version 1)" was outdated and started to rewrite many contents.  New "Debian Reference (version 2)" is released in 2008.</simpara>
      <simpara>The tutorial contents can trace its origin and its inspiration in followings.</simpara>
      <itemizedlist>
        <listitem>
          <simpara>
"<ulink url="&linuxusersguide;">Linux User's Guide</ulink>" by Larry Greenfield (December 1996)
</simpara>
          <itemizedlist>
            <listitem>
              <simpara>
obsoleted by "Debian Tutorial"
</simpara>
            </listitem>
          </itemizedlist>
        </listitem>
        <listitem>
          <simpara>
"<ulink url="&debiantutorial;">Debian Tutorial</ulink>" by Havoc Pennington. (11 December, 1998)
</simpara>
          <itemizedlist>
            <listitem>
              <simpara>
partially written by Oliver Elphick, Ole Tetlie, James Treacy, Craig Sawyer, and Ivan E. Moore II
</simpara>
            </listitem>
            <listitem>
              <simpara>
obsoleted by "Debian GNU/Linux: Guide to Installation and Usage"
</simpara>
            </listitem>
          </itemizedlist>
        </listitem>
        <listitem>
          <simpara>
"<ulink url="&debiangnulinuxguallationandusage;">Debian GNU/Linux: Guide to Installation and Usage</ulink>" by John Goerzen and Ossama Othman (1999)
</simpara>
          <itemizedlist>
            <listitem>
              <simpara>
obsoleted by "Debian Reference (version 1)"
</simpara>
            </listitem>
          </itemizedlist>
        </listitem>
      </itemizedlist>
      <simpara>The package and archive description can trace some of their origin and their inspiration in following.</simpara>
      <itemizedlist>
        <listitem>
          <simpara>
"<ulink url="&debianfaq;">Debian FAQ</ulink>" (March 2002 version, when this was maintained by Josip Rodin)
</simpara>
        </listitem>
      </itemizedlist>
      <simpara>The other contents can trace some of their origin and their inspiration in following.</simpara>
      <itemizedlist>
        <listitem>
          <simpara>
"<ulink url="&debianreference;">Debian Reference</ulink> (version 1)" by Osamu Aoki (2001–2007)
</simpara>
          <itemizedlist>
            <listitem>
              <simpara>
obsoleted by this new "Debian Reference (version 2)"
</simpara>
            </listitem>
          </itemizedlist>
        </listitem>
      </itemizedlist>
      <simpara>The previous "Debian Reference (version 1)" was created with many contributors.</simpara>
      <itemizedlist>
        <listitem>
          <simpara>
the major contents contribution on network configuration topics by Thomas Hood
</simpara>
        </listitem>
        <listitem>
          <simpara>
significant contents contribution on X and VCS related topics by Brian Nelson
</simpara>
        </listitem>
        <listitem>
          <simpara>
the help on the build scripts and many content corrections by Jens Seidel
</simpara>
        </listitem>
        <listitem>
          <simpara>
extensive proofreading by David Sewell
</simpara>
        </listitem>
        <listitem>
          <simpara>
many contributions by the translators, contributors, and bug reporters
</simpara>
        </listitem>
      </itemizedlist>
      <simpara>Many manual pages and info pages on the Debian system were used as the primary references to write this document.  To the extent Osamu Aoki considered within the <ulink url="&fairuse;">fair use</ulink>, many parts of them, especially command definitions, were used as phrase pieces after careful editorial efforts to fit them into the style and the objective of this document.</simpara>
      <simpara>The gdb debugger description was expanded using <ulink url="&debianwikicontentsonbacktrace;">Debian wiki contents on backtrace</ulink> with consent by Ari Pollak, Loïc Minier, and Dafydd Harries.</simpara>
      <simpara>Contents of "Debian Reference (version 2)" are mostly my own work except as mentioned above.  These has been updated by the contributors too.</simpara>
      <simpara>The author, Osamu Aoki, thanks all those who helped make this document possible.</simpara>
    </section>
    <section id="_document_format">
      <title>Document format</title>
      <simpara>The source of the English original document is currently written in <ulink url="&asciidoc;">AsciiDoc</ulink> text files.  <ulink url="&asciidoc;">AsciiDoc</ulink> is used as convienience only since it is less typing than straight XML and supports table in the very intuitive format.  You should think XML and PO files as real source files.  Via build script, it is converted to DocBook XML format and automatically generated data are inserted to form a final Docbook XML source. This final Docbook XML source can be converted to HTML, plain text, PostScript, and PDF. Currently, only HTML and plain text conversions are enabled.</simpara>
    </section>
  </appendix>
</book>
