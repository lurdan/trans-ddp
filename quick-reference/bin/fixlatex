#!/bin/sh

# This should solve issues with debiandoc for CJK
# This should solve issues with debiandoc for Polish quotation if fixed.

# $1 locale (Normal pt_BR style)
# $2 directory
case $1 in
("pl")
	# real substitution makes this useful
	: # perl -i -p -e 's/,,/"/g;' -e "s/''/\"/g;" $2 
	;;

("zh_TW")
	perl -i -p \
-e 's/(^\\documentclass\[.*\,)chinese(\].*$)/$1english$2/g;' \
-e 's/(^\\usepackage\[)big5(\]\{inputenc\}$)/$1latin1$2\n\\usepackage\{CJK\}\n/g;' \
-e 's/(^\\begin\{document\}$)/$1\n\\begin\{CJK\}\{Bg5\}\{song\}/g;' \
-e 's/(^\\end\{document\}$)/\\end\{CJK\}\n$1/g;' \
-e 's/([\x80-\xff])\\textbackslash\{\}/$1\\/g;' \
-e 's/([\x80-\xff])\\textasciitilde\{\}/$1\~/g;' \
-e 's/([\x80-\xff])\\textasciicircum\{\}/$1\^/g;' \
-e 's/([\x80-\xff])\\\}/$1\}/g;' \
-e 's/([\x80-\xff])\\\{/$1\{/g;' \
-e 's/([\x80-\xff])\\\_/$1_/g;' $2
	;;

("zh-cn")
	perl -i -p \
-e 's/(^\\documentclass\[.*\,)chinese(\].*$)/$1english$2/g;' \
-e 's/(^\\usepackage\[)big5(\]\{inputenc\}$)/$1latin1$2\n\\usepackage\{CJK\}\n/g;' \
-e 's/(^\\begin\{document\}$)/$1\n\\begin\{CJK\}\{gb2312\}\{song\}/g;' \
-e 's/(^\\end\{document\}$)/\\end\{CJK\}\n$1/g;' \
-e 's/([\x80-\xff])\\textbackslash\{\}/$1\\/g;' \
-e 's/([\x80-\xff])\\textasciitilde\{\}/$1\~/g;' \
-e 's/([\x80-\xff])\\textasciicircum\{\}/$1\^/g;' \
-e 's/([\x80-\xff])\\\}/$1\}/g;' \
-e 's/([\x80-\xff])\\\{/$1\{/g;' \
-e 's/([\x80-\xff])\\\_/$1_/g;' $2
	;;
(*)
	: # do nothing
;;
esac
