<chapt id="compat">Cuestiones de Compatibilidad

<sect id="arches">¿En qué arquitecturas/sistemas funciona &debian;?

<p>&debian; incluye el código fuente completo
de todos los programas incluidos, así que debería funcionar en todos
los sistemas soportados por el núcleo Linux; ver la
<url id="http://www.cl.cam.ac.uk/users/iwj10/linux-faq/"
name="FAQ sobre Linux"> para más detalles.
<!-- FIXME: Corregir El URL -->

<p>La actual entrega de &debian; contiene una distribución completa
de ejecutables para las siguientes arquitecturas:

<p><em/i386/: ésta cubre PCs basados en procesadores compatibles
Intel, incluyendo los 386, 486, Pentium, Pentium Pro, Pentium II
(tanto Klamath como Celeron), Pentium III, Pentium IV de Intel y
procesadores compatibles de AMD, Cyrix y otros.

<p><em/m68k/: esto cubre Amigas y Ataris con un procesador Motorola
680x0 para x>=2; con MMU.

<p><em/alpha/: sistemas Alpha de Compaq/Digital.

<p><em/sparc/: esto cubre sistemas SPARC de Sun y la mayoría de los
sistemas UltraSPARC.

<p><em/powerpc/: esto cubre algunas máquinas PowerPC de IBM/Motorola,
incluyendo máquinas CHRP, PowerMac y PReP.

<p><em/arm/: máquinas ARM y StrongARM.

<p><em/mips/: sistemas MIPS big-endian de SGI, Indy e Indigo2;
<em/mipsel/: máquinas MIPS little-endian, estaciones DEC de Digital.

<p><em/hppa/: Máquinas PA-RISC de Hewlett-Packard (712, C3000, L2000, A500).

<p><em/ia64/: sistemas IA-64 de Intel ("Itanium").

<p><em/s390/: sistemas "mainframe" S/390 de IBM.

<p>Actualmente se está trabajando en el desarrollo de distribuciones
de binarios de Debian para las arquitecturas Sparc64 (UltraSparc nativo)
y AMD de 64 bits.

<!-- FIXME: Añadir amd64 a la FAQ original -->
<!-- Puede que sea la arquitectura más popular después de i386 -->

<p>Para más información sobre arranque, particionamiento del disco
duro, activación de tarjetas PCMCIA y cuestiones similares por favor
siga las instrucciones del Manual de Instalación, que está disponible
en nuestro sitio WEB en
<url id="http://www.debian.org/releases/stable/installmanual">.

<sect id="otherdistribs">¿Hasta qué punto es Debian compatible con
otras distribuciones de Linux?

<p>Los desarrolladores de Debian se comunican con otros creadores de
distribuciones de Linux, en un esfuerzo para mantener la
compatibilidad binaria entre las distintas distribuciones.  La mayoría
de los productos comerciales corren tan bien sobre Debian como lo
hacen sobre los sistemas en los cuales se compilaron.

<p>&debian; se adhiere a la Estructura de Sistema de Ficheros Linux
<url id="http://www.pathname.com/fhs/" name="(Linux File System
Structure)">. Sin embargo, hay espacio para la interpretación en
algunas de las reglas que componen esta norma, por lo cual puede haber
diferencias entre un sistema Debian y otros sistemas Linux.

<sect id="otherunices">¿Hasta qué punto es Debian compatible en código
fuente con otros sistemas Unix?

<p>El código fuente Linux de la mayoría de las aplicaciones es compatible
con otros sistemas Unix.  Casi todo lo que está disponible en los
sistemas Unix System V, y en los sistemas comerciales o libres
derivados de BSD, también puede funcionar en Linux.  Sin embargo, tal
aserción no tiene ningún valor en el mercado comercial de Unix, pues
no hay manera de probarla.  En el ámbito del desarrollo de software,
se requiere una compatibilidad completa, y no sólo en "casi
todos" los casos.  Por ese motivo, hace algunos años surgió la
necesidad de normas, y en la actualidad la POSIX.1 (IEEE Standard
1003.1-1990) es una de las normas más importantes sobre compatibilidad
de código fuente en los sistemas operativos al estilo Unix.

<p>Linux está encaminado a adherirse a POSIX.1, pero las normas POSIX
cuestan dinero, y la certificación POSIX.1 (y FIPS 151-2) es
bastante cara; esto ha hecho más difícil el trabajo de los desarrolladores
de Linux para obtener completa conformidad POSIX.  Los costes de
certificación hacen poco probable que Debian obtenga un
certificado de conformidad oficial, aún cuando complete
satisfactoriamente el conjunto de pruebas de validación.  (El conjunto
de pruebas de validación puede obtenerse libremente en la actualidad,
así que se espera que más gente trabaje en los temas de POSIX.1.)

<!--
<p>
<strong>(The authors would very much like to
give you a pointer to an on-line document that described that standard,
but the IEEE is another one of those organizations that gets away with
declaring standards and then requiring that people PAY to find out what
they are.  This makes about as much sense as having to find out the
significance of various colored lights on traffic signals.)</strong>
-->

<p>Unifix GmbH (Braunschweig, Alemania) desarrolló un sistema Linux que ha
sido certificado como conforme a la norma FIPS 151-2 (que es un
superconjunto de POSIX.1). Esta tecnología estuvo disponible en la
propia distribución de Unifix, denominada Unifix Linux 2.0 y en la
distribución Linux-FT de Lasermoon.
<!-- Creo que Lasermoon quebró, pero en cualquier caso lo que sigue
es un enlace colgado:
<url id="http://www.lasermoon.co.uk/linux-ft/linux-ft.html"
name="Linux-FT">. En la actualidad, Unifix está aportando sus parches
al núcleo de Linux, gcc y otras herramientas; por lo
tanto, se espera que sus enmiendas que apuntan hacia la conformidad
POSIX.1 estén disponibles en Debian (y otras distribuciones).
-->

<sect id="otherpackages">¿Puedo utilizar los paquetes Debian (los
ficheros ".deb") en mi sistema Linux RedHat/Slackware/...? ¿Puedo
utilizar los paquetes RedHat (los ficheros ".rpm") en mi sistema
&debian;?

<p>Las diferentes distribuciones de Linux utilizan distintos formatos
de paquete y distintos programas de administración de paquetes.

<taglist>
<tag><strong/Usted probablemente puede:/
<item>Hay disponible un programa que permite
desempaquetar un paquete Debian en una máquina que se ha instalado con
una distribución `extraña', y generalmente funciona, en el sentido en
que desempaquetará los ficheros.  Lo contrario posiblemente es cierto
también, esto es, un programa que desempaquete un
paquete RedHat o Slackware en una máquina basada en Debian Linux
probablemente tendrá éxito desempaquetando el paquete y colocando la
mayoría de los ficheros en los directorios deseados.  La causa de
este éxito puede encontrarse mayormente en la existencia de (y la
amplia adhesión a) la Norma de Sistema de Ficheros Linux (Linux File
System Standard).
<!--
¿Por qué no "estándar"? svd
-->

<tag<strong/Usted probablemente no quiera:/
<item>La mayoría de los administradores
de paquetes escriben ficheros administrativos cuando se utilizan para
desempaquetar un archivo.  Dichos ficheros administrativos en general
no están estandarizados.  Por lo tanto, el efecto de desempaquetar un
paquete Debian en un entorno `extraño' puede tener efectos
impredecibles (ciertamente no muy útiles) sobre el administrador de
paquetes de dicho entorno.  De la misma manera, las utilidades
provenientes de otras distribuciones pueden tener éxito al
desempaquetar sus archivos en un sistema Debian, pero probablemente
causarán un fallo del sistema de administración de paquetes de Debian
cuando llegue el momento de actualizar o borrar algunos paquetes, o
incluso si se desea simplemente un informe exacto de los paquetes
presentes en el sistema.

<tag/<strong/El mejor camino:/
<item>La Norma de Sistema de Ficheros Linux
(y por lo tanto Debian GNU/Linux) requiere que los
subdirectorios bajo <tt>/usr/local/</tt> se usen enteramente a
discreción del usuario.  Así que los usuarios pueden desempaquetar
paquetes `extraños' en este directorio, y luego administrar sus
configuraciones, actualizarlos y borrarlos individualmente.
</taglist>
<p>

<!--
It would be useful to document all the ways in which Debian and RedHat
systems differ.  I believe such a document would do a lot to dispell
fears of using a Unix system. SGK
-->

<sect id="a.out">¿Es capaz Debian de ejecutar mis viejos programas "a.out"?

<p>¿Todavía tiene un programa así? :-)

Para <em>ejecutar</em> un programa cuyo binario está en formato <tt>a.out</tt>
(i.e., QMAGIC o ZMAGIC),
<list>

  <item>Asegúrese de que su núcleo tenga soporte <tt>a.out</tt>
  incluido, ya sea directamente (CONFIG_BINFMT_AOUT=y) o como
  módulo (CONFIG_BINFMT_AOUT=m).  (el paquete kernel-image de Debian contiene
  el módulo <tt>binfmt_aout</tt>.)
  <p>
  Si su núcleo soporta binarios <tt>a.out</tt> mediante módulos,
  entonces debe asegurarse de que esté cargado el módulo
  <tt>binfmt_aout</tt>.  Puede hacer esto en el momento del arranque si
  tiene una línea que diga <tt>binfmt_aout</tt> en el fichero
  <tt>/etc/modules</tt>.  Puede también hacerlo desde la línea de
  órdenes si ejecuta <tt>insmod NOMBREDIR/binfmt_aout.o</tt> donde
  <tt>NOMBREDIR</tt> es el nombre del directorio donde se almacenan
  los módulos construídos para la versión del núcleo que está
  corriendo.  En un sistema con la versión &kernelversion; del núcleo es probable que
  <tt>NOMBREDIR</tt> sea <tt>/lib/modules/&kernelversion;/fs/</tt>.

  <item>Instale el paquete <tt>libc4</tt>.
<p>
En el momento en el que se salga Debian 2.0, es muy probable que el paquete
<tt>libc4</tt> haya sido eliminado de la distribución. Si este es el caso,
usted podría querer buscar un CD-ROM de Debian antiguo (Debian 1.3.1
todavía tenía este paquete).

<item>Si el programa que desea ejecutar es un cliente X
<tt>a.out</tt>, entonces instale también el paquete <tt>xcompat</tt>.

</list>

<p>
Si tiene una aplicación comercial en formato <tt>a.out</tt>, puede ser el
momento de pedir que le envíen una actualización a formato <tt>ELF</tt>.
<p>

<sect id="libc5">¿Puede Debian ejecutar mis programas libc5 antiguos?

<p>Sí. Simplemente, instale las bibliotecas necesarias de la sección
<tt>oldlibs</tt> (que contiene paquetes antiguos que se incluyen para
conseguir compatibilidad con aplicaciones antiguas).

<sect id="libc5-compile">¿Puede utilizarse Debian para compilar
programas libc5?

<p>Sí. Instale los paquetes <tt>-altdev</tt> necesarios. El conjunto
mínimo de paquetes que necesitará es: <tt>altgcc</tt>, en la sección
<tt>devel</tt> y <tt>libc5-altdev</tt> en la sección <tt>oldlibs</tt>.

Entonces tiene que colocar las herramientas <tt>libc5</tt>
antes que las normales en el PATH.  Esto es, ejecute
la orden <tt>export PATH=/usr/i486-linuxlibc1/bin:$PATH</tt>
(Esto no es esencial, sólo ventajoso).
Si sólo lo va a utilizar una vez, sería suficiente con:
<tt>PATH=/usr/i486-linuxlibc1/bin:$PATH make [objetivo]</tt>.

<p>Tenga en cuenta que ya no hay soporte para el entorno libc5.

<sect id="non-debian-programs">¿Cómo debería instalar un paquete que
no es Debian?

<p>Los ficheros bajo el directorio <tt>/usr/local/</tt> no están bajo el
control del sistema de administración de paquetes de Debian.  Por lo
tanto, es una buena práctica
colocar el código fuente de su programa en <tt>/usr/local/src/</tt>.
<!-- Discrepancia con el original: No hay tt en ^^^. svd -->
Por ejemplo, puede extraer los ficheros de un paquete denominado
"fu.tar" dentro del directorio
<tt>/usr/local/src/fu</tt>.  Después de compilarlo, coloque los
ejecutables en <tt>/usr/local/bin/</tt>, las bibliotecas en
<tt>/usr/local/lib/</tt>, y los ficheros de configuración en
<tt>/usr/local/etc/</tt>.
<p>
Si sus programas y/o ficheros realmente deben situarse en algún otro
directorio, aún puede colocarlos bajo el directorio
<tt>/usr/local/</tt>, y crear los enlaces simbólicos en los lugares
necesarios que apunten al lugar de instalación en
<tt>/usr/local/</tt>, por ejemplo, puede crear el enlace
<example>ln -s /usr/local/bin/fu /usr/bin/fu</example>
<p>
En cualquier caso, si el paquete que obtuvo permite la redistribución
en su licencia, debería considerar la posibilidad de construir un
paquete Debian de él, y enviarlo para que forme parte del sistema
Debian.  Las instrucciones para convertirse en desarrollador de
paquetes se encuentran en el Manual de Normas de Debian
(véase <ref id="debiandocs">).

<sect id="xlib6">¿Por qué me da el mensaje de error "Can't find libX11.so.6"
cuando trato de ejecutar <tt>fu</tt>?

<p>Este mensaje de error puede significar que el programa está enlazado
con la versión <tt>libc5</tt> de las bibliotecas X11.  En este caso
necesitará instalar el paquete <tt>xlib6</tt>, de la sección
<tt>oldlibs</tt>.

<!-- FIXME: Esta en realidad no es una pregunta frecuente -->
<!-- Debería quitarse del original -->
<sect id="termcap">¿Por qué no puedo compilar programas que requieren libtermcap?

<p>Debian usa la base de datos <tt>terminfo</tt> y la biblioteca
<tt>ncurses</tt> para manejar la interfaz del terminal, en lugar de la
base de datos <tt>termcap</tt> y la biblioteca <tt>termcap</tt>.  Los
usuarios que compilen programas que requieran conocimiento de la
interfaz del terminal deben reemplazar las referencias a
<tt>libtermcap</tt> con referencias a <tt>libncurses</tt>.
<p>
Para dar soporte a los ejecutables que hayan sido enlazados con la
biblioteca <tt>termcap</tt>, y de los cuales no tenga el código
fuente, Debian proporciona un paquete denominado
<tt>termcap-compat</tt>.  Éste provee tanto el fichero
<tt>libtermcap.so.2</tt> como <tt>/etc/termcap</tt>.  Instale este
paquete si el programa falla al ejecutarse con el mensaje de error
"can't load library 'libtermcap.so.2'", o se queja de que
no encuentra el fichero <tt>/etc/termcap</tt>.

<sect id="accelx">¿Por qué no puedo instalar AccelX?

<p>AccelX usa la biblioteca <tt>termcap</tt> durante su instalación. Vea <ref
id="termcap"> más arriba.

<sect id="motifnls">¿Por qué se cuelgan mis aplicaciones Motif de
Xfree 2.1 antiguas?

<p>Necesita instalar el paquete <package/motifnls/, que proporciona
los ficheros de configuración de XFree-2.1 necesarios para que las
aplicaciones compiladas con XFree-2.1 funcionen bajo XFree-3.1.

<p>Sin estos ficheros, algunas aplicaciones Motif compiladas en otras
máquinas (como Netscape) se pueden colgar al intentar copiar o pegar
desde o hacia un campo de texto, y también presentan otros problemas.

<!-- FIXME: Esto creo que ha cambiado de capítulo -->
<!-- Efectivamente, habría que cambiarlo de sitio -->

<sect1>¿Puedo instalar y compilar un núcleo sin `retoques' específicos para Debian?

<p>Sí.  Pero debe comprender antes las reglas que tiene Debian acerca de
los ficheros de cabecera.
<p>
Las bibliotecas C de Debian se construyen con las últimas entregas
<em>estables</em> de los ficheros de encabezado de <tt>gcc</tt>.  Por
ejemplo, la distribución Debian-1.2 usó la versión 5.4.13 de los
ficheros de encabezado.  Esta práctica contrasta con los paquetes de fuentes
del núcleo que se archivan en todos los sitios FTP de Linux, que
utilizan versiones aún más nuevas de los ficheros de encabezado.  Los
encabezados del núcleo que se distribuyen junto con los fuentes de
dicho núcleo se encuentran alojados en
<tt>/usr/include/linux/include/</tt>.
<p>
Si necesitara compilar un programa con encabezados de núcleo más
nuevos que los provistos por <tt>libc6-dev</tt>, entonces tendrá que
agregar <tt>-I/usr/src/linux/include/</tt> a la línea de órdenes al
compilar.  Esto sucede en una situación, por ejemplo, con el
paquete del demonio de automontaje (automounter daemon)
(<tt>amd</tt>).  Cuando los nuevos núcleos cambian las cuestiones
internas que manejan el NFS, <tt>amd</tt> necesita enterarse de
tales cambios.  Para ello requiere la inclusión de las últimas
versiones de los encabezados del núcleo.
