<!-- Subversion revision of original English document "4815" -->
<!-- Original version: $Revision: 1.5 $ -->
<chapt id="choosing">Choisir une distribution de Debian

<p>Il existe plusieurs versions de Debian.  Choisir la version appropriée est
une décision importante. Cette section donne des informations utiles aux
utilisateurs désirant choisir la version qui convient le mieux à leurs besoins,
et répond également aux questions qui peuvent être soulevées lors de ce choix.
Il ne s'agit pas de répondre à la question « pourquoi vous devriez choisir
Debian ? » mais plutôt « quelle version de Debian ? ».

<p>Pour plus d'informations sur les versions disponibles, consultez <ref id="dists">.

<sect>Quelle version de Debian (stable/testing/unstable) me convient le mieux ?

<p>La réponse est un peu compliquée. Cela dépend de ce que vous voulez faire.
Une solution serait de demander à un ami qui utilise Debian. Mais cela signifierait
que vous ne pouvez pas prendre votre décision de manière indépendante. Vous
devriez pouvoir prendre votre décision après la lecture de ce chapitre.</p>

<p><list>

<item><p>Si la sécurité ou la stabilité vous importent par-dessus tout :
installez la version stable. Il s'agit du choix favori des utilisateurs.</p>

<item><p>Si vous êtes un nouvel utilisateur installant une machine de bureau,
démarrez avec la version stable.  Certains logiciels sont un peu anciens, mais
c'est l'environnement le moins boggué pour travailler. Vous pourrez basculer
vers la version <em>unstable</em> plus récente une fois que vous serez plus en
confiance.</p>

<item><p>Si vous êtes un utilisateur d'une machine de bureau avec de
l'expérience dans les systèmes Linux, et que cela nous vous dérange pas de
faire face à des bugs étranges de temps en temps, utilisez <em>unstable</em>. 
Cette version comporte tous les derniers logiciels, et les bogues sont
généralement corrigés rapidement.</p>

<item><p>Si vous utilisez un serveur, en particulier avec des contraintes
importantes de stabilité ou s'il est connecté à Internet, installez la version
<em>stable</em>. Il s'agit de loin du choix le plus sûr et le plus solide.</p>

</list>

<p>Les questions suivantes vous donnent, nous l'espérons, plus de détails sur ces
choix. Si après avoir lu toute cette FAQ, vous n'arrivez pas à choisir, restez
sur le choix de la distribution stable.</p>

<sect1>Vous m'avez demandé d'installer stable, mais en stable tel et tel
matériel ne sont pas détectés ou ne fonctionnent pas. Que dois-je faire ?

<p>Essayez de rechercher sur le web à l'aide d'un moteur de recherche afin de
voir si quelqu'un d'autre a été capable de faire fonctionner ce matériel avec
<em>stable</em>. La plupart du matériel devrait fonctionner correctement avec
<em>stable</em>. Dans le cas où vous avez du matériel à la pointe, il peut ne
pas fonctionner avec <em>stable</em>. Dans ce cas, vous pourriez installer ou
basculer vers <em>unstable</em>.</p>

<p>Concernant les ordinateurs portables, <url id="http://www.linux-on-laptops.com/">
est un très bon site web permettant de savoir si quelqu'un d'autre a fait
fonctionner un modèle précis sous Linux. Ce site web n'est pas spécifique à
Debian, mais constitue néanmoins une source fantastique. À notre connaissance,
il n'existe pas de tel site pour les ordinateurs de bureau.</p>

<p>Une autre option est de demander sur la liste de diffusion debian-user en
envoyant un courriel à debian-user@lists.debian.org. Il est possible d'envoyer
des messages à liste sans être abonné. Les archives sont disponibles depuis
<url id="http://lists.debian.org/debian-user/">, où se trouvent également les
informations sur l'abonnement. Nous vous incitons fortement à poser vos
questions sur la liste de diffusion plutôt que sur
<url id="http://www.debian.org/support" name="irc">. En effet, les messages de la liste de
diffusion sont archivés, ce qui peut aider les personnes ayant le même problème
que le vôtre à trouver la solution.</p>

<sect1>Y aura-t-il des différences de versions des paquets entre les différentes
distributions ? 

<p>Oui. La distribution <em>unstable</em> inclut les versions les plus récentes,
mais qui ne sont pas encore suffisamment testées et peuvent donc comporter des
bogues.</p>

<p>En revanche, <em>stable</em> contient d'anciennes versions des paquets, qui
sont ainsi bien éprouvés et sont moins susceptibles de comporter des
bogues.</p>

<p>Les paquets dans <em>testing</em> se trouvent entre ces deux extrêmes.</p>

<sect1>La distribution stable contient des paquets vraiment obsolètes. Regardez
Kde, Gnome, Xorg ou même le noyau. Ils sont très anciens. Pourquoi cette
situation ?

<p>Il est possible que vous ayez raison. L'âge des paquets dans <em>stable</em>
dépend de la date de la publication. Comme il s'écoule généralement plus d'un an
entre les publications, vous pouvez penser que stable contient des vieilles
versions des paquets. Cependant, ils ont été testés intensivement. On peut
raisonnablement dire que ces paquets ne comportent aucun bogue grave connu, ni de
trous de sécurité, etc. Les paquets de <em>stable</em> s'intègrent de manière
transparente avec les autres paquets de <em>stable</em>. Ces caractéristiques
sont très importantes pour les serveurs de production qui doivent fonctionner
24 heures par jour et 7 jours par semaine.</p> 

<p>En revanche, les paquets de <em>testing</em> ou <em>unstable</em> peuvent
comporter des bogues cachés, des trous de sécurité, etc. De plus, certains
de ces paquets peuvent ne pas fonctionner comme prévu. Généralement les
personnes travaillant sur un unique ordinateur de bureau préfèrent avoir les
paquets les plus récents. La distribution <em>unstable</em> est la solution pour
cette catégorie d'utilisateurs.</p>

<p>Comme vous pouvez le constater, la stabilité et la nouveauté sont les deux
extrémités du spectre.
Besoin de stabilité ? Utilisez la distribution <em>stable</em>. Si vous voulez
travailler avec les paquets les plus récents, alors installez la distribution
<em>unstable</em>.</p>

<sect1>Et si je désire changer de distribution, puis-je le faire ?

<p>Oui, mais il s'agit d'une opération irréversible. Vous pouvez mettre à jour
votre système de stable --&gt; testing --&gt; unstable. 
L'opération en sens inverse est impossible. Soyez bien sûr de votre décision si
vous prévoyez d'installer ou de mettre à jour pour <em>unstable</em>.</p>

<p>En fait, si vous êtes un expert, prêt à passer du temps, vraiment prudent et
que vous savez ce que vous faites, alors il peut être possible de passer de la
distribution <em>unstable</em> vers <em>testing</em> puis vers <em>stable</em>.
Les scripts d'installation des paquets ne sont pas prévus pour cela, il est donc
possible par exemple que vous perdiez certains fichiers de configuration au
cours de l'opération.

<sect1>Faut-il installer testing ou unstable ?

<p>C'est plutôt subjectif. Il n'existe pas de réponse parfaite mais
seulement une « estimation sage » à faire lors du choix entre unstable et
testing. L'auteur conseille dans l'ordre de préférence : <em>stable</em>,
<em>unstable</em> puis <em>testing</em>.

Le problème est le suivant :</p>

<p><list>

<item>Stable est solide comme un roc. Elle est incassable.

<item><p>Testing est cassée moins souvent que <em>unstable</em>. Mais lorsque cela
arrive, la correction met du temps à être appliquée. Des fois il peut s'agir de
plusieurs jours, et dans certains cas plusieurs mois.</p>

<item>Unstable change beaucoup, et peut être cassée à n'importe quel moment.
Cependant, les problèmes sont souvent corrigés en quelques jours et cette
distribution offre toujours les dernières versions des logiciels empaquetés
pour Debian.

</list>

<p>Pourtant il existe des cas où utiliser testing serait plus avantageux
qu'unstable. L'auteur a rencontré ce cas lors de la transition de gcc3 à
gcc4. Le paquet <package>labplot</package> était impossible à installer sur une
machine unstable car certaines de ses dépendances avaient passé la transition
gcc4 et d'autres pas. Au même moment, le paquet de testing était installable sur
une machine testing puisque les paquets ayant effectué la transition gcc4
n'avaient pas atteint testing.</p>


<sect1>Vous parlez de cas où testing est cassée. Qu'entendez-vous par là ?

<p>Parfois, un paquet peut ne pas être installable par les outils de gestion des
paquets. Parfois, un paquet peut ne pas être disponible du tout, éventuellement
supprimé temporairement en raison de bogues ou de dépendances non résolues.
Enfin, un paquet peut s'installer mais ne pas offrir un comportement
satisfaisant.</p>

<p>Lorsque cela arrive, on dit que la distribution est cassée (du moins pour ce
paquet).</p>

<sect1>Pourquoi testing peut-elle être cassée pendant plusieurs mois ? Les
correctifs introduits dans unstable n'arrivent-ils par directement dans
testing ?

<p>Les corrections de bogues et les améliorations introduits dans la
distribution <em>unstable</em> atterrissent dans <em>testing</em> après un
certain nombre de jours. Disons que ce seuil est de 10 jours. Les paquets
d'unstable arrivent dans testing seulement si aucun bogue critique pour la
publication (« RC » pour « Release Critical ») n'est signalé à leur égard. Si un
bogue RC est signalé sur un paquet d'unstable, il n'entrera pas dans testing
avant les 10 prochains jours.</p>

<p>En effet on considère que si le paquet a un problème, celui-ci sera découvert
par les utilisateurs d'unstable et sera corrigé avant que le paquet puisse
atteindre testing. Cela permet à testing de rester utilisable la plupart du
temps. Le concept est génial la plupart du temps, mais les choses ne sont jamais
si simples. Considérez par exemple la situation suivante :</p> 

<p><list>

    <item>Vous êtes intéressé par le paquet XYZ.
    <item>Le 10 juin, la version dans testing est XYZ-3.6 et dans unstable XYZ-3.7
    <item>10 jours après, XYZ-3.7 migre d'unstable vers testing.
    <item>Donc le 20 juin, testing et unstable ont toutes deux XYZ-3.7.
    <item>Un utilisateur de la distribution testing repère qu'une nouvelle
    version de XYZ est disponible et met à jour sa version XYZ-3.6 en XYZ-3.7.
    <item>Le 25 juin, quelqu'un utilisant testing ou unstable découvre un bogue
    RC dans XYZ-3.7 et le signale dans le BTS.
    <item>Le responsable de XYZ corrige ce bogue et l'envoie vers unstable le
    30 juin. On suppose ici que 5 jours sont nécessaires au responsable pour
    corriger et envoyer la nouvelle version. Ce chiffre de 5 ne doit pas être
    pris au pied de la lettre ; il peut être supérieur ou inférieur, suivant la
    sévérité du bogue RC.
    <item>Cette nouvelle version arrivée dans unstable, XYZ-3.8 est programmée
    pour atteindre testing le 10 juillet.
    <item>Mais le 5 juillet, un autre utilisateur découvre un autre bogue dans
    XYZ-3.8.
    <item>Considérons que le responsable de XYZ corrige ce nouveau bogue et
    envoie la nouvelle version en 5 jours.
    <item>Ainsi le 10 juillet, testing propose XYZ-3.7 alors que unstable
    propose XYZ-3.9.
    <item>Cette nouvelle version XYZ-3.9 est reprogrammée pour atteindre testing
    le 20 juillet.
    <item>Puisque vous utilisez testing et que XYZ-3.7 est boggué, vous ne
    pourrez sans doute utiliser XYZ qu'après le 20 juillet. Ainsi vous aurez
    passé près d'un moins avec une version XYZ cassée.

</list>

<p>La situation peut être bien plus compliquée, si par exemple XYZ dépend de 4
autres paquets. Cela peut rendre la distribution testing inutilisable pendant
plusieurs mois. Le scénario ci-dessus est fictif et peut se produire dans la
réalité, même si de tels cas sont rares.

<sect1>Du point de vue d'un administrateur, quelle distribution requiert le plus
d'attention ?

<p>L'une des principales raisons pour laquelle de nombreuses personnes
choisissent Debian plutôt que d'autres distributions, est qu'elle demande très
peu d'administration. Les gens désirent un système qui se contente de
fonctionner. De manière générale, on peut dire que la distribution
<em>stable</em> exige très peu de maintenance alors que <em>testing</em> et
<em>unstable</em> demandent une maintenance constante à l'administrateur.
Si vous utilisez stable, tout ce dont vous avez à vous soucier est d'appliquer
les mises à jour de sécurité. Si vous utilisez testing ou unstable, c'est une
bonne idée d'être au courant des nouveaux bogues découverts dans les paquets
installés, les correctifs et fonctionnalités introduits, etc.</p>

<!-- Removed, since the pictures cannot be added in the SGML code
<p>The following pictures, from <url id="http://exon.dyndns.org/releasepics/"
name="Matthew Exon"> illustrate the maintenance trauma the various distribution
options might cause you over time.  The graph provides a qualitative (but not
quantitative) picture of the amount of time administrators might be spending.
</p>
-->

<sect1>Que se passe-t-il lors d'une nouvelle publication ?

<p>Cette question ne vous aidera pas à choisir une distribution de Debian, mais
vous vous la poserez tôt ou tard.

<p>La distribution stable est actuellement &releasename;; la prochaine
distribution stable s'appelera &testingreleasename;. Considérons le cas
particulier de ce qui se produira lors de la publication de &testingreleasename;
comme nouvelle version stable.</p>

<p><list>
    <item> oldstable = &oldreleasename;; stable = &releasename;; testing = &testingreleasename;; unstable =
sid
    <item>Unstable fait toujours référence à sid, indépendamment du processus de
    publication.
    <item>Les paquets migrent continuellement de sid vers testing (c.-à.-d.
    &testingreleasename;). Mais les paquets dans stable (c.-à-d. &releasename;)
    restent les mêmes sauf s'il existe des mises à jour de sécurité.
    <item>Après un certain temps <em>testing</em> est gelée, mais reste appelée
    <em>testing</em>. À partir de ce moment-là, plus aucun nouveau paquet
    d'unstable ne peut migrer vers testing, à moins qu'ils corrigent des bogues
    critiques pour la publication (RC).  
    <item>Lors du gel de testing, tous les correctifs introduits doivent être
    vérifiés par les membres de l'équipe de publication. Cela permet de
    s'assurer qu'aucun problème sévère inconnu n'est introduit dans la
    distribution <em>testing</em> gelée.
    <item>Les bogues RC de la testing gelée sont réduits à zéro.
    <item>La testing gelée sans bogue RC sera publiée comme nouvelle version
    stable. Dans notre exemple, cette nouvelle publication stable sera appelée 
    &testingreleasename;.
    <item>À cette étape, oldstable = &releasename;, stable =
    &testingreleasename;. Les contenus de <em>stable</em> et la testing gelée
    sont alors identiques.
    <item>Une nouvelle testing est dérivée de l'actuelle stable.
    <item>Les paquets commencent de nouveau à migrer de sid vers testing. La
    communauté Debian travaille déjà à préparer la nouvelle publication stable.
</list>

<sect1>Je dispose d'une machine de bureau / de serveurs utilisant Debian. Comment
savoir quelle distribution j'utilise ?

<p>Dans la plupart des cas, c'est très simple à savoir. Regardez le contenu du
fichier <file>/etc/apt/sources.list</file>. Vous trouverez une entrée similaire
à la ligne suivante :

<example>
deb http://ftp.us.debian.org/debian/ unstable main contrib 
</example>

<p>Le troisième champ (« unstable » dans l'exemple ci-dessus) indique quelle
distribution le système utilise actuellement.</p> 

<p>Vous pouvez également utiliser <prgn>lsb_release</prgn> (disponible dans le
paquet <package>lsb-release</package>). Si vous exécutez ce programme sur un
système utilisant <em>unstable</em>, vous obtiendrez :

<example>
$ lsb_release  -a
LSB Version:    core-2.0-noarch:core-3.0-noarch:core-3.1-noarch:core-2.0-ia32:core-3.0-ia32:core-3.1-ia32
Distributor ID: Debian
Description:    Debian GNU/Linux unstable (sid)
Release:    unstable
Codename:   sid
</example>

<p>Pourtant, cela n'est pas toujours si facile. Certains systèmes peuvent
comporter un fichier <file>sources.list</file> avec plusieurs entrées vers
différentes distributions. Cela peut arriver lorsque l'administrateur utilise
des paquets depuis différentes distributions. Ce mélange de plusieurs
distributions est appelé apt-pinning.

<sect1>J'utilise actuellement stable. Puis-je changer pour testing ou unstable ?
Si oui, comment ?

<p>Si vous utilisez actuellement stable, alors le troisième champ du fichier
<file>/etc/apt/sources.list</file> sera soit &releasename; ou stable.
Vous devez remplacer cette valeur par le nom de la version que vous voulez
utiliser. Si vous voulez utiliser testing, alors remplacez ce troisième champ de 
<file>/etc/apt/sources.list</file> par testing.
Si vous souhaitez utiliser unstable, alors remplacez le troisième champ par
unstable.

<p>Actuellement testing est appelée &testingreleasename;. 
Ainsi, si vous remplacez le troisième champ de
<file>/etc/apt/sources.list</file> en &testingreleasename;, vous utiliserez
alors testing.
Mais lorsque &testingreleasename; deviendra stable, vous continuerez à utiliser
&testingreleasename;.</p>

<p>Unstable est toujours appelée Sid. Si vous remplacez le troisième champ de
<file>/etc/apt/sources.list</file> par sid, vous utiliserez alors unstable.

<p>Actuellement, Debian propose des mises à jour de sécurité pour testing mais
pas pour unstable, puisque les correctifs pour unstable sont directement
appliqués dans l'archive standard. Ainsi si vous utilisez unstable, assurez-vous
d'avoir supprimé dans <file>/etc/apt/sources.list</file> les lignes relatives
aux mises à jour de sécurité.

<p>Si des notes de publication sont disponibles pour la distribution vers
laquelle vous effectuez la mise à niveau (même si la distribution n'a pas été
encore publiée), il serait sage de les consulter car elles peuvent fournir des
informations expliquant comment vous devriez procéder à la mise à niveau.

<p>Néanmoins, une fois les changements ci-dessus effectués, vous pouvez exécuter
<file>aptitude update</file> puis installer les paquets de votre choix.
Notez qu'installer un paquet d'une autre distribution peut déclencher la mise à
jour de la moitié de votre système. Si vous installez des paquets individuels,
vous finirez avec un système utilisant un mélange de plusieurs distributions.

<p>Dans certaines situations, il est mieux d'effectuer la mise à nouveau
complète vers la nouvelle distribution en exécutant <prgn>apt-get
dist-upgrade</prgn>, <prgn>aptitude safe-upgrade</prgn> ou <prgn>aptitude
full-upgrade</prgn>. Lisez les pages de manuel d'apt et d'aptitude pour plus
d'informations.

<sect1>J'utilise actuellement testing (&testingreleasename;). Que se
passera-t-il lors de la prochaine publication ? Utiliserai-je encore testing
ou ma machine utilisera la nouvelle distribution stable ?

<p>Cela dépend des entrées du fichier <file>/etc/apt/sources.list</file>.
Si vous utilisez actuellement testing, les entrées sont similaires soit à :

<example>
deb http://ftp.us.debian.org/debian/ testing main
</example>

soit à :

<example>
deb http://ftp.us.debian.org/debian/ &testingreleasename; main
</example>

<p>Si le troisième champ de <file>/etc/apt/sources.list</file> a pour valeur « testing », 
alors vous utiliserez testing même après la prochaine publication. Ainsi après
la publication de &testingreleasename;, vous utiliserez une nouvelle
distribution de Debian dotée d'un nouveau nom de code.  Les changements peuvent
ne pas être visibles au départ mais deviendront évidents dès que les nouveaux
paquets d'unstable atteindront la distribution testing.</p>

<p>En revanche, si le troisième champ contient « &testingreleasename; », alors
vous utiliserez la distribution stable (puisque &testingreleasename; sera alors
la nouvelle distribution stable).</p>

<sect1>Cela reste confus pour moi. Que devrais-je installer selon vous ?

<p>Si vous n'êtes pas certain, le meilleur pari est la distribution stable.</p>

<sect>Et à propos de Knoppix, Linex, Ubuntu, et des autres ?

<p>Ces distributions ne viennent pas du projet Debian ; elles sont <em>basées
sur Debian</em>. Bien qu'il y ait de nombreuses similarités et de points
communs, il existe également des différences cruciales.</p>

<p>Toutes ces distributions ont leurs propres avantages et sont appropriées à
certains utilisateurs spécifiques. Pour plus d'informations, consultez la page
du site Debian sur les <url id="http://www.debian.org/misc/children-distros"
name="distributions basées sur Debian">.

<sect1>Je sais que Knoppix/Linex/Ubuntu/... est basée sur Debian. Donc après
l'avoir installée sur disque dur, puis-je utiliser l'outil apt de gestion des
paquets ?

<p>Ces distributions sont basées sur Debian, mais elles ne sont pas Debian.
Il vous sera toujours possible d'utiliser l'outil apt de gestion des paquets en
pointant le fichier <file>/etc/apt/sources.list</file> vers les dépôts de ces
distributions. Mais dans ce cas vous n'utilisez pas Debian, mais une autre
distribution. Elles ne sont pas identiques.</p>

<p>Dans la plupart des situation si vous utilisez une distribution particulière,
vous devriez n'utiliser que celle-ci et non pas la mélanger avec des paquets
d'autres distributions. De nombreux dysfonctionnements apparaissent lorsque des
personnes essaient d'installer des paquets Debian alors qu'ils utilisent une
autre distribution. Le fait qu'elles utilisent le même format et nom (.deb) ne
les rend pas nécessairement compatibles.

<p>Par exemple, Knoppix est une distribution Linux conçue pour être bootée sur 
un live CD alors que Debian est conçue pour être installée sur disque dur. 
Knoppix est géniale si vous voulez connaître si un matériel particulier 
fonctionne, ou si vous voulez expérimenter comment est un système Linux, etc. 
Knoppix est bien pour une démonstration tandis que Debian est conçu pour 
fonctionner 24/7.  De plus, le nombre de paquets disponibles, le nombre 
d'architectures supportées par Debian sont de loin plus grands que ceux de 
Knoppix.</p>

<p>Si vous voulez utiliser Debian, le mieux est d'installer directement Debian
après l'avoir téléchargé. Même s'il est possible d'installer Debian en passant
par d'autres distributions, comme Knoppix, cette méthode nécessite de très bonnes
connaissances du système. Si vous lisez cette FAQ, nous supposons que Debian et
Knoppix sont nouveaux pour vous. Dans ce cas, économisez vous beaucoup de soucis
plus tard et installez Debian dès le départ.

<sect1>J'ai installé Knoppix/Linex/Ubuntu/... sur mon disque dur. Maintenant
j'ai un problème. Que devrais-je faire ? 

<p>Il vous est conseillé de ne pas utiliser les forums Debian (ni les listes
de diffusion ni IRC) pour demander de l'aide, car les gens qui pourraient vous
conseiller penseront que vous faites fonctionner un système Debian, et les
« correctifs » qu'ils fournissent pourraient ne pas convenir à votre système.
Ils pourraient même aggraver le problème auquel vous êtes confronté.

<p>Utilisez les forums de la distribution spécifique que vous utilisez en
premier. Si vous n'obtenez vraiment pas d'aide ou que l'aide fournie ne
corrige pas votre problème, vous pourriez vouloir essayer de demander sur les
forums Debian mais gardez à l'esprit les conseils du paragraphe précédent.

<sect1>J'utilise Knoppix/Linex/Ubuntu/... et maintenant je veux utiliser
Debian. Comment puis-je migrer ?

<p>Considérez le changement d'une distribution basée sur Debian vers
Debian juste comme un changement d'un système d'exploitation vers un autre.
Vous devriez effectuer une sauvegarde de toutes vos données et réinstaller le
système d'exploitation de zéro. Vous ne devriez pas tenter de « mettre à
jour » vers Debian en utilisant les outils de gestion de paquets, car vous
pourriez finir avec un système inutilisable.
<p>Si toutes vos données d'utilisateur (i.e. votre <file>/home</file>) sont
dans une partition séparée, migrer vers Debian est en effet assez simple ;
vous avez juste à dire au système d'installation de monter (mais de ne pas
reformater) cette partition lors de la réinstallation. Effectuer des
sauvegardes de vos données aussi bien que de la configuration de votre système
précédent (i.e. <file>/etc/</file> et, peut-être, <file>/var/</file>) est
toujours conseillé.
