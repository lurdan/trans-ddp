<!-- retain these comments for translator revision tracking -->
<!-- Original version: $Revision: 1.17 $ -->
<chapt id="kernel">Debian e il kernel

<sect id="non-debian-kernel">Si pu&ograve; installare e compilare un kernel senza alcun adattamento specifico per Debian?

<p>S&igrave;.

<p>C'&egrave; solo una trappola: le librerie C di Debian sono compilate con il pi&ugrave; recente
rilascio <em>stabile</em> degli header del <strong>kernel</strong>.
Se si ha bisogno di compilare un programma con gli header del kernel
pi&ugrave; nuovi rispetto a quelli nel ramo stabile allora si dovrebbe aggiornare
il pacchetto contenente gli header (<package/libc6-dev/) oppure usare i nuovi
header da un albero di directory del kernel pi&ugrave; recente. Cio&egrave;, se i sorgenti
del kernel sono in <file>/usr/src/linux</file>, si dovrebbe aggiungere
<tt>-I/usr/src/linux/include/</tt> alla propria riga di comando quando si compila.

<sect id="customkernel">Quali strumenti fornisce Debian per costruire kernel personalizzati?

<p>Gli utenti che desiderano (o devono) compilare un kernel personalizzato sono
incoraggiati a scaricare il pacchetto <package/kernel-package/. Questo pacchetto
contiene lo script per compilare un pacchetto kernel e fornisce la
possibilit&agrave; di creare un pacchetto
Debian <package>linux-image-<var>versione</var></package> semplicemente
eseguendo il comando <example>make-kpkg --initrd kernel_image</example>
nel livello pi&ugrave; alto della directory dei sorgenti del kernel.
L'aiuto &egrave; disponibile eseguendo il comando <example>make-kpkg --help</example>
e attraverso la pagina di manuale <manref name="make-kpkg" section="1">.

<p>Gli utenti devono scaricare separatamente il codice sorgente per il
kernel pi&ugrave; recente (o un kernel a propria scelta) dall'archivio del
proprio sito Linux preferito, a meno che non sia disponibile un
pacchetto <package>linux-source-<var>versione</var></package>
(dove <var>versione</var> rappresenta la versione del kernel).

<p>Istruzioni dettagliate sull'uso del pacchetto <package/kernel-package/
sono fornite nel file <file>/usr/share/doc/kernel-package/README.gz</file>.

<sect id="custombootdisk">Come posso creare un floppy di avvio personalizzato?

<p>Questo compito &egrave; molto semplificato dal pacchetto Debian <package/boot-floppies/,
che si trova normalmente nella sezione <tt>admin</tt> dell'archivio FTP Debian.
Gli script di shell in questo pacchetto producono floppy di avvio nel formato <tt>SYSLINUX</tt>.
Questi sono floppy formattati <tt>MS-DOS</tt> i cui master boot record sono stati alterati
cos&igrave; che possano avviare direttamente Linux (o qualsiasi altro sistema operativo
sia stato definito nel file <file>syslinux.cfg</file> sul floppy). Altri script in questo pacchetto
producono dischi di root di emergenza e possono anche riprodurre i dischi base.

<p>Maggiori informazioni su questo argomento si trovano nel file
<file>/usr/share/doc/boot-floppies/README</file> dopo aver installato il pacchetto
<package/boot-floppies/.

<sect id="modules">Quali strumenti speciali fornisce Debian per lavorare con i moduli?

<p>Il pacchetto <package/modconf/ di Debian fornisce uno script di shell
(<file>/usr/sbin/modconf</file>) che pu&ograve; essere usato per personalizzare
la configurazione dei moduli. Questo script presenta un'interfaccia basata su menu
che chiede all'utente dettagli sui driver di device caricabili nel suo sistema.
Le risposte sono usate per personalizzare il file <file>/etc/modules.conf</file> (che elenca
gli alias e altri argomenti che devono essere usati in congiunzione con i vari moduli)
attraverso i file in <file>/etc/modutils/</file> e <file>/etc/modules</file> (che elenca i
moduli che devono essere caricati all'avvio).

<p>Come i (nuovi) file <file>Configure.help</file> che sono ora
  disponibili per supportare la creazione di kernel personalizzati, il
  pacchetto <package>modconf</package> viene fornito con una serie
di file di aiuto (in <file>/usr/lib/modules_help/</file>) che forniscono
informazioni dettagliate sugli argomenti appropriati per ognuno dei moduli.

<sect id="removeoldkernel">Si pu&ograve; disinstallare in sicurezza un vecchio pacchetto kernel e,
  se s&igrave;, come?

<p>S&igrave;. Lo script <prgn>linux-image-<var>NNN</var>.prerm</prgn> verifica se il kernel
che si sta attualmente usando &egrave; lo stesso che si sta tentando di
disinstallare. Quindi si pu&ograve; rimuovere i pacchetti delle immagini del
kernel non desiderate usando questo comando:

<example>dpkg --purge linux-image-<var>NNN</var></example>

(ovviamente sostituire <var>NNN</var> con i propri versione e numero di revisione).
